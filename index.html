<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
    <meta name="description" content="CueMaster Suite - Professional billiards companion tools including break-speed analyzer, shot clock, and table-level gauge for practice and tournament play." />
    <meta property="og:title" content="CueMaster Suite - Professional Billiards Tools" />
    <meta property="og:description" content="Elevate your billiards game with break-speed analysis, precision shot timing, and table leveling tools." />
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAELklEQVR4AeycQW7bMBBFqaTbZNFzODdI7xI4xwqawzQ9QdNcowuny6JqJoCAwggtWeJwhpxnhJEticP5/z9oR10kPqEdAIDQ8acEAAAQ3IHg8nkCAEBwB4LL5wkAAMEdCCp/ks0TYHIi6BEAggY/yQaAyYmgRwAIGvwkGwAmJ4IeASBo8JNsAJicCHoEgGDBH8s1BeD1Pu0O+2G0HL/v0s2xKZF+mwEgoY/j8Gxt9t+L4Yf0Yt2H1fomAHg03GNPNaCoDsBhn25rCFuzxq+79GXNvJbnVAcgpeEpOf18uhi+OW1NrS0DANS0UHiFAwCwwrSepgBAT2me0JK7BAA5Z4KcB4AgQedkAkDOmSDnASBI0DmZAJBzJsh5AAgSdE4mAOScCXIeADoPek4eAMw51Pl1AOg84Dl5ADDnUOfXAaDzgOfkAcCcQ51fB4DOA56TBwBzDnV+HQA6DXipLABY6lSn9wFAp8EulQUAS53q9D4A6DTYpbIMABjDbb5YGobFfdUBuH5M3y2EsubHDlQHQNq4fhwHOTLsHTABQGQLBMPluJPvjHIOnFvJDABp9OohvQgInsbB+H0Fx+trv7/AFACBgHHaAe33FwDAaf/dXJUng0YzAKDhqlJNjfcXAIBSWBplNd5fAAAaSTVUEwAaCkujVQDQcNWg5tolAWCtc53MA4BOglwrAwDWOtfJPADoJMi1MgBgrXOdzAOAToJcKwMA1jrXyTwAaDzIre0DwFYHG58PAI0HuLV9ANjqYOPzAaDxALe2DwBbHWx8PgA0HuDW9gFgq4ONzweARgMs1TYAlHKy0ToA0GhwpdoGgFJONloHABoNrlTbAFDKyQp1/qTy71YAgArBlVris8K7FQCgVDrKdWQHtcYSAKDhasGawzDe/B9+wdLvpUwBeL1PO9n16mmI2Z7G1df08z0ppX9mAEjo4zg8K+mi7EIHTACQ8Bf2x23KDlQH4LBPt8qaKH+GA9UBSGl4SnzcOGAAgBvtNPLmAAC8mRD5DwAaSV+rTQDQcraRugDQSFBabQKAlrON1AWARoLSahMAtJxtpC4ANBKUVpsAoOVsI3UBwHlQ2u0BgLbDzusDgPOAtNsDAG2HndcHAOcBabcHANoOO68PAM4D0m4PALQddl4fAJwGVKstAKjltNN1AMBpMLXaAoBaTjtdBwCcBlOrLQMAyu9xL2WWxv77Ur1p1akOwLXCHvdS5mjsvy/Vm1ad6gCIENl9K0dPw2NPNfwxAUCEieHD5biT75ZDe//9udpq328GgAi9ekgvAoLl0N5/Lzo9D1MAPBsTpTcAiJJ0RicAZIyJchoAoiSd0QkAGWOinAaAKElndAJAxpjap63WAwAr552sCwBOgrBqAwCsnHeyLgA4CcKqDQCwct7JugDgJAirNgDAynkn6wKAcRDWy/8DAAD//xrxuTwAAAAGSURBVAMAGX3xENdKSOAAAAAASUVORK5CYII=" />
    <title>CueMaster Suite - Professional Billiards Tools</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:var(--font-sans),Inter,system-ui,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--font-mono),Roboto Mono,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}*{--tw-border-opacity: 1;border-color:hsl(var(--border) / var(--tw-border-opacity, 1))}body{--tw-bg-opacity: 1;background-color:hsl(var(--background) / var(--tw-bg-opacity, 1));font-family:var(--font-sans),Inter,system-ui,sans-serif;--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-12{bottom:-3rem}.-bottom-5{bottom:-1.25rem}.-left-10{left:-2.5rem}.-left-12{left:-3rem}.-right-1{right:-.25rem}.-right-10{right:-2.5rem}.-right-12{right:-3rem}.-top-1{top:-.25rem}.-top-12{top:-3rem}.-top-5{top:-1.25rem}.bottom-0{bottom:0}.left-0{left:0}.left-1{left:.25rem}.left-1\/2{left:50%}.left-2{left:.5rem}.left-\[50\%\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-3{right:.75rem}.right-4{right:1rem}.top-0{top:0}.top-1{top:.25rem}.top-1\.5{top:.375rem}.top-1\/2{top:50%}.top-14{top:3.5rem}.top-2{top:.5rem}.top-3\.5{top:.875rem}.top-4{top:1rem}.top-\[1px\]{top:1px}.top-\[50\%\]{top:50%}.top-\[60\%\]{top:60%}.top-full{top:100%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\[100\]{z-index:100}.z-\[1\]{z-index:1}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-3\.5{margin-left:.875rem;margin-right:.875rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.-mt-8{margin-top:-2rem}.mb-0\.5{margin-bottom:.125rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mt-0\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.aspect-video{aspect-ratio:16 / 9}.size-4{width:1rem;height:1rem}.h-1\.5{height:.375rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\.5{height:.625rem}.h-3{height:.75rem}.h-3\.5{height:.875rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\[100px\]{height:100px}.h-\[1px\]{height:1px}.h-\[var\(--radix-navigation-menu-viewport-height\)\]{height:var(--radix-navigation-menu-viewport-height)}.h-\[var\(--radix-select-trigger-height\)\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.h-svh{height:100svh}.max-h-48{max-height:12rem}.max-h-64{max-height:16rem}.max-h-\[--radix-context-menu-content-available-height\]{max-height:var(--radix-context-menu-content-available-height)}.max-h-\[--radix-select-content-available-height\]{max-height:var(--radix-select-content-available-height)}.max-h-\[300px\]{max-height:300px}.max-h-\[85vh\]{max-height:85vh}.max-h-\[var\(--radix-dropdown-menu-content-available-height\)\]{max-height:var(--radix-dropdown-menu-content-available-height)}.max-h-screen{max-height:100vh}.min-h-0{min-height:0px}.min-h-10{min-height:2.5rem}.min-h-8{min-height:2rem}.min-h-9{min-height:2.25rem}.min-h-\[200px\]{min-height:200px}.min-h-\[33vh\]{min-height:33vh}.min-h-\[80px\]{min-height:80px}.min-h-screen{min-height:100vh}.min-h-svh{min-height:100svh}.w-0{width:0px}.w-0\.5{width:.125rem}.w-1{width:.25rem}.w-1\/4{width:25%}.w-1\/5{width:20%}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\.5{width:.625rem}.w-2\/5{width:40%}.w-3{width:.75rem}.w-3\.5{width:.875rem}.w-3\/4{width:75%}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-9{width:2.25rem}.w-\[100px\]{width:100px}.w-\[1px\]{width:1px}.w-\[var\(--sidebar-width\)\]{width:var(--sidebar-width)}.w-auto{width:auto}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.min-w-0{min-width:0px}.min-w-10{min-width:2.5rem}.min-w-11{min-width:2.75rem}.min-w-5{min-width:1.25rem}.min-w-9{min-width:2.25rem}.min-w-\[100px\]{min-width:100px}.min-w-\[12rem\]{min-width:12rem}.min-w-\[8rem\]{min-width:8rem}.min-w-\[var\(--radix-select-trigger-width\)\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-7xl{max-width:80rem}.max-w-\[var\(--skeleton-width\)\]{max-width:var(--skeleton-width)}.max-w-lg{max-width:32rem}.max-w-max{max-width:-moz-max-content;max-width:max-content}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.flex-\[2\]{flex:2}.flex-shrink-0,.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.origin-\[--radix-context-menu-content-transform-origin\]{transform-origin:var(--radix-context-menu-content-transform-origin)}.origin-\[--radix-dropdown-menu-content-transform-origin\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\[--radix-hover-card-content-transform-origin\]{transform-origin:var(--radix-hover-card-content-transform-origin)}.origin-\[--radix-menubar-content-transform-origin\]{transform-origin:var(--radix-menubar-content-transform-origin)}.origin-\[--radix-popover-content-transform-origin\]{transform-origin:var(--radix-popover-content-transform-origin)}.origin-\[--radix-select-content-transform-origin\]{transform-origin:var(--radix-select-content-transform-origin)}.origin-\[--radix-tooltip-content-transform-origin\]{transform-origin:var(--radix-tooltip-content-transform-origin)}.-translate-x-1\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-px{--tw-translate-x: -1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\[-50\%\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-px{--tw-translate-x: 1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\[-50\%\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-move{cursor:move}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.list-inside{list-style-position:inside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-\[2px\]{border-radius:2px}.rounded-\[inherit\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5625rem}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.1875rem}.rounded-xl{border-radius:.75rem}.rounded-t-\[10px\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-tl-sm{border-top-left-radius:.1875rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-\[1\.5px\]{border-width:1.5px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0px}.border-l{border-left-width:1px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-none{border-style:none}.border-\[--color-border\]{border-color:var(--color-border)}.border-border{--tw-border-opacity: 1;border-color:hsl(var(--border) / var(--tw-border-opacity, 1))}.border-border\/50{border-color:hsl(var(--border) / .5)}.border-card-border{--tw-border-opacity: 1;border-color:hsl(var(--card-border) / var(--tw-border-opacity, 1))}.border-destructive{--tw-border-opacity: 1;border-color:hsl(var(--destructive) / var(--tw-border-opacity, 1))}.border-destructive-border{border-color:var(--destructive-border)}.border-destructive\/50{border-color:hsl(var(--destructive) / .5)}.border-foreground{--tw-border-opacity: 1;border-color:hsl(var(--foreground) / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-input{--tw-border-opacity: 1;border-color:hsl(var(--input) / var(--tw-border-opacity, 1))}.border-muted{--tw-border-opacity: 1;border-color:hsl(var(--muted) / var(--tw-border-opacity, 1))}.border-muted-foreground{--tw-border-opacity: 1;border-color:hsl(var(--muted-foreground) / var(--tw-border-opacity, 1))}.border-muted-foreground\/20{border-color:hsl(var(--muted-foreground) / .2)}.border-muted-foreground\/40{border-color:hsl(var(--muted-foreground) / .4)}.border-primary{--tw-border-opacity: 1;border-color:hsl(var(--primary) / var(--tw-border-opacity, 1))}.border-primary-border{border-color:var(--primary-border)}.border-primary\/20{border-color:hsl(var(--primary) / .2)}.border-primary\/30{border-color:hsl(var(--primary) / .3)}.border-primary\/40{border-color:hsl(var(--primary) / .4)}.border-secondary-border{border-color:var(--secondary-border)}.border-sidebar-border{--tw-border-opacity: 1;border-color:hsl(var(--sidebar-border) / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-white\/10{border-color:#ffffff1a}.border-yellow-500{--tw-border-opacity: 1;border-color:rgb(234 179 8 / var(--tw-border-opacity, 1))}.border-l-primary{--tw-border-opacity: 1;border-left-color:hsl(var(--primary) / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-\[\#8b4513\]{--tw-bg-opacity: 1;background-color:rgb(139 69 19 / var(--tw-bg-opacity, 1))}.bg-\[--color-bg\]{background-color:var(--color-bg)}.bg-accent{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.bg-amber-400{--tw-bg-opacity: 1;background-color:rgb(251 191 36 / var(--tw-bg-opacity, 1))}.bg-amber-500{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-background{--tw-bg-opacity: 1;background-color:hsl(var(--background) / var(--tw-bg-opacity, 1))}.bg-background\/80{background-color:hsl(var(--background) / .8)}.bg-background\/90{background-color:hsl(var(--background) / .9)}.bg-background\/95{background-color:hsl(var(--background) / .95)}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\/30{background-color:#0000004d}.bg-black\/40{background-color:#0006}.bg-black\/50{background-color:#00000080}.bg-black\/80{background-color:#000c}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-border{--tw-bg-opacity: 1;background-color:hsl(var(--border) / var(--tw-bg-opacity, 1))}.bg-card{--tw-bg-opacity: 1;background-color:hsl(var(--card) / var(--tw-bg-opacity, 1))}.bg-destructive{--tw-bg-opacity: 1;background-color:hsl(var(--destructive) / var(--tw-bg-opacity, 1))}.bg-destructive\/10{background-color:hsl(var(--destructive) / .1)}.bg-destructive\/20{background-color:hsl(var(--destructive) / .2)}.bg-foreground{--tw-bg-opacity: 1;background-color:hsl(var(--foreground) / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-muted{--tw-bg-opacity: 1;background-color:hsl(var(--muted) / var(--tw-bg-opacity, 1))}.bg-muted\/20{background-color:hsl(var(--muted) / .2)}.bg-muted\/30{background-color:hsl(var(--muted) / .3)}.bg-muted\/50{background-color:hsl(var(--muted) / .5)}.bg-neutral-800\/50{background-color:#26262680}.bg-popover{--tw-bg-opacity: 1;background-color:hsl(var(--popover) / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity: 1;background-color:hsl(var(--primary) / var(--tw-bg-opacity, 1))}.bg-primary\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\/20{background-color:hsl(var(--primary) / .2)}.bg-primary\/5{background-color:hsl(var(--primary) / .05)}.bg-secondary{--tw-bg-opacity: 1;background-color:hsl(var(--secondary) / var(--tw-bg-opacity, 1))}.bg-sidebar{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar) / var(--tw-bg-opacity, 1))}.bg-sidebar-border{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-border) / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-amber-500{--tw-gradient-from: #f59e0b var(--tw-gradient-from-position);--tw-gradient-to: rgb(245 158 11 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-background{--tw-gradient-from: hsl(var(--background) / 1) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--background) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-400{--tw-gradient-from: #4ade80 var(--tw-gradient-from-position);--tw-gradient-to: rgb(74 222 128 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500{--tw-gradient-from: #22c55e var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-500{--tw-gradient-from: #f97316 var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary\/10{--tw-gradient-from: hsl(var(--primary) / .1) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary\/20{--tw-gradient-from: hsl(var(--primary) / .2) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-600{--tw-gradient-from: #dc2626 var(--tw-gradient-from-position);--tw-gradient-to: rgb(220 38 38 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-500{--tw-gradient-from: #eab308 var(--tw-gradient-from-position);--tw-gradient-to: rgb(234 179 8 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-primary\/5{--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), hsl(var(--primary) / .05) var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-yellow-500{--tw-gradient-to: rgb(234 179 8 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #eab308 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-green-600{--tw-gradient-to: #16a34a var(--tw-gradient-to-position)}.to-green-700{--tw-gradient-to: #15803d var(--tw-gradient-to-position)}.to-muted{--tw-gradient-to: hsl(var(--muted) / 1) var(--tw-gradient-to-position)}.to-orange-600{--tw-gradient-to: #ea580c var(--tw-gradient-to-position)}.to-primary\/5{--tw-gradient-to: hsl(var(--primary) / .05) var(--tw-gradient-to-position)}.to-red-500{--tw-gradient-to: #ef4444 var(--tw-gradient-to-position)}.to-red-800{--tw-gradient-to: #991b1b var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.to-yellow-400{--tw-gradient-to: #facc15 var(--tw-gradient-to-position)}.to-yellow-600{--tw-gradient-to: #ca8a04 var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-\[1px\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pl-2\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-2{padding-right:.5rem}.pr-2\.5{padding-right:.625rem}.pr-3{padding-right:.75rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:var(--font-mono),Roboto Mono,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-\[0\.8rem\]{font-size:.8rem}.text-\[12rem\]{font-size:12rem}.text-\[clamp\(1\.25rem\,4vw\,2rem\)\]{font-size:clamp(1.25rem,4vw,2rem)}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-black{font-weight:900}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-none{line-height:1}.tracking-\[0\.5em\]{letter-spacing:.5em}.tracking-tight{letter-spacing:-.025em}.tracking-wide{letter-spacing:.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-card-foreground{--tw-text-opacity: 1;color:hsl(var(--card-foreground) / var(--tw-text-opacity, 1))}.text-current{color:currentColor}.text-destructive{--tw-text-opacity: 1;color:hsl(var(--destructive) / var(--tw-text-opacity, 1))}.text-destructive-foreground{--tw-text-opacity: 1;color:hsl(var(--destructive-foreground) / var(--tw-text-opacity, 1))}.text-foreground{--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1))}.text-foreground\/50{color:hsl(var(--foreground) / .5)}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-muted-foreground{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.text-muted-foreground\/50{color:hsl(var(--muted-foreground) / .5)}.text-muted-foreground\/60{color:hsl(var(--muted-foreground) / .6)}.text-muted-foreground\/70{color:hsl(var(--muted-foreground) / .7)}.text-neutral-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-neutral-900{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-popover-foreground{--tw-text-opacity: 1;color:hsl(var(--popover-foreground) / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity: 1;color:hsl(var(--primary) / var(--tw-text-opacity, 1))}.text-primary-foreground{--tw-text-opacity: 1;color:hsl(var(--primary-foreground) / var(--tw-text-opacity, 1))}.text-primary\/70{color:hsl(var(--primary) / .7)}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-secondary-foreground{--tw-text-opacity: 1;color:hsl(var(--secondary-foreground) / var(--tw-text-opacity, 1))}.text-sidebar-foreground{--tw-text-opacity: 1;color:hsl(var(--sidebar-foreground) / var(--tw-text-opacity, 1))}.text-sidebar-foreground\/70{color:hsl(var(--sidebar-foreground) / .7)}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/50{color:#ffffff80}.text-white\/70{color:#ffffffb3}.text-white\/80{color:#fffc}.text-white\/90{color:#ffffffe6}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.decoration-dotted{text-decoration-style:dotted}.underline-offset-2{text-underline-offset:2px}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-30{opacity:.3}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-90{opacity:.9}.shadow-\[0_0_0_1px_hsl\(var\(--sidebar-border\)\)\]{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-border));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-2{outline-width:2px}.outline-offset-2{outline-offset:2px}.outline-transparent{outline-color:transparent}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-foreground{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--foreground) / var(--tw-ring-opacity, 1))}.ring-ring{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--ring) / var(--tw-ring-opacity, 1))}.ring-sidebar-ring{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--sidebar-ring) / var(--tw-ring-opacity, 1))}.ring-offset-2{--tw-ring-offset-width: 2px}.ring-offset-background{--tw-ring-offset-color: hsl(var(--background) / 1)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-sm{--tw-blur: blur(4px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\[left\,right\,width\]{transition-property:left,right,width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\[margin\,opacity\]{transition-property:margin,opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\[width\,height\,padding\]{transition-property:width,height,padding;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\[width\]{transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-100{transition-duration:.1s}.duration-1000{transition-duration:1s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{transition-timing-function:linear}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-0{--tw-enter-opacity: 0}.fade-in-80{--tw-enter-opacity: .8}.zoom-in-95{--tw-enter-scale: .95}.duration-100{animation-duration:.1s}.duration-1000{animation-duration:1s}.duration-150{animation-duration:.15s}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.duration-500{animation-duration:.5s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{animation-timing-function:linear}.paused{animation-play-state:paused}input[type=search]::-webkit-search-cancel-button{display:none}[contenteditable][data-placeholder]:empty:before{content:attr(data-placeholder);color:hsl(var(--muted-foreground));pointer-events:none}.border.toggle-elevate:before{top:-1px;right:-1px;bottom:-1px;left:-1px}.hover-elevate:not(.no-default-hover-elevate),.active-elevate:not(.no-default-active-elevate),.hover-elevate-2:not(.no-default-hover-elevate),.active-elevate-2:not(.no-default-active-elevate){position:relative;z-index:0}.hover-elevate:not(.no-default-hover-elevate):after,.active-elevate:not(.no-default-active-elevate):after,.hover-elevate-2:not(.no-default-hover-elevate):after,.active-elevate-2:not(.no-default-active-elevate):after{content:"";pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:inherit;z-index:999}.hover-elevate:hover:not(.no-default-hover-elevate):after,.active-elevate:active:not(.no-default-active-elevate):after{background-color:var(--elevate-1)}.hover-elevate-2:hover:not(.no-default-hover-elevate):after,.active-elevate-2:active:not(.no-default-active-elevate):after{background-color:var(--elevate-2)}.border.hover-elevate:not(.no-hover-interaction-elevate):after,.border.active-elevate:not(.no-active-interaction-elevate):after,.border.hover-elevate-2:not(.no-hover-interaction-elevate):after,.border.active-elevate-2:not(.no-active-interaction-elevate):after{top:-1px;right:-1px;bottom:-1px;left:-1px}.\[border-color\:var\(--badge-outline\)\]{border-color:var(--badge-outline)}.\[border-color\:var\(--button-outline\)\]{border-color:var(--button-outline)}:root{--button-outline: rgba(0,0,0, .1);--badge-outline: rgba(0,0,0, .05);--opaque-button-border-intensity: -8;--elevate-1: rgba(0,0,0, .03);--elevate-2: rgba(0,0,0, .08);--background: 0 0% 100%;--foreground: 0 0% 9%;--border: 0 0% 91%;--card: 0 0% 98%;--card-foreground: 0 0% 9%;--card-border: 0 0% 94%;--sidebar: 0 0% 96%;--sidebar-foreground: 0 0% 9%;--sidebar-border: 0 0% 92%;--sidebar-primary: 0 84% 42%;--sidebar-primary-foreground: 0 0% 98%;--sidebar-accent: 0 5% 90%;--sidebar-accent-foreground: 0 0% 15%;--sidebar-ring: 0 84% 42%;--popover: 0 0% 94%;--popover-foreground: 0 0% 12%;--popover-border: 0 0% 88%;--primary: 0 84% 42%;--primary-foreground: 0 0% 98%;--secondary: 0 4% 88%;--secondary-foreground: 0 0% 15%;--muted: 0 5% 90%;--muted-foreground: 0 0% 35%;--accent: 0 6% 92%;--accent-foreground: 0 0% 15%;--destructive: 0 84% 35%;--destructive-foreground: 0 0% 98%;--input: 0 0% 75%;--ring: 0 84% 42%;--chart-1: 203 89% 35%;--chart-2: 0 84% 35%;--chart-3: 25 95% 35%;--chart-4: 283 75% 35%;--chart-5: 140 70% 28%;--font-sans: Inter, system-ui, sans-serif;--font-serif: Georgia, serif;--font-mono: Roboto Mono, monospace;--radius: .5rem;--shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0);--shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0);--shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 1px 2px -1px hsl(0 0% 0% / 0);--shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 1px 2px -1px hsl(0 0% 0% / 0);--shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 2px 4px -1px hsl(0 0% 0% / 0);--shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 4px 6px -1px hsl(0 0% 0% / 0);--shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 8px 10px -1px hsl(0 0% 0% / 0);--shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0);--tracking-normal: 0em;--spacing: .25rem;--sidebar-primary-border: hsl(var(--sidebar-primary));--sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--sidebar-accent-border: hsl(var(--sidebar-accent));--sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--primary-border: hsl(var(--primary));--primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--secondary-border: hsl(var(--secondary));--secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--muted-border: hsl(var(--muted));--muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--accent-border: hsl(var(--accent));--accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--destructive-border: hsl(var(--destructive));--destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha)}.dark{--button-outline: rgba(255,255,255, .1);--badge-outline: rgba(255,255,255, .05);--opaque-button-border-intensity: 9;--elevate-1: rgba(255,255,255, .04);--elevate-2: rgba(255,255,255, .09);--background: 0 0% 6%;--foreground: 0 0% 95%;--border: 0 0% 16%;--card: 0 0% 8%;--card-foreground: 0 0% 95%;--card-border: 0 0% 12%;--sidebar: 0 0% 10%;--sidebar-foreground: 0 0% 95%;--sidebar-border: 0 0% 14%;--sidebar-primary: 0 84% 45%;--sidebar-primary-foreground: 0 0% 98%;--sidebar-accent: 0 5% 15%;--sidebar-accent-foreground: 0 0% 90%;--sidebar-ring: 0 84% 45%;--popover: 0 0% 12%;--popover-foreground: 0 0% 92%;--popover-border: 0 0% 16%;--primary: 0 84% 42%;--primary-foreground: 0 0% 98%;--secondary: 0 4% 16%;--secondary-foreground: 0 0% 90%;--muted: 0 5% 14%;--muted-foreground: 0 0% 65%;--accent: 0 6% 13%;--accent-foreground: 0 0% 90%;--destructive: 0 84% 35%;--destructive-foreground: 0 0% 98%;--input: 0 0% 30%;--ring: 0 84% 45%;--chart-1: 203 89% 65%;--chart-2: 0 84% 65%;--chart-3: 25 95% 65%;--chart-4: 283 75% 65%;--chart-5: 140 70% 60%;--shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0);--shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0);--shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 1px 2px -1px hsl(0 0% 0% / 0);--shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 1px 2px -1px hsl(0 0% 0% / 0);--shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 2px 4px -1px hsl(0 0% 0% / 0);--shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 4px 6px -1px hsl(0 0% 0% / 0);--shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0), 0px 8px 10px -1px hsl(0 0% 0% / 0);--shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0);--sidebar-primary-border: hsl(var(--sidebar-primary));--sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--sidebar-accent-border: hsl(var(--sidebar-accent));--sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--primary-border: hsl(var(--primary));--primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--secondary-border: hsl(var(--secondary));--secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--muted-border: hsl(var(--muted));--muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--accent-border: hsl(var(--accent));--accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);--destructive-border: hsl(var(--destructive));--destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha)}.file\:border-0::file-selector-button{border-width:0px}.file\:bg-transparent::file-selector-button{background-color:transparent}.file\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\:font-medium::file-selector-button{font-weight:500}.file\:text-foreground::file-selector-button{--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1))}.placeholder\:text-muted-foreground::-moz-placeholder{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.placeholder\:text-muted-foreground::placeholder{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.after\:pointer-events-none:after{content:var(--tw-content);pointer-events:none}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:-inset-2:after{content:var(--tw-content);top:-.5rem;right:-.5rem;bottom:-.5rem;left:-.5rem}.after\:inset-0:after{content:var(--tw-content);top:0;right:0;bottom:0;left:0}.after\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\:left-1\/2:after{content:var(--tw-content);left:50%}.after\:block:after{content:var(--tw-content);display:block}.after\:w-1:after{content:var(--tw-content);width:.25rem}.after\:w-\[2px\]:after{content:var(--tw-content);width:2px}.after\:-translate-x-1\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\:rounded-full:after{content:var(--tw-content);border-radius:9999px}.after\:border:after{content:var(--tw-content);border-width:1px}.after\:border-black\/10:after{content:var(--tw-content);border-color:#0000001a}.after\:content-\[\'\'\]:after{--tw-content: "";content:var(--tw-content)}.after\:border.toggle-elevate:after:before{content:var(--tw-content);top:-1px;right:-1px;bottom:-1px;left:-1px}.after\:border.hover-elevate:not(.no-hover-interaction-elevate):after:after,.after\:border.active-elevate:not(.no-active-interaction-elevate):after:after,.after\:border.hover-elevate-2:not(.no-hover-interaction-elevate):after:after,.after\:border.active-elevate-2:not(.no-active-interaction-elevate):after:after{content:var(--tw-content);top:-1px;right:-1px;bottom:-1px;left:-1px}.first\:rounded-l-md:first-child{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.first\:border-l:first-child{border-left-width:1px}.last\:rounded-r-md:last-child{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.focus-within\:relative:focus-within{position:relative}.focus-within\:z-20:focus-within{z-index:20}.hover\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-accent:hover{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.hover\:bg-amber-500\/90:hover{background-color:#f59e0be6}.hover\:bg-black\/50:hover{background-color:#00000080}.hover\:bg-black\/60:hover{background-color:#0009}.hover\:bg-destructive\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\:bg-muted:hover{--tw-bg-opacity: 1;background-color:hsl(var(--muted) / var(--tw-bg-opacity, 1))}.hover\:bg-muted-foreground\/30:hover{background-color:hsl(var(--muted-foreground) / .3)}.hover\:bg-muted\/50:hover{background-color:hsl(var(--muted) / .5)}.hover\:bg-muted\/80:hover{background-color:hsl(var(--muted) / .8)}.hover\:bg-primary:hover{--tw-bg-opacity: 1;background-color:hsl(var(--primary) / var(--tw-bg-opacity, 1))}.hover\:bg-primary\/20:hover{background-color:hsl(var(--primary) / .2)}.hover\:bg-primary\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\:bg-secondary:hover{--tw-bg-opacity: 1;background-color:hsl(var(--secondary) / var(--tw-bg-opacity, 1))}.hover\:bg-sidebar-accent:hover{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-accent) / var(--tw-bg-opacity, 1))}.hover\:text-accent-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.hover\:text-destructive:hover{--tw-text-opacity: 1;color:hsl(var(--destructive) / var(--tw-text-opacity, 1))}.hover\:text-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1))}.hover\:text-muted-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.hover\:text-neutral-200:hover{--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity, 1))}.hover\:text-primary:hover{--tw-text-opacity: 1;color:hsl(var(--primary) / var(--tw-text-opacity, 1))}.hover\:text-primary-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--primary-foreground) / var(--tw-text-opacity, 1))}.hover\:text-primary\/80:hover{color:hsl(var(--primary) / .8)}.hover\:text-sidebar-accent-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.hover\:underline:hover{text-decoration-line:underline}.hover\:no-underline:hover{text-decoration-line:none}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-\[0_0_0_1px_hsl\(var\(--sidebar-accent\)\)\]:hover{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-accent));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:after\:bg-sidebar-border:hover:after{content:var(--tw-content);--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-border) / var(--tw-bg-opacity, 1))}.focus\:bg-accent:focus{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.focus\:bg-primary:focus{--tw-bg-opacity: 1;background-color:hsl(var(--primary) / var(--tw-bg-opacity, 1))}.focus\:text-accent-foreground:focus{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.focus\:text-primary-foreground:focus{--tw-text-opacity: 1;color:hsl(var(--primary-foreground) / var(--tw-text-opacity, 1))}.focus\:opacity-100:focus{opacity:1}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-ring:focus{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--ring) / var(--tw-ring-opacity, 1))}.focus\:ring-white\/30:focus{--tw-ring-color: rgb(255 255 255 / .3)}.focus\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\:ring-ring:focus-visible{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--ring) / var(--tw-ring-opacity, 1))}.focus-visible\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\:ring-offset-background:focus-visible{--tw-ring-offset-color: hsl(var(--background) / 1)}.active\:bg-amber-500\/80:active{background-color:#f59e0bcc}.active\:bg-black\/70:active{background-color:#000000b3}.active\:bg-destructive\/80:active{background-color:hsl(var(--destructive) / .8)}.active\:bg-primary\/80:active{background-color:hsl(var(--primary) / .8)}.active\:bg-sidebar-accent:active{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-accent) / var(--tw-bg-opacity, 1))}.active\:text-sidebar-accent-foreground:active{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.active\:opacity-90:active{opacity:.9}.active\:shadow-none:active{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-40:disabled{opacity:.4}.disabled\:opacity-50:disabled{opacity:.5}.group\/menu-item:focus-within .group-focus-within\/menu-item\:opacity-100{opacity:1}.group\/menu-item:hover .group-hover\/menu-item\:opacity-100,.group:hover .group-hover\:opacity-100{opacity:1}.group.destructive .group-\[\.destructive\]\:border-muted\/40{border-color:hsl(var(--muted) / .4)}.group.destructive .group-\[\.destructive\]\:text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.group.destructive .group-\[\.destructive\]\:hover\:border-destructive\/30:hover{border-color:hsl(var(--destructive) / .3)}.group.destructive .group-\[\.destructive\]\:hover\:bg-destructive:hover{--tw-bg-opacity: 1;background-color:hsl(var(--destructive) / var(--tw-bg-opacity, 1))}.group.destructive .group-\[\.destructive\]\:hover\:text-destructive-foreground:hover{--tw-text-opacity: 1;color:hsl(var(--destructive-foreground) / var(--tw-text-opacity, 1))}.group.destructive .group-\[\.destructive\]\:hover\:text-red-50:hover{--tw-text-opacity: 1;color:rgb(254 242 242 / var(--tw-text-opacity, 1))}.group.destructive .group-\[\.destructive\]\:focus\:ring-destructive:focus{--tw-ring-opacity: 1;--tw-ring-color: hsl(var(--destructive) / var(--tw-ring-opacity, 1))}.group.destructive .group-\[\.destructive\]\:focus\:ring-red-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity, 1))}.group.destructive .group-\[\.destructive\]\:focus\:ring-offset-red-600:focus{--tw-ring-offset-color: #dc2626}.peer\/menu-button:hover~.peer-hover\/menu-button\:text-sidebar-accent-foreground{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.peer:disabled~.peer-disabled\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\:opacity-70{opacity:.7}.has-\[\:disabled\]\:opacity-50:has(:disabled){opacity:.5}.aria-disabled\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\:opacity-50[aria-disabled=true]{opacity:.5}.aria-selected\:bg-accent[aria-selected=true]{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.aria-selected\:bg-accent\/50[aria-selected=true]{background-color:hsl(var(--accent) / .5)}.aria-selected\:text-accent-foreground[aria-selected=true]{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.aria-selected\:text-muted-foreground[aria-selected=true]{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.aria-selected\:opacity-100[aria-selected=true]{opacity:1}.data-\[disabled\=true\]\:pointer-events-none[data-disabled=true],.data-\[disabled\]\:pointer-events-none[data-disabled]{pointer-events:none}.data-\[panel-group-direction\=vertical\]\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\[panel-group-direction\=vertical\]\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\[side\=bottom\]\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=left\]\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=right\]\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=top\]\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=checked\]\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=unchecked\]\:translate-x-0[data-state=unchecked],.data-\[swipe\=cancel\]\:translate-x-0[data-swipe=cancel]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[swipe\=end\]\:translate-x-\[var\(--radix-toast-swipe-end-x\)\][data-swipe=end]{--tw-translate-x: var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[swipe\=move\]\:translate-x-\[var\(--radix-toast-swipe-move-x\)\][data-swipe=move]{--tw-translate-x: var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\[state\=closed\]\:animate-accordion-up[data-state=closed]{animation:accordion-up .2s ease-out}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\[state\=open\]\:animate-accordion-down[data-state=open]{animation:accordion-down .2s ease-out}.data-\[panel-group-direction\=vertical\]\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\[active\=true\]\:bg-sidebar-accent[data-active=true]{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-accent) / var(--tw-bg-opacity, 1))}.data-\[selected\=\'true\'\]\:bg-accent[data-selected=true]{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.data-\[state\=active\]\:bg-background[data-state=active]{--tw-bg-opacity: 1;background-color:hsl(var(--background) / var(--tw-bg-opacity, 1))}.data-\[state\=checked\]\:bg-primary[data-state=checked]{--tw-bg-opacity: 1;background-color:hsl(var(--primary) / var(--tw-bg-opacity, 1))}.data-\[state\=on\]\:bg-accent[data-state=on],.data-\[state\=open\]\:bg-accent[data-state=open]{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.data-\[state\=open\]\:bg-accent\/50[data-state=open]{background-color:hsl(var(--accent) / .5)}.data-\[state\=open\]\:bg-secondary[data-state=open]{--tw-bg-opacity: 1;background-color:hsl(var(--secondary) / var(--tw-bg-opacity, 1))}.data-\[state\=selected\]\:bg-muted[data-state=selected]{--tw-bg-opacity: 1;background-color:hsl(var(--muted) / var(--tw-bg-opacity, 1))}.data-\[state\=unchecked\]\:bg-input[data-state=unchecked]{--tw-bg-opacity: 1;background-color:hsl(var(--input) / var(--tw-bg-opacity, 1))}.data-\[active\=true\]\:font-medium[data-active=true]{font-weight:500}.data-\[active\=true\]\:text-sidebar-accent-foreground[data-active=true]{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.data-\[placeholder\]\:text-muted-foreground[data-placeholder]{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.data-\[selected\=true\]\:text-accent-foreground[data-selected=true]{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.data-\[state\=active\]\:text-foreground[data-state=active]{--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1))}.data-\[state\=checked\]\:text-primary-foreground[data-state=checked]{--tw-text-opacity: 1;color:hsl(var(--primary-foreground) / var(--tw-text-opacity, 1))}.data-\[state\=on\]\:text-accent-foreground[data-state=on],.data-\[state\=open\]\:text-accent-foreground[data-state=open]{--tw-text-opacity: 1;color:hsl(var(--accent-foreground) / var(--tw-text-opacity, 1))}.data-\[state\=open\]\:text-muted-foreground[data-state=open]{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.data-\[disabled\=true\]\:opacity-50[data-disabled=true],.data-\[disabled\]\:opacity-50[data-disabled]{opacity:.5}.data-\[state\=open\]\:opacity-100[data-state=open]{opacity:1}.data-\[state\=active\]\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\[swipe\=move\]\:transition-none[data-swipe=move]{transition-property:none}.data-\[state\=closed\]\:duration-300[data-state=closed]{transition-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{transition-duration:.5s}.data-\[motion\^\=from-\]\:animate-in[data-motion^=from-],.data-\[state\=open\]\:animate-in[data-state=open],.data-\[state\=visible\]\:animate-in[data-state=visible]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\[motion\^\=to-\]\:animate-out[data-motion^=to-],.data-\[state\=closed\]\:animate-out[data-state=closed],.data-\[state\=hidden\]\:animate-out[data-state=hidden],.data-\[swipe\=end\]\:animate-out[data-swipe=end]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\[motion\^\=from-\]\:fade-in[data-motion^=from-]{--tw-enter-opacity: 0}.data-\[motion\^\=to-\]\:fade-out[data-motion^=to-],.data-\[state\=closed\]\:fade-out-0[data-state=closed]{--tw-exit-opacity: 0}.data-\[state\=closed\]\:fade-out-80[data-state=closed]{--tw-exit-opacity: .8}.data-\[state\=hidden\]\:fade-out[data-state=hidden]{--tw-exit-opacity: 0}.data-\[state\=open\]\:fade-in-0[data-state=open],.data-\[state\=visible\]\:fade-in[data-state=visible]{--tw-enter-opacity: 0}.data-\[state\=closed\]\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\[state\=open\]\:zoom-in-90[data-state=open]{--tw-enter-scale: .9}.data-\[state\=open\]\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\[motion\=from-end\]\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x: 13rem}.data-\[motion\=from-start\]\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x: -13rem}.data-\[motion\=to-end\]\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x: 13rem}.data-\[motion\=to-start\]\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x: -13rem}.data-\[side\=bottom\]\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\[side\=left\]\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\[side\=right\]\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\[side\=top\]\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\[state\=closed\]\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y: 100%}.data-\[state\=closed\]\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x: -100%}.data-\[state\=closed\]\:slide-out-to-left-1\/2[data-state=closed]{--tw-exit-translate-x: -50%}.data-\[state\=closed\]\:slide-out-to-right[data-state=closed],.data-\[state\=closed\]\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x: 100%}.data-\[state\=closed\]\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y: -100%}.data-\[state\=closed\]\:slide-out-to-top-\[48\%\][data-state=closed]{--tw-exit-translate-y: -48%}.data-\[state\=open\]\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y: 100%}.data-\[state\=open\]\:slide-in-from-left[data-state=open]{--tw-enter-translate-x: -100%}.data-\[state\=open\]\:slide-in-from-left-1\/2[data-state=open]{--tw-enter-translate-x: -50%}.data-\[state\=open\]\:slide-in-from-right[data-state=open]{--tw-enter-translate-x: 100%}.data-\[state\=open\]\:slide-in-from-top[data-state=open]{--tw-enter-translate-y: -100%}.data-\[state\=open\]\:slide-in-from-top-\[48\%\][data-state=open]{--tw-enter-translate-y: -48%}.data-\[state\=open\]\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y: -100%}.data-\[state\=closed\]\:duration-300[data-state=closed]{animation-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{animation-duration:.5s}.data-\[panel-group-direction\=vertical\]\:after\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\[panel-group-direction\=vertical\]\:after\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\[panel-group-direction\=vertical\]\:after\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\[panel-group-direction\=vertical\]\:after\:-translate-y-1\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[panel-group-direction\=vertical\]\:after\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=open\]\:hover\:bg-accent:hover[data-state=open]{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.data-\[state\=open\]\:hover\:bg-sidebar-accent:hover[data-state=open]{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar-accent) / var(--tw-bg-opacity, 1))}.data-\[state\=open\]\:hover\:text-sidebar-accent-foreground:hover[data-state=open]{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.data-\[state\=open\]\:focus\:bg-accent:focus[data-state=open]{--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.group[data-collapsible=offcanvas] .group-data-\[collapsible\=offcanvas\]\:left-\[calc\(var\(--sidebar-width\)\*-1\)\]{left:calc(var(--sidebar-width) * -1)}.group[data-collapsible=offcanvas] .group-data-\[collapsible\=offcanvas\]\:right-\[calc\(var\(--sidebar-width\)\*-1\)\]{right:calc(var(--sidebar-width) * -1)}.group[data-side=left] .group-data-\[side\=left\]\:-right-4{right:-1rem}.group[data-side=right] .group-data-\[side\=right\]\:left-0{left:0}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:-mt-8{margin-top:-2rem}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:hidden{display:none}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+var\(--spacing-4\)\)\]{width:calc(var(--sidebar-width-icon) + var(--spacing-4))}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+var\(--spacing-4\)\+2px\)\]{width:calc(var(--sidebar-width-icon) + var(--spacing-4) + 2px)}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:w-\[var\(--sidebar-width-icon\)\]{width:var(--sidebar-width-icon)}.group[data-collapsible=offcanvas] .group-data-\[collapsible\=offcanvas\]\:w-0{width:0px}.group[data-collapsible=offcanvas] .group-data-\[collapsible\=offcanvas\]\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-side=right] .group-data-\[side\=right\]\:rotate-180,.group[data-state=open] .group-data-\[state\=open\]\:rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:overflow-hidden{overflow:hidden}.group[data-variant=floating] .group-data-\[variant\=floating\]\:rounded-lg{border-radius:.5625rem}.group[data-variant=floating] .group-data-\[variant\=floating\]\:border{border-width:1px}.group[data-side=left] .group-data-\[side\=left\]\:border-r{border-right-width:1px}.group[data-side=right] .group-data-\[side\=right\]\:border-l{border-left-width:1px}.group[data-variant=floating] .group-data-\[variant\=floating\]\:border-sidebar-border{--tw-border-opacity: 1;border-color:hsl(var(--sidebar-border) / var(--tw-border-opacity, 1))}.group[data-collapsible=icon] .group-data-\[collapsible\=icon\]\:opacity-0{opacity:0}.group[data-variant=floating] .group-data-\[variant\=floating\]\:shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group[data-variant=floating] .group-data-\[variant\=floating\]\:border.toggle-elevate:before{top:-1px;right:-1px;bottom:-1px;left:-1px}.group[data-variant=floating] .group-data-\[variant\=floating\]\:border.hover-elevate:not(.no-hover-interaction-elevate):after,.group[data-variant=floating] .group-data-\[variant\=floating\]\:border.active-elevate:not(.no-active-interaction-elevate):after,.group[data-variant=floating] .group-data-\[variant\=floating\]\:border.hover-elevate-2:not(.no-hover-interaction-elevate):after,.group[data-variant=floating] .group-data-\[variant\=floating\]\:border.active-elevate-2:not(.no-active-interaction-elevate):after{top:-1px;right:-1px;bottom:-1px;left:-1px}.group[data-collapsible=offcanvas] .group-data-\[collapsible\=offcanvas\]\:after\:left-full:after{content:var(--tw-content);left:100%}.group[data-collapsible=offcanvas] .hover\:group-data-\[collapsible\=offcanvas\]\:bg-sidebar:hover{--tw-bg-opacity: 1;background-color:hsl(var(--sidebar) / var(--tw-bg-opacity, 1))}.peer\/menu-button[data-size=default]~.peer-data-\[size\=default\]\/menu-button\:top-1\.5{top:.375rem}.peer\/menu-button[data-size=lg]~.peer-data-\[size\=lg\]\/menu-button\:top-2\.5{top:.625rem}.peer\/menu-button[data-size=sm]~.peer-data-\[size\=sm\]\/menu-button\:top-1{top:.25rem}.peer\/menu-button[data-active=true]~.peer-data-\[active\=true\]\/menu-button\:text-sidebar-accent-foreground{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.dark\:border-destructive:is(.dark *){--tw-border-opacity: 1;border-color:hsl(var(--destructive) / var(--tw-border-opacity, 1))}.dark\:bg-\[\#6d3710\]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(109 55 16 / var(--tw-bg-opacity, 1))}.dark\:fill-\[\#0a4d2a\]:is(.dark *){fill:#0a4d2a}.dark\:fill-\[\#6d3710\]:is(.dark *){fill:#6d3710}.dark\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\:after\:border-white\/10:is(.dark *):after{content:var(--tw-content);border-color:#ffffff1a}@media (min-width: 640px){.sm\:bottom-0{bottom:0}.sm\:right-0{right:0}.sm\:top-auto{top:auto}.sm\:mt-0{margin-top:0}.sm\:flex{display:flex}.sm\:max-w-sm{max-width:24rem}.sm\:flex-row{flex-direction:row}.sm\:flex-col{flex-direction:column}.sm\:justify-end{justify-content:flex-end}.sm\:gap-2\.5{gap:.625rem}.sm\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.sm\:space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.sm\:rounded-lg{border-radius:.5625rem}.sm\:text-left{text-align:left}.data-\[state\=open\]\:sm\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y: 100%}}@media (min-width: 768px){.md\:absolute{position:absolute}.md\:block{display:block}.md\:flex{display:flex}.md\:h-10{height:2.5rem}.md\:h-12{height:3rem}.md\:h-16{height:4rem}.md\:h-5{height:1.25rem}.md\:h-6{height:1.5rem}.md\:h-8{height:2rem}.md\:w-10{width:2.5rem}.md\:w-12{width:3rem}.md\:w-16{width:4rem}.md\:w-5{width:1.25rem}.md\:w-6{width:1.5rem}.md\:w-8{width:2rem}.md\:w-\[var\(--radix-navigation-menu-viewport-width\)\]{width:var(--radix-navigation-menu-viewport-width)}.md\:w-auto{width:auto}.md\:max-w-\[420px\]{max-width:420px}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:text-2xl{font-size:1.5rem;line-height:2rem}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\:text-base{font-size:1rem;line-height:1.5rem}.md\:text-lg{font-size:1.125rem;line-height:1.75rem}.md\:text-sm{font-size:.875rem;line-height:1.25rem}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}.md\:opacity-0{opacity:0}.md\:after\:hidden:after{content:var(--tw-content);display:none}.peer[data-variant=inset]~.md\:peer-data-\[variant\=inset\]\:m-2{margin:.5rem}.peer[data-variant=inset]~.md\:peer-data-\[variant\=inset\]\:ml-0{margin-left:0}.peer[data-variant=inset][data-state=collapsed]~.md\:peer-data-\[variant\=inset\]\:peer-data-\[state\=collapsed\]\:ml-2{margin-left:.5rem}.peer[data-variant=inset]~.md\:peer-data-\[variant\=inset\]\:rounded-xl{border-radius:.75rem}.peer[data-variant=inset]~.md\:peer-data-\[variant\=inset\]\:shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}}@media (min-width: 1024px){.lg\:w-80{width:20rem}.lg\:flex-row{flex-direction:row}}.\[\&\:has\(\[aria-selected\]\)\]\:bg-accent:has([aria-selected]){--tw-bg-opacity: 1;background-color:hsl(var(--accent) / var(--tw-bg-opacity, 1))}.first\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-l-md:has([aria-selected]):first-child{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.last\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-r-md:has([aria-selected]):last-child{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.\[\&\:has\(\[aria-selected\]\.day-outside\)\]\:bg-accent\/50:has([aria-selected].day-outside){background-color:hsl(var(--accent) / .5)}.\[\&\:has\(\[aria-selected\]\.day-range-end\)\]\:rounded-r-md:has([aria-selected].day-range-end){border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.\[\&\:has\(\[role\=checkbox\]\)\]\:pr-0:has([role=checkbox]){padding-right:0}.\[\&\>button\]\:hidden>button{display:none}.\[\&\>span\:last-child\]\:truncate>span:last-child{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.\[\&\>span\]\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\[\&\>svg\+div\]\:translate-y-\[-3px\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&\>svg\]\:absolute>svg{position:absolute}.\[\&\>svg\]\:left-4>svg{left:1rem}.\[\&\>svg\]\:top-4>svg{top:1rem}.\[\&\>svg\]\:size-4>svg{width:1rem;height:1rem}.\[\&\>svg\]\:h-2\.5>svg{height:.625rem}.\[\&\>svg\]\:h-3>svg{height:.75rem}.\[\&\>svg\]\:h-3\.5>svg{height:.875rem}.\[\&\>svg\]\:h-4>svg{height:1rem}.\[\&\>svg\]\:w-2\.5>svg{width:.625rem}.\[\&\>svg\]\:w-3>svg{width:.75rem}.\[\&\>svg\]\:w-3\.5>svg{width:.875rem}.\[\&\>svg\]\:w-4>svg{width:1rem}.\[\&\>svg\]\:shrink-0>svg{flex-shrink:0}.\[\&\>svg\]\:text-destructive>svg{--tw-text-opacity: 1;color:hsl(var(--destructive) / var(--tw-text-opacity, 1))}.\[\&\>svg\]\:text-foreground>svg{--tw-text-opacity: 1;color:hsl(var(--foreground) / var(--tw-text-opacity, 1))}.\[\&\>svg\]\:text-muted-foreground>svg{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.\[\&\>svg\]\:text-sidebar-accent-foreground>svg{--tw-text-opacity: 1;color:hsl(var(--sidebar-accent-foreground) / var(--tw-text-opacity, 1))}.\[\&\>svg\~\*\]\:pl-7>svg~*{padding-left:1.75rem}.\[\&\>tr\]\:last\:border-b-0:last-child>tr{border-bottom-width:0px}.\[\&\[data-panel-group-direction\=vertical\]\>div\]\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&\[data-state\=open\]\>svg\]\:rotate-180[data-state=open]>svg{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&_\.recharts-cartesian-axis-tick_text\]\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:hsl(var(--muted-foreground) / 1)}.\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke="#ccc"]{stroke:hsl(var(--border) / .5)}.\[\&_\.recharts-curve\.recharts-tooltip-cursor\]\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:hsl(var(--border) / 1)}.\[\&_\.recharts-dot\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-dot[stroke="#fff"]{stroke:transparent}.\[\&_\.recharts-layer\]\:outline-none .recharts-layer{outline:2px solid transparent;outline-offset:2px}.\[\&_\.recharts-polar-grid_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-polar-grid [stroke="#ccc"]{stroke:hsl(var(--border) / 1)}.\[\&_\.recharts-radial-bar-background-sector\]\:fill-muted .recharts-radial-bar-background-sector,.\[\&_\.recharts-rectangle\.recharts-tooltip-cursor\]\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:hsl(var(--muted) / 1)}.\[\&_\.recharts-reference-line_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-reference-line [stroke="#ccc"]{stroke:hsl(var(--border) / 1)}.\[\&_\.recharts-sector\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-sector[stroke="#fff"]{stroke:transparent}.\[\&_\.recharts-sector\]\:outline-none .recharts-sector,.\[\&_\.recharts-surface\]\:outline-none .recharts-surface{outline:2px solid transparent;outline-offset:2px}.\[\&_\[cmdk-group-heading\]\]\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-group-heading\]\]\:py-1\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\[\&_\[cmdk-group-heading\]\]\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\[\&_\[cmdk-group-heading\]\]\:font-medium [cmdk-group-heading]{font-weight:500}.\[\&_\[cmdk-group-heading\]\]\:text-muted-foreground [cmdk-group-heading]{--tw-text-opacity: 1;color:hsl(var(--muted-foreground) / var(--tw-text-opacity, 1))}.\[\&_\[cmdk-group\]\:not\(\[hidden\]\)_\~\[cmdk-group\]\]\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\[\&_\[cmdk-group\]\]\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\[\&_\[cmdk-input\]\]\:h-12 [cmdk-input]{height:3rem}.\[\&_\[cmdk-item\]\]\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-item\]\]\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\[\&_\[cmdk-item\]_svg\]\:h-5 [cmdk-item] svg{height:1.25rem}.\[\&_\[cmdk-item\]_svg\]\:w-5 [cmdk-item] svg{width:1.25rem}.\[\&_p\]\:leading-relaxed p{line-height:1.625}.\[\&_svg\]\:pointer-events-none svg{pointer-events:none}.\[\&_svg\]\:size-4 svg{width:1rem;height:1rem}.\[\&_svg\]\:shrink-0 svg{flex-shrink:0}.\[\&_tr\:last-child\]\:border-0 tr:last-child{border-width:0px}.\[\&_tr\]\:border-b tr{border-bottom-width:1px}[data-side=left][data-collapsible=offcanvas] .\[\[data-side\=left\]\[data-collapsible\=offcanvas\]_\&\]\:-right-2{right:-.5rem}[data-side=left][data-state=collapsed] .\[\[data-side\=left\]\[data-state\=collapsed\]_\&\]\:cursor-e-resize{cursor:e-resize}[data-side=right][data-collapsible=offcanvas] .\[\[data-side\=right\]\[data-collapsible\=offcanvas\]_\&\]\:-left-2{left:-.5rem}[data-side=right][data-state=collapsed] .\[\[data-side\=right\]\[data-state\=collapsed\]_\&\]\:cursor-w-resize{cursor:w-resize}
</style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module">var TA=t=>{throw TypeError(t)};var O0=(t,e,n)=>e.has(t)||TA("Cannot "+n);var se=(t,e,n)=>(O0(t,e,"read from private field"),n?n.call(t):e.get(t)),Mt=(t,e,n)=>e.has(t)?TA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ut=(t,e,n,r)=>(O0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Sr=(t,e,n)=>(O0(t,e,"access private method"),n);var am=(t,e,n,r)=>({set _(i){ut(t,e,i,n)},get _(){return se(t,e,r)}});function MU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rR={exports:{}},$v={},iR={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),DU=Symbol.for("react.portal"),$U=Symbol.for("react.fragment"),LU=Symbol.for("react.strict_mode"),FU=Symbol.for("react.profiler"),VU=Symbol.for("react.provider"),BU=Symbol.for("react.context"),UU=Symbol.for("react.forward_ref"),zU=Symbol.for("react.suspense"),WU=Symbol.for("react.memo"),HU=Symbol.for("react.lazy"),PA=Symbol.iterator;function qU(t){return t===null||typeof t!="object"?null:(t=PA&&t[PA]||t["@@iterator"],typeof t=="function"?t:null)}var oR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sR=Object.assign,aR={};function hd(t,e,n){this.props=t,this.context=e,this.refs=aR,this.updater=n||oR}hd.prototype.isReactComponent={};hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lR(){}lR.prototype=hd.prototype;function _S(t,e,n){this.props=t,this.context=e,this.refs=aR,this.updater=n||oR}var SS=_S.prototype=new lR;SS.constructor=_S;sR(SS,hd.prototype);SS.isPureReactComponent=!0;var AA=Array.isArray,cR=Object.prototype.hasOwnProperty,ES={current:null},uR={key:!0,ref:!0,__self:!0,__source:!0};function dR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)cR.call(e,r)&&!uR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yp,type:t,key:o,ref:s,props:i,_owner:ES.current}}function GU(t,e){return{$$typeof:yp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TS(t){return typeof t=="object"&&t!==null&&t.$$typeof===yp}function KU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var CA=/\/+/g;function R0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KU(""+t.key):e.toString(36)}function sg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case yp:case DU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+R0(s,0):r,AA(i)?(n="",t!=null&&(n=t.replace(CA,"$&/")+"/"),sg(i,e,n,"",function(c){return c})):i!=null&&(TS(i)&&(i=GU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(CA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",AA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+R0(o,a);s+=sg(o,e,n,l,i)}else if(l=qU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+R0(o,a++),s+=sg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cm(t,e,n){if(t==null)return t;var r=[],i=0;return sg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function YU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},ag={transition:null},XU={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:ag,ReactCurrentOwner:ES};function fR(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:cm,forEach:function(t,e,n){cm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cm(t,function(){e++}),e},toArray:function(t){return cm(t,function(e){return e})||[]},only:function(t){if(!TS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=hd;yt.Fragment=$U;yt.Profiler=FU;yt.PureComponent=_S;yt.StrictMode=LU;yt.Suspense=zU;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XU;yt.act=fR;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ES.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cR.call(e,l)&&!uR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:yp,type:t.type,key:i,ref:o,props:r,_owner:s}};yt.createContext=function(t){return t={$$typeof:BU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VU,_context:t},t.Consumer=t};yt.createElement=dR;yt.createFactory=function(t){var e=dR.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:UU,render:t}};yt.isValidElement=TS;yt.lazy=function(t){return{$$typeof:HU,_payload:{_status:-1,_result:t},_init:YU}};yt.memo=function(t,e){return{$$typeof:WU,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=ag.transition;ag.transition={};try{t()}finally{ag.transition=e}};yt.unstable_act=fR;yt.useCallback=function(t,e){return Wr.current.useCallback(t,e)};yt.useContext=function(t){return Wr.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};yt.useEffect=function(t,e){return Wr.current.useEffect(t,e)};yt.useId=function(){return Wr.current.useId()};yt.useImperativeHandle=function(t,e,n){return Wr.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return Wr.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return Wr.current.useReducer(t,e,n)};yt.useRef=function(t){return Wr.current.useRef(t)};yt.useState=function(t){return Wr.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return Wr.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return Wr.current.useTransition()};yt.version="18.3.1";iR.exports=yt;var y=iR.exports;const z=Yt(y),hR=MU({__proto__:null,default:z},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QU=y,JU=Symbol.for("react.element"),ZU=Symbol.for("react.fragment"),e9=Object.prototype.hasOwnProperty,t9=QU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n9={key:!0,ref:!0,__self:!0,__source:!0};function pR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)e9.call(e,r)&&!n9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JU,type:t,key:o,ref:s,props:i,_owner:t9.current}}$v.Fragment=ZU;$v.jsx=pR;$v.jsxs=pR;rR.exports=$v;var u=rR.exports,mR={exports:{}},bi={},gR={exports:{}},yR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var ee=F.length;F.push(V);e:for(;0<ee;){var Q=ee-1>>>1,ne=F[Q];if(0<i(ne,V))F[Q]=V,F[ee]=ne,ee=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],ee=F.pop();if(ee!==V){F[0]=ee;e:for(var Q=0,ne=F.length,ge=ne>>>1;Q<ge;){var Ce=2*(Q+1)-1,qe=F[Ce],Xe=Ce+1,me=F[Xe];if(0>i(qe,ee))Xe<ne&&0>i(me,qe)?(F[Q]=me,F[Xe]=ee,Q=Xe):(F[Q]=qe,F[Ce]=ee,Q=Ce);else if(Xe<ne&&0>i(me,ee))F[Q]=me,F[Xe]=ee,Q=Xe;else break e}}return V}function i(F,V){var ee=F.sortIndex-V.sortIndex;return ee!==0?ee:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=F)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function C(F){if(g=!1,_(F),!x)if(n(l)!==null)x=!0,U(E);else{var V=n(c);V!==null&&W(C,V.startTime-F)}}function E(F,V){x=!1,g&&(g=!1,b(P),P=-1),m=!0;var ee=h;try{for(_(V),f=n(l);f!==null&&(!(f.expirationTime>V)||F&&!I());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var ne=Q(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),_(V)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var Ce=n(c);Ce!==null&&W(C,Ce.startTime-V),ge=!1}return ge}finally{f=null,h=ee,m=!1}}var N=!1,S=null,P=-1,A=5,k=-1;function I(){return!(t.unstable_now()-k<A)}function O(){if(S!==null){var F=t.unstable_now();k=F;var V=!0;try{V=S(!0,F)}finally{V?R():(N=!1,S=null)}}else N=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){v(O,0)};function U(F){S=F,N||(N=!0,R())}function W(F,V){P=v(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,U(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var ee=h;h=V;try{return F()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=h;h=F;try{return V()}finally{h=ee}},t.unstable_scheduleCallback=function(F,V,ee){var Q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,F={id:d++,callback:V,priorityLevel:F,startTime:ee,expirationTime:ne,sortIndex:-1},ee>Q?(F.sortIndex=ee,e(c,F),n(l)===null&&F===n(c)&&(g?(b(P),P=-1):g=!0,W(C,ee-Q))):(F.sortIndex=ne,e(l,F),x||m||(x=!0,U(E))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var V=h;return function(){var ee=h;h=V;try{return F.apply(this,arguments)}finally{h=ee}}}})(yR);gR.exports=yR;var r9=gR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i9=y,vi=r9;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vR=new Set,Xf={};function ac(t,e){Eu(t,e),Eu(t+"Capture",e)}function Eu(t,e){for(Xf[t]=e,t=0;t<e.length;t++)vR.add(e[t])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fw=Object.prototype.hasOwnProperty,o9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NA={},IA={};function s9(t){return fw.call(IA,t)?!0:fw.call(NA,t)?!1:o9.test(t)?IA[t]=!0:(NA[t]=!0,!1)}function a9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l9(t,e,n,r){if(e===null||typeof e>"u"||a9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var PS=/[\-:]([a-z])/g;function AS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PS,AS);mr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PS,AS);mr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PS,AS);mr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function CS(t,e,n,r){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l9(e,n,i,r)&&(n=null),r||i===null?s9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zs=i9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,um=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),hw=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),IS=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.suspense_list"),jS=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),wR=Symbol.for("react.offscreen"),jA=Symbol.iterator;function qd(t){return t===null||typeof t!="object"?null:(t=jA&&t[jA]||t["@@iterator"],typeof t=="function"?t:null)}var vn=Object.assign,M0;function pf(t){if(M0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M0=e&&e[1]||""}return`
`+M0+t}var D0=!1;function $0(t,e){if(!t||D0)return"";D0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{D0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pf(t):""}function c9(t){switch(t.tag){case 5:return pf(t.type);case 16:return pf("Lazy");case 13:return pf("Suspense");case 19:return pf("SuspenseList");case 0:case 2:case 15:return t=$0(t.type,!1),t;case 11:return t=$0(t.type.render,!1),t;case 1:return t=$0(t.type,!0),t;default:return""}}function gw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $c:return"Fragment";case Dc:return"Portal";case hw:return"Profiler";case NS:return"StrictMode";case pw:return"Suspense";case mw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bR:return(t.displayName||"Context")+".Consumer";case xR:return(t._context.displayName||"Context")+".Provider";case IS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jS:return e=t.displayName||null,e!==null?e:gw(t.type)||"Memo";case ua:e=t._payload,t=t._init;try{return gw(t(e))}catch{}}return null}function u9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gw(e);case 8:return e===NS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _R(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d9(t){var e=_R(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dm(t){t._valueTracker||(t._valueTracker=d9(t))}function SR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_R(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yw(t,e){var n=e.checked;return vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ER(t,e){e=e.checked,e!=null&&CS(t,"checked",e,!1)}function vw(t,e){ER(t,e);var n=Wa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xw(t,e.type,n):e.hasOwnProperty("defaultValue")&&xw(t,e.type,Wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function OA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xw(t,e,n){(e!=="number"||$g(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mf=Array.isArray;function Qc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(mf(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wa(n)}}function TR(t,e){var n=Wa(e.value),r=Wa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function MA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fm,AR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f9=["Webkit","ms","Moz","O"];Object.keys(Pf).forEach(function(t){f9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pf[e]=Pf[t]})});function CR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pf.hasOwnProperty(t)&&Pf[t]?(""+e).trim():e+"px"}function NR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var h9=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _w(t,e){if(e){if(h9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Sw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ew=null;function kS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tw=null,Jc=null,Zc=null;function DA(t){if(t=bp(t)){if(typeof Tw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Uv(e),Tw(t.stateNode,t.type,e))}}function IR(t){Jc?Zc?Zc.push(t):Zc=[t]:Jc=t}function jR(){if(Jc){var t=Jc,e=Zc;if(Zc=Jc=null,DA(t),e)for(t=0;t<e.length;t++)DA(e[t])}}function kR(t,e){return t(e)}function OR(){}var L0=!1;function RR(t,e,n){if(L0)return t(e,n);L0=!0;try{return kR(t,e,n)}finally{L0=!1,(Jc!==null||Zc!==null)&&(OR(),jR())}}function Jf(t,e){var n=t.stateNode;if(n===null)return null;var r=Uv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Pw=!1;if(Ns)try{var Gd={};Object.defineProperty(Gd,"passive",{get:function(){Pw=!0}}),window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{Pw=!1}function p9(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Af=!1,Lg=null,Fg=!1,Aw=null,m9={onError:function(t){Af=!0,Lg=t}};function g9(t,e,n,r,i,o,s,a,l){Af=!1,Lg=null,p9.apply(m9,arguments)}function y9(t,e,n,r,i,o,s,a,l){if(g9.apply(this,arguments),Af){if(Af){var c=Lg;Af=!1,Lg=null}else throw Error(fe(198));Fg||(Fg=!0,Aw=c)}}function lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $A(t){if(lc(t)!==t)throw Error(fe(188))}function v9(t){var e=t.alternate;if(!e){if(e=lc(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $A(i),t;if(o===r)return $A(i),e;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function DR(t){return t=v9(t),t!==null?$R(t):null}function $R(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$R(t);if(e!==null)return e;t=t.sibling}return null}var LR=vi.unstable_scheduleCallback,LA=vi.unstable_cancelCallback,x9=vi.unstable_shouldYield,b9=vi.unstable_requestPaint,kn=vi.unstable_now,w9=vi.unstable_getCurrentPriorityLevel,OS=vi.unstable_ImmediatePriority,FR=vi.unstable_UserBlockingPriority,Vg=vi.unstable_NormalPriority,_9=vi.unstable_LowPriority,VR=vi.unstable_IdlePriority,Lv=null,zo=null;function S9(t){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(Lv,t,void 0,(t.current.flags&128)===128)}catch{}}var vo=Math.clz32?Math.clz32:P9,E9=Math.log,T9=Math.LN2;function P9(t){return t>>>=0,t===0?32:31-(E9(t)/T9|0)|0}var hm=64,pm=4194304;function gf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gf(a):(o&=s,o!==0&&(r=gf(o)))}else s=n&~i,s!==0?r=gf(s):o!==0&&(r=gf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vo(e),i=1<<n,r|=t[n],e&=~i;return r}function A9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=A9(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Cw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BR(){var t=hm;return hm<<=1,!(hm&4194240)&&(hm=64),t}function F0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vo(e),t[e]=n}function N9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function RS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function UR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zR,MS,WR,HR,qR,Nw=!1,mm=[],Na=null,Ia=null,ja=null,Zf=new Map,eh=new Map,ga=[],I9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FA(t,e){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(e.pointerId)}}function Kd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bp(e),e!==null&&MS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j9(t,e,n,r,i){switch(e){case"focusin":return Na=Kd(Na,t,e,n,r,i),!0;case"dragenter":return Ia=Kd(Ia,t,e,n,r,i),!0;case"mouseover":return ja=Kd(ja,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zf.set(o,Kd(Zf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,eh.set(o,Kd(eh.get(o)||null,t,e,n,r,i)),!0}return!1}function GR(t){var e=_l(t.target);if(e!==null){var n=lc(e);if(n!==null){if(e=n.tag,e===13){if(e=MR(n),e!==null){t.blockedOn=e,qR(t.priority,function(){WR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ew=r,n.target.dispatchEvent(r),Ew=null}else return e=bp(n),e!==null&&MS(e),t.blockedOn=n,!1;e.shift()}return!0}function VA(t,e,n){lg(t)&&n.delete(e)}function k9(){Nw=!1,Na!==null&&lg(Na)&&(Na=null),Ia!==null&&lg(Ia)&&(Ia=null),ja!==null&&lg(ja)&&(ja=null),Zf.forEach(VA),eh.forEach(VA)}function Yd(t,e){t.blockedOn===e&&(t.blockedOn=null,Nw||(Nw=!0,vi.unstable_scheduleCallback(vi.unstable_NormalPriority,k9)))}function th(t){function e(i){return Yd(i,t)}if(0<mm.length){Yd(mm[0],t);for(var n=1;n<mm.length;n++){var r=mm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Na!==null&&Yd(Na,t),Ia!==null&&Yd(Ia,t),ja!==null&&Yd(ja,t),Zf.forEach(e),eh.forEach(e),n=0;n<ga.length;n++)r=ga[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)GR(n),n.blockedOn===null&&ga.shift()}var eu=zs.ReactCurrentBatchConfig,Ug=!0;function O9(t,e,n,r){var i=Vt,o=eu.transition;eu.transition=null;try{Vt=1,DS(t,e,n,r)}finally{Vt=i,eu.transition=o}}function R9(t,e,n,r){var i=Vt,o=eu.transition;eu.transition=null;try{Vt=4,DS(t,e,n,r)}finally{Vt=i,eu.transition=o}}function DS(t,e,n,r){if(Ug){var i=Iw(t,e,n,r);if(i===null)Y0(t,e,r,zg,n),FA(t,r);else if(j9(i,t,e,n,r))r.stopPropagation();else if(FA(t,r),e&4&&-1<I9.indexOf(t)){for(;i!==null;){var o=bp(i);if(o!==null&&zR(o),o=Iw(t,e,n,r),o===null&&Y0(t,e,r,zg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Y0(t,e,r,null,n)}}var zg=null;function Iw(t,e,n,r){if(zg=null,t=kS(r),t=_l(t),t!==null)if(e=lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zg=t,null}function KR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w9()){case OS:return 1;case FR:return 4;case Vg:case _9:return 16;case VR:return 536870912;default:return 16}default:return 16}}var Ta=null,$S=null,cg=null;function YR(){if(cg)return cg;var t,e=$S,n=e.length,r,i="value"in Ta?Ta.value:Ta.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cg=i.slice(t,1<r?1-r:void 0)}function ug(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gm(){return!0}function BA(){return!1}function wi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gm:BA,this.isPropagationStopped=BA,this}return vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gm)},persist:function(){},isPersistent:gm}),e}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LS=wi(pd),xp=vn({},pd,{view:0,detail:0}),M9=wi(xp),V0,B0,Xd,Fv=vn({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xd&&(Xd&&t.type==="mousemove"?(V0=t.screenX-Xd.screenX,B0=t.screenY-Xd.screenY):B0=V0=0,Xd=t),V0)},movementY:function(t){return"movementY"in t?t.movementY:B0}}),UA=wi(Fv),D9=vn({},Fv,{dataTransfer:0}),$9=wi(D9),L9=vn({},xp,{relatedTarget:0}),U0=wi(L9),F9=vn({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),V9=wi(F9),B9=vn({},pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U9=wi(B9),z9=vn({},pd,{data:0}),zA=wi(z9),W9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q9[t])?!!e[t]:!1}function FS(){return G9}var K9=vn({},xp,{key:function(t){if(t.key){var e=W9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ug(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FS,charCode:function(t){return t.type==="keypress"?ug(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ug(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y9=wi(K9),X9=vn({},Fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WA=wi(X9),Q9=vn({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FS}),J9=wi(Q9),Z9=vn({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),e8=wi(Z9),t8=vn({},Fv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n8=wi(t8),r8=[9,13,27,32],VS=Ns&&"CompositionEvent"in window,Cf=null;Ns&&"documentMode"in document&&(Cf=document.documentMode);var i8=Ns&&"TextEvent"in window&&!Cf,XR=Ns&&(!VS||Cf&&8<Cf&&11>=Cf),HA=" ",qA=!1;function QR(t,e){switch(t){case"keyup":return r8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lc=!1;function o8(t,e){switch(t){case"compositionend":return JR(e);case"keypress":return e.which!==32?null:(qA=!0,HA);case"textInput":return t=e.data,t===HA&&qA?null:t;default:return null}}function s8(t,e){if(Lc)return t==="compositionend"||!VS&&QR(t,e)?(t=YR(),cg=$S=Ta=null,Lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XR&&e.locale!=="ko"?null:e.data;default:return null}}var a8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a8[t.type]:e==="textarea"}function ZR(t,e,n,r){IR(r),e=Wg(e,"onChange"),0<e.length&&(n=new LS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nf=null,nh=null;function l8(t){uM(t,0)}function Vv(t){var e=Bc(t);if(SR(e))return t}function c8(t,e){if(t==="change")return e}var eM=!1;if(Ns){var z0;if(Ns){var W0="oninput"in document;if(!W0){var KA=document.createElement("div");KA.setAttribute("oninput","return;"),W0=typeof KA.oninput=="function"}z0=W0}else z0=!1;eM=z0&&(!document.documentMode||9<document.documentMode)}function YA(){Nf&&(Nf.detachEvent("onpropertychange",tM),nh=Nf=null)}function tM(t){if(t.propertyName==="value"&&Vv(nh)){var e=[];ZR(e,nh,t,kS(t)),RR(l8,e)}}function u8(t,e,n){t==="focusin"?(YA(),Nf=e,nh=n,Nf.attachEvent("onpropertychange",tM)):t==="focusout"&&YA()}function d8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vv(nh)}function f8(t,e){if(t==="click")return Vv(e)}function h8(t,e){if(t==="input"||t==="change")return Vv(e)}function p8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wo=typeof Object.is=="function"?Object.is:p8;function rh(t,e){if(wo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fw.call(e,i)||!wo(t[i],e[i]))return!1}return!0}function XA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QA(t,e){var n=XA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XA(n)}}function nM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rM(){for(var t=window,e=$g();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$g(t.document)}return e}function BS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m8(t){var e=rM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nM(n.ownerDocument.documentElement,n)){if(r!==null&&BS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=QA(n,o);var s=QA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var g8=Ns&&"documentMode"in document&&11>=document.documentMode,Fc=null,jw=null,If=null,kw=!1;function JA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kw||Fc==null||Fc!==$g(r)||(r=Fc,"selectionStart"in r&&BS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),If&&rh(If,r)||(If=r,r=Wg(jw,"onSelect"),0<r.length&&(e=new LS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function ym(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vc={animationend:ym("Animation","AnimationEnd"),animationiteration:ym("Animation","AnimationIteration"),animationstart:ym("Animation","AnimationStart"),transitionend:ym("Transition","TransitionEnd")},H0={},iM={};Ns&&(iM=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Bv(t){if(H0[t])return H0[t];if(!Vc[t])return t;var e=Vc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iM)return H0[t]=e[n];return t}var oM=Bv("animationend"),sM=Bv("animationiteration"),aM=Bv("animationstart"),lM=Bv("transitionend"),cM=new Map,ZA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(t,e){cM.set(t,e),ac(e,[t])}for(var q0=0;q0<ZA.length;q0++){var G0=ZA[q0],y8=G0.toLowerCase(),v8=G0[0].toUpperCase()+G0.slice(1);nl(y8,"on"+v8)}nl(oM,"onAnimationEnd");nl(sM,"onAnimationIteration");nl(aM,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(lM,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x8=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function eC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y9(r,e,void 0,t),t.currentTarget=null}function uM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;eC(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;eC(i,a,c),o=l}}}if(Fg)throw t=Aw,Fg=!1,Aw=null,t}function rn(t,e){var n=e[$w];n===void 0&&(n=e[$w]=new Set);var r=t+"__bubble";n.has(r)||(dM(e,t,2,!1),n.add(r))}function K0(t,e,n){var r=0;e&&(r|=4),dM(n,t,r,e)}var vm="_reactListening"+Math.random().toString(36).slice(2);function ih(t){if(!t[vm]){t[vm]=!0,vR.forEach(function(n){n!=="selectionchange"&&(x8.has(n)||K0(n,!1,t),K0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vm]||(e[vm]=!0,K0("selectionchange",!1,e))}}function dM(t,e,n,r){switch(KR(e)){case 1:var i=O9;break;case 4:i=R9;break;default:i=DS}n=i.bind(null,e,n,t),i=void 0,!Pw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Y0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_l(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}RR(function(){var c=o,d=kS(n),f=[];e:{var h=cM.get(t);if(h!==void 0){var m=LS,x=t;switch(t){case"keypress":if(ug(n)===0)break e;case"keydown":case"keyup":m=Y9;break;case"focusin":x="focus",m=U0;break;case"focusout":x="blur",m=U0;break;case"beforeblur":case"afterblur":m=U0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=UA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=J9;break;case oM:case sM:case aM:m=V9;break;case lM:m=e8;break;case"scroll":m=M9;break;case"wheel":m=n8;break;case"copy":case"cut":case"paste":m=U9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=WA}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,_;w!==null;){_=w;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,b!==null&&(C=Jf(w,b),C!=null&&g.push(oh(w,C,_)))),v)break;w=w.return}0<g.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Ew&&(x=n.relatedTarget||n.fromElement)&&(_l(x)||x[Is]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?_l(x):null,x!==null&&(v=lc(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(g=UA,C="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=WA,C="onPointerLeave",b="onPointerEnter",w="pointer"),v=m==null?h:Bc(m),_=x==null?h:Bc(x),h=new g(C,w+"leave",m,n,d),h.target=v,h.relatedTarget=_,C=null,_l(d)===c&&(g=new g(b,w+"enter",x,n,d),g.target=_,g.relatedTarget=v,C=g),v=C,m&&x)t:{for(g=m,b=x,w=0,_=g;_;_=_c(_))w++;for(_=0,C=b;C;C=_c(C))_++;for(;0<w-_;)g=_c(g),w--;for(;0<_-w;)b=_c(b),_--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=_c(g),b=_c(b)}g=null}else g=null;m!==null&&tC(f,h,m,g,!1),x!==null&&v!==null&&tC(f,v,x,g,!0)}}e:{if(h=c?Bc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=c8;else if(GA(h))if(eM)E=h8;else{E=d8;var N=u8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=f8);if(E&&(E=E(t,c))){ZR(f,E,n,d);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&xw(h,"number",h.value)}switch(N=c?Bc(c):window,t){case"focusin":(GA(N)||N.contentEditable==="true")&&(Fc=N,jw=c,If=null);break;case"focusout":If=jw=Fc=null;break;case"mousedown":kw=!0;break;case"contextmenu":case"mouseup":case"dragend":kw=!1,JA(f,n,d);break;case"selectionchange":if(g8)break;case"keydown":case"keyup":JA(f,n,d)}var S;if(VS)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Lc?QR(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(XR&&n.locale!=="ko"&&(Lc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Lc&&(S=YR()):(Ta=d,$S="value"in Ta?Ta.value:Ta.textContent,Lc=!0)),N=Wg(c,P),0<N.length&&(P=new zA(P,t,null,n,d),f.push({event:P,listeners:N}),S?P.data=S:(S=JR(n),S!==null&&(P.data=S)))),(S=i8?o8(t,n):s8(t,n))&&(c=Wg(c,"onBeforeInput"),0<c.length&&(d=new zA("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}uM(f,e)})}function oh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jf(t,n),o!=null&&r.unshift(oh(t,o,i)),o=Jf(t,e),o!=null&&r.push(oh(t,o,i))),t=t.return}return r}function _c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Jf(n,o),l!=null&&s.unshift(oh(n,l,a))):i||(l=Jf(n,o),l!=null&&s.push(oh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var b8=/\r\n?/g,w8=/\u0000|\uFFFD/g;function nC(t){return(typeof t=="string"?t:""+t).replace(b8,`
`).replace(w8,"")}function xm(t,e,n){if(e=nC(e),nC(t)!==e&&n)throw Error(fe(425))}function Hg(){}var Ow=null,Rw=null;function Mw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dw=typeof setTimeout=="function"?setTimeout:void 0,_8=typeof clearTimeout=="function"?clearTimeout:void 0,rC=typeof Promise=="function"?Promise:void 0,S8=typeof queueMicrotask=="function"?queueMicrotask:typeof rC<"u"?function(t){return rC.resolve(null).then(t).catch(E8)}:Dw;function E8(t){setTimeout(function(){throw t})}function X0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),th(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);th(e)}function ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var md=Math.random().toString(36).slice(2),Vo="__reactFiber$"+md,sh="__reactProps$"+md,Is="__reactContainer$"+md,$w="__reactEvents$"+md,T8="__reactListeners$"+md,P8="__reactHandles$"+md;function _l(t){var e=t[Vo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Is]||n[Vo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iC(t);t!==null;){if(n=t[Vo])return n;t=iC(t)}return e}t=n,n=t.parentNode}return null}function bp(t){return t=t[Vo]||t[Is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Uv(t){return t[sh]||null}var Lw=[],Uc=-1;function rl(t){return{current:t}}function ln(t){0>Uc||(t.current=Lw[Uc],Lw[Uc]=null,Uc--)}function Zt(t,e){Uc++,Lw[Uc]=t.current,t.current=e}var Ha={},Or=rl(Ha),Zr=rl(!1),Wl=Ha;function Tu(t,e){var n=t.type.contextTypes;if(!n)return Ha;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ei(t){return t=t.childContextTypes,t!=null}function qg(){ln(Zr),ln(Or)}function oC(t,e,n){if(Or.current!==Ha)throw Error(fe(168));Zt(Or,e),Zt(Zr,n)}function fM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,u9(t)||"Unknown",i));return vn({},n,r)}function Gg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ha,Wl=Or.current,Zt(Or,t),Zt(Zr,Zr.current),!0}function sC(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=fM(t,e,Wl),r.__reactInternalMemoizedMergedChildContext=t,ln(Zr),ln(Or),Zt(Or,t)):ln(Zr),Zt(Zr,n)}var ms=null,zv=!1,Q0=!1;function hM(t){ms===null?ms=[t]:ms.push(t)}function A8(t){zv=!0,hM(t)}function il(){if(!Q0&&ms!==null){Q0=!0;var t=0,e=Vt;try{var n=ms;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ms=null,zv=!1}catch(i){throw ms!==null&&(ms=ms.slice(t+1)),LR(OS,il),i}finally{Vt=e,Q0=!1}}return null}var zc=[],Wc=0,Kg=null,Yg=0,Ci=[],Ni=0,Hl=null,vs=1,xs="";function gl(t,e){zc[Wc++]=Yg,zc[Wc++]=Kg,Kg=t,Yg=e}function pM(t,e,n){Ci[Ni++]=vs,Ci[Ni++]=xs,Ci[Ni++]=Hl,Hl=t;var r=vs;t=xs;var i=32-vo(r)-1;r&=~(1<<i),n+=1;var o=32-vo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vs=1<<32-vo(e)+i|n<<i|r,xs=o+t}else vs=1<<o|n<<i|r,xs=t}function US(t){t.return!==null&&(gl(t,1),pM(t,1,0))}function zS(t){for(;t===Kg;)Kg=zc[--Wc],zc[Wc]=null,Yg=zc[--Wc],zc[Wc]=null;for(;t===Hl;)Hl=Ci[--Ni],Ci[Ni]=null,xs=Ci[--Ni],Ci[Ni]=null,vs=Ci[--Ni],Ci[Ni]=null}var gi=null,mi=null,fn=!1,co=null;function mM(t,e){var n=Mi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gi=t,mi=ka(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gi=t,mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hl!==null?{id:vs,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gi=t,mi=null,!0):!1;default:return!1}}function Fw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vw(t){if(fn){var e=mi;if(e){var n=e;if(!aC(t,e)){if(Fw(t))throw Error(fe(418));e=ka(n.nextSibling);var r=gi;e&&aC(t,e)?mM(r,n):(t.flags=t.flags&-4097|2,fn=!1,gi=t)}}else{if(Fw(t))throw Error(fe(418));t.flags=t.flags&-4097|2,fn=!1,gi=t}}}function lC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gi=t}function bm(t){if(t!==gi)return!1;if(!fn)return lC(t),fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mw(t.type,t.memoizedProps)),e&&(e=mi)){if(Fw(t))throw gM(),Error(fe(418));for(;e;)mM(t,e),e=ka(e.nextSibling)}if(lC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mi=ka(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mi=null}}else mi=gi?ka(t.stateNode.nextSibling):null;return!0}function gM(){for(var t=mi;t;)t=ka(t.nextSibling)}function Pu(){mi=gi=null,fn=!1}function WS(t){co===null?co=[t]:co.push(t)}var C8=zs.ReactCurrentBatchConfig;function Qd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function wm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cC(t){var e=t._init;return e(t._payload)}function yM(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Da(b,w),b.index=0,b.sibling=null,b}function o(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,_,C){return w===null||w.tag!==6?(w=ib(_,b.mode,C),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,C){var E=_.type;return E===$c?d(b,w,_.props.children,C,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ua&&cC(E)===w.type)?(C=i(w,_.props),C.ref=Qd(b,w,_),C.return=b,C):(C=yg(_.type,_.key,_.props,null,b.mode,C),C.ref=Qd(b,w,_),C.return=b,C)}function c(b,w,_,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=ob(_,b.mode,C),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function d(b,w,_,C,E){return w===null||w.tag!==7?(w=Dl(_,b.mode,C,E),w.return=b,w):(w=i(w,_),w.return=b,w)}function f(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ib(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case um:return _=yg(w.type,w.key,w.props,null,b.mode,_),_.ref=Qd(b,null,w),_.return=b,_;case Dc:return w=ob(w,b.mode,_),w.return=b,w;case ua:var C=w._init;return f(b,C(w._payload),_)}if(mf(w)||qd(w))return w=Dl(w,b.mode,_,null),w.return=b,w;wm(b,w)}return null}function h(b,w,_,C){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(b,w,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case um:return _.key===E?l(b,w,_,C):null;case Dc:return _.key===E?c(b,w,_,C):null;case ua:return E=_._init,h(b,w,E(_._payload),C)}if(mf(_)||qd(_))return E!==null?null:d(b,w,_,C,null);wm(b,_)}return null}function m(b,w,_,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(_)||null,a(w,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case um:return b=b.get(C.key===null?_:C.key)||null,l(w,b,C,E);case Dc:return b=b.get(C.key===null?_:C.key)||null,c(w,b,C,E);case ua:var N=C._init;return m(b,w,_,N(C._payload),E)}if(mf(C)||qd(C))return b=b.get(_)||null,d(w,b,C,E,null);wm(w,C)}return null}function x(b,w,_,C){for(var E=null,N=null,S=w,P=w=0,A=null;S!==null&&P<_.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var k=h(b,S,_[P],C);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(b,S),w=o(k,w,P),N===null?E=k:N.sibling=k,N=k,S=A}if(P===_.length)return n(b,S),fn&&gl(b,P),E;if(S===null){for(;P<_.length;P++)S=f(b,_[P],C),S!==null&&(w=o(S,w,P),N===null?E=S:N.sibling=S,N=S);return fn&&gl(b,P),E}for(S=r(b,S);P<_.length;P++)A=m(S,b,P,_[P],C),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?P:A.key),w=o(A,w,P),N===null?E=A:N.sibling=A,N=A);return t&&S.forEach(function(I){return e(b,I)}),fn&&gl(b,P),E}function g(b,w,_,C){var E=qd(_);if(typeof E!="function")throw Error(fe(150));if(_=E.call(_),_==null)throw Error(fe(151));for(var N=E=null,S=w,P=w=0,A=null,k=_.next();S!==null&&!k.done;P++,k=_.next()){S.index>P?(A=S,S=null):A=S.sibling;var I=h(b,S,k.value,C);if(I===null){S===null&&(S=A);break}t&&S&&I.alternate===null&&e(b,S),w=o(I,w,P),N===null?E=I:N.sibling=I,N=I,S=A}if(k.done)return n(b,S),fn&&gl(b,P),E;if(S===null){for(;!k.done;P++,k=_.next())k=f(b,k.value,C),k!==null&&(w=o(k,w,P),N===null?E=k:N.sibling=k,N=k);return fn&&gl(b,P),E}for(S=r(b,S);!k.done;P++,k=_.next())k=m(S,b,P,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?P:k.key),w=o(k,w,P),N===null?E=k:N.sibling=k,N=k);return t&&S.forEach(function(O){return e(b,O)}),fn&&gl(b,P),E}function v(b,w,_,C){if(typeof _=="object"&&_!==null&&_.type===$c&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case um:e:{for(var E=_.key,N=w;N!==null;){if(N.key===E){if(E=_.type,E===$c){if(N.tag===7){n(b,N.sibling),w=i(N,_.props.children),w.return=b,b=w;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ua&&cC(E)===N.type){n(b,N.sibling),w=i(N,_.props),w.ref=Qd(b,N,_),w.return=b,b=w;break e}n(b,N);break}else e(b,N);N=N.sibling}_.type===$c?(w=Dl(_.props.children,b.mode,C,_.key),w.return=b,b=w):(C=yg(_.type,_.key,_.props,null,b.mode,C),C.ref=Qd(b,w,_),C.return=b,b=C)}return s(b);case Dc:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),w=i(w,_.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=ob(_,b.mode,C),w.return=b,b=w}return s(b);case ua:return N=_._init,v(b,w,N(_._payload),C)}if(mf(_))return x(b,w,_,C);if(qd(_))return g(b,w,_,C);wm(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,_),w.return=b,b=w):(n(b,w),w=ib(_,b.mode,C),w.return=b,b=w),s(b)):n(b,w)}return v}var Au=yM(!0),vM=yM(!1),Xg=rl(null),Qg=null,Hc=null,HS=null;function qS(){HS=Hc=Qg=null}function GS(t){var e=Xg.current;ln(Xg),t._currentValue=e}function Bw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tu(t,e){Qg=t,HS=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function Bi(t){var e=t._currentValue;if(HS!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(Qg===null)throw Error(fe(308));Hc=t,Qg.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var Sl=null;function KS(t){Sl===null?Sl=[t]:Sl.push(t)}function xM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,KS(e)):(n.next=i.next,i.next=n),e.interleaved=n,js(t,r)}function js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var da=!1;function YS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,js(t,n)}return i=r.interleaved,i===null?(e.next=e,KS(r)):(e.next=i.next,i.next=e),r.interleaved=e,js(t,n)}function dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RS(t,n)}}function uC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jg(t,e,n,r){var i=t.updateQueue;da=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(h=e,m=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=vn({},f,h);break e;case 2:da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gl|=s,t.lanes=s,t.memoizedState=f}}function dC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var wp={},Wo=rl(wp),ah=rl(wp),lh=rl(wp);function El(t){if(t===wp)throw Error(fe(174));return t}function XS(t,e){switch(Zt(lh,e),Zt(ah,t),Zt(Wo,wp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ww(e,t)}ln(Wo),Zt(Wo,e)}function Cu(){ln(Wo),ln(ah),ln(lh)}function wM(t){El(lh.current);var e=El(Wo.current),n=ww(e,t.type);e!==n&&(Zt(ah,t),Zt(Wo,n))}function QS(t){ah.current===t&&(ln(Wo),ln(ah))}var mn=rl(0);function Zg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J0=[];function JS(){for(var t=0;t<J0.length;t++)J0[t]._workInProgressVersionPrimary=null;J0.length=0}var fg=zs.ReactCurrentDispatcher,Z0=zs.ReactCurrentBatchConfig,ql=0,yn=null,qn=null,nr=null,ey=!1,jf=!1,ch=0,N8=0;function Er(){throw Error(fe(321))}function ZS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wo(t[n],e[n]))return!1;return!0}function eE(t,e,n,r,i,o){if(ql=o,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fg.current=t===null||t.memoizedState===null?O8:R8,t=n(r,i),jf){o=0;do{if(jf=!1,ch=0,25<=o)throw Error(fe(301));o+=1,nr=qn=null,e.updateQueue=null,fg.current=M8,t=n(r,i)}while(jf)}if(fg.current=ty,e=qn!==null&&qn.next!==null,ql=0,nr=qn=yn=null,ey=!1,e)throw Error(fe(300));return t}function tE(){var t=ch!==0;return ch=0,t}function Oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?yn.memoizedState=nr=t:nr=nr.next=t,nr}function Ui(){if(qn===null){var t=yn.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=nr===null?yn.memoizedState:nr.next;if(e!==null)nr=e,qn=t;else{if(t===null)throw Error(fe(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},nr===null?yn.memoizedState=nr=t:nr=nr.next=t}return nr}function uh(t,e){return typeof e=="function"?e(t):e}function eb(t){var e=Ui(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=qn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ql&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,yn.lanes|=d,Gl|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,wo(r,e.memoizedState)||(Qr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yn.lanes|=o,Gl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tb(t){var e=Ui(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wo(o,e.memoizedState)||(Qr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _M(){}function SM(t,e){var n=yn,r=Ui(),i=e(),o=!wo(r.memoizedState,i);if(o&&(r.memoizedState=i,Qr=!0),r=r.queue,nE(PM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||nr!==null&&nr.memoizedState.tag&1){if(n.flags|=2048,dh(9,TM.bind(null,n,r,i,e),void 0,null),or===null)throw Error(fe(349));ql&30||EM(n,e,i)}return i}function EM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TM(t,e,n,r){e.value=n,e.getSnapshot=r,AM(e)&&CM(t)}function PM(t,e,n){return n(function(){AM(e)&&CM(t)})}function AM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wo(t,n)}catch{return!0}}function CM(t){var e=js(t,1);e!==null&&xo(e,t,1,-1)}function fC(t){var e=Oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:t},e.queue=t,t=t.dispatch=k8.bind(null,yn,t),[e.memoizedState,t]}function dh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NM(){return Ui().memoizedState}function hg(t,e,n,r){var i=Oo();yn.flags|=t,i.memoizedState=dh(1|e,n,void 0,r===void 0?null:r)}function Wv(t,e,n,r){var i=Ui();r=r===void 0?null:r;var o=void 0;if(qn!==null){var s=qn.memoizedState;if(o=s.destroy,r!==null&&ZS(r,s.deps)){i.memoizedState=dh(e,n,o,r);return}}yn.flags|=t,i.memoizedState=dh(1|e,n,o,r)}function hC(t,e){return hg(8390656,8,t,e)}function nE(t,e){return Wv(2048,8,t,e)}function IM(t,e){return Wv(4,2,t,e)}function jM(t,e){return Wv(4,4,t,e)}function kM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OM(t,e,n){return n=n!=null?n.concat([t]):null,Wv(4,4,kM.bind(null,e,t),n)}function rE(){}function RM(t,e){var n=Ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MM(t,e){var n=Ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DM(t,e,n){return ql&21?(wo(n,e)||(n=BR(),yn.lanes|=n,Gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=n)}function I8(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=Z0.transition;Z0.transition={};try{t(!1),e()}finally{Vt=n,Z0.transition=r}}function $M(){return Ui().memoizedState}function j8(t,e,n){var r=Ma(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LM(t))FM(e,n);else if(n=xM(t,e,n,r),n!==null){var i=zr();xo(n,t,r,i),VM(n,e,r)}}function k8(t,e,n){var r=Ma(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LM(t))FM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wo(a,s)){var l=e.interleaved;l===null?(i.next=i,KS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xM(t,e,i,r),n!==null&&(i=zr(),xo(n,t,r,i),VM(n,e,r))}}function LM(t){var e=t.alternate;return t===yn||e!==null&&e===yn}function FM(t,e){jf=ey=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RS(t,n)}}var ty={readContext:Bi,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},O8={readContext:Bi,useCallback:function(t,e){return Oo().memoizedState=[t,e===void 0?null:e],t},useContext:Bi,useEffect:hC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hg(4194308,4,kM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hg(4194308,4,t,e)},useInsertionEffect:function(t,e){return hg(4,2,t,e)},useMemo:function(t,e){var n=Oo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Oo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j8.bind(null,yn,t),[r.memoizedState,t]},useRef:function(t){var e=Oo();return t={current:t},e.memoizedState=t},useState:fC,useDebugValue:rE,useDeferredValue:function(t){return Oo().memoizedState=t},useTransition:function(){var t=fC(!1),e=t[0];return t=I8.bind(null,t[1]),Oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yn,i=Oo();if(fn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),or===null)throw Error(fe(349));ql&30||EM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,hC(PM.bind(null,r,o,t),[t]),r.flags|=2048,dh(9,TM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Oo(),e=or.identifierPrefix;if(fn){var n=xs,r=vs;n=(r&~(1<<32-vo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R8={readContext:Bi,useCallback:RM,useContext:Bi,useEffect:nE,useImperativeHandle:OM,useInsertionEffect:IM,useLayoutEffect:jM,useMemo:MM,useReducer:eb,useRef:NM,useState:function(){return eb(uh)},useDebugValue:rE,useDeferredValue:function(t){var e=Ui();return DM(e,qn.memoizedState,t)},useTransition:function(){var t=eb(uh)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:_M,useSyncExternalStore:SM,useId:$M,unstable_isNewReconciler:!1},M8={readContext:Bi,useCallback:RM,useContext:Bi,useEffect:nE,useImperativeHandle:OM,useInsertionEffect:IM,useLayoutEffect:jM,useMemo:MM,useReducer:tb,useRef:NM,useState:function(){return tb(uh)},useDebugValue:rE,useDeferredValue:function(t){var e=Ui();return qn===null?e.memoizedState=t:DM(e,qn.memoizedState,t)},useTransition:function(){var t=tb(uh)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:_M,useSyncExternalStore:SM,useId:$M,unstable_isNewReconciler:!1};function ro(t,e){if(t&&t.defaultProps){e=vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hv={isMounted:function(t){return(t=t._reactInternals)?lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Ma(t),o=Es(r,i);o.payload=e,n!=null&&(o.callback=n),e=Oa(t,o,i),e!==null&&(xo(e,t,i,r),dg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Ma(t),o=Es(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Oa(t,o,i),e!==null&&(xo(e,t,i,r),dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zr(),r=Ma(t),i=Es(n,r);i.tag=2,e!=null&&(i.callback=e),e=Oa(t,i,r),e!==null&&(xo(e,t,r,n),dg(e,t,r))}};function pC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!rh(n,r)||!rh(i,o):!0}function BM(t,e,n){var r=!1,i=Ha,o=e.contextType;return typeof o=="object"&&o!==null?o=Bi(o):(i=ei(e)?Wl:Or.current,r=e.contextTypes,o=(r=r!=null)?Tu(t,i):Ha),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hv.enqueueReplaceState(e,e.state,null)}function zw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},YS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Bi(o):(o=ei(e)?Wl:Or.current,i.context=Tu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Uw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hv.enqueueReplaceState(i,i.state,null),Jg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nu(t,e){try{var n="",r=e;do n+=c9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function nb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ww(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function UM(t,e,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ry||(ry=!0,e1=r),Ww(t,e)},n}function zM(t,e,n){n=Es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ww(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ww(t,e),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=X8.bind(null,t,e,n),e.then(t,t))}function yC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Es(-1,1),e.tag=2,Oa(n,e,1))),n.lanes|=1),t)}var $8=zs.ReactCurrentOwner,Qr=!1;function Vr(t,e,n,r){e.child=t===null?vM(e,null,n,r):Au(e,t.child,n,r)}function xC(t,e,n,r,i){n=n.render;var o=e.ref;return tu(e,i),r=eE(t,e,n,r,o,i),n=tE(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(fn&&n&&US(e),e.flags|=1,Vr(t,e,r,i),e.child)}function bC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WM(t,e,o,r,i)):(t=yg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:rh,n(s,r)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=Da(o,r),t.ref=e.ref,t.return=e,e.child=t}function WM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(rh(o,r)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,ks(t,e,i)}return Hw(t,e,n,r,i)}function HM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Gc,di),di|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(Gc,di),di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Zt(Gc,di),di|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Zt(Gc,di),di|=r;return Vr(t,e,i,n),e.child}function qM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hw(t,e,n,r,i){var o=ei(n)?Wl:Or.current;return o=Tu(e,o),tu(e,i),n=eE(t,e,n,r,o,i),r=tE(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(fn&&r&&US(e),e.flags|=1,Vr(t,e,n,i),e.child)}function wC(t,e,n,r,i){if(ei(n)){var o=!0;Gg(e)}else o=!1;if(tu(e,i),e.stateNode===null)pg(t,e),BM(e,n,r),zw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bi(c):(c=ei(n)?Wl:Or.current,c=Tu(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mC(e,s,r,c),da=!1;var h=e.memoizedState;s.state=h,Jg(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Zr.current||da?(typeof d=="function"&&(Uw(e,n,d,r),l=e.memoizedState),(a=da||pC(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ro(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bi(l):(l=ei(n)?Wl:Or.current,l=Tu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&mC(e,s,r,l),da=!1,h=e.memoizedState,s.state=h,Jg(e,r,s,i);var x=e.memoizedState;a!==f||h!==x||Zr.current||da?(typeof m=="function"&&(Uw(e,n,m,r),x=e.memoizedState),(c=da||pC(e,n,c,r,h,x,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qw(t,e,n,r,o,i)}function qw(t,e,n,r,i,o){qM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&sC(e,n,!1),ks(t,e,o);r=e.stateNode,$8.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Au(e,t.child,null,o),e.child=Au(e,null,a,o)):Vr(t,e,a,o),e.memoizedState=r.state,i&&sC(e,n,!0),e.child}function GM(t){var e=t.stateNode;e.pendingContext?oC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oC(t,e.context,!1),XS(t,e.containerInfo)}function _C(t,e,n,r,i){return Pu(),WS(i),e.flags|=256,Vr(t,e,n,r),e.child}var Gw={dehydrated:null,treeContext:null,retryLane:0};function Kw(t){return{baseLanes:t,cachePool:null,transitions:null}}function KM(t,e,n){var r=e.pendingProps,i=mn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(mn,i&1),t===null)return Vw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Kv(s,r,0,null),t=Dl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Kw(n),e.memoizedState=Gw,t):iE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L8(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Da(a,o):(o=Dl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Kw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Gw,r}return o=t.child,t=o.sibling,r=Da(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iE(t,e){return e=Kv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _m(t,e,n,r){return r!==null&&WS(r),Au(e,t.child,null,n),t=iE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=nb(Error(fe(422))),_m(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Kv({mode:"visible",children:r.children},i,0,null),o=Dl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Au(e,t.child,null,s),e.child.memoizedState=Kw(s),e.memoizedState=Gw,o);if(!(e.mode&1))return _m(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=nb(o,r,void 0),_m(t,e,s,r)}if(a=(s&t.childLanes)!==0,Qr||a){if(r=or,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,js(t,i),xo(r,t,i,-1))}return uE(),r=nb(Error(fe(421))),_m(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Q8.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mi=ka(i.nextSibling),gi=e,fn=!0,co=null,t!==null&&(Ci[Ni++]=vs,Ci[Ni++]=xs,Ci[Ni++]=Hl,vs=t.id,xs=t.overflow,Hl=e),e=iE(e,r.children),e.flags|=4096,e)}function SC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bw(t.return,e,n)}function rb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function YM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Vr(t,e,r.children,n),r=mn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SC(t,n,e);else if(t.tag===19)SC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rb(e,!0,n,null,o);break;case"together":rb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F8(t,e,n){switch(e.tag){case 3:GM(e),Pu();break;case 5:wM(e);break;case 1:ei(e.type)&&Gg(e);break;case 4:XS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Xg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(mn,mn.current&1),e.flags|=128,null):n&e.child.childLanes?KM(t,e,n):(Zt(mn,mn.current&1),t=ks(t,e,n),t!==null?t.sibling:null);Zt(mn,mn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(mn,mn.current),r)break;return null;case 22:case 23:return e.lanes=0,HM(t,e,n)}return ks(t,e,n)}var XM,Yw,QM,JM;XM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yw=function(){};QM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,El(Wo.current);var o=null;switch(n){case"input":i=yw(t,i),r=yw(t,r),o=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),o=[];break;case"textarea":i=bw(t,i),r=bw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hg)}_w(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};JM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jd(t,e){if(!fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function V8(t,e,n){var r=e.pendingProps;switch(zS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return ei(e.type)&&qg(),Tr(e),null;case 3:return r=e.stateNode,Cu(),ln(Zr),ln(Or),JS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&(r1(co),co=null))),Yw(t,e),Tr(e),null;case 5:QS(e);var i=El(lh.current);if(n=e.type,t!==null&&e.stateNode!=null)QM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Tr(e),null}if(t=El(Wo.current),bm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vo]=e,r[sh]=o,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<yf.length;i++)rn(yf[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":kA(r,o),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rn("invalid",r);break;case"textarea":RA(r,o),rn("invalid",r)}_w(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xm(r.textContent,a,t),i=["children",""+a]):Xf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rn("scroll",r)}switch(n){case"input":dm(r),OA(r,o,!0);break;case"textarea":dm(r),MA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vo]=e,t[sh]=r,XM(t,e,!1,!1),e.stateNode=t;e:{switch(s=Sw(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<yf.length;i++)rn(yf[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":kA(t,r),i=yw(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":RA(t,r),i=bw(t,r),rn("invalid",t);break;default:i=r}_w(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?NR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qf(t,l):typeof l=="number"&&Qf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rn("scroll",t):l!=null&&CS(t,o,l,s))}switch(n){case"input":dm(t),OA(t,r,!1);break;case"textarea":dm(t),MA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qc(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)JM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=El(lh.current),El(Wo.current),bm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vo]=e,(o=r.nodeValue!==n)&&(t=gi,t!==null))switch(t.tag){case 3:xm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vo]=e,e.stateNode=r}return Tr(e),null;case 13:if(ln(mn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fn&&mi!==null&&e.mode&1&&!(e.flags&128))gM(),Pu(),e.flags|=98560,o=!1;else if(o=bm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(fe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Vo]=e}else Pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),o=!1}else co!==null&&(r1(co),co=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mn.current&1?Kn===0&&(Kn=3):uE())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Cu(),Yw(t,e),t===null&&ih(e.stateNode.containerInfo),Tr(e),null;case 10:return GS(e.type._context),Tr(e),null;case 17:return ei(e.type)&&qg(),Tr(e),null;case 19:if(ln(mn),o=e.memoizedState,o===null)return Tr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Jd(o,!1);else{if(Kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zg(t),s!==null){for(e.flags|=128,Jd(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(mn,mn.current&1|2),e.child}t=t.sibling}o.tail!==null&&kn()>Iu&&(e.flags|=128,r=!0,Jd(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zg(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!fn)return Tr(e),null}else 2*kn()-o.renderingStartTime>Iu&&n!==1073741824&&(e.flags|=128,r=!0,Jd(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kn(),e.sibling=null,n=mn.current,Zt(mn,r?n&1|2:n&1),e):(Tr(e),null);case 22:case 23:return cE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?di&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function B8(t,e){switch(zS(e),e.tag){case 1:return ei(e.type)&&qg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cu(),ln(Zr),ln(Or),JS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QS(e),null;case 13:if(ln(mn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ln(mn),null;case 4:return Cu(),null;case 10:return GS(e.type._context),null;case 22:case 23:return cE(),null;case 24:return null;default:return null}}var Sm=!1,Ir=!1,U8=typeof WeakSet=="function"?WeakSet:Set,je=null;function qc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(t,e,r)}else n.current=null}function Xw(t,e,n){try{n()}catch(r){Tn(t,e,r)}}var EC=!1;function z8(t,e){if(Ow=Ug,t=rM(),BS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rw={focusedElem:t,selectionRange:n},Ug=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ro(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){Tn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return x=EC,EC=!1,x}function kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xw(e,n,o)}i=i.next}while(i!==r)}}function qv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZM(t){var e=t.alternate;e!==null&&(t.alternate=null,ZM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vo],delete e[sh],delete e[$w],delete e[T8],delete e[P8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eD(t){return t.tag===5||t.tag===3||t.tag===4}function TC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hg));else if(r!==4&&(t=t.child,t!==null))for(Jw(t,e,n),t=t.sibling;t!==null;)Jw(t,e,n),t=t.sibling}function Zw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zw(t,e,n),t=t.sibling;t!==null;)Zw(t,e,n),t=t.sibling}var ur=null,so=!1;function ia(t,e,n){for(n=n.child;n!==null;)tD(t,e,n),n=n.sibling}function tD(t,e,n){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(Lv,n)}catch{}switch(n.tag){case 5:Ir||qc(n,e);case 6:var r=ur,i=so;ur=null,ia(t,e,n),ur=r,so=i,ur!==null&&(so?(t=ur,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ur.removeChild(n.stateNode));break;case 18:ur!==null&&(so?(t=ur,n=n.stateNode,t.nodeType===8?X0(t.parentNode,n):t.nodeType===1&&X0(t,n),th(t)):X0(ur,n.stateNode));break;case 4:r=ur,i=so,ur=n.stateNode.containerInfo,so=!0,ia(t,e,n),ur=r,so=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xw(n,e,s),i=i.next}while(i!==r)}ia(t,e,n);break;case 1:if(!Ir&&(qc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tn(n,e,a)}ia(t,e,n);break;case 21:ia(t,e,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,ia(t,e,n),Ir=r):ia(t,e,n);break;default:ia(t,e,n)}}function PC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U8),e.forEach(function(r){var i=J8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ur=a.stateNode,so=!1;break e;case 3:ur=a.stateNode.containerInfo,so=!0;break e;case 4:ur=a.stateNode.containerInfo,so=!0;break e}a=a.return}if(ur===null)throw Error(fe(160));tD(o,s,i),ur=null,so=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nD(e,t),e=e.sibling}function nD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zi(e,t),jo(t),r&4){try{kf(3,t,t.return),qv(3,t)}catch(g){Tn(t,t.return,g)}try{kf(5,t,t.return)}catch(g){Tn(t,t.return,g)}}break;case 1:Zi(e,t),jo(t),r&512&&n!==null&&qc(n,n.return);break;case 5:if(Zi(e,t),jo(t),r&512&&n!==null&&qc(n,n.return),t.flags&32){var i=t.stateNode;try{Qf(i,"")}catch(g){Tn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ER(i,o),Sw(a,s);var c=Sw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?NR(i,f):d==="dangerouslySetInnerHTML"?AR(i,f):d==="children"?Qf(i,f):CS(i,d,f,c)}switch(a){case"input":vw(i,o);break;case"textarea":TR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Qc(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qc(i,!!o.multiple,o.defaultValue,!0):Qc(i,!!o.multiple,o.multiple?[]:"",!1))}i[sh]=o}catch(g){Tn(t,t.return,g)}}break;case 6:if(Zi(e,t),jo(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Tn(t,t.return,g)}}break;case 3:if(Zi(e,t),jo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{th(e.containerInfo)}catch(g){Tn(t,t.return,g)}break;case 4:Zi(e,t),jo(t);break;case 13:Zi(e,t),jo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(aE=kn())),r&4&&PC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ir=(c=Ir)||d,Zi(e,t),Ir=c):Zi(e,t),jo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(je=t,d=t.child;d!==null;){for(f=je=d;je!==null;){switch(h=je,m=h.child,h.tag){case 0:case 11:case 14:case 15:kf(4,h,h.return);break;case 1:qc(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Tn(r,n,g)}}break;case 5:qc(h,h.return);break;case 22:if(h.memoizedState!==null){CC(f);continue}}m!==null?(m.return=h,je=m):CC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CR("display",s))}catch(g){Tn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Tn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zi(e,t),jo(t),r&4&&PC(t);break;case 21:break;default:Zi(e,t),jo(t)}}function jo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eD(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qf(i,""),r.flags&=-33);var o=TC(t);Zw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=TC(t);Jw(t,a,s);break;default:throw Error(fe(161))}}catch(l){Tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W8(t,e,n){je=t,rD(t)}function rD(t,e,n){for(var r=(t.mode&1)!==0;je!==null;){var i=je,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ir;a=Sm;var c=Ir;if(Sm=s,(Ir=l)&&!c)for(je=i;je!==null;)s=je,l=s.child,s.tag===22&&s.memoizedState!==null?NC(i):l!==null?(l.return=s,je=l):NC(i);for(;o!==null;)je=o,rD(o),o=o.sibling;je=i,Sm=a,Ir=c}AC(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,je=o):AC(t)}}function AC(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||qv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ro(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&dC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&th(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Ir||e.flags&512&&Qw(e)}catch(h){Tn(e,e.return,h)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function CC(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function NC(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qv(4,e)}catch(l){Tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tn(e,i,l)}}var o=e.return;try{Qw(e)}catch(l){Tn(e,o,l)}break;case 5:var s=e.return;try{Qw(e)}catch(l){Tn(e,s,l)}}}catch(l){Tn(e,e.return,l)}if(e===t){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var H8=Math.ceil,ny=zs.ReactCurrentDispatcher,oE=zs.ReactCurrentOwner,Li=zs.ReactCurrentBatchConfig,Nt=0,or=null,Vn=null,pr=0,di=0,Gc=rl(0),Kn=0,fh=null,Gl=0,Gv=0,sE=0,Of=null,Xr=null,aE=0,Iu=1/0,ps=null,ry=!1,e1=null,Ra=null,Em=!1,Pa=null,iy=0,Rf=0,t1=null,mg=-1,gg=0;function zr(){return Nt&6?kn():mg!==-1?mg:mg=kn()}function Ma(t){return t.mode&1?Nt&2&&pr!==0?pr&-pr:C8.transition!==null?(gg===0&&(gg=BR()),gg):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:KR(t.type)),t):1}function xo(t,e,n,r){if(50<Rf)throw Rf=0,t1=null,Error(fe(185));vp(t,n,r),(!(Nt&2)||t!==or)&&(t===or&&(!(Nt&2)&&(Gv|=n),Kn===4&&ya(t,pr)),ti(t,r),n===1&&Nt===0&&!(e.mode&1)&&(Iu=kn()+500,zv&&il()))}function ti(t,e){var n=t.callbackNode;C9(t,e);var r=Bg(t,t===or?pr:0);if(r===0)n!==null&&LA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&LA(n),e===1)t.tag===0?A8(IC.bind(null,t)):hM(IC.bind(null,t)),S8(function(){!(Nt&6)&&il()}),n=null;else{switch(UR(r)){case 1:n=OS;break;case 4:n=FR;break;case 16:n=Vg;break;case 536870912:n=VR;break;default:n=Vg}n=dD(n,iD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iD(t,e){if(mg=-1,gg=0,Nt&6)throw Error(fe(327));var n=t.callbackNode;if(nu()&&t.callbackNode!==n)return null;var r=Bg(t,t===or?pr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oy(t,r);else{e=r;var i=Nt;Nt|=2;var o=sD();(or!==t||pr!==e)&&(ps=null,Iu=kn()+500,Ml(t,e));do try{K8();break}catch(a){oD(t,a)}while(!0);qS(),ny.current=o,Nt=i,Vn!==null?e=0:(or=null,pr=0,e=Kn)}if(e!==0){if(e===2&&(i=Cw(t),i!==0&&(r=i,e=n1(t,i))),e===1)throw n=fh,Ml(t,0),ya(t,r),ti(t,kn()),n;if(e===6)ya(t,r);else{if(i=t.current.alternate,!(r&30)&&!q8(i)&&(e=oy(t,r),e===2&&(o=Cw(t),o!==0&&(r=o,e=n1(t,o))),e===1))throw n=fh,Ml(t,0),ya(t,r),ti(t,kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:yl(t,Xr,ps);break;case 3:if(ya(t,r),(r&130023424)===r&&(e=aE+500-kn(),10<e)){if(Bg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dw(yl.bind(null,t,Xr,ps),e);break}yl(t,Xr,ps);break;case 4:if(ya(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-vo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H8(r/1960))-r,10<r){t.timeoutHandle=Dw(yl.bind(null,t,Xr,ps),r);break}yl(t,Xr,ps);break;case 5:yl(t,Xr,ps);break;default:throw Error(fe(329))}}}return ti(t,kn()),t.callbackNode===n?iD.bind(null,t):null}function n1(t,e){var n=Of;return t.current.memoizedState.isDehydrated&&(Ml(t,e).flags|=256),t=oy(t,e),t!==2&&(e=Xr,Xr=n,e!==null&&r1(e)),t}function r1(t){Xr===null?Xr=t:Xr.push.apply(Xr,t)}function q8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e){for(e&=~sE,e&=~Gv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vo(e),r=1<<n;t[n]=-1,e&=~r}}function IC(t){if(Nt&6)throw Error(fe(327));nu();var e=Bg(t,0);if(!(e&1))return ti(t,kn()),null;var n=oy(t,e);if(t.tag!==0&&n===2){var r=Cw(t);r!==0&&(e=r,n=n1(t,r))}if(n===1)throw n=fh,Ml(t,0),ya(t,e),ti(t,kn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,Xr,ps),ti(t,kn()),null}function lE(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(Iu=kn()+500,zv&&il())}}function Kl(t){Pa!==null&&Pa.tag===0&&!(Nt&6)&&nu();var e=Nt;Nt|=1;var n=Li.transition,r=Vt;try{if(Li.transition=null,Vt=1,t)return t()}finally{Vt=r,Li.transition=n,Nt=e,!(Nt&6)&&il()}}function cE(){di=Gc.current,ln(Gc)}function Ml(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_8(n)),Vn!==null)for(n=Vn.return;n!==null;){var r=n;switch(zS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qg();break;case 3:Cu(),ln(Zr),ln(Or),JS();break;case 5:QS(r);break;case 4:Cu();break;case 13:ln(mn);break;case 19:ln(mn);break;case 10:GS(r.type._context);break;case 22:case 23:cE()}n=n.return}if(or=t,Vn=t=Da(t.current,null),pr=di=e,Kn=0,fh=null,sE=Gv=Gl=0,Xr=Of=null,Sl!==null){for(e=0;e<Sl.length;e++)if(n=Sl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Sl=null}return t}function oD(t,e){do{var n=Vn;try{if(qS(),fg.current=ty,ey){for(var r=yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ey=!1}if(ql=0,nr=qn=yn=null,jf=!1,ch=0,oE.current=null,n===null||n.return===null){Kn=1,fh=e,Vn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=pr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yC(s);if(m!==null){m.flags&=-257,vC(m,s,a,o,e),m.mode&1&&gC(o,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var g=new Set;g.add(l),e.updateQueue=g}else x.add(l);break e}else{if(!(e&1)){gC(o,c,e),uE();break e}l=Error(fe(426))}}else if(fn&&a.mode&1){var v=yC(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vC(v,s,a,o,e),WS(Nu(l,a));break e}}o=l=Nu(l,a),Kn!==4&&(Kn=2),Of===null?Of=[o]:Of.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=UM(o,l,e);uC(o,b);break e;case 1:a=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=zM(o,a,e);uC(o,C);break e}}o=o.return}while(o!==null)}lD(n)}catch(E){e=E,Vn===n&&n!==null&&(Vn=n=n.return);continue}break}while(!0)}function sD(){var t=ny.current;return ny.current=ty,t===null?ty:t}function uE(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),or===null||!(Gl&268435455)&&!(Gv&268435455)||ya(or,pr)}function oy(t,e){var n=Nt;Nt|=2;var r=sD();(or!==t||pr!==e)&&(ps=null,Ml(t,e));do try{G8();break}catch(i){oD(t,i)}while(!0);if(qS(),Nt=n,ny.current=r,Vn!==null)throw Error(fe(261));return or=null,pr=0,Kn}function G8(){for(;Vn!==null;)aD(Vn)}function K8(){for(;Vn!==null&&!x9();)aD(Vn)}function aD(t){var e=uD(t.alternate,t,di);t.memoizedProps=t.pendingProps,e===null?lD(t):Vn=e,oE.current=null}function lD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B8(n,e),n!==null){n.flags&=32767,Vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kn=6,Vn=null;return}}else if(n=V8(n,e,di),n!==null){Vn=n;return}if(e=e.sibling,e!==null){Vn=e;return}Vn=e=t}while(e!==null);Kn===0&&(Kn=5)}function yl(t,e,n){var r=Vt,i=Li.transition;try{Li.transition=null,Vt=1,Y8(t,e,n,r)}finally{Li.transition=i,Vt=r}return null}function Y8(t,e,n,r){do nu();while(Pa!==null);if(Nt&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(N9(t,o),t===or&&(Vn=or=null,pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Em||(Em=!0,dD(Vg,function(){return nu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Li.transition,Li.transition=null;var s=Vt;Vt=1;var a=Nt;Nt|=4,oE.current=null,z8(t,n),nD(n,t),m8(Rw),Ug=!!Ow,Rw=Ow=null,t.current=n,W8(n),b9(),Nt=a,Vt=s,Li.transition=o}else t.current=n;if(Em&&(Em=!1,Pa=t,iy=i),o=t.pendingLanes,o===0&&(Ra=null),S9(n.stateNode),ti(t,kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ry)throw ry=!1,t=e1,e1=null,t;return iy&1&&t.tag!==0&&nu(),o=t.pendingLanes,o&1?t===t1?Rf++:(Rf=0,t1=t):Rf=0,il(),null}function nu(){if(Pa!==null){var t=UR(iy),e=Li.transition,n=Vt;try{if(Li.transition=null,Vt=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,iy=0,Nt&6)throw Error(fe(331));var i=Nt;for(Nt|=4,je=t.current;je!==null;){var o=je,s=o.child;if(je.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:kf(8,d,o)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var h=d.sibling,m=d.return;if(ZM(d),d===c){je=null;break}if(h!==null){h.return=m,je=h;break}je=m}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}je=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,je=s;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kf(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,je=b;break e}je=o.return}}var w=t.current;for(je=w;je!==null;){s=je;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,je=_;else e:for(s=w;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qv(9,a)}}catch(E){Tn(a,a.return,E)}if(a===s){je=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,je=C;break e}je=a.return}}if(Nt=i,il(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(Lv,t)}catch{}r=!0}return r}finally{Vt=n,Li.transition=e}}return!1}function jC(t,e,n){e=Nu(n,e),e=UM(t,e,1),t=Oa(t,e,1),e=zr(),t!==null&&(vp(t,1,e),ti(t,e))}function Tn(t,e,n){if(t.tag===3)jC(t,t,n);else for(;e!==null;){if(e.tag===3){jC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ra===null||!Ra.has(r))){t=Nu(n,t),t=zM(e,t,1),e=Oa(e,t,1),t=zr(),e!==null&&(vp(e,1,t),ti(e,t));break}}e=e.return}}function X8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&n,or===t&&(pr&n)===n&&(Kn===4||Kn===3&&(pr&130023424)===pr&&500>kn()-aE?Ml(t,0):sE|=n),ti(t,e)}function cD(t,e){e===0&&(t.mode&1?(e=pm,pm<<=1,!(pm&130023424)&&(pm=4194304)):e=1);var n=zr();t=js(t,e),t!==null&&(vp(t,e,n),ti(t,n))}function Q8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cD(t,n)}function J8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),cD(t,n)}var uD;uD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zr.current)Qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qr=!1,F8(t,e,n);Qr=!!(t.flags&131072)}else Qr=!1,fn&&e.flags&1048576&&pM(e,Yg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pg(t,e),t=e.pendingProps;var i=Tu(e,Or.current);tu(e,n),i=eE(null,e,r,t,i,n);var o=tE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(r)?(o=!0,Gg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YS(e),i.updater=Hv,e.stateNode=i,i._reactInternals=e,zw(e,r,t,n),e=qw(null,e,r,!0,o,n)):(e.tag=0,fn&&o&&US(e),Vr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ez(r),t=ro(r,t),i){case 0:e=Hw(null,e,r,t,n);break e;case 1:e=wC(null,e,r,t,n);break e;case 11:e=xC(null,e,r,t,n);break e;case 14:e=bC(null,e,r,ro(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),Hw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),wC(t,e,r,i,n);case 3:e:{if(GM(e),t===null)throw Error(fe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bM(t,e),Jg(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Nu(Error(fe(423)),e),e=_C(t,e,r,n,i);break e}else if(r!==i){i=Nu(Error(fe(424)),e),e=_C(t,e,r,n,i);break e}else for(mi=ka(e.stateNode.containerInfo.firstChild),gi=e,fn=!0,co=null,n=vM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pu(),r===i){e=ks(t,e,n);break e}Vr(t,e,r,n)}e=e.child}return e;case 5:return wM(e),t===null&&Vw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Mw(r,i)?s=null:o!==null&&Mw(r,o)&&(e.flags|=32),qM(t,e),Vr(t,e,s,n),e.child;case 6:return t===null&&Vw(e),null;case 13:return KM(t,e,n);case 4:return XS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Au(e,null,r,n):Vr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),xC(t,e,r,i,n);case 7:return Vr(t,e,e.pendingProps,n),e.child;case 8:return Vr(t,e,e.pendingProps.children,n),e.child;case 12:return Vr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Zt(Xg,r._currentValue),r._currentValue=s,o!==null)if(wo(o.value,s)){if(o.children===i.children&&!Zr.current){e=ks(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Es(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tu(e,n),i=Bi(i),r=r(i),e.flags|=1,Vr(t,e,r,n),e.child;case 14:return r=e.type,i=ro(r,e.pendingProps),i=ro(r.type,i),bC(t,e,r,i,n);case 15:return WM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),pg(t,e),e.tag=1,ei(r)?(t=!0,Gg(e)):t=!1,tu(e,n),BM(e,r,i),zw(e,r,i,n),qw(null,e,r,!0,t,n);case 19:return YM(t,e,n);case 22:return HM(t,e,n)}throw Error(fe(156,e.tag))};function dD(t,e){return LR(t,e)}function Z8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(t,e,n,r){return new Z8(t,e,n,r)}function dE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ez(t){if(typeof t=="function")return dE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===IS)return 11;if(t===jS)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=Mi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")dE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case $c:return Dl(n.children,i,o,e);case NS:s=8,i|=8;break;case hw:return t=Mi(12,n,e,i|2),t.elementType=hw,t.lanes=o,t;case pw:return t=Mi(13,n,e,i),t.elementType=pw,t.lanes=o,t;case mw:return t=Mi(19,n,e,i),t.elementType=mw,t.lanes=o,t;case wR:return Kv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xR:s=10;break e;case bR:s=9;break e;case IS:s=11;break e;case jS:s=14;break e;case ua:s=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Mi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Dl(t,e,n,r){return t=Mi(7,t,r,e),t.lanes=n,t}function Kv(t,e,n,r){return t=Mi(22,t,r,e),t.elementType=wR,t.lanes=n,t.stateNode={isHidden:!1},t}function ib(t,e,n){return t=Mi(6,t,null,e),t.lanes=n,t}function ob(t,e,n){return e=Mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fE(t,e,n,r,i,o,s,a,l){return t=new tz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YS(o),t}function nz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fD(t){if(!t)return Ha;t=t._reactInternals;e:{if(lc(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(ei(n))return fM(t,n,e)}return e}function hD(t,e,n,r,i,o,s,a,l){return t=fE(n,r,!0,t,i,o,s,a,l),t.context=fD(null),n=t.current,r=zr(),i=Ma(n),o=Es(r,i),o.callback=e??null,Oa(n,o,i),t.current.lanes=i,vp(t,i,r),ti(t,r),t}function Yv(t,e,n,r){var i=e.current,o=zr(),s=Ma(i);return n=fD(n),e.context===null?e.context=n:e.pendingContext=n,e=Es(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oa(i,e,s),t!==null&&(xo(t,i,s,o),dg(t,i,s)),s}function sy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hE(t,e){kC(t,e),(t=t.alternate)&&kC(t,e)}function rz(){return null}var pD=typeof reportError=="function"?reportError:function(t){console.error(t)};function pE(t){this._internalRoot=t}Xv.prototype.render=pE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Yv(t,e,null,null)};Xv.prototype.unmount=pE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kl(function(){Yv(null,t,null,null)}),e[Is]=null}};function Xv(t){this._internalRoot=t}Xv.prototype.unstable_scheduleHydration=function(t){if(t){var e=HR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ga.length&&e!==0&&e<ga[n].priority;n++);ga.splice(n,0,t),n===0&&GR(t)}};function mE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OC(){}function iz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=sy(s);o.call(c)}}var s=hD(e,r,t,0,null,!1,!1,"",OC);return t._reactRootContainer=s,t[Is]=s.current,ih(t.nodeType===8?t.parentNode:t),Kl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sy(l);a.call(c)}}var l=fE(t,0,!1,null,null,!1,!1,"",OC);return t._reactRootContainer=l,t[Is]=l.current,ih(t.nodeType===8?t.parentNode:t),Kl(function(){Yv(e,l,n,r)}),l}function Jv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=sy(s);a.call(l)}}Yv(e,s,t,i)}else s=iz(n,e,t,i,r);return sy(s)}zR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gf(e.pendingLanes);n!==0&&(RS(e,n|1),ti(e,kn()),!(Nt&6)&&(Iu=kn()+500,il()))}break;case 13:Kl(function(){var r=js(t,1);if(r!==null){var i=zr();xo(r,t,1,i)}}),hE(t,1)}};MS=function(t){if(t.tag===13){var e=js(t,134217728);if(e!==null){var n=zr();xo(e,t,134217728,n)}hE(t,134217728)}};WR=function(t){if(t.tag===13){var e=Ma(t),n=js(t,e);if(n!==null){var r=zr();xo(n,t,e,r)}hE(t,e)}};HR=function(){return Vt};qR=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Tw=function(t,e,n){switch(e){case"input":if(vw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uv(r);if(!i)throw Error(fe(90));SR(r),vw(r,i)}}}break;case"textarea":TR(t,n);break;case"select":e=n.value,e!=null&&Qc(t,!!n.multiple,e,!1)}};kR=lE;OR=Kl;var oz={usingClientEntryPoint:!1,Events:[bp,Bc,Uv,IR,jR,lE]},Zd={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sz={bundleType:Zd.bundleType,version:Zd.version,rendererPackageName:Zd.rendererPackageName,rendererConfig:Zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DR(t),t===null?null:t.stateNode},findFiberByHostInstance:Zd.findFiberByHostInstance||rz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{Lv=Tm.inject(sz),zo=Tm}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oz;bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mE(e))throw Error(fe(200));return nz(t,e,null,n)};bi.createRoot=function(t,e){if(!mE(t))throw Error(fe(299));var n=!1,r="",i=pD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fE(t,1,!1,null,null,n,!1,r,i),t[Is]=e.current,ih(t.nodeType===8?t.parentNode:t),new pE(e)};bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=DR(e),t=t===null?null:t.stateNode,t};bi.flushSync=function(t){return Kl(t)};bi.hydrate=function(t,e,n){if(!Qv(e))throw Error(fe(200));return Jv(null,t,e,!0,n)};bi.hydrateRoot=function(t,e,n){if(!mE(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=pD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=hD(e,null,t,1,n??null,i,!1,o,s),t[Is]=e.current,ih(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xv(e)};bi.render=function(t,e,n){if(!Qv(e))throw Error(fe(200));return Jv(null,t,e,!1,n)};bi.unmountComponentAtNode=function(t){if(!Qv(t))throw Error(fe(40));return t._reactRootContainer?(Kl(function(){Jv(null,null,t,!1,function(){t._reactRootContainer=null,t[Is]=null})}),!0):!1};bi.unstable_batchedUpdates=lE;bi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qv(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Jv(t,e,n,!1,r)};bi.version="18.3.1-next-f1338f8080-20240426";function mD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mD)}catch(t){console.error(t)}}mD(),mR.exports=bi;var cc=mR.exports;const az=Yt(cc);var gD,RC=cc;gD=RC.createRoot,RC.hydrateRoot;function lz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var yD={exports:{}},vD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=y;function cz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uz=typeof Object.is=="function"?Object.is:cz,dz=ju.useState,fz=ju.useEffect,hz=ju.useLayoutEffect,pz=ju.useDebugValue;function mz(t,e){var n=e(),r=dz({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return hz(function(){i.value=n,i.getSnapshot=e,sb(i)&&o({inst:i})},[t,n,e]),fz(function(){return sb(i)&&o({inst:i}),t(function(){sb(i)&&o({inst:i})})},[t]),pz(n),n}function sb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uz(t,n)}catch{return!0}}function gz(t,e){return e()}var yz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gz:mz;vD.useSyncExternalStore=ju.useSyncExternalStore!==void 0?ju.useSyncExternalStore:yz;yD.exports=vD;var vz=yD.exports;const xz=hR.useInsertionEffect,bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wz=bz?y.useLayoutEffect:y.useEffect,_z=xz||wz,xD=t=>{const e=y.useRef([t,(...n)=>e[0](...n)]).current;return _z(()=>{e[0]=t}),e[1]},Sz="popstate",gE="pushState",yE="replaceState",Ez="hashchange",MC=[Sz,gE,yE,Ez],Tz=t=>{for(const e of MC)addEventListener(e,t);return()=>{for(const e of MC)removeEventListener(e,t)}},bD=(t,e)=>vz.useSyncExternalStore(Tz,t,e),Pz=()=>location.search,Az=({ssrSearch:t=""}={})=>bD(Pz,()=>t),DC=()=>location.pathname,Cz=({ssrPath:t}={})=>bD(DC,t?()=>t:DC),Nz=(t,{replace:e=!1,state:n=null}={})=>history[e?yE:gE](n,"",t),Iz=(t={})=>[Cz(t),Nz],$C=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$C]>"u"){for(const t of[gE,yE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$C,{value:!0})}const jz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",wD=(t="")=>t==="/"?"":t,kz=(t,e)=>t[0]==="~"?t.slice(1):wD(e)+t,Oz=(t="",e)=>jz(LC(wD(t)),LC(e)),LC=t=>{try{return decodeURI(t)}catch{return t}},_D={hook:Iz,searchHook:Az,parser:lz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},SD=y.createContext(_D),_p=()=>y.useContext(SD),ED={},TD=y.createContext(ED),Rz=()=>y.useContext(TD),Zv=t=>{const[e,n]=t.hook(t);return[Oz(t.base,e),xD((r,i)=>n(kz(r,t.base),i))]},ol=()=>Zv(_p()),PD=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},AD=({children:t,...e})=>{var d,f;const n=_p(),r=e.hook?_D:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=y.useRef({}),l=a.current,c=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&m!==c[h]&&(a.current=c={...c}),c[h]=m,m!==r[h]&&(i=c)}return y.createElement(SD.Provider,{value:i,children:t})},FC=({children:t,component:e},n)=>e?y.createElement(e,{params:n}):typeof t=="function"?t(n):t,Mz=t=>{let e=y.useRef(ED),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},cs=({path:t,nest:e,match:n,...r})=>{const i=_p(),[o]=Zv(i),[s,a,l]=n??PD(i.parser,t,o,e),c=Mz({...Rz(),...a});if(!s)return null;const d=l?y.createElement(AD,{base:l},FC(r,c)):FC(r,c);return y.createElement(TD.Provider,{value:c,children:d})};y.forwardRef((t,e)=>{const n=_p(),[r,i]=Zv(n),{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...m}=t,x=xD(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&y.isValidElement(c)?y.cloneElement(c,{onClick:x,href:g}):y.createElement("a",{...m,onClick:x,href:g,className:d!=null&&d.call?d(r===s):d,children:c,ref:e})});const CD=t=>Array.isArray(t)?t.flatMap(e=>CD(e&&e.type===y.Fragment?e.props.children:e)):[t],Dz=({children:t,location:e})=>{const n=_p(),[r]=Zv(n);for(const i of CD(t)){let o=0;if(y.isValidElement(i)&&(o=PD(n.parser,i.props.path,e||r,i.props.nest))[0])return y.cloneElement(i,{match:o})}return null};var ex=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tx=typeof window>"u"||"Deno"in globalThis;function io(){}function $z(t,e){return typeof t=="function"?t(e):t}function Lz(t){return typeof t=="number"&&t>=0&&t!==1/0}function Fz(t,e){return Math.max(t+(e||0)-Date.now(),0)}function VC(t,e){return typeof t=="function"?t(e):t}function Vz(t,e){return typeof t=="function"?t(e):t}function BC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==vE(s,e.options))return!1}else if(!ph(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function UC(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(hh(e.options.mutationKey)!==hh(o))return!1}else if(!ph(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vE(t,e){return((e==null?void 0:e.queryKeyHashFn)||hh)(t)}function hh(t){return JSON.stringify(t,(e,n)=>i1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ph(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ph(t[n],e[n])):!1}function ND(t,e){if(t===e)return t;const n=zC(t)&&zC(e);if(n||i1(t)&&i1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=ND(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function zC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function i1(t){if(!WC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WC(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bz(t){return new Promise(e=>{setTimeout(e,t)})}function Uz(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ND(t,e):e}function zz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xE=Symbol();function ID(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jl,ba,mu,Y2,Hz=(Y2=class extends ex{constructor(){super();Mt(this,jl);Mt(this,ba);Mt(this,mu);ut(this,mu,e=>{if(!tx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,ba)||this.setEventListener(se(this,mu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,ba))==null||e.call(this),ut(this,ba,void 0))}setEventListener(e){var n;ut(this,mu,e),(n=se(this,ba))==null||n.call(this),ut(this,ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,jl)!==e&&(ut(this,jl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,jl)=="boolean"?se(this,jl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jl=new WeakMap,ba=new WeakMap,mu=new WeakMap,Y2),jD=new Hz,gu,wa,yu,X2,qz=(X2=class extends ex{constructor(){super();Mt(this,gu,!0);Mt(this,wa);Mt(this,yu);ut(this,yu,e=>{if(!tx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,wa)||this.setEventListener(se(this,yu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,wa))==null||e.call(this),ut(this,wa,void 0))}setEventListener(e){var n;ut(this,yu,e),(n=se(this,wa))==null||n.call(this),ut(this,wa,e(this.setOnline.bind(this)))}setOnline(e){se(this,gu)!==e&&(ut(this,gu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,gu)}},gu=new WeakMap,wa=new WeakMap,yu=new WeakMap,X2),ay=new qz;function Gz(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Kz(t){return Math.min(1e3*2**t,3e4)}function kD(t){return(t??"online")==="online"?ay.isOnline():!0}var OD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ab(t){return t instanceof OD}function RD(t){let e=!1,n=0,r=!1,i;const o=Gz(),s=g=>{var v;r||(h(new OD(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>jD.isFocused()&&(t.networkMode==="always"||ay.isOnline())&&t.canRun(),d=()=>kD(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=b=>{(r||c())&&g(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var N;if(r)return;const w=t.retry??(tx?0:3),_=t.retryDelay??Kz,C=typeof _=="function"?_(n,b):_,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!E){h(b);return}n++,(N=t.onFail)==null||N.call(t,n,b),Bz(C).then(()=>c()?void 0:m()).then(()=>{e?h(b):x()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():m().then(x),o)}}function Yz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Br=Yz(),kl,Q2,MD=(Q2=class{constructor(){Mt(this,kl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lz(this.gcTime)&&ut(this,kl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tx?1/0:5*60*1e3))}clearGcTimeout(){se(this,kl)&&(clearTimeout(se(this,kl)),ut(this,kl,void 0))}},kl=new WeakMap,Q2),vu,xu,Ai,Ar,mp,Ol,oo,hs,J2,Xz=(J2=class extends MD{constructor(n){super();Mt(this,oo);Mt(this,vu);Mt(this,xu);Mt(this,Ai);Mt(this,Ar);Mt(this,mp);Mt(this,Ol);ut(this,Ol,!1),ut(this,mp,n.defaultOptions),this.setOptions(n.options),this.observers=[],ut(this,Ai,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ut(this,vu,Jz(this.options)),this.state=n.state??se(this,vu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=se(this,Ar))==null?void 0:n.promise}setOptions(n){this.options={...se(this,mp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Ai).remove(this)}setData(n,r){const i=Uz(this.state.data,n,this.options);return Sr(this,oo,hs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Sr(this,oo,hs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=se(this,Ar))==null?void 0:i.promise;return(o=se(this,Ar))==null||o.cancel(n),r?r.then(io).catch(io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,vu))}isActive(){return this.observers.some(n=>Vz(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Fz(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,Ar))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,Ar))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),se(this,Ai).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(se(this,Ar)&&(se(this,Ol)?se(this,Ar).cancel({revert:!0}):se(this,Ar).cancelRetry()),this.scheduleGc()),se(this,Ai).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sr(this,oo,hs).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,Ar))return se(this,Ar).continueRetry(),se(this,Ar).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ut(this,Ol,!0),i.signal)})},s=()=>{const h=ID(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),ut(this,Ol,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),ut(this,xu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Sr(this,oo,hs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,x,g,v;ab(h)&&h.silent||Sr(this,oo,hs).call(this,{type:"error",error:h}),ab(h)||((x=(m=se(this,Ai).config).onError)==null||x.call(m,h,this),(v=(g=se(this,Ai).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ut(this,Ar,RD({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,x,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(x=(m=se(this,Ai).config).onSuccess)==null||x.call(m,h,this),(v=(g=se(this,Ai).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Sr(this,oo,hs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Sr(this,oo,hs).call(this,{type:"pause"})},onContinue:()=>{Sr(this,oo,hs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),se(this,Ar).start()}},vu=new WeakMap,xu=new WeakMap,Ai=new WeakMap,Ar=new WeakMap,mp=new WeakMap,Ol=new WeakMap,oo=new WeakSet,hs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Qz(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return ab(o)&&o.revert&&se(this,xu)?{...se(this,xu),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),se(this,Ai).notify({query:this,type:"updated",action:n})})},J2);function Qz(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Jz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Do,Z2,Zz=(Z2=class extends ex{constructor(e={}){super();Mt(this,Do);this.config=e,ut(this,Do,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??vE(i,n);let s=this.get(o);return s||(s=new Xz({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){se(this,Do).has(e.queryHash)||(se(this,Do).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,Do).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,Do).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Do).get(e)}getAll(){return[...se(this,Do).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>BC(e,r)):n}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Do=new WeakMap,Z2),$o,Fr,Rl,Lo,la,eR,eW=(eR=class extends MD{constructor(n){super();Mt(this,Lo);Mt(this,$o);Mt(this,Fr);Mt(this,Rl);this.mutationId=n.mutationId,ut(this,Fr,n.mutationCache),ut(this,$o,[]),this.state=n.state||tW(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){se(this,$o).includes(n)||(se(this,$o).push(n),this.clearGcTimeout(),se(this,Fr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ut(this,$o,se(this,$o).filter(r=>r!==n)),this.scheduleGc(),se(this,Fr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){se(this,$o).length||(this.state.status==="pending"?this.scheduleGc():se(this,Fr).remove(this))}continue(){var n;return((n=se(this,Rl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,c,d,f,h,m,x,g,v,b,w,_,C,E,N,S,P;ut(this,Rl,RD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Sr(this,Lo,la).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Sr(this,Lo,la).call(this,{type:"pause"})},onContinue:()=>{Sr(this,Lo,la).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Fr).canRun(this)}));const r=this.state.status==="pending",i=!se(this,Rl).canStart();try{if(!r){Sr(this,Lo,la).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=se(this,Fr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Sr(this,Lo,la).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await se(this,Rl).start();return await((d=(c=se(this,Fr).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,n,this.state.context)),await((x=(m=se(this,Fr).config).onSettled)==null?void 0:x.call(m,A,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,A,null,n,this.state.context)),Sr(this,Lo,la).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(b=se(this,Fr).config).onError)==null?void 0:w.call(b,A,n,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,A,n,this.state.context)),await((N=(E=se(this,Fr).config).onSettled)==null?void 0:N.call(E,void 0,A,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,A,n,this.state.context)),A}finally{Sr(this,Lo,la).call(this,{type:"error",error:A})}}finally{se(this,Fr).runNext(this)}}},$o=new WeakMap,Fr=new WeakMap,Rl=new WeakMap,Lo=new WeakSet,la=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Br.batch(()=>{se(this,$o).forEach(i=>{i.onMutationUpdate(n)}),se(this,Fr).notify({mutation:this,type:"updated",action:n})})},eR);function tW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ui,gp,tR,nW=(tR=class extends ex{constructor(e={}){super();Mt(this,ui);Mt(this,gp);this.config=e,ut(this,ui,new Map),ut(this,gp,Date.now())}build(e,n,r){const i=new eW({mutationCache:this,mutationId:++am(this,gp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Pm(e),r=se(this,ui).get(n)??[];r.push(e),se(this,ui).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Pm(e);if(se(this,ui).has(n)){const i=(r=se(this,ui).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?se(this,ui).delete(n):se(this,ui).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=se(this,ui).get(Pm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=se(this,ui).get(Pm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,ui).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UC(n,r))}findAll(e={}){return this.getAll().filter(n=>UC(e,n))}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(e.map(n=>n.continue().catch(io))))}},ui=new WeakMap,gp=new WeakMap,tR);function Pm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function HC(t){return{onFetch:(e,n)=>{var d,f,h,m,x;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=ID(e.options,e.fetchOptions),w=async(_,C,E)=>{if(g)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const N={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};v(N);const S=await b(N),{maxPages:P}=e.options,A=E?Wz:zz;return{pages:A(_.pages,S,P),pageParams:A(_.pageParams,C,P)}};if(i&&o.length){const _=i==="backward",C=_?rW:qC,E={pages:o,pageParams:s},N=C(r,E);a=await w(E,N,_)}else{const _=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:qC(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function rW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Sn,_a,Sa,bu,wu,Ea,_u,Su,nR,iW=(nR=class{constructor(t={}){Mt(this,Sn);Mt(this,_a);Mt(this,Sa);Mt(this,bu);Mt(this,wu);Mt(this,Ea);Mt(this,_u);Mt(this,Su);ut(this,Sn,t.queryCache||new Zz),ut(this,_a,t.mutationCache||new nW),ut(this,Sa,t.defaultOptions||{}),ut(this,bu,new Map),ut(this,wu,new Map),ut(this,Ea,0)}mount(){am(this,Ea)._++,se(this,Ea)===1&&(ut(this,_u,jD.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Sn).onFocus())})),ut(this,Su,ay.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,Sn).onOnline())})))}unmount(){var t,e;am(this,Ea)._--,se(this,Ea)===0&&((t=se(this,_u))==null||t.call(this),ut(this,_u,void 0),(e=se(this,Su))==null||e.call(this),ut(this,Su,void 0))}isFetching(t){return se(this,Sn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,_a).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Sn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=se(this,Sn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(VC(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return se(this,Sn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=se(this,Sn).get(r.queryHash),o=i==null?void 0:i.state.data,s=$z(e,o);if(s!==void 0)return se(this,Sn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>se(this,Sn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,Sn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,Sn);Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,Sn),r={type:"active",...t};return Br.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Br.batch(()=>se(this,Sn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(io).catch(io)}invalidateQueries(t={},e={}){return Br.batch(()=>{if(se(this,Sn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Br.batch(()=>se(this,Sn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(io)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(io)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,Sn).build(this,e);return n.isStaleByTime(VC(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(io).catch(io)}fetchInfiniteQuery(t){return t.behavior=HC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(io).catch(io)}ensureInfiniteQueryData(t){return t.behavior=HC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ay.isOnline()?se(this,_a).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Sn)}getMutationCache(){return se(this,_a)}getDefaultOptions(){return se(this,Sa)}setDefaultOptions(t){ut(this,Sa,t)}setQueryDefaults(t,e){se(this,bu).set(hh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,bu).values()];let n={};return e.forEach(r=>{ph(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){se(this,wu).set(hh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,wu).values()];let n={};return e.forEach(r=>{ph(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,Sa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,Sa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,Sn).clear(),se(this,_a).clear()}},Sn=new WeakMap,_a=new WeakMap,Sa=new WeakMap,bu=new WeakMap,wu=new WeakMap,Ea=new WeakMap,_u=new WeakMap,Su=new WeakMap,nR),oW=y.createContext(void 0),sW=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(oW.Provider,{value:t,children:e}));async function aW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const lW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await aW(n),await n.json())},cW=new iW({defaultOptions:{queries:{queryFn:lW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),uW=1,dW=1e6;let lb=0;function fW(){return lb=(lb+1)%Number.MAX_SAFE_INTEGER,lb.toString()}const cb=new Map,GC=t=>{if(cb.has(t))return;const e=setTimeout(()=>{cb.delete(t),Mf({type:"REMOVE_TOAST",toastId:t})},dW);cb.set(t,e)},hW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,uW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?GC(n):t.toasts.forEach(r=>{GC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vg=[];let xg={toasts:[]};function Mf(t){xg=hW(xg,t),vg.forEach(e=>{e(xg)})}function pW({...t}){const e=fW(),n=i=>Mf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Mf({type:"DISMISS_TOAST",toastId:e});return Mf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Sp(){const[t,e]=y.useState(xg);return y.useEffect(()=>(vg.push(e),()=>{const n=vg.indexOf(e);n>-1&&vg.splice(n,1)}),[t]),{...t,toast:pW,dismiss:n=>Mf({type:"DISMISS_TOAST",toastId:n})}}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function KC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DD(...t){return e=>{let n=!1;const r=t.map(i=>{const o=KC(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():KC(t[i],null)}}}}function dt(...t){return y.useCallback(DD(...t),t)}function mW(t,e){const n=y.createContext(e),r=o=>{const{children:s,...a}=o,l=y.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=y.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function _i(t,e=[]){let n=[];function r(o,s){const a=y.createContext(s),l=n.length;n=[...n,s];const c=f=>{var b;const{scope:h,children:m,...x}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,v=y.useMemo(()=>x,Object.values(x));return u.jsx(g.Provider,{value:v,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,x=y.useContext(m);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>y.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,gW(i,...e)]}function gW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function ku(t){const e=vW(t),n=y.forwardRef((r,i)=>{const{children:o,...s}=r,a=y.Children.toArray(o),l=a.find(bW);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...s,ref:i,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var yW=ku("Slot");function vW(t){const e=y.forwardRef((n,r)=>{const{children:i,...o}=n;if(y.isValidElement(i)){const s=_W(i),a=wW(o,i.props);return i.type!==y.Fragment&&(a.ref=r?DD(r,s):s),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $D=Symbol("radix.slottable");function xW(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$D,e}function bW(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$D}function wW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function _W(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ep(t){const e=t+"CollectionProvider",[n,r]=_i(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:b}=g,w=z.useRef(null),_=z.useRef(new Map).current;return u.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:b})};s.displayName=e;const a=t+"CollectionSlot",l=ku(a),c=z.forwardRef((g,v)=>{const{scope:b,children:w}=g,_=o(a,b),C=dt(v,_.collectionRef);return u.jsx(l,{ref:C,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=ku(d),m=z.forwardRef((g,v)=>{const{scope:b,children:w,..._}=g,C=z.useRef(null),E=dt(v,C),N=o(d,b);return z.useEffect(()=>(N.itemMap.set(C,{ref:C,..._}),()=>void N.itemMap.delete(C))),u.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function x(g){const v=o(t+"CollectionConsumer",g);return z.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>_.indexOf(N.ref.current)-_.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},x,r]}var SW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=SW.reduce((t,e)=>{const n=ku(`Primitive.${e}`),r=y.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function LD(t,e){t&&cc.flushSync(()=>t.dispatchEvent(e))}function On(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TW="DismissableLayer",o1="dismissableLayer.update",PW="dismissableLayer.pointerDownOutside",AW="dismissableLayer.focusOutside",YC,FD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tp=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=y.useContext(FD),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),x=dt(e,S=>f(S)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=d?g.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=b,E=NW(S=>{const P=S.target,A=[...c.branches].some(k=>k.contains(P));!C||A||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},h),N=IW(S=>{const P=S.target;[...c.branches].some(k=>k.contains(P))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},h);return EW(S=>{w===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),XC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=YC)}},[d,h,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),XC())},[d,c]),y.useEffect(()=>{const S=()=>m({});return document.addEventListener(o1,S),()=>document.removeEventListener(o1,S)},[]),u.jsx(Ve.div,{...l,ref:x,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,N.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,E.onPointerDownCapture)})});Tp.displayName=TW;var CW="DismissableLayerBranch",VD=y.forwardRef((t,e)=>{const n=y.useContext(FD),r=y.useRef(null),i=dt(e,r);return y.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Ve.div,{...t,ref:i})});VD.displayName=CW;function NW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){BD(PW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function IW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=y.useRef(!1);return y.useEffect(()=>{const i=o=>{o.target&&!r.current&&BD(AW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function XC(){const t=new CustomEvent(o1);document.dispatchEvent(t)}function BD(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LD(i,o):i.dispatchEvent(o)}var jW=Tp,kW=VD,sr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},OW="Portal",nx=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=y.useState(!1);sr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?az.createPortal(u.jsx(Ve.div,{...r,ref:e}),s):null});nx.displayName=OW;function RW(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Hi=t=>{const{present:e,children:n}=t,r=MW(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),o=dt(r.ref,DW(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:o}):null};Hi.displayName="Presence";function MW(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),o=y.useRef("none"),s=t?"mounted":"unmounted",[a,l]=RW(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Am(r.current);o.current=a==="mounted"?c:"none"},[a]),sr(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=Am(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Am(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=Am(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Am(t){return(t==null?void 0:t.animationName)||"none"}function DW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _o({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$W({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=On(n),l=y.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function $W({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),o=On(e);return y.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var LW="VisuallyHidden",Pp=y.forwardRef((t,e)=>u.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Pp.displayName=LW;var FW=Pp,bE="ToastProvider",[wE,VW,BW]=Ep("Toast"),[UD,dNe]=_i("Toast",[BW]),[UW,rx]=UD(bE),zD=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bE}\`. Expected non-empty \`string\`.`),u.jsx(wE.Provider,{scope:e,children:u.jsx(UW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};zD.displayName=bE;var WD="ToastViewport",zW=["F8"],s1="toast.viewportPause",a1="toast.viewportResume",HD=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=zW,label:i="Notifications ({hotkey})",...o}=t,s=rx(WD,n),a=VW(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=dt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;y.useEffect(()=>{const v=b=>{var _;r.length!==0&&r.every(C=>b[C]||b.code===C)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),y.useEffect(()=>{const v=l.current,b=f.current;if(x&&v&&b){const w=()=>{if(!s.isClosePausedRef.current){const N=new CustomEvent(s1);b.dispatchEvent(N),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const N=new CustomEvent(a1);b.dispatchEvent(N),s.isClosePausedRef.current=!1}},C=N=>{!v.contains(N.relatedTarget)&&_()},E=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[x,s.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:v})=>{const w=a().map(_=>{const C=_.ref.current,E=[C,...n7(C)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const v=f.current;if(v){const b=w=>{var E,N,S;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const P=document.activeElement,A=w.shiftKey;if(w.target===v&&A){(E=c.current)==null||E.focus();return}const O=g({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(L=>L===P);ub(O.slice(R+1))?w.preventDefault():A?(N=c.current)==null||N.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[a,g]),u.jsxs(kW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(l1,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});ub(v)}}),u.jsx(wE.Slot,{scope:n,children:u.jsx(Ve.ol,{tabIndex:-1,...o,ref:h})}),x&&u.jsx(l1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});ub(v)}})]})});HD.displayName=WD;var qD="ToastFocusProxy",l1=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=rx(qD,n);return u.jsx(Pp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});l1.displayName=qD;var ix="Toast",WW="toast.swipeStart",HW="toast.swipeMove",qW="toast.swipeCancel",GW="toast.swipeEnd",GD=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=_o({prop:r,defaultProp:i,onChange:o});return u.jsx(Hi,{present:n||a,children:u.jsx(XW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:On(t.onPause),onResume:On(t.onResume),onSwipeStart:ke(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ke(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});GD.displayName=ix;var[KW,YW]=UD(ix,{onClose(){}}),XW=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=t,g=rx(ix,n),[v,b]=y.useState(null),w=dt(e,L=>b(L)),_=y.useRef(null),C=y.useRef(null),E=i||g.duration,N=y.useRef(0),S=y.useRef(E),P=y.useRef(0),{onToastAdd:A,onToastRemove:k}=g,I=On(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),s()}),O=y.useCallback(L=>{!L||L===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(I,L))},[I]);y.useEffect(()=>{const L=g.viewport;if(L){const B=()=>{O(S.current),c==null||c()},U=()=>{const W=new Date().getTime()-N.current;S.current=S.current-W,window.clearTimeout(P.current),l==null||l()};return L.addEventListener(s1,U),L.addEventListener(a1,B),()=>{L.removeEventListener(s1,U),L.removeEventListener(a1,B)}}},[g.viewport,E,l,c,O]),y.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(E)},[o,E,g.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>k()),[A,k]);const R=y.useMemo(()=>v?e$(v):null,[v]);return g.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(QW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(KW,{scope:n,onClose:I,children:cc.createPortal(u.jsx(wE.ItemSlot,{scope:n,children:u.jsx(jW,{asChild:!0,onEscapeKeyDown:ke(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ke(t.onPointerDown,L=>{L.button===0&&(_.current={x:L.clientX,y:L.clientY})}),onPointerMove:ke(t.onPointerMove,L=>{if(!_.current)return;const B=L.clientX-_.current.x,U=L.clientY-_.current.y,W=!!C.current,F=["left","right"].includes(g.swipeDirection),V=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=F?V(0,B):0,Q=F?0:V(0,U),ne=L.pointerType==="touch"?10:2,ge={x:ee,y:Q},Ce={originalEvent:L,delta:ge};W?(C.current=ge,Cm(HW,f,Ce,{discrete:!1})):QC(ge,g.swipeDirection,ne)?(C.current=ge,Cm(WW,d,Ce,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(B)>ne||Math.abs(U)>ne)&&(_.current=null)}),onPointerUp:ke(t.onPointerUp,L=>{const B=C.current,U=L.target;if(U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),C.current=null,_.current=null,B){const W=L.currentTarget,F={originalEvent:L,delta:B};QC(B,g.swipeDirection,g.swipeThreshold)?Cm(GW,m,F,{discrete:!0}):Cm(qW,h,F,{discrete:!0}),W.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),QW=t=>{const{__scopeToast:e,children:n,...r}=t,i=rx(ix,e),[o,s]=y.useState(!1),[a,l]=y.useState(!1);return e7(()=>s(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(nx,{asChild:!0,children:u.jsx(Pp,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},JW="ToastTitle",KD=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ve.div,{...r,ref:e})});KD.displayName=JW;var ZW="ToastDescription",YD=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ve.div,{...r,ref:e})});YD.displayName=ZW;var XD="ToastAction",QD=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(ZD,{altText:n,asChild:!0,children:u.jsx(_E,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XD}\`. Expected non-empty \`string\`.`),null)});QD.displayName=XD;var JD="ToastClose",_E=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=YW(JD,n);return u.jsx(ZD,{asChild:!0,children:u.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,i.onClose)})})});_E.displayName=JD;var ZD=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function e$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),t7(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...e$(r))}}),e}function Cm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LD(i,o):i.dispatchEvent(o)}var QC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function e7(t=()=>{}){const e=On(t);sr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function t7(t){return t.nodeType===t.ELEMENT_NODE}function n7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ub(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var r7=zD,t$=HD,n$=GD,r$=KD,i$=YD,o$=QD,s$=_E;function a$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a$(t))&&(r&&(r+=" "),r+=e);return r}const JC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZC=St,SE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ZC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=JC(d)||JC(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...c,f,h]:c},[]);return ZC(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>y.createElement("svg",{ref:l,...o7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:l$("lucide",i),...a},[...s.map(([c,d])=>y.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const n=y.forwardRef(({className:r,...i},o)=>y.createElement(s7,{ref:o,iconNode:e,className:l$(`lucide-${i7(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=Ye("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Ye("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=Ye("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),AE="-",A7=t=>{const e=N7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(AE);return a[0]===""&&a.length!==1&&a.shift(),h$(a,e)||C7(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},h$=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?h$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(AE);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},rN=/^\[(.+)\]$/,C7=t=>{if(rN.test(t)){const e=rN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},N7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return j7(Object.entries(t.classGroups),n).forEach(([o,s])=>{d1(s,r,o,e)}),r},d1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:iN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(I7(i)){d1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{d1(s,iN(e,o),n,r)})})},iN=(t,e)=>{let n=t;return e.split(AE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},I7=t=>t.isThemeGetter,j7=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,k7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},p$="!",O7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,d=0,f;for(let v=0;v<a.length;v++){let b=a[v];if(c===0){if(b===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(b==="/"){f=v;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(p$),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},R7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},M7=t=>({cache:k7(t.cacheSize),parseClassName:O7(t),...A7(t)}),D7=/\s+/,$7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(D7);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let x=!!m,g=r(x?h.substring(0,m):h);if(!g){if(!x){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}x=!1}const v=R7(d).join(":"),b=f?v+p$:v,w=b+g;if(o.includes(w))continue;o.push(w);const _=i(g,x);for(let C=0;C<_.length;++C){const E=_[C];o.push(b+E)}a=c+(a.length>0?" "+a:a)}return a};function L7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=m$(e))&&(r&&(r+=" "),r+=n);return r}const m$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=m$(t[r]))&&(n&&(n+=" "),n+=e);return n};function F7(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=M7(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=$7(l,n);return i(l,d),d}return function(){return o(L7.apply(null,arguments))}}const nn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},g$=/^\[(?:([a-z-]+):)?(.+)\]$/i,V7=/^\d+\/\d+$/,B7=new Set(["px","full","screen"]),U7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,H7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=t=>iu(t)||B7.has(t)||V7.test(t),oa=t=>gd(t,"length",eH),iu=t=>!!t&&!Number.isNaN(Number(t)),db=t=>gd(t,"number",iu),ef=t=>!!t&&Number.isInteger(Number(t)),G7=t=>t.endsWith("%")&&iu(t.slice(0,-1)),at=t=>g$.test(t),sa=t=>U7.test(t),K7=new Set(["length","size","percentage"]),Y7=t=>gd(t,K7,y$),X7=t=>gd(t,"position",y$),Q7=new Set(["image","url"]),J7=t=>gd(t,Q7,nH),Z7=t=>gd(t,"",tH),tf=()=>!0,gd=(t,e,n)=>{const r=g$.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},eH=t=>z7.test(t)&&!W7.test(t),y$=()=>!1,tH=t=>H7.test(t),nH=t=>q7.test(t),rH=()=>{const t=nn("colors"),e=nn("spacing"),n=nn("blur"),r=nn("brightness"),i=nn("borderColor"),o=nn("borderRadius"),s=nn("borderSpacing"),a=nn("borderWidth"),l=nn("contrast"),c=nn("grayscale"),d=nn("hueRotate"),f=nn("invert"),h=nn("gap"),m=nn("gradientColorStops"),x=nn("gradientColorStopPositions"),g=nn("inset"),v=nn("margin"),b=nn("opacity"),w=nn("padding"),_=nn("saturate"),C=nn("scale"),E=nn("sepia"),N=nn("skew"),S=nn("space"),P=nn("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",at,e],O=()=>[at,e],R=()=>["",us,oa],L=()=>["auto",iu,at],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",at],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[iu,at];return{cacheSize:500,separator:":",theme:{colors:[tf],spacing:[us,oa],blur:["none","",sa,at],brightness:Q(),borderColor:[t],borderRadius:["none","","full",sa,at],borderSpacing:O(),borderWidth:R(),contrast:Q(),grayscale:V(),hueRotate:Q(),invert:V(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[G7,oa],inset:I(),margin:I(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:V(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),at]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ef,at]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ef,at]}],"grid-cols":[{"grid-cols":[tf]}],"col-start-end":[{col:["auto",{span:["full",ef,at]},at]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[tf]}],"row-start-end":[{row:["auto",{span:[ef,at]},at]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,e]}],"min-w":[{"min-w":[at,e,"min","max","fit"]}],"max-w":[{"max-w":[at,e,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[at,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",db]}],"font-family":[{font:[tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",iu,db]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,oa]}],"underline-offset":[{"underline-offset":["auto",us,at]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),X7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[us,at]}],"outline-w":[{outline:[us,oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[us,oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",sa,Z7]}],"shadow-color":[{shadow:[tf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sa,at]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ef,at]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,oa,db]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iH=F7(rH);function ft(...t){return iH(St(t))}const oH=r7,v$=y.forwardRef(({className:t,...e},n)=>u.jsx(t$,{ref:n,className:ft("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));v$.displayName=t$.displayName;const sH=SE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),x$=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(n$,{ref:r,className:ft(sH({variant:e}),t),...n}));x$.displayName=n$.displayName;const aH=y.forwardRef(({className:t,...e},n)=>u.jsx(o$,{ref:n,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));aH.displayName=o$.displayName;const b$=y.forwardRef(({className:t,...e},n)=>u.jsx(s$,{ref:n,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(xh,{className:"h-4 w-4"})}));b$.displayName=s$.displayName;const w$=y.forwardRef(({className:t,...e},n)=>u.jsx(r$,{ref:n,className:ft("text-sm font-semibold",t),...e}));w$.displayName=r$.displayName;const _$=y.forwardRef(({className:t,...e},n)=>u.jsx(i$,{ref:n,className:ft("text-sm opacity-90",t),...e}));_$.displayName=i$.displayName;function lH(){const{toasts:t}=Sp();return u.jsxs(oH,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return u.jsxs(x$,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(w$,{children:n}),r&&u.jsx(_$,{children:r})]}),i,u.jsx(b$,{})]},e)}),u.jsx(v$,{})]})}var cH=hR[" useId ".trim().toString()]||(()=>{}),uH=0;function qo(t){const[e,n]=y.useState(cH());return sr(()=>{t||n(r=>r??String(uH++))},[t]),t||(e?`radix-${e}`:"")}const dH=["top","right","bottom","left"],Ga=Math.min,hi=Math.max,uy=Math.round,Im=Math.floor,Go=t=>({x:t,y:t}),fH={left:"right",right:"left",bottom:"top",top:"bottom"},hH={start:"end",end:"start"};function f1(t,e,n){return hi(t,Ga(e,n))}function Os(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function yd(t){return t.split("-")[1]}function CE(t){return t==="x"?"y":"x"}function NE(t){return t==="y"?"height":"width"}function Ka(t){return["top","bottom"].includes(Rs(t))?"y":"x"}function IE(t){return CE(Ka(t))}function pH(t,e,n){n===void 0&&(n=!1);const r=yd(t),i=IE(t),o=NE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=dy(s)),[s,dy(s)]}function mH(t){const e=dy(t);return[h1(t),e,h1(e)]}function h1(t){return t.replace(/start|end/g,e=>hH[e])}function gH(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function yH(t,e,n,r){const i=yd(t);let o=gH(Rs(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(h1)))),o}function dy(t){return t.replace(/left|right|bottom|top/g,e=>fH[e])}function vH(t){return{top:0,right:0,bottom:0,left:0,...t}}function S$(t){return typeof t!="number"?vH(t):{top:t,right:t,bottom:t,left:t}}function fy(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oN(t,e,n){let{reference:r,floating:i}=t;const o=Ka(e),s=IE(e),a=NE(s),l=Rs(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(yd(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const xH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=oN(c,r,l),h=r,m={},x=0;for(let g=0;g<a.length;g++){const{name:v,fn:b}=a[g],{x:w,y:_,data:C,reset:E}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});d=w??d,f=_??f,m={...m,[v]:{...m[v],...C}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=oN(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function bh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Os(e,t),x=S$(m),v=a[h?f==="floating"?"reference":"floating":f],b=fy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},E=fy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(b.top-E.top+x.top)/C.y,bottom:(E.bottom-b.bottom+x.bottom)/C.y,left:(b.left-E.left+x.left)/C.x,right:(E.right-b.right+x.right)/C.x}}const bH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Os(t,e)||{};if(c==null)return{};const f=S$(d),h={x:n,y:r},m=IE(i),x=NE(m),g=await s.getDimensions(c),v=m==="y",b=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",C=o.reference[x]+o.reference[m]-h[m]-o.floating[x],E=h[m]-o.reference[m],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=N?N[_]:0;(!S||!await(s.isElement==null?void 0:s.isElement(N)))&&(S=a.floating[_]||o.floating[x]);const P=C/2-E/2,A=S/2-g[x]/2-1,k=Ga(f[b],A),I=Ga(f[w],A),O=k,R=S-g[x]-I,L=S/2-g[x]/2+P,B=f1(O,L,R),U=!l.arrow&&yd(i)!=null&&L!==B&&o.reference[x]/2-(L<O?k:I)-g[x]/2<0,W=U?L<O?L-O:L-R:0;return{[m]:h[m]+W,data:{[m]:B,centerOffset:L-B-W,...U&&{alignmentOffset:W}},reset:U}}}),wH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=Os(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Rs(i),w=Ka(a),_=Rs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(_||!g?[dy(a)]:mH(a)),N=x!=="none";!h&&N&&E.push(...yH(a,g,x,C));const S=[a,...E],P=await bh(e,v),A=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(P[b]),f){const L=pH(i,s,C);A.push(P[L[0]],P[L[1]])}if(k=[...k,{placement:i,overflows:A}],!A.every(L=>L<=0)){var I,O;const L=(((I=o.flip)==null?void 0:I.index)||0)+1,B=S[L];if(B)return{data:{index:L,overflows:k},reset:{placement:B}};let U=(O=k.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var R;const W=(R=k.filter(F=>{if(N){const V=Ka(F.placement);return V===w||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,ee)=>V+ee,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:R[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function sN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aN(t){return dH.some(e=>t[e]>=0)}const _H=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Os(t,e);switch(r){case"referenceHidden":{const o=await bh(e,{...i,elementContext:"reference"}),s=sN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:aN(s)}}}case"escaped":{const o=await bh(e,{...i,altBoundary:!0}),s=sN(o,n.floating);return{data:{escapedOffsets:s,escaped:aN(s)}}}default:return{}}}}};async function SH(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Rs(n),a=yd(n),l=Ka(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Os(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const EH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await SH(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},TH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...l}=Os(t,e),c={x:n,y:r},d=await bh(e,l),f=Ka(Rs(i)),h=CE(f);let m=c[h],x=c[f];if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+d[v],_=m-d[b];m=f1(w,m,_)}if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=x+d[v],_=x-d[b];x=f1(w,x,_)}const g=a.fn({...e,[h]:m,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},PH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Os(t,e),d={x:n,y:r},f=Ka(i),h=CE(f);let m=d[h],x=d[f];const g=Os(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",C=o.reference[h]-o.floating[_]+v.mainAxis,E=o.reference[h]+o.reference[_]-v.mainAxis;m<C?m=C:m>E&&(m=E)}if(c){var b,w;const _=h==="y"?"width":"height",C=["top","left"].includes(Rs(i)),E=o.reference[f]-o.floating[_]+(C&&((b=s.offset)==null?void 0:b[f])||0)+(C?0:v.crossAxis),N=o.reference[f]+o.reference[_]+(C?0:((w=s.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);x<E?x=E:x>N&&(x=N)}return{[h]:m,[f]:x}}}},AH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Os(t,e),d=await bh(e,c),f=Rs(i),h=yd(i),m=Ka(i)==="y",{width:x,height:g}=o.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,_=x-d.left-d.right,C=Ga(g-d[v],w),E=Ga(x-d[b],_),N=!e.middlewareData.shift;let S=C,P=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),N&&!h){const k=hi(d.left,0),I=hi(d.right,0),O=hi(d.top,0),R=hi(d.bottom,0);m?P=x-2*(k!==0||I!==0?k+I:hi(d.left,d.right)):S=g-2*(O!==0||R!==0?O+R:hi(d.top,d.bottom))}await l({...e,availableWidth:P,availableHeight:S});const A=await s.getDimensions(a.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function sx(){return typeof window<"u"}function vd(t){return E$(t)?(t.nodeName||"").toLowerCase():"#document"}function yi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ss(t){var e;return(e=(E$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function E$(t){return sx()?t instanceof Node||t instanceof yi(t).Node:!1}function So(t){return sx()?t instanceof Element||t instanceof yi(t).Element:!1}function ts(t){return sx()?t instanceof HTMLElement||t instanceof yi(t).HTMLElement:!1}function lN(t){return!sx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yi(t).ShadowRoot}function Ap(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function CH(t){return["table","td","th"].includes(vd(t))}function ax(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jE(t){const e=kE(),n=So(t)?Eo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function NH(t){let e=Ya(t);for(;ts(e)&&!Ou(e);){if(jE(e))return e;if(ax(e))return null;e=Ya(e)}return null}function kE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ou(t){return["html","body","#document"].includes(vd(t))}function Eo(t){return yi(t).getComputedStyle(t)}function lx(t){return So(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ya(t){if(vd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lN(t)&&t.host||ss(t);return lN(e)?e.host:e}function T$(t){const e=Ya(t);return Ou(e)?t.ownerDocument?t.ownerDocument.body:t.body:ts(e)&&Ap(e)?e:T$(e)}function wh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T$(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=yi(i);if(o){const a=p1(s);return e.concat(s,s.visualViewport||[],Ap(i)?i:[],a&&n?wh(a):[])}return e.concat(i,wh(i,[],n))}function p1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P$(t){const e=Eo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ts(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=uy(n)!==o||uy(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function OE(t){return So(t)?t:t.contextElement}function ou(t){const e=OE(t);if(!ts(e))return Go(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=P$(e);let s=(o?uy(n.width):n.width)/r,a=(o?uy(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const IH=Go(0);function A$(t){const e=yi(t);return!kE()||!e.visualViewport?IH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yi(t)?!1:e}function Yl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=OE(t);let s=Go(1);e&&(r?So(r)&&(s=ou(r)):s=ou(t));const a=jH(o,n,r)?A$(o):Go(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=yi(o),m=r&&So(r)?yi(r):r;let x=h,g=p1(x);for(;g&&r&&m!==x;){const v=ou(g),b=g.getBoundingClientRect(),w=Eo(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=b.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=_,c+=C,x=yi(g),g=p1(x)}}return fy({width:d,height:f,x:l,y:c})}function RE(t,e){const n=lx(t).scrollLeft;return e?e.left+n:Yl(ss(t)).left+n}function C$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:RE(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function kH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ss(r),a=e?ax(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Go(1);const d=Go(0),f=ts(r);if((f||!f&&!o)&&((vd(r)!=="body"||Ap(s))&&(l=lx(r)),ts(r))){const m=Yl(r);c=ou(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?C$(s,l,!0):Go(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function OH(t){return Array.from(t.getClientRects())}function RH(t){const e=ss(t),n=lx(t),r=t.ownerDocument.body,i=hi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=hi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+RE(t);const a=-n.scrollTop;return Eo(r).direction==="rtl"&&(s+=hi(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function MH(t,e){const n=yi(t),r=ss(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=kE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function DH(t,e){const n=Yl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ts(t)?ou(t):Go(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function cN(t,e,n){let r;if(e==="viewport")r=MH(t,n);else if(e==="document")r=RH(ss(t));else if(So(e))r=DH(e,n);else{const i=A$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return fy(r)}function N$(t,e){const n=Ya(t);return n===e||!So(n)||Ou(n)?!1:Eo(n).position==="fixed"||N$(n,e)}function $H(t,e){const n=e.get(t);if(n)return n;let r=wh(t,[],!1).filter(a=>So(a)&&vd(a)!=="body"),i=null;const o=Eo(t).position==="fixed";let s=o?Ya(t):t;for(;So(s)&&!Ou(s);){const a=Eo(s),l=jE(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ap(s)&&!l&&N$(t,s))?r=r.filter(d=>d!==s):i=a,s=Ya(s)}return e.set(t,r),r}function LH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?ax(e)?[]:$H(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=cN(e,d,i);return c.top=hi(f.top,c.top),c.right=Ga(f.right,c.right),c.bottom=Ga(f.bottom,c.bottom),c.left=hi(f.left,c.left),c},cN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FH(t){const{width:e,height:n}=P$(t);return{width:e,height:n}}function VH(t,e,n){const r=ts(e),i=ss(e),o=n==="fixed",s=Yl(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Go(0);if(r||!r&&!o)if((vd(e)!=="body"||Ap(i))&&(a=lx(e)),r){const h=Yl(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=RE(i));const c=i&&!r&&!o?C$(i,a):Go(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function fb(t){return Eo(t).position==="static"}function uN(t,e){if(!ts(t)||Eo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ss(t)===n&&(n=n.ownerDocument.body),n}function I$(t,e){const n=yi(t);if(ax(t))return n;if(!ts(t)){let i=Ya(t);for(;i&&!Ou(i);){if(So(i)&&!fb(i))return i;i=Ya(i)}return n}let r=uN(t,e);for(;r&&CH(r)&&fb(r);)r=uN(r,e);return r&&Ou(r)&&fb(r)&&!jE(r)?n:r||NH(t)||n}const BH=async function(t){const e=this.getOffsetParent||I$,n=this.getDimensions,r=await n(t.floating);return{reference:VH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UH(t){return Eo(t).direction==="rtl"}const zH={convertOffsetParentRelativeRectToViewportRelativeRect:kH,getDocumentElement:ss,getClippingRect:LH,getOffsetParent:I$,getElementRects:BH,getClientRects:OH,getDimensions:FH,getScale:ou,isElement:So,isRTL:UH};function j$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function WH(t,e){let n=null,r;const i=ss(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const x=Im(f),g=Im(i.clientWidth-(d+h)),v=Im(i.clientHeight-(f+m)),b=Im(d),_={rootMargin:-x+"px "+-g+"px "+-v+"px "+-b+"px",threshold:hi(0,Ga(1,l))||1};let C=!0;function E(N){const S=N[0].intersectionRatio;if(S!==l){if(!C)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!j$(c,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return s(!0),o}function HH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=OE(t),d=i||o?[...c?wh(c):[],...wh(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=c&&a?WH(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let x,g=l?Yl(t):null;l&&v();function v(){const b=Yl(t);g&&!j$(g,b)&&n(),g=b,x=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const qH=EH,GH=TH,KH=wH,YH=AH,XH=_H,dN=bH,QH=PH,JH=(t,e,n)=>{const r=new Map,i={platform:zH,...n},o={...i.platform,_c:r};return xH(t,e,{...i,platform:o})};var wg=typeof document<"u"?y.useLayoutEffect:y.useEffect;function hy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!hy(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function k$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fN(t,e){const n=k$(t);return Math.round(e*n)/n}function hb(t){const e=y.useRef(t);return wg(()=>{e.current=t}),e}function ZH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(r);hy(h,r)||m(r);const[x,g]=y.useState(null),[v,b]=y.useState(null),w=y.useCallback(F=>{F!==N.current&&(N.current=F,g(F))},[]),_=y.useCallback(F=>{F!==S.current&&(S.current=F,b(F))},[]),C=o||x,E=s||v,N=y.useRef(null),S=y.useRef(null),P=y.useRef(d),A=l!=null,k=hb(l),I=hb(i),O=hb(c),R=y.useCallback(()=>{if(!N.current||!S.current)return;const F={placement:e,strategy:n,middleware:h};I.current&&(F.platform=I.current),JH(N.current,S.current,F).then(V=>{const ee={...V,isPositioned:O.current!==!1};L.current&&!hy(P.current,ee)&&(P.current=ee,cc.flushSync(()=>{f(ee)}))})},[h,e,n,I,O]);wg(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const L=y.useRef(!1);wg(()=>(L.current=!0,()=>{L.current=!1}),[]),wg(()=>{if(C&&(N.current=C),E&&(S.current=E),C&&E){if(k.current)return k.current(C,E,R);R()}},[C,E,R,k,A]);const B=y.useMemo(()=>({reference:N,floating:S,setReference:w,setFloating:_}),[w,_]),U=y.useMemo(()=>({reference:C,floating:E}),[C,E]),W=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!U.floating)return F;const V=fN(U.floating,d.x),ee=fN(U.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+ee+"px)",...k$(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:ee}},[n,a,U.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:R,refs:B,elements:U,floatingStyles:W}),[d,R,B,U,W])}const eq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?dN({element:r.current,padding:i}).fn(n):{}:r?dN({element:r,padding:i}).fn(n):{}}}},tq=(t,e)=>({...qH(t),options:[t,e]}),nq=(t,e)=>({...GH(t),options:[t,e]}),rq=(t,e)=>({...QH(t),options:[t,e]}),iq=(t,e)=>({...KH(t),options:[t,e]}),oq=(t,e)=>({...YH(t),options:[t,e]}),sq=(t,e)=>({...XH(t),options:[t,e]}),aq=(t,e)=>({...eq(t),options:[t,e]});var lq="Arrow",O$=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return u.jsx(Ve.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});O$.displayName=lq;var cq=O$;function ME(t){const[e,n]=y.useState(void 0);return sr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var DE="Popper",[R$,cx]=_i(DE),[uq,M$]=R$(DE),D$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return u.jsx(uq,{scope:e,anchor:r,onAnchorChange:i,children:n})};D$.displayName=DE;var $$="PopperAnchor",L$=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=M$($$,n),s=y.useRef(null),a=dt(e,s);return y.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Ve.div,{...i,ref:a})});L$.displayName=$$;var $E="PopperContent",[dq,fq]=R$($E),F$=y.forwardRef((t,e)=>{var me,we,te,he,pe,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=t,v=M$($E,n),[b,w]=y.useState(null),_=dt(e,Se=>w(Se)),[C,E]=y.useState(null),N=ME(C),S=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,A=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],O=I.length>0,R={padding:k,boundary:I.filter(pq),altBoundary:O},{refs:L,floatingStyles:B,placement:U,isPositioned:W,middlewareData:F}=ZH({strategy:"fixed",placement:A,whileElementsMounted:(...Se)=>HH(...Se,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[tq({mainAxis:i+P,alignmentAxis:s}),l&&nq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rq():void 0,...R}),l&&iq({...R}),oq({...R,apply:({elements:Se,rects:Re,availableWidth:mt,availableHeight:ot})=>{const{width:At,height:Rt}=Re.reference,xe=Se.floating.style;xe.setProperty("--radix-popper-available-width",`${mt}px`),xe.setProperty("--radix-popper-available-height",`${ot}px`),xe.setProperty("--radix-popper-anchor-width",`${At}px`),xe.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),C&&aq({element:C,padding:a}),mq({arrowWidth:S,arrowHeight:P}),h&&sq({strategy:"referenceHidden",...R})]}),[V,ee]=U$(U),Q=On(x);sr(()=>{W&&(Q==null||Q())},[W,Q]);const ne=(me=F.arrow)==null?void 0:me.x,ge=(we=F.arrow)==null?void 0:we.y,Ce=((te=F.arrow)==null?void 0:te.centerOffset)!==0,[qe,Xe]=y.useState();return sr(()=>{b&&Xe(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[(he=F.transformOrigin)==null?void 0:he.x,(pe=F.transformOrigin)==null?void 0:pe.y].join(" "),...((Y=F.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(dq,{scope:n,placedSide:V,onArrowChange:E,arrowX:ne,arrowY:ge,shouldHideArrow:Ce,children:u.jsx(Ve.div,{"data-side":V,"data-align":ee,...g,ref:_,style:{...g.style,animation:W?void 0:"none"}})})})});F$.displayName=$E;var V$="PopperArrow",hq={top:"bottom",right:"left",bottom:"top",left:"right"},B$=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=fq(V$,r),s=hq[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(cq,{...i,ref:n,style:{...i.style,display:"block"}})})});B$.displayName=V$;function pq(t){return t!==null}var mq=t=>({name:"transformOrigin",options:t,fn(e){var v,b,w;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=U$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let x="",g="";return c==="bottom"?(x=s?f:`${h}px`,g=`${-l}px`):c==="top"?(x=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,g=s?f:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x,y:g}}}});function U$(t){const[e,n="center"]=t.split("-");return[e,n]}var gq=D$,z$=L$,W$=F$,H$=B$,[ux,fNe]=_i("Tooltip",[cx]),LE=cx(),q$="TooltipProvider",yq=700,hN="tooltip.open",[vq,G$]=ux(q$),K$=t=>{const{__scopeTooltip:e,delayDuration:n=yq,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(vq,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};K$.displayName=q$;var Y$="Tooltip",[hNe,dx]=ux(Y$),m1="TooltipTrigger",xq=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=dx(m1,n),o=G$(m1,n),s=LE(n),a=y.useRef(null),l=dt(e,a,i.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(z$,{asChild:!0,...s,children:u.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ke(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ke(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ke(t.onBlur,i.onClose),onClick:ke(t.onClick,i.onClose)})})});xq.displayName=m1;var bq="TooltipPortal",[pNe,wq]=ux(bq,{forceMount:void 0}),Ru="TooltipContent",X$=y.forwardRef((t,e)=>{const n=wq(Ru,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=dx(Ru,t.__scopeTooltip);return u.jsx(Hi,{present:r||s.open,children:s.disableHoverableContent?u.jsx(Q$,{side:i,...o,ref:e}):u.jsx(_q,{side:i,...o,ref:e})})}),_q=y.forwardRef((t,e)=>{const n=dx(Ru,t.__scopeTooltip),r=G$(Ru,t.__scopeTooltip),i=y.useRef(null),o=dt(e,i),[s,a]=y.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=y.useCallback(()=>{a(null),f(!1)},[f]),m=y.useCallback((x,g)=>{const v=x.currentTarget,b={x:x.clientX,y:x.clientY},w=Aq(b,v.getBoundingClientRect()),_=Cq(b,w),C=Nq(g.getBoundingClientRect()),E=jq([..._,...C]);a(E),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&d){const x=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),y.useEffect(()=>{if(s){const x=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),_=!Iq(b,s);w?h():_&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,s,c,h]),u.jsx(Q$,{...t,ref:o})}),[Sq,Eq]=ux(Y$,{isInside:!1}),Tq=xW("TooltipContent"),Q$=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=dx(Ru,n),c=LE(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(hN,d),()=>document.removeEventListener(hN,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Tp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(W$,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Tq,{children:r}),u.jsx(Sq,{scope:n,isInside:!0,children:u.jsx(FW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});X$.displayName=Ru;var J$="TooltipArrow",Pq=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=LE(n);return Eq(J$,n).isInside?null:u.jsx(H$,{...i,...r,ref:e})});Pq.displayName=J$;function Aq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Cq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Nq(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Iq(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function jq(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kq(e)}function kq(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Oq=K$,Z$=X$;const Rq=Oq,Mq=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Z$,{ref:r,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Mq.displayName=Z$.displayName;const _g=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],eL=y.createContext(void 0);function Dq({children:t}){const[e,n]=y.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=y.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&_g.find(c=>c.id===a)||_g[0]});y.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),y.useEffect(()=>{const a=document.documentElement,l=r.primary,c=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?c:l),a.style.setProperty("--sidebar-ring",e==="dark"?c:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return u.jsx(eL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function $q(){const t=y.useContext(eL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const Lq=()=>{};var pN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Vq;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bq=function(t){const e=tL(t);return nL.encodeByteArray(e,!0)},py=function(t){return Bq(t).replace(/\./g,"")},rL=function(t){try{return nL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=()=>Uq().__FIREBASE_DEFAULTS__,Wq=()=>{if(typeof process>"u"||typeof pN>"u")return;const t=pN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rL(t[1]);return e&&JSON.parse(e)},fx=()=>{try{return Lq()||zq()||Wq()||Hq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iL=t=>{var e,n;return(n=(e=fx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qq=t=>{const e=iL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oL=()=>{var t;return(t=fx())==null?void 0:t.config},sL=t=>{var e;return(e=fx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[py(JSON.stringify(n)),py(JSON.stringify(s)),""].join(".")}const Lf={};function Yq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function Xq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mN=!1;function lL(t,e){if(typeof window>"u"||typeof document>"u"||!xd(window.location.host)||Lf[t]===e||Lf[t]||mN)return;Lf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Yq().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{mN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Xq(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;a(_),d(v,g);const C=c();l(w,b),_.append(w,x,v,C),document.body.appendChild(_)}o?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function Jq(){var e;const t=(e=fx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nG(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rG(){return!Jq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iG(){try{return typeof indexedDB=="object"}catch{return!1}}function oG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sG,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cp.prototype.create)}}class Cp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aG(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ws(i,a,r)}}function aG(t,e){return t.replace(lG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lG=/\{\$([^}]+)}/g;function cG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(gN(o)&&gN(s)){if(!Xl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uG(t,e){const n=new dG(t,e);return n.subscribe.bind(n)}class dG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pb),i.error===void 0&&(i.error=pb),i.complete===void 0&&(i.complete=pb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mG(e))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vl){return this.instances.has(e)}getOptions(e=vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vl){return this.component?this.component.multipleInstances?e:vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pG(t){return t===vl?void 0:t}function mG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const yG={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},vG=vt.INFO,xG={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},bG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FE{constructor(e){this.name=e,this._logLevel=vG,this._logHandler=bG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const wG=(t,e)=>e.some(n=>t instanceof n);let yN,vN;function _G(){return yN||(yN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SG(){return vN||(vN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cL=new WeakMap,g1=new WeakMap,uL=new WeakMap,mb=new WeakMap,VE=new WeakMap;function EG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($a(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cL.set(n,t)}).catch(()=>{}),VE.set(e,t),e}function TG(t){if(g1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});g1.set(t,e)}let y1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return g1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PG(t){y1=t(y1)}function AG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return uL.set(r,e.sort?e.sort():[e]),$a(r)}:SG().includes(t)?function(...e){return t.apply(gb(this),e),$a(cL.get(this))}:function(...e){return $a(t.apply(gb(this),e))}}function CG(t){return typeof t=="function"?AG(t):(t instanceof IDBTransaction&&TG(t),wG(t,_G())?new Proxy(t,y1):t)}function $a(t){if(t instanceof IDBRequest)return EG(t);if(mb.has(t))return mb.get(t);const e=CG(t);return e!==t&&(mb.set(t,e),VE.set(e,t)),e}const gb=t=>VE.get(t);function NG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=$a(s);return r&&s.addEventListener("upgradeneeded",l=>{r($a(s.result),l.oldVersion,l.newVersion,$a(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const IG=["get","getKey","getAll","getAllKeys","count"],jG=["put","add","delete","clear"],yb=new Map;function xN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IG.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yb.set(e,o),o}PG(t=>({...t,get:(e,n,r)=>xN(e,n)||t.get(e,n,r),has:(e,n)=>!!xN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const v1="@firebase/app",bN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new FE("@firebase/app"),RG="@firebase/app-compat",MG="@firebase/analytics-compat",DG="@firebase/analytics",$G="@firebase/app-check-compat",LG="@firebase/app-check",FG="@firebase/auth",VG="@firebase/auth-compat",BG="@firebase/database",UG="@firebase/data-connect",zG="@firebase/database-compat",WG="@firebase/functions",HG="@firebase/functions-compat",qG="@firebase/installations",GG="@firebase/installations-compat",KG="@firebase/messaging",YG="@firebase/messaging-compat",XG="@firebase/performance",QG="@firebase/performance-compat",JG="@firebase/remote-config",ZG="@firebase/remote-config-compat",eK="@firebase/storage",tK="@firebase/storage-compat",nK="@firebase/firestore",rK="@firebase/ai",iK="@firebase/firestore-compat",oK="firebase",sK="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="[DEFAULT]",aK={[v1]:"fire-core",[RG]:"fire-core-compat",[DG]:"fire-analytics",[MG]:"fire-analytics-compat",[LG]:"fire-app-check",[$G]:"fire-app-check-compat",[FG]:"fire-auth",[VG]:"fire-auth-compat",[BG]:"fire-rtdb",[UG]:"fire-data-connect",[zG]:"fire-rtdb-compat",[WG]:"fire-fn",[HG]:"fire-fn-compat",[qG]:"fire-iid",[GG]:"fire-iid-compat",[KG]:"fire-fcm",[YG]:"fire-fcm-compat",[XG]:"fire-perf",[QG]:"fire-perf-compat",[JG]:"fire-rc",[ZG]:"fire-rc-compat",[eK]:"fire-gcs",[tK]:"fire-gcs-compat",[nK]:"fire-fst",[iK]:"fire-fst-compat",[rK]:"fire-vertex","fire-js":"fire-js",[oK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=new Map,lK=new Map,b1=new Map;function wN(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mu(t){const e=t.name;if(b1.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;b1.set(e,t);for(const n of my.values())wN(n,t);for(const n of lK.values())wN(n,t);return!0}function BE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new Cp("app","Firebase",cK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=sK;function dL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:x1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw La.create("bad-app-name",{appName:String(i)});if(n||(n=oL()),!n)throw La.create("no-options");const o=my.get(i);if(o){if(Xl(n,o.options)&&Xl(r,o.config))return o;throw La.create("duplicate-app",{appName:i})}const s=new gG(i);for(const l of b1.values())s.addComponent(l);const a=new uK(n,r,s);return my.set(i,a),a}function fL(t=x1){const e=my.get(t);if(!e&&t===x1&&oL())return dL();if(!e)throw La.create("no-app",{appName:t});return e}function Fa(t,e,n){let r=aK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(s.join(" "));return}Mu(new Ql(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK="firebase-heartbeat-database",fK=1,_h="firebase-heartbeat-store";let vb=null;function hL(){return vb||(vb=NG(dK,fK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_h)}catch(n){console.warn(n)}}}}).catch(t=>{throw La.create("idb-open",{originalErrorMessage:t.message})})),vb}async function hK(t){try{const n=(await hL()).transaction(_h),r=await n.objectStore(_h).get(pL(t));return await n.done,r}catch(e){if(e instanceof Ws)Ms.warn(e.message);else{const n=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function _N(t,e){try{const r=(await hL()).transaction(_h,"readwrite");await r.objectStore(_h).put(e,pL(t)),await r.done}catch(n){if(n instanceof Ws)Ms.warn(n.message);else{const r=La.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function pL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=1024,mK=30;class gK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mK){const s=xK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SN(),{heartbeatsToSend:r,unsentEntries:i}=yK(this._heartbeatsCache.heartbeats),o=py(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ms.warn(n),""}}}function SN(){return new Date().toISOString().substring(0,10)}function yK(t,e=pK){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),EN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iG()?oG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _N(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _N(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function EN(t){return py(JSON.stringify({version:2,heartbeats:t})).length}function xK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){Mu(new Ql("platform-logger",e=>new kG(e),"PRIVATE")),Mu(new Ql("heartbeat",e=>new gK(e),"PRIVATE")),Fa(v1,bN,t),Fa(v1,bN,"esm2020"),Fa("fire-js","")}bK("");var wK="firebase",_K="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(wK,_K,"app");function mL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SK=mL,gL=new Cp("auth","Firebase",mL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new FE("@firebase/auth");function EK(t,...e){gy.logLevel<=vt.WARN&&gy.warn(`Auth (${bd}): ${t}`,...e)}function Sg(t,...e){gy.logLevel<=vt.ERROR&&gy.error(`Auth (${bd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,...e){throw zE(t,...e)}function bo(t,...e){return zE(t,...e)}function UE(t,e,n){const r={...SK(),[e]:n};return new Cp("auth","Firebase",r).create(e,{appName:t.name})}function $l(t){return UE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ns(t,"argument-error"),UE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gL.create(t,...e)}function Je(t,e,...n){if(!t)throw zE(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function Ds(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function PK(){return TN()==="http:"||TN()==="https:"}function TN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PK()||eG()||"connection"in navigator)?navigator.onLine:!0}function CK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=Qq()||tG()}get(){return AK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jK=new Ip(3e4,6e4);function HE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wd(t,e,n,r,i={}){return vL(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Np({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return Zq()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&xd(t.emulatorConfig.host)&&(c.credentials="include"),yL.fetch()(await xL(t,t.config.apiHost,n,a),c)})}async function vL(t,e,n){t._canInitEmulator=!1;const r={...NK,...e};try{const i=new OK(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw jm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw jm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw jm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw UE(t,d,c);ns(t,d)}}catch(i){if(i instanceof Ws)throw i;ns(t,"network-request-failed",{message:String(i)})}}async function kK(t,e,n,r,i={}){const o=await wd(t,e,n,r,i);return"mfaPendingCredential"in o&&ns(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function xL(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?WE(t.config,i):`${t.config.apiScheme}://${i}`;return IK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class OK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),jK.get())})}}function jm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(t,e){return wd(t,"POST","/v1/accounts:delete",e)}async function yy(t,e){return wd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MK(t,e=!1){const n=zi(t),r=await n.getIdToken(e),i=qE(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ff(xb(i.auth_time)),issuedAtTime:Ff(xb(i.iat)),expirationTime:Ff(xb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xb(t){return Number(t)*1e3}function qE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=rL(n);return i?JSON.parse(i):(Sg("Failed to decode base64 JWT payload"),null)}catch(i){return Sg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PN(t){const e=qE(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&DK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Sh(t,yy(e,{idToken:n}));Je(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?bL(i.providerUserInfo):[],s=FK(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function LK(t){const e=zi(t);await vy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VK(t,e){const n=await vL(t,{},async()=>{const r=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await xL(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&xd(t.emulatorConfig.host)&&(l.credentials="include"),yL.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BK(t,e){return wd(t,"POST","/v2/accounts:revokeToken",HE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=PN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VK(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new su;return r&&(Je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Je(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sh(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MK(this,e)}reload(){return LK(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject($l(this.auth));const e=await this.getIdToken();return await Sh(this,RK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:x,stsTokenManager:g}=n;Je(f&&g,e,"internal-error");const v=su.fromJSON(this.name,g);Je(typeof f=="string",e,"internal-error"),aa(r,e.name),aa(i,e.name),Je(typeof h=="boolean",e,"internal-error"),Je(typeof m=="boolean",e,"internal-error"),aa(o,e.name),aa(s,e.name),aa(a,e.name),aa(l,e.name),aa(c,e.name),aa(d,e.name);const b=new mo({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:c,lastLoginAt:d});return x&&Array.isArray(x)&&(b.providerData=x.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new su;i.updateFromServerResponse(n);const o=new mo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?bL(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new su;a.updateFromIdToken(r);const l=new mo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;function ws(t){Ds(t instanceof Function,"Expected a class definition");let e=AN.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wL.type="NONE";const CN=wL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Eg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yy(this.auth,{idToken:e}).catch(()=>{});return n?mo._fromGetAccountInfoResponse(this.auth,n,e):null}return mo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(ws(CN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ws(CN);const s=Eg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){let f;if(typeof d=="string"){const h=await yy(e,{idToken:d}).catch(()=>{});if(!h)break;f=await mo._fromGetAccountInfoResponse(e,h,d)}else f=mo._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new au(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new au(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_L(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AL(e))return"Blackberry";if(CL(e))return"Webos";if(SL(e))return"Safari";if((e.includes("chrome/")||EL(e))&&!e.includes("edge/"))return"Chrome";if(PL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _L(t=Rr()){return/firefox\//i.test(t)}function SL(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EL(t=Rr()){return/crios\//i.test(t)}function TL(t=Rr()){return/iemobile/i.test(t)}function PL(t=Rr()){return/android/i.test(t)}function AL(t=Rr()){return/blackberry/i.test(t)}function CL(t=Rr()){return/webos/i.test(t)}function GE(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UK(t=Rr()){var e;return GE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zK(){return nG()&&document.documentMode===10}function NL(t=Rr()){return GE(t)||PL(t)||CL(t)||AL(t)||/windows phone/i.test(t)||TL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e=[]){let n;switch(t){case"Browser":n=NN(Rr());break;case"Worker":n=`${NN(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e={}){return wd(t,"GET","/v2/passwordPolicy",HE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=6;class GK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IN(this),this.idTokenSubscription=new IN(this),this.beforeStateQueue=new WK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yy(this,{idToken:e}),r=await mo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(fo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject($l(this));const n=e?zi(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject($l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject($l(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HK(this),n=new GK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&EK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hx(t){return zi(t)}class IN{constructor(e){this.auth=e,this.observer=null,this.addObserver=uG(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YK(t){KE=t}function XK(t){return KE.loadJS(t)}function QK(){return KE.gapiScript}function JK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t,e){const n=BE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Xl(o,e??{}))return i;ns(i,"already-initialized")}return n.initialize({options:e})}function eY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tY(t,e,n){const r=hx(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=jL(e),{host:s,port:a}=nY(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(Xl(c,r.config.emulator)&&Xl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xd(s)?(aL(`${o}//${s}${l}`),lL("Auth",!0)):rY()}function jL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nY(t){const e=jL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jN(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:jN(s)}}}function jN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return kK(t,"POST","/v1/accounts:signInWithIdp",HE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="http://localhost";class Jl extends kL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Jl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lu(e,n)}buildRequest(){const e={requestUri:iY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Np(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends jp{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends jp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jl._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends jp{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends jp{constructor(){super("twitter.com")}static credential(e,n){return Jl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mo._fromIdTokenResponse(e,r,i),s=kN(r);return new Du({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kN(r);return new Du({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xy(e,n,r,i)}}function OL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xy._fromErrorAndOperation(t,o,e,r):o})}async function oY(t,e,n=!1){const r=await Sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Du._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e,n=!1){const{auth:r}=t;if(fo(r.app))return Promise.reject($l(r));const i="reauthenticate";try{const o=await Sh(t,OL(r,i,e,t),n);Je(o.idToken,r,"internal-error");const s=qE(o.idToken);Je(s,r,"internal-error");const{sub:a}=s;return Je(t.uid===a,r,"user-mismatch"),Du._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ns(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t,e,n=!1){if(fo(t.app))return Promise.reject($l(t));const r="signIn",i=await OL(t,r,e),o=await Du._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function lY(t,e,n,r){return zi(t).onIdTokenChanged(e,n,r)}function cY(t,e,n){return zi(t).beforeAuthStateChanged(e,n)}function uY(t,e,n,r){return zi(t).onAuthStateChanged(e,n,r)}function dY(t){return zi(t).signOut()}const by="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(by,"1"),this.storage.removeItem(by),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=1e3,hY=10;class ML extends RL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);zK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ML.type="LOCAL";const pY=ML;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL extends RL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DL.type="SESSION";const $L=DL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new px(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await mY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}px.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=XE("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function yY(t){Ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function vY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function bY(){return LL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="firebaseLocalStorageDb",wY=1,wy="firebaseLocalStorage",VL="fbase_key";class kp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mx(t,e){return t.transaction([wy],e?"readwrite":"readonly").objectStore(wy)}function _Y(){const t=indexedDB.deleteDatabase(FL);return new kp(t).toPromise()}function S1(){const t=indexedDB.open(FL,wY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wy,{keyPath:VL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wy)?e(r):(r.close(),await _Y(),e(await S1()))})})}async function ON(t,e,n){const r=mx(t,!0).put({[VL]:e,value:n});return new kp(r).toPromise()}async function SY(t,e){const n=mx(t,!1).get(e),r=await new kp(n).toPromise();return r===void 0?null:r.value}function RN(t,e){const n=mx(t,!0).delete(e);return new kp(n).toPromise()}const EY=800,TY=3;class BL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=px._getInstance(bY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vY(),!this.activeServiceWorker)return;this.sender=new gY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S1();return await ON(e,by,"1"),await RN(e,by),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ON(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mx(i,!1).getAll();return new kp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BL.type="LOCAL";const PY=BL;new Ip(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){return e?ws(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends kL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AY(t){return aY(t.auth,new QE(t),t.bypassAuthState)}function CY(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),sY(n,new QE(t),t.bypassAuthState)}async function NY(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),oY(n,new QE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AY;case"linkViaPopup":case"linkViaRedirect":return NY;case"reauthViaPopup":case"reauthViaRedirect":return CY;default:ns(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Ip(2e3,1e4);async function WL(t,e,n){if(fo(t.app))return Promise.reject(bo(t,"operation-not-supported-in-this-environment"));const r=hx(t);TK(t,e,YE);const i=UL(r,n);return new Tl(r,"signInViaPopup",e,i).executeNotNull()}class Tl extends zL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=XE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IY.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="pendingRedirect",Tg=new Map;class kY extends zL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tg.get(this.auth._key());if(!e){try{const r=await OY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tg.set(this.auth._key(),e)}return this.bypassAuthState||Tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OY(t,e){const n=DY(e),r=MY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RY(t,e){Tg.set(t._key(),e)}function MY(t){return ws(t._redirectPersistence)}function DY(t){return Eg(jY,t.config.apiKey,t.name)}async function $Y(t,e,n=!1){if(fo(t.app))return Promise.reject($l(t));const r=hx(t),i=UL(r,e),s=await new kY(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=10*60*1e3;class FY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LY&&this.cachedEventUids.clear(),this.cachedEventUids.has(MN(e))}saveEventToCache(e){this.cachedEventUids.add(MN(e)),this.lastProcessedEventTime=Date.now()}}function MN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BY(t,e={}){return wd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zY=/^https?/;async function WY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BY(t);for(const n of e)try{if(HY(n))return}catch{}ns(t,"unauthorized-domain")}function HY(t){const e=w1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!zY.test(n))return!1;if(UY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=new Ip(3e4,6e4);function DN(){const t=Ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GY(t){return new Promise((e,n)=>{var i,o,s;function r(){DN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DN(),n(bo(t,"network-request-failed"))},timeout:qY.get()})}if((o=(i=Ko().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Ko().gapi)!=null&&s.load)r();else{const a=JK("iframefcb");return Ko()[a]=()=>{gapi.load?r():n(bo(t,"network-request-failed"))},XK(`${QK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pg=null,e})}let Pg=null;function KY(t){return Pg=Pg||GY(t),Pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=new Ip(5e3,15e3),XY="__/auth/iframe",QY="emulator/auth/iframe",JY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eX(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WE(e,QY):`https://${t.config.authDomain}/${XY}`,r={apiKey:e.apiKey,appName:t.name,v:bd},i=ZY.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Np(r).slice(1)}`}async function tX(t){const e=await KY(t),n=Ko().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:eX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JY,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=bo(t,"network-request-failed"),a=Ko().setTimeout(()=>{o(s)},YY.get());function l(){Ko().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rX=500,iX=600,oX="_blank",sX="http://localhost";class $N{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aX(t,e,n,r=rX,i=iX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...nX,width:r.toString(),height:i.toString(),top:o,left:s},c=Rr().toLowerCase();n&&(a=EL(c)?oX:n),_L(c)&&(e=e||sX,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,x])=>`${h}${m}=${x},`,"");if(UK(c)&&a!=="_self")return lX(e||"",a),new $N(null);const f=window.open(e||"",a,d);Je(f,t,"popup-blocked");try{f.focus()}catch{}return new $N(f)}function lX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="__/auth/handler",uX="emulator/auth/handler",dX=encodeURIComponent("fac");async function LN(t,e,n,r,i,o){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bd,eventId:i};if(e instanceof YE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",cG(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof jp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${dX}=${encodeURIComponent(l)}`:"";return`${fX(t)}?${Np(a).slice(1)}${c}`}function fX({config:t}){return t.emulator?WE(t,uX):`https://${t.authDomain}/${cX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="webStorageSupport";class hX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$L,this._completeRedirectFn=$Y,this._overrideRedirectResult=RY}async _openPopup(e,n,r,i){var s;Ds((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LN(e,n,r,w1(),i);return aX(e,o,XE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await LN(e,n,r,w1(),i);return yY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ds(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tX(e),r=new FY(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bb,{type:bb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[bb];o!==void 0&&n(!!o),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NL()||SL()||GE()}}const pX=hX;var FN="@firebase/auth",VN="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yX(t){Mu(new Ql("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IL(t)},c=new KK(r,i,o,l);return eY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mu(new Ql("auth-internal",e=>{const n=hx(e.getProvider("auth").getImmediate());return(r=>new mX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(FN,VN,gX(t)),Fa(FN,VN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX=5*60,xX=sL("authIdTokenMaxAge")||vX;let BN=null;const bX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xX)return;const i=n==null?void 0:n.token;BN!==i&&(BN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wX(t=fL()){const e=BE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZK(t,{popupRedirectResolver:pX,persistence:[PY,pY,$L]}),r=sL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=bX(o.toString());cY(n,s,()=>s(n.currentUser)),lY(n,a=>s(a))}}const i=iL("auth");return i&&tY(n,`http://${i}`),n}function _X(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_X().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yX("Browser");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,qL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,P){function A(){}A.prototype=P.prototype,S.F=P.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(k,I,O){for(var R=Array(arguments.length-2),L=2;L<arguments.length;L++)R[L-2]=arguments[L];return P.prototype[I].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,P,A){A||(A=0);const k=Array(16);if(typeof P=="string")for(var I=0;I<16;++I)k[I]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(I=0;I<16;++I)k[I]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;P=S.g[0],A=S.g[1],I=S.g[2];let O=S.g[3],R;R=P+(O^A&(I^O))+k[0]+3614090360&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[1]+3905402710&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[4]+4118548399&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[5]+1200080426&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[8]+1770035416&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[9]+2336552879&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(O^A&(I^O))+k[12]+1804603682&4294967295,P=A+(R<<7&4294967295|R>>>25),R=O+(I^P&(A^I))+k[13]+4254626195&4294967295,O=P+(R<<12&4294967295|R>>>20),R=I+(A^O&(P^A))+k[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=A+(P^I&(O^P))+k[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=P+(I^O&(A^I))+k[1]+4129170786&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[6]+3225465664&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[5]+3593408605&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[10]+38016083&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[9]+568446438&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[14]+3275163606&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(I^O&(A^I))+k[13]+2850285829&4294967295,P=A+(R<<5&4294967295|R>>>27),R=O+(A^I&(P^A))+k[2]+4243563512&4294967295,O=P+(R<<9&4294967295|R>>>23),R=I+(P^A&(O^P))+k[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=A+(O^P&(I^O))+k[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=P+(A^I^O)+k[5]+4294588738&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[8]+2272392833&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[1]+2763975236&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[4]+1272893353&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[13]+681279174&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[0]+3936430074&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(A^I^O)+k[9]+3654602809&4294967295,P=A+(R<<4&4294967295|R>>>28),R=O+(P^A^I)+k[12]+3873151461&4294967295,O=P+(R<<11&4294967295|R>>>21),R=I+(O^P^A)+k[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=A+(I^O^P)+k[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=P+(I^(A|~O))+k[0]+4096336452&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[7]+1126891415&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[12]+1700485571&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[3]+2399980690&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[8]+1873313359&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[15]+4264355552&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=P+(I^(A|~O))+k[4]+4149444226&4294967295,P=A+(R<<6&4294967295|R>>>26),R=O+(A^(P|~I))+k[11]+3174756917&4294967295,O=P+(R<<10&4294967295|R>>>22),R=I+(P^(O|~A))+k[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=A+(O^(I|~P))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+P&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.v=function(S,P){P===void 0&&(P=S.length);const A=P-this.blockSize,k=this.C;let I=this.h,O=0;for(;O<P;){if(I==0)for(;O<=A;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<P;)if(k[I++]=S.charCodeAt(O++),I==this.blockSize){i(this,k),I=0;break}}else for(;O<P;)if(k[I++]=S[O++],I==this.blockSize){i(this,k),I=0;break}}this.h=I,this.o+=P},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var P=1;P<S.length-8;++P)S[P]=0;P=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=P&255,P/=256;for(this.v(S),S=Array(16),P=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)S[P++]=this.g[A]>>>k&255;return S};function o(S,P){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=P(S)}function s(S,P){this.h=P;const A=[];let k=!0;for(let I=S.length-1;I>=0;I--){const O=S[I]|0;k&&O==P||(A[I]=O,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&S<128?o(S,function(P){return new s([P|0],P<0?-1:0)}):new s([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return v(c(-S));const P=[];let A=1;for(let k=0;S>=A;k++)P[k]=S/A|0,A*=4294967296;return new s(P,0)}function d(S,P){if(S.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S.charAt(0)=="-")return v(d(S.substring(1),P));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(P,8));let k=f;for(let O=0;O<S.length;O+=8){var I=Math.min(8,S.length-O);const R=parseInt(S.substring(O,O+I),P);I<8?(I=c(Math.pow(P,I)),k=k.j(I).add(c(R))):(k=k.j(A),k=k.add(c(R)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let S=0,P=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);S+=(k>=0?k:4294967296+k)*P,P*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(g(this))return"-"+v(this).toString(S);const P=c(Math.pow(S,6));var A=this;let k="";for(;;){const I=C(A,P).g;A=b(A,I.j(P));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=I,x(A))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let P=0;P<S.g.length;P++)if(S.g[P]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=b(this,S),g(S)?-1:x(S)?0:1};function v(S){const P=S.g.length,A=[];for(let k=0;k<P;k++)A[k]=~S.g[k];return new s(A,~S.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(S){const P=Math.max(this.g.length,S.g.length),A=[];let k=0;for(let I=0;I<=P;I++){let O=k+(this.i(I)&65535)+(S.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);k=R>>>16,O&=65535,R&=65535,A[I]=R<<16|O}return new s(A,A[A.length-1]&-2147483648?-1:0)};function b(S,P){return S.add(v(P))}t.j=function(S){if(x(this)||x(S))return f;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(this.l(m)<0&&S.l(m)<0)return c(this.m()*S.m());const P=this.g.length+S.g.length,A=[];for(var k=0;k<2*P;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<S.g.length;I++){const O=this.i(k)>>>16,R=this.i(k)&65535,L=S.i(I)>>>16,B=S.i(I)&65535;A[2*k+2*I]+=R*B,w(A,2*k+2*I),A[2*k+2*I+1]+=O*B,w(A,2*k+2*I+1),A[2*k+2*I+1]+=R*L,w(A,2*k+2*I+1),A[2*k+2*I+2]+=O*L,w(A,2*k+2*I+2)}for(S=0;S<P;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=P;S<2*P;S++)A[S]=0;return new s(A,0)};function w(S,P){for(;(S[P]&65535)!=S[P];)S[P+1]+=S[P]>>>16,S[P]&=65535,P++}function _(S,P){this.g=S,this.h=P}function C(S,P){if(x(P))throw Error("division by zero");if(x(S))return new _(f,f);if(g(S))return P=C(v(S),P),new _(v(P.g),v(P.h));if(g(P))return P=C(S,v(P)),new _(v(P.g),P.h);if(S.g.length>30){if(g(S)||g(P))throw Error("slowDivide_ only works with positive integers.");for(var A=h,k=P;k.l(S)<=0;)A=E(A),k=E(k);var I=N(A,1),O=N(k,1);for(k=N(k,2),A=N(A,2);!x(k);){var R=O.add(k);R.l(S)<=0&&(I=I.add(A),O=R),k=N(k,1),A=N(A,1)}return P=b(S,I.j(P)),new _(I,P)}for(I=f;S.l(P)>=0;){for(A=Math.max(1,Math.floor(S.m()/P.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=c(A),R=O.j(P);g(R)||R.l(S)>0;)A-=k,O=c(A),R=O.j(P);x(O)&&(O=h),I=I.add(O),S=b(S,R)}return new _(I,S)}t.B=function(S){return C(this,S).h},t.and=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)&S.i(k);return new s(A,this.h&S.h)},t.or=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)|S.i(k);return new s(A,this.h|S.h)},t.xor=function(S){const P=Math.max(this.g.length,S.g.length),A=[];for(let k=0;k<P;k++)A[k]=this.i(k)^S.i(k);return new s(A,this.h^S.h)};function E(S){const P=S.g.length+1,A=[];for(let k=0;k<P;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(A,S.h)}function N(S,P){const A=P>>5;P%=32;const k=S.g.length-A,I=[];for(let O=0;O<k;O++)I[O]=P>0?S.i(O+A)>>>P|S.i(O+A+1)<<32-P:S.i(O+A);return new s(I,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Va=s}).apply(typeof UN<"u"?UN:typeof self<"u"?self:typeof window<"u"?window:{});var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GL,xf,KL,Ag,E1,YL,XL,QL;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof km=="object"&&km];for(var T=0;T<p.length;++T){var j=p[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(p,T){if(T)e:{var j=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var H=p[D];if(!(H in j))break e;j=j[H]}p=p[p.length-1],D=j[p],T=T(D),T!=D&&T!=null&&e(j,p,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(T){var j=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&j.push([D,T[D]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function l(p,T,j){return p.call.apply(p.bind,arguments)}function c(p,T,j){return c=l,c.apply(null,arguments)}function d(p,T){var j=Array.prototype.slice.call(arguments,1);return function(){var D=j.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,T){function j(){}j.prototype=T.prototype,p.Z=T.prototype,p.prototype=new j,p.prototype.constructor=p,p.Ob=function(D,H,X){for(var ye=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ye[ct-2]=arguments[ct];return T.prototype[H].apply(D,ye)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const T=p.length;if(T>0){const j=Array(T);for(let D=0;D<T;D++)j[D]=p[D];return j}return[]}function x(p,T){for(let D=1;D<arguments.length;D++){const H=arguments[D];var j=typeof H;if(j=j!="object"?j:H?Array.isArray(H)?"array":j:"null",j=="array"||j=="object"&&typeof H.length=="number"){j=p.length||0;const X=H.length||0;p.length=j+X;for(let ye=0;ye<X;ye++)p[j+ye]=H[ye]}else p.push(H)}}class g{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(p){s.setTimeout(()=>{throw p},0)}function b(){var p=S;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class w{constructor(){this.h=this.g=null}add(T,j){const D=_.get();D.set(T,j),this.h?this.h.next=D:this.g=D,this.h=D}}var _=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let E,N=!1,S=new w,P=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(A)}};function A(){for(var p;p=b();){try{p.h.call(p.g)}catch(j){v(j)}var T=_;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}N=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const j=()=>{};s.addEventListener("test",j,T),s.removeEventListener("test",j,T)}catch{}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function L(p,T){I.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}f(L,I),L.prototype.init=function(p,T){const j=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(j=="mouseover"?T=p.fromElement:j=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,T,j,D,H){this.listener=p,this.proxy=null,this.src=T,this.type=j,this.capture=!!D,this.ha=H,this.key=++U,this.da=this.fa=!1}function F(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function V(p,T,j){for(const D in p)T.call(j,p[D],D,p)}function ee(p,T){for(const j in p)T.call(void 0,p[j],j,p)}function Q(p){const T={};for(const j in p)T[j]=p[j];return T}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,T){let j,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(j in D)p[j]=D[j];for(let X=0;X<ne.length;X++)j=ne[X],Object.prototype.hasOwnProperty.call(D,j)&&(p[j]=D[j])}}function Ce(p){this.src=p,this.g={},this.h=0}Ce.prototype.add=function(p,T,j,D,H){const X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);const ye=Xe(p,T,D,H);return ye>-1?(T=p[ye],j||(T.fa=!1)):(T=new W(T,this.src,X,!!D,H),T.fa=j,p.push(T)),T};function qe(p,T){const j=T.type;if(j in p.g){var D=p.g[j],H=Array.prototype.indexOf.call(D,T,void 0),X;(X=H>=0)&&Array.prototype.splice.call(D,H,1),X&&(F(T),p.g[j].length==0&&(delete p.g[j],p.h--))}}function Xe(p,T,j,D){for(let H=0;H<p.length;++H){const X=p[H];if(!X.da&&X.listener==T&&X.capture==!!j&&X.ha==D)return H}return-1}var me="closure_lm_"+(Math.random()*1e6|0),we={};function te(p,T,j,D,H){if(Array.isArray(T)){for(let X=0;X<T.length;X++)te(p,T[X],j,D,H);return null}return j=Rt(j),p&&p[B]?p.J(T,j,a(D)?!!D.capture:!!D,H):he(p,T,j,!1,D,H)}function he(p,T,j,D,H,X){if(!T)throw Error("Invalid event type");const ye=a(H)?!!H.capture:!!H;let ct=ot(p);if(ct||(p[me]=ct=new Ce(p)),j=ct.add(T,j,D,ye,X),j.proxy)return j;if(D=pe(),j.proxy=D,D.src=p,D.listener=j,p.addEventListener)O||(H=ye),H===void 0&&(H=!1),p.addEventListener(T.toString(),D,H);else if(p.attachEvent)p.attachEvent(Re(T.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return j}function pe(){function p(j){return T.call(p.src,p.listener,j)}const T=mt;return p}function Y(p,T,j,D,H){if(Array.isArray(T))for(var X=0;X<T.length;X++)Y(p,T[X],j,D,H);else D=a(D)?!!D.capture:!!D,j=Rt(j),p&&p[B]?(p=p.i,X=String(T).toString(),X in p.g&&(T=p.g[X],j=Xe(T,j,D,H),j>-1&&(F(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete p.g[X],p.h--)))):p&&(p=ot(p))&&(T=p.g[T.toString()],p=-1,T&&(p=Xe(T,j,D,H)),(j=p>-1?T[p]:null)&&Se(j))}function Se(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[B])qe(T.i,p);else{var j=p.type,D=p.proxy;T.removeEventListener?T.removeEventListener(j,D,p.capture):T.detachEvent?T.detachEvent(Re(j),D):T.addListener&&T.removeListener&&T.removeListener(D),(j=ot(T))?(qe(j,p),j.h==0&&(j.src=null,T[me]=null)):F(p)}}}function Re(p){return p in we?we[p]:we[p]="on"+p}function mt(p,T){if(p.da)p=!0;else{T=new L(T,this);const j=p.listener,D=p.ha||p.src;p.fa&&Se(p),p=j.call(D,T)}return p}function ot(p){return p=p[me],p instanceof Ce?p:null}var At="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rt(p){return typeof p=="function"?p:(p[At]||(p[At]=function(T){return p.handleEvent(T)}),p[At])}function xe(){k.call(this),this.i=new Ce(this),this.M=this,this.G=null}f(xe,k),xe.prototype[B]=!0,xe.prototype.removeEventListener=function(p,T,j,D){Y(this,p,T,j,D)};function Qe(p,T){var j,D=p.G;if(D)for(j=[];D;D=D.G)j.push(D);if(p=p.M,D=T.type||T,typeof T=="string")T=new I(T,p);else if(T instanceof I)T.target=T.target||p;else{var H=T;T=new I(D,p),ge(T,H)}H=!0;let X,ye;if(j)for(ye=j.length-1;ye>=0;ye--)X=T.g=j[ye],H=cn(X,D,!0,T)&&H;if(X=T.g=p,H=cn(X,D,!0,T)&&H,H=cn(X,D,!1,T)&&H,j)for(ye=0;ye<j.length;ye++)X=T.g=j[ye],H=cn(X,D,!1,T)&&H}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const j=p.g[T];for(let D=0;D<j.length;D++)F(j[D]);delete p.g[T],p.h--}}this.G=null},xe.prototype.J=function(p,T,j,D){return this.i.add(String(p),T,!1,j,D)},xe.prototype.K=function(p,T,j,D){return this.i.add(String(p),T,!0,j,D)};function cn(p,T,j,D){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let X=0;X<T.length;++X){const ye=T[X];if(ye&&!ye.da&&ye.capture==j){const ct=ye.listener,zn=ye.ha||ye.src;ye.fa&&qe(p.i,ye),H=ct.call(zn,D)!==!1&&H}}return H&&!D.defaultPrevented}function kt(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(p,T||0)}function pn(p){p.g=kt(()=>{p.g=null,p.i&&(p.i=!1,pn(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class yr extends k{constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(p){k.call(this),this.h=p,this.g={}}f(bn,k);var vr=[];function Yi(p){V(p.g,function(T,j){this.g.hasOwnProperty(j)&&Se(T)},p),p.g={}}bn.prototype.N=function(){bn.Z.N.call(this),Yi(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=s.JSON.stringify,Mr=s.JSON.parse,An=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Cn(){}function It(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mn(){I.call(this,"d")}f(Mn,I);function xr(){I.call(this,"c")}f(xr,I);var q={},le=null;function Te(){return le=le||new xe}q.Ia="serverreachability";function Le(p){I.call(this,q.Ia,p)}f(Le,I);function _t(p){const T=Te();Qe(T,new Le(T))}q.STAT_EVENT="statevent";function Nn(p,T){I.call(this,q.STAT_EVENT,p),this.stat=T}f(Nn,I);function Be(p){const T=Te();Qe(T,new Nn(T,p))}q.Ja="timingevent";function lt(p,T){I.call(this,q.Ja,p),this.size=T}f(lt,I);function wn(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},T)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function Xi(p,T,j,D,H,X){p.info(function(){if(p.g)if(X){var ye="",ct=X.split("&");for(let Gt=0;Gt<ct.length;Gt++){var zn=ct[Gt].split("=");if(zn.length>1){const Zn=zn[0];zn=zn[1];const Io=Zn.split("_");ye=Io.length>=2&&Io[1]=="type"?ye+(Zn+"="+zn+"&"):ye+(Zn+"=redacted&")}}}else ye=null;else ye=X;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+T+`
`+j+`
`+ye})}function ri(p,T,j,D,H,X,ye){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+T+`
`+j+`
`+X+" "+ye})}function qr(p,T,j,D){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ys(p,j)+(D?" "+D:"")})}function Gr(p,T){p.info(function(){return"TIMEOUT: "+T})}_n.prototype.info=function(){};function Ys(p,T){if(!p.g)return T;if(!T)return null;try{const X=JSON.parse(T);if(X){for(p=0;p<X.length;p++)if(Array.isArray(X[p])){var j=X[p];if(!(j.length<2)){var D=j[1];if(Array.isArray(D)&&!(D.length<1)){var H=D[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ye=1;ye<D.length;ye++)D[ye]=""}}}}return Wt(X)}catch{return T}}var Ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xc;function Xs(){}f(Xs,Cn),Xs.prototype.g=function(){return new XMLHttpRequest},xc=new Xs;function In(p){return encodeURIComponent(String(p))}function Qi(p){var T=1;p=p.split(":");const j=[];for(;T>0&&p.length;)j.push(p.shift()),T--;return p.length&&j.push(p.join(":")),j}function br(p,T,j,D){this.j=p,this.i=T,this.l=j,this.S=D||1,this.V=new bn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Qs={},Js={};function Zs(p,T,j){p.M=1,p.A=it(be(T)),p.u=j,p.R=!0,K(p,null)}function K(p,T){p.F=Date.now(),rt(p),p.B=be(p.A);var j=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Ud(j.i,"t",D),p.C=0,j=p.j.L,p.h=new ii,p.g=wA(p.j,j?T:null,!p.u),p.P>0&&(p.O=new yr(c(p.Y,p,p.g),p.P)),T=p.V,j=p.g,D=p.ba;var H="readystatechange";Array.isArray(H)||(H&&(vr[0]=H.toString()),H=vr);for(let X=0;X<H.length;X++){const ye=te(j,H[X],D||T.handleEvent,!1,T.h||T);if(!ye)break;T.g[ye.key]=ye}T=p.J?Q(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),_t(),Xi(p.i,p.v,p.B,p.l,p.S,p.u)}br.prototype.ba=function(p){p=p.target;const T=this.O;T&&Ji(p)==3?T.j():this.Y(p)},br.prototype.Y=function(p){try{if(p==this.g)e:{const ct=Ji(this.g),zn=this.g.ya(),Gt=this.g.ca();if(!(ct<3)&&(ct!=3||this.g&&(this.h.h||this.g.la()||uA(this.g)))){this.K||ct!=4||zn==7||(zn==8||Gt<=0?_t(3):_t(2)),Ot(this);var T=this.g.ca();this.X=T;var j=Fe(this);if(this.o=T==200,ri(this.i,this.v,this.B,this.l,this.S,ct,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,H=this.g;if((D=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var X=D;break t}}X=null}if(p=X)qr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,p);else{this.o=!1,this.m=3,Be(12),Ut(this),Ht(this);break e}}if(this.R){p=!0;let Zn;for(;!this.K&&this.C<j.length;)if(Zn=Ue(this,j),Zn==Js){ct==4&&(this.m=4,Be(14),p=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Qs){this.m=4,Be(15),qr(this.i,this.l,j,"[Invalid Chunk]"),p=!1;break}else qr(this.i,this.l,Zn,null),pt(this,Zn);if(Ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||j.length!=0||this.h.h||(this.m=1,Be(16),p=!1),this.o=this.o&&p,!p)qr(this.i,this.l,j,"[Invalid Chunked Response]"),Ut(this),Ht(this);else if(j.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),j0(ye),ye.P=!0,Be(11))}}else qr(this.i,this.l,j,null),pt(this,j);ct==4&&Ut(this),this.o&&!this.K&&(ct==4?yA(this.j,this):(this.o=!1,rt(this)))}else OU(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),Ut(this),Ht(this)}}}catch{}finally{}};function Fe(p){if(!Ze(p))return p.g.la();const T=uA(p.g);if(T==="")return"";let j="";const D=T.length,H=Ji(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ut(p),Ht(p),"";p.h.i=new s.TextDecoder}for(let X=0;X<D;X++)p.h.h=!0,j+=p.h.i.decode(T[X],{stream:!(H&&X==D-1)});return T.length=0,p.h.g+=j,p.C=0,p.h.g}function Ze(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ue(p,T){var j=p.C,D=T.indexOf(`
`,j);return D==-1?Js:(j=Number(T.substring(j,D)),isNaN(j)?Qs:(D+=1,D+j>T.length?Js:(T=T.slice(D,D+j),p.C=D+j,T)))}br.prototype.cancel=function(){this.K=!0,Ut(this)};function rt(p){p.T=Date.now()+p.H,et(p,p.H)}function et(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=wn(c(p.aa,p),T)}function Ot(p){p.D&&(s.clearTimeout(p.D),p.D=null)}br.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(_t(),Be(17)),Ut(this),this.m=2,Ht(this)):et(this,this.T-p)};function Ht(p){p.j.I==0||p.K||yA(p.j,p)}function Ut(p){Ot(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,Yi(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function pt(p,T){try{var j=p.j;if(j.I!=0&&(j.g==p||$(j.h,p))){if(!p.L&&$(j.h,p)&&j.I==3){try{var D=j.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<p.F)im(j),nm(j);else break e;I0(j),Be(18)}}else j.xa=H[1],0<j.xa-j.K&&H[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=wn(c(j.Va,j),6e3));M(j.h)<=1&&j.ta&&(j.ta=void 0)}else hl(j,11)}else if((p.L||j.g==p)&&im(j),!R(T))for(H=j.Ba.g.parse(T),T=0;T<H.length;T++){let Gt=H[T];const Zn=Gt[0];if(!(Zn<=j.K))if(j.K=Zn,Gt=Gt[1],j.I==2)if(Gt[0]=="c"){j.M=Gt[1],j.ba=Gt[2];const Io=Gt[3];Io!=null&&(j.ka=Io,j.j.info("VER="+j.ka));const pl=Gt[4];pl!=null&&(j.za=pl,j.j.info("SVER="+j.za));const na=Gt[5];na!=null&&typeof na=="number"&&na>0&&(D=1.5*na,j.O=D,j.j.info("backChannelRequestTimeoutMs_="+D)),D=j;const ra=p.g;if(ra){const sm=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sm){var X=D.h;X.g||sm.indexOf("spdy")==-1&&sm.indexOf("quic")==-1&&sm.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(G(X,X.h),X.h=null))}if(D.G){const k0=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;k0&&(D.wa=k0,Pe(D.J,D.G,k0))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-p.F,j.j.info("Handshake RTT: "+j.T+"ms")),D=j;var ye=p;if(D.na=bA(D,D.L?D.ba:null,D.W),ye.L){J(D.h,ye);var ct=ye,zn=D.O;zn&&(ct.H=zn),ct.D&&(Ot(ct),rt(ct)),D.g=ye}else mA(D);j.i.length>0&&rm(j)}else Gt[0]!="stop"&&Gt[0]!="close"||hl(j,7);else j.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?hl(j,7):N0(j):Gt[0]!="noop"&&j.l&&j.l.qa(Gt),j.A=0)}}_t(4)}catch{}}var oi=class{constructor(p,T){this.g=p,this.map=T}};function Kr(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function M(p){return p.h?1:p.g?p.g.size:0}function $(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function G(p,T){p.g?p.g.add(T):p.h=T}function J(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}Kr.prototype.cancel=function(){if(this.i=Z(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Z(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const j of p.g.values())T=T.concat(j.G);return T}return m(p.i)}var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ce(p,T){if(p){p=p.split("&");for(let j=0;j<p.length;j++){const D=p[j].indexOf("=");let H,X=null;D>=0?(H=p[j].substring(0,D),X=p[j].substring(D+1)):H=p[j],T(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function de(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof de?(this.l=p.l,_e(this,p.j),this.o=p.o,this.g=p.g,Ge(this,p.u),this.h=p.h,ve(this,zd(p.i)),this.m=p.m):p&&(T=String(p).match(ie))?(this.l=!1,_e(this,T[1]||"",!0),this.o=en(T[2]||""),this.g=en(T[3]||"",!0),Ge(this,T[4]),this.h=en(T[5]||"",!0),ve(this,T[6]||"",!0),this.m=en(T[7]||"")):(this.l=!1,this.i=new Ft(null,this.l))}de.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(tn(T,si,!0),":");var j=this.g;return(j||T=="file")&&(p.push("//"),(T=this.o)&&p.push(tn(T,si,!0),"@"),p.push(In(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&p.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&p.push("/"),p.push(tn(j,j.charAt(0)=="/"?Yp:ea,!0))),(j=this.i.toString())&&p.push("?",j),(j=this.m)&&p.push("#",tn(j,Qp)),p.join("")},de.prototype.resolve=function(p){const T=be(this);let j=!!p.j;j?_e(T,p.j):j=!!p.o,j?T.o=p.o:j=!!p.g,j?T.g=p.g:j=p.u!=null;var D=p.h;if(j)Ge(T,p.u);else if(j=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var H=T.h.lastIndexOf("/");H!=-1&&(D=T.h.slice(0,H+1)+D)}if(H=D,H==".."||H==".")D="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){D=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ye=0;ye<H.length;){const ct=H[ye++];ct=="."?D&&ye==H.length&&X.push(""):ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),D&&ye==H.length&&X.push("")):(X.push(ct),D=!0)}D=X.join("/")}else D=H}return j?T.h=D:j=p.i.toString()!=="",j?ve(T,zd(p.i)):j=!!p.m,j&&(T.m=p.m),T};function be(p){return new de(p)}function _e(p,T,j){p.j=j?en(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Ge(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function ve(p,T,j){T instanceof Ft?(p.i=T,Dn(p.i,p.l)):(j||(T=tn(T,Xp)),p.i=new Ft(T,p.l))}function Pe(p,T,j){p.i.set(T,j)}function it(p){return Pe(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function en(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function tn(p,T,j){return typeof p=="string"?(p=encodeURI(p).replace(T,Jn),j&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Jn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var si=/[#\/\?@]/g,ea=/[#\?:]/g,Yp=/[#\?]/g,Xp=/[#\?@]/g,Qp=/#/g;function Ft(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Dr(p){p.g||(p.g=new Map,p.h=0,p.i&&ce(p.i,function(T,j){p.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=Ft.prototype,t.add=function(p,T){Dr(this),this.i=null,p=Ct(this,p);let j=this.g.get(p);return j||this.g.set(p,j=[]),j.push(T),this.h+=1,this};function Jp(p,T){Dr(p),T=Ct(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Zp(p,T){return Dr(p),T=Ct(p,T),p.g.has(T)}t.forEach=function(p,T){Dr(this),this.g.forEach(function(j,D){j.forEach(function(H){p.call(T,H,D,this)},this)},this)};function Bd(p,T){Dr(p);let j=[];if(typeof T=="string")Zp(p,T)&&(j=j.concat(p.g.get(Ct(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)j=j.concat(p[T]);return j}t.set=function(p,T){return Dr(this),this.i=null,p=Ct(this,p),Zp(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=Bd(this,p),p.length>0?String(p[0]):T):T};function Ud(p,T,j){Jp(p,T),j.length>0&&(p.i=null,p.g.set(Ct(p,T),m(j)),p.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var j=T[D];const H=In(j);j=Bd(this,j);for(let X=0;X<j.length;X++){let ye=H;j[X]!==""&&(ye+="="+In(j[X])),p.push(ye)}}return this.i=p.join("&")};function zd(p){const T=new Ft;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function Ct(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function Dn(p,T){T&&!p.j&&(Dr(p),p.i=null,p.g.forEach(function(j,D){const H=D.toLowerCase();D!=H&&(Jp(this,D),Ud(this,H,j))},p)),p.j=T}function Co(p,T){const j=new _n;if(s.Image){const D=new Image;D.onload=d(wr,j,"TestLoadImage: loaded",!0,T,D),D.onerror=d(wr,j,"TestLoadImage: error",!1,T,D),D.onabort=d(wr,j,"TestLoadImage: abort",!1,T,D),D.ontimeout=d(wr,j,"TestLoadImage: timeout",!1,T,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else T(!1)}function No(p,T){const j=new _n,D=new AbortController,H=setTimeout(()=>{D.abort(),wr(j,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:D.signal}).then(X=>{clearTimeout(H),X.ok?wr(j,"TestPingServer: ok",!0,T):wr(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),wr(j,"TestPingServer: error",!1,T)})}function wr(p,T,j,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(j)}catch{}}function Si(){this.g=new An}function qt(p){this.i=p.Sb||null,this.h=p.ab||!1}f(qt,Cn),qt.prototype.g=function(){return new ht(this.i,this.h)};function ht(p,T){xe.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ht,xe),t=ht.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,$n(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;st(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function st(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?$r(this):$n(this),this.readyState==3&&st(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,$r(this))},t.Na=function(p){this.g&&(this.response=p,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(p){p.readyState=4,p.l=null,p.j=null,p.B=null,$n(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,p.push(j[0]+": "+j[1]),j=T.next();return p.join(`\r
`)};function $n(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ht.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function _r(p){let T="";return V(p,function(j,D){T+=D,T+=":",T+=j,T+=`\r
`}),T}function Lr(p,T,j){e:{for(D in j){var D=!1;break e}D=!0}D||(j=_r(j),typeof p=="string"?j!=null&&In(j):Pe(p,T,j))}function Qt(p){xe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Qt,xe);var cA=/^https?$/i,em=["POST","PUT"];t=Qt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,j,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xc.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(X){ta(this,X);return}if(p=j||"",j=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)j.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())j.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(j.keys()).find(X=>X.toLowerCase()=="content-type"),H=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(em,T,void 0)>=0)||D||H||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ye]of j)this.g.setRequestHeader(X,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(X){ta(this,X)}};function ta(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,fl(p),bc(p)}function fl(p){p.A||(p.A=!0,Qe(p,"complete"),Qe(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Qe(this,"complete"),Qe(this,"abort"),bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),Qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tm(this):this.Xa())},t.Xa=function(){tm(this)};function tm(p){if(p.h&&typeof o<"u"){if(p.v&&Ji(p)==4)setTimeout(p.Ca.bind(p),0);else if(Qe(p,"readystatechange"),Ji(p)==4){p.h=!1;try{const X=p.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var D;if(D=X===0){let ye=String(p.D).match(ie)[1]||null;!ye&&s.self&&s.self.location&&(ye=s.self.location.protocol.slice(0,-1)),D=!cA.test(ye?ye.toLowerCase():"")}j=D}if(j)Qe(p,"complete"),Qe(p,"success");else{p.o=6;try{var H=Ji(p)>2?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.ca()+"]",fl(p)}}finally{bc(p)}}}}function bc(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const j=p.g;p.g=null,T||Qe(p,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ji(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Ji(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Mr(T)}};function uA(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function OU(p){const T={};p=(p.g&&Ji(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(R(p[D]))continue;var j=Qi(p[D]);const H=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const X=T[H]||[];T[H]=X,X.push(j)}ee(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wd(p,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[p]||T}function dA(p){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wd("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wd("baseRetryDelayMs",5e3,p),this.Za=Wd("retryDelaySeedMs",1e4,p),this.Ta=Wd("forwardChannelMaxRetries",2,p),this.va=Wd("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(p&&p.concurrentRequestLimit),this.Ba=new Si,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dA.prototype,t.ka=8,t.I=1,t.connect=function(p,T,j,D){Be(0),this.W=p,this.H=T||{},j&&D!==void 0&&(this.H.OSID=j,this.H.OAID=D),this.F=this.X,this.J=bA(this,null,this.W),rm(this)};function N0(p){if(fA(p),p.I==3){var T=p.V++,j=be(p.J);if(Pe(j,"SID",p.M),Pe(j,"RID",T),Pe(j,"TYPE","terminate"),Hd(p,j),T=new br(p,p.j,T),T.M=2,T.A=it(be(j)),j=!1,s.navigator&&s.navigator.sendBeacon)try{j=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&s.Image&&(new Image().src=T.A,j=!0),j||(T.g=wA(T.j,null),T.g.ea(T.A)),T.F=Date.now(),rt(T)}xA(p)}function nm(p){p.g&&(j0(p),p.g.cancel(),p.g=null)}function fA(p){nm(p),p.v&&(s.clearTimeout(p.v),p.v=null),im(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function rm(p){if(!Lt(p.h)&&!p.m){p.m=!0;var T=p.Ea;E||P(),N||(E(),N=!0),S.add(T,p),p.D=0}}function RU(p,T){return M(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=wn(c(p.Ea,p,T),vA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const H=new br(this,this.j,p);let X=this.o;if(this.U&&(X?(X=Q(X),ge(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var D=this.i[j];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=pA(this,H,T),j=be(this.J),Pe(j,"RID",p),Pe(j,"CVER",22),this.G&&Pe(j,"X-HTTP-Session-Id",this.G),Hd(this,j),X&&(this.R?T="headers="+In(_r(X))+"&"+T:this.u&&Lr(j,this.u,X)),G(this.h,H),this.Ra&&Pe(j,"TYPE","init"),this.S?(Pe(j,"$req",T),Pe(j,"SID","null"),H.U=!0,Zs(H,j,null)):Zs(H,j,T),this.I=2}}else this.I==3&&(p?hA(this,p):this.i.length==0||Lt(this.h)||hA(this))};function hA(p,T){var j;T?j=T.l:j=p.V++;const D=be(p.J);Pe(D,"SID",p.M),Pe(D,"RID",j),Pe(D,"AID",p.K),Hd(p,D),p.u&&p.o&&Lr(D,p.u,p.o),j=new br(p,p.j,j,p.D+1),p.u===null&&(j.J=p.o),T&&(p.i=T.G.concat(p.i)),T=pA(p,j,1e3),j.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),G(p.h,j),Zs(j,D,T)}function Hd(p,T){p.H&&V(p.H,function(j,D){Pe(T,D,j)}),p.l&&V({},function(j,D){Pe(T,D,j)})}function pA(p,T,j){j=Math.min(p.i.length,j);const D=p.l?c(p.l.Ka,p.l,p):null;e:{var H=p.i;let ct=-1;for(;;){const zn=["count="+j];ct==-1?j>0?(ct=H[0].g,zn.push("ofs="+ct)):ct=0:zn.push("ofs="+ct);let Gt=!0;for(let Zn=0;Zn<j;Zn++){var X=H[Zn].g;const Io=H[Zn].map;if(X-=ct,X<0)ct=Math.max(0,H[Zn].g-100),Gt=!1;else try{X="req"+X+"_"||"";try{var ye=Io instanceof Map?Io:Object.entries(Io);for(const[pl,na]of ye){let ra=na;a(na)&&(ra=Wt(na)),zn.push(X+pl+"="+encodeURIComponent(ra))}}catch(pl){throw zn.push(X+"type="+encodeURIComponent("_badmap")),pl}}catch{D&&D(Io)}}if(Gt){ye=zn.join("&");break e}}ye=void 0}return p=p.i.splice(0,j),T.G=p,ye}function mA(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;E||P(),N||(E(),N=!0),S.add(T,p),p.A=0}}function I0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=wn(c(p.Da,p),vA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,gA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=wn(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),nm(this),gA(this))};function j0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function gA(p){p.g=new br(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=be(p.na);Pe(T,"RID","rpc"),Pe(T,"SID",p.M),Pe(T,"AID",p.K),Pe(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&Pe(T,"TO",p.ia),Pe(T,"TYPE","xmlhttp"),Hd(p,T),p.u&&p.o&&Lr(T,p.u,p.o),p.O&&(p.g.H=p.O);var j=p.g;p=p.ba,j.M=1,j.A=it(be(T)),j.u=null,j.R=!0,K(j,p)}t.Va=function(){this.C!=null&&(this.C=null,nm(this),I0(this),Be(19))};function im(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function yA(p,T){var j=null;if(p.g==T){im(p),j0(p),p.g=null;var D=2}else if($(p.h,T))j=T.G,J(p.h,T),D=1;else return;if(p.I!=0){if(T.o)if(D==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var H=p.D;D=Te(),Qe(D,new lt(D,j)),rm(p)}else mA(p);else if(H=T.m,H==3||H==0&&T.X>0||!(D==1&&RU(p,T)||D==2&&I0(p)))switch(j&&j.length>0&&(T=p.h,T.i=T.i.concat(j)),H){case 1:hl(p,5);break;case 4:hl(p,10);break;case 3:hl(p,6);break;default:hl(p,2)}}}function vA(p,T){let j=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(j*=2),j*T}function hl(p,T){if(p.j.info("Error code "+T),T==2){var j=c(p.bb,p),D=p.Ua;const H=!D;D=new de(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||_e(D,"https"),it(D),H?Co(D.toString(),j):No(D.toString(),j)}else Be(2);p.I=0,p.l&&p.l.pa(T),xA(p),fA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function xA(p){if(p.I=0,p.ja=[],p.l){const T=Z(p.h);(T.length!=0||p.i.length!=0)&&(x(p.ja,T),x(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function bA(p,T,j){var D=j instanceof de?be(j):new de(j);if(D.g!="")T&&(D.g=T+"."+D.g),Ge(D,D.u);else{var H=s.location;D=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const X=new de(null);D&&_e(X,D),T&&(X.g=T),H&&Ge(X,H),j&&(X.h=j),D=X}return j=p.G,T=p.wa,j&&T&&Pe(D,j,T),Pe(D,"VER",p.ka),Hd(p,D),D}function wA(p,T,j){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new Qt(new qt({ab:j})):new Qt(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _A(){}t=_A.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function om(){}om.prototype.g=function(p,T){return new ai(p,T)};function ai(p,T){xe.call(this),this.g=new dA(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!R(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new wc(this)}f(ai,xe),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){N0(this.g)},ai.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var j={};j.__data__=p,p=j}else this.v&&(j={},j.__data__=Wt(p),p=j);T.i.push(new oi(T.Ya++,p)),T.I==3&&rm(T)},ai.prototype.N=function(){this.g.l=null,delete this.j,N0(this.g),delete this.g,ai.Z.N.call(this)};function SA(p){Mn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const j in T){p=j;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}f(SA,Mn);function EA(){xr.call(this),this.status=1}f(EA,xr);function wc(p){this.g=p}f(wc,_A),wc.prototype.ra=function(){Qe(this.g,"a")},wc.prototype.qa=function(p){Qe(this.g,new SA(p))},wc.prototype.pa=function(p){Qe(this.g,new EA)},wc.prototype.oa=function(){Qe(this.g,"b")},om.prototype.createWebChannel=om.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,QL=function(){return new om},XL=function(){return Te()},YL=q,E1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ao.NO_ERROR=0,Ao.TIMEOUT=8,Ao.HTTP_ERROR=6,Ag=Ao,vc.COMPLETE="complete",KL=vc,It.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",xe.prototype.listen=xe.prototype.J,xf=It,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,GL=Qt}).apply(typeof km<"u"?km:typeof self<"u"?self:typeof window<"u"?window:{});const zN="@firebase/firestore",WN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new FE("@firebase/firestore");function Ic(){return Zl.logLevel}function Ae(t,...e){if(Zl.logLevel<=vt.DEBUG){const n=e.map(JE);Zl.debug(`Firestore (${_d}): ${t}`,...n)}}function $s(t,...e){if(Zl.logLevel<=vt.ERROR){const n=e.map(JE);Zl.error(`Firestore (${_d}): ${t}`,...n)}}function $u(t,...e){if(Zl.logLevel<=vt.WARN){const n=e.map(JE);Zl.warn(`Firestore (${_d}): ${t}`,...n)}}function JE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JL(t,r,n)}function JL(t,e,n){let r=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function $t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JL(e,i,r)}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nr.UNAUTHENTICATED))}shutdown(){}}class EX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TX{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ba,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ba)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new ZL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new Nr(e)}}class PX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function T1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return wb(i)===wb(o)?bt(i,o):wb(i)?1:-1}return bt(t.length,e.length)}const IX=55296,jX=57343;function wb(t){const e=t.charCodeAt(0);return e>=IX&&e<=jX}function Lu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__name__";class Ro{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ro?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ro.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return bt(e.length,n.length)}static compareSegments(e,n){const r=Ro.isNumericId(e),i=Ro.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ro.extractNumericId(e).compare(Ro.extractNumericId(n)):T1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class gn extends Ro{construct(e,n,r){return new gn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gn(n)}static emptyPath(){return new gn([])}}const kX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Ro{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return kX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qN}static keyField(){return new fr([qN])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new $e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(gn.fromString(e))}static fromName(e){return new We(gn.fromString(e).popFirst(5))}static empty(){return new We(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new gn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t,e,n){if(!n)throw new $e(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RX(t,e,n,r){if(e===!0&&r===!0)throw new $e(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GN(t){if(!We.isDocumentKey(t))throw new $e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function Eh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eT(t);throw new $e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Op(t,e){if(!e4(t))throw new $e(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new $e(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=-62135596800,YN=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YN);return new an(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KN)throw new $e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YN}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:an._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Op(e,an._jsonSchema))return new an(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}an._jsonSchemaVersion="firestore/timestamp/1.0",an._jsonSchema={type:Bn("string",an._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new an(0,0))}static max(){return new tt(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function MX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new Xa(i,We.empty(),e)}function DX(t){return new Xa(t.readTime,t.key,Th)}class Xa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xa(tt.min(),We.empty(),Th)}static max(){return new Xa(tt.max(),We.empty(),Th)}}function $X(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==LX)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new oe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function VX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-1;function yx(t){return t==null}function _y(t){return t===0&&1/t==-1/0}function BX(t){return typeof t=="number"&&Number.isInteger(t)&&!_y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="";function UX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XN(e)),e=zX(t.get(n),e);return XN(e)}function zX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case t4:n+="";break;default:n+=o}}return n}function XN(t){return t+t4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new xn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??dr.EMPTY,this.right=o??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JN(this.data.getIterator())}getIteratorFrom(e){return new JN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class JN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new go([])}unionWith(e){let n=new Xn(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new go(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new r4("Invalid base64 string: "+o):o}}(e);return new gr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const WX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=WX.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="server_timestamp",o4="__type__",s4="__previous_value__",a4="__local_write_time__";function nT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[o4])==null?void 0:r.stringValue)===i4}function vx(t){const e=t.mapValue.fields[s4];return nT(e)?vx(e):e}function Ph(t){const e=Qa(t.mapValue.fields[a4].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n,r,i,o,s,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Sy="(default)";class Ah{constructor(e,n){this.projectId=e,this.database=n||Sy}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===Sy}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="__type__",c4="__max__",Rm={mapValue:{fields:{__type__:{stringValue:c4}}}},u4="__vector__",Ey="value";function Za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nT(t)?4:GX(t)?9007199254740991:qX(t)?10:11:Ke(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=Za(t);if(n!==Za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Qa(i.timestampValue),a=Qa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ja(i.bytesValue).isEqual(Ja(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return jn(i.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jn(i.integerValue)===jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=jn(i.doubleValue),a=jn(o.doubleValue);return s===a?_y(s)===_y(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Lu(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(QN(s)!==QN(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!rs(s[l],a[l])))return!1;return!0}(t,e);default:return Ke(52216,{left:t})}}function Ch(t,e){return(t.values||[]).find(n=>rs(n,e))!==void 0}function Fu(t,e){if(t===e)return 0;const n=Za(t),r=Za(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=jn(o.integerValue||o.doubleValue),l=jn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ZN(t.timestampValue,e.timestampValue);case 4:return ZN(Ph(t),Ph(e));case 5:return T1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ja(o),l=Ja(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=bt(a[c],l[c]);if(d!==0)return d}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=bt(jn(o.latitude),jn(s.latitude));return a!==0?a:bt(jn(o.longitude),jn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,x,g;const a=o.fields||{},l=s.fields||{},c=(h=a[Ey])==null?void 0:h.arrayValue,d=(m=l[Ey])==null?void 0:m.arrayValue,f=bt(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:eI(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Rm.mapValue&&s===Rm.mapValue)return 0;if(o===Rm.mapValue)return 1;if(s===Rm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=T1(l[f],d[f]);if(h!==0)return h;const m=Fu(a[l[f]],c[d[f]]);if(m!==0)return m}return bt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function ZN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Qa(t),r=Qa(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function eI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Fu(n[i],r[i]);if(o)return o}return bt(n.length,r.length)}function Vu(t){return P1(t)}function P1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ja(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return We.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=P1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${P1(n.fields[s])}`;return i+"}"}(t.mapValue):Ke(61005,{value:t})}function Cg(t){switch(Za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vx(t);return e?16+Cg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return uc(r.fields,(o,s)=>{i+=o.length+Cg(s)}),i}(t.mapValue);default:throw Ke(13486,{value:t})}}function A1(t){return!!t&&"integerValue"in t}function rT(t){return!!t&&"arrayValue"in t}function tI(t){return!!t&&"nullValue"in t}function nI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ng(t){return!!t&&"mapValue"in t}function qX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[l4])==null?void 0:r.stringValue)===u4}function Vf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vf(t.arrayValue.values[n]);return e}return{...t}}function GX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(n)}setAll(e){let n=fr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Vf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ii(Vf(this.value))}}function d4(t){const e=[];return uc(t.fields,(n,r)=>{const i=new fr([n]);if(Ng(r)){const o=d4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new go(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new jr(e,0,tt.min(),tt.min(),tt.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,i){return new jr(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new jr(e,2,n,tt.min(),tt.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,tt.min(),tt.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.position=e,this.inclusive=n}}function rI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=We.comparator(We.fromName(s.referenceValue),n.key):r=Fu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n="asc"){this.field=e,this.dir=n}}function KX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{}class Gn extends f4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XX(e,n,r):n==="array-contains"?new ZX(e,r):n==="in"?new eQ(e,r):n==="not-in"?new tQ(e,r):n==="array-contains-any"?new nQ(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QX(e,r):new JX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fu(n,this.value)):n!==null&&Za(this.value)===Za(n)&&this.matchesComparison(Fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends f4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new is(e,n)}matches(e){return h4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h4(t){return t.op==="and"}function p4(t){return YX(t)&&h4(t)}function YX(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function C1(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+Vu(t.value);if(p4(t))return t.filters.map(e=>C1(e)).join(",");{const e=t.filters.map(n=>C1(n)).join(",");return`${t.op}(${e})`}}function m4(t,e){return t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&rs(r.value,i.value)}(t,e):t instanceof is?function(r,i){return i instanceof is&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&m4(s,i.filters[a]),!0):!1}(t,e):void Ke(19439)}function g4(t){return t instanceof Gn?function(n){return`${n.field.canonicalString()} ${n.op} ${Vu(n.value)}`}(t):t instanceof is?function(n){return n.op.toString()+" {"+n.getFilters().map(g4).join(" ,")+"}"}(t):"Filter"}class XX extends Gn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class QX extends Gn{constructor(e,n){super(e,"in",n),this.keys=y4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JX extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=y4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function y4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>We.fromName(r.referenceValue))}class ZX extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rT(n)&&Ch(n.arrayValue,this.value)}}class eQ extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ch(this.value.arrayValue,n)}}class tQ extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ch(this.value.arrayValue,n)}}class nQ extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ch(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function oI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rQ(t,e,n,r,i,o,s)}function iT(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>C1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vu(r)).join(",")),e.Te=n}return e.Te}function oT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iI(t.startAt,e.startAt)&&iI(t.endAt,e.endAt)}function N1(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iQ(t,e,n,r,i,o,s,a){return new xx(t,e,n,r,i,o,s,a)}function sT(t){return new xx(t)}function sI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oQ(t){return t.collectionGroup!==null}function Bf(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xn(fr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Py(o,r))}),n.has(fr.keyField().canonicalString())||e.Ie.push(new Py(fr.keyField(),r))}return e.Ie}function Yo(t){const e=nt(t);return e.Ee||(e.Ee=sQ(e,Bf(t))),e.Ee}function sQ(t,e){if(t.limitType==="F")return oI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Py(i.field,o)});const n=t.endAt?new Ty(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ty(t.startAt.position,t.startAt.inclusive):null;return oI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function I1(t,e,n){return new xx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bx(t,e){return oT(Yo(t),Yo(e))&&t.limitType===e.limitType}function v4(t){return`${iT(Yo(t))}|lt:${t.limitType}`}function jc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>g4(i)).join(", ")}]`),yx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vu(i)).join(",")),`Target(${r})`}(Yo(t))}; limitType=${t.limitType})`}function wx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):We.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Bf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=rI(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Bf(r),i)||r.endAt&&!function(s,a,l){const c=rI(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Bf(r),i))}(t,e)}function aQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x4(t){return(e,n)=>{let r=!1;for(const i of Bf(t)){const o=lQ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lQ(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Fu(l,c):Ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return n4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=new xn(We.comparator);function Ls(){return cQ}const b4=new xn(We.comparator);function bf(...t){let e=b4;for(const n of t)e=e.insert(n.key,n);return e}function w4(t){let e=b4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pl(){return Uf()}function _4(){return Uf()}function Uf(){return new dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const uQ=new xn(We.comparator),dQ=new Xn(We.comparator);function wt(...t){let e=dQ;for(const n of t)e=e.add(n);return e}const fQ=new Xn(bt);function hQ(){return fQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_y(e)?"-0":e}}function S4(t){return{integerValue:""+t}}function pQ(t,e){return BX(e)?S4(e):aT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this._=void 0}}function mQ(t,e,n){return t instanceof Nh?function(i,o){const s={fields:{[o4]:{stringValue:i4},[a4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nT(o)&&(o=vx(o)),o&&(s.fields[s4]=o),{mapValue:s}}(n,e):t instanceof Ih?T4(t,e):t instanceof jh?P4(t,e):function(i,o){const s=E4(i,o),a=aI(s)+aI(i.Ae);return A1(s)&&A1(i.Ae)?S4(a):aT(i.serializer,a)}(t,e)}function gQ(t,e,n){return t instanceof Ih?T4(t,e):t instanceof jh?P4(t,e):n}function E4(t,e){return t instanceof Ay?function(r){return A1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nh extends _x{}class Ih extends _x{constructor(e){super(),this.elements=e}}function T4(t,e){const n=A4(e);for(const r of t.elements)n.some(i=>rs(i,r))||n.push(r);return{arrayValue:{values:n}}}class jh extends _x{constructor(e){super(),this.elements=e}}function P4(t,e){let n=A4(e);for(const r of t.elements)n=n.filter(i=>!rs(i,r));return{arrayValue:{values:n}}}class Ay extends _x{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aI(t){return jn(t.integerValue||t.doubleValue)}function A4(t){return rT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n){this.field=e,this.transform=n}}function vQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ih&&i instanceof Ih||r instanceof jh&&i instanceof jh?Lu(r.elements,i.elements,rs):r instanceof Ay&&i instanceof Ay?rs(r.Ae,i.Ae):r instanceof Nh&&i instanceof Nh}(t.transform,e.transform)}class xQ{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sx{}function C4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I4(t.key,Ts.none()):new Rp(t.key,t.data,Ts.none());{const n=t.data,r=Ii.empty();let i=new Xn(fr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fc(t.key,r,new go(i.toArray()),Ts.none())}}function bQ(t,e,n){t instanceof Rp?function(i,o,s){const a=i.value.clone(),l=cI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fc?function(i,o,s){if(!Ig(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=cI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(N4(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function zf(t,e,n,r){return t instanceof Rp?function(o,s,a,l){if(!Ig(o.precondition,s))return a;const c=o.value.clone(),d=uI(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fc?function(o,s,a,l){if(!Ig(o.precondition,s))return a;const c=uI(o.fieldTransforms,l,s),d=s.data;return d.setAll(N4(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ig(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function wQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E4(r.transform,i||null);o!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,o))}return n||null}function lI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lu(r,i,(o,s)=>vQ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rp extends Sx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fc extends Sx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cI(t,e,n){const r=new Map;$t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gQ(s,a,n[i]))}return r}function uI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,mQ(o,s,e))}return r}class I4 extends Sx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _Q extends Sx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bQ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=C4(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,(n,r)=>lI(n,r))&&Lu(this.baseMutations,e.baseMutations,(n,r)=>lI(n,r))}}class lT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return uQ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EQ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,Et;function PQ(t){switch(t){case ae.OK:return Ke(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function j4(t){if(t===void 0)return $s("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Ln.OK:return ae.OK;case Ln.CANCELLED:return ae.CANCELLED;case Ln.UNKNOWN:return ae.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return ae.INTERNAL;case Ln.UNAVAILABLE:return ae.UNAVAILABLE;case Ln.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ln.NOT_FOUND:return ae.NOT_FOUND;case Ln.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ln.ABORTED:return ae.ABORTED;case Ln.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ln.DATA_LOSS:return ae.DATA_LOSS;default:return Ke(39323,{code:t})}}(Et=Ln||(Ln={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=new Va([4294967295,4294967295],0);function dI(t){const e=AQ().encode(t),n=new qL;return n.update(e),new Uint8Array(n.digest())}function fI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Va([n,r],0),new Va([i,o],0)]}class cT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wf(`Invalid padding: ${n}`);if(r<0)throw new wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Va.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Va.fromNumber(r)));return i.compare(CQ)===1&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dI(e),[r,i]=fI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=dI(e),[r,i]=fI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ex(tt.min(),i,new xn(bt),Ls(),wt())}}class Mp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mp(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class k4{constructor(e,n){this.targetId=e,this.Ce=n}}class O4{constructor(e,n,r=gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hI{constructor(){this.ve=0,this.Fe=pI(),this.Me=gr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wt(),n=wt(),r=wt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke(38017,{changeType:o})}}),new Mp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.Je=Mm(),this.He=Mm(),this.Ye=new xn(bt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(N1(o))if(r===0){const s=new We(o.path);this.et(n,s,jr.newNoDocument(s,tt.min()))}else $t(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ja(r).toUint8Array()}catch(l){if(l instanceof r4)return $u("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cT(s,i,o)}catch(l){return $u(l instanceof wf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&N1(a.target)){const l=new We(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,jr.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=wt();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Ex(e,n,this.Ye,this.je,r);return this.je=Ls(),this.Je=Mm(),this.He=Mm(),this.Ye=new xn(bt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(bt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(bt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mm(){return new xn(We.comparator)}function pI(){return new xn(We.comparator)}const IQ={asc:"ASCENDING",desc:"DESCENDING"},jQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kQ={and:"AND",or:"OR"};class OQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j1(t,e){return t.useProto3Json||yx(e)?e:{value:e}}function Cy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RQ(t,e){return Cy(t,e.toTimestamp())}function Xo(t){return $t(!!t,49232),tt.fromTimestamp(function(n){const r=Qa(n);return new an(r.seconds,r.nanos)}(t))}function uT(t,e){return k1(t,e).canonicalString()}function k1(t,e){const n=function(i){return new gn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function M4(t){const e=gn.fromString(t);return $t(V4(e),10190,{key:e.toString()}),e}function O1(t,e){return uT(t.databaseId,e.path)}function _b(t,e){const n=M4(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We($4(n))}function D4(t,e){return uT(t.databaseId,e)}function MQ(t){const e=M4(t);return e.length===4?gn.emptyPath():$4(e)}function R1(t){return new gn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $4(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mI(t,e,n){return{name:O1(t,e),fields:n.value.mapValue.fields}}function DQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ke(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?($t(d===void 0||typeof d=="string",58123),gr.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?ae.UNKNOWN:j4(c.code);return new $e(d,c.message||"")}(s);n=new O4(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_b(t,r.document.name),o=Xo(r.document.updateTime),s=r.document.createTime?Xo(r.document.createTime):tt.min(),a=new Ii({mapValue:{fields:r.document.fields}}),l=jr.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new jg(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_b(t,r.document),o=r.readTime?Xo(r.readTime):tt.min(),s=jr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_b(t,r.document),o=r.removedTargetIds||[];n=new jg([],o,i,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new TQ(i,o),a=r.targetId;n=new k4(a,s)}}return n}function $Q(t,e){let n;if(e instanceof Rp)n={update:mI(t,e.key,e.value)};else if(e instanceof I4)n={delete:O1(t,e.key)};else if(e instanceof fc)n={update:mI(t,e.key,e.data),updateMask:qQ(e.fieldMask)};else{if(!(e instanceof _Q))return Ke(16599,{Vt:e.type});n={verify:O1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ay)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Ke(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:RQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ke(27497)}(t,e.precondition)),n}function LQ(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Xo(i.updateTime):Xo(o);return s.isEqual(tt.min())&&(s=Xo(o)),new xQ(s,i.transformResults||[])}(n,e))):[]}function FQ(t,e){return{documents:[D4(t,e.path)]}}function VQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D4(t,i);const o=function(c){if(c.length!==0)return F4(is.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:kc(h.field),direction:zQ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=j1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function BQ(t){let e=MQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=L4(f);return h instanceof is&&p4(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(x){return new Py(Oc(x.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,yx(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Ty(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Ty(m,h)}(n.endAt)),iQ(e,i,s,o,a,"F",l,c)}function UQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oc(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oc(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oc(n.unaryFilter.field);return Gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oc(n.unaryFilter.field);return Gn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return Gn.create(Oc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return is.create(n.compositeFilter.filters.map(r=>L4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(n.compositeFilter.op))}(t):Ke(30097,{filter:t})}function zQ(t){return IQ[t]}function WQ(t){return jQ[t]}function HQ(t){return kQ[t]}function kc(t){return{fieldPath:t.canonicalString()}}function Oc(t){return fr.fromServerFormat(t.fieldPath)}function F4(t){return t instanceof Gn?function(n){if(n.op==="=="){if(nI(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NAN"}};if(tI(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nI(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NAN"}};if(tI(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(n.field),op:WQ(n.op),value:n.value}}}(t):t instanceof is?function(n){const r=n.getFilters().map(i=>F4(i));return r.length===1?r[0]:{compositeFilter:{op:HQ(n.op),filters:r}}}(t):Ke(54877,{filter:t})}function qQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r,i,o=tt.min(),s=tt.min(),a=gr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e){this.yt=e}}function KQ(t){const e=BQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?I1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(){this.Cn=new XQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Xa.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class XQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(gn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B4=41943040;class Yr{static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(B4,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bu(0)}static cr(){return new Bu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="LruGarbageCollector",QQ=1048576;function vI([t,e],[n,r]){const i=bt(t,n);return i===0?bt(e,r):i}class JQ{constructor(e){this.Ir=e,this.buffer=new Xn(vI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(yI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ed(n)?Ae(yI,"Ignoring IndexedDB error during garbage collection: ",n):await Sd(n)}await this.Vr(3e5)})}}class eJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(gx.ce);const r=new JQ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(gI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ic()<=vt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function tJ(t,e){return new eJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(){this.changes=new dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zf(r.mutation,i,go.empty(),an.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=Pl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=bf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ls();const s=Uf(),a=function(){return Uf()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof fc)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),zf(d.mutation,c,d.mutation.getFieldMask(),an.now())):s.set(c.key,go.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>a.set(c,new rJ(d,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Uf();let i=new xn((s,a)=>s-a),o=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||go.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=_4();d.forEach(h=>{if(!o.has(h)){const m=C4(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return We.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):oe.resolve(Pl());let a=Th,l=o;return s.next(c=>oe.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,wt())).next(d=>({batchId:a,changes:w4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next(r=>{let i=bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=bf();return this.indexManager.getCollectionParents(e,o).next(a=>oe.forEach(a,l=>{const c=function(f,h){return new xx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,jr.newInvalidDocument(d)))});let a=bf();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&zf(d.mutation,c,go.empty(),an.now()),wx(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xo(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:KQ(i.bundledQuery),readTime:Xo(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(){this.overlays=new xn(We.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pl();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Pl(),o=n.length+1,s=new We(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xn((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Pl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Pl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return oe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EQ(n,r));let o=this.qr.get(n);o===void 0&&(o=wt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new We(new gn([])),r=new er(n,e),i=new er(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new gn([])),r=new er(n,e),i=new er(n,e+1);let o=wt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||bt(e.Yr,n.Yr)}static Kr(e,n){return bt(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new SQ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new er(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?tT:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(bt);return n.forEach(i=>{const o=new er(i,0),s=new er(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;We.isDocumentKey(o)||(o=o.child(""));const s=new er(new We(o),0);let a=new Xn(bt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),oe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,i=>{const o=new er(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new er(n,0),i=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(e){this.ri=e,this.docs=function(){return new xn(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ls();const s=n.path,a=new We(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||$X(DX(d),r)<=0||(i.has(d.key)||wx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ke(9500)}ii(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uJ(this)}getSize(e){return oe.resolve(this.size)}}class uJ extends nJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e){this.persistence=e,this.si=new dc(n=>iT(n),oT),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new dT,this.targetCount=0,this.ai=Bu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(o).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.ui={},this.overlays={},this.ci=new gx(0),this.li=!1,this.li=!0,this.hi=new aJ,this.referenceDelegate=e(this),this.Pi=new dJ(this),this.indexManager=new YQ,this.remoteDocumentCache=function(i){return new cJ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new GQ(n),this.Ii=new oJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lJ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new fJ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return oe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class fJ extends FX{constructor(e){super(),this.currentSequenceNumber=e}}class fT{constructor(e){this.persistence=e,this.Ri=new dT,this.Vi=null}static mi(e){return new fT(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,r=>{const i=We.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,tt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ny{constructor(e,n){this.persistence=e,this.pi=new dc(r=>UX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tJ(this,n)}static mi(e,n){return new Ny(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return oe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?oe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cg(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=wt(),i=wt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rG()?8:VX(Rr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hJ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ic()<=vt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",jc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Ic()<=vt.DEBUG&&Ae("QueryEngine","Query:",jc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ic()<=vt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",jc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yo(n))):oe.resolve())}ys(e,n){if(sI(n))return oe.resolve(null);let r=Yo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=I1(n,null,"F"),r=Yo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=wt(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,I1(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return sI(n)||i.isEqual(tt.min())?oe.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?oe.resolve(null):(Ic()<=vt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(n)),this.vs(e,s,n,MX(i,Th)).next(a=>a))})}Ds(e,n){let r=new Xn(x4(e));return n.forEach((i,o)=>{wx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ic()<=vt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",jc(n)),this.ps.getDocumentsMatchingQuery(e,n,Xa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="LocalStore",mJ=3e8;class gJ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new xn(bt),this.xs=new dc(o=>iT(o),oT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iJ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function yJ(t,e,n,r){return new gJ(t,e,n,r)}async function z4(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=wt();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function vJ(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=oe.resolve();return h.forEach(x=>{m=m.next(()=>d.getEntry(l,x)).next(g=>{const v=c.docVersions.get(x);$t(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=wt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W4(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function xJ(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(gr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=mJ?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=Ls(),c=wt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(bJ(o,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(tt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function bJ(t,e,n){let r=wt(),i=wt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ls();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(tt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ae(pT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function wJ(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _J(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,oe.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Aa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function M1(t,e,n){const r=nt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ed(s))throw s;Ae(pT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xI(t,e,n){const r=nt(t);let i=tt.min(),o=wt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=nt(l),h=f.xs.get(d);return h!==void 0?oe.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,d)}(r,s,Yo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:tt.min(),n?o:wt())).next(a=>(SJ(r,aQ(e),a),{documents:a,Qs:o})))}function SJ(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class bI{constructor(){this.activeTargetIds=hQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EJ{constructor(){this.Mo=new bI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="ConnectivityMonitor";class _I{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(wI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(wI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm=null;function D1(){return Dm===null?Dm=function(){return 268435456+Math.round(2147483648*Math.random())}():Dm++,"0x"+Dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="RestConnection",PJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AJ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=D1(),a=this.zo(e,n.toUriEncodedString());Ae(Sb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),d=xd(c);return this.Jo(e,a,l,r,d).then(f=>(Ae(Sb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw $u(Sb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_d}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=PJ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class NJ extends AJ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=D1();return new Promise((a,l)=>{const c=new GL;c.setWithCredentials(!0),c.listenOnce(KL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ag.NO_ERROR:const f=c.getResponseJson();Ae(Pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ag.TIMEOUT:Ae(Pr,`RPC '${e}' ${s} timed out`),l(new $e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const h=c.getStatus();if(Ae(Pr,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(w)>=0?w:ae.UNKNOWN}(x.status);l(new $e(g,x.message))}else l(new $e(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new $e(ae.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ae(Pr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ae(Pr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=D1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QL(),a=XL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Ae(Pr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const x=new CJ({Yo:v=>{m?Ae(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ae(Pr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ae(Pr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,b,w)=>{v.listen(b,_=>{try{w(_)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,xf.EventType.OPEN,()=>{m||(Ae(Pr,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),g(f,xf.EventType.CLOSE,()=>{m||(m=!0,Ae(Pr,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),g(f,xf.EventType.ERROR,v=>{m||(m=!0,$u(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),x.a_(new $e(ae.UNAVAILABLE,"The operation could not be completed")))}),g(f,xf.EventType.MESSAGE,v=>{var b;if(!m){const w=v.data[0];$t(!!w,16349);const _=w,C=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(C){Ae(Pr,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let N=function(A){const k=Ln[A];if(k!==void 0)return j4(k)}(E),S=C.message;N===void 0&&(N=ae.INTERNAL,S="Unknown error status: "+E+" with message "+C.message),m=!0,x.a_(new $e(N,S)),f.close()}else Ae(Pr,`RPC '${e}' stream ${i} received:`,w),x.u_(w)}}),g(a,YL.STAT_EVENT,v=>{v.stat===E1.PROXY?Ae(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===E1.NOPROXY&&Ae(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){return new OQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="PersistentStream";class q4{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $e(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ae(SI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ae(SI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IJ extends q4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?tt.min():s.readTime?Xo(s.readTime):tt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=R1(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=N1(l)?{documents:FQ(o,l)}:{query:VQ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=R4(o,s.resumeToken);const c=j1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(tt.min())>0){a.readTime=Cy(o,s.snapshotVersion.toTimestamp());const c=j1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=UQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=R1(this.serializer),n.removeTarget=e,this.q_(n)}}class jJ extends q4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LQ(e.writeResults,e.commitTime),r=Xo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=R1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$Q(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{}class OJ extends kJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,k1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(ae.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,k1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(ae.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RemoteStore";class MJ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{hc(this)&&(Ae(ec,"Restarting streams for network reachability change."),await async function(l){const c=nt(l);c.Ea.add(4),await Dp(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Px(c)}(this))})}),this.Ra=new RJ(r,i)}}async function Px(t){if(hc(t))for(const e of t.da)await e(!0)}async function Dp(t){for(const e of t.da)await e(!1)}function G4(t,e){const n=nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vT(n)?yT(n):Td(n).O_()&&gT(n,e))}function mT(t,e){const n=nt(t),r=Td(n);n.Ia.delete(e),r.O_()&&K4(n,e),n.Ia.size===0&&(r.O_()?r.L_():hc(n)&&n.Ra.set("Unknown"))}function gT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Td(t).Y_(e)}function K4(t,e){t.Va.Ue(e),Td(t).Z_(e)}function yT(t){t.Va=new NQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Td(t).start(),t.Ra.ua()}function vT(t){return hc(t)&&!Td(t).x_()&&t.Ia.size>0}function hc(t){return nt(t).Ea.size===0}function Y4(t){t.Va=void 0}async function DJ(t){t.Ra.set("Online")}async function $J(t){t.Ia.forEach((e,n)=>{gT(t,e)})}async function LJ(t,e){Y4(t),vT(t)?(t.Ra.ha(e),yT(t)):t.Ra.set("Unknown")}async function FJ(t,e,n){if(t.Ra.set("Online"),e instanceof O4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ae(ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Iy(t,r)}else if(e instanceof jg?t.Va.Ze(e):e instanceof k4?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await W4(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(gr.EMPTY_BYTE_STRING,d.snapshotVersion)),K4(o,l);const f=new Aa(d.target,l,c,d.sequenceNumber);gT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ae(ec,"Failed to raise snapshot:",r),await Iy(t,r)}}async function Iy(t,e,n){if(!Ed(e))throw e;t.Ea.add(1),await Dp(t),t.Ra.set("Offline"),n||(n=()=>W4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ae(ec,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Px(t)})}function X4(t,e){return e().catch(n=>Iy(t,n,e))}async function Ax(t){const e=nt(t),n=el(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tT;for(;VJ(e);)try{const i=await wJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,BJ(e,i)}catch(i){await Iy(e,i)}Q4(e)&&J4(e)}function VJ(t){return hc(t)&&t.Ta.length<10}function BJ(t,e){t.Ta.push(e);const n=el(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Q4(t){return hc(t)&&!el(t).x_()&&t.Ta.length>0}function J4(t){el(t).start()}async function UJ(t){el(t).ra()}async function zJ(t){const e=el(t);for(const n of t.Ta)e.ea(n.mutations)}async function WJ(t,e,n){const r=t.Ta.shift(),i=lT.from(r,e,n);await X4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ax(t)}async function HJ(t,e){e&&el(t).X_&&await async function(r,i){if(function(s){return PQ(s)&&s!==ae.ABORTED}(i.code)){const o=r.Ta.shift();el(r).B_(),await X4(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ax(r)}}(t,e),Q4(t)&&J4(t)}async function EI(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Ae(ec,"RemoteStore received new credentials");const r=hc(n);n.Ea.add(3),await Dp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Px(n)}async function qJ(t,e){const n=nt(t);e?(n.Ea.delete(2),await Px(n)):e||(n.Ea.add(2),await Dp(n),n.Ra.set("Unknown"))}function Td(t){return t.ma||(t.ma=function(n,r,i){const o=nt(n);return o.sa(),new IJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:DJ.bind(null,t),t_:$J.bind(null,t),r_:LJ.bind(null,t),H_:FJ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),vT(t)?yT(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y4(t))})),t.ma}function el(t){return t.fa||(t.fa=function(n,r,i){const o=nt(n);return o.sa(),new jJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UJ.bind(null,t),r_:HJ.bind(null,t),ta:zJ.bind(null,t),na:WJ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ax(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(ec,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new xT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bT(t,e){if($s("AsyncQueue",`${e}: ${t}`),Ed(t))return new $e(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{static emptySet(e){return new cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=bf(),this.sortedSet=new xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.ga=new xn(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Uu(e,n,cu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KJ{constructor(){this.queries=PI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=nt(n),o=i.queries;i.queries=PI(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new $e(ae.ABORTED,"Firestore shutting down"))}}function PI(){return new dc(t=>v4(t),bx)}async function YJ(t,e){const n=nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new GJ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=bT(s,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&wT(n)}async function XJ(t,e){const n=nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QJ(t,e){const n=nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&wT(n)}function JJ(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function wT(t){t.Ca.forEach(e=>{e.next()})}var $1,AI;(AI=$1||($1={})).Ma="default",AI.Cache="cache";class ZJ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.key=e}}class e3{constructor(e){this.key=e}}class eZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wt(),this.mutatedKeys=wt(),this.eu=x4(e),this.tu=new cu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new TI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=wx(this.query,f)?f:null,x=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?x!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,x){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:v})}};return g(m)-g(x)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Uu(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new e3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Z4(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _T="SyncEngine";class tZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nZ{constructor(e){this.key=e,this.hu=!1}}class rZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new dc(a=>v4(a),bx),this.Iu=new Map,this.Eu=new Set,this.du=new xn(We.comparator),this.Au=new Map,this.Ru=new dT,this.Vu={},this.mu=new Map,this.fu=Bu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iZ(t,e,n=!0){const r=s3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await t3(r,e,n,!0),i}async function oZ(t,e){const n=s3(t);await t3(n,e,!0,!1)}async function t3(t,e,n,r){const i=await _J(t.localStore,Yo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await sZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&G4(t.remoteStore,i),a}async function sZ(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,b,w){let _=v.view.ru(b);_.Cs&&(_=await xI(g.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,_)));const C=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(_,g.isPrimaryClient,C,E);return NI(g,v.targetId,N.au),N.snapshot}(t,f,h,m);const o=await xI(t.localStore,e,!0),s=new eZ(e,o.Qs),a=s.ru(o.documents),l=Mp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);NI(t,n,c.au);const d=new tZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function aZ(t,e,n){const r=nt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!bx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await M1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mT(r.remoteStore,i.targetId),L1(r,i.targetId)}).catch(Sd)):(L1(r,i.targetId),await M1(r.localStore,i.targetId,!0))}async function lZ(t,e){const n=nt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mT(n.remoteStore,r.targetId))}async function cZ(t,e,n){const r=gZ(t);try{const i=await function(s,a){const l=nt(s),c=an.now(),d=a.reduce((m,x)=>m.add(x.key),wt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Ls(),g=wt();return l.Ns.getEntries(m,d).next(v=>{x=v,x.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(v=>{f=v;const b=[];for(const w of a){const _=wQ(w,f.get(w.key).overlayedDocument);_!=null&&b.push(new fc(w.key,_,d4(_.value.mapValue),Ts.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:w4(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new xn(bt)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await $p(r,i.changes),await Ax(r.remoteStore)}catch(i){const o=bT(i,"Failed to persist write");n.reject(o)}}async function n3(t,e){const n=nt(t);try{const r=await xJ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?$t(s.hu,14607):i.removedDocuments.size>0&&($t(s.hu,42227),s.hu=!1))}),await $p(n,r,e)}catch(r){await Sd(r)}}function CI(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=nt(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&wT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uZ(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new xn(We.comparator);s=s.insert(o,jr.newNoDocument(o,tt.min()));const a=wt().add(o),l=new Ex(tt.min(),new Map,new xn(bt),s,a);await n3(r,l),r.du=r.du.remove(o),r.Au.delete(e),ST(r)}else await M1(r.localStore,e,!1).then(()=>L1(r,e,n)).catch(Sd)}async function dZ(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await vJ(n.localStore,e);i3(n,r,null),r3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $p(n,i)}catch(i){await Sd(i)}}async function fZ(t,e,n){const r=nt(t);try{const i=await function(s,a){const l=nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>($t(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);i3(r,e,n),r3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $p(r,i)}catch(i){await Sd(i)}}function r3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function i3(t,e,n){const r=nt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function L1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||o3(t,r)})}function o3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ST(t))}function NI(t,e,n){for(const r of n)r instanceof Z4?(t.Ru.addReference(r.key,e),hZ(t,r)):r instanceof e3?(Ae(_T,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||o3(t,r.key)):Ke(19791,{wu:r})}function hZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ae(_T,"New document in limbo: "+n),t.Eu.add(r),ST(t))}function ST(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(gn.fromString(e)),r=t.fu.next();t.Au.set(r,new nZ(n)),t.du=t.du.insert(n,r),G4(t.remoteStore,new Aa(Yo(sT(n.path)),r,"TargetPurposeLimboResolution",gx.ce))}}async function $p(t,e,n){const r=nt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=hT.As(l.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const d=nt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(c,h=>oe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>oe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Ed(f))throw f;Ae(pT,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),x=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function pZ(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Ae(_T,"User change. New user:",e.toKey());const r=await z4(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new $e(ae.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $p(n,r.Ls)}}function mZ(t,e){const n=nt(t),r=n.Au.get(e);if(r&&r.hu)return wt().add(r.key);{let i=wt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function s3(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uZ.bind(null,e),e.Pu.H_=QJ.bind(null,e.eventManager),e.Pu.yu=JJ.bind(null,e.eventManager),e}function gZ(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fZ.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yJ(this.persistence,new pJ,e.initialUser,this.serializer)}Cu(e){return new U4(fT.mi,this.serializer)}Du(e){return new EJ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class yZ extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof Ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new U4(r=>Ny.mi(r,n),this.serializer)}}class F1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pZ.bind(null,this.syncEngine),await qJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KJ}()}createDatastore(e){const n=Tx(e.databaseInfo.databaseId),r=function(o){return new NJ(o)}(e.databaseInfo);return function(o,s,a,l){return new OJ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new MJ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>CI(this.syncEngine,n,0),function(){return _I.v()?new _I:new TJ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new rZ(i,o,s,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=nt(i);Ae(ec,"RemoteStore shutting down."),o.Ea.add(5),await Dp(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}F1.provider={build:()=>new F1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="FirestoreClient";class xZ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=ZE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ae(tl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ae(tl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await z4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function II(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bZ(t);Ae(tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EI(e.remoteStore,i)),t._onlineComponents=e}async function bZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(tl,"Using user provided OfflineComponentProvider");try{await Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await Tb(t,new jy)}}else Ae(tl,"Using default OfflineComponentProvider"),await Tb(t,new yZ(void 0));return t._offlineComponents}async function a3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(tl,"Using user provided OnlineComponentProvider"),await II(t,t._uninitializedComponentsProvider._online)):(Ae(tl,"Using default OnlineComponentProvider"),await II(t,new F1))),t._onlineComponents}function wZ(t){return a3(t).then(e=>e.syncEngine)}async function _Z(t){const e=await a3(t),n=e.eventManager;return n.onListen=iZ.bind(null,e.syncEngine),n.onUnlisten=aZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lZ.bind(null,e.syncEngine),n}function SZ(t,e,n={}){const r=new Ba;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new vZ({next:h=>{d.Nu(),s.enqueueAndForget(()=>XJ(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new $e(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new $e(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new ZJ(sT(a.path),d,{includeMetadataChanges:!0,qa:!0});return YJ(o,f)}(await _Z(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firestore.googleapis.com",kI=!0;class OI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c3,this.ssl=kI}else this.host=e.host,this.ssl=e.ssl??kI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QQ)throw new $e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ET{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SX;switch(r.type){case"firstParty":return new AX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jI.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),jI.delete(n),r.terminate())}(this),Promise.resolve()}}function EZ(t,e,n,r={}){var c;t=Eh(t,ET);const i=xd(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(aL(`https://${a}`),lL("Firestore",!0)),o.host!==c3&&o.host!==a&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Xl(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Nr.MOCK_USER;else{d=Kq(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new $e(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nr(h)}t._authCredentials=new EX(new ZL(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new TT(this.firestore,e,this._query)}}class ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}toJSON(){return{type:ir._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Op(n,ir._jsonSchema))return new ir(e,r||null,new We(gn.fromString(n.referencePath)))}}ir._jsonSchemaVersion="firestore/documentReference/1.0",ir._jsonSchema={type:Bn("string",ir._jsonSchemaVersion),referencePath:Bn("string")};class kh extends TT{constructor(e,n,r){super(e,n,sT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new We(e))}withConverter(e){return new kh(this.firestore,e,this._path)}}function u3(t,e,...n){if(t=zi(t),arguments.length===1&&(e=ZE.newId()),OX("doc","path",e),t instanceof ET){const r=gn.fromString(e,...n);return GN(r),new ir(t,null,new We(r))}{if(!(t instanceof ir||t instanceof kh))throw new $e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gn.fromString(e,...n));return GN(r),new ir(t.firestore,t instanceof kh?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="AsyncQueue";class MI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H4(this,"async_queue_retry"),this._c=()=>{const r=Eb();r&&Ae(RI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ed(e))throw e;Ae(RI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",DI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Ke(47125,{Pc:DI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class PT extends ET{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MI(e),this._firestoreClient=void 0,await e}}}function TZ(t,e){const n=typeof t=="object"?t:fL(),r=typeof t=="string"?t:Sy,i=BE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=qq("firestore");o&&EZ(i,...o)}return i}function d3(t){if(t._terminated)throw new $e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PZ(t),t._firestoreClient}function PZ(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,d){return new HX(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,l3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ji(gr.fromBase64String(e))}catch(n){throw new $e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ji(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Op(e,ji._jsonSchema))return ji.fromBase64String(e.bytes)}}ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:Bn("string",ji._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(e){if(Op(e,Qo._jsonSchema))return new Qo(e.latitude,e.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:Bn("string",Qo._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Op(e,Jo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Jo(e.vectorValues);throw new $e(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jo._jsonSchemaVersion="firestore/vectorValue/1.0",Jo._jsonSchema={type:Bn("string",Jo._jsonSchemaVersion),vectorValues:Bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ=/^__.*__$/;class CZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rp(e,this.data,n,this.fieldTransforms)}}function f3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class NT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new NT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ky(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(f3(this.Ac)&&AZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tx(e)}Cc(e,n,r,i=!1){return new NT({Ac:e,methodName:n,Dc:r,path:fr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IZ(t){const e=t._freezeSettings(),n=Tx(t._databaseId);return new NZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jZ(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);g3("Data must be an object, but it was:",s,r);const a=p3(r,s);let l,c;if(o.merge)l=new go(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=kZ(e,f,n);if(!s.contains(h))throw new $e(ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RZ(d,h)||d.push(h)}l=new go(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new CZ(new Ii(a),l,c)}class IT extends CT{_toFieldTransform(e){return new yQ(e.path,new Nh)}isEqual(e){return e instanceof IT}}function h3(t,e){if(m3(t=zi(t)))return g3("Unsupported field value:",e,t),p3(t,e);if(t instanceof CT)return function(r,i){if(!f3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=h3(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=an.fromDate(r);return{timestampValue:Cy(i.serializer,o)}}if(r instanceof an){const o=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cy(i.serializer,o)}}if(r instanceof Qo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:R4(i.serializer,r._byteString)};if(r instanceof ir){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jo)return function(s,a){return{mapValue:{fields:{[l4]:{stringValue:u4},[Ey]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return aT(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${eT(r)}`)}(t,e)}function p3(t,e){const n={};return n4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(t,(r,i)=>{const o=h3(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function m3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof Qo||t instanceof ji||t instanceof ir||t instanceof CT||t instanceof Jo)}function g3(t,e,n){if(!m3(n)||!e4(n)){const r=eT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kZ(t,e,n){if((e=zi(e))instanceof AT)return e._internalPath;if(typeof e=="string")return y3(t,e);throw ky("Field path arguments must be of type string or ",t,!1,void 0,n)}const OZ=new RegExp("[~\\*/\\[\\]]");function y3(t,e,n){if(e.search(OZ)>=0)throw ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new AT(...e.split("."))._internalPath}catch{throw ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ky(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new $e(ae.INVALID_ARGUMENT,a+t+l)}function RZ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MZ extends v3{data(){return super.data()}}function x3(t,e){return typeof e=="string"?y3(t,e):e instanceof AT?e._internalPath:e._delegate._internalPath}class DZ{convertValue(e,n="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Ey].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>jn(s.doubleValue));return new Jo(n)}convertGeoPoint(e){return new Qo(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const n=Qa(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gn.fromString(e);$t(V4(r),9688,{name:e});const i=new Ah(r.get(1),r.get(3)),o=new We(r.popFirst(5));return i.isEqual(n)||$s(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _f{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends v3{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:Bn("string",Ll._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class kg extends Ll{data(e={}){return super.data(e)}}class Wf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _f(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kg(this._firestore,this._userDataWriter,r.key,r,new _f(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _f(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _f(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:LZ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ZE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t){t=Eh(t,ir);const e=Eh(t.firestore,PT);return SZ(d3(e),t._key).then(n=>zZ(e,t,n))}Wf._jsonSchemaVersion="firestore/querySnapshot/1.0",Wf._jsonSchema={type:Bn("string",Wf._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class VZ extends DZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,n)}}function BZ(t,e,n){t=Eh(t,ir);const r=Eh(t.firestore,PT),i=$Z(t.converter,e,n);return UZ(r,[jZ(IZ(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ts.none())])}function UZ(t,e){return function(r,i){const o=new Ba;return r.asyncQueue.enqueueAndForget(async()=>cZ(await wZ(r),i,o)),o.promise}(d3(t),e)}function zZ(t,e,n){const r=n.docs.get(e._key),i=new VZ(t);return new Ll(t,i,e._key,r,new _f(n.hasPendingWrites,n.fromCache),e.converter)}function WZ(){return new IT("serverTimestamp")}(function(e,n=!0){(function(i){_d=i})(bd),Mu(new Ql("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new PT(new TX(r.getProvider("auth-internal")),new CX(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(c.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fa(zN,WN,e),Fa(zN,WN,"esm2020")})();const HZ={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},b3=dL(HZ),Cx=wX(b3),w3=TZ(b3),qZ=new ys,GZ=new gs;async function KZ(){try{return(await WL(Cx,qZ)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function YZ(){try{return(await WL(Cx,GZ)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function XZ(){try{await dY(Cx)}catch(t){console.error("Sign-out error:",t)}}function QZ(t){return uY(Cx,t)}async function $I(t){var e;try{const n=await FZ(u3(w3,"users",t));return n.exists()?((e=n.data())==null?void 0:e.isPro)===!0:!1}catch(n){return console.error("Error fetching Pro status:",n),!1}}async function JZ(t,e,n){try{return await BZ(u3(w3,"users",t),{isPro:e,promoCode:n||null,updatedAt:WZ()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const _3=y.createContext(null);function jT(){const t=y.useContext(_3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function ZZ(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,o]=y.useState(!0),s=async()=>{if(t){const f=await $I(t.uid);r(f)}else{const f=localStorage.getItem("cuemaster_pro_unlocked")==="true";r(f)}};return y.useEffect(()=>{const f=QZ(async h=>{if(e(h),h){const m=await $I(h.uid);r(m)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true";r(m)}o(!1)});return()=>f()},[]),{user:t,isPro:n,isLoading:i,signInWithGoogle:async()=>{o(!0),await KZ(),o(!1)},signInWithFacebook:async()=>{o(!0),await YZ(),o(!1)},signOut:async()=>{await XZ(),r(!1)},refreshProStatus:s,unlockPro:async f=>{if(t){const h=await JZ(t.uid,!0,f);return h&&r(!0),h}else return localStorage.setItem("cuemaster_pro_unlocked","true"),r(!0),!0}}}function eee({children:t}){const e=ZZ();return u.jsx(_3.Provider,{value:e,children:t})}const ze=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ze.displayName="Card";const tee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("flex flex-col space-y-1.5 p-6",t),...e}));tee.displayName="CardHeader";const nee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("text-2xl font-semibold leading-none tracking-tight",t),...e}));nee.displayName="CardTitle";const ree=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("text-sm text-muted-foreground",t),...e}));ree.displayName="CardDescription";const S3=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("p-6 pt-0",t),...e}));S3.displayName="CardContent";const iee=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ft("flex items-center p-6 pt-0",t),...e}));iee.displayName="CardFooter";function $m({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1}){return u.jsx(ze,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":"cursor-pointer hover-elevate active-elevate-2 border-l-4 border-l-primary"}`,onClick:s?void 0:i,"data-testid":o,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),u.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),u.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&u.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function oee(){const[t,e]=y.useState(null),{toast:n}=Sp(),r="0.9.7.1",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return u.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var Pb="focusScope.autoFocusOnMount",Ab="focusScope.autoFocusOnUnmount",LI={bubbles:!1,cancelable:!0},see="FocusScope",kT=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=y.useState(null),c=On(i),d=On(o),f=y.useRef(null),h=dt(e,g=>l(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(_){if(m.paused||!a)return;const C=_.target;a.contains(C)?f.current=C:ca(f.current,{select:!0})},v=function(_){if(m.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||ca(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&ca(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){VI.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Pb,LI);a.addEventListener(Pb,c),a.dispatchEvent(b),b.defaultPrevented||(aee(fee(E3(a)),{select:!0}),document.activeElement===g&&ca(a))}return()=>{a.removeEventListener(Pb,c),setTimeout(()=>{const b=new CustomEvent(Ab,LI);a.addEventListener(Ab,d),a.dispatchEvent(b),b.defaultPrevented||ca(g??document.body,{select:!0}),a.removeEventListener(Ab,d),VI.remove(m)},0)}}},[a,c,d,m]);const x=y.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const w=g.currentTarget,[_,C]=lee(w);_&&C?!g.shiftKey&&b===C?(g.preventDefault(),n&&ca(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&ca(C,{select:!0})):b===w&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(Ve.div,{tabIndex:-1,...s,ref:h,onKeyDown:x})});kT.displayName=see;function aee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ca(r,{select:e}),document.activeElement!==n)return}function lee(t){const e=E3(t),n=FI(e,t),r=FI(e.reverse(),t);return[n,r]}function E3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function FI(t,e){for(const n of t)if(!cee(n,{upTo:e}))return n}function cee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uee(t){return t instanceof HTMLInputElement&&"select"in t}function ca(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&uee(t)&&e&&t.select()}}var VI=dee();function dee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BI(t,e),t.unshift(e)},remove(e){var n;t=BI(t,e),(n=t[0])==null||n.resume()}}}function BI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function fee(t){return t.filter(e=>e.tagName!=="A")}var Cb=0;function T3(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UI()),document.body.insertAdjacentElement("beforeend",t[1]??UI()),Cb++,()=>{Cb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cb--}},[])}function UI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bo=function(){return Bo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bo.apply(this,arguments)};function P3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hee(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Og="right-scroll-bar-position",Rg="width-before-scroll-bar",pee="with-scroll-bars-hidden",mee="--removed-body-scroll-bar-size";function Nb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gee(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var yee=typeof window<"u"?y.useLayoutEffect:y.useEffect,zI=new WeakMap;function vee(t,e){var n=gee(null,function(r){return t.forEach(function(i){return Nb(i,r)})});return yee(function(){var r=zI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Nb(a,null)}),o.forEach(function(a){i.has(a)||Nb(a,s)})}zI.set(n,t)},[t]),n}function xee(t){return t}function bee(t,e){e===void 0&&(e=xee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function wee(t){t===void 0&&(t={});var e=bee(null);return e.options=Bo({async:!0,ssr:!1},t),e}var A3=function(t){var e=t.sideCar,n=P3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Bo({},n))};A3.isSideCarExport=!0;function _ee(t,e){return t.useMedium(e),A3}var C3=wee(),Ib=function(){},Nx=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Ib,onWheelCapture:Ib,onTouchMoveCapture:Ib}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,x=t.inert,g=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,w=t.gapMode,_=P3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=vee([n,e]),N=Bo(Bo({},_),i);return y.createElement(y.Fragment,null,d&&y.createElement(C,{sideCar:C3,removeScrollBar:c,shards:f,noIsolation:m,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?y.cloneElement(y.Children.only(a),Bo(Bo({},N),{ref:E})):y.createElement(b,Bo({},N,{className:l,ref:E}),a))});Nx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nx.classNames={fullWidth:Rg,zeroRight:Og};var See=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Eee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=See();return e&&t.setAttribute("nonce",e),t}function Tee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Aee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Eee())&&(Tee(e,n),Pee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cee=function(){var t=Aee();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},N3=function(){var t=Cee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Nee={left:0,top:0,right:0,gap:0},jb=function(t){return parseInt(t||"",10)||0},Iee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[jb(n),jb(r),jb(i)]},jee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nee;var e=Iee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kee=N3(),uu="data-scroll-locked",Oee=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(pee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(uu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Og,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Og," .").concat(Og,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rg," .").concat(Rg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uu,`] {
    `).concat(mee,": ").concat(a,`px;
  }
`)},WI=function(){var t=parseInt(document.body.getAttribute(uu)||"0",10);return isFinite(t)?t:0},Ree=function(){y.useEffect(function(){return document.body.setAttribute(uu,(WI()+1).toString()),function(){var t=WI()-1;t<=0?document.body.removeAttribute(uu):document.body.setAttribute(uu,t.toString())}},[])},Mee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Ree();var o=y.useMemo(function(){return jee(i)},[i]);return y.createElement(kee,{styles:Oee(o,!e,i,n?"":"!important")})},V1=!1;if(typeof window<"u")try{var Lm=Object.defineProperty({},"passive",{get:function(){return V1=!0,!0}});window.addEventListener("test",Lm,Lm),window.removeEventListener("test",Lm,Lm)}catch{V1=!1}var Sc=V1?{passive:!1}:!1,Dee=function(t){return t.tagName==="TEXTAREA"},I3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Dee(t)&&n[e]==="visible")},$ee=function(t){return I3(t,"overflowY")},Lee=function(t){return I3(t,"overflowX")},HI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=j3(t,r);if(i){var o=k3(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},j3=function(t,e){return t==="v"?$ee(e):Lee(e)},k3=function(t,e){return t==="v"?Fee(e):Vee(e)},Bee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Uee=function(t,e,n,r,i){var o=Bee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,d=s>0,f=0,h=0;do{var m=k3(t,a),x=m[0],g=m[1],v=m[2],b=g-v-o*x;(x||b)&&j3(t,a)&&(f+=b,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Fm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qI=function(t){return[t.deltaX,t.deltaY]},GI=function(t){return t&&"current"in t?t.current:t},zee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Wee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hee=0,Ec=[];function qee(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(Hee++)[0],o=y.useState(N3)[0],s=y.useRef(t);y.useEffect(function(){s.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=hee([t.lockRef.current],(t.shards||[]).map(GI),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var b=Fm(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],C="deltaY"in g?g.deltaY:w[1]-b[1],E,N=g.target,S=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var P=HI(S,N);if(!P)return!0;if(P?E=S:(E=S==="v"?"h":"v",P=HI(S,N)),!P)return!1;if(!r.current&&"changedTouches"in g&&(_||C)&&(r.current=E),!E)return!0;var A=r.current||E;return Uee(A,v,g,A==="h"?_:C,!0)},[]),l=y.useCallback(function(g){var v=g;if(!(!Ec.length||Ec[Ec.length-1]!==o)){var b="deltaY"in v?qI(v):Fm(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&zee(E.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(s.current.shards||[]).map(GI).filter(Boolean).filter(function(E){return E.contains(v.target)}),C=_.length>0?a(v,_[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),c=y.useCallback(function(g,v,b,w){var _={name:g,delta:v,target:b,should:w,shadowParent:Gee(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),d=y.useCallback(function(g){n.current=Fm(g),r.current=void 0},[]),f=y.useCallback(function(g){c(g.type,qI(g),g.target,a(g,t.lockRef.current))},[]),h=y.useCallback(function(g){c(g.type,Fm(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Ec.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Sc),document.addEventListener("touchmove",l,Sc),document.addEventListener("touchstart",d,Sc),function(){Ec=Ec.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Sc),document.removeEventListener("touchmove",l,Sc),document.removeEventListener("touchstart",d,Sc)}},[]);var m=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(o,{styles:Wee(i)}):null,m?y.createElement(Mee,{gapMode:t.gapMode}):null)}function Gee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Kee=_ee(C3,qee);var OT=y.forwardRef(function(t,e){return y.createElement(Nx,Bo({},t,{ref:e,sideCar:Kee}))});OT.classNames=Nx.classNames;var Yee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tc=new WeakMap,Vm=new WeakMap,Bm={},kb=0,O3=function(t){return t&&(t.host||O3(t.parentNode))},Xee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=O3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Qee=function(t,e,n,r){var i=Xee(e,Array.isArray(t)?t:[t]);Bm[n]||(Bm[n]=new WeakMap);var o=Bm[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",g=(Tc.get(h)||0)+1,v=(o.get(h)||0)+1;Tc.set(h,g),o.set(h,v),s.push(h),g===1&&x&&Vm.set(h,!0),v===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),a.clear(),kb++,function(){s.forEach(function(f){var h=Tc.get(f)-1,m=o.get(f)-1;Tc.set(f,h),o.set(f,m),h||(Vm.has(f)||f.removeAttribute(r),Vm.delete(f)),m||f.removeAttribute(n)}),kb--,kb||(Tc=new WeakMap,Tc=new WeakMap,Vm=new WeakMap,Bm={})}},R3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Yee(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Qee(r,i,n,"aria-hidden")):function(){return null}},RT="Dialog",[M3,yNe]=_i(RT),[Jee,To]=M3(RT),D3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,d]=_o({prop:r,defaultProp:i,onChange:o});return u.jsx(Jee,{scope:e,triggerRef:a,contentRef:l,contentId:qo(),titleId:qo(),descriptionId:qo(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};D3.displayName=RT;var $3="DialogTrigger",L3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=To($3,n),o=dt(e,i.triggerRef);return u.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$T(i.open),...r,ref:o,onClick:ke(t.onClick,i.onOpenToggle)})});L3.displayName=$3;var MT="DialogPortal",[Zee,F3]=M3(MT,{forceMount:void 0}),V3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=To(MT,e);return u.jsx(Zee,{scope:e,forceMount:n,children:y.Children.map(r,s=>u.jsx(Hi,{present:n||o.open,children:u.jsx(nx,{asChild:!0,container:i,children:s})}))})};V3.displayName=MT;var Oy="DialogOverlay",B3=y.forwardRef((t,e)=>{const n=F3(Oy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=To(Oy,t.__scopeDialog);return o.modal?u.jsx(Hi,{present:r||o.open,children:u.jsx(tte,{...i,ref:e})}):null});B3.displayName=Oy;var ete=ku("DialogOverlay.RemoveScroll"),tte=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=To(Oy,n);return u.jsx(OT,{as:ete,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ve.div,{"data-state":$T(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),tc="DialogContent",U3=y.forwardRef((t,e)=>{const n=F3(tc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=To(tc,t.__scopeDialog);return u.jsx(Hi,{present:r||o.open,children:o.modal?u.jsx(nte,{...i,ref:e}):u.jsx(rte,{...i,ref:e})})});U3.displayName=tc;var nte=y.forwardRef((t,e)=>{const n=To(tc,t.__scopeDialog),r=y.useRef(null),i=dt(e,n.contentRef,r);return y.useEffect(()=>{const o=r.current;if(o)return R3(o)},[]),u.jsx(z3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,o=>o.preventDefault())})}),rte=y.forwardRef((t,e)=>{const n=To(tc,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return u.jsx(z3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),z3=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=To(tc,n),l=y.useRef(null),c=dt(e,l);return T3(),u.jsxs(u.Fragment,{children:[u.jsx(kT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Tp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$T(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(ite,{titleId:a.titleId}),u.jsx(ste,{contentRef:l,descriptionId:a.descriptionId})]})]})}),DT="DialogTitle",W3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=To(DT,n);return u.jsx(Ve.h2,{id:i.titleId,...r,ref:e})});W3.displayName=DT;var H3="DialogDescription",q3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=To(H3,n);return u.jsx(Ve.p,{id:i.descriptionId,...r,ref:e})});q3.displayName=H3;var G3="DialogClose",K3=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=To(G3,n);return u.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>i.onOpenChange(!1))})});K3.displayName=G3;function $T(t){return t?"open":"closed"}var Y3="DialogTitleWarning",[vNe,X3]=mW(Y3,{contentName:tc,titleName:DT,docsSlug:"dialog"}),ite=({titleId:t})=>{const e=X3(Y3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ote="DialogDescriptionWarning",ste=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X3(ote).contentName}}.`;return y.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ate=D3,lte=L3,cte=V3,Q3=B3,J3=U3,Z3=W3,e5=q3,ute=K3;const ho=ate,dte=lte,fte=cte,t5=y.forwardRef(({className:t,...e},n)=>u.jsx(Q3,{ref:n,className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));t5.displayName=Q3.displayName;const ki=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(fte,{children:[u.jsx(t5,{}),u.jsxs(J3,{ref:r,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(ute,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(xh,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ki.displayName=J3.displayName;const Oi=({className:t,...e})=>u.jsx("div",{className:ft("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Oi.displayName="DialogHeader";const Ri=y.forwardRef(({className:t,...e},n)=>u.jsx(Z3,{ref:n,className:ft("text-lg font-semibold leading-none tracking-tight",t),...e}));Ri.displayName=Z3.displayName;const zu=y.forwardRef(({className:t,...e},n)=>u.jsx(e5,{ref:n,className:ft("text-sm text-muted-foreground",t),...e}));zu.displayName=e5.displayName;const hte=SE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ue=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?yW:"button";return u.jsx(s,{className:ft(hte({variant:e,size:n,className:t})),ref:o,...i})});ue.displayName="Button";function LT(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var FT="Switch",[pte,xNe]=_i(FT),[mte,gte]=pte(FT),n5=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=y.useState(null),x=dt(e,_=>m(_)),g=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,w]=_o({prop:i,defaultProp:o,onChange:c});return u.jsxs(mte,{scope:n,checked:b,disabled:a,children:[u.jsx(Ve.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":o5(b),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:ke(t.onClick,_=>{w(C=>!C),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&u.jsx(yte,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});n5.displayName=FT;var r5="SwitchThumb",i5=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=gte(r5,n);return u.jsx(Ve.span,{"data-state":o5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});i5.displayName=r5;var yte=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=y.useRef(null),s=LT(n),a=ME(e);return y.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function o5(t){return t?"checked":"unchecked"}var s5=n5,vte=i5;const Di=y.forwardRef(({className:t,...e},n)=>u.jsx(s5,{className:ft("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(vte,{className:ft("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Di.displayName=s5.displayName;const Ob="cuemaster_analytics_consent",Rb="cuemaster_analytics_events",Um="cuemaster_analytics_sessions",zm="cuemaster_analytics_stats",Mb="cuemaster_first_launch_complete",Wm=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class xte{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(Ob);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(Rb);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(Rb,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(Um);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(Um,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(Mb)}markFirstLaunchComplete(){localStorage.setItem(Mb,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Ob,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:Wm(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:Wm(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(zm,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(zm,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(zm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(Um);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(Rb),localStorage.removeItem(Um),localStorage.removeItem(zm)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Ob),localStorage.removeItem(Mb)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=Wm()+Wm(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const Tt=new xte;function bte({open:t,onComplete:e}){const[n,r]=y.useState(0),[i,o]=y.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Tt.setConsent(i),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const c={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(c),Tt.setConsent(c),Tt.markFirstLaunchComplete(),Tt.track("consent_updated","home","accept_all",{consent:c}),e()},l=()=>{const c={usageStats:!1,skillMetrics:!1,benchmarking:!1};Tt.setConsent(c),Tt.markFirstLaunchComplete(),e()};return u.jsx(ho,{open:t,onOpenChange:()=>{},children:u.jsxs(ki,{className:"max-w-md",onPointerDownOutside:c=>c.preventDefault(),children:[n===0&&u.jsxs(u.Fragment,{children:[u.jsxs(Oi,{children:[u.jsxs(Ri,{className:"text-xl flex items-center gap-2",children:[u.jsx(ly,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),u.jsx(zu,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(qa,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Which tools you use and for how long"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(vh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Your skill metrics to show personal progress"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ru,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(ue,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),u.jsxs(ue,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",u.jsx(c$,{className:"w-4 h-4 ml-1"})]}),u.jsx(ue,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&u.jsxs(u.Fragment,{children:[u.jsxs(Oi,{children:[u.jsx(Ri,{className:"text-xl",children:"Customize Your Preferences"}),u.jsx(zu,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qa,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),u.jsx(Di,{checked:i.usageStats,onCheckedChange:c=>o(d=>({...d,usageStats:c})),"data-testid":"switch-usage-stats"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vh,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),u.jsx(Di,{checked:i.skillMetrics,onCheckedChange:c=>o(d=>({...d,skillMetrics:c})),"data-testid":"switch-skill-metrics"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ru,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&u.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),u.jsx(Di,{checked:i.benchmarking,onCheckedChange:c=>o(d=>({...d,benchmarking:c,usageStats:c?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),u.jsx(ue,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}var wte="Label",a5=y.forwardRef((t,e)=>u.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));a5.displayName=wte;var l5=a5;const _te=SE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dn=y.forwardRef(({className:t,...e},n)=>u.jsx(l5,{ref:n,className:ft(_te(),t),...e}));dn.displayName=l5.displayName;var Ste=y.createContext(void 0);function Pd(t){const e=y.useContext(Ste);return t||e||"ltr"}var Db="rovingFocusGroup.onEntryFocus",Ete={bubbles:!1,cancelable:!0},Ix="RovingFocusGroup",[B1,c5,Tte]=Ep(Ix),[Pte,u5]=_i(Ix,[Tte]),[Ate,Cte]=Pte(Ix),d5=y.forwardRef((t,e)=>u.jsx(B1.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(B1.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Nte,{...t,ref:e})})}));d5.displayName=Ix;var Nte=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=y.useRef(null),m=dt(e,h),x=Pd(o),[g=null,v]=_o({prop:s,defaultProp:a,onChange:l}),[b,w]=y.useState(!1),_=On(c),C=c5(n),E=y.useRef(!1),[N,S]=y.useState(0);return y.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Db,_),()=>P.removeEventListener(Db,_)},[_]),u.jsx(Ate,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:g,onItemFocus:y.useCallback(P=>v(P),[v]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>S(P=>P-1),[]),children:u.jsx(Ve.div,{tabIndex:b||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{E.current=!0}),onFocus:ke(t.onFocus,P=>{const A=!E.current;if(P.target===P.currentTarget&&A&&!b){const k=new CustomEvent(Db,Ete);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=C().filter(U=>U.focusable),O=I.find(U=>U.active),R=I.find(U=>U.id===g),B=[O,R,...I].filter(Boolean).map(U=>U.ref.current);p5(B,d)}}E.current=!1}),onBlur:ke(t.onBlur,()=>w(!1))})})}),f5="RovingFocusGroupItem",h5=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=qo(),l=o||a,c=Cte(f5,n),d=c.currentTabStopId===l,f=c5(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return y.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(B1.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ve.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:ke(t.onMouseDown,x=>{r?c.onItemFocus(l):x.preventDefault()}),onFocus:ke(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ke(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=kte(x,c.orientation,c.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=c.loop?Ote(b,w+1):b.slice(w+1)}setTimeout(()=>p5(b))}})})})});h5.displayName=f5;var Ite={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kte(t,e,n){const r=jte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ite[r]}function p5(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ote(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Rte=d5,Mte=h5,VT="Tabs",[Dte,bNe]=_i(VT,[u5]),m5=u5(),[$te,BT]=Dte(VT),g5=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Pd(a),[f,h]=_o({prop:r,onChange:i,defaultProp:o});return u.jsx($te,{scope:n,baseId:qo(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Ve.div,{dir:d,"data-orientation":s,...c,ref:e})})});g5.displayName=VT;var y5="TabsList",v5=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=BT(y5,n),s=m5(n);return u.jsx(Rte,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Ve.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});v5.displayName=y5;var x5="TabsTrigger",b5=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=BT(x5,n),a=m5(n),l=S5(s.baseId,r),c=E5(s.baseId,r),d=r===s.value;return u.jsx(Mte,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:ke(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:ke(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:ke(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});b5.displayName=x5;var w5="TabsContent",_5=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=BT(w5,n),l=S5(a.baseId,r),c=E5(a.baseId,r),d=r===a.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Hi,{present:i||d,children:({present:h})=>u.jsx(Ve.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});_5.displayName=w5;function S5(t,e){return`${t}-trigger-${e}`}function E5(t,e){return`${t}-content-${e}`}var Lte=g5,T5=v5,P5=b5,A5=_5;const C5=Lte,UT=y.forwardRef(({className:t,...e},n)=>u.jsx(T5,{ref:n,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));UT.displayName=T5.displayName;const Fl=y.forwardRef(({className:t,...e},n)=>u.jsx(P5,{ref:n,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fl.displayName=P5.displayName;const Vl=y.forwardRef(({className:t,...e},n)=>u.jsx(A5,{ref:n,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vl.displayName=A5.displayName;function Oh(t,[e,n]){return Math.min(n,Math.max(e,t))}function Fte(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var zT="ScrollArea",[N5,wNe]=_i(zT),[Vte,qi]=N5(zT),I5=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=y.useState(null),[c,d]=y.useState(null),[f,h]=y.useState(null),[m,x]=y.useState(null),[g,v]=y.useState(null),[b,w]=y.useState(0),[_,C]=y.useState(0),[E,N]=y.useState(!1),[S,P]=y.useState(!1),A=dt(e,I=>l(I)),k=Pd(i);return u.jsx(Vte,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:C,children:u.jsx(Ve.div,{dir:k,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});I5.displayName=zT;var j5="ScrollAreaViewport",k5=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=qi(j5,n),a=y.useRef(null),l=dt(e,a,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});k5.displayName=j5;var as="ScrollAreaScrollbar",WT=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=qi(as,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return y.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(Bte,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(Ute,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(O5,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(HT,{...r,ref:e}):null});WT.displayName=as;var Bte=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=qi(as,t.__scopeScrollArea),[o,s]=y.useState(!1);return y.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(Hi,{present:n||o,children:u.jsx(O5,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Ute=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=qi(as,t.__scopeScrollArea),o=t.orientation==="horizontal",s=kx(()=>l("SCROLL_END"),100),[a,l]=Fte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),y.useEffect(()=>{const c=i.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),s()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),u.jsx(Hi,{present:n||a!=="hidden",children:u.jsx(HT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ke(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ke(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),O5=y.forwardRef((t,e)=>{const n=qi(as,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=y.useState(!1),a=t.orientation==="horizontal",l=kx(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:d)}},10);return Wu(n.viewport,l),Wu(n.content,l),u.jsx(Hi,{present:r||o,children:u.jsx(HT,{"data-state":o?"visible":"hidden",...i,ref:e})})}),HT=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=qi(as,t.__scopeScrollArea),o=y.useRef(null),s=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=L5(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return Kte(h,s.current,a,m)}return n==="horizontal"?u.jsx(zte,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=KI(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(Wte,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=KI(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),zte=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=qi(as,t.__scopeScrollArea),[s,a]=y.useState(),l=y.useRef(null),c=dt(e,l,o.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(M5,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),V5(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:My(s.paddingLeft),paddingEnd:My(s.paddingRight)}})}})}),Wte=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=qi(as,t.__scopeScrollArea),[s,a]=y.useState(),l=y.useRef(null),c=dt(e,l,o.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(M5,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jx(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),V5(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:My(s.paddingTop),paddingEnd:My(s.paddingBottom)}})}})}),[Hte,R5]=N5(as),M5=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=qi(as,n),[x,g]=y.useState(null),v=dt(e,A=>g(A)),b=y.useRef(null),w=y.useRef(""),_=m.viewport,C=r.content-r.viewport,E=On(d),N=On(l),S=kx(f,10);function P(A){if(b.current){const k=A.clientX-b.current.left,I=A.clientY-b.current.top;c({x:k,y:I})}}return y.useEffect(()=>{const A=k=>{const I=k.target;(x==null?void 0:x.contains(I))&&E(k,C)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[_,x,C,E]),y.useEffect(N,[r,N]),Wu(x,S),Wu(m.content,S),u.jsx(Hte,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:On(o),onThumbPointerUp:On(s),onThumbPositionChange:N,onThumbPointerDown:On(a),children:u.jsx(Ve.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:ke(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:ke(t.onPointerMove,P),onPointerUp:ke(t.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Ry="ScrollAreaThumb",D5=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=R5(Ry,t.__scopeScrollArea);return u.jsx(Hi,{present:n||i.hasThumb,children:u.jsx(qte,{ref:e,...r})})}),qte=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=qi(Ry,n),s=R5(Ry,n),{onThumbPositionChange:a}=s,l=dt(e,f=>s.onThumbChange(f)),c=y.useRef(void 0),d=kx(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!c.current){const m=Yte(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),u.jsx(Ve.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ke(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x,y:g})}),onPointerUp:ke(t.onPointerUp,s.onThumbPointerUp)})});D5.displayName=Ry;var qT="ScrollAreaCorner",$5=y.forwardRef((t,e)=>{const n=qi(qT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Gte,{...t,ref:e}):null});$5.displayName=qT;var Gte=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=qi(qT,n),[o,s]=y.useState(0),[a,l]=y.useState(0),c=!!(o&&a);return Wu(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Wu(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Ve.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function My(t){return t?parseInt(t,10):0}function L5(t,e){const n=t/e;return isNaN(n)?0:n}function jx(t){const e=L5(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Kte(t,e,n,r="ltr"){const i=jx(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return F5([l,c],f)(t)}function KI(t,e,n="ltr"){const r=jx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Oh(t,l);return F5([0,s],[0,a])(c)}function F5(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function V5(t,e){return t>0&&t<e}var Yte=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function kx(t,e){const n=On(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Wu(t,e){const n=On(e);sr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var B5=I5,Xte=k5,Qte=$5;const U5=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(B5,{ref:r,className:ft("relative overflow-hidden",t),...n,children:[u.jsx(Xte,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(z5,{}),u.jsx(Qte,{})]}));U5.displayName=B5.displayName;const z5=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(WT,{ref:r,orientation:e,className:ft("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(D5,{className:"relative flex-1 rounded-full bg-border"})}));z5.displayName=WT.displayName;const $b="shotclock_sessions";function Jte({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),u.jsx("circle",{cx:"24",cy:"24",r:"16"}),u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Zte({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),u.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),u.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),u.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),u.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function ene({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function tne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"10"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),u.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),u.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),u.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),u.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),u.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),u.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),u.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),u.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const YI="cuemaster_dev_mode";function nne(){const[,t]=ol(),[e,n]=y.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=$q(),[a,l]=y.useState([]),[c,d]=y.useState(!1),[f,h]=y.useState(0),m=y.useRef(null),x=y.useRef(0),[g,v]=y.useState(!1),[b,w]=y.useState(Tt.getConsent());y.useEffect(()=>{localStorage.getItem(YI)==="true"&&d(!0),Tt.isFirstLaunch()&&v(!0)},[]);const _=A=>{if(A.type==="click"&&x.current>Date.now()-300||(A.type==="touchend"&&(x.current=Date.now(),A.preventDefault()),c))return;const k=f+1;h(k),m.current&&clearTimeout(m.current),k>=7?(d(!0),localStorage.setItem(YI,"true"),h(0)):m.current=setTimeout(()=>h(0),2e3)};y.useEffect(()=>{const A=()=>{try{const I=localStorage.getItem($b);if(I){const O=JSON.parse(I);Array.isArray(O)&&l(O)}}catch(I){console.error("Failed to parse sessions:",I),l([])}};A();const k=()=>A();return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[]);const C=()=>{localStorage.removeItem($b),l([])},E=A=>{const k=a.filter(I=>I.id!==A);localStorage.setItem($b,JSON.stringify(k)),l(k)},N=A=>new Date(A).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=A=>{const k=Math.floor(A/60),I=Math.floor(A%60);return k>0?`${k}m ${I}s`:`${I.toFixed(1)}s`},P=A=>A.stats.shotDurations.length===0?0:A.stats.shotDurations.reduce((I,O)=>I+O,0)/A.stats.shotDurations.length;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),u.jsx("p",{className:"text-sm font-light text-muted-foreground",children:"Suite"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{onClick:_,onTouchEnd:_,className:"cursor-default select-none touch-manipulation",children:u.jsx(oee,{})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:u.jsx(qa,{className:"w-5 h-5"})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:u.jsx(EE,{className:"w-5 h-5"})})]})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),u.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx($m,{icon:u.jsx(tne,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator"}),u.jsx($m,{icon:u.jsx(Zte,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level"}),u.jsx($m,{icon:u.jsx(Jte,{disabled:!c}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:c?()=>t("/shot-clock"):void 0,disabled:!c,testId:"card-shot-clock"}),u.jsx($m,{icon:u.jsx(ene,{disabled:!c}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:c?()=>t("/break-speed"):void 0,disabled:!c,testId:"card-break-speed"})]})]})}),u.jsx("footer",{className:"py-4 px-6 text-center border-t",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),u.jsx(ho,{open:e,onOpenChange:n,children:u.jsxs(ki,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[u.jsx(Oi,{className:"flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ri,{children:"Settings"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>n(!1),"data-testid":"button-close-settings",children:u.jsx(xh,{className:"w-5 h-5"})})]})}),u.jsxs(C5,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[u.jsxs(UT,{className:"grid w-full grid-cols-3 flex-shrink-0",children:[u.jsxs(Fl,{value:"appearance","data-testid":"tab-appearance",children:[u.jsx(tN,{className:"w-4 h-4 mr-2"}),"Theme"]}),u.jsxs(Fl,{value:"analytics","data-testid":"tab-analytics",children:[u.jsx(qa,{className:"w-4 h-4 mr-2"}),"Privacy"]}),u.jsxs(Fl,{value:"history","data-testid":"tab-history",children:[u.jsx(c1,{className:"w-4 h-4 mr-2"}),"History"]})]}),u.jsxs(Vl,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(dn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?u.jsx(x7,{className:"w-4 h-4"}):u.jsx(T7,{className:"w-4 h-4"}),"Theme Mode"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),u.jsx(Di,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(dn,{className:"flex items-center gap-2",children:[u.jsx(tN,{className:"w-4 h-4"}),"Accent Color"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:_g.map(A=>u.jsx("button",{onClick:()=>s(A),className:`relative aspect-square rounded-lg transition-all ${o.id===A.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground scale-105":"hover:scale-105"}`,style:{backgroundColor:`hsl(${A.primary})`},title:A.name,"data-testid":`button-color-${A.id}`,children:o.id===A.id&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},A.id))}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),u.jsxs(Vl,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ly,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(dn,{className:"text-sm font-medium",children:"Data Collection"}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),u.jsx(Di,{checked:b.usageStats,onCheckedChange:A=>{const k={...b,usageStats:A};w(k),Tt.setConsent(k)},"data-testid":"switch-settings-usage"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),u.jsx(Di,{checked:b.skillMetrics,onCheckedChange:A=>{const k={...b,skillMetrics:A};w(k),Tt.setConsent(k)},"data-testid":"switch-settings-skills"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!b.usageStats&&u.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),u.jsx(Di,{checked:b.benchmarking,onCheckedChange:A=>{const k={...b,benchmarking:A,usageStats:A?!0:b.usageStats};w(k),Tt.setConsent(k)},"data-testid":"switch-settings-benchmark"})]})]}),u.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[u.jsx(dn,{className:"text-sm font-medium",children:"Data Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const A=Tt.exportData(),k=new Blob([A],{type:"application/json"}),I=URL.createObjectURL(k),O=document.createElement("a");O.href=I,O.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(I)},"data-testid":"button-export-data",children:[u.jsx(u$,{className:"w-4 h-4 mr-2"}),"Export"]}),u.jsxs(ue,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Tt.deleteAllData()},"data-testid":"button-delete-data",children:[u.jsx(cy,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),u.jsxs(Vl,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[u.jsxs(dn,{className:"flex items-center gap-2",children:[u.jsx(gh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),a.length>0&&u.jsxs(ue,{variant:"ghost",size:"sm",onClick:C,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[u.jsx(cy,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),u.jsx(U5,{className:"flex-1",children:a.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(c1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No session history yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):u.jsx("div",{className:"space-y-3 pr-3",children:a.map(A=>u.jsxs(ze,{className:"p-3","data-testid":`card-session-${A.id}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:A.stats.playerNames.join(" vs ")}),u.jsx("p",{className:"text-xs text-muted-foreground",children:N(A.date)})]}),u.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>E(A.id),"data-testid":`button-delete-session-${A.id}`,children:u.jsx(xh,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(TE,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:S(P(A))}),u.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(vf,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.shotCount}),u.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(gh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.totalExtensions}),u.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(PE,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:A.stats.timeouts}),u.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},A.id))})})]})]})]})}),u.jsx(bte,{open:g,onComplete:()=>{v(!1),w(Tt.getConsent())}})]})}var GT="Collapsible",[rne,W5]=_i(GT),[ine,KT]=rne(GT),H5=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,c]=_o({prop:r,defaultProp:i,onChange:s});return u.jsx(ine,{scope:n,disabled:o,contentId:qo(),open:l,onOpenToggle:y.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Ve.div,{"data-state":JT(l),"data-disabled":o?"":void 0,...a,ref:e})})});H5.displayName=GT;var q5="CollapsibleTrigger",YT=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=KT(q5,n);return u.jsx(Ve.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":JT(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ke(t.onClick,i.onOpenToggle)})});YT.displayName=q5;var XT="CollapsibleContent",QT=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=KT(XT,t.__scopeCollapsible);return u.jsx(Hi,{present:n||i.open,children:({present:o})=>u.jsx(one,{...r,ref:e,present:o})})});QT.displayName=XT;var one=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=KT(XT,n),[a,l]=y.useState(r),c=y.useRef(null),d=dt(e,c),f=y.useRef(0),h=f.current,m=y.useRef(0),x=m.current,g=s.open||a,v=y.useRef(g),b=y.useRef(void 0);return y.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),sr(()=>{const w=c.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();f.current=_.height,m.current=_.width,v.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),l(r)}},[s.open,r]),u.jsx(Ve.div,{"data-state":JT(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:g&&i})});function JT(t){return t?"open":"closed"}var G5=H5,sne=YT,ane=QT;const XI=G5,QI=YT,JI=QT,rr=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:ft("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));rr.displayName="Input";var Hs="Accordion",lne=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ZT,cne,une]=Ep(Hs),[Ox,_Ne]=_i(Hs,[une,W5]),eP=W5(),K5=z.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return u.jsx(ZT.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(pne,{...o,ref:e}):u.jsx(hne,{...i,ref:e})})});K5.displayName=Hs;var[Y5,dne]=Ox(Hs),[X5,fne]=Ox(Hs,{collapsible:!1}),hne=z.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=_o({prop:n,defaultProp:r,onChange:i});return u.jsx(Y5,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:z.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(X5,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(Q5,{...s,ref:e})})})}),pne=z.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=_o({prop:n,defaultProp:r,onChange:i}),l=z.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=z.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return u.jsx(Y5,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:u.jsx(X5,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(Q5,{...o,ref:e})})})}),[mne,Rx]=Ox(Hs),Q5=z.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=z.useRef(null),l=dt(a,e),c=cne(n),f=Pd(i)==="ltr",h=ke(t.onKeyDown,m=>{var P;if(!lne.includes(m.key))return;const x=m.target,g=c().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),v=g.findIndex(A=>A.ref.current===x),b=g.length;if(v===-1)return;m.preventDefault();let w=v;const _=0,C=b-1,E=()=>{w=v+1,w>C&&(w=_)},N=()=>{w=v-1,w<_&&(w=C)};switch(m.key){case"Home":w=_;break;case"End":w=C;break;case"ArrowRight":o==="horizontal"&&(f?E():N());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?N():E());break;case"ArrowUp":o==="vertical"&&N();break}const S=w%b;(P=g[S].ref.current)==null||P.focus()});return u.jsx(mne,{scope:n,disabled:r,direction:i,orientation:o,children:u.jsx(ZT.Slot,{scope:n,children:u.jsx(Ve.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Dy="AccordionItem",[gne,tP]=Ox(Dy),J5=z.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=Rx(Dy,n),s=dne(Dy,n),a=eP(n),l=qo(),c=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return u.jsx(gne,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(G5,{"data-orientation":o.orientation,"data-state":iF(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});J5.displayName=Dy;var Z5="AccordionHeader",eF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Rx(Hs,n),o=tP(Z5,n);return u.jsx(Ve.h3,{"data-orientation":i.orientation,"data-state":iF(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});eF.displayName=Z5;var U1="AccordionTrigger",tF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Rx(Hs,n),o=tP(U1,n),s=fne(U1,n),a=eP(n);return u.jsx(ZT.ItemSlot,{scope:n,children:u.jsx(sne,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});tF.displayName=U1;var nF="AccordionContent",rF=z.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Rx(Hs,n),o=tP(nF,n),s=eP(n);return u.jsx(ane,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});rF.displayName=nF;function iF(t){return t?"open":"closed"}var yne=K5,vne=J5,xne=eF,oF=tF,sF=rF;const aF=yne,fa=y.forwardRef(({className:t,...e},n)=>u.jsx(vne,{ref:n,className:ft("border-b",t),...e}));fa.displayName="AccordionItem";const ha=y.forwardRef(({className:t,children:e,...n},r)=>u.jsx(xne,{className:"flex",children:u.jsxs(oF,{ref:r,className:ft("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(mh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ha.displayName=oF.displayName;const pa=y.forwardRef(({className:t,children:e,...n},r)=>u.jsx(sF,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:ft("pb-4 pt-0",t),children:e})}));pa.displayName=sF.displayName;const bne=["CUEMASTER2024","PROMETHEAN","EARLYBIRD"];function wne(t){return bne.includes(t.toUpperCase().trim())}function nP({className:t=""}){return u.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:u.jsx(yh,{className:"w-3 h-3"})})}function Mg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=jT(),[a,l]=y.useState(""),[c,d]=y.useState(""),[f,h]=y.useState(!1),m=async x=>{if(x.preventDefault(),!wne(a)){d("Invalid promo code. Please try again.");return}h(!0);const g=await o(a);h(!1),g?(e(!1),window.location.reload()):d("Failed to unlock. Please try again.")};return u.jsx(ho,{open:t,onOpenChange:e,children:u.jsxs(ki,{className:"max-w-sm",children:[u.jsxs(Oi,{children:[u.jsxs(Ri,{className:"flex items-center gap-2",children:[u.jsx(yh,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),u.jsx(zu,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[u.jsx(eN,{className:"w-4 h-4"}),"Sign in with Google"]}),u.jsxs(ue,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[u.jsx(eN,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(rr,{placeholder:"Enter promo code",value:a,onChange:x=>{l(x.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),c&&u.jsx("p",{className:"text-sm text-destructive mt-2",children:c})]}),u.jsxs(ue,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[u.jsx(yh,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})}function rP({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=y.useState(!1),{isPro:a}=jT();if(a||!e)return u.jsx(u.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?u.jsxs("div",{className:"relative",children:[t,u.jsx("div",{className:"absolute top-1 right-1",children:u.jsx(nP,{})}),u.jsx(Mg,{open:o,onOpenChange:s})]}):r==="overlay"?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[u.jsx(u1,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),u.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(yh,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),u.jsx(Mg,{open:o,onOpenChange:s})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:u.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[u.jsx(u1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),u.jsxs(ue,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(yh,{className:"w-4 h-4"}),"Upgrade"]})]})}),u.jsx(Mg,{open:o,onOpenChange:s})]})}function _ne({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=y.useState(!1),{isPro:s}=jT();if(s||!e)return u.jsx(ue,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(ue,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,u.jsx("span",{className:"absolute -top-1 -right-1",children:u.jsx(nP,{})})]}),u.jsx(Mg,{open:i,onOpenChange:o})]})}const Pc=["mph","kph","m/s","ft/s"],Dg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},ZI=Object.keys(Dg),ko=(t,e,n)=>Math.min(n,Math.max(e,t)),Sne=.0254,Fo=2.25,ds=Fo/2,lF="cuemaster-velocity-v1";function Ene(){try{const t=localStorage.getItem(lF);return t?JSON.parse(t):null}catch{return null}}function Tne(t){try{localStorage.setItem(lF,JSON.stringify(t))}catch{}}function Pne(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*Fo,d=(l-1)*Fo;for(let f=0;f<l;f++)o.push({x:i-d/2+f*Fo,y:c,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*Fo,d=(l-1)*Fo;for(let f=0;f<l;f++)o.push({x:i-d/2+f*Fo,y:c,row:a,idx:f,n:l})}}return o}function Ane(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function Cne({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function Nne(){const[,t]=ol(),{toast:e}=Sp(),[n,r]=y.useState("record"),[i,o]=y.useState(3),s=ZI[i]||"9' (tournament)",a=Dg[s],l=a.W,c=a.L,[d,f]=y.useState("9"),[h,m]=y.useState(!0),[x,g]=y.useState("mph"),[v,b]=y.useState(!1),w=()=>{const K=Pc.indexOf(x);g(Pc[(K+1)%Pc.length])},[_,C]=y.useState({x:25,y:20}),[E,N]=y.useState({x:l/2,y:3*c/4-Fo}),[S,P]=y.useState(null),[A,k]=y.useState(null),[I,O]=y.useState(!1),[R,L]=y.useState(null),[B,U]=y.useState(null),[W,F]=y.useState(null),[V,ee]=y.useState(null),[Q,ne]=y.useState([]),[ge,Ce]=y.useState(!1),[qe,Xe]=y.useState(!1),[me,we]=y.useState(1),[te,he]=y.useState(!1),[pe,Y]=y.useState([null,null,null,null,null]),[Se,Re]=y.useState({open:!1,kind:null,index:null}),[mt,ot]=y.useState(!1),[At,Rt]=y.useState(!1),[xe,Qe]=y.useState([]),[cn,kt]=y.useState(!1),[pn,yr]=y.useState(""),[bn,vr]=y.useState(""),[Yi,Wt]=y.useState(!1),[Mr,An]=y.useState(0),Cn=y.useRef(null),It=y.useRef(null),Xt=y.useRef(null),Mn=y.useRef(!1),xr=y.useRef(!1);y.useEffect(()=>(Tt.startSession("velocity"),()=>{Tt.endSession()}),[]),y.useEffect(()=>{const K=Ene();K?(o(K.presetIndex??3),C(K.cue||{x:25,y:20}),N(K.ghost||{x:l/2,y:3*c/4-Fo}),g(K.unit||"mph"),ne(K.history||[]),f(K.variant||"9"),m(K.snap??!0),Y(K.breakSlots||[null,null,null,null,null]),Qe(K.leaderboard||[]),vr(K.storedInitials||""),K.tutorialDone||Xe(!0)):Xe(!0)},[]),y.useEffect(()=>{Tne({presetIndex:i,cue:_,ghost:E,unit:x,history:Q,variant:d,snap:h,breakSlots:pe,leaderboard:xe,storedInitials:bn,tutorialDone:!0})},[i,_,E,x,Q,d,h,pe,xe,bn]),y.useEffect(()=>{const K=setInterval(()=>{An(Fe=>(Fe+1)%Pc.length)},4e3);return()=>clearInterval(K)},[]),y.useEffect(()=>{C(K=>({x:ko(K.x,0,l),y:ko(K.y,0,c/4)})),N(K=>({x:ko(K.x,0,l),y:ko(K.y,ds,c-ds)}))},[l,c]);const q=y.useMemo(()=>Pne(d,l,c),[d,l,c]),le=y.useCallback((K,Fe)=>{const Ze=Fe.x-K.x,Ue=Fe.y-K.y,rt=Math.hypot(Ze,Ue);if(!rt)return null;const et=Ze/rt,Ot=Ue/rt,Ht=Fo;let Ut=1/0,pt=null,oi=null;for(let Kr=0;Kr<q.length;Kr++){const Lt=q[Kr],M=Lt.x-K.x,$=Lt.y-K.y,G=M*et+$*Ot;if(G<=0)continue;const J=K.x+et*G,Z=K.y+Ot*G,ie=Math.hypot(Lt.x-J,Lt.y-Z);if(ie>Ht)continue;const ce=Math.sqrt(Ht*Ht-ie*ie),de=G-ce;de<=0||de<Ut&&(Ut=de,pt={x:K.x+et*de,y:K.y+Ot*de},oi=Kr)}return pt?{point:pt,index:oi}:null},[q]),Te=y.useCallback((K=_,Fe=E)=>{const Ze=Fe.x-K.x,Ue=Fe.y-K.y,rt=Math.hypot(Ze,Ue);return Ue<=0||rt<=0?null:rt},[_,E]),Le=y.useMemo(()=>{const K=Te();if(!K)return!1;const Fe=(E.x-_.x)/K,Ze=(E.y-_.y)/K,Ue=Cne({x0:_.x,y0:_.y,dx:Fe,dy:Ze,W:l,L:c});return!Ue||K<=Ue+1e-6},[_,E,l,c,Te]),_t=y.useMemo(()=>{const K=Te();return{dCG:K?K.toFixed(2):""}},[Te]),Nn=K=>{switch(x){case"ft/s":return(K*3.28084).toFixed(2);case"m/s":return K.toFixed(2);case"kph":return(K*3.6).toFixed(2);default:return(K*2.23693629).toFixed(2)}},Be=K=>{switch(x){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},lt=(K,Fe)=>{switch(Fe){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},wn=(K,Fe,Ze=!1)=>{const Ue=K.toUpperCase().slice(0,3),rt=Math.min(100,Math.round(Fe/25*100)),et={initials:Ue,mph:Fe,percentage:rt,ts:Date.now()};Qe(Ot=>[...Ot,et].sort((Ut,pt)=>pt.percentage-Ut.percentage).slice(0,1e3)),Ue.length===3&&vr(Ue),Wt(!1),yr(""),Ze||e({title:"Added to Leaderboard",description:`${Ue} - ${rt}%`})},_n=y.useRef([]),[Xi,ri]=y.useState(0),[qr,Gr]=y.useState(null),Ys=3e3,Ao=48e3,vc=K=>{if(K.length<10)return null;let Fe=0;for(let pt=0;pt<K.length;pt++)K[pt].amplitude>Fe&&(Fe=K[pt].amplitude);if(Fe<.1)return null;const Ze=40,Ue=300;let rt=0,et=K[0].amplitude;for(let pt=0;pt<K.length&&!(K[pt].time>50);pt++)K[pt].amplitude>et&&(et=K[pt].amplitude,rt=pt);const Ot=K[rt].time;let Ht=-1,Ut=0;for(let pt=0;pt<K.length;pt++){const oi=K[pt].time-Ot;oi>=Ze&&oi<=Ue&&K[pt].amplitude>Ut&&(Ut=K[pt].amplitude,Ht=pt)}return Ht===-1||Ut<Fe*.1?null:{first:K[rt],second:K[Ht]}},xc=async()=>{const K={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Ao}},Fe=await navigator.mediaDevices.getUserMedia(K),Ze=new AudioContext({sampleRate:Ao});Ze.state==="suspended"&&await Ze.resume();const Ue=Ze.createMediaStreamSource(Fe),rt=Ze.createBiquadFilter();rt.type="highpass",rt.frequency.value=150;const et=Ze.createBiquadFilter();et.type="lowpass",et.frequency.value=8e3;const Ot=Ze.createAnalyser();Ot.fftSize=2048,Ue.connect(rt),rt.connect(et),et.connect(Ot);const Ht=new Float32Array(Ot.fftSize);_n.current=[];let Ut=null,pt=null;const oi=.15,Kr=()=>{if(!Mn.current)return;Ot.getFloatTimeDomainData(Ht);let Lt=0;for(let $=0;$<Ht.length;$++)Lt=Math.max(Lt,Math.abs(Ht[$]));const M=performance.now();if(Ut===null&&Lt>oi&&(Ut=M,pt=M,Gr("Recording break...")),Ut!==null){_n.current.push({time:M-Ut,amplitude:Lt});const $=M-pt;if(ri(Math.min(100,$/Ys*100)),$>=Ys){Mn.current=!1,Gr("Analyzing audio...");const G=vc(_n.current);if(G){const J=(G.second.time-G.first.time)/1e3;if(J>=.04&&J<=.3)U(G.first.time/1e3),F(G.second.time/1e3),Gr(`Found peaks: ${J.toFixed(4)}s apart`);else{const Z=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 40-300ms)`;Xt.current&&(Xt.current.stream.getTracks().forEach(ie=>ie.stop()),Xt.current.audioCtx.close(),Xt.current=null),O(!1),ri(0),Gr(null),It.current&&clearTimeout(It.current),e({title:"Detection failed",description:Z,variant:"destructive"})}}else Xt.current&&(Xt.current.stream.getTracks().forEach(J=>J.stop()),Xt.current.audioCtx.close(),Xt.current=null),O(!1),ri(0),Gr(null),It.current&&clearTimeout(It.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(Kr)};return requestAnimationFrame(Kr),{audioCtx:Ze,stream:Fe}},Xs=async()=>{if(!Te()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}ee(null),U(null),F(null),ri(0),Gr(null),xr.current=!1;for(let Fe=5;Fe>0;Fe--){if(xr.current){L(null);return}L(Fe),await new Promise(Ze=>setTimeout(Ze,1e3))}if(xr.current){L(null);return}L(null),O(!0);try{Mn.current=!0,Xt.current=await xc(),It.current&&clearTimeout(It.current),It.current=setTimeout(()=>{In(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - recording starts on impact"})}catch(Fe){console.error(Fe),O(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},In=()=>{Mn.current=!1,xr.current=!0,L(null),Xt.current&&(Xt.current.stream.getTracks().forEach(K=>K.stop()),Xt.current.audioCtx.close(),Xt.current=null),O(!1),ri(0),Gr(null),It.current&&clearTimeout(It.current)};y.useEffect(()=>{if(B!==null&&W!==null&&I){const K=Te()||0,Fe=K*Sne,Ze=Math.max(.005,W-B),Ue=Fe/Ze,rt=Ue*2.23693629,et={raw_mps:Ue,mph:Number(rt.toFixed(2)),distanceIn:Number(K.toFixed(1)),deltaT:Number(Ze.toFixed(4)),ts:Date.now(),cue:_,ghost:E,table:{W:l,L:c},variant:d};ne(Ot=>[et,...Ot].slice(0,500)),ee(et),O(!1),In(),Ce(!0),n==="shark"&&bn.length===3&&wn(bn,et.mph,!0),Tt.trackSkillMetric("velocity","break_speed",et.mph,{distanceIn:et.distanceIn,variant:et.variant})}},[B,W,I,_,E,l,c,d,Te,n,bn]);const Qi=(K,Fe,Ze)=>{const Ue=Fe/Ze,et=Math.round(K/Ue)*Ue;return Math.abs(K-et)<=.35&&h?et:K},br=()=>{const Fe=Math.min(typeof window<"u"?window.innerWidth-48:400,500),Ue=Math.min(Fe/l,400/c),rt=l*Ue,et=c*Ue,Ot=_.x*Ue+8,Ht=et-_.y*Ue+8,Ut=E.x*Ue+8,pt=et-E.y*Ue+8,oi=Lt=>{var J;Lt.preventDefault(),Rt(!0);const M=(J=Cn.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const $=Z=>{const ie={x:Z.clientX-M.left,y:Z.clientY-M.top};let ce=(ie.x-8)/Ue,de=(et-(ie.y-8))/Ue;ce=ko(Qi(ce,l,8),0,l),de=ko(Qi(de,c,8),ds,c-ds);const _e=le(_,{x:ce,y:de});if(_e&&_e.point){const{point:Ge,index:ve}=_e,Pe=ko(Ge.x,0,l),it=ko(Ge.y,ds,c-ds);N({x:Pe,y:it}),P({x:Pe,y:it,index:ve}),k(ve)}else S&&(N({x:S.x,y:S.y}),k(S.index??null))},G=()=>{Rt(!1),window.removeEventListener("pointermove",$)};window.addEventListener("pointermove",$),window.addEventListener("pointerup",G,{once:!0})},Kr=Lt=>{var J;Lt.preventDefault(),ot(!0);const M=(J=Cn.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const $=Z=>{const ie={x:Z.clientX-M.left,y:Z.clientY-M.top};let ce=(ie.x-8)/Ue,de=(et-(ie.y-8))/Ue;ce=ko(Qi(ce,l,8),0,l),de=ko(Qi(de,c,8),0,c/4),C({x:ce,y:de})},G=()=>{ot(!1),window.removeEventListener("pointermove",$)};window.addEventListener("pointermove",$),window.addEventListener("pointerup",G,{once:!0})};return u.jsxs("svg",{ref:Cn,width:rt+8*2,height:et+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[u.jsx("rect",{x:8,y:8,width:rt,height:et,fill:"#03C04A",stroke:Le?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(Lt,M)=>(M+1)/8*rt+8).map((Lt,M)=>u.jsx("line",{x1:Lt,x2:Lt,y1:8,y2:8+et,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+M)),Array.from({length:7},(Lt,M)=>(M+1)/8*et+8).map((Lt,M)=>u.jsx("line",{x1:8,x2:8+rt,y1:Lt,y2:Lt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+M)),u.jsx("line",{x1:Ot,y1:Ht,x2:Ut,y2:pt,stroke:"#1e1e1e",strokeWidth:"2.5"}),q.map((Lt,M)=>{const $=Lt.x*Ue+8,G=et-Lt.y*Ue+8,J=M===A;return u.jsx("circle",{cx:$,cy:G,r:ds*Ue,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},M)}),At&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:pt,x2:8+rt,y2:pt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Ut,y1:8,x2:Ut,y2:8+et,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),mt&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:Ht,x2:8+rt,y2:Ht,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Ot,y1:8,x2:Ot,y2:8+et,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),u.jsx("circle",{cx:Ut,cy:pt,r:ds*Ue,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:oi,style:{cursor:"grab"}}),u.jsx("circle",{cx:Ot,cy:Ht,r:ds*Ue,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:Kr,style:{cursor:"grab"}})]})},ii=y.useMemo(()=>Ane(Q),[Q]),Qs=K=>Re({open:!0,kind:"load",index:K}),Js=K=>Re({open:!0,kind:"save",index:K}),Zs=({i:K})=>{const Fe=!!pe[K],Ze=y.useRef(null),Ue=()=>{Ze.current=setTimeout(()=>{Js(K),Ze.current=null},520)},rt=()=>{Ze.current&&(clearTimeout(Ze.current),Qs(K),Ze.current=null)};return u.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Fe?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:Ue,onPointerUp:rt,onPointerLeave:()=>Ze.current&&clearTimeout(Ze.current),"data-testid":`button-slot-${K+1}`,children:["Slot ",K+1]})};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Xe(!0),"data-testid":"button-help",children:u.jsx(ox,{className:"w-5 h-5"})}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>he(!0),"data-testid":"button-settings",children:u.jsx(EE,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(C5,{value:n,onValueChange:r,className:"w-full",children:[u.jsxs(UT,{className:"grid w-full grid-cols-3",children:[u.jsx(Fl,{value:"record","data-testid":"tab-record",children:"Record"}),u.jsx(Fl,{value:"stats","data-testid":"tab-stats",children:"Stats"}),u.jsxs(Fl,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",u.jsx(nP,{})]})]}),u.jsxs(Vl,{value:"record",className:"space-y-3 mt-3",children:[u.jsxs(ze,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),u.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[V?Nn(V.raw_mps):"--.--.",u.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:x})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),u.jsx(ue,{className:"w-full",size:"lg",variant:I||R!==null?"destructive":"default",onClick:I||R!==null?In:Xs,"data-testid":"button-record",children:R!==null?`Cancel (${R})`:I?"Stop Recording":"Tap to Record  Break"}),I&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:qr||"Waiting for sound..."}),u.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Xi),"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Xi}%`}})})]})]}),u.jsx(ze,{className:"p-3",children:u.jsxs(XI,{open:v,onOpenChange:b,children:[u.jsxs(QI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[_t.dCG,'"  ',d,"-ball"]})]}),u.jsx(mh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsxs(JI,{className:"pt-2",children:[u.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(K=>u.jsxs(ue,{variant:d===K?"default":"outline",size:"sm",onClick:()=>f(K),"data-testid":`button-variant-${K}`,children:[K,"-ball"]},K))}),u.jsx(br,{}),!Le&&u.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."}),u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Presets"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(K=>u.jsx(Zs,{i:K},K))})]})]})]})})]}),u.jsx(Vl,{value:"stats",className:"space-y-3 mt-3",children:u.jsxs(ze,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),u.jsx("div",{className:"text-lg font-bold",children:ii?Be(ii.high):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:x})]}),u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),u.jsx("div",{className:"text-lg font-bold",children:ii?Be(ii.avg):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:x})]}),u.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),u.jsx("div",{className:"text-lg font-bold",children:ii?Be(ii.low):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:x})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[Q.length," breaks recorded"]}),Q.length>0&&u.jsxs(ue,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>ne([]),"data-testid":"button-clear-history",children:[u.jsx(_7,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),u.jsx(Vl,{value:"shark",className:"space-y-3 mt-3",children:u.jsxs(rP,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[u.jsxs(ze,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),u.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:x})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"#eab308"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,V?V.mph/25*100:0)*2.2} 220`}),(()=>{const Ze=(-180+Math.min(100,V?V.mph/25*100:0)/100*180)*Math.PI/180,Ue=90,rt=90,et=55,Ot=Ue+et*Math.cos(Ze),Ht=rt+et*Math.sin(Ze);return u.jsxs("g",{children:[u.jsx("line",{x1:Ue,y1:rt,x2:Ot,y2:Ht,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:Ue,cy:rt,r:"6",fill:"hsl(var(--foreground))"})]})})(),u.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[V?Math.min(100,Math.round(V.mph/25*100)):0,"%"]})]})}),u.jsx(ue,{className:"w-full",size:"lg",variant:I?"destructive":"default",onClick:I?In:Xs,"data-testid":"button-shark-record",children:I?"STOP":"REC"})]}),u.jsx(ze,{className:"p-3",children:u.jsxs(XI,{open:v,onOpenChange:b,children:[u.jsxs(QI,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[_t.dCG,'"  ',d,"-ball"]})]}),u.jsx(mh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),u.jsx(JI,{className:"pt-2",children:u.jsx(br,{})})]})}),V&&u.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>Wt(!0),"data-testid":"button-add-to-leaderboard",children:[u.jsx(bg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),u.jsx(ze,{className:"p-3",children:u.jsx(aF,{type:"single",collapsible:!0,value:cn?"leaderboard":"",onValueChange:K=>kt(K==="leaderboard"),children:u.jsxs(fa,{value:"leaderboard",className:"border-none",children:[u.jsx(ha,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",xe.length,")"]})]})}),u.jsxs(pa,{children:[xe.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):u.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-card",children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:u.jsx("span",{className:"text-primary",children:Pc[Mr]})})]})}),u.jsx("tbody",{children:xe.map((K,Fe)=>u.jsxs("tr",{className:`border-b border-border/50 ${Fe<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Fe}`,children:[u.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Fe===0&&u.jsx("span",{className:"text-yellow-500",children:""}),Fe===1&&u.jsx("span",{className:"text-gray-400",children:""}),Fe===2&&u.jsx("span",{className:"text-amber-600",children:""}),Fe>2&&Fe+1]}),u.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:K.initials}),u.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[K.percentage,"%"]}),u.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:lt(K.mph,Pc[Mr])})]},`${K.initials}-${K.ts}`))})]})}),xe.length>0&&u.jsx(ue,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&Qe([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),u.jsx(ho,{open:qe,onOpenChange:Xe,children:u.jsxs(ki,{className:"max-w-md",children:[u.jsx(Oi,{children:u.jsx(Ri,{children:"Welcome to CueMaster: Velocity"})}),u.jsxs("div",{className:"space-y-4",children:[me===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",u.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),u.jsx(ue,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),me===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",u.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",u.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),me===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",u.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),me===4&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),u.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",u.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>we(K=>Math.max(1,K-1)),disabled:me===1,children:"Back"}),u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>we(K=>Math.min(4,K+1)),disabled:me===4,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(K=>u.jsx("div",{className:`w-2 h-2 rounded-full ${K===me?"bg-primary":"bg-muted"}`},K))}),u.jsx(ue,{size:"sm",onClick:()=>Xe(!1),children:me===4?"Finish":"Skip"})]})]})}),u.jsx(ho,{open:ge,onOpenChange:Ce,children:u.jsxs(ki,{className:"max-w-md",children:[u.jsx(Oi,{children:u.jsx(Ri,{children:"Confirm First Contact"})}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),u.jsx(br,{}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ue,{variant:"outline",onClick:()=>Ce(!1),children:"Looks Right"}),u.jsx(ue,{onClick:()=>Ce(!1),children:"Confirm"})]})]})}),u.jsx(ho,{open:Se.open,onOpenChange:K=>Re({...Se,open:K}),children:u.jsxs(ki,{className:"max-w-sm",children:[u.jsx(Oi,{children:u.jsx(Ri,{children:Se.kind==="load"?"Load Preset":"Save Preset"})}),u.jsx("p",{className:"text-sm text-muted-foreground",children:Se.kind==="load"?pe[Se.index]?"Load this saved break setup?":"This slot is empty.":pe[Se.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ue,{variant:"outline",onClick:()=>Re({open:!1,kind:null,index:null}),children:"Cancel"}),u.jsx(ue,{onClick:()=>{if(Se.kind==="load"){const K=pe[Se.index];K&&(C(K.cue),N(K.ghost),f(K.variant),o(K.presetIndex),m(K.snap),e({title:"Preset loaded"}))}else{const K={cue:_,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};Y(Fe=>{const Ze=[...Fe];return Ze[Se.index]=K,Ze}),e({title:"Preset saved"})}Re({open:!1,kind:null,index:null})},disabled:Se.kind==="load"&&!pe[Se.index],children:Se.kind==="load"?"Load":pe[Se.index]?"Overwrite":"Save"})]})]})}),u.jsx(ho,{open:te,onOpenChange:he,children:u.jsxs(ki,{className:"max-w-md",children:[u.jsx(Oi,{children:u.jsx(Ri,{children:"Settings"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(dn,{children:"Snap to Grid"}),u.jsx(Di,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"mb-2 block",children:"Table Size"}),u.jsx("div",{className:"space-y-1",children:ZI.map((K,Fe)=>u.jsxs("button",{onClick:()=>o(Fe),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Fe===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Fe}`,children:[u.jsx("span",{className:"font-medium",children:K}),u.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Dg[K].W,"",Dg[K].L," in"]})]},K))})]}),u.jsx(ue,{variant:"outline",className:"w-full",onClick:()=>Xe(!0),children:"Open Tutorial"})]})]})}),u.jsx(ho,{open:Yi,onOpenChange:Wt,children:u.jsxs(ki,{className:"max-w-sm",children:[u.jsxs(Oi,{children:[u.jsx(Ri,{children:"Enter Your Initials"}),u.jsx(zu,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(dn,{htmlFor:"initials",children:"Initials (3 letters)"}),u.jsx(rr,{id:"initials",value:pn,onChange:K=>yr(K.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),V&&u.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(V.mph/25*100)),"%"]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.mph.toFixed(2)," mph"]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ue,{variant:"outline",onClick:()=>Wt(!1),children:"Cancel"}),u.jsxs(ue,{onClick:()=>V&&wn(pn,V.mph),disabled:pn.length!==3,"data-testid":"button-submit-initials",children:[u.jsx(bg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})}),R!==null&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex flex-col items-center justify-center",onClick:In,children:[u.jsx("div",{className:"text-[12rem] font-bold text-primary animate-pulse leading-none",children:R}),u.jsx("p",{className:"text-2xl text-muted-foreground mt-4",children:"Get into position..."}),u.jsx(ue,{variant:"destructive",size:"lg",className:"mt-8",onClick:In,children:"Cancel"})]})]})}var Ine=Array.isArray,ni=Ine,jne=typeof lm=="object"&&lm&&lm.Object===Object&&lm,cF=jne,kne=cF,One=typeof self=="object"&&self&&self.Object===Object&&self,Rne=kne||One||Function("return this")(),ls=Rne,Mne=ls,Dne=Mne.Symbol,Lp=Dne,ej=Lp,uF=Object.prototype,$ne=uF.hasOwnProperty,Lne=uF.toString,nf=ej?ej.toStringTag:void 0;function Fne(t){var e=$ne.call(t,nf),n=t[nf];try{t[nf]=void 0;var r=!0}catch{}var i=Lne.call(t);return r&&(e?t[nf]=n:delete t[nf]),i}var Vne=Fne,Bne=Object.prototype,Une=Bne.toString;function zne(t){return Une.call(t)}var Wne=zne,tj=Lp,Hne=Vne,qne=Wne,Gne="[object Null]",Kne="[object Undefined]",nj=tj?tj.toStringTag:void 0;function Yne(t){return t==null?t===void 0?Kne:Gne:nj&&nj in Object(t)?Hne(t):qne(t)}var qs=Yne;function Xne(t){return t!=null&&typeof t=="object"}var Gs=Xne,Qne=qs,Jne=Gs,Zne="[object Symbol]";function ere(t){return typeof t=="symbol"||Jne(t)&&Qne(t)==Zne}var Ad=ere,tre=ni,nre=Ad,rre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ire=/^\w*$/;function ore(t,e){if(tre(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nre(t)?!0:ire.test(t)||!rre.test(t)||e!=null&&t in Object(e)}var iP=ore;function sre(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sl=sre;const Cd=Yt(sl);var are=qs,lre=sl,cre="[object AsyncFunction]",ure="[object Function]",dre="[object GeneratorFunction]",fre="[object Proxy]";function hre(t){if(!lre(t))return!1;var e=are(t);return e==ure||e==dre||e==cre||e==fre}var oP=hre;const xt=Yt(oP);var pre=ls,mre=pre["__core-js_shared__"],gre=mre,Lb=gre,rj=function(){var t=/[^.]+$/.exec(Lb&&Lb.keys&&Lb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yre(t){return!!rj&&rj in t}var vre=yre,xre=Function.prototype,bre=xre.toString;function wre(t){if(t!=null){try{return bre.call(t)}catch{}try{return t+""}catch{}}return""}var dF=wre,_re=oP,Sre=vre,Ere=sl,Tre=dF,Pre=/[\\^$.*+?()[\]{}|]/g,Are=/^\[object .+?Constructor\]$/,Cre=Function.prototype,Nre=Object.prototype,Ire=Cre.toString,jre=Nre.hasOwnProperty,kre=RegExp("^"+Ire.call(jre).replace(Pre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ore(t){if(!Ere(t)||Sre(t))return!1;var e=_re(t)?kre:Are;return e.test(Tre(t))}var Rre=Ore;function Mre(t,e){return t==null?void 0:t[e]}var Dre=Mre,$re=Rre,Lre=Dre;function Fre(t,e){var n=Lre(t,e);return $re(n)?n:void 0}var pc=Fre,Vre=pc,Bre=Vre(Object,"create"),Mx=Bre,ij=Mx;function Ure(){this.__data__=ij?ij(null):{},this.size=0}var zre=Ure;function Wre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hre=Wre,qre=Mx,Gre="__lodash_hash_undefined__",Kre=Object.prototype,Yre=Kre.hasOwnProperty;function Xre(t){var e=this.__data__;if(qre){var n=e[t];return n===Gre?void 0:n}return Yre.call(e,t)?e[t]:void 0}var Qre=Xre,Jre=Mx,Zre=Object.prototype,eie=Zre.hasOwnProperty;function tie(t){var e=this.__data__;return Jre?e[t]!==void 0:eie.call(e,t)}var nie=tie,rie=Mx,iie="__lodash_hash_undefined__";function oie(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rie&&e===void 0?iie:e,this}var sie=oie,aie=zre,lie=Hre,cie=Qre,uie=nie,die=sie;function Nd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nd.prototype.clear=aie;Nd.prototype.delete=lie;Nd.prototype.get=cie;Nd.prototype.has=uie;Nd.prototype.set=die;var fie=Nd;function hie(){this.__data__=[],this.size=0}var pie=hie;function mie(t,e){return t===e||t!==t&&e!==e}var sP=mie,gie=sP;function yie(t,e){for(var n=t.length;n--;)if(gie(t[n][0],e))return n;return-1}var Dx=yie,vie=Dx,xie=Array.prototype,bie=xie.splice;function wie(t){var e=this.__data__,n=vie(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bie.call(e,n,1),--this.size,!0}var _ie=wie,Sie=Dx;function Eie(t){var e=this.__data__,n=Sie(e,t);return n<0?void 0:e[n][1]}var Tie=Eie,Pie=Dx;function Aie(t){return Pie(this.__data__,t)>-1}var Cie=Aie,Nie=Dx;function Iie(t,e){var n=this.__data__,r=Nie(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var jie=Iie,kie=pie,Oie=_ie,Rie=Tie,Mie=Cie,Die=jie;function Id(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Id.prototype.clear=kie;Id.prototype.delete=Oie;Id.prototype.get=Rie;Id.prototype.has=Mie;Id.prototype.set=Die;var $x=Id,$ie=pc,Lie=ls,Fie=$ie(Lie,"Map"),aP=Fie,oj=fie,Vie=$x,Bie=aP;function Uie(){this.size=0,this.__data__={hash:new oj,map:new(Bie||Vie),string:new oj}}var zie=Uie;function Wie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Hie=Wie,qie=Hie;function Gie(t,e){var n=t.__data__;return qie(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Lx=Gie,Kie=Lx;function Yie(t){var e=Kie(this,t).delete(t);return this.size-=e?1:0,e}var Xie=Yie,Qie=Lx;function Jie(t){return Qie(this,t).get(t)}var Zie=Jie,eoe=Lx;function toe(t){return eoe(this,t).has(t)}var noe=toe,roe=Lx;function ioe(t,e){var n=roe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ooe=ioe,soe=zie,aoe=Xie,loe=Zie,coe=noe,uoe=ooe;function jd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jd.prototype.clear=soe;jd.prototype.delete=aoe;jd.prototype.get=loe;jd.prototype.has=coe;jd.prototype.set=uoe;var lP=jd,fF=lP,doe="Expected a function";function cP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(doe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(cP.Cache||fF),n}cP.Cache=fF;var hF=cP;const foe=Yt(hF);var hoe=hF,poe=500;function moe(t){var e=hoe(t,function(r){return n.size===poe&&n.clear(),r}),n=e.cache;return e}var goe=moe,yoe=goe,voe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xoe=/\\(\\)?/g,boe=yoe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(voe,function(n,r,i,o){e.push(i?o.replace(xoe,"$1"):r||n)}),e}),woe=boe;function _oe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var uP=_oe,sj=Lp,Soe=uP,Eoe=ni,Toe=Ad,Poe=1/0,aj=sj?sj.prototype:void 0,lj=aj?aj.toString:void 0;function pF(t){if(typeof t=="string")return t;if(Eoe(t))return Soe(t,pF)+"";if(Toe(t))return lj?lj.call(t):"";var e=t+"";return e=="0"&&1/t==-Poe?"-0":e}var Aoe=pF,Coe=Aoe;function Noe(t){return t==null?"":Coe(t)}var mF=Noe,Ioe=ni,joe=iP,koe=woe,Ooe=mF;function Roe(t,e){return Ioe(t)?t:joe(t,e)?[t]:koe(Ooe(t))}var gF=Roe,Moe=Ad,Doe=1/0;function $oe(t){if(typeof t=="string"||Moe(t))return t;var e=t+"";return e=="0"&&1/t==-Doe?"-0":e}var Fx=$oe,Loe=gF,Foe=Fx;function Voe(t,e){e=Loe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Foe(e[n++])];return n&&n==r?t:void 0}var dP=Voe,Boe=dP;function Uoe(t,e,n){var r=t==null?void 0:Boe(t,e);return r===void 0?n:r}var yF=Uoe;const Fi=Yt(yF);function zoe(t){return t==null}var Woe=zoe;const gt=Yt(Woe);var Hoe=qs,qoe=ni,Goe=Gs,Koe="[object String]";function Yoe(t){return typeof t=="string"||!qoe(t)&&Goe(t)&&Hoe(t)==Koe}var Xoe=Yoe;const nc=Yt(Xoe);var vF={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP=Symbol.for("react.element"),hP=Symbol.for("react.portal"),Vx=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),zx=Symbol.for("react.provider"),Wx=Symbol.for("react.context"),Qoe=Symbol.for("react.server_context"),Hx=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Yx=Symbol.for("react.lazy"),Joe=Symbol.for("react.offscreen"),xF;xF=Symbol.for("react.module.reference");function Gi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fP:switch(t=t.type,t){case Vx:case Ux:case Bx:case qx:case Gx:return t;default:switch(t=t&&t.$$typeof,t){case Qoe:case Wx:case Hx:case Yx:case Kx:case zx:return t;default:return e}}case hP:return e}}}Bt.ContextConsumer=Wx;Bt.ContextProvider=zx;Bt.Element=fP;Bt.ForwardRef=Hx;Bt.Fragment=Vx;Bt.Lazy=Yx;Bt.Memo=Kx;Bt.Portal=hP;Bt.Profiler=Ux;Bt.StrictMode=Bx;Bt.Suspense=qx;Bt.SuspenseList=Gx;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return Gi(t)===Wx};Bt.isContextProvider=function(t){return Gi(t)===zx};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fP};Bt.isForwardRef=function(t){return Gi(t)===Hx};Bt.isFragment=function(t){return Gi(t)===Vx};Bt.isLazy=function(t){return Gi(t)===Yx};Bt.isMemo=function(t){return Gi(t)===Kx};Bt.isPortal=function(t){return Gi(t)===hP};Bt.isProfiler=function(t){return Gi(t)===Ux};Bt.isStrictMode=function(t){return Gi(t)===Bx};Bt.isSuspense=function(t){return Gi(t)===qx};Bt.isSuspenseList=function(t){return Gi(t)===Gx};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vx||t===Ux||t===Bx||t===qx||t===Gx||t===Joe||typeof t=="object"&&t!==null&&(t.$$typeof===Yx||t.$$typeof===Kx||t.$$typeof===zx||t.$$typeof===Wx||t.$$typeof===Hx||t.$$typeof===xF||t.getModuleId!==void 0)};Bt.typeOf=Gi;vF.exports=Bt;var Zoe=vF.exports,ese=qs,tse=Gs,nse="[object Number]";function rse(t){return typeof t=="number"||tse(t)&&ese(t)==nse}var bF=rse;const ise=Yt(bF);var ose=bF;function sse(t){return ose(t)&&t!=+t}var ase=sse;const Fp=Yt(ase);var yo=function(e){return e===0?0:e>0?1:-1},Al=function(e){return nc(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return ise(e)&&!Fp(e)},lse=function(e){return gt(e)},Yn=function(e){return Ee(e)||nc(e)},cse=0,Vp=function(e){var n=++cse;return"".concat(e||"").concat(n)},rc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!nc(e))return r;var o;if(Al(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Fp(o)&&(o=r),i&&o>n&&(o=n),o},Rc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},use=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},uo=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function $y(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Fi(r,e))===n})}var dse=function(e,n){return Ee(e)&&Ee(n)?e-n:nc(e)&&nc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function du(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function z1(t){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1(t)}var fse=["viewBox","children"],hse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cj=["points","pathLength"],Fb={svg:fse,polygon:cj,polyline:cj},pP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ly=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),!Cd(r))return null;var i={};return Object.keys(r).forEach(function(o){pP.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},pse=function(e,n,r){return function(i){return e(n,r,i),null}},Fy=function(e,n,r){if(!Cd(e)||z1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];pP.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=pse(s,n,r))}),i},mse=["children"],gse=["children"];function uj(t,e){if(t==null)return{};var n=yse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W1(t){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W1(t)}var dj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ps=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fj=null,Vb=null,mP=function t(e){if(e===fj&&Array.isArray(Vb))return Vb;var n=[];return y.Children.forEach(e,function(r){gt(r)||(Zoe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vb=n,fj=e,n};function Vi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ps(i)}):r=[Ps(e)],mP(t).forEach(function(i){var o=Fi(i,"type.displayName")||Fi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function fi(t,e){var n=Vi(t,e);return n&&n[0]}var hj=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},vse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xse=function(e){return e&&e.type&&nc(e.type)&&vse.indexOf(e.type)>=0},bse=function(e){return e&&W1(e)==="object"&&"clipDot"in e},wse=function(e,n,r,i){var o,s=(o=Fb==null?void 0:Fb[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xt(e)&&(i&&s.includes(n)||hse.includes(n))||r&&pP.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(y.isValidElement(e)&&(i=e.props),!Cd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;wse((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},H1=function t(e,n){if(e===n)return!0;var r=y.Children.count(e);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pj(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!pj(o,s))return!1}return!0},pj=function(e,n){if(gt(e)&&gt(n))return!0;if(!gt(e)&&!gt(n)){var r=e.props||{},i=r.children,o=uj(r,mse),s=n.props||{},a=s.children,l=uj(s,gse);return i&&a?du(o,l)&&H1(i,a):!i&&!a?du(o,l):!1}return!1},mj=function(e,n){var r=[],i={};return mP(e).forEach(function(o,s){if(xse(o))r.push(o);else if(o){var a=Ps(o.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var f=c(o,a,s);r.push(f),i[a]=!0}}}),r},_se=function(e){var n=e&&e.type;return n&&dj[n]?dj[n]:null},Sse=function(e,n){return mP(n).indexOf(e)},Ese=["children","width","height","viewBox","className","style","title","desc"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function Tse(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G1(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Tse(t,Ese),d=i||{width:n,height:r,x:0,y:0},f=St("recharts-surface",o);return z.createElement("svg",q1({},Pt(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,a),z.createElement("desc",null,l),e)}var Ase=["children","className"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(this,arguments)}function Cse(t,e){if(t==null)return{};var n=Nse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rn=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Cse(t,Ase),o=St("recharts-layer",r);return z.createElement("g",K1({className:o},Pt(i,!0),{ref:e}),n)}),Bl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Ise(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var jse=Ise,kse=jse;function Ose(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:kse(t,e,n)}var Rse=Ose,Mse="\\ud800-\\udfff",Dse="\\u0300-\\u036f",$se="\\ufe20-\\ufe2f",Lse="\\u20d0-\\u20ff",Fse=Dse+$se+Lse,Vse="\\ufe0e\\ufe0f",Bse="\\u200d",Use=RegExp("["+Bse+Mse+Fse+Vse+"]");function zse(t){return Use.test(t)}var wF=zse;function Wse(t){return t.split("")}var Hse=Wse,_F="\\ud800-\\udfff",qse="\\u0300-\\u036f",Gse="\\ufe20-\\ufe2f",Kse="\\u20d0-\\u20ff",Yse=qse+Gse+Kse,Xse="\\ufe0e\\ufe0f",Qse="["+_F+"]",Y1="["+Yse+"]",X1="\\ud83c[\\udffb-\\udfff]",Jse="(?:"+Y1+"|"+X1+")",SF="[^"+_F+"]",EF="(?:\\ud83c[\\udde6-\\uddff]){2}",TF="[\\ud800-\\udbff][\\udc00-\\udfff]",Zse="\\u200d",PF=Jse+"?",AF="["+Xse+"]?",eae="(?:"+Zse+"(?:"+[SF,EF,TF].join("|")+")"+AF+PF+")*",tae=AF+PF+eae,nae="(?:"+[SF+Y1+"?",Y1,EF,TF,Qse].join("|")+")",rae=RegExp(X1+"(?="+X1+")|"+nae+tae,"g");function iae(t){return t.match(rae)||[]}var oae=iae,sae=Hse,aae=wF,lae=oae;function cae(t){return aae(t)?lae(t):sae(t)}var uae=cae,dae=Rse,fae=wF,hae=uae,pae=mF;function mae(t){return function(e){e=pae(e);var n=fae(e)?hae(e):void 0,r=n?n[0]:e.charAt(0),i=n?dae(n,1).join(""):e.slice(1);return r[t]()+i}}var gae=mae,yae=gae,vae=yae("toUpperCase"),xae=vae;const Xx=Yt(xae);function Jt(t){return function(){return t}}const CF=Math.cos,Vy=Math.sin,Po=Math.sqrt,By=Math.PI,Qx=2*By,Q1=Math.PI,J1=2*Q1,xl=1e-6,bae=J1-xl;function NF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NF;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NF:wae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>xl)if(!(Math.abs(f*l-c*d)>xl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,x=i-a,g=l*l+c*c,v=m*m+x*x,b=Math.sqrt(g),w=Math.sqrt(h),_=o*Math.tan((Q1-Math.acos((g+h-v)/(2*b*w)))/2),C=_/w,E=_/b;Math.abs(C-1)>xl&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*x)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xl||Math.abs(this._y1-d)>xl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%J1+J1),h>bae?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>xl&&this._append`A${r},${r},0,${+(h>=Q1)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ae(e)}function yP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IF(t){this._context=t}IF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jx(t){return new IF(t)}function jF(t){return t[0]}function kF(t){return t[1]}function OF(t,e){var n=Jt(!0),r=null,i=Jx,o=null,s=gP(a);t=typeof t=="function"?t:t===void 0?jF:Jt(t),e=typeof e=="function"?e:e===void 0?kF:Jt(e);function a(l){var c,d=(l=yP(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Jt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Jt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Jt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Hm(t,e,n){var r=null,i=Jt(!0),o=null,s=Jx,a=null,l=gP(c);t=typeof t=="function"?t:t===void 0?jF:Jt(+t),e=typeof e=="function"?e:Jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?kF:Jt(+n);function c(f){var h,m,x,g=(f=yP(f)).length,v,b=!1,w,_=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=h-1;x>=m;--x)a.point(_[x],C[x]);a.lineEnd(),a.areaEnd()}b&&(_[h]=+t(v,h,f),C[h]=+e(v,h,f),a.point(r?+r(v,h,f):_[h],n?+n(v,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return OF().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Jt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Jt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Jt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class RF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Sae(t){return new RF(t,!0)}function Eae(t){return new RF(t,!1)}const vP={draw(t,e){const n=Po(e/By);t.moveTo(n,0),t.arc(0,0,n,0,Qx)}},Tae={draw(t,e){const n=Po(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},MF=Po(1/3),Pae=MF*2,Aae={draw(t,e){const n=Po(e/Pae),r=n*MF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cae={draw(t,e){const n=Po(e),r=-n/2;t.rect(r,r,n,n)}},Nae=.8908130915292852,DF=Vy(By/10)/Vy(7*By/10),Iae=Vy(Qx/10)*DF,jae=-CF(Qx/10)*DF,kae={draw(t,e){const n=Po(e*Nae),r=Iae*n,i=jae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Qx*o/5,a=CF(s),l=Vy(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Bb=Po(3),Oae={draw(t,e){const n=-Po(e/(Bb*3));t.moveTo(0,n*2),t.lineTo(-Bb*n,-n),t.lineTo(Bb*n,-n),t.closePath()}},Ei=-.5,Ti=Po(3)/2,Z1=1/Po(12),Rae=(Z1/2+1)*3,Mae={draw(t,e){const n=Po(e/Rae),r=n/2,i=n*Z1,o=r,s=n*Z1+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Ei*r-Ti*i,Ti*r+Ei*i),t.lineTo(Ei*o-Ti*s,Ti*o+Ei*s),t.lineTo(Ei*a-Ti*l,Ti*a+Ei*l),t.lineTo(Ei*r+Ti*i,Ei*i-Ti*r),t.lineTo(Ei*o+Ti*s,Ei*s-Ti*o),t.lineTo(Ei*a+Ti*l,Ei*l-Ti*a),t.closePath()}};function Dae(t,e){let n=null,r=gP(i);t=typeof t=="function"?t:Jt(t||vP),e=typeof e=="function"?e:Jt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Jt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Uy(){}function zy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $F(t){this._context=t}$F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ae(t){return new $F(t)}function LF(t){this._context=t}LF.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lae(t){return new LF(t)}function FF(t){this._context=t}FF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fae(t){return new FF(t)}function VF(t){this._context=t}VF.prototype={areaStart:Uy,areaEnd:Uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Vae(t){return new VF(t)}function gj(t){return t<0?-1:1}function yj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(gj(o)+gj(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function vj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ub(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Wy(t){this._context=t}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ub(this,this._t0,vj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ub(this,vj(this,n=yj(this,t,e)),n);break;default:Ub(this,this._t0,n=yj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function BF(t){this._context=new UF(t)}(BF.prototype=Object.create(Wy.prototype)).point=function(t,e){Wy.prototype.point.call(this,e,t)};function UF(t){this._context=t}UF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Bae(t){return new Wy(t)}function Uae(t){return new BF(t)}function zF(t){this._context=t}zF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xj(t),i=xj(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xj(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function zae(t){return new zF(t)}function Zx(t,e){this._context=t,this._t=e}Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Wae(t){return new Zx(t,.5)}function Hae(t){return new Zx(t,0)}function qae(t){return new Zx(t,1)}function Hu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function e_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Gae(t,e){return t[e]}function Kae(t){const e=[];return e.key=t,e}function Yae(){var t=Jt([]),e=e_,n=Hu,r=Gae;function i(o){var s=Array.from(t.apply(this,arguments),Kae),a,l=s.length,c=-1,d;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(f,s[a].key,c,o)]).data=f;for(a=0,d=yP(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Jt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Jt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?e_:typeof o=="function"?o:Jt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Hu,i):n},i}function Xae(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Hu(t,e)}}function Qae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Hu(t,e)}}function Jae(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,x=0;x<a;++x){var g=t[e[x]],v=g[r][1]||0,b=g[r-1][1]||0;m+=v-b}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Hu(t,e)}}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}var Zae=["type","size","sizeType"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return e=tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return Rh(e)=="symbol"?e:e+""}function nle(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rle(t,e){if(t==null)return{};var n=ile(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ile(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WF={symbolCircle:vP,symbolCross:Tae,symbolDiamond:Aae,symbolSquare:Cae,symbolStar:kae,symbolTriangle:Oae,symbolWye:Mae},ole=Math.PI/180,sle=function(e){var n="symbol".concat(Xx(e));return WF[n]||vP},ale=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ole;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lle=function(e,n){WF["symbol".concat(Xx(e))]=n},xP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=rle(e,Zae),c=wj(wj({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=sle(r),b=Dae().type(v).size(ale(o,a,r));return b()},f=c.className,h=c.cx,m=c.cy,x=Pt(c,!0);return h===+h&&m===+m&&o===+o?z.createElement("path",t_({},x,{className:St("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};xP.registerSymbol=lle;function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qF(r.key),r)}}function fle(t,e,n){return e&&dle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t,e,n){return e=Hy(e),ple(t,HF()?Reflect.construct(e,n||[],Hy(t).constructor):e.apply(t,n))}function ple(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mle(t)}function mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!t})()}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hy(t)}function gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function Mh(t,e,n){return e=qF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qF(t){var e=yle(t,"string");return qu(e)=="symbol"?e:e+""}function yle(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pi=32,bP=function(t){function e(){return ule(this,e),hle(this,e,arguments)}return gle(e,t),fle(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Pi/2,s=Pi/6,a=Pi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Pi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Pi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=cle({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(xP,{fill:l,cx:o,cy:o,size:Pi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Pi,height:Pi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,x){var g=m.formatter||l,v=St(Mh(Mh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=xt(m.value)?null:m.value;Bl(!xt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?c:m.color;return z.createElement("li",n_({className:v,style:f,key:"legend-item-".concat(x)},Fy(r.props,m,x)),z.createElement(G1,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,m,x):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(y.PureComponent);Mh(bP,"displayName","Legend");Mh(bP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vle=$x;function xle(){this.__data__=new vle,this.size=0}var ble=xle;function wle(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _le=wle;function Sle(t){return this.__data__.get(t)}var Ele=Sle;function Tle(t){return this.__data__.has(t)}var Ple=Tle,Ale=$x,Cle=aP,Nle=lP,Ile=200;function jle(t,e){var n=this.__data__;if(n instanceof Ale){var r=n.__data__;if(!Cle||r.length<Ile-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nle(r)}return n.set(t,e),this.size=n.size,this}var kle=jle,Ole=$x,Rle=ble,Mle=_le,Dle=Ele,$le=Ple,Lle=kle;function kd(t){var e=this.__data__=new Ole(t);this.size=e.size}kd.prototype.clear=Rle;kd.prototype.delete=Mle;kd.prototype.get=Dle;kd.prototype.has=$le;kd.prototype.set=Lle;var GF=kd,Fle="__lodash_hash_undefined__";function Vle(t){return this.__data__.set(t,Fle),this}var Ble=Vle;function Ule(t){return this.__data__.has(t)}var zle=Ule,Wle=lP,Hle=Ble,qle=zle;function qy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Wle;++e<n;)this.add(t[e])}qy.prototype.add=qy.prototype.push=Hle;qy.prototype.has=qle;var KF=qy;function Gle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var YF=Gle;function Kle(t,e){return t.has(e)}var XF=Kle,Yle=KF,Xle=YF,Qle=XF,Jle=1,Zle=2;function ece(t,e,n,r,i,o){var s=n&Jle,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Zle?new Yle:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var x=t[f],g=e[f];if(r)var v=s?r(g,x,f,e,t,o):r(x,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Xle(e,function(b,w){if(!Qle(m,w)&&(x===b||i(x,b,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(x===g||i(x,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var QF=ece,tce=ls,nce=tce.Uint8Array,rce=nce;function ice(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oce=ice;function sce(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wP=sce,Sj=Lp,Ej=rce,ace=sP,lce=QF,cce=oce,uce=wP,dce=1,fce=2,hce="[object Boolean]",pce="[object Date]",mce="[object Error]",gce="[object Map]",yce="[object Number]",vce="[object RegExp]",xce="[object Set]",bce="[object String]",wce="[object Symbol]",_ce="[object ArrayBuffer]",Sce="[object DataView]",Tj=Sj?Sj.prototype:void 0,zb=Tj?Tj.valueOf:void 0;function Ece(t,e,n,r,i,o,s){switch(n){case Sce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _ce:return!(t.byteLength!=e.byteLength||!o(new Ej(t),new Ej(e)));case hce:case pce:case yce:return ace(+t,+e);case mce:return t.name==e.name&&t.message==e.message;case vce:case bce:return t==e+"";case gce:var a=cce;case xce:var l=r&dce;if(a||(a=uce),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=fce,s.set(t,e);var d=lce(a(t),a(e),r,i,o,s);return s.delete(t),d;case wce:if(zb)return zb.call(t)==zb.call(e)}return!1}var Tce=Ece;function Pce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var JF=Pce,Ace=JF,Cce=ni;function Nce(t,e,n){var r=e(t);return Cce(t)?r:Ace(r,n(t))}var Ice=Nce;function jce(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var kce=jce;function Oce(){return[]}var Rce=Oce,Mce=kce,Dce=Rce,$ce=Object.prototype,Lce=$ce.propertyIsEnumerable,Pj=Object.getOwnPropertySymbols,Fce=Pj?function(t){return t==null?[]:(t=Object(t),Mce(Pj(t),function(e){return Lce.call(t,e)}))}:Dce,Vce=Fce;function Bce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Uce=Bce,zce=qs,Wce=Gs,Hce="[object Arguments]";function qce(t){return Wce(t)&&zce(t)==Hce}var Gce=qce,Aj=Gce,Kce=Gs,ZF=Object.prototype,Yce=ZF.hasOwnProperty,Xce=ZF.propertyIsEnumerable,Qce=Aj(function(){return arguments}())?Aj:function(t){return Kce(t)&&Yce.call(t,"callee")&&!Xce.call(t,"callee")},_P=Qce,Gy={exports:{}};function Jce(){return!1}var Zce=Jce;Gy.exports;(function(t,e){var n=ls,r=Zce,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Gy,Gy.exports);var eV=Gy.exports,eue=9007199254740991,tue=/^(?:0|[1-9]\d*)$/;function nue(t,e){var n=typeof t;return e=e??eue,!!e&&(n=="number"||n!="symbol"&&tue.test(t))&&t>-1&&t%1==0&&t<e}var SP=nue,rue=9007199254740991;function iue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rue}var EP=iue,oue=qs,sue=EP,aue=Gs,lue="[object Arguments]",cue="[object Array]",uue="[object Boolean]",due="[object Date]",fue="[object Error]",hue="[object Function]",pue="[object Map]",mue="[object Number]",gue="[object Object]",yue="[object RegExp]",vue="[object Set]",xue="[object String]",bue="[object WeakMap]",wue="[object ArrayBuffer]",_ue="[object DataView]",Sue="[object Float32Array]",Eue="[object Float64Array]",Tue="[object Int8Array]",Pue="[object Int16Array]",Aue="[object Int32Array]",Cue="[object Uint8Array]",Nue="[object Uint8ClampedArray]",Iue="[object Uint16Array]",jue="[object Uint32Array]",on={};on[Sue]=on[Eue]=on[Tue]=on[Pue]=on[Aue]=on[Cue]=on[Nue]=on[Iue]=on[jue]=!0;on[lue]=on[cue]=on[wue]=on[uue]=on[_ue]=on[due]=on[fue]=on[hue]=on[pue]=on[mue]=on[gue]=on[yue]=on[vue]=on[xue]=on[bue]=!1;function kue(t){return aue(t)&&sue(t.length)&&!!on[oue(t)]}var Oue=kue;function Rue(t){return function(e){return t(e)}}var tV=Rue,Ky={exports:{}};Ky.exports;(function(t,e){var n=cF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Ky,Ky.exports);var Mue=Ky.exports,Due=Oue,$ue=tV,Cj=Mue,Nj=Cj&&Cj.isTypedArray,Lue=Nj?$ue(Nj):Due,nV=Lue,Fue=Uce,Vue=_P,Bue=ni,Uue=eV,zue=SP,Wue=nV,Hue=Object.prototype,que=Hue.hasOwnProperty;function Gue(t,e){var n=Bue(t),r=!n&&Vue(t),i=!n&&!r&&Uue(t),o=!n&&!r&&!i&&Wue(t),s=n||r||i||o,a=s?Fue(t.length,String):[],l=a.length;for(var c in t)(e||que.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zue(c,l)))&&a.push(c);return a}var Kue=Gue,Yue=Object.prototype;function Xue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yue;return t===n}var Que=Xue;function Jue(t,e){return function(n){return t(e(n))}}var rV=Jue,Zue=rV,ede=Zue(Object.keys,Object),tde=ede,nde=Que,rde=tde,ide=Object.prototype,ode=ide.hasOwnProperty;function sde(t){if(!nde(t))return rde(t);var e=[];for(var n in Object(t))ode.call(t,n)&&n!="constructor"&&e.push(n);return e}var ade=sde,lde=oP,cde=EP;function ude(t){return t!=null&&cde(t.length)&&!lde(t)}var e0=ude,dde=Kue,fde=ade,hde=e0;function pde(t){return hde(t)?dde(t):fde(t)}var TP=pde,mde=Ice,gde=Vce,yde=TP;function vde(t){return mde(t,yde,gde)}var xde=vde,Ij=xde,bde=1,wde=Object.prototype,_de=wde.hasOwnProperty;function Sde(t,e,n,r,i,o){var s=n&bde,a=Ij(t),l=a.length,c=Ij(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:_de.call(e,h)))return!1}var m=o.get(t),x=o.get(e);if(m&&x)return m==e&&x==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var b=t[h],w=e[h];if(r)var _=s?r(w,b,h,e,t,o):r(b,w,h,t,e,o);if(!(_===void 0?b===w||i(b,w,n,r,o):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Ede=Sde,Tde=pc,Pde=ls,Ade=Tde(Pde,"DataView"),Cde=Ade,Nde=pc,Ide=ls,jde=Nde(Ide,"Promise"),kde=jde,Ode=pc,Rde=ls,Mde=Ode(Rde,"Set"),iV=Mde,Dde=pc,$de=ls,Lde=Dde($de,"WeakMap"),Fde=Lde,i_=Cde,o_=aP,s_=kde,a_=iV,l_=Fde,oV=qs,Od=dF,jj="[object Map]",Vde="[object Object]",kj="[object Promise]",Oj="[object Set]",Rj="[object WeakMap]",Mj="[object DataView]",Bde=Od(i_),Ude=Od(o_),zde=Od(s_),Wde=Od(a_),Hde=Od(l_),bl=oV;(i_&&bl(new i_(new ArrayBuffer(1)))!=Mj||o_&&bl(new o_)!=jj||s_&&bl(s_.resolve())!=kj||a_&&bl(new a_)!=Oj||l_&&bl(new l_)!=Rj)&&(bl=function(t){var e=oV(t),n=e==Vde?t.constructor:void 0,r=n?Od(n):"";if(r)switch(r){case Bde:return Mj;case Ude:return jj;case zde:return kj;case Wde:return Oj;case Hde:return Rj}return e});var qde=bl,Wb=GF,Gde=QF,Kde=Tce,Yde=Ede,Dj=qde,$j=ni,Lj=eV,Xde=nV,Qde=1,Fj="[object Arguments]",Vj="[object Array]",qm="[object Object]",Jde=Object.prototype,Bj=Jde.hasOwnProperty;function Zde(t,e,n,r,i,o){var s=$j(t),a=$j(e),l=s?Vj:Dj(t),c=a?Vj:Dj(e);l=l==Fj?qm:l,c=c==Fj?qm:c;var d=l==qm,f=c==qm,h=l==c;if(h&&Lj(t)){if(!Lj(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Wb),s||Xde(t)?Gde(t,e,n,r,i,o):Kde(t,e,l,n,r,i,o);if(!(n&Qde)){var m=d&&Bj.call(t,"__wrapped__"),x=f&&Bj.call(e,"__wrapped__");if(m||x){var g=m?t.value():t,v=x?e.value():e;return o||(o=new Wb),i(g,v,n,r,o)}}return h?(o||(o=new Wb),Yde(t,e,n,r,i,o)):!1}var efe=Zde,tfe=efe,Uj=Gs;function sV(t,e,n,r,i){return t===e?!0:t==null||e==null||!Uj(t)&&!Uj(e)?t!==t&&e!==e:tfe(t,e,n,r,sV,i)}var PP=sV,nfe=GF,rfe=PP,ife=1,ofe=2;function sfe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new nfe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?rfe(d,c,ife|ofe,r,f):h))return!1}}return!0}var afe=sfe,lfe=sl;function cfe(t){return t===t&&!lfe(t)}var aV=cfe,ufe=aV,dfe=TP;function ffe(t){for(var e=dfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ufe(i)]}return e}var hfe=ffe;function pfe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var lV=pfe,mfe=afe,gfe=hfe,yfe=lV;function vfe(t){var e=gfe(t);return e.length==1&&e[0][2]?yfe(e[0][0],e[0][1]):function(n){return n===t||mfe(n,t,e)}}var xfe=vfe;function bfe(t,e){return t!=null&&e in Object(t)}var wfe=bfe,_fe=gF,Sfe=_P,Efe=ni,Tfe=SP,Pfe=EP,Afe=Fx;function Cfe(t,e,n){e=_fe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Afe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Pfe(i)&&Tfe(s,i)&&(Efe(t)||Sfe(t)))}var Nfe=Cfe,Ife=wfe,jfe=Nfe;function kfe(t,e){return t!=null&&jfe(t,e,Ife)}var Ofe=kfe,Rfe=PP,Mfe=yF,Dfe=Ofe,$fe=iP,Lfe=aV,Ffe=lV,Vfe=Fx,Bfe=1,Ufe=2;function zfe(t,e){return $fe(t)&&Lfe(e)?Ffe(Vfe(t),e):function(n){var r=Mfe(n,t);return r===void 0&&r===e?Dfe(n,t):Rfe(e,r,Bfe|Ufe)}}var Wfe=zfe;function Hfe(t){return t}var Rd=Hfe;function qfe(t){return function(e){return e==null?void 0:e[t]}}var Gfe=qfe,Kfe=dP;function Yfe(t){return function(e){return Kfe(e,t)}}var Xfe=Yfe,Qfe=Gfe,Jfe=Xfe,Zfe=iP,ehe=Fx;function the(t){return Zfe(t)?Qfe(ehe(t)):Jfe(t)}var nhe=the,rhe=xfe,ihe=Wfe,ohe=Rd,she=ni,ahe=nhe;function lhe(t){return typeof t=="function"?t:t==null?ohe:typeof t=="object"?she(t)?ihe(t[0],t[1]):rhe(t):ahe(t)}var Md=lhe;function che(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var uhe=che;function dhe(t){return t!==t}var fhe=dhe;function hhe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var phe=hhe,mhe=uhe,ghe=fhe,yhe=phe;function vhe(t,e,n){return e===e?yhe(t,e,n):mhe(t,ghe,n)}var xhe=vhe,bhe=xhe;function whe(t,e){var n=t==null?0:t.length;return!!n&&bhe(t,e,0)>-1}var _he=whe;function She(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ehe=She;function The(){}var Phe=The,Hb=iV,Ahe=Phe,Che=wP,Nhe=1/0,Ihe=Hb&&1/Che(new Hb([,-0]))[1]==Nhe?function(t){return new Hb(t)}:Ahe,jhe=Ihe,khe=KF,Ohe=_he,Rhe=Ehe,Mhe=XF,Dhe=jhe,$he=wP,Lhe=200;function Fhe(t,e,n){var r=-1,i=Ohe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Rhe;else if(o>=Lhe){var c=e?null:Dhe(t);if(c)return $he(c);s=!1,i=Mhe,l=new khe}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var Vhe=Fhe,Bhe=Md,Uhe=Vhe;function zhe(t,e){return t&&t.length?Uhe(t,Bhe(e)):[]}var Whe=zhe;const zj=Yt(Whe);function cV(t,e,n){return e===!0?zj(t,n):xt(e)?zj(t,e):t}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var Hhe=["ref"];function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function Ghe(t,e,n){return e&&Hj(t.prototype,e),n&&Hj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Khe(t,e,n){return e=Yy(e),Yhe(t,uV()?Reflect.construct(e,n||[],Yy(t).constructor):e.apply(t,n))}function Yhe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(t)}function Xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yy(t)}function Qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function t0(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=Jhe(t,"string");return Gu(e)=="symbol"?e:e+""}function Jhe(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t,e){if(t==null)return{};var n=epe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tpe(t){return t.value}function npe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=Zhe(e,Hhe);return z.createElement(bP,n)}var qj=1,fu=function(t){function e(){var n;qhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Khe(this,e,[].concat(i)),t0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Qhe(e,t),Ghe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qj||Math.abs(i.height-this.lastBoundingBox.height)>qj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fs(fs({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=fs(fs({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},npe(o,fs(fs({},this.props),{},{payload:cV(d,c,tpe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fs(fs({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Ee(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(y.PureComponent);t0(fu,"displayName","Legend");t0(fu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gj=Lp,rpe=_P,ipe=ni,Kj=Gj?Gj.isConcatSpreadable:void 0;function ope(t){return ipe(t)||rpe(t)||!!(Kj&&t&&t[Kj])}var spe=ope,ape=JF,lpe=spe;function fV(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=lpe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?fV(a,e-1,n,r,i):ape(i,a):r||(i[i.length]=a)}return i}var hV=fV;function cpe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var upe=cpe,dpe=upe,fpe=dpe(),hpe=fpe,ppe=hpe,mpe=TP;function gpe(t,e){return t&&ppe(t,e,mpe)}var pV=gpe,ype=e0;function vpe(t,e){return function(n,r){if(n==null)return n;if(!ype(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var xpe=vpe,bpe=pV,wpe=xpe,_pe=wpe(bpe),AP=_pe,Spe=AP,Epe=e0;function Tpe(t,e){var n=-1,r=Epe(t)?Array(t.length):[];return Spe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var mV=Tpe;function Ppe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ape=Ppe,Yj=Ad;function Cpe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Yj(t),s=e!==void 0,a=e===null,l=e===e,c=Yj(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Npe=Cpe,Ipe=Npe;function jpe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Ipe(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var kpe=jpe,qb=uP,Ope=dP,Rpe=Md,Mpe=mV,Dpe=Ape,$pe=tV,Lpe=kpe,Fpe=Rd,Vpe=ni;function Bpe(t,e,n){e.length?e=qb(e,function(o){return Vpe(o)?function(s){return Ope(s,o.length===1?o[0]:o)}:o}):e=[Fpe];var r=-1;e=qb(e,$pe(Rpe));var i=Mpe(t,function(o,s,a){var l=qb(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Dpe(i,function(o,s){return Lpe(o,s,n)})}var Upe=Bpe;function zpe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Wpe=zpe,Hpe=Wpe,Xj=Math.max;function qpe(t,e,n){return e=Xj(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Xj(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Hpe(t,this,a)}}var Gpe=qpe;function Kpe(t){return function(){return t}}var Ype=Kpe,Xpe=pc,Qpe=function(){try{var t=Xpe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gV=Qpe,Jpe=Ype,Qj=gV,Zpe=Rd,eme=Qj?function(t,e){return Qj(t,"toString",{configurable:!0,enumerable:!1,value:Jpe(e),writable:!0})}:Zpe,tme=eme,nme=800,rme=16,ime=Date.now;function ome(t){var e=0,n=0;return function(){var r=ime(),i=rme-(r-n);if(n=r,i>0){if(++e>=nme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sme=ome,ame=tme,lme=sme,cme=lme(ame),ume=cme,dme=Rd,fme=Gpe,hme=ume;function pme(t,e){return hme(fme(t,e,dme),t+"")}var mme=pme,gme=sP,yme=e0,vme=SP,xme=sl;function bme(t,e,n){if(!xme(n))return!1;var r=typeof e;return(r=="number"?yme(n)&&vme(e,n.length):r=="string"&&e in n)?gme(n[e],t):!1}var n0=bme,wme=hV,_me=Upe,Sme=mme,Jj=n0,Eme=Sme(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Jj(t,e[0],e[1])?e=[]:n>2&&Jj(e[0],e[1],e[2])&&(e=[e[0]]),_me(t,wme(e,1),[])}),Tme=Eme;const CP=Yt(Tme);function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function Pme(t,e){return Ime(t)||Nme(t,e)||Cme(t,e)||Ame()}function Ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(t,e){if(t){if(typeof t=="string")return Zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Ime(t){if(Array.isArray(t))return t}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jme(t,e,n){return e=kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Ome(t,"string");return Dh(e)=="symbol"?e:e+""}function Ome(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rme(t){return Array.isArray(t)&&Yn(t[0])&&Yn(t[1])?t.join(" ~ "):t}var Mme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?CP(d,h):d).map(function(L,B){if(L.type==="none")return null;var U=Gb({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a),W=L.formatter||f||Rme,F=L.value,V=L.name,ee=F,Q=V;if(W&&ee!=null&&Q!=null){var ne=W(F,V,L,B,d);if(Array.isArray(ne)){var ge=Pme(ne,2);ee=ge[0],Q=ge[1]}else ee=ne}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},Yn(Q)?z.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Yn(Q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ee),z.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},C=Gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Gb({margin:0},c),N=!gt(g),S=N?g:"",P=St("recharts-default-tooltip",m),A=St("recharts-tooltip-label",x);N&&v&&d!==void 0&&d!==null&&(S=v(g,d));var k=w?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",u_({className:P,style:C},k),z.createElement("p",{className:A,style:E},z.isValidElement(S)?S:"".concat(S)),_())};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function Gm(t,e,n){return e=Dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=$me(t,"string");return $h(e)=="symbol"?e:e+""}function $me(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rf="recharts-tooltip-wrapper",Lme={visibility:"hidden"};function Fme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return St(rf,Gm(Gm(Gm(Gm({},"".concat(rf,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(rf,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(rf,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(rf,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function tk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Ee(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var x=f+a,g=l[r]+c;return x>g?Math.max(d,l[r]):Math.max(f,l[r])}function Vme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Bme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=tk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=tk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Vme({translateX:d,translateY:f,useTranslate3d:a})):c=Lme,{cssProperties:c,cssClasses:Fme({translateX:d,translateY:f,coordinate:n})}}function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vV(r.key),r)}}function Wme(t,e,n){return e&&zme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hme(t,e,n){return e=Xy(e),qme(t,yV()?Reflect.construct(e,n||[],Xy(t).constructor):e.apply(t,n))}function qme(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(t)}function Gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xy(t)}function Kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function f_(t,e,n){return e=vV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vV(t){var e=Yme(t,"string");return Ku(e)=="symbol"?e:e+""}function Yme(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ik=1,Xme=function(t){function e(){var n;Ume(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Hme(this,e,[].concat(i)),f_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Kme(e,t),Wme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ik||Math.abs(r.height-this.state.lastBoundingBox.height)>ik)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,x=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,_=Bme({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),C=_.cssClasses,E=_.cssProperties,N=rk(rk({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return z.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(P){r.wrapperNode=P}},c)}}])}(y.PureComponent),Qme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},As={isSsr:Qme(),get:function(e){return As[e]},set:function(e,n){if(typeof e=="string")As[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){As[i]=e[i]})}}};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){NP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function ege(t,e,n){return e&&Zme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tge(t,e,n){return e=Qy(e),nge(t,xV()?Reflect.construct(e,n||[],Qy(t).constructor):e.apply(t,n))}function nge(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(t)}function rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qy(t)}function ige(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h_(t,e)}function NP(t,e,n){return e=bV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t){var e=oge(t,"string");return Yu(e)=="symbol"?e:e+""}function oge(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t){return t.dataKey}function age(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(Mme,e)}var Mo=function(t){function e(){return Jme(this,e),tge(this,e,arguments)}return ige(e,t),ege(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,x=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,E=x??[];f&&E.length&&(E=cV(x.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,sge));var N=E.length>0;return z.createElement(Xme,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:C},age(c,sk(sk({},this.props),{},{payload:E})))}}])}(y.PureComponent);NP(Mo,"displayName","Tooltip");NP(Mo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!As.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lge=ls,cge=function(){return lge.Date.now()},uge=cge,dge=/\s/;function fge(t){for(var e=t.length;e--&&dge.test(t.charAt(e)););return e}var hge=fge,pge=hge,mge=/^\s+/;function gge(t){return t&&t.slice(0,pge(t)+1).replace(mge,"")}var yge=gge,vge=yge,ak=sl,xge=Ad,lk=NaN,bge=/^[-+]0x[0-9a-f]+$/i,wge=/^0b[01]+$/i,_ge=/^0o[0-7]+$/i,Sge=parseInt;function Ege(t){if(typeof t=="number")return t;if(xge(t))return lk;if(ak(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ak(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vge(t);var n=wge.test(t);return n||_ge.test(t)?Sge(t.slice(2),n?2:8):bge.test(t)?lk:+t}var wV=Ege,Tge=sl,Kb=uge,ck=wV,Pge="Expected a function",Age=Math.max,Cge=Math.min;function Nge(t,e,n){var r,i,o,s,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Pge);e=ck(e)||0,Tge(n)&&(d=!!n.leading,f="maxWait"in n,o=f?Age(ck(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(N){var S=r,P=i;return r=i=void 0,c=N,s=t.apply(P,S),s}function x(N){return c=N,a=setTimeout(b,e),d?m(N):s}function g(N){var S=N-l,P=N-c,A=e-S;return f?Cge(A,o-P):A}function v(N){var S=N-l,P=N-c;return l===void 0||S>=e||S<0||f&&P>=o}function b(){var N=Kb();if(v(N))return w(N);a=setTimeout(b,g(N))}function w(N){return a=void 0,h&&r?m(N):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Kb())}function E(){var N=Kb(),S=v(N);if(r=arguments,i=this,l=N,S){if(a===void 0)return x(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),s}return E.cancel=_,E.flush=C,E}var Ige=Nge,jge=Ige,kge=sl,Oge="Expected a function";function Rge(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Oge);return kge(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jge(t,e,{leading:r,maxWait:e,trailing:i})}var Mge=Rge;const _V=Yt(Mge);function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){Dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dge(t,e,n){return e=$ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Lge(t,"string");return Lh(e)=="symbol"?e:e+""}function Lge(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fge(t,e){return zge(t)||Uge(t,e)||Bge(t,e)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(t,e){if(t){if(typeof t=="string")return dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function zge(t){if(Array.isArray(t))return t}var Wge=y.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,x=t.debounce,g=x===void 0?0:x,v=t.id,b=t.className,w=t.onResize,_=t.style,C=_===void 0?{}:_,E=y.useRef(null),N=y.useRef();N.current=w,y.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=y.useState({containerWidth:i.width,containerHeight:i.height}),P=Fge(S,2),A=P[0],k=P[1],I=y.useCallback(function(R,L){k(function(B){var U=Math.round(R),W=Math.round(L);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);y.useEffect(function(){var R=function(V){var ee,Q=V[0].contentRect,ne=Q.width,ge=Q.height;I(ne,ge),(ee=N.current)===null||ee===void 0||ee.call(N,ne,ge)};g>0&&(R=_V(R,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(R),B=E.current.getBoundingClientRect(),U=B.width,W=B.height;return I(U,W),L.observe(E.current),function(){L.disconnect()}},[I,g]);var O=y.useMemo(function(){var R=A.containerWidth,L=A.containerHeight;if(R<0||L<0)return null;Bl(Al(s)||Al(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Bl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Al(s)?R:s,U=Al(l)?L:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),Bl(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,s,l,d,f,n);var W=!Array.isArray(m)&&Ps(m.type).endsWith("Chart");return z.Children.map(m,function(F){return z.isValidElement(F)?y.cloneElement(F,Km({width:B,height:U},W?{style:Km({height:"100%",width:"100%",maxHeight:U,maxWidth:B},F.props.style)}:{})):F})},[n,m,l,h,f,d,A,s]);return z.createElement("div",{id:v?"".concat(v):void 0,className:St("recharts-responsive-container",b),style:Km(Km({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),SV=function(e){return null};SV.displayName="Cell";function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hge(t,e,n){return e=qge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qge(t){var e=Gge(t,"string");return Fh(e)=="symbol"?e:e+""}function Gge(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ac={widthCache:{},cacheCount:0},Kge=2e3,Yge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hk="recharts_measurement_span";function Xge(t){var e=p_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||As.isSsr)return{width:0,height:0};var r=Xge(n),i=JSON.stringify({text:e,copyStyle:r});if(Ac.widthCache[i])return Ac.widthCache[i];try{var o=document.getElementById(hk);o||(o=document.createElement("span"),o.setAttribute("id",hk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=p_(p_({},Yge),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Ac.widthCache[i]=l,++Ac.cacheCount>Kge&&(Ac.cacheCount=0,Ac.widthCache={}),l}catch{return{width:0,height:0}}},Qge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Jy(t,e){return tye(t)||eye(t,e)||Zge(t,e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(t,e){if(t){if(typeof t=="string")return pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(t,e)}}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function tye(t){if(Array.isArray(t))return t}function nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iye(r.key),r)}}function rye(t,e,n){return e&&mk(t.prototype,e),n&&mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iye(t){var e=oye(t,"string");return Vh(e)=="symbol"?e:e+""}function oye(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lye=Object.keys(EV),Kc="NaN";function cye(t,e){return t*EV[e]}var Ym=function(){function t(e,n){nye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!sye.test(n)&&(this.num=NaN,this.unit=""),lye.includes(n)&&(this.num=cye(e,n),this.unit="px")}return rye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=aye.exec(n))!==null&&r!==void 0?r:[],o=Jy(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function TV(t){if(t.includes(Kc))return Kc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=gk.exec(e))!==null&&n!==void 0?n:[],i=Jy(r,4),o=i[1],s=i[2],a=i[3],l=Ym.parse(o??""),c=Ym.parse(a??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Kc;e=e.replace(gk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=yk.exec(e))!==null&&f!==void 0?f:[],m=Jy(h,4),x=m[1],g=m[2],v=m[3],b=Ym.parse(x??""),w=Ym.parse(v??""),_=g==="+"?b.add(w):b.subtract(w);if(_.isNaN())return Kc;e=e.replace(yk,_.toString())}return e}var vk=/\(([^()]*)\)/;function uye(t){for(var e=t;e.includes("(");){var n=vk.exec(e),r=Jy(n,2),i=r[1];e=e.replace(vk,TV(i))}return e}function dye(t){var e=t.replace(/\s+/g,"");return e=uye(e),e=TV(e),e}function fye(t){try{return dye(t)}catch{return Kc}}function Yb(t){var e=fye(t.slice(5,-1));return e===Kc?"":e}var hye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pye=["dx","dy","angle","className","breakAll"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function xk(t,e){if(t==null)return{};var n=mye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bk(t,e){return xye(t)||vye(t,e)||yye(t,e)||gye()}function gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yye(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function xye(t){if(Array.isArray(t))return t}var PV=/[ \f\n\r\t\v\u2028\u2029]+/,AV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];gt(n)||(r?o=n.toString().split(""):o=n.toString().split(PV));var s=o.map(function(l){return{word:l,width:Hf(l,i).width}}),a=r?0:Hf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},bye=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=Ee(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var F=W.word,V=W.width,ee=U[U.length-1];if(ee&&(i==null||o||ee.width+V+r<Number(i)))ee.words.push(F),ee.width+=V+r;else{var Q={words:[F],width:V};U.push(Q)}return U},[])},m=h(n),x=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",v=function(B){var U=f.slice(0,B),W=AV({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,F=h(W),V=F.length>s||x(F).width>Number(i);return[V,F]},b=0,w=f.length-1,_=0,C;b<=w&&_<=f.length-1;){var E=Math.floor((b+w)/2),N=E-1,S=v(N),P=bk(S,2),A=P[0],k=P[1],I=v(E),O=bk(I,1),R=O[0];if(!A&&!R&&(b=E+1),A&&R&&(w=E-1),!A&&R){C=k;break}_++}return C||m},_k=function(e){var n=gt(e)?[]:e.toString().split(PV);return[{words:n}]},wye=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!As.isSsr){var l,c,d=AV({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return _k(i);return bye({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return _k(i)},Sk="#808080",Zy=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,x=e.verticalAnchor,g=x===void 0?"end":x,v=e.fill,b=v===void 0?Sk:v,w=xk(e,hye),_=y.useMemo(function(){return wye({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,E=w.dy,N=w.angle,S=w.className,P=w.breakAll,A=xk(w,pye);if(!Yn(r)||!Yn(o))return null;var k=r+(Ee(C)?C:0),I=o+(Ee(E)?E:0),O;switch(g){case"start":O=Yb("calc(".concat(c,")"));break;case"middle":O=Yb("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:O=Yb("calc(".concat(_.length-1," * -").concat(a,")"));break}var R=[];if(f){var L=_[0].width,B=w.width;R.push("scale(".concat((Ee(B)?B/L:1)/L,")"))}return N&&R.push("rotate(".concat(N,", ").concat(k,", ").concat(I,")")),R.length&&(A.transform=R.join(" ")),z.createElement("text",m_({},Pt(A,!0),{x:k,y:I,className:St("recharts-text",S),textAnchor:m,fill:b.includes("url")?Sk:b}),_.map(function(U,W){var F=U.words.join(P?"":" ");return z.createElement("tspan",{x:k,dy:W===0?O:a,key:"".concat(F,"-").concat(W)},F)}))};function Ua(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _ye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IP(t){let e,n,r;t.length!==2?(e=Ua,n=(a,l)=>Ua(t(a),l),r=(a,l)=>t(a)-l):(e=t===Ua||t===_ye?t:Sye,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Sye(){return 0}function CV(t){return t===null?NaN:+t}function*Eye(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Tye=IP(Ua),Bp=Tye.right;IP(CV).center;class Ek extends Map{constructor(e,n=Cye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Tk(this,e))}has(e){return super.has(Tk(this,e))}set(e,n){return super.set(Pye(this,e),n)}delete(e){return super.delete(Aye(this,e))}}function Tk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pye({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Aye({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Cye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nye(t=Ua){if(t===Ua)return NV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Iye=Math.sqrt(50),jye=Math.sqrt(10),kye=Math.sqrt(2);function ev(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Iye?10:o>=jye?5:o>=kye?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?ev(t,e,n*2):[a,l,c]}function g_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?ev(e,t,n):ev(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function y_(t,e,n){return e=+e,t=+t,n=+n,ev(t,e,n)[2]}function v_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?y_(e,t,n):y_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Pk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Ak(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function IV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NV:Nye(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),x=Math.min(r,Math.floor(e+(l-c)*f/l+h));IV(t,e,m,x,i)}const o=t[e];let s=n,a=r;for(of(t,n,e),i(t[r],o)>0&&of(t,n,r);s<a;){for(of(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?of(t,n,a):(++a,of(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function of(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Oye(t,e,n){if(t=Float64Array.from(Eye(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ak(t);if(e>=1)return Pk(t);var r,i=(r-1)*e,o=Math.floor(i),s=Pk(IV(t,o).subarray(0,o+1)),a=Ak(t.subarray(o+1));return s+(a-s)*(i-o)}}function Rye(t,e,n=CV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Mye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x_=Symbol("implicit");function jP(){var t=new Ek,e=[],n=[],r=x_;function i(o){let s=t.get(o);if(s===void 0){if(r!==x_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ek;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jP(e,n).unknown(r)},Ki.apply(i,arguments),i}function Bh(){var t=jP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,x=m?i:r,g=m?r:i;o=(g-x)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),x+=(g-x-o*(h-l))*d,s=o*(1-l),a&&(x=Math.round(x),s=Math.round(s));var v=Mye(h).map(function(b){return x+o*b});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Bh(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Ki.apply(f(),arguments)}function jV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jV(e())},t}function qf(){return jV(Bh.apply(null,arguments).paddingInner(1))}function kP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Up(){}var Uh=.7,tv=1/Uh,hu="\\s*([+-]?\\d+)\\s*",zh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dye=/^#([0-9a-f]{3,8})$/,$ye=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),Lye=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),Fye=new RegExp(`^rgba\\(${hu},${hu},${hu},${zh}\\)$`),Vye=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${zh}\\)$`),Bye=new RegExp(`^hsl\\(${zh},${Zo},${Zo}\\)$`),Uye=new RegExp(`^hsla\\(${zh},${Zo},${Zo},${zh}\\)$`),Ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kP(Up,Wh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nk,formatHex:Nk,formatHex8:zye,formatHsl:Wye,formatRgb:Ik,toString:Ik});function Nk(){return this.rgb().formatHex()}function zye(){return this.rgb().formatHex8()}function Wye(){return OV(this).formatHsl()}function Ik(){return this.rgb().formatRgb()}function Wh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jk(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$ye.exec(t))?new Jr(e[1],e[2],e[3],1):(e=Lye.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fye.exec(t))?Xm(e[1],e[2],e[3],e[4]):(e=Vye.exec(t))?Xm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bye.exec(t))?Rk(e[1],e[2]/100,e[3]/100,1):(e=Uye.exec(t))?Rk(e[1],e[2]/100,e[3]/100,e[4]):Ck.hasOwnProperty(t)?jk(Ck[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function jk(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function Xm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function Hye(t){return t instanceof Up||(t=Wh(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function b_(t,e,n,r){return arguments.length===1?Hye(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kP(Jr,b_,kV(Up,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(Ul(this.r),Ul(this.g),Ul(this.b),nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kk,formatHex:kk,formatHex8:qye,formatRgb:Ok,toString:Ok}));function kk(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}`}function qye(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}${Cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ok(){const t=nv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ul(this.r)}, ${Ul(this.g)}, ${Ul(this.b)}${t===1?")":`, ${t})`}`}function nv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ul(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cl(t){return t=Ul(t),(t<16?"0":"")+t.toString(16)}function Rk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new po(t,e,n,r)}function OV(t){if(t instanceof po)return new po(t.h,t.s,t.l,t.opacity);if(t instanceof Up||(t=Wh(t)),!t)return new po;if(t instanceof po)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new po(s,a,l,t.opacity)}function Gye(t,e,n,r){return arguments.length===1?OV(t):new po(t,e,n,r??1)}function po(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kP(po,Gye,kV(Up,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(Xb(t>=240?t-240:t+120,i,r),Xb(t,i,r),Xb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new po(Mk(this.h),Qm(this.s),Qm(this.l),nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nv(this.opacity);return`${t===1?"hsl(":"hsla("}${Mk(this.h)}, ${Qm(this.s)*100}%, ${Qm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Mk(t){return t=(t||0)%360,t<0?t+360:t}function Qm(t){return Math.max(0,Math.min(1,t||0))}function Xb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OP=t=>()=>t;function Kye(t,e){return function(n){return t+n*e}}function Yye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xye(t){return(t=+t)==1?RV:function(e,n){return n-e?Yye(e,n,t):OP(isNaN(e)?n:e)}}function RV(t,e){var n=e-t;return n?Kye(t,n):OP(isNaN(t)?e:t)}const Dk=function t(e){var n=Xye(e);function r(i,o){var s=n((i=b_(i)).r,(o=b_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=RV(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Qye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Jye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Dd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function eve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function rv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var w_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qb=new RegExp(w_.source,"g");function nve(t){return function(){return t}}function rve(t){return function(e){return t(e)+""}}function ive(t,e){var n=w_.lastIndex=Qb.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=w_.exec(t))&&(i=Qb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:rv(r,i)})),n=Qb.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?rve(l[0].x):nve(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function Dd(t,e){var n=typeof e,r;return e==null||n==="boolean"?OP(e):(n==="number"?rv:n==="string"?(r=Wh(e))?(e=r,Dk):ive:e instanceof Wh?Dk:e instanceof Date?eve:Jye(e)?Qye:Array.isArray(e)?Zye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tve:rv)(t,e)}function RP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ove(t,e){e===void 0&&(e=t,t=Dd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function sve(t){return function(){return t}}function iv(t){return+t}var $k=[0,1];function Ur(t){return t}function __(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sve(isNaN(e)?NaN:.5)}function ave(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lve(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=__(i,r),o=n(s,o)):(r=__(r,i),o=n(o,s)),function(a){return o(r(a))}}function cve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=__(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Bp(t,a,1,r)-1;return o[l](i[l](a))}}function zp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function r0(){var t=$k,e=$k,n=Dd,r,i,o,s=Ur,a,l,c;function d(){var h=Math.min(t.length,e.length);return s!==Ur&&(s=ave(t[0],t[h-1])),a=h>2?cve:lve,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),rv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,iv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=RP,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Ur,d()):s!==Ur},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function MP(){return r0()(Ur,Ur)}function uve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ov(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xu(t){return t=ov(Math.abs(t)),t?t[1]:NaN}function dve(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function fve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hh(t){if(!(e=hve.exec(t)))throw new Error("invalid format: "+t);var e;return new DP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hh.prototype=DP.prototype;function DP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var MV;function mve(t,e){var n=ov(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(MV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ov(t,Math.max(0,e+o-1))[0]}function Lk(t,e){var n=ov(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Lk(t*100,e),r:Lk,s:mve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vk(t){return t}var Bk=Array.prototype.map,Uk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gve(t){var e=t.grouping===void 0||t.thousands===void 0?Vk:dve(Bk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Vk:fve(Bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Hh(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,v=f.zero,b=f.width,w=f.comma,_=f.precision,C=f.trim,E=f.type;E==="n"?(w=!0,E="g"):Fk[E]||(_===void 0&&(_=12),C=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=g==="$"?r:/[%p]/.test(E)?s:"",P=Fk[E],A=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(I){var O=N,R=S,L,B,U;if(E==="c")R=P(I)+R,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?l:P(Math.abs(I),_),C&&(I=pve(I)),W&&+I==0&&x!=="+"&&(W=!1),O=(W?x==="("?x:a:x==="-"||x==="("?"":x)+O,R=(E==="s"?Uk[8+MV/3]:"")+R+(W&&x==="("?")":""),A){for(L=-1,B=I.length;++L<B;)if(U=I.charCodeAt(L),48>U||U>57){R=(U===46?i+I.slice(L+1):I.slice(L))+R,I=I.slice(0,L);break}}}w&&!v&&(I=e(I,1/0));var F=O.length+I.length+R.length,V=F<b?new Array(b-F+1).join(h):"";switch(w&&v&&(I=e(V+I,V.length?b-R.length:1/0),V=""),m){case"<":I=O+I+R+V;break;case"=":I=O+V+I+R;break;case"^":I=V.slice(0,F=V.length>>1)+O+I+R+V.slice(F);break;default:I=V+O+I+R;break}return o(I)}return k.toString=function(){return f+""},k}function d(f,h){var m=c((f=Hh(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Xu(h)/3)))*3,g=Math.pow(10,-x),v=Uk[8+x/3];return function(b){return m(g*b)+v}}return{format:c,formatPrefix:d}}var Jm,$P,DV;yve({thousands:",",grouping:[3],currency:["$",""]});function yve(t){return Jm=gve(t),$P=Jm.format,DV=Jm.formatPrefix,Jm}function vve(t){return Math.max(0,-Xu(Math.abs(t)))}function xve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xu(e)/3)))*3-Xu(Math.abs(t)))}function bve(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xu(e)-Xu(t))+1}function $V(t,e,n,r){var i=v_(t,e,n),o;switch(r=Hh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=xve(i,s))&&(r.precision=o),DV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bve(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=vve(i))&&(r.precision=o-(r.type==="%")*2);break}}return $P(r)}function al(t){var e=t.domain;return t.ticks=function(n){var r=e();return g_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $V(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,d=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);d-- >0;){if(c=y_(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function sv(){var t=MP();return t.copy=function(){return zp(t,sv())},Ki.apply(t,arguments),al(t)}function LV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return LV(t).unknown(e)},t=arguments.length?Array.from(t,iv):[0,1],al(n)}function FV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function zk(t){return Math.log(t)}function Wk(t){return Math.exp(t)}function wve(t){return-Math.log(-t)}function _ve(t){return-Math.exp(-t)}function Sve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Eve(t){return t===10?Sve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Hk(t){return(e,n)=>-t(-e,n)}function LP(t){const e=t(zk,Wk),n=e.domain;let r=10,i,o;function s(){return i=Tve(r),o=Eve(r),n()[0]<0?(i=Hk(i),o=Hk(o),t(wve,_ve)):t(zk,Wk),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),x,g;const v=a==null?10:+a;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(x=1;x<r;++x)if(g=h<0?x/o(-h):x*o(h),!(g<c)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(x=r-1;x>=1;--x)if(g=h>0?x/o(-h):x*o(h),!(g<c)){if(g>d)break;b.push(g)}b.length*2<v&&(b=g_(c,d,v))}else b=g_(h,m,Math.min(m-h,v)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Hh(l)).precision==null&&(l.trim=!0),l=$P(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(FV(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function VV(){const t=LP(r0()).domain([1,10]);return t.copy=()=>zp(t,VV()).base(t.base()),Ki.apply(t,arguments),t}function qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function FP(t){var e=1,n=t(qk(e),Gk(e));return n.constant=function(r){return arguments.length?t(qk(e=+r),Gk(e)):e},al(n)}function BV(){var t=FP(r0());return t.copy=function(){return zp(t,BV()).constant(t.constant())},Ki.apply(t,arguments)}function Kk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ave(t){return t<0?-t*t:t*t}function VP(t){var e=t(Ur,Ur),n=1;function r(){return n===1?t(Ur,Ur):n===.5?t(Pve,Ave):t(Kk(n),Kk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},al(e)}function BP(){var t=VP(r0());return t.copy=function(){return zp(t,BP()).exponent(t.exponent())},Ki.apply(t,arguments),t}function Cve(){return BP.apply(null,arguments).exponent(.5)}function Yk(t){return Math.sign(t)*t*t}function Nve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UV(){var t=MP(),e=[0,1],n=!1,r;function i(o){var s=Nve(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Yk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,iv)).map(Yk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return UV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),al(i)}function zV(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Rye(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Bp(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ua),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return zV().domain(t).range(e).unknown(r)},Ki.apply(o,arguments)}function WV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Bp(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return WV().domain([t,e]).range(i).unknown(o)},Ki.apply(al(s),arguments)}function HV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Bp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return HV().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const Jb=new Date,Zb=new Date;function Qn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Qn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Jb.setTime(+o),Zb.setTime(+s),t(Jb),t(Zb),Math.floor(n(Jb,Zb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const av=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):av);av.range;const _s=1e3,$i=_s*60,Ss=$i*60,Fs=Ss*24,UP=Fs*7,Xk=Fs*30,ew=Fs*365,Nl=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCSeconds());Nl.range;const zP=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());zP.range;const WP=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());WP.range;const HP=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_s-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getHours());HP.range;const qP=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCHours());qP.range;const Wp=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/Fs,t=>t.getDate()-1);Wp.range;const i0=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);i0.range;const qV=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));qV.range;function mc(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/UP)}const o0=mc(0),lv=mc(1),Ive=mc(2),jve=mc(3),Qu=mc(4),kve=mc(5),Ove=mc(6);o0.range;lv.range;Ive.range;jve.range;Qu.range;kve.range;Ove.range;function gc(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/UP)}const s0=gc(0),cv=gc(1),Rve=gc(2),Mve=gc(3),Ju=gc(4),Dve=gc(5),$ve=gc(6);s0.range;cv.range;Rve.range;Mve.range;Ju.range;Dve.range;$ve.range;const GP=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GP.range;const KP=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());KP.range;const Vs=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vs.range;const Bs=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bs.range;function GV(t,e,n,r,i,o){const s=[[Nl,1,_s],[Nl,5,5*_s],[Nl,15,15*_s],[Nl,30,30*_s],[o,1,$i],[o,5,5*$i],[o,15,15*$i],[o,30,30*$i],[i,1,Ss],[i,3,3*Ss],[i,6,6*Ss],[i,12,12*Ss],[r,1,Fs],[r,2,2*Fs],[n,1,UP],[e,1,Xk],[e,3,3*Xk],[t,1,ew]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),x=m?m.range(c,+d+1):[];return h?x.reverse():x}function l(c,d,f){const h=Math.abs(d-c)/f,m=IP(([,,v])=>v).right(s,h);if(m===s.length)return t.every(v_(c/ew,d/ew,f));if(m===0)return av.every(Math.max(v_(c,d,f),1));const[x,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return x.every(g)}return[a,l]}const[Lve,Fve]=GV(Bs,KP,s0,qV,qP,WP),[Vve,Bve]=GV(Vs,GP,o0,Wp,HP,zP);function tw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Uve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=af(i),d=lf(i),f=af(o),h=lf(o),m=af(s),x=lf(s),g=af(a),v=lf(a),b=af(l),w=lf(l),_={a:W,A:F,b:V,B:ee,c:null,d:nO,e:nO,f:dxe,g:wxe,G:Sxe,H:lxe,I:cxe,j:uxe,L:KV,m:fxe,M:hxe,p:Q,q:ne,Q:oO,s:sO,S:pxe,u:mxe,U:gxe,V:yxe,w:vxe,W:xxe,x:null,X:null,y:bxe,Y:_xe,Z:Exe,"%":iO},C={a:ge,A:Ce,b:qe,B:Xe,c:null,d:rO,e:rO,f:Cxe,g:Lxe,G:Vxe,H:Txe,I:Pxe,j:Axe,L:XV,m:Nxe,M:Ixe,p:me,q:we,Q:oO,s:sO,S:jxe,u:kxe,U:Oxe,V:Rxe,w:Mxe,W:Dxe,x:null,X:null,y:$xe,Y:Fxe,Z:Bxe,"%":iO},E={a:k,A:I,b:O,B:R,c:L,d:eO,e:eO,f:ixe,g:Zk,G:Jk,H:tO,I:tO,j:exe,L:rxe,m:Zve,M:txe,p:A,q:Jve,Q:sxe,s:axe,S:nxe,u:Gve,U:Kve,V:Yve,w:qve,W:Xve,x:B,X:U,y:Zk,Y:Jk,Z:Qve,"%":oxe};_.x=N(n,_),_.X=N(r,_),_.c=N(e,_),C.x=N(n,C),C.X=N(r,C),C.c=N(e,C);function N(te,he){return function(pe){var Y=[],Se=-1,Re=0,mt=te.length,ot,At,Rt;for(pe instanceof Date||(pe=new Date(+pe));++Se<mt;)te.charCodeAt(Se)===37&&(Y.push(te.slice(Re,Se)),(At=Qk[ot=te.charAt(++Se)])!=null?ot=te.charAt(++Se):At=ot==="e"?" ":"0",(Rt=he[ot])&&(ot=Rt(pe,At)),Y.push(ot),Re=Se+1);return Y.push(te.slice(Re,Se)),Y.join("")}}function S(te,he){return function(pe){var Y=sf(1900,void 0,1),Se=P(Y,te,pe+="",0),Re,mt;if(Se!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(he&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Re=nw(sf(Y.y,0,1)),mt=Re.getUTCDay(),Re=mt>4||mt===0?cv.ceil(Re):cv(Re),Re=i0.offset(Re,(Y.V-1)*7),Y.y=Re.getUTCFullYear(),Y.m=Re.getUTCMonth(),Y.d=Re.getUTCDate()+(Y.w+6)%7):(Re=tw(sf(Y.y,0,1)),mt=Re.getDay(),Re=mt>4||mt===0?lv.ceil(Re):lv(Re),Re=Wp.offset(Re,(Y.V-1)*7),Y.y=Re.getFullYear(),Y.m=Re.getMonth(),Y.d=Re.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),mt="Z"in Y?nw(sf(Y.y,0,1)).getUTCDay():tw(sf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(mt+5)%7:Y.w+Y.U*7-(mt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,nw(Y)):tw(Y)}}function P(te,he,pe,Y){for(var Se=0,Re=he.length,mt=pe.length,ot,At;Se<Re;){if(Y>=mt)return-1;if(ot=he.charCodeAt(Se++),ot===37){if(ot=he.charAt(Se++),At=E[ot in Qk?he.charAt(Se++):ot],!At||(Y=At(te,pe,Y))<0)return-1}else if(ot!=pe.charCodeAt(Y++))return-1}return Y}function A(te,he,pe){var Y=c.exec(he.slice(pe));return Y?(te.p=d.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function k(te,he,pe){var Y=m.exec(he.slice(pe));return Y?(te.w=x.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function I(te,he,pe){var Y=f.exec(he.slice(pe));return Y?(te.w=h.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function O(te,he,pe){var Y=b.exec(he.slice(pe));return Y?(te.m=w.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function R(te,he,pe){var Y=g.exec(he.slice(pe));return Y?(te.m=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function L(te,he,pe){return P(te,e,he,pe)}function B(te,he,pe){return P(te,n,he,pe)}function U(te,he,pe){return P(te,r,he,pe)}function W(te){return s[te.getDay()]}function F(te){return o[te.getDay()]}function V(te){return l[te.getMonth()]}function ee(te){return a[te.getMonth()]}function Q(te){return i[+(te.getHours()>=12)]}function ne(te){return 1+~~(te.getMonth()/3)}function ge(te){return s[te.getUTCDay()]}function Ce(te){return o[te.getUTCDay()]}function qe(te){return l[te.getUTCMonth()]}function Xe(te){return a[te.getUTCMonth()]}function me(te){return i[+(te.getUTCHours()>=12)]}function we(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var he=N(te+="",_);return he.toString=function(){return te},he},parse:function(te){var he=S(te+="",!1);return he.toString=function(){return te},he},utcFormat:function(te){var he=N(te+="",C);return he.toString=function(){return te},he},utcParse:function(te){var he=S(te+="",!0);return he.toString=function(){return te},he}}}var Qk={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,zve=/^%/,Wve=/[\\^$*+?|[\]().{}]/g;function jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Hve(t){return t.replace(Wve,"\\$&")}function af(t){return new RegExp("^(?:"+t.map(Hve).join("|")+")","i")}function lf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qve(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gve(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kve(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yve(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xve(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zk(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jve(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Zve(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function exe(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function txe(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nxe(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rxe(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ixe(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oxe(t,e,n){var r=zve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sxe(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function axe(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nO(t,e){return jt(t.getDate(),e,2)}function lxe(t,e){return jt(t.getHours(),e,2)}function cxe(t,e){return jt(t.getHours()%12||12,e,2)}function uxe(t,e){return jt(1+Wp.count(Vs(t),t),e,3)}function KV(t,e){return jt(t.getMilliseconds(),e,3)}function dxe(t,e){return KV(t,e)+"000"}function fxe(t,e){return jt(t.getMonth()+1,e,2)}function hxe(t,e){return jt(t.getMinutes(),e,2)}function pxe(t,e){return jt(t.getSeconds(),e,2)}function mxe(t){var e=t.getDay();return e===0?7:e}function gxe(t,e){return jt(o0.count(Vs(t)-1,t),e,2)}function YV(t){var e=t.getDay();return e>=4||e===0?Qu(t):Qu.ceil(t)}function yxe(t,e){return t=YV(t),jt(Qu.count(Vs(t),t)+(Vs(t).getDay()===4),e,2)}function vxe(t){return t.getDay()}function xxe(t,e){return jt(lv.count(Vs(t)-1,t),e,2)}function bxe(t,e){return jt(t.getFullYear()%100,e,2)}function wxe(t,e){return t=YV(t),jt(t.getFullYear()%100,e,2)}function _xe(t,e){return jt(t.getFullYear()%1e4,e,4)}function Sxe(t,e){var n=t.getDay();return t=n>=4||n===0?Qu(t):Qu.ceil(t),jt(t.getFullYear()%1e4,e,4)}function Exe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function rO(t,e){return jt(t.getUTCDate(),e,2)}function Txe(t,e){return jt(t.getUTCHours(),e,2)}function Pxe(t,e){return jt(t.getUTCHours()%12||12,e,2)}function Axe(t,e){return jt(1+i0.count(Bs(t),t),e,3)}function XV(t,e){return jt(t.getUTCMilliseconds(),e,3)}function Cxe(t,e){return XV(t,e)+"000"}function Nxe(t,e){return jt(t.getUTCMonth()+1,e,2)}function Ixe(t,e){return jt(t.getUTCMinutes(),e,2)}function jxe(t,e){return jt(t.getUTCSeconds(),e,2)}function kxe(t){var e=t.getUTCDay();return e===0?7:e}function Oxe(t,e){return jt(s0.count(Bs(t)-1,t),e,2)}function QV(t){var e=t.getUTCDay();return e>=4||e===0?Ju(t):Ju.ceil(t)}function Rxe(t,e){return t=QV(t),jt(Ju.count(Bs(t),t)+(Bs(t).getUTCDay()===4),e,2)}function Mxe(t){return t.getUTCDay()}function Dxe(t,e){return jt(cv.count(Bs(t)-1,t),e,2)}function $xe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function Lxe(t,e){return t=QV(t),jt(t.getUTCFullYear()%100,e,2)}function Fxe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function Vxe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ju(t):Ju.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function Bxe(){return"+0000"}function iO(){return"%"}function oO(t){return+t}function sO(t){return Math.floor(+t/1e3)}var Cc,JV,ZV;Uxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uxe(t){return Cc=Uve(t),JV=Cc.format,Cc.parse,ZV=Cc.utcFormat,Cc.utcParse,Cc}function zxe(t){return new Date(t)}function Wxe(t){return t instanceof Date?+t:+new Date(+t)}function YP(t,e,n,r,i,o,s,a,l,c){var d=MP(),f=d.invert,h=d.domain,m=c(".%L"),x=c(":%S"),g=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),C=c("%Y");function E(N){return(l(N)<N?m:a(N)<N?x:s(N)<N?g:o(N)<N?v:r(N)<N?i(N)<N?b:w:n(N)<N?_:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Wxe)):h().map(zxe)},d.ticks=function(N){var S=h();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?E:c(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?h(FV(S,N)):d},d.copy=function(){return zp(d,YP(t,e,n,r,i,o,s,a,l,c))},d}function Hxe(){return Ki.apply(YP(Vve,Bve,Vs,GP,o0,Wp,HP,zP,Nl,JV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qxe(){return Ki.apply(YP(Lve,Fve,Bs,KP,s0,i0,qP,WP,Nl,ZV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a0(){var t=0,e=1,n,r,i,o,s=Ur,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,s=f(m,x),c):[s(0),s(1)]}}return c.range=d(Dd),c.rangeRound=d(RP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function ll(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function e6(){var t=al(a0()(Ur));return t.copy=function(){return ll(t,e6())},Ks.apply(t,arguments)}function t6(){var t=LP(a0()).domain([1,10]);return t.copy=function(){return ll(t,t6()).base(t.base())},Ks.apply(t,arguments)}function n6(){var t=FP(a0());return t.copy=function(){return ll(t,n6()).constant(t.constant())},Ks.apply(t,arguments)}function XP(){var t=VP(a0());return t.copy=function(){return ll(t,XP()).exponent(t.exponent())},Ks.apply(t,arguments)}function Gxe(){return XP.apply(null,arguments).exponent(.5)}function r6(){var t=[],e=Ur;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ua),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Oye(t,o/r))},n.copy=function(){return r6(e).domain(t)},Ks.apply(n,arguments)}function l0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=Ur,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function x(g){return function(v){var b,w,_;return arguments.length?([b,w,_]=v,c=ove(g,[b,w,_]),m):[c(0),c(.5),c(1)]}}return m.range=x(Dd),m.rangeRound=x(RP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function i6(){var t=al(l0()(Ur));return t.copy=function(){return ll(t,i6())},Ks.apply(t,arguments)}function o6(){var t=LP(l0()).domain([.1,1,10]);return t.copy=function(){return ll(t,o6()).base(t.base())},Ks.apply(t,arguments)}function s6(){var t=FP(l0());return t.copy=function(){return ll(t,s6()).constant(t.constant())},Ks.apply(t,arguments)}function QP(){var t=VP(l0());return t.copy=function(){return ll(t,QP()).exponent(t.exponent())},Ks.apply(t,arguments)}function Kxe(){return QP.apply(null,arguments).exponent(.5)}const aO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bh,scaleDiverging:i6,scaleDivergingLog:o6,scaleDivergingPow:QP,scaleDivergingSqrt:Kxe,scaleDivergingSymlog:s6,scaleIdentity:LV,scaleImplicit:x_,scaleLinear:sv,scaleLog:VV,scaleOrdinal:jP,scalePoint:qf,scalePow:BP,scaleQuantile:zV,scaleQuantize:WV,scaleRadial:UV,scaleSequential:e6,scaleSequentialLog:t6,scaleSequentialPow:XP,scaleSequentialQuantile:r6,scaleSequentialSqrt:Gxe,scaleSequentialSymlog:n6,scaleSqrt:Cve,scaleSymlog:BV,scaleThreshold:HV,scaleTime:Hxe,scaleUtc:qxe,tickFormat:$V},Symbol.toStringTag,{value:"Module"}));var Yxe=Ad;function Xxe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Yxe(s):n(s,a)))var a=s,l=o}return l}var a6=Xxe;function Qxe(t,e){return t>e}var Jxe=Qxe,Zxe=a6,e0e=Jxe,t0e=Rd;function n0e(t){return t&&t.length?Zxe(t,t0e,e0e):void 0}var r0e=n0e;const c0=Yt(r0e);function i0e(t,e){return t<e}var o0e=i0e,s0e=a6,a0e=o0e,l0e=Rd;function c0e(t){return t&&t.length?s0e(t,l0e,a0e):void 0}var u0e=c0e;const u0=Yt(u0e);var d0e=uP,f0e=Md,h0e=mV,p0e=ni;function m0e(t,e){var n=p0e(t)?d0e:h0e;return n(t,f0e(e))}var g0e=m0e,y0e=hV,v0e=g0e;function x0e(t,e){return y0e(v0e(t,e),1)}var b0e=x0e;const w0e=Yt(b0e);var _0e=PP;function S0e(t,e){return _0e(t,e)}var E0e=S0e;const d0=Yt(E0e);var $d=1e9,T0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZP,hn=!0,Wi="[DecimalError] ",zl=Wi+"Invalid argument: ",JP=Wi+"Exponent out of range: ",Ld=Math.floor,wl=Math.pow,P0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,tr=1e7,sn=7,l6=9007199254740991,uv=Ld(l6/sn),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Cs(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Kt(Cs(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Un(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pi))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(pi)?new r(0):(hn=!1,e=Cs(qh(n,o),qh(t,o),o),hn=!0,Kt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d6(e,t):c6(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wi+"NaN");return n.s?(hn=!1,e=Cs(n,t,0,1).times(t),hn=!0,n.minus(e)):Kt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return u6(this)};Oe.naturalLogarithm=Oe.ln=function(){return qh(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c6(e,t):d6(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zl+t);if(e=Un(i)+1,r=i.d.length-1,n=r*sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Wi+"NaN")}for(t=Un(a),hn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Uo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ld((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Cs(a,o,s+2)).times(.5),Uo(o.d).slice(0,s)===(e=Uo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Kt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return hn=!0,Kt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,o,s,a,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%tr|0,e=a/tr|0;o[i]=(o[i]+e)%tr|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,hn?Kt(t,f.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(os(t,0,$d),e===void 0?e=r.rounding:os(e,0,8),Kt(n,t+Un(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ic(r,!0):(os(t,0,$d),e===void 0?e=i.rounding:os(e,0,8),r=Kt(new i(r),t+1,e),n=ic(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ic(i):(os(t,0,$d),e===void 0?e=o.rounding:os(e,0,8),r=Kt(new o(i),t+Un(i)+1,e),n=ic(r.abs(),!1,t+Un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Kt(new e(t),Un(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(pi);if(a=new l(a),!a.s){if(t.s<1)throw Error(Wi+"Infinity");return a}if(a.eq(pi))return a;if(r=l.precision,t.eq(pi))return Kt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=l6){for(i=new l(pi),e=Math.ceil(r/sn+4),hn=!1;n%2&&(i=i.times(a),cO(i.d,e)),n=Ld(n/2),n!==0;)a=a.times(a),cO(a.d,e);return hn=!0,t.s<0?new l(pi).div(i):Kt(i,r)}}else if(o<0)throw Error(Wi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,hn=!1,i=t.times(qh(a,r+c)),hn=!0,i=u6(i),i.s=o,i};Oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Un(i),r=ic(i,n<=o.toExpNeg||n>=o.toExpPos)):(os(t,1,$d),e===void 0?e=o.rounding:os(e,0,8),i=Kt(new o(i),t,e),n=Un(i),r=ic(i,t<=n||n<=o.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(os(t,1,$d),e===void 0?e=r.rounding:os(e,0,8)),Kt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return ic(t,e<=n.toExpNeg||e>=n.toExpPos)};function c6(t,e){var n,r,i,o,s,a,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),hn?Kt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(f/sn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/tr|0,l[o]%=tr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,hn?Kt(e,f):e}function os(t,e,n){if(t!==~~t||t<e||t>n)throw Error(zl+t)}function Uo(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=sn-r.length,n&&(o+=ma(n)),o+=r;s=t[e],r=s+"",n=sn-r.length,n&&(o+=ma(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Cs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%tr|0,s=o/tr|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*tr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,d,f,h,m,x,g,v,b,w,_,C,E,N,S,P,A=r.constructor,k=r.s==i.s?1:-1,I=r.d,O=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(Wi+"Division by zero");for(l=r.e-i.e,S=O.length,E=I.length,m=new A(k),x=m.d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,o==null?w=o=A.precision:s?w=o+(Un(r)-Un(i))+1:w=o,w<0)return new A(0);if(w=w/sn+2|0,c=0,S==1)for(d=0,O=O[0],w++;(c<E||d)&&w--;c++)_=d*tr+(I[c]||0),x[c]=_/O|0,d=_%O|0;else{for(d=tr/(O[0]+1)|0,d>1&&(O=t(O,d),I=t(I,d),S=O.length,E=I.length),C=S,g=I.slice(0,S),v=g.length;v<S;)g[v++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=tr/2&&++N;do d=0,a=e(O,g,S,v),a<0?(b=g[0],S!=v&&(b=b*tr+(g[1]||0)),d=b/N|0,d>1?(d>=tr&&(d=tr-1),f=t(O,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,S<h?P:O,h))):(d==0&&(a=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(O,g,S,v),a<1&&(d++,n(g,S<v?P:O,v))),v=g.length):a===0&&(d++,g=[0]),x[c++]=d,a&&g[0]?g[v++]=I[C]||0:(g=[I[C]],v=1);while((C++<E||g[0]!==void 0)&&w--)}return x[0]||x.shift(),m.e=l,Kt(m,s?o+Un(m)+1:o)}}();function u6(t,e){var n,r,i,o,s,a,l=0,c=0,d=t.constructor,f=d.precision;if(Un(t)>16)throw Error(JP+Un(t));if(!t.s)return new d(pi);for(e==null?(hn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(wl(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new d(pi),d.precision=a;;){if(i=Kt(i.times(t),a),n=n.times(++l),s=o.plus(Cs(i,n,a)),Uo(s.d).slice(0,a)===Uo(o.d).slice(0,a)){for(;c--;)o=Kt(o.times(o),a);return d.precision=f,e==null?(hn=!0,Kt(o,f)):o}o=s}}function Un(t){for(var e=t.e*sn,n=t.d[0];n>=10;n/=10)e++;return e}function rw(t,e,n){if(e>t.LN10.sd())throw hn=!0,n&&(t.precision=n),Error(Wi+"LN10 precision limit exceeded");return Kt(new t(t.LN10),e)}function ma(t){for(var e="";t--;)e+="0";return e}function qh(t,e){var n,r,i,o,s,a,l,c,d,f=1,h=10,m=t,x=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Wi+(m.s?"NaN":"-Infinity"));if(m.eq(pi))return new g(0);if(e==null?(hn=!1,c=v):c=e,m.eq(10))return e==null&&(hn=!0),rw(g,c);if(c+=h,g.precision=c,n=Uo(x),r=n.charAt(0),o=Un(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Uo(m.d),r=n.charAt(0),f++;o=Un(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=rw(g,c+2,v).times(o+""),m=qh(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(hn=!0,Kt(m,v)):m;for(a=s=m=Cs(m.minus(pi),m.plus(pi),c),d=Kt(m.times(m),c),i=3;;){if(s=Kt(s.times(d),c),l=a.plus(Cs(s,new g(i),c)),Uo(l.d).slice(0,c)===Uo(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(rw(g,c+2,v).times(o+""))),a=Cs(a,new g(f),c),g.precision=v,e==null?(hn=!0,Kt(a,v)):a;a=l,i+=2}}function lO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ld(n/sn),t.d=[],r=(n+1)%sn,n<0&&(r+=sn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=sn;r<i;)t.d.push(+e.slice(r,r+=sn));e=e.slice(r),r=sn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hn&&(t.e>uv||t.e<-uv))throw Error(JP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kt(t,e,n){var r,i,o,s,a,l,c,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=sn,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/sn),o=f.length,d>=o)return t;for(c=o=f[d],s=1;o>=10;o/=10)s++;r%=sn,i=r-sn+s}if(n!==void 0&&(o=wl(10,s-i-1),a=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/wl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Un(t),f.length=1,e=e-o-1,f[0]=wl(10,(sn-e%sn)%sn),t.e=Ld(-e/sn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=wl(10,sn-r),f[d]=i>0?(c/wl(10,s-i)%wl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==tr&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=tr)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(hn&&(t.e>uv||t.e<-uv))throw Error(JP+Un(t));return t}function d6(t,e){var n,r,i,o,s,a,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),hn?Kt(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(m/sn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=tr-1;--l[o],l[i]+=tr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,hn?Kt(e,m):e):new h(0)}function ic(t,e,n){var r,i=Un(t),o=Uo(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ma(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ma(-i-1)+o,n&&(r=n-s)>0&&(o+=ma(r))):i>=s?(o+=ma(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ma(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ma(r))),t.s<0?"-"+o:o}function cO(t,e){if(t.length>e)return t.length=e,!0}function f6(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(zl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return lO(s,o.toString())}else if(typeof o!="string")throw Error(zl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,P0e.test(o))lO(s,o);else throw Error(zl+o)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=f6,i.config=i.set=A0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function A0e(t){if(!t||typeof t!="object")throw Error(Wi+"Object expected");var e,n,r,i=["precision",1,$d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ld(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(zl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zl+n+": "+r);return this}var ZP=f6(T0e);pi=new ZP(1);const zt=ZP;function C0e(t){return k0e(t)||j0e(t)||I0e(t)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(t,e){if(t){if(typeof t=="string")return S_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(t,e)}}function j0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k0e(t){if(Array.isArray(t))return S_(t)}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O0e=function(e){return e},h6={"@@functional/placeholder":!0},p6=function(e){return e===h6},uO=function(e){return function n(){return arguments.length===0||arguments.length===1&&p6(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},R0e=function t(e,n){return e===1?n:uO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==h6}).length;return s>=e?n.apply(void 0,i):t(e-s,uO(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(f){return p6(f)?l.shift():f});return n.apply(void 0,C0e(d).concat(l))}))})},f0=function(e){return R0e(e.length,e)},E_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},M0e=f0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),D0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return O0e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},T_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},m6=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function $0e(t){var e;return t===0?e=1:e=Math.floor(new zt(t).abs().log(10).toNumber())+1,e}function L0e(t,e,n){for(var r=new zt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var F0e=f0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),V0e=f0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),B0e=f0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const h0={rangeStep:L0e,getDigitCount:$0e,interpolateNumber:F0e,uninterpolateNumber:V0e,uninterpolateTruncation:B0e};function P_(t){return W0e(t)||z0e(t)||g6(t)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function W0e(t){if(Array.isArray(t))return A_(t)}function Gh(t,e){return G0e(t)||q0e(t,e)||g6(t,e)||H0e()}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function G0e(t){if(Array.isArray(t))return t}function y6(t){var e=Gh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function v6(t,e,n){if(t.lte(0))return new zt(0);var r=h0.getDigitCount(t.toNumber()),i=new zt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new zt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new zt(Math.ceil(l))}function K0e(t,e,n){var r=1,i=new zt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new zt(10).pow(h0.getDigitCount(t)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new zt(Math.floor(t)))}else t===0?i=new zt(Math.floor((e-1)/2)):n||(i=new zt(Math.floor(t)));var s=Math.floor((e-1)/2),a=D0e(M0e(function(l){return i.add(new zt(l-s).mul(r)).toNumber()}),E_);return a(0,e)}function x6(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=v6(new zt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new zt(0):(s=new zt(t).add(e).div(2),s=s.sub(new zt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new zt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?x6(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new zt(a).mul(o)),tickMax:s.add(new zt(l).mul(o))})}function Y0e(t){var e=Gh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=y6([n,r]),l=Gh(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(P_(E_(0,i-1).map(function(){return 1/0}))):[].concat(P_(E_(0,i-1).map(function(){return-1/0})),[d]);return n>r?T_(f):f}if(c===d)return K0e(c,i,o);var h=x6(c,d,s,o),m=h.step,x=h.tickMin,g=h.tickMax,v=h0.rangeStep(x,g.add(new zt(.1).mul(m)),m);return n>r?T_(v):v}function X0e(t,e){var n=Gh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=y6([r,i]),a=Gh(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=v6(new zt(c).sub(l).div(d-1),o,0),h=[].concat(P_(h0.rangeStep(new zt(l),new zt(c).sub(new zt(.99).mul(f)),f)),[c]);return r>i?T_(h):h}var Q0e=m6(Y0e),J0e=m6(X0e),Z0e="Invariant failed";function oc(t,e){throw new Error(Z0e)}var ebe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(this,arguments)}function tbe(t,e){return obe(t)||ibe(t,e)||rbe(t,e)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(t,e){if(t){if(typeof t=="string")return dO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(t,e)}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ibe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function obe(t){if(Array.isArray(t))return t}function sbe(t,e){if(t==null)return{};var n=abe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function abe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_6(r.key),r)}}function ube(t,e,n){return e&&cbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dbe(t,e,n){return e=fv(e),fbe(t,b6()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function fbe(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hbe(t)}function hbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function w6(t,e,n){return e=_6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6(t){var e=mbe(t,"string");return Zu(e)=="symbol"?e:e+""}function mbe(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hp=function(t){function e(){return lbe(this,e),dbe(this,e,arguments)}return pbe(e,t),ube(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=sbe(r,ebe),m=Pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&oc();var x=l.map(function(g){var v=c(g,a),b=v.x,w=v.y,_=v.value,C=v.errorVal;if(!C)return null;var E=[],N,S;if(Array.isArray(C)){var P=tbe(C,2);N=P[0],S=P[1]}else N=S=C;if(o==="vertical"){var A=d.scale,k=w+i,I=k+s,O=k-s,R=A(_-N),L=A(_+S);E.push({x1:L,y1:I,x2:L,y2:O}),E.push({x1:R,y1:k,x2:L,y2:k}),E.push({x1:R,y1:I,x2:R,y2:O})}else if(o==="horizontal"){var B=f.scale,U=b+i,W=U-s,F=U+s,V=B(_-N),ee=B(_+S);E.push({x1:W,y1:ee,x2:F,y2:ee}),E.push({x1:U,y1:V,x2:U,y2:ee}),E.push({x1:W,y1:V,x2:F,y2:V})}return z.createElement(Rn,dv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),E.map(function(Q){return z.createElement("line",dv({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return z.createElement(Rn,{className:"recharts-errorBars"},x)}}])}(z.Component);w6(Hp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});w6(Hp,"displayName","ErrorBar");function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gbe(t,e,n){return e=ybe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t){var e=vbe(t,"string");return Kh(e)=="symbol"?e:e+""}function vbe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S6=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=fi(n,fu);if(!s)return null;var a=fu.defaultProps,l=a!==void 0?ml(ml({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?ml(ml({},h),f.props):{},x=m.dataKey,g=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:x,type:l.iconType||v||"square",color:eA(f),value:g||x,payload:m}}),ml(ml(ml({},l),fu.getWithHeight(s,i)),{},{payload:c,item:s})};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function hO(t){return _be(t)||wbe(t)||bbe(t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function wbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _be(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pu(t,e,n){return e=Sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sbe(t){var e=Ebe(t,"string");return Yh(e)=="symbol"?e:e+""}function Ebe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(t,e,n){return gt(t)||gt(e)?n:Yn(e)?Fi(t,e,n):xt(e)?e(t):n}function Gf(t,e,n,r){var i=w0e(t,function(a){return xi(a,e)});if(n==="number"){var o=i.filter(function(a){return Ee(a)||parseFloat(a)});return o.length?[u0(o),c0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!gt(a)}):i;return s.map(function(a){return Yn(a)||a instanceof Date?a:""})}var Tbe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(yo(f-d)!==yo(h-f)){var x=[];if(yo(h-f)===yo(l[1]-l[0])){m=h;var g=f+l[1]-l[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];x[0]=Math.min(f,(v+f)/2),x[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){s=i[c].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},eA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Pn(Pn({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Pbe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],g=x.items,v=x.cateAxisId,b=g.filter(function(S){return Ps(S.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?Pn(Pn({},w),b[0].props):b[0].props,C=_.barSize,E=_[v];s[E]||(s[E]=[]);var N=gt(C)?n:C;s[E].push({item:b[0],stackList:b.slice(1),barSize:gt(N)?void 0:rc(N,r,0)})}}return s},Abe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=rc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,x=s.reduce(function(C,E){return C+E.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&m>0&&(h=!0,m*=.9,x=l*m);var g=(i-x)/2>>0,v={offset:g-c,size:0};d=s.reduce(function(C,E){var N={item:E.item,position:{offset:v.offset+v.size+c,size:h?m:E.barSize}},S=[].concat(hO(C),[N]);return v=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){S.push({item:P,position:v})}),S},f)}else{var b=rc(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var w=(i-2*b-(l-1)*c)/l;w>1&&(w>>=0);var _=a===+a?Math.min(w,a):w;d=s.reduce(function(C,E,N){var S=[].concat(hO(C),[{item:E.item,position:{offset:b+(w+c)*N+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){S.push({item:P,position:S[S.length-1].position})}),S},f)}return d},Cbe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=S6({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,x=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Ee(e[m]))return Pn(Pn({},e),{},pu({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Ee(e[x]))return Pn(Pn({},e),{},pu({},x,e[x]+(h||0)))}return e},Nbe=function(e,n,r){return gt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},E6=function(e,n,r,i,o){var s=n.props.children,a=Vi(s,Hp).filter(function(c){return Nbe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=xi(d,r);if(gt(f))return c;var h=Array.isArray(f)?[u0(f),c0(f)]:[f,f],m=l.reduce(function(x,g){var v=xi(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},Ibe=function(e,n,r,i,o){var s=n.map(function(a){return E6(e,a,r,o,i)}).filter(function(a){return!gt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},T6=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&E6(e,l,c,i)||Gf(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},P6=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Il=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?yo(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Fp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},iw=new WeakMap,Zm=function(e,n){if(typeof n!="function")return e;iw.has(e)||iw.set(e,new WeakMap);var r=iw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jbe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Bh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:sv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:qf(),realScaleType:"point"}:o==="category"?{scale:Bh(),realScaleType:"band"}:{scale:sv(),realScaleType:"linear"};if(nc(i)){var l="scale".concat(Xx(i));return{scale:(aO[l]||qf)(),realScaleType:aO[l]?l:"point"}}return xt(i)?{scale:i}:{scale:qf(),realScaleType:"point"}},mO=1e-4,kbe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-mO,s=Math.max(i[0],i[1])+mO,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Obe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Rbe=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(o[0]=r),(!Ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Mbe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Fp(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Dbe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Fp(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},$be={sign:Mbe,expand:Xae,none:Hu,silhouette:Qae,wiggle:Jae,positive:Dbe},Lbe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=$be[r],s=Yae().keys(i).value(function(a,l){return+xi(a,l,0)}).order(e_).offset(o);return s(e)},Fbe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Pn(Pn({},h.type.defaultProps),h.props):h.props,g=x.stackId,v=x.hide;if(v)return f;var b=x[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(Yn(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Vp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Pn(Pn({},f),{},pu({},b,w))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var b=m.stackGroups[v];return Pn(Pn({},g),{},pu({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Lbe(e,b.items,o)}))},x)}return Pn(Pn({},f),{},pu({},h,m))},d)},Vbe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=Q0e(c,o,a);return e.domain([u0(d),c0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=J0e(f,o,a);return{niceTicks:h}}return null};function gO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!gt(i[e.dataKey])){var a=$y(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=xi(i,gt(s)?e.dataKey:s);return gt(l)?null:e.scale(l)}var yO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=xi(s,n.dataKey,n.domain[a]);return gt(l)?null:n.scale(l)-o/2+i},Bbe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Ube=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Pn(Pn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Yn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},zbe=function(e){return e.reduce(function(n,r){return[u0(r.concat([n[0]]).filter(Ee)),c0(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},A6=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,d){var f=zbe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I_=function(e,n,r){if(xt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(vO.test(e[0])){var o=+vO.exec(e[0])[1];i[0]=n[0]-o}else xt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xO.test(e[1])){var s=+xO.exec(e[1])[1];i[1]=n[1]+s}else xt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},hv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=CP(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],d=o[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},bO=function(e,n,r){return!e||!e.length||d0(e,Fi(r,"type.defaultProps.domain"))?n:e},C6=function(e,n){var r=e.type.defaultProps?Pn(Pn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Pn(Pn({},Pt(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:eA(e),value:xi(n,i),type:l,payload:n,chartType:c,hide:d})};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Wbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wbe(t,e,n){return e=Hbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hbe(t){var e=qbe(t,"string");return Xh(e)=="symbol"?e:e+""}function qbe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pv=Math.PI/180,Gbe=function(e){return e*180/Math.PI},hr=function(e,n,r,i){return{x:e+Math.cos(-pv*i)*r,y:n+Math.sin(-pv*i)*r}},Kbe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Ybe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Kbe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:Gbe(c),angleInRadian:c}},Xbe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Qbe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},SO=function(e,n){var r=e.x,i=e.y,o=Ybe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=Xbe(n),f=d.startAngle,h=d.endAngle,m=a,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?_O(_O({},n),{},{radius:s,angle:Qbe(m,n)}):null};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}var Jbe=["offset"];function Zbe(t){return rwe(t)||nwe(t)||twe(t)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twe(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function nwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rwe(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iwe(t,e){if(t==null)return{};var n=owe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function owe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return e=awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=lwe(t,"string");return Qh(e)=="symbol"?e:e+""}function lwe(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}var cwe=function(e){var n=e.value,r=e.formatter,i=gt(e.children)?n:e.children;return xt(r)?r(i):i},uwe=function(e,n){var r=yo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},dwe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,x=l.endAngle,g=l.clockWise,v=(f+h)/2,b=uwe(m,x),w=b>=0?1:-1,_,C;i==="insideStart"?(_=m+w*s,C=g):i==="insideEnd"?(_=x-w*s,C=!g):i==="end"&&(_=x+w*s,C=g),C=b<=0?C:!C;var E=hr(c,d,v,_),N=hr(c,d,v,_+(C?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),P=gt(e.id)?Vp("recharts-radial-line-"):e.id;return z.createElement("text",Jh({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",a)}),z.createElement("defs",null,z.createElement("path",{id:P,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(P)},n))},fwe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=hr(s,a,c+r,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=hr(s,a,v,h),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},hwe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",x=f>0?"start":"end",g=c>=0?1:-1,v=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var _={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Hn(Hn({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var C={x:a+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:x};return Hn(Hn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Hn(Hn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var N={x:a+c+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Hn(Hn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var S=r?{width:c,height:d}:{};return o==="insideLeft"?Hn({x:a+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?Hn({x:a+c-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideTop"?Hn({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:x},S):o==="insideBottom"?Hn({x:a+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},S):o==="insideTopLeft"?Hn({x:a+v,y:l+h,textAnchor:w,verticalAnchor:x},S):o==="insideTopRight"?Hn({x:a+c-v,y:l+h,textAnchor:b,verticalAnchor:x},S):o==="insideBottomLeft"?Hn({x:a+v,y:l+d-h,textAnchor:w,verticalAnchor:m},S):o==="insideBottomRight"?Hn({x:a+c-v,y:l+d-h,textAnchor:b,verticalAnchor:m},S):Cd(o)&&(Ee(o.x)||Al(o.x))&&(Ee(o.y)||Al(o.y))?Hn({x:a+rc(o.x,c),y:l+rc(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):Hn({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},pwe=function(e){return"cx"in e&&Ee(e.cx)};function kr(t){var e=t.offset,n=e===void 0?5:e,r=iwe(t,Jbe),i=Hn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||gt(a)&&gt(l)&&!y.isValidElement(c)&&!xt(c))return null;if(y.isValidElement(c))return y.cloneElement(c,i);var m;if(xt(c)){if(m=y.createElement(c,i),y.isValidElement(m))return m}else m=cwe(i);var x=pwe(o),g=Pt(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return dwe(i,m,g);var v=x?fwe(i):hwe(i);return z.createElement(Zy,Jh({className:St("recharts-label",f)},g,v,{breakAll:h}),m)}kr.displayName="Label";var N6=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,x=e.left,g=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ee(g)&&Ee(v)){if(Ee(f)&&Ee(h))return{x:f,y:h,width:g,height:v};if(Ee(m)&&Ee(x))return{x:m,y:x,width:g,height:v}}return Ee(f)&&Ee(h)?{x:f,y:h,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},mwe=function(e,n){return e?e===!0?z.createElement(kr,{key:"label-implicit",viewBox:n}):Yn(e)?z.createElement(kr,{key:"label-implicit",viewBox:n,value:e}):y.isValidElement(e)?e.type===kr?y.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(kr,{key:"label-implicit",content:e,viewBox:n}):xt(e)?z.createElement(kr,{key:"label-implicit",content:e,viewBox:n}):Cd(e)?z.createElement(kr,Jh({viewBox:n},e,{key:"label-implicit"})):null:null},gwe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=N6(e),s=Vi(i,kr).map(function(l,c){return y.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=mwe(e.label,n||o);return[a].concat(Zbe(s))};kr.parseViewBox=N6;kr.renderCallByParent=gwe;function ywe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var vwe=ywe;const xwe=Yt(vwe);function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}var bwe=["valueAccessor"],wwe=["data","dataKey","clockWise","id","textBreakAll"];function _we(t){return Pwe(t)||Twe(t)||Ewe(t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function Twe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pwe(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Awe(t,e,n){return e=Cwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cwe(t){var e=Nwe(t,"string");return Zh(e)=="symbol"?e:e+""}function Nwe(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t,e){if(t==null)return{};var n=Iwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jwe=function(e){return Array.isArray(e.value)?xwe(e.value):e.value};function za(t){var e=t.valueAccessor,n=e===void 0?jwe:e,r=AO(t,bwe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=AO(r,wwe);return!i||!i.length?null:z.createElement(Rn,{className:"recharts-label-list"},i.map(function(d,f){var h=gt(o)?n(d,f):xi(d&&d.payload,o),m=gt(a)?{}:{id:"".concat(a,"-").concat(f)};return z.createElement(kr,mv({},Pt(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:kr.parseViewBox(gt(s)?d:PO(PO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}za.displayName="LabelList";function kwe(t,e){return t?t===!0?z.createElement(za,{key:"labelList-implicit",data:e}):z.isValidElement(t)||xt(t)?z.createElement(za,{key:"labelList-implicit",data:e,content:t}):Cd(t)?z.createElement(za,mv({data:e},t,{key:"labelList-implicit"})):null:null}function Owe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Vi(r,za).map(function(s,a){return y.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=kwe(t.label,e);return[o].concat(_we(i))}za.renderCallByParent=Owe;function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Rwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rwe(t,e,n){return e=Mwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mwe(t){var e=Dwe(t,"string");return ep(e)=="symbol"?e:e+""}function Dwe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $we=function(e,n){var r=yo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},eg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/pv,h=c?o:o+s*f,m=hr(n,r,d,h),x=hr(n,r,i,h),g=c?o-s*f:o,v=hr(n,r,d*Math.cos(f*pv),g);return{center:m,circleTangency:x,lineTangency:v,theta:f}},I6=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=$we(s,a),c=s+l,d=hr(n,r,o,s),f=hr(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=hr(n,r,i,s),x=hr(n,r,i,c);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Lwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=yo(d-c),h=eg({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,x=h.lineTangency,g=h.theta,v=eg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,w=v.lineTangency,_=v.theta,C=l?Math.abs(c-d):Math.abs(c-d)-g-_;if(C<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):I6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=eg({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=N.circleTangency,P=N.lineTangency,A=N.theta,k=eg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=k.circleTangency,O=k.lineTangency,R=k.theta,L=l?Math.abs(c-d):Math.abs(c-d)-A-R;if(L<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Fwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j6=function(e){var n=NO(NO({},Fwe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=St("recharts-sector",h),x=s-o,g=rc(a,x,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Lwe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=I6({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",O_({},Pt(n,!0),{className:m,d:v,role:"img"}))};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vwe(t,e,n){return e=Bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=Uwe(t,"string");return tp(e)=="symbol"?e:e+""}function Uwe(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kO={curveBasisClosed:Lae,curveBasisOpen:Fae,curveBasis:$ae,curveBumpX:Sae,curveBumpY:Eae,curveLinearClosed:Vae,curveLinear:Jx,curveMonotoneX:Bae,curveMonotoneY:Uae,curveNatural:zae,curveStep:Wae,curveStepAfter:qae,curveStepBefore:Hae},tg=function(e){return e.x===+e.x&&e.y===+e.y},cf=function(e){return e.x},uf=function(e){return e.y},zwe=function(e,n){if(xt(e))return e;var r="curve".concat(Xx(e));return(r==="curveMonotone"||r==="curveBump")&&n?kO["".concat(r).concat(n==="vertical"?"Y":"X")]:kO[r]||Jx},Wwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=zwe(r,a),f=c?o.filter(function(g){return tg(g)}):o,h;if(Array.isArray(s)){var m=c?s.filter(function(g){return tg(g)}):s,x=f.map(function(g,v){return jO(jO({},g),{},{base:m[v]})});return a==="vertical"?h=Hm().y(uf).x1(cf).x0(function(g){return g.base.x}):h=Hm().x(cf).y1(uf).y0(function(g){return g.base.y}),h.defined(tg).curve(d),h(x)}return a==="vertical"&&Ee(s)?h=Hm().y(uf).x1(cf).x0(s):Ee(s)?h=Hm().x(cf).y1(uf).y0(s):h=OF().x(cf).y(uf),h.defined(tg).curve(d),h(f)},M_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Wwe(e):i;return y.createElement("path",R_({},Pt(e,!1),Ly(e),{className:St("recharts-curve",n),d:s,ref:o}))},k6={exports:{}},Hwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qwe=Hwe,Gwe=qwe;function O6(){}function R6(){}R6.resetWarningCache=O6;var Kwe=function(){function t(r,i,o,s,a,l){if(l!==Gwe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:R6,resetWarningCache:O6};return n.PropTypes=n,n};k6.exports=Kwe();var Ywe=k6.exports;const Dt=Yt(Ywe);var Xwe=Object.getOwnPropertyNames,Qwe=Object.getOwnPropertySymbols,Jwe=Object.prototype.hasOwnProperty;function OO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ng(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function RO(t){return Xwe(t).concat(Qwe(t))}var Zwe=Object.hasOwn||function(t,e){return Jwe.call(t,e)};function yc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var e1e="__v",t1e="__o",n1e="_owner",MO=Object.getOwnPropertyDescriptor,DO=Object.keys;function r1e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function i1e(t,e){return yc(t.getTime(),e.getTime())}function o1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function s1e(t,e){return t===e}function $O(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var a1e=yc;function l1e(t,e,n){var r=DO(t),i=r.length;if(DO(e).length!==i)return!1;for(;i-- >0;)if(!M6(t,e,n,r[i]))return!1;return!0}function df(t,e,n){var r=RO(t),i=r.length;if(RO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!M6(t,e,n,o)||(s=MO(t,o),a=MO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function c1e(t,e){return yc(t.valueOf(),e.valueOf())}function u1e(t,e){return t.source===e.source&&t.flags===e.flags}function LO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function d1e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function f1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function M6(t,e,n,r){return(r===n1e||r===t1e||r===e1e)&&(t.$$typeof||e.$$typeof)?!0:Zwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var h1e="[object Arguments]",p1e="[object Boolean]",m1e="[object Date]",g1e="[object Error]",y1e="[object Map]",v1e="[object Number]",x1e="[object Object]",b1e="[object RegExp]",w1e="[object Set]",_1e="[object String]",S1e="[object URL]",E1e=Array.isArray,FO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VO=Object.assign,T1e=Object.prototype.toString.call.bind(Object.prototype.toString);function P1e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var b=typeof x;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(x,g,v):b==="function"?i(x,g,v):!1;var w=x.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(x,g,v);if(E1e(x))return e(x,g,v);if(FO!=null&&FO(x))return f(x,g,v);if(w===Date)return n(x,g,v);if(w===RegExp)return c(x,g,v);if(w===Map)return o(x,g,v);if(w===Set)return d(x,g,v);var _=T1e(x);return _===m1e?n(x,g,v):_===b1e?c(x,g,v):_===y1e?o(x,g,v):_===w1e?d(x,g,v):_===x1e?typeof x.then!="function"&&typeof g.then!="function"&&a(x,g,v):_===S1e?h(x,g,v):_===g1e?r(x,g,v):_===h1e?a(x,g,v):_===p1e||_===v1e||_===_1e?l(x,g,v):!1}}function A1e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?df:r1e,areDatesEqual:i1e,areErrorsEqual:o1e,areFunctionsEqual:s1e,areMapsEqual:r?OO($O,df):$O,areNumbersEqual:a1e,areObjectsEqual:r?df:l1e,arePrimitiveWrappersEqual:c1e,areRegExpsEqual:u1e,areSetsEqual:r?OO(LO,df):LO,areTypedArraysEqual:r?df:d1e,areUrlsEqual:f1e};if(n&&(i=VO({},i,n(i))),e){var o=ng(i.areArraysEqual),s=ng(i.areMapsEqual),a=ng(i.areObjectsEqual),l=ng(i.areSetsEqual);i=VO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function C1e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function N1e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var I1e=cl();cl({strict:!0});cl({circular:!0});cl({circular:!0,strict:!0});cl({createInternalComparator:function(){return yc}});cl({strict:!0,createInternalComparator:function(){return yc}});cl({circular:!0,createInternalComparator:function(){return yc}});cl({circular:!0,createInternalComparator:function(){return yc},strict:!0});function cl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=A1e(t),l=P1e(a),c=r?r(l):C1e(l);return N1e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function j1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):j1e(i)};requestAnimationFrame(r)}function D_(t){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(t)}function k1e(t){return D1e(t)||M1e(t)||R1e(t)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(t,e){if(t){if(typeof t=="string")return UO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D1e(t){if(Array.isArray(t))return t}function $1e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=k1e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){BO(i.bind(null,c),l);return}i(l),BO(i.bind(null,c));return}D_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){D6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6(t,e,n){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=F1e(t,"string");return np(e)==="symbol"?e:String(e)}function F1e(t,e){if(np(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},B1e=function(e){return e},U1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Kf=function(e,n){return Object.keys(n).reduce(function(r,i){return WO(WO({},r),{},D6({},i,e(i,n[i])))},{})},HO=function(e,n,r){return e.map(function(i){return"".concat(U1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function z1e(t,e){return q1e(t)||H1e(t,e)||$6(t,e)||W1e()}function W1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function q1e(t){if(Array.isArray(t))return t}function G1e(t){return X1e(t)||Y1e(t)||$6(t)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function Y1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X1e(t){if(Array.isArray(t))return $_(t)}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gv=1e-4,L6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},F6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},qO=function(e,n){return function(r){var i=L6(e,n);return F6(i,r)}},Q1e=function(e,n){return function(r){var i=L6(e,n),o=[].concat(G1e(i.map(function(s,a){return s*a}).slice(1)),[0]);return F6(o,r)}},GO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=z1e(c,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=qO(i,s),h=qO(o,a),m=Q1e(i,s),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,_=w,C=0;C<8;++C){var E=f(_)-w,N=m(_);if(Math.abs(E-w)<gv||N<gv)return h(_);_=x(_-E/N)}return h(_)};return g.isStepper=!1,g},J1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,x=h*o,g=h+(m-x)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<gv&&Math.abs(g)<gv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},Z1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GO(i);case"spring":return J1e();default:if(i.split("(")[0]==="cubic-bezier")return GO(i)}return typeof i=="function"?i:null};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function KO(t){return n_e(t)||t_e(t)||V6(t)||e_e()}function e_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n_e(t){if(Array.isArray(t))return F_(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L_(t,e,n){return e=r_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return rp(e)==="symbol"?e:String(e)}function i_e(t,e){if(rp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o_e(t,e){return l_e(t)||a_e(t,e)||V6(t,e)||s_e()}function s_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V6(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function l_e(t){if(Array.isArray(t))return t}var yv=function(e,n,r){return e+(n-e)*r},V_=function(e){var n=e.from,r=e.to;return n!==r},c_e=function t(e,n,r){var i=Kf(function(o,s){if(V_(s)){var a=e(s.from,s.to,s.velocity),l=o_e(a,2),c=l[0],d=l[1];return cr(cr({},s),{},{from:c,velocity:d})}return s},n);return r<1?Kf(function(o,s){return V_(s)?cr(cr({},s),{},{velocity:yv(s.velocity,i[o].velocity,r),from:yv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const u_e=function(t,e,n,r,i){var o=V1e(t,e),s=o.reduce(function(v,b){return cr(cr({},v),{},L_({},b,[t[b],e[b]]))},{}),a=o.reduce(function(v,b){return cr(cr({},v),{},L_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Kf(function(b,w){return w.from},a)},m=function(){return!Object.values(a).filter(V_).length},x=function(b){c||(c=b);var w=b-c,_=w/n.dt;a=c_e(n,a,_),i(cr(cr(cr({},t),e),h())),c=b,m()||(l=requestAnimationFrame(f))},g=function(b){d||(d=b);var w=(b-d)/r,_=Kf(function(E,N){return yv.apply(void 0,KO(N).concat([n(w)]))},s);if(i(cr(cr(cr({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var C=Kf(function(E,N){return yv.apply(void 0,KO(N).concat([n(1)]))},s);i(cr(cr(cr({},t),e),C))}};return f=n.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var d_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function f_e(t,e){if(t==null)return{};var n=h_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ow(t){return y_e(t)||g_e(t)||m_e(t)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_e(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function g_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y_e(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sf(t,e,n){return e=B6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B6(r.key),r)}}function b_e(t,e,n){return e&&x_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6(t){var e=w_e(t,"string");return ed(e)==="symbol"?e:String(e)}function w_e(t,e){if(ed(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ed(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function __e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function S_e(t){var e=E_e();return function(){var r=vv(t),i;if(e){var o=vv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return z_(this,i)}}function z_(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_(t)}function W_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}var Us=function(t){__e(n,t);var e=S_e(n);function n(r,i){var o;v_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(W_(o)),o.changeStyle=o.changeStyle.bind(W_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),z_(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},z_(o);o.state={style:l?Sf({},l,c):c}}else o.state={style:{}};return o}return b_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Sf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(I1e(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||c?f:i.to;if(this.state&&h){var v={style:l?Sf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(eo(eo({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=u_e(s,a,Z1e(c),l,this.changeStyle),x=function(){o.stopJSAnimation=m()};this.manager.start([h,d,x,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,v,b){if(b===0)return g;var w=v.duration,_=v.easing,C=_===void 0?"ease":_,E=v.style,N=v.properties,S=v.onAnimationEnd,P=b>0?s[b-1]:v,A=N||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(ow(g),[o.runJSAnimation.bind(o,{from:P.style,to:E,duration:w,easing:C}),w]);var k=HO(A,w,C),I=eo(eo(eo({},P.style),E),{},{transition:k});return[].concat(ow(g),[I,w,S]).filter(B1e)};return this.manager.start([l].concat(ow(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$1e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Sf({},a,l):l,v=HO(Object.keys(g),s,c);x.start([d,o,eo(eo({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=f_e(i,d_e),c=y.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||c===0||s<=0)return o;var f=function(m){var x=m.props,g=x.style,v=g===void 0?{}:g,b=x.className,w=y.cloneElement(m,eo(eo({},l),{},{style:eo(eo({},v),d),className:b}));return w};return c===1?f(y.Children.only(o)):z.createElement("div",null,y.Children.map(o,function(h){return f(h)}))}}]),n}(y.PureComponent);Us.displayName="Animate";Us.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Us.propTypes={from:Dt.oneOfType([Dt.object,Dt.string]),to:Dt.oneOfType([Dt.object,Dt.string]),attributeName:Dt.string,duration:Dt.number,begin:Dt.number,easing:Dt.oneOfType([Dt.string,Dt.func]),steps:Dt.arrayOf(Dt.shape({duration:Dt.number.isRequired,style:Dt.object.isRequired,easing:Dt.oneOfType([Dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dt.func]),properties:Dt.arrayOf("string"),onAnimationEnd:Dt.func})),children:Dt.oneOfType([Dt.node,Dt.func]),isActive:Dt.bool,canBegin:Dt.bool,onAnimationEnd:Dt.func,shouldReAnimate:Dt.bool,onAnimationStart:Dt.func,onAnimationReStart:Dt.func};function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function T_e(t,e){return N_e(t)||C_e(t,e)||A_e(t,e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_e(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function N_e(t){if(Array.isArray(t))return t}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){I_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_e(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=k_e(t,"string");return ip(e)=="symbol"?e:e+""}function k_e(t,e){if(ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var x=Math.min(s,o);d="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*x," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},O_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},R_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tA=function(e){var n=ZO(ZO({},R_e),e),r=y.useRef(),i=y.useState(-1),o=T_e(i,2),s=o[0],a=o[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,x=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var _=St("recharts-rectangle",m);return w?z.createElement(Us,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:x,isActive:w},function(C){var E=C.width,N=C.height,S=C.x,P=C.y;return z.createElement(Us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:x},z.createElement("path",xv({},Pt(n,!0),{className:_,d:e2(S,P,E,N,h),ref:r})))}):z.createElement("path",xv({},Pt(n,!0),{className:_,d:e2(l,c,d,f,h)}))};function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}var nA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=St("recharts-dot",o);return n===+n&&r===+r&&i===+i?y.createElement("circle",H_({},Pt(e,!1),Ly(e),{className:s,cx:n,cy:r,r:i})):null};function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}var M_e=["x","y","top","left","width","height","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){$_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e,n){return e=L_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=F_e(t,"string");return op(e)=="symbol"?e:e+""}function F_e(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V_e(t,e){if(t==null)return{};var n=B_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},z_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,x=e.className,g=V_e(e,M_e),v=D_e({x:r,y:o,top:a,left:c,width:f,height:m},g);return!Ee(r)||!Ee(o)||!Ee(f)||!Ee(m)||!Ee(a)||!Ee(c)?null:z.createElement("path",q_({},Pt(v,!0),{className:St("recharts-cross",x),d:U_e(r,o,f,m,a,c)}))},W_e=rV,H_e=W_e(Object.getPrototypeOf,Object),q_e=H_e,G_e=qs,K_e=q_e,Y_e=Gs,X_e="[object Object]",Q_e=Function.prototype,J_e=Object.prototype,U6=Q_e.toString,Z_e=J_e.hasOwnProperty,eSe=U6.call(Object);function tSe(t){if(!Y_e(t)||G_e(t)!=X_e)return!1;var e=K_e(t);if(e===null)return!0;var n=Z_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&U6.call(n)==eSe}var nSe=tSe;const rSe=Yt(nSe);var iSe=qs,oSe=Gs,sSe="[object Boolean]";function aSe(t){return t===!0||t===!1||oSe(t)&&iSe(t)==sSe}var lSe=aSe;const cSe=Yt(lSe);function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function uSe(t,e){return pSe(t)||hSe(t,e)||fSe(t,e)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fSe(t,e){if(t){if(typeof t=="string")return n2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,e)}}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function pSe(t){if(Array.isArray(t))return t}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){mSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mSe(t,e,n){return e=gSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t){var e=ySe(t,"string");return sp(e)=="symbol"?e:e+""}function ySe(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},vSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xSe=function(e){var n=i2(i2({},vSe),e),r=y.useRef(),i=y.useState(-1),o=uSe(i,2),s=o[0],a=o[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,x=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=St("recharts-trapezoid",m);return b?z.createElement(Us,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:x,isActive:b},function(_){var C=_.upperWidth,E=_.lowerWidth,N=_.height,S=_.x,P=_.y;return z.createElement(Us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},z.createElement("path",bv({},Pt(n,!0),{className:w,d:o2(S,P,C,E,N),ref:r})))}):z.createElement("g",null,z.createElement("path",bv({},Pt(n,!0),{className:w,d:o2(l,c,d,f,h)})))},bSe=["option","shapeType","propTransformer","activeClassName","isActive"];function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function wSe(t,e){if(t==null)return{};var n=_Se(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){SSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e,n){return e=ESe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ESe(t){var e=TSe(t,"string");return ap(e)=="symbol"?e:e+""}function TSe(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PSe(t,e){return wv(wv({},e),t)}function ASe(t,e){return t==="symbols"}function a2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(tA,n);case"trapezoid":return z.createElement(xSe,n);case"sector":return z.createElement(j6,n);case"symbols":if(ASe(e))return z.createElement(xP,n);break;default:return null}}function CSe(t){return y.isValidElement(t)?t.props:t}function NSe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?PSe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=wSe(t,bSe),c;if(y.isValidElement(e))c=y.cloneElement(e,wv(wv({},l),CSe(e)));else if(xt(e))c=e(l);else if(rSe(e)&&!cSe(e)){var d=i(e,l);c=z.createElement(a2,{shapeType:n,elementProps:d})}else{var f=l;c=z.createElement(a2,{shapeType:n,elementProps:f})}return a?z.createElement(Rn,{className:s},c):c}function p0(t,e){return e!=null&&"trapezoids"in t.props}function m0(t,e){return e!=null&&"sectors"in t.props}function lp(t,e){return e!=null&&"points"in t.props}function ISe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function jSe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function kSe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function OSe(t,e){var n;return p0(t,e)?n=ISe:m0(t,e)?n=jSe:lp(t,e)&&(n=kSe),n}function RSe(t,e){var n;return p0(t,e)?n="trapezoids":m0(t,e)?n="sectors":lp(t,e)&&(n="points"),n}function MSe(t,e){if(p0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(m0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lp(t,e)?e.payload:{}}function DSe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=RSe(n,e),o=MSe(n,e),s=r.filter(function(l,c){var d=d0(o,l),f=n.props[i].filter(function(x){var g=OSe(n,e);return g(x,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var $Se=Math.ceil,LSe=Math.max;function FSe(t,e,n,r){for(var i=-1,o=LSe($Se((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var VSe=FSe,BSe=wV,l2=1/0,USe=17976931348623157e292;function zSe(t){if(!t)return t===0?t:0;if(t=BSe(t),t===l2||t===-l2){var e=t<0?-1:1;return e*USe}return t===t?t:0}var WSe=zSe,HSe=VSe,qSe=n0,sw=WSe;function GSe(t){return function(e,n,r){return r&&typeof r!="number"&&qSe(e,n,r)&&(n=r=void 0),e=sw(e),n===void 0?(n=e,e=0):n=sw(n),r=r===void 0?e<n?1:-1:sw(r),HSe(e,n,r,t)}}var KSe=GSe,YSe=KSe,XSe=YSe(),QSe=XSe;const _v=Yt(QSe);function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){z6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z6(t,e,n){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JSe(t){var e=ZSe(t,"string");return cp(e)=="symbol"?e:e+""}function ZSe(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eEe=["Webkit","Moz","O","ms"],tEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=eEe.reduce(function(o,s){return u2(u2({},o),{},z6({},s+r,n))},{});return i[e]=n,i};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(n),!0).forEach(function(r){ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function rEe(t,e,n){return e&&f2(t.prototype,e),n&&f2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iEe(t,e,n){return e=Ev(e),oEe(t,W6()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function oEe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(t)}function sEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W6=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function aEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function ci(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=lEe(t,"string");return td(e)=="symbol"?e:e+""}function lEe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=qf().domain(_v(0,l)).range([o,o+s-a]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},h2=function(e){return e.changedTouches&&!!e.changedTouches.length},nd=function(t){function e(n){var r;return nEe(this,e),r=iEe(this,e,[n]),ci(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ci(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ci(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),ci(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ci(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ci(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ci(r,"handleSlideDragStart",function(i){var o=h2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return aEe(e,t),rEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),x=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=xi(o[r],a,r);return xt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,x=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-a,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&x&&x(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=h2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-c):w<0&&(w=Math.max(w,f-c)),b[s]=c+w;var _=this.getIndex(b),C=_.startIndex,E=_.endIndex,N=function(){var P=v.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===P||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===P};this.setState(ci(ci({},s,c+w),"brushMoveStartX",r.pageX),function(){x&&N()&&x(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(ci({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,f=y.Children.only(c);return f?z.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,x=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),w=aw(aw({},Pt(this.props,!1)),{},{x:b,y:c,width:d,height:f}),_=m||"Min value: ".concat((o=x[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=x[v])===null||s===void 0?void 0:s.name);return z.createElement(Rn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:c};return z.createElement(Rn,{className:"recharts-brush-texts"},z.createElement(Zy,Sv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},x),this.getTextOfTick(i)),z.createElement(Zy,Sv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ee(a)||!Ee(l)||!Ee(c)||!Ee(d)||c<=0||d<=0)return null;var _=St("recharts-brush",o),C=z.Children.count(s)===1,E=tEe("userSelect","none");return z.createElement(Rn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):xt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return aw({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?cEe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(y.PureComponent);ci(nd,"displayName","Brush");ci(nd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uEe=AP;function dEe(t,e){var n;return uEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var fEe=dEe,hEe=YF,pEe=Md,mEe=fEe,gEe=ni,yEe=n0;function vEe(t,e,n){var r=gEe(t)?hEe:mEe;return n&&yEe(t,e,n)&&(e=void 0),r(t,pEe(e))}var xEe=vEe;const bEe=Yt(xEe);var es=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},p2=gV;function wEe(t,e,n){e=="__proto__"&&p2?p2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _Ee=wEe,SEe=_Ee,EEe=pV,TEe=Md;function PEe(t,e){var n={};return e=TEe(e),EEe(t,function(r,i,o){SEe(n,i,e(r,i,o))}),n}var AEe=PEe;const CEe=Yt(AEe);function NEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var IEe=NEe,jEe=AP;function kEe(t,e){var n=!0;return jEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var OEe=kEe,REe=IEe,MEe=OEe,DEe=Md,$Ee=ni,LEe=n0;function FEe(t,e,n){var r=$Ee(t)?REe:MEe;return n&&LEe(t,e,n)&&(e=void 0),r(t,DEe(e))}var VEe=FEe;const BEe=Yt(VEe);var UEe=["x","y"];function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return e=WEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WEe(t){var e=HEe(t,"string");return up(e)=="symbol"?e:e+""}function HEe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qEe(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KEe(t,e){var n=t.x,r=t.y,i=qEe(t,UEe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ff(ff(ff(ff(ff({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function g2(t){return z.createElement(NSe,K_({shapeType:"rectangle",propTransformer:KEe,activeClassName:"recharts-active-bar"},t))}var YEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ee(r)||lse(r);return o?e(r,i):(o||oc(),n)}},XEe=["value","background"],q6;function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function QEe(t,e){if(t==null)return{};var n=JEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function eTe(t,e,n){return e&&v2(t.prototype,e),n&&v2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tTe(t,e,n){return e=Pv(e),nTe(t,G6()?Reflect.construct(e,n||[],Pv(t).constructor):e.apply(t,n))}function nTe(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rTe(t)}function rTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(t)}function iTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function Ca(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=oTe(t,"string");return rd(e)=="symbol"?e:e+""}function oTe(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qp=function(t){function e(){var n;ZEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tTe(this,e,[].concat(i)),Ca(n,"state",{isAnimationFinished:!1}),Ca(n,"id",Vp("recharts-bar-")),Ca(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ca(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return iTe(e,t),eTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Pt(this.props,!1);return r&&r.map(function(f,h){var m=h===l,x=m?c:s,g=Fn(Fn(Fn({},d),f),{},{isActive:m,option:x,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Rn,Tv({className:"recharts-bar-rectangle"},Fy(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(g2,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return z.createElement(Us,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=o.map(function(v,b){var w=h&&h[b];if(w){var _=uo(w.x,v.x),C=uo(w.y,v.y),E=uo(w.width,v.width),N=uo(w.height,v.height);return Fn(Fn({},v),{},{x:_(x),y:C(x),width:E(x),height:N(x)})}if(s==="horizontal"){var S=uo(0,v.height),P=S(x);return Fn(Fn({},v),{},{y:v.y+v.height-P,height:P})}var A=uo(0,v.width),k=A(x);return Fn(Fn({},v),{},{width:k})});return z.createElement(Rn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!d0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Pt(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=QEe(c,XEe);if(!f)return null;var m=Fn(Fn(Fn(Fn(Fn({},h),{},{fill:"#eee"},f),l),Fy(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(g2,Tv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Vi(d,Hp);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:xi(v,b)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Rn,x,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,x=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=St("recharts-bar",s),w=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,C=w||_,E=gt(g)?this.id:g;return z.createElement(Rn,{className:b},w||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:w?c:c-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,z.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||v)&&za.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(y.PureComponent);q6=qp;Ca(qp,"displayName","Bar");Ca(qp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!As.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ca(qp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Obe(r,n);if(!m)return null;var x=e.layout,g=n.type.defaultProps,v=g!==void 0?Fn(Fn({},g),n.props):n.props,b=v.dataKey,w=v.children,_=v.minPointSize,C=x==="horizontal"?s:o,E=c?C.scale.domain():null,N=Bbe({numericAxis:C}),S=Vi(w,SV),P=f.map(function(A,k){var I,O,R,L,B,U;c?I=Rbe(c[d+k],E):(I=xi(A,b),Array.isArray(I)||(I=[N,I]));var W=YEe(_,q6.defaultProps.minPointSize)(I[1],k);if(x==="horizontal"){var F,V=[s.scale(I[0]),s.scale(I[1])],ee=V[0],Q=V[1];O=yO({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:A,index:k}),R=(F=Q??ee)!==null&&F!==void 0?F:void 0,L=m.size;var ne=ee-Q;if(B=Number.isNaN(ne)?0:ne,U={x:O,y:s.y,width:L,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ge=yo(B||W)*(Math.abs(W)-Math.abs(B));R-=ge,B+=ge}}else{var Ce=[o.scale(I[0]),o.scale(I[1])],qe=Ce[0],Xe=Ce[1];if(O=qe,R=yO({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:A,index:k}),L=Xe-qe,B=m.size,U={x:o.x,y:R,width:o.width,height:B},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var me=yo(L||W)*(Math.abs(W)-Math.abs(L));L+=me}}return Fn(Fn(Fn({},A),{},{x:O,y:R,width:L,height:B,value:c?I:I[1],payload:A,background:U},S&&S[k]&&S[k].props),{},{tooltipPayload:[C6(n,A)],tooltipPosition:{x:O+L/2,y:R+B/2}})});return Fn({data:P,layout:x},h)});function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function sTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y6(r.key),r)}}function aTe(t,e,n){return e&&x2(t.prototype,e),n&&x2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0(t,e,n){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6(t){var e=lTe(t,"string");return dp(e)=="symbol"?e:e+""}function lTe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cTe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!fi(c,qp);return d.reduce(function(m,x){var g=n[x],v=g.orientation,b=g.domain,w=g.padding,_=w===void 0?{}:w,C=g.mirror,E=g.reversed,N="".concat(v).concat(C?"Mirror":""),S,P,A,k,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],R=1/0,L=g.categoricalDomain.sort(dse);if(L.forEach(function(Ce,qe){qe>0&&(R=Math.min((Ce||0)-(L[qe-1]||0),R))}),Number.isFinite(R)){var B=R/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=B*U/2),g.padding==="no-gap"){var W=rc(e.barCategoryGap,B*U),F=B*U/2;S=F-W-(F-W)/U*W}}}i==="xAxis"?P=[r.left+(_.left||0)+(S||0),r.left+r.width-(_.right||0)-(S||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(S||0),r.top+r.height-(_.bottom||0)-(S||0)]:P=g.range,E&&(P=[P[1],P[0]]);var V=jbe(g,o,h),ee=V.scale,Q=V.realScaleType;ee.domain(b).range(P),kbe(ee);var ne=Vbe(ee,ao(ao({},g),{},{realScaleType:Q}));i==="xAxis"?(I=v==="top"&&!C||v==="bottom"&&C,A=r.left,k=f[N]-I*g.height):i==="yAxis"&&(I=v==="left"&&!C||v==="right"&&C,A=f[N]-I*g.width,k=r.top);var ge=ao(ao(ao({},g),ne),{},{realScaleType:Q,x:A,y:k,scale:ee,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ge.bandSize=hv(ge,ne),!g.hide&&i==="xAxis"?f[N]+=(I?-1:1)*ge.height:g.hide||(f[N]+=(I?-1:1)*ge.width),ao(ao({},m),{},g0({},x,ge))},{})},X6=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},uTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return X6({x:n,y:r},{x:i,y:o})},Q6=function(){function t(e){sTe(this,t),this.scale=e}return aTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();g0(Q6,"EPS",1e-4);var rA=function(e){var n=Object.keys(e).reduce(function(r,i){return ao(ao({},r),{},g0({},i,Q6.create(e[i])))},{});return ao(ao({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return CEe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return BEe(i,function(o,s){return n[s].isInRange(o)})}})};function dTe(t){return(t%180+180)%180}var fTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dTe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},hTe=foe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),J6=y.createContext(void 0),Z6=y.createContext(void 0),eB=y.createContext(void 0),pTe=y.createContext({}),tB=y.createContext(void 0),nB=y.createContext(0),rB=y.createContext(0),w2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,d=hTe(o);return z.createElement(J6.Provider,{value:r},z.createElement(Z6.Provider,{value:i},z.createElement(pTe.Provider,{value:o},z.createElement(eB.Provider,{value:d},z.createElement(tB.Provider,{value:s},z.createElement(nB.Provider,{value:c},z.createElement(rB.Provider,{value:l},a)))))))},mTe=function(){return y.useContext(tB)},iB=function(e){var n=y.useContext(J6);n==null&&oc();var r=n[e];return r==null&&oc(),r},oB=function(e){var n=y.useContext(Z6);n==null&&oc();var r=n[e];return r==null&&oc(),r},gTe=function(){var e=y.useContext(eB);return e},sB=function(){return y.useContext(rB)},aB=function(){return y.useContext(nB)};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function yTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function xTe(t,e,n){return e&&vTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bTe(t,e,n){return e=Av(e),wTe(t,lB()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function wTe(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Te(t)}function _Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function STe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iA(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=ETe(t,"string");return id(e)=="symbol"?e:e+""}function ETe(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TTe(t,e){return NTe(t)||CTe(t,e)||ATe(t,e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ATe(t,e){if(t){if(typeof t=="string")return E2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function NTe(t){if(Array.isArray(t))return t}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}var ITe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):xt(e)?r=e(n):r=z.createElement("line",Q_({},n,{className:"recharts-reference-line-line"})),r},jTe=function(e,n,r,i,o,s,a,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var x=c.y,g=e.y.apply(x,{position:s});if(es(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var b=c.x,w=e.x.apply(b,{position:s});if(es(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?_.reverse():_}if(i){var C=c.segment,E=C.map(function(N){return e.apply(N,{position:s})});return es(c,"discard")&&bEe(E,function(N){return!e.isInRange(N)})?null:E}return null};function kTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=mTe(),d=iB(i),f=oB(o),h=gTe();if(!c||!h)return null;Bl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rA({x:d.scale,y:f.scale}),x=Yn(e),g=Yn(n),v=r&&r.length===2,b=jTe(m,x,g,v,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=TTe(b,2),_=w[0],C=_.x,E=_.y,N=w[1],S=N.x,P=N.y,A=es(t,"hidden")?"url(#".concat(c,")"):void 0,k=S2(S2({clipPath:A},Pt(t,!0)),{},{x1:C,y1:E,x2:S,y2:P});return z.createElement(Rn,{className:St("recharts-reference-line",a)},ITe(s,k),kr.renderCallByParent(t,uTe({x1:C,y1:E,x2:S,y2:P})))}var oA=function(t){function e(){return yTe(this,e),bTe(this,e,arguments)}return STe(e,t),xTe(e,[{key:"render",value:function(){return z.createElement(kTe,this.props)}}])}(z.Component);iA(oA,"displayName","ReferenceLine");iA(oA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function MTe(t,e,n){return e&&RTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DTe(t,e,n){return e=Cv(e),$Te(t,uB()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function $Te(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(t)}function LTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function FTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function y0(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=VTe(t,"string");return od(e)=="symbol"?e:e+""}function VTe(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=rA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return es(e,"discard")&&!s.isInRange(a)?null:a},v0=function(t){function e(){return OTe(this,e),DTe(this,e,arguments)}return FTe(e,t),MTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=Yn(i),d=Yn(o);if(Bl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=BTe(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,g=x.shape,v=x.className,b=es(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=P2(P2({clipPath:b},Pt(this.props,!0)),{},{cx:h,cy:m});return z.createElement(Rn,{className:St("recharts-reference-dot",v)},e.renderDot(g,w),kr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(z.Component);y0(v0,"displayName","ReferenceDot");y0(v0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y0(v0,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):xt(t)?n=t(e):n=z.createElement(nA,J_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){x0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hB(r.key),r)}}function WTe(t,e,n){return e&&zTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HTe(t,e,n){return e=Nv(e),qTe(t,fB()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function qTe(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GTe(t)}function GTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function KTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tS(t,e)}function x0(t,e,n){return e=hB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hB(t){var e=YTe(t,"string");return sd(e)=="symbol"?e:e+""}function YTe(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=rA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return es(o,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:X6(m,x)},b0=function(t){function e(){return UTe(this,e),HTe(this,e,arguments)}return KTe(e,t),WTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Bl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yn(i),h=Yn(o),m=Yn(s),x=Yn(a),g=this.props.shape;if(!f&&!h&&!m&&!x&&!g)return null;var v=XTe(f,h,m,x,this.props);if(!v&&!g)return null;var b=es(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(Rn,{className:St("recharts-reference-area",l)},e.renderRect(g,C2(C2({clipPath:b},Pt(this.props,!0)),v)),kr.renderCallByParent(this.props,v))}}])}(z.Component);x0(b0,"displayName","ReferenceArea");x0(b0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});x0(b0,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):xt(t)?n=t(e):n=z.createElement(tA,eS({},e,{className:"recharts-reference-area-rect"})),n});function pB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function QTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return fTe(r,n)}function JTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Iv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ZTe(t,e){return pB(t,e+1)}function ePe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,d=s,f=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:pB(r,c)};var g=l,v,b=function(){return v===void 0&&(v=n(x,g)),v},w=x.coordinate,_=l===0||Iv(t,w,b,d,a);_||(l=0,d=s,c+=1),_&&(d=w+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){tPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tPe(t,e,n){return e=nPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nPe(t){var e=rPe(t,"string");return fp(e)=="symbol"?e:e+""}function rPe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var m=o[h],x,g=function(){return x===void 0&&(x=n(m,h)),x};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Cr(Cr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Cr(Cr({},m),{},{tickCoord:m.coordinate});var b=Iv(t,m.tickCoord,g,a,l);b&&(l=m.tickCoord-t*(g()/2+i),o[h]=Cr(Cr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function oPe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-c);s[a-1]=d=Cr(Cr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Iv(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),s[a-1]=Cr(Cr({},d),{},{isShow:!0}))}for(var x=o?a-1:a,g=function(w){var _=s[w],C,E=function(){return C===void 0&&(C=n(_,w)),C};if(w===0){var N=t*(_.coordinate-t*E()/2-l);s[w]=_=Cr(Cr({},_),{},{tickCoord:N<0?_.coordinate-N*t:_.coordinate})}else s[w]=_=Cr(Cr({},_),{},{tickCoord:_.coordinate});var S=Iv(t,_.tickCoord,E,l,c);S&&(l=_.tickCoord+t*(E()/2+i),s[w]=Cr(Cr({},_),{},{isShow:!0}))},v=0;v<x;v++)g(v);return s}function sPe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ee(l)||As.isSsr)return ZTe(i,typeof l=="number"&&Ee(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",x=d&&m==="width"?Hf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,C){var E=xt(c)?c(_.value,C):_.value;return m==="width"?QTe(Hf(E,{fontSize:e,letterSpacing:n}),x,f):Hf(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?yo(i[1].coordinate-i[0].coordinate):1,b=JTe(o,v,m);return l==="equidistantPreserveStart"?ePe(v,b,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=oPe(v,b,g,i,s,l==="preserveStartEnd"):h=iPe(v,b,g,i,s),h.filter(function(w){return w.isShow}))}var aPe=["viewBox"],lPe=["viewBox"],cPe=["ticks"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){sA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lw(t,e){if(t==null)return{};var n=uPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gB(r.key),r)}}function fPe(t,e,n){return e&&j2(t.prototype,e),n&&j2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hPe(t,e,n){return e=jv(e),pPe(t,mB()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function pPe(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mPe(t)}function mPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function gPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nS(t,e)}function sA(t,e,n){return e=gB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gB(t){var e=yPe(t,"string");return ad(e)=="symbol"?e:e+""}function yPe(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0=function(t){function e(n){var r;return dPe(this,e),r=hPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return gPe(e,t),fPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=lw(r,aPe),a=this.props,l=a.viewBox,c=lw(a,lPe);return!du(o,l)||!du(s,c)||!du(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,x,g,v,b,w,_=f?-1:1,C=r.tickSize||d,E=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=x=r.coordinate,v=s+ +!f*l,g=v-_*C,w=g-_*h,b=E;break;case"left":g=v=r.coordinate,x=o+ +!f*a,m=x-_*C,b=m-_*h,w=E;break;case"right":g=v=r.coordinate,x=o+ +f*a,m=x+_*C,b=m+_*h,w=E;break;default:m=x=r.coordinate,v=s+ +f*l,g=v+_*C,w=g+_*h,b=E;break}return{line:{x1:m,y1:g,x2:x,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=Wn(Wn(Wn({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Wn(Wn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=Wn(Wn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return z.createElement("line",Yc({},f,{className:St("recharts-cartesian-axis-line",Fi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=sPe(Wn(Wn({},this.props),{},{ticks:r}),i,o),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Pt(this.props,!1),b=Pt(d,!1),w=Wn(Wn({},v),{},{fill:"none"},Pt(l,!1)),_=m.map(function(C,E){var N=s.getTickLineCoord(C),S=N.line,P=N.tick,A=Wn(Wn(Wn(Wn({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:c},b),P),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(Rn,Yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Fy(s.props,C,E)),l&&z.createElement("line",Yc({},w,S,{className:St("recharts-cartesian-axis-tick-line",Fi(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(xt(f)?f(C.value,E):C.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=lw(f,cPe),x=h;return xt(l)&&(x=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!x||!x.length?null:z.createElement(Rn,{className:St("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=St(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?s=z.cloneElement(r,Wn(Wn({},i),{},{className:a})):xt(r)?s=r(Wn(Wn({},i),{},{className:a})):s=z.createElement(Zy,Yc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(y.Component);sA(w0,"displayName","CartesianAxis");sA(w0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vPe=["type","layout","connectNulls","ref"],xPe=["key"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function k2(t,e){if(t==null)return{};var n=bPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(this,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nc(t){return EPe(t)||SPe(t)||_Pe(t)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function SPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EPe(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vB(r.key),r)}}function PPe(t,e,n){return e&&R2(t.prototype,e),n&&R2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function APe(t,e,n){return e=kv(e),CPe(t,yB()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function CPe(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NPe(t)}function NPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iS(t,e)}function lo(t,e,n){return e=vB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vB(t){var e=jPe(t,"string");return ld(e)=="symbol"?e:e+""}function jPe(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gp=function(t){function e(){var n;TPe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=APe(this,e,[].concat(i)),lo(n,"state",{isAnimationFinished:!0,totalLength:0}),lo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),lo(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(b,w){return b+w});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/c),f=s%c,h=a-s,m=[],x=0,g=0;x<l.length;g+=l[x],++x)if(g+l[x]>f){m=[].concat(Nc(l.slice(0,x)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Nc(e.repeat(l,d)),Nc(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),lo(n,"id",Vp("recharts-line-")),lo(n,"pathRef",function(s){n.mainCurve=s}),lo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),lo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return IPe(e,t),PPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Vi(d,Hp);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:xi(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Rn,m,f.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,f=Pt(this.props,!1),h=Pt(l,!0),m=c.map(function(g,v){var b=li(li(li({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return e.renderDotItem(l,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(Rn,Yf({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var f=k2(a,vPe),h=li(li(li({},Pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return z.createElement(M_,Yf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,x=s.animateNewValues,g=s.width,v=s.height,b=this.state,w=b.prevPoints,_=b.totalLength;return z.createElement(Us,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(w){var N=w.length/a.length,S=a.map(function(O,R){var L=Math.floor(R*N);if(w[L]){var B=w[L],U=uo(B.x,O.x),W=uo(B.y,O.y);return li(li({},O),{},{x:U(E),y:W(E)})}if(x){var F=uo(g*2,O.x),V=uo(v/2,O.y);return li(li({},O),{},{x:F(E),y:V(E)})}return li(li({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(S,r,i)}var P=uo(0,_),A=P(E),k;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=o.getStrokeDasharray(A,_,I)}else k=o.generateSimpleStrokeDasharray(_,A);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!c&&d>0||!d0(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,x=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=a.length===1,_=St("recharts-line",l),C=c&&c.allowDataOverflow,E=d&&d.allowDataOverflow,N=C||E,S=gt(v)?this.id:v,P=(r=Pt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=P.r,k=A===void 0?3:A,I=P.strokeWidth,O=I===void 0?2:I,R=bse(s)?s:{},L=R.clipDot,B=L===void 0?!0:L,U=k*2+O;return z.createElement(Rn,{className:_},C||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:C?h:h-m/2,y:E?f:f-x/2,width:C?m:m*2,height:E?x:x*2})),!B&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:x+U}))):null,!w&&this.renderCurve(N,S),this.renderErrorBar(N,S),(w||s)&&this.renderDots(N,B,S),(!g||b)&&za.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Nc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Nc(s),Nc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(z.isValidElement(r))o=z.cloneElement(r,i);else if(xt(r))o=r(i);else{var s=i.key,a=k2(i,xPe),l=St("recharts-line-dot",typeof r!="boolean"?r.className:"");o=z.createElement(nA,Yf({key:s},a,{className:l}))}return o}}])}(y.PureComponent);lo(Gp,"displayName","Line");lo(Gp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!As.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});lo(Gp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var x=xi(h,s);return d==="horizontal"?{x:gO({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:gt(x)?null:r.scale(x),value:x,payload:h}:{x:gt(x)?null:n.scale(x),y:gO({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:x,payload:h}});return li({points:f,layout:d},c)});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function kPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wB(r.key),r)}}function RPe(t,e,n){return e&&OPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MPe(t,e,n){return e=Ov(e),DPe(t,xB()?Reflect.construct(e,n||[],Ov(t).constructor):e.apply(t,n))}function DPe(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Pe(t)}function $Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}function LPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function bB(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=FPe(t,"string");return cd(e)=="symbol"?e:e+""}function FPe(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function VPe(t){var e=t.xAxisId,n=sB(),r=aB(),i=iB(e);return i==null?null:y.createElement(w0,sS({},i,{className:St("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Il(s,!0)}}))}var _0=function(t){function e(){return kPe(this,e),MPe(this,e,arguments)}return LPe(e,t),RPe(e,[{key:"render",value:function(){return y.createElement(VPe,this.props)}}])}(y.Component);bB(_0,"displayName","XAxis");bB(_0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function BPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EB(r.key),r)}}function zPe(t,e,n){return e&&UPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WPe(t,e,n){return e=Rv(e),HPe(t,_B()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function HPe(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qPe(t)}function qPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function GPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aS(t,e)}function SB(t,e,n){return e=EB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EB(t){var e=KPe(t,"string");return ud(e)=="symbol"?e:e+""}function KPe(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(this,arguments)}var YPe=function(e){var n=e.yAxisId,r=sB(),i=aB(),o=oB(n);return o==null?null:y.createElement(w0,lS({},o,{className:St("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Il(a,!0)}}))},S0=function(t){function e(){return BPe(this,e),WPe(this,e,arguments)}return GPe(e,t),zPe(e,[{key:"render",value:function(){return y.createElement(YPe,this.props)}}])}(y.Component);SB(S0,"displayName","YAxis");SB(S0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M2(t){return ZPe(t)||JPe(t)||QPe(t)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QPe(t,e){if(t){if(typeof t=="string")return cS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cS(t,e)}}function JPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZPe(t){if(Array.isArray(t))return cS(t)}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uS=function(e,n,r,i,o){var s=Vi(e,oA),a=Vi(e,v0),l=[].concat(M2(s),M2(a)),c=Vi(e,b0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&es(v.props,"extendDomain")&&Ee(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),c.length){var m="".concat(f,"1"),x="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&es(v.props,"extendDomain")&&Ee(v.props[m])&&Ee(v.props[x])){var b=v.props[m],w=v.props[x];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return Ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},TB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,m,x){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,x),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var C=v.length,E;for(_=0;_<C;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];v[_].fn.apply(v[_].context,w)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&s(this,m);else{for(var g=0,v=[],b=x.length;g<b;g++)(x[g].fn!==d||h&&!x[g].once||f&&x[g].context!==f)&&v.push(x[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(TB);var eAe=TB.exports;const tAe=Yt(eAe);var cw=new tAe,uw="recharts.syncMouseEvents";function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PB(r.key),r)}}function iAe(t,e,n){return e&&rAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dw(t,e,n){return e=PB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PB(t){var e=oAe(t,"string");return hp(e)=="symbol"?e:e+""}function oAe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sAe=function(){function t(){nAe(this,t),dw(this,"activeIndex",0),dw(this,"coordinateList",[]),dw(this,"layout","horizontal")}return iAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function aAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function lAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function AB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=hr(e,n,r,i),a=hr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function cAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=hr(a,l,c,f),m=hr(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return AB(e);return[{x:r,y:i},{x:o,y:s}]}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){uAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uAe(t,e,n){return e=dAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dAe(t){var e=fAe(t,"string");return pp(e)=="symbol"?e:e+""}function fAe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var x,g=M_;if(h==="ScatterChart")x=s,g=z_e;else if(h==="BarChart")x=lAe(f,s,l,d),g=tA;else if(f==="radial"){var v=AB(s),b=v.cx,w=v.cy,_=v.radius,C=v.startAngle,E=v.endAngle;x={cx:b,cy:w,startAngle:C,endAngle:E,innerRadius:_,outerRadius:_},g=j6}else x={points:cAe(f,s,l)},g=M_;var N=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},l),x),Pt(m,!1)),{},{payload:a,payloadIndex:c,className:St("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(g,N)}var pAe=["item"],mAe=["children","className","width","height","style","compact","title","desc"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function $2(t,e){return vAe(t)||yAe(t,e)||NB(t,e)||gAe()}function gAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function vAe(t){if(Array.isArray(t))return t}function L2(t,e){if(t==null)return{};var n=xAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IB(r.key),r)}}function _Ae(t,e,n){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=Mv(e),EAe(t,CB()?Reflect.construct(e,n||[],Mv(t).constructor):e.apply(t,n))}function EAe(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(t)}function TAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CB=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function PAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dS(t,e)}function fd(t){return NAe(t)||CAe(t)||NB(t)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NB(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function CAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NAe(t){if(Array.isArray(t))return fS(t)}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t,e,n){return e=IB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IB(t){var e=IAe(t,"string");return dd(e)=="symbol"?e:e+""}function IAe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jAe={xAxis:["bottom","top"],yAxis:["left","right"]},kAe={width:"100%",height:"100%"},jB={x:0,y:0};function ig(t){return t}var OAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},RAe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return re(re(re({},i),hr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return re(re(re({},i),hr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return jB},E0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(fd(a),fd(c)):a},[]);return s.length>0?s:e&&e.length&&Ee(i)&&Ee(o)?e.slice(i,o+1):[]};function kB(t){return t==="number"?[0,"auto"]:void 0}var hS=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=E0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=$y(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(fd(l),[C6(c,h)]):l},[])},V2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=OAe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Tbe(s,a,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=hS(e,n,d,f),m=RAe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},MAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=P6(d,o);return r.reduce(function(x,g){var v,b=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,w=b.type,_=b.dataKey,C=b.allowDataOverflow,E=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,P=b.includeHidden,A=b[s];if(x[A])return x;var k=E0(e.data,{graphicalItems:i.filter(function(ne){var ge,Ce=s in ne.props?ne.props[s]:(ge=ne.type.defaultProps)===null||ge===void 0?void 0:ge[s];return Ce===A}),dataStartIndex:l,dataEndIndex:c}),I=k.length,O,R,L;aAe(b.domain,C,w)&&(O=I_(b.domain,null,C),m&&(w==="number"||N!=="auto")&&(L=Gf(k,_,"category")));var B=kB(w);if(!O||O.length===0){var U,W=(U=b.domain)!==null&&U!==void 0?U:B;if(_){if(O=Gf(k,_,w),w==="category"&&m){var F=use(O);E&&F?(R=O,O=_v(0,I)):E||(O=bO(W,O,g).reduce(function(ne,ge){return ne.indexOf(ge)>=0?ne:[].concat(fd(ne),[ge])},[]))}else if(w==="category")E?O=O.filter(function(ne){return ne!==""&&!gt(ne)}):O=bO(W,O,g).reduce(function(ne,ge){return ne.indexOf(ge)>=0||ge===""||gt(ge)?ne:[].concat(fd(ne),[ge])},[]);else if(w==="number"){var V=Ibe(k,i.filter(function(ne){var ge,Ce,qe=s in ne.props?ne.props[s]:(ge=ne.type.defaultProps)===null||ge===void 0?void 0:ge[s],Xe="hide"in ne.props?ne.props.hide:(Ce=ne.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return qe===A&&(P||!Xe)}),_,o,d);V&&(O=V)}m&&(w==="number"||N!=="auto")&&(L=Gf(k,_,"category"))}else m?O=_v(0,I):a&&a[A]&&a[A].hasStack&&w==="number"?O=h==="expand"?[0,1]:A6(a[A].stackGroups,l,c):O=T6(k,i.filter(function(ne){var ge=s in ne.props?ne.props[s]:ne.type.defaultProps[s],Ce="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return ge===A&&(P||!Ce)}),w,d,!0);if(w==="number")O=uS(f,O,A,o,S),W&&(O=I_(W,O,C));else if(w==="category"&&W){var ee=W,Q=O.every(function(ne){return ee.indexOf(ne)>=0});Q&&(O=ee)}}return re(re({},x),{},He({},A,re(re({},b),{},{axisType:o,domain:O,categoricalDomain:L,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},DAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=E0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,x=P6(d,o),g=-1;return r.reduce(function(v,b){var w=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,_=w[s],C=kB("number");if(!v[_]){g++;var E;return x?E=_v(0,m):a&&a[_]&&a[_].hasStack?(E=A6(a[_].stackGroups,l,c),E=uS(f,E,_,o)):(E=I_(C,T6(h,r.filter(function(N){var S,P,A=s in N.props?N.props[s]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[s],k="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===_&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=uS(f,E,_,o)),re(re({},v),{},He({},_,re(re({axisType:o},i.defaultProps),{},{hide:!0,orientation:Fi(jAe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:x,layout:d})))}return v},{})},$Ae=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Vi(d,o),m={};return h&&h.length?m=MAe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=DAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},LAe=function(e){var n=Rc(e),r=Il(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:CP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:hv(n,r)}},B2=function(e){var n=e.children,r=e.defaultShowTooltip,i=fi(n,nd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},FAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ps(n&&n.type);return r&&r.indexOf("Bar")>=0})},U2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=fi(f,nd),x=fi(f,fu),g=Object.keys(l).reduce(function(E,N){var S=l[N],P=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},He({},P,E[P]+S.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,N){var S=s[N],P=S.orientation;return!S.mirror&&!S.hide?re(re({},E),{},He({},P,Fi(E,"".concat(P))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},v),g),w=b.bottom;m&&(b.bottom+=m.props.height||nd.defaultProps.height),x&&n&&(b=Cbe(b,i,r,n));var _=c-b.left-b.right,C=d-b.top-b.bottom;return re(re({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(C,0)})},BAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},UAe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,w){var _=w.graphicalItems,C=w.stackGroups,E=w.offset,N=w.updateId,S=w.dataStartIndex,P=w.dataEndIndex,A=b.barSize,k=b.layout,I=b.barGap,O=b.barCategoryGap,R=b.maxBarSize,L=U2(k),B=L.numericAxisName,U=L.cateAxisName,W=FAe(_),F=[];return _.forEach(function(V,ee){var Q=E0(b.data,{graphicalItems:[V],dataStartIndex:S,dataEndIndex:P}),ne=V.type.defaultProps!==void 0?re(re({},V.type.defaultProps),V.props):V.props,ge=ne.dataKey,Ce=ne.maxBarSize,qe=ne["".concat(B,"Id")],Xe=ne["".concat(U,"Id")],me={},we=l.reduce(function(cn,kt){var pn=w["".concat(kt.axisType,"Map")],yr=ne["".concat(kt.axisType,"Id")];pn&&pn[yr]||kt.axisType==="zAxis"||oc();var bn=pn[yr];return re(re({},cn),{},He(He({},kt.axisType,bn),"".concat(kt.axisType,"Ticks"),Il(bn)))},me),te=we[U],he=we["".concat(U,"Ticks")],pe=C&&C[qe]&&C[qe].hasStack&&Ube(V,C[qe].stackGroups),Y=Ps(V.type).indexOf("Bar")>=0,Se=hv(te,he),Re=[],mt=W&&Pbe({barSize:A,stackGroups:C,totalSize:BAe(we,U)});if(Y){var ot,At,Rt=gt(Ce)?R:Ce,xe=(ot=(At=hv(te,he,!0))!==null&&At!==void 0?At:Rt)!==null&&ot!==void 0?ot:0;Re=Abe({barGap:I,barCategoryGap:O,bandSize:xe!==Se?xe:Se,sizeList:mt[Xe],maxBarSize:Rt}),xe!==Se&&(Re=Re.map(function(cn){return re(re({},cn),{},{position:re(re({},cn.position),{},{offset:cn.position.offset-xe/2})})}))}var Qe=V&&V.type&&V.type.getComposedData;Qe&&F.push({props:re(re({},Qe(re(re({},we),{},{displayedData:Q,props:b,dataKey:ge,item:V,bandSize:Se,barPosition:Re,offset:E,stackedData:pe,layout:k,dataStartIndex:S,dataEndIndex:P}))),{},He(He(He({key:V.key||"item-".concat(ee)},B,we[B]),U,we[U]),"animationId",N)),childIndex:Sse(V,b.children),item:V})}),F},m=function(b,w){var _=b.props,C=b.dataStartIndex,E=b.dataEndIndex,N=b.updateId;if(!hj({props:_}))return null;var S=_.children,P=_.layout,A=_.stackOffset,k=_.data,I=_.reverseStackOrder,O=U2(P),R=O.numericAxisName,L=O.cateAxisName,B=Vi(S,r),U=Fbe(k,B,"".concat(R,"Id"),"".concat(L,"Id"),A,I),W=l.reduce(function(ne,ge){var Ce="".concat(ge.axisType,"Map");return re(re({},ne),{},He({},Ce,$Ae(_,re(re({},ge),{},{graphicalItems:B,stackGroups:ge.axisType===R&&U,dataStartIndex:C,dataEndIndex:E}))))},{}),F=VAe(re(re({},W),{},{props:_,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(ne){W[ne]=d(_,W[ne],F,ne.replace("Map",""),n)});var V=W["".concat(L,"Map")],ee=LAe(V),Q=h(_,re(re({},W),{},{dataStartIndex:C,dataEndIndex:E,updateId:N,graphicalItems:B,stackGroups:U,offset:F}));return re(re({formattedGraphicalItems:Q,graphicalItems:B,offset:F,stackGroups:U},ee),W)},x=function(v){function b(w){var _,C,E;return bAe(this,b),E=SAe(this,b,[w]),He(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(E,"accessibilityManager",new sAe),He(E,"handleLegendBBoxUpdate",function(N){if(N){var S=E.state,P=S.dataStartIndex,A=S.dataEndIndex,k=S.updateId;E.setState(re({legendBBox:N},m({props:E.props,dataStartIndex:P,dataEndIndex:A,updateId:k},re(re({},E.state),{},{legendBBox:N}))))}}),He(E,"handleReceiveSyncEvent",function(N,S,P){if(E.props.syncId===N){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),He(E,"handleBrushChange",function(N){var S=N.startIndex,P=N.endIndex;if(S!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var A=E.state.updateId;E.setState(function(){return re({dataStartIndex:S,dataEndIndex:P},m({props:E.props,dataStartIndex:S,dataEndIndex:P,updateId:A},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:P})}}),He(E,"handleMouseEnter",function(N){var S=E.getMouseInfo(N);if(S){var P=re(re({},S),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var A=E.props.onMouseEnter;xt(A)&&A(P,N)}}),He(E,"triggeredAfterMouseMove",function(N){var S=E.getMouseInfo(N),P=S?re(re({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var A=E.props.onMouseMove;xt(A)&&A(P,N)}),He(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),He(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),He(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),He(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var P=E.props.onMouseLeave;xt(P)&&P(S,N)}),He(E,"handleOuterEvent",function(N){var S=_se(N),P=Fi(E.props,"".concat(S));if(S&&xt(P)){var A,k;/.*touch.*/i.test(S)?k=E.getMouseInfo(N.changedTouches[0]):k=E.getMouseInfo(N),P((A=k)!==null&&A!==void 0?A:{},N)}}),He(E,"handleClick",function(N){var S=E.getMouseInfo(N);if(S){var P=re(re({},S),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var A=E.props.onClick;xt(A)&&A(P,N)}}),He(E,"handleMouseDown",function(N){var S=E.props.onMouseDown;if(xt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleMouseUp",function(N){var S=E.props.onMouseUp;if(xt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),He(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),He(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),He(E,"handleDoubleClick",function(N){var S=E.props.onDoubleClick;if(xt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"handleContextMenu",function(N){var S=E.props.onContextMenu;if(xt(S)){var P=E.getMouseInfo(N);S(P,N)}}),He(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&cw.emit(uw,E.props.syncId,N,E.eventEmitterSymbol)}),He(E,"applySyncEvent",function(N){var S=E.props,P=S.layout,A=S.syncMethod,k=E.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(re({dataStartIndex:I,dataEndIndex:O},m({props:E.props,dataStartIndex:I,dataEndIndex:O,updateId:k},E.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,L=N.chartY,B=N.activeTooltipIndex,U=E.state,W=U.offset,F=U.tooltipTicks;if(!W)return;if(typeof A=="function")B=A(F,N);else if(A==="value"){B=-1;for(var V=0;V<F.length;V++)if(F[V].value===N.activeLabel){B=V;break}}var ee=re(re({},W),{},{x:W.left,y:W.top}),Q=Math.min(R,ee.x+ee.width),ne=Math.min(L,ee.y+ee.height),ge=F[B]&&F[B].value,Ce=hS(E.state,E.props.data,B),qe=F[B]?{x:P==="horizontal"?F[B].coordinate:Q,y:P==="horizontal"?ne:F[B].coordinate}:jB;E.setState(re(re({},N),{},{activeLabel:ge,activeCoordinate:qe,activePayload:Ce,activeTooltipIndex:B}))}else E.setState(N)}),He(E,"renderCursor",function(N){var S,P=E.state,A=P.isTooltipActive,k=P.activeCoordinate,I=P.activePayload,O=P.offset,R=P.activeTooltipIndex,L=P.tooltipAxisBandSize,B=E.getTooltipEventType(),U=(S=N.props.active)!==null&&S!==void 0?S:A,W=E.props.layout,F=N.key||"_recharts-cursor";return z.createElement(hAe,{key:F,activeCoordinate:k,activePayload:I,activeTooltipIndex:R,chartName:n,element:N,isActive:U,layout:W,offset:O,tooltipAxisBandSize:L,tooltipEventType:B})}),He(E,"renderPolarAxis",function(N,S,P){var A=Fi(N,"type.axisType"),k=Fi(E.state,"".concat(A,"Map")),I=N.type.defaultProps,O=I!==void 0?re(re({},I),N.props):N.props,R=k&&k[O["".concat(A,"Id")]];return y.cloneElement(N,re(re({},R),{},{className:St(A,R.className),key:N.key||"".concat(S,"-").concat(P),ticks:Il(R,!0)}))}),He(E,"renderPolarGrid",function(N){var S=N.props,P=S.radialLines,A=S.polarAngles,k=S.polarRadius,I=E.state,O=I.radiusAxisMap,R=I.angleAxisMap,L=Rc(O),B=Rc(R),U=B.cx,W=B.cy,F=B.innerRadius,V=B.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(A)?A:Il(B,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(k)?k:Il(L,!0).map(function(ee){return ee.coordinate}),cx:U,cy:W,innerRadius:F,outerRadius:V,key:N.key||"polar-grid",radialLines:P})}),He(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,S=E.props,P=S.children,A=S.width,k=S.height,I=E.props.margin||{},O=A-(I.left||0)-(I.right||0),R=S6({children:P,formattedGraphicalItems:N,legendWidth:O,legendContent:c});if(!R)return null;var L=R.item,B=L2(R,pAe);return y.cloneElement(L,re(re({},B),{},{chartWidth:A,chartHeight:k,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),He(E,"renderTooltip",function(){var N,S=E.props,P=S.children,A=S.accessibilityLayer,k=fi(P,Mo);if(!k)return null;var I=E.state,O=I.isTooltipActive,R=I.activeCoordinate,L=I.activePayload,B=I.activeLabel,U=I.offset,W=(N=k.props.active)!==null&&N!==void 0?N:O;return y.cloneElement(k,{viewBox:re(re({},U),{},{x:U.left,y:U.top}),active:W,label:B,payload:W?L:[],coordinate:R,accessibilityLayer:A})}),He(E,"renderBrush",function(N){var S=E.props,P=S.margin,A=S.data,k=E.state,I=k.offset,O=k.dataStartIndex,R=k.dataEndIndex,L=k.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Zm(E.handleBrushChange,N.props.onChange),data:A,x:Ee(N.props.x)?N.props.x:I.left,y:Ee(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:Ee(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:R,updateId:"brush-".concat(L)})}),He(E,"renderReferenceElement",function(N,S,P){if(!N)return null;var A=E,k=A.clipPathId,I=E.state,O=I.xAxisMap,R=I.yAxisMap,L=I.offset,B=N.type.defaultProps||{},U=N.props,W=U.xAxisId,F=W===void 0?B.xAxisId:W,V=U.yAxisId,ee=V===void 0?B.yAxisId:V;return y.cloneElement(N,{key:N.key||"".concat(S,"-").concat(P),xAxis:O[F],yAxis:R[ee],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),He(E,"renderActivePoints",function(N){var S=N.item,P=N.activePoint,A=N.basePoint,k=N.childIndex,I=N.isRange,O=[],R=S.props.key,L=S.item.type.defaultProps!==void 0?re(re({},S.item.type.defaultProps),S.item.props):S.item.props,B=L.activeDot,U=L.dataKey,W=re(re({index:k,dataKey:U,cx:P.x,cy:P.y,r:4,fill:eA(S.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Pt(B,!1)),Ly(B));return O.push(b.renderActiveDot(B,W,"".concat(R,"-activePoint-").concat(k))),A?O.push(b.renderActiveDot(B,re(re({},W),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(k))):I&&O.push(null),O}),He(E,"renderGraphicChild",function(N,S,P){var A=E.filterFormatItem(N,S,P);if(!A)return null;var k=E.getTooltipEventType(),I=E.state,O=I.isTooltipActive,R=I.tooltipAxis,L=I.activeTooltipIndex,B=I.activeLabel,U=E.props.children,W=fi(U,Mo),F=A.props,V=F.points,ee=F.isRange,Q=F.baseLine,ne=A.item.type.defaultProps!==void 0?re(re({},A.item.type.defaultProps),A.item.props):A.item.props,ge=ne.activeDot,Ce=ne.hide,qe=ne.activeBar,Xe=ne.activeShape,me=!!(!Ce&&O&&W&&(ge||qe||Xe)),we={};k!=="axis"&&W&&W.props.trigger==="click"?we={onClick:Zm(E.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(we={onMouseLeave:Zm(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Zm(E.handleItemMouseEnter,N.props.onMouseEnter)});var te=y.cloneElement(N,re(re({},A.props),we));function he(kt){return typeof R.dataKey=="function"?R.dataKey(kt.payload):null}if(me)if(L>=0){var pe,Y;if(R.dataKey&&!R.allowDuplicatedCategory){var Se=typeof R.dataKey=="function"?he:"payload.".concat(R.dataKey.toString());pe=$y(V,Se,B),Y=ee&&Q&&$y(Q,Se,B)}else pe=V==null?void 0:V[L],Y=ee&&Q&&Q[L];if(Xe||qe){var Re=N.props.activeIndex!==void 0?N.props.activeIndex:L;return[y.cloneElement(N,re(re(re({},A.props),we),{},{activeIndex:Re})),null,null]}if(!gt(pe))return[te].concat(fd(E.renderActivePoints({item:A,activePoint:pe,basePoint:Y,childIndex:L,isRange:ee})))}else{var mt,ot=(mt=E.getItemByXY(E.state.activeCoordinate))!==null&&mt!==void 0?mt:{graphicalItem:te},At=ot.graphicalItem,Rt=At.item,xe=Rt===void 0?N:Rt,Qe=At.childIndex,cn=re(re(re({},A.props),we),{},{activeIndex:Qe});return[y.cloneElement(xe,cn),null,null]}return ee?[te,null,null]:[te,null]}),He(E,"renderCustomized",function(N,S,P){return y.cloneElement(N,re(re({key:"recharts-customized-".concat(P)},E.props),E.state))}),He(E,"renderMap",{CartesianGrid:{handler:ig,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ig},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ig},YAxis:{handler:ig},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Vp("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=_V(E.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return PAe(b,v),_Ae(b,[{key:"componentDidMount",value:function(){var _,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,C=_.children,E=_.data,N=_.height,S=_.layout,P=fi(C,Mo);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=hS(this.state,E,A,k),O=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+N)/2,L=S==="horizontal",B=L?{x:O,y:R}:{y:O,x:R},U=this.state.formattedGraphicalItems.find(function(F){var V=F.item;return V.type.name==="Scatter"});U&&(B=re(re({},B),U.props.points[A].tooltipPosition),I=U.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:I,activeCoordinate:B};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){H1([fi(_.children,Mo)],[fi(this.props.children,Mo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=fi(this.props.children,Mo);if(_&&typeof _.props.shared=="boolean"){var C=_.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),N=Qge(E),S={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},P=E.width/C.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,P);if(!A)return null;var k=this.state,I=k.xAxisMap,O=k.yAxisMap,R=this.getTooltipEventType(),L=V2(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&I&&O){var B=Rc(I).scale,U=Rc(O).scale,W=B&&B.invert?B.invert(S.chartX):null,F=U&&U.invert?U.invert(S.chartY):null;return re(re({},S),{},{xValue:W,yValue:F},L)}return L?re(re({},S),L):null}},{key:"inRange",value:function(_,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=_/E,P=C/E;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,k=S>=A.left&&S<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return k?{x:S,y:P}:null}var I=this.state,O=I.angleAxisMap,R=I.radiusAxisMap;if(O&&R){var L=Rc(O);return SO({x:S,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,C=this.getTooltipEventType(),E=fi(_,Mo),N={};E&&C==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ly(this.props,this.handleOuterEvent);return re(re({},S),N)}},{key:"addListener",value:function(){cw.on(uw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cw.removeListener(uw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,C,E){for(var N=this.state.formattedGraphicalItems,S=0,P=N.length;S<P;S++){var A=N[S];if(A.item===_||A.props.key===_.key||C===Ps(A.item.type)&&E===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,C=this.state.offset,E=C.left,N=C.top,S=C.height,P=C.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x:E,y:N,height:S,width:P})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(C,E){var N=$2(E,2),S=N[0],P=N[1];return re(re({},C),{},He({},S,P.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(C,E){var N=$2(E,2),S=N[0],P=N[1];return re(re({},C),{},He({},S,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(_){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(_){var C=this.state,E=C.formattedGraphicalItems,N=C.activeItem;if(E&&E.length)for(var S=0,P=E.length;S<P;S++){var A=E[S],k=A.props,I=A.item,O=I.type.defaultProps!==void 0?re(re({},I.type.defaultProps),I.props):I.props,R=Ps(I.type);if(R==="Bar"){var L=(k.data||[]).find(function(F){return O_e(_,F)});if(L)return{graphicalItem:A,payload:L}}else if(R==="RadialBar"){var B=(k.data||[]).find(function(F){return SO(_,F)});if(B)return{graphicalItem:A,payload:B}}else if(p0(A,N)||m0(A,N)||lp(A,N)){var U=DSe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),W=O.activeIndex===void 0?U:O.activeIndex;return{graphicalItem:re(re({},A),{},{childIndex:W}),payload:lp(A,N)?O.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!hj(this))return null;var C=this.props,E=C.children,N=C.className,S=C.width,P=C.height,A=C.style,k=C.compact,I=C.title,O=C.desc,R=L2(C,mAe),L=Pt(R,!1);if(k)return z.createElement(w2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(G1,Xc({},L,{width:S,height:P,title:I,desc:O}),this.renderClipPath(),mj(E,this.renderMap)));if(this.props.accessibilityLayer){var B,U;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(U=this.props.role)!==null&&U!==void 0?U:"application",L.onKeyDown=function(F){_.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){_.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return z.createElement(w2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Xc({className:St("recharts-wrapper",N),style:re({position:"relative",cursor:"default",width:S,height:P},A)},W,{ref:function(V){_.container=V}}),z.createElement(G1,Xc({},L,{width:S,height:P,title:I,desc:O,style:kAe}),this.renderClipPath(),mj(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);He(x,"displayName",n),He(x,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(x,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,_=v.data,C=v.children,E=v.width,N=v.height,S=v.layout,P=v.stackOffset,A=v.margin,k=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=B2(v);return re(re(re({},O),{},{updateId:0},m(re(re({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:C})}if(w!==b.prevDataKey||_!==b.prevData||E!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||P!==b.prevStackOffset||!du(A,b.prevMargin)){var R=B2(v),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=re(re({},V2(b,_,S)),{},{updateId:b.updateId+1}),U=re(re(re({},R),L),B);return re(re(re({},U),m(re({props:v},U),b)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:C})}if(!H1(C,b.prevChildren)){var W,F,V,ee,Q=fi(C,nd),ne=Q&&(W=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:k,ge=Q&&(V=(ee=Q.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:I,Ce=ne!==k||ge!==I,qe=!gt(_),Xe=qe&&!Ce?b.updateId:b.updateId+1;return re(re({updateId:Xe},m(re(re({props:v},b),{},{updateId:Xe,dataStartIndex:ne,dataEndIndex:ge}),b)),{},{prevChildren:C,dataStartIndex:ne,dataEndIndex:ge})}return null}),He(x,"renderActiveDot",function(v,b,w){var _;return y.isValidElement(v)?_=y.cloneElement(v,b):xt(v)?_=v(b):_=z.createElement(nA,b),z.createElement(Rn,{className:"recharts-active-dot",key:w},_)});var g=y.forwardRef(function(b,w){return z.createElement(x,Xc({},b,{ref:w}))});return g.displayName=x.displayName,g},zAe=UAe({chartName:"LineChart",GraphicalChild:Gp,axisComponents:[{axisType:"xAxis",AxisComp:_0},{axisType:"yAxis",AxisComp:S0}],formatAxisMap:cTe});function WAe({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",c=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return u.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&u.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),u.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${c()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx($f,{className:"w-5 h-5 md:w-6 md:h-6"}),u.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[u.jsx(d$,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&u.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&u.jsxs("div",{className:"flex flex-col items-center mt-2",children:[u.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx($f,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const z2="shotclock_tutorial_seen",W2="shotclock_sessions",og="shotclock_paused_session";function HAe(){var Mn,xr;const[,t]=ol(),[e,n]=y.useState("setup"),[r,i]=y.useState("solo"),[o,s]=y.useState([{name:"Player 1",extensions:0}]),[a,l]=y.useState(0),[c,d]=y.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=y.useState(0),[m,x]=y.useState(0),[g,v]=y.useState(30),[b,w]=y.useState(30),[_,C]=y.useState(30),[E,N]=y.useState(!1),[S,P]=y.useState(!1),[A]=y.useState(3),[k]=y.useState(15),[I,O]=y.useState(!0),[R,L]=y.useState(!1),[B,U]=y.useState(1),W=y.useRef(null),F=y.useRef(null),[V,ee]=y.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q=y.useRef(0),ne=y.useRef(0),ge=y.useRef(0);y.useEffect(()=>(Tt.startSession("tempo"),()=>{ge.current>0&&Tt.trackSkillMetric("tempo","session_complete",1),Tt.endSession()}),[]),y.useEffect(()=>{const q=localStorage.getItem(og);if(q)try{const le=JSON.parse(q);(le.gameMode==="paused"||le.gameMode==="playing")&&(n("paused"),i(le.playerMode),s(le.players),l(le.currentPlayerIndex),v(le.duration),C(le.timeRemaining),P(le.isInExtension),O(le.soloAutoRestart),ee({...le.sessionStats,shotEvents:le.sessionStats.shotEvents||[]}),ne.current=le.accumulatedShotTime||0,le.teams&&d(le.teams),le.currentTeamIndex!==void 0&&h(le.currentTeamIndex),le.currentPartnerIndex!==void 0&&x(le.currentPartnerIndex))}catch{localStorage.removeItem(og)}},[]),y.useEffect(()=>{localStorage.getItem(z2)||L(!0)},[]);const Ce=y.useCallback((q=800,le=.3,Te=1)=>{F.current||(F.current=new AudioContext);const Le=F.current;for(let _t=0;_t<Te;_t++)setTimeout(()=>{const Nn=Le.createOscillator(),Be=Le.createGain();Nn.connect(Be),Be.connect(Le.destination),Nn.frequency.value=q,Be.gain.value=.4,Be.gain.exponentialRampToValueAtTime(.01,Le.currentTime+le),Nn.start(Le.currentTime),Nn.stop(Le.currentTime+le)},_t*150)},[]),qe=y.useCallback(()=>{Ce(600,.15,1)},[Ce]),Xe=y.useCallback(()=>{Ce(400,.5,3)},[Ce]),me=y.useCallback(()=>{Ce(1e3,.2,2)},[Ce]);y.useEffect(()=>(E&&_>0?W.current=setInterval(()=>{C(q=>{if(q<=6&&q>1&&qe(),q<=1){if(Xe(),P(!1),r==="solo"&&I){let le=ne.current/1e3;Q.current>0&&(le+=(Date.now()-Q.current)/1e3),le<=0&&(le=g),ge.current++,Tt.trackSkillMetric("tempo","shot_time",le),ee(Te=>{var _t;const Le={shotIndex:Te.shotCount,duration:Math.max(0,le),playerName:((_t=o[0])==null?void 0:_t.name)||"Player 1",timestamp:Date.now()};return{...Te,shotCount:Te.shotCount+1,shotDurations:[...Te.shotDurations,Math.max(0,le)],shotEvents:[...Te.shotEvents||[],Le]}}),ne.current=0,setTimeout(()=>{me(),C(g),N(!0),Q.current=Date.now()},1500)}else ee(le=>({...le,timeouts:le.timeouts+1})),N(!1);return 0}return q-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,_,r,I,g,qe,Xe,me]);const we=o[a],te=c[f];r==="scotch-doubles"?te==null||te.players[m]:we==null||we.name;const he=()=>{_===0&&(C(g),P(!1)),Q.current===0&&(Q.current=Date.now()),N(!0)},pe=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1)},Y=y.useCallback(()=>{const q={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:_,isInExtension:S,soloAutoRestart:I,sessionStats:V,accumulatedShotTime:ne.current,teams:c,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(og,JSON.stringify(q))},[r,o,a,g,_,S,I,V,c,f,m]),Se=()=>{localStorage.removeItem(og)},Re=()=>{Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1),n("paused")};y.useEffect(()=>{e==="paused"&&Y()},[e,Y]);const mt=()=>{n("playing"),_>0&&(Q.current=Date.now(),N(!0))},ot=()=>{N(!1),n("paused"),Y(),t("/")};y.useEffect(()=>{const q=()=>{document.hidden&&e==="playing"&&E&&(Q.current>0&&(ne.current+=Date.now()-Q.current),Q.current=0,N(!1),n("paused"))};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[e,E]);const At=()=>{var le;let q=ne.current/1e3;if(Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0){ge.current++,Tt.trackSkillMetric("tempo","shot_time",q);const Te={shotIndex:V.shotCount,duration:Math.max(0,q),playerName:r==="scotch-doubles"?(te==null?void 0:te.players[m])||"Unknown":r==="two-player"?(we==null?void 0:we.name)||"Unknown":((le=o[0])==null?void 0:le.name)||"Player 1",teamName:r==="scotch-doubles"?te==null?void 0:te.name:void 0,timestamp:Date.now()};ee(Le=>({...Le,shotCount:Le.shotCount+1,shotDurations:[...Le.shotDurations,Math.max(0,q)],shotEvents:[...Le.shotEvents||[],Te]}))}N(!1),C(g),P(!1),ne.current=0,r==="two-player"?l(Te=>(Te+1)%o.length):r==="scotch-doubles"&&(h(Te=>(Te+1)%c.length),x(0)),Q.current=Date.now(),setTimeout(()=>N(!0),100)},Rt=()=>{let q=ne.current/1e3;if(Q.current>0&&(q+=(Date.now()-Q.current)/1e3),q>0){ge.current++,Tt.trackSkillMetric("tempo","shot_time",q);const le={shotIndex:V.shotCount,duration:Math.max(0,q),playerName:(te==null?void 0:te.players[m])||"Unknown",teamName:te==null?void 0:te.name,timestamp:Date.now()};ee(Te=>({...Te,shotCount:Te.shotCount+1,shotDurations:[...Te.shotDurations,Math.max(0,q)],shotEvents:[...Te.shotEvents||[],le]}))}N(!1),C(g),P(!1),ne.current=0,x(le=>(le+1)%2),Q.current=Date.now(),setTimeout(()=>N(!0),100)},xe=()=>{r==="scotch-doubles"?te&&te.extensions<A&&(C(q=>q+k),P(!0),d(q=>q.map((le,Te)=>Te===f?{...le,extensions:le.extensions+1}:le)),ee(q=>({...q,totalExtensions:q.totalExtensions+1}))):we&&we.extensions<A&&(C(q=>q+k),P(!0),s(q=>q.map((le,Te)=>Te===a?{...le,extensions:le.extensions+1}:le)),ee(q=>({...q,totalExtensions:q.totalExtensions+1})))},Qe=q=>{const le=localStorage.getItem(W2),Te=le?JSON.parse(le):[],Le={id:Date.now().toString(),date:new Date().toISOString(),stats:q};Te.unshift(Le),Te.length>20&&Te.pop(),localStorage.setItem(W2,JSON.stringify(Te))},cn=()=>{var Te;N(!1),Se();const q={...V,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Le=>Le.name)};let le=ne.current/1e3;if(Q.current>0&&(le+=(Date.now()-Q.current)/1e3),le>0&&_<g&&_>0){q.shotDurations=[...q.shotDurations,Math.max(0,le)],q.shotCount+=1;const Le={shotIndex:q.shotCount-1,duration:Math.max(0,le),playerName:r==="scotch-doubles"?(te==null?void 0:te.players[m])||"Unknown":r==="two-player"?(we==null?void 0:we.name)||"Unknown":((Te=o[0])==null?void 0:Te.name)||"Player 1",teamName:r==="scotch-doubles"?te==null?void 0:te.name:void 0,timestamp:Date.now()};q.shotEvents=[...q.shotEvents||[],Le]}ne.current=0,Q.current=0,ee(q),Qe(q),n("summary")},kt=()=>{Se(),C(g),P(!1),s(q=>q.map(le=>({...le,extensions:0}))),d(q=>q.map(le=>({...le,extensions:0}))),l(0),h(0),x(0),ee({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),Q.current=0,ne.current=0,n("setup")},pn=q=>{v(q),C(q),w(q)},yr=()=>{v(b),C(b)},bn=()=>{var le,Te,Le,_t,Nn,Be,lt,wn,_n,Xi,ri,qr;Se(),ge.current=0,r==="two-player"?s([{name:((le=o[0])==null?void 0:le.name)||"Player 1",extensions:0},{name:((Te=o[1])==null?void 0:Te.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(Gr=>Gr.map(Ys=>({...Ys,extensions:0}))),h(0),x(0)):s([{name:((Le=o[0])==null?void 0:Le.name)||"Player 1",extensions:0}]),l(0),C(g),P(!1),ne.current=0;let q;r==="scotch-doubles"?q=[`${(_t=c[0])==null?void 0:_t.name}: ${(Nn=c[0])==null?void 0:Nn.players[0]}, ${(Be=c[0])==null?void 0:Be.players[1]}`,`${(lt=c[1])==null?void 0:lt.name}: ${(wn=c[1])==null?void 0:wn.players[0]}, ${(_n=c[1])==null?void 0:_n.players[1]}`]:r==="two-player"?q=[((Xi=o[0])==null?void 0:Xi.name)||"Player 1",((ri=o[1])==null?void 0:ri.name)||"Player 2"]:q=[((qr=o[0])==null?void 0:qr.name)||"Player 1"],ee({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:q}),Q.current=Date.now(),n("playing")},vr=(q,le)=>{s(Te=>{const Le=[...Te];return Le[q]||(Le[q]={name:"",extensions:0}),Le[q]={...Le[q],name:le},Le})},Yi=(q,le)=>{d(Te=>{const Le=[...Te];return Le[q]={...Le[q],name:le},Le})},Wt=(q,le,Te)=>{d(Le=>{const _t=[...Le],Nn=[..._t[q].players];return Nn[le]=Te,_t[q]={..._t[q],players:Nn},_t})},Mr=()=>{localStorage.setItem(z2,"true"),L(!1),U(1)},An=()=>V.shotDurations.length===0?0:V.shotDurations.reduce((le,Te)=>le+Te,0)/V.shotDurations.length,Cn=q=>{const le=Math.floor(q/60),Te=Math.floor(q%60);return le>0?`${le}m ${Te}s`:`${Te.toFixed(1)}s`},It=u.jsx(ho,{open:R,onOpenChange:q=>{L(q),q||U(1)},children:u.jsxs(ki,{className:"max-w-md",children:[u.jsxs(Oi,{children:[u.jsx(Ri,{children:"Welcome to CueMaster: Tempo"}),u.jsx(zu,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),u.jsxs("div",{className:"space-y-4",children:[B===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),B===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),u.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(vf,{className:"w-4 h-4 text-primary"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(Nm,{className:"w-4 h-4 text-destructive"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),B===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{children:["Background changes from ",u.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",u.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",u.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",u.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),u.jsx("li",{children:"Warning beeps in the final 5 seconds"}),u.jsx("li",{children:"Triple chime when time expires"}),u.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.max(1,q-1)),disabled:B===1,children:"Back"}),u.jsx(ue,{variant:"outline",size:"sm",onClick:()=>U(q=>Math.min(3,q+1)),disabled:B===3,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3].map(q=>u.jsx("div",{className:`w-2 h-2 rounded-full ${q===B?"bg-primary":"bg-muted"}`},q))}),u.jsx(ue,{size:"sm",onClick:Mr,"data-testid":"button-complete-tutorial",children:B===3?"Finish":"Skip"})]})]})});if(e==="summary"){const q=An(),le=V.endTime?(V.endTime-V.startTime)/1e3:0;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:kt,"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(ze,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(c1,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:V.playerMode==="two-player"?V.playerNames.join(" vs "):V.playerNames[0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(TE,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:Cn(q)})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(vf,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:V.shotCount})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(gh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:V.totalExtensions})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(PE,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:V.timeouts})]})]})]}),u.jsxs(ze,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),u.jsxs("span",{className:"font-medium",children:[V.duration,"s"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),u.jsx("span",{className:"font-medium",children:Cn(le)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),u.jsx("span",{className:"font-medium capitalize",children:V.playerMode.replace("-"," ")})]})]})]}),V.shotEvents&&V.shotEvents.length>0&&(()=>{const Te=V.shotEvents.reduce((Be,lt)=>(Be[lt.playerName]||(Be[lt.playerName]={shots:[],total:0,teamName:lt.teamName}),Be[lt.playerName].shots.push(lt),Be[lt.playerName].total+=lt.duration,Be),{}),Le=V.shotEvents.reduce((Be,lt)=>(lt.teamName&&(Be[lt.teamName]||(Be[lt.teamName]={shots:[],total:0}),Be[lt.teamName].shots.push(lt),Be[lt.teamName].total+=lt.duration),Be),{}),_t=Object.keys(Te),Nn=Object.keys(Le);return u.jsxs(u.Fragment,{children:[Nn.length>0&&u.jsxs(ze,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:Nn.map(Be=>{const lt=Le[Be],wn=lt.total/lt.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:Be}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Cn(wn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",lt.shots.length," shots)"]})]})]},Be)})})]}),u.jsxs(ze,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Player Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:_t.map(Be=>{const lt=Te[Be],wn=lt.total/lt.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:Be}),lt.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",lt.teamName,")"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Cn(wn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",lt.shots.length," shots)"]})]})]},Be)})})]}),u.jsxs(ze,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Shot Duration Over Time"}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:_t.map(Be=>{const lt=Te[Be],wn=lt.shots.map((_n,Xi)=>({shot:Xi+1,duration:parseFloat(_n.duration.toFixed(1))}));return u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(nN,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"font-medium text-foreground",children:Be}),lt.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",lt.teamName,")"]})]}),u.jsx("div",{className:"h-40",children:u.jsx(Wge,{width:"100%",height:"100%",children:u.jsxs(zAe,{data:wn,children:[u.jsx(_0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),u.jsx(S0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:_n=>`${_n}s`}),u.jsx(Mo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:_n=>`Shot ${_n}`,formatter:_n=>[`${_n}s`,"Duration"]}),u.jsx(Gp,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]},Be)})})]})]})})(),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),u.jsxs(ue,{onClick:kt,className:"w-full",size:"lg","data-testid":"button-new-session",children:[u.jsx($f,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:mt,"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:u.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[u.jsxs(ze,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(d$,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",u.jsxs("span",{className:"font-mono font-bold text-foreground",children:[_,"s"]})]}),u.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold text-lg",children:V.shotCount})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),u.jsx("p",{className:"font-bold text-lg",children:V.totalExtensions})]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ue,{onClick:mt,className:"w-full",size:"lg","data-testid":"button-resume",children:[u.jsx($f,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),u.jsxs(ue,{onClick:ot,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[u.jsx(h7,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),u.jsxs(ue,{onClick:cn,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[u.jsx(Nm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>L(!0),"data-testid":"button-tutorial",children:u.jsx(ox,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(ze,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ue,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[u.jsx(nN,{className:"w-4 h-4 mr-2"}),"Solo"]}),u.jsxs(ue,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[u.jsx(ru,{className:"w-4 h-4 mr-2"}),"Two Players"]}),u.jsxs(_ne,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[u.jsx(ru,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&u.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?u.jsxs(ze,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),u.jsx("div",{className:"space-y-6",children:[0,1].map(q=>{var le,Te,Le;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs(dn,{htmlFor:`team${q+1}-name`,children:["Team ",q+1," Name"]}),u.jsx(rr,{id:`team${q+1}-name`,value:((le=c[q])==null?void 0:le.name)||"",onChange:_t=>Yi(q,_t.target.value),placeholder:`Team ${q+1}`,className:"mt-1","data-testid":`input-team${q+1}-name`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx(dn,{htmlFor:`team${q+1}-player1`,children:"Partner 1"}),u.jsx(rr,{id:`team${q+1}-player1`,value:((Te=c[q])==null?void 0:Te.players[0])||"",onChange:_t=>Wt(q,0,_t.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${q+1}-player1`})]}),u.jsxs("div",{children:[u.jsx(dn,{htmlFor:`team${q+1}-player2`,children:"Partner 2"}),u.jsx(rr,{id:`team${q+1}-player2`,value:((Le=c[q])==null?void 0:Le.players[1])||"",onChange:_t=>Wt(q,1,_t.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${q+1}-player2`})]})]})]},q)})})]}):u.jsxs(ze,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(dn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),u.jsx(rr,{id:"player1-name",value:((Mn=o[0])==null?void 0:Mn.name)||"",onChange:q=>vr(0,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&u.jsxs("div",{children:[u.jsx(dn,{htmlFor:"player2-name",children:"Player 2"}),u.jsx(rr,{id:"player2-name",value:((xr=o[1])==null?void 0:xr.name)||"",onChange:q=>vr(1,q.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),u.jsxs(ze,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(q=>u.jsxs(ue,{variant:g===q?"default":"outline",onClick:()=>pn(q),"data-testid":`button-preset-${q}`,children:[q,"s"]},q))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(rr,{type:"number",min:"5",max:"300",value:b,onChange:q=>w(parseInt(q.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),u.jsx(ue,{onClick:yr,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&u.jsx(ze,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),u.jsx(Di,{checked:I,onCheckedChange:O,"data-testid":"switch-auto-restart"})]})}),u.jsxs(ue,{onClick:bn,className:"w-full",size:"lg","data-testid":"button-start-game",children:[u.jsx($f,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),It]});const Xt=()=>{_===0?(C(g),P(!1),Q.current=Date.now(),N(!0)):E?pe():he()};return u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-[2] relative min-h-0",children:[u.jsx(WAe,{seconds:_,totalSeconds:g,playerName:r==="solo"?we==null?void 0:we.name:void 0,isExtension:S,isRunning:E,onClick:Xt}),u.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",V.shotCount+1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:Re,"data-testid":"button-pause-menu",children:u.jsx(m7,{className:"w-5 h-5"})}),u.jsxs(ho,{children:[u.jsx(dte,{asChild:!0,children:u.jsx(ue,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:u.jsx(EE,{className:"w-5 h-5"})})}),u.jsxs(ki,{children:[u.jsx(Oi,{children:u.jsx(Ri,{children:"Quick Settings"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(dn,{children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(q=>u.jsxs(ue,{variant:g===q?"default":"outline",size:"sm",onClick:()=>{pn(q),E||C(q)},"data-testid":`button-quick-${q}`,children:[q,"s"]},q))})]}),r==="solo"&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(dn,{children:"Continuous Play"}),u.jsx(Di,{checked:I,onCheckedChange:O,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:u.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((q,le)=>u.jsx("button",{onClick:()=>{a!==le&&(l(le),C(g),P(!1),me())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===le?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${le+1}`,children:q.name},le))})}),r==="scotch-doubles"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:u.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[u.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:c.map((q,le)=>u.jsx("button",{onClick:()=>{f!==le&&(h(le),x(0),C(g),P(!1),me())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===le?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${le+1}`,children:q.name},le))}),u.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",te==null?void 0:te.players[m]]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:u.jsxs("button",{onClick:xe,disabled:r==="scotch-doubles"?((te==null?void 0:te.extensions)||0)>=A||_===0:((we==null?void 0:we.extensions)||0)>=A||_===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[u.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),u.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(te==null?void 0:te.extensions)||0:(we==null?void 0:we.extensions)||0,"/",A," used)"]})]})})]}),r==="scotch-doubles"?u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:cn,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(Nm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),u.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Rt,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[u.jsx(ru,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),u.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),u.jsxs("button",{onClick:At,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(vf,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),u.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),u.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:cn,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(Nm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:At,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(vf,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),u.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT SHOT"})]})]})]})}function qAe({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-px h-full bg-muted"}),u.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function OB({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=y.useState(0),s=y.useRef(0),a=y.useRef(0),l=n[i],c=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,x=h.changedTouches[0].clientY,g=m-s.current,v=x-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(b=>b-1):g<0&&i<n.length-1&&o(b=>b+1))},f=()=>{o(0),e()};return u.jsx(ho,{open:t,onOpenChange:f,children:u.jsx(ki,{className:"max-w-md [&>button]:hidden",onTouchStart:c,onTouchEnd:d,children:u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),u.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:u.jsx(xh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"min-h-[200px]",children:l.content}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs(ue,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[u.jsx(l7,{className:"w-4 h-4 mr-1"}),"Back"]}),u.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>u.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?u.jsxs(ue,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",u.jsx(c$,{className:"w-4 h-4 ml-1"})]}):u.jsx(ue,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const H2="tableLevel_tutorial_seen";function GAe(){const[,t]=ol(),{toast:e}=Sp(),[n,r]=y.useState(0),[i,o]=y.useState(0),[s,a]=y.useState({x:0,y:0}),[l,c]=y.useState("home"),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[x,g]=y.useState(!1),[v,b]=y.useState(null),w=y.useRef(null),_=y.useRef(null),C=[{title:"How It Works",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),u.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),u.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Place your device flat on a surface you know is level"}),u.jsxs("li",{children:["Tap ",u.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),u.jsx("li",{children:"Hold still for 2 seconds while it samples"}),u.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Save different calibrations for different locations:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),u.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];y.useEffect(()=>(Tt.startSession("truelevel"),()=>{Tt.endSession()}),[]),y.useEffect(()=>{localStorage.getItem(H2)||g(!0)},[]);const E=()=>{localStorage.setItem(H2,"true"),g(!1)};y.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),y.useEffect(()=>{if(!h)return;let A=!1;const k=I=>{I.beta!==null&&I.gamma!==null&&(A||(A=!0,b(!0),w.current&&clearTimeout(w.current)),_.current={beta:I.beta,gamma:I.gamma},r(I.gamma-s.x),o(I.beta-s.y-90))};return window.addEventListener("deviceorientation",k),w.current=setTimeout(()=>{A||(b(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),w.current&&clearTimeout(w.current)}},[s,h,e]);const N=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const A=[];let k=0;const I=10,O=()=>{if(_.current&&(A.push({x:_.current.gamma,y:_.current.beta-90}),k++,k>=I)){const R=A.reduce((B,U)=>B+U.x,0)/A.length,L=A.reduce((B,U)=>B+U.y,0)/A.length;a({x:R,y:L}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:R,y:L})),Tt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<I&&setTimeout(O,150)};setTimeout(()=>{if(!_.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}O()},300)},S=A=>{c(A);const k=localStorage.getItem(`tableLevel_${A}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${A.charAt(0).toUpperCase()+A.slice(1)} calibration applied`}))},P=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(OB,{open:x,onComplete:E,pages:C,toolName:"Table Level Gauge"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:u.jsx(ox,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&u.jsx(ze,{className:"p-4 border-destructive bg-destructive/10",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(PE,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[u.jsx(E7,{className:"w-4 h-4"}),u.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&u.jsx(ze,{className:"p-4 border-muted",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Detecting orientation sensors..."})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx(qAe,{tiltX:n,tiltY:i,isCalibrating:d})}),u.jsxs(ze,{className:"p-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),u.jsx(rP,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:u.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[u.jsx(ue,{variant:l==="home"?"default":"outline",onClick:()=>S("home"),"data-testid":"button-preset-home",children:"Home"}),u.jsx(ue,{variant:l==="league"?"default":"outline",onClick:()=>S("league"),"data-testid":"button-preset-league",children:"League"}),u.jsx(ue,{variant:l==="tournament"?"default":"outline",onClick:()=>S("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ue,{className:"flex-1",onClick:N,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),u.jsx(ue,{variant:"outline",onClick:P,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:u.jsxs(ze,{className:"p-6 max-w-md text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),u.jsx(ue,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var RB=["PageUp","PageDown"],MB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],DB={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Fd="Slider",[pS,KAe,YAe]=Ep(Fd),[$B,SNe]=_i(Fd,[YAe]),[XAe,T0]=$B(Fd),LB=y.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:x,...g}=t,v=y.useRef(new Set),b=y.useRef(0),_=s==="horizontal"?QAe:JAe,[C=[],E]=_o({prop:d,defaultProp:c,onChange:I=>{var R;(R=[...v.current][b.current])==null||R.focus(),f(I)}}),N=y.useRef(C);function S(I){const O=rCe(C,I);k(I,O)}function P(I){k(I,b.current)}function A(){const I=N.current[b.current];C[b.current]!==I&&h(C)}function k(I,O,{commit:R}={commit:!1}){const L=aCe(o),B=lCe(Math.round((I-r)/o)*o+r,L),U=Oh(B,[r,i]);E((W=[])=>{const F=tCe(W,U,O);if(sCe(F,l*o)){b.current=F.indexOf(U);const V=String(F)!==String(W);return V&&R&&h(F),V?F:W}else return W})}return u.jsx(XAe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:v.current,values:C,orientation:s,form:x,children:u.jsx(pS.Provider,{scope:t.__scopeSlider,children:u.jsx(pS.Slot,{scope:t.__scopeSlider,children:u.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:ke(g.onPointerDown,()=>{a||(N.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:S,onSlideMove:a?void 0:P,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:O})=>{if(!a){const B=RB.includes(I.key)||I.shiftKey&&MB.includes(I.key)?10:1,U=b.current,W=C[U],F=o*B*O;k(W+F,U,{commit:!0})}}})})})})});LB.displayName=Fd;var[FB,VB]=$B(Fd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QAe=y.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[f,h]=y.useState(null),m=dt(e,_=>h(_)),x=y.useRef(void 0),g=Pd(i),v=g==="ltr",b=v&&!o||!v&&o;function w(_){const C=x.current||f.getBoundingClientRect(),E=[0,C.width],S=aA(E,b?[n,r]:[r,n]);return x.current=C,S(_-C.left)}return u.jsx(FB,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:u.jsx(BB,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const C=w(_.clientX);s==null||s(C)},onSlideMove:_=>{const C=w(_.clientX);a==null||a(C)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:_=>{const E=DB[b?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:E?-1:1})}})})}),JAe=y.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=y.useRef(null),f=dt(e,d),h=y.useRef(void 0),m=!i;function x(g){const v=h.current||d.current.getBoundingClientRect(),b=[0,v.height],_=aA(b,m?[r,n]:[n,r]);return h.current=v,_(g-v.top)}return u.jsx(FB,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(BB,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=x(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=x(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const b=DB[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:b?-1:1})}})})}),BB=y.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=T0(Fd,n);return u.jsx(Ve.span,{...c,ref:e,onKeyDown:ke(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):RB.concat(MB).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:ke(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ke(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:ke(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),UB="SliderTrack",zB=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=T0(UB,n);return u.jsx(Ve.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});zB.displayName=UB;var mS="SliderRange",WB=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=T0(mS,n),o=VB(mS,n),s=y.useRef(null),a=dt(e,s),l=i.values.length,c=i.values.map(h=>qB(h,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Ve.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});WB.displayName=mS;var gS="SliderThumb",HB=y.forwardRef((t,e)=>{const n=KAe(t.__scopeSlider),[r,i]=y.useState(null),o=dt(e,a=>i(a)),s=y.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(ZAe,{...t,ref:o,index:s})}),ZAe=y.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=T0(gS,n),a=VB(gS,n),[l,c]=y.useState(null),d=dt(e,w=>c(w)),f=l?s.form||!!l.closest("form"):!0,h=ME(l),m=s.values[r],x=m===void 0?0:qB(m,s.min,s.max),g=nCe(r,s.values.length),v=h==null?void 0:h[a.size],b=v?iCe(v,x,a.direction):0;return y.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${b}px)`},children:[u.jsx(pS.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Ve.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:ke(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&u.jsx(eCe,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});HB.displayName=gS;var eCe=t=>{const{value:e,...n}=t,r=y.useRef(null),i=LT(e);return y.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function tCe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function qB(t,e,n){const o=100/(n-e)*(t-e);return Oh(o,[0,100])}function nCe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function rCe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function iCe(t,e,n){const r=t/2,o=aA([0,50],[0,r]);return(r-o(e)*n)*n}function oCe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function sCe(t,e){if(e>0){const n=oCe(t);return Math.min(...n)>=e}return!0}function aA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function aCe(t){return(String(t).split(".")[1]||"").length}function lCe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var GB=LB,cCe=zB,uCe=WB,dCe=HB;const Ef=y.forwardRef(({className:t,...e},n)=>u.jsxs(GB,{ref:n,className:ft("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(cCe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(uCe,{className:"absolute h-full bg-primary"})}),u.jsx(dCe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ef.displayName=GB.displayName;var fCe=[" ","Enter","ArrowUp","ArrowDown"],hCe=[" ","Enter"],Kp="Select",[P0,A0,pCe]=Ep(Kp),[Vd,ENe]=_i(Kp,[pCe,cx]),C0=cx(),[mCe,ul]=Vd(Kp),[gCe,yCe]=Vd(Kp),KB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:x}=t,g=C0(e),[v,b]=y.useState(null),[w,_]=y.useState(null),[C,E]=y.useState(!1),N=Pd(c),[S=!1,P]=_o({prop:r,defaultProp:i,onChange:o}),[A,k]=_o({prop:s,defaultProp:a,onChange:l}),I=y.useRef(null),O=v?x||!!v.closest("form"):!0,[R,L]=y.useState(new Set),B=Array.from(R).map(U=>U.props.value).join(";");return u.jsx(gq,{...g,children:u.jsxs(mCe,{required:m,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:qo(),value:A,onValueChange:k,open:S,onOpenChange:P,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[u.jsx(P0.Provider,{scope:e,children:u.jsx(gCe,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{L(W=>new Set(W).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{L(W=>{const F=new Set(W);return F.delete(U),F})},[]),children:n})}),O?u.jsxs(xU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:U=>k(U.target.value),disabled:h,form:x,children:[A===void 0?u.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};KB.displayName=Kp;var YB="SelectTrigger",XB=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=C0(n),s=ul(YB,n),a=s.disabled||r,l=dt(e,s.onTriggerChange),c=A0(n),d=y.useRef("touch"),[f,h,m]=bU(g=>{const v=c().filter(_=>!_.disabled),b=v.find(_=>_.value===s.value),w=wU(v,g,b);w!==void 0&&s.onValueChange(w.value)}),x=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(z$,{asChild:!0,...o,children:u.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":vU(s.value)?"":void 0,...i,ref:l,onClick:ke(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:ke(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ke(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&fCe.includes(g.key)&&(x(),g.preventDefault())})})})});XB.displayName=YB;var QB="SelectValue",JB=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=ul(QB,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=dt(e,l.onValueNodeChange);return sr(()=>{c(d)},[c,d]),u.jsx(Ve.span,{...a,ref:f,style:{pointerEvents:"none"},children:vU(l.value)?u.jsx(u.Fragment,{children:s}):o})});JB.displayName=QB;var vCe="SelectIcon",ZB=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});ZB.displayName=vCe;var xCe="SelectPortal",eU=t=>u.jsx(nx,{asChild:!0,...t});eU.displayName=xCe;var sc="SelectContent",tU=y.forwardRef((t,e)=>{const n=ul(sc,t.__scopeSelect),[r,i]=y.useState();if(sr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?cc.createPortal(u.jsx(nU,{scope:t.__scopeSelect,children:u.jsx(P0.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(rU,{...t,ref:e})});tU.displayName=sc;var no=10,[nU,dl]=Vd(sc),bCe="SelectContentImpl",wCe=ku("SelectContent.RemoveScroll"),rU=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v,...b}=t,w=ul(sc,n),[_,C]=y.useState(null),[E,N]=y.useState(null),S=dt(e,me=>C(me)),[P,A]=y.useState(null),[k,I]=y.useState(null),O=A0(n),[R,L]=y.useState(!1),B=y.useRef(!1);y.useEffect(()=>{if(_)return R3(_)},[_]),T3();const U=y.useCallback(me=>{const[we,...te]=O().map(Y=>Y.ref.current),[he]=te.slice(-1),pe=document.activeElement;for(const Y of me)if(Y===pe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===we&&E&&(E.scrollTop=0),Y===he&&E&&(E.scrollTop=E.scrollHeight),Y==null||Y.focus(),document.activeElement!==pe))return},[O,E]),W=y.useCallback(()=>U([P,_]),[U,P,_]);y.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:F,triggerPointerDownPosRef:V}=w;y.useEffect(()=>{if(_){let me={x:0,y:0};const we=he=>{var pe,Y;me={x:Math.abs(Math.round(he.pageX)-(((pe=V.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((Y=V.current)==null?void 0:Y.y)??0))}},te=he=>{me.x<=10&&me.y<=10?he.preventDefault():_.contains(he.target)||F(!1),document.removeEventListener("pointermove",we),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",te,{capture:!0})}}},[_,F,V]),y.useEffect(()=>{const me=()=>F(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[F]);const[ee,Q]=bU(me=>{const we=O().filter(pe=>!pe.disabled),te=we.find(pe=>pe.ref.current===document.activeElement),he=wU(we,me,te);he&&setTimeout(()=>he.ref.current.focus())}),ne=y.useCallback((me,we,te)=>{const he=!B.current&&!te;(w.value!==void 0&&w.value===we||he)&&(A(me),he&&(B.current=!0))},[w.value]),ge=y.useCallback(()=>_==null?void 0:_.focus(),[_]),Ce=y.useCallback((me,we,te)=>{const he=!B.current&&!te;(w.value!==void 0&&w.value===we||he)&&I(me)},[w.value]),qe=r==="popper"?yS:iU,Xe=qe===yS?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(nU,{scope:n,content:_,viewport:E,onViewportChange:N,itemRefCallback:ne,selectedItem:P,onItemLeave:ge,itemTextRefCallback:Ce,focusSelectedItem:W,selectedItemText:k,position:r,isPositioned:R,searchRef:ee,children:u.jsx(OT,{as:wCe,allowPinchZoom:!0,children:u.jsx(kT,{asChild:!0,trapped:w.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:ke(i,me=>{var we;(we=w.trigger)==null||we.focus({preventScroll:!0}),me.preventDefault()}),children:u.jsx(Tp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(qe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:me=>me.preventDefault(),...b,...Xe,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ke(b.onKeyDown,me=>{const we=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!we&&me.key.length===1&&Q(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let he=O().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const pe=me.target,Y=he.indexOf(pe);he=he.slice(Y+1)}setTimeout(()=>U(he)),me.preventDefault()}})})})})})})});rU.displayName=bCe;var _Ce="SelectItemAlignedPosition",iU=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=ul(sc,n),s=dl(sc,n),[a,l]=y.useState(null),[c,d]=y.useState(null),f=dt(e,S=>d(S)),h=A0(n),m=y.useRef(!1),x=y.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=s,_=y.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&v&&b){const S=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(o.dir!=="rtl"){const pe=k.left-P.left,Y=A.left-pe,Se=S.left-Y,Re=S.width+Se,mt=Math.max(Re,P.width),ot=window.innerWidth-no,At=Oh(Y,[no,Math.max(no,ot-mt)]);a.style.minWidth=Re+"px",a.style.left=At+"px"}else{const pe=P.right-k.right,Y=window.innerWidth-A.right-pe,Se=window.innerWidth-S.right-Y,Re=S.width+Se,mt=Math.max(Re,P.width),ot=window.innerWidth-no,At=Oh(Y,[no,Math.max(no,ot-mt)]);a.style.minWidth=Re+"px",a.style.right=At+"px"}const I=h(),O=window.innerHeight-no*2,R=g.scrollHeight,L=window.getComputedStyle(c),B=parseInt(L.borderTopWidth,10),U=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),V=B+U+R+F+W,ee=Math.min(v.offsetHeight*5,V),Q=window.getComputedStyle(g),ne=parseInt(Q.paddingTop,10),ge=parseInt(Q.paddingBottom,10),Ce=S.top+S.height/2-no,qe=O-Ce,Xe=v.offsetHeight/2,me=v.offsetTop+Xe,we=B+U+me,te=V-we;if(we<=Ce){const pe=I.length>0&&v===I[I.length-1].ref.current;a.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,Se=Math.max(qe,Xe+(pe?ge:0)+Y+W),Re=we+Se;a.style.height=Re+"px"}else{const pe=I.length>0&&v===I[0].ref.current;a.style.top="0px";const Se=Math.max(Ce,B+g.offsetTop+(pe?ne:0)+Xe)+te;a.style.height=Se+"px",g.scrollTop=we-Ce+g.offsetTop}a.style.margin=`${no}px 0`,a.style.minHeight=ee+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,v,b,o.dir,r]);sr(()=>_(),[_]);const[C,E]=y.useState();sr(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const N=y.useCallback(S=>{S&&x.current===!0&&(_(),w==null||w(),x.current=!1)},[_,w]);return u.jsx(ECe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(Ve.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iU.displayName=_Ce;var SCe="SelectPopperPosition",yS=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=no,...o}=t,s=C0(n);return u.jsx(W$,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yS.displayName=SCe;var[ECe,lA]=Vd(sc,{}),vS="SelectViewport",oU=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=dl(vS,n),s=lA(vS,n),a=dt(e,o.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(P0.Slot,{scope:n,children:u.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const x=window.innerHeight-no*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<x){const w=b+m,_=Math.min(x,w),C=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});oU.displayName=vS;var sU="SelectGroup",[TCe,PCe]=Vd(sU),ACe=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qo();return u.jsx(TCe,{scope:n,id:i,children:u.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ACe.displayName=sU;var aU="SelectLabel",lU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=PCe(aU,n);return u.jsx(Ve.div,{id:i.id,...r,ref:e})});lU.displayName=aU;var Dv="SelectItem",[CCe,cU]=Vd(Dv),uU=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=ul(Dv,n),l=dl(Dv,n),c=a.value===r,[d,f]=y.useState(o??""),[h,m]=y.useState(!1),x=dt(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,i)}),g=qo(),v=y.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(CCe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:y.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(P0.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ve.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:ke(s.onFocus,()=>m(!0)),onBlur:ke(s.onBlur,()=>m(!1)),onClick:ke(s.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:ke(s.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:ke(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ke(s.onPointerMove,w=>{var _;v.current=w.pointerType,i?(_=l.onItemLeave)==null||_.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(s.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:ke(s.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(hCe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});uU.displayName=Dv;var Tf="SelectItemText",dU=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=ul(Tf,n),a=dl(Tf,n),l=cU(Tf,n),c=yCe(Tf,n),[d,f]=y.useState(null),h=dt(e,b=>f(b),l.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,l.value,l.disabled)}),m=d==null?void 0:d.textContent,x=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return sr(()=>(g(x),()=>v(x)),[g,v,x]),u.jsxs(u.Fragment,{children:[u.jsx(Ve.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?cc.createPortal(o.children,s.valueNode):null]})});dU.displayName=Tf;var fU="SelectItemIndicator",hU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return cU(fU,n).isSelected?u.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});hU.displayName=fU;var xS="SelectScrollUpButton",pU=y.forwardRef((t,e)=>{const n=dl(xS,t.__scopeSelect),r=lA(xS,t.__scopeSelect),[i,o]=y.useState(!1),s=dt(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(gU,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});pU.displayName=xS;var bS="SelectScrollDownButton",mU=y.forwardRef((t,e)=>{const n=dl(bS,t.__scopeSelect),r=lA(bS,t.__scopeSelect),[i,o]=y.useState(!1),s=dt(e,r.onScrollButtonChange);return sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(gU,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});mU.displayName=bS;var gU=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=dl("SelectScrollButton",n),s=y.useRef(null),a=A0(n),l=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),sr(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:ke(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{l()})})}),NCe="SelectSeparator",yU=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});yU.displayName=NCe;var wS="SelectArrow",ICe=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=C0(n),o=ul(wS,n),s=dl(wS,n);return o.open&&s.position==="popper"?u.jsx(H$,{...i,...r,ref:e}):null});ICe.displayName=wS;function vU(t){return t===""||t===void 0}var xU=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),o=dt(e,i),s=LT(n);return y.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),u.jsx(Pp,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});xU.displayName="BubbleSelect";function bU(t){const e=On(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function wU(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=jCe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function jCe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kCe=KB,_U=XB,OCe=JB,RCe=ZB,MCe=eU,SU=tU,DCe=oU,EU=lU,TU=uU,$Ce=dU,LCe=hU,PU=pU,AU=mU,CU=yU;const FCe=kCe,VCe=OCe,NU=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(_U,{ref:r,className:ft("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(RCe,{asChild:!0,children:u.jsx(mh,{className:"h-4 w-4 opacity-50"})})]}));NU.displayName=_U.displayName;const IU=y.forwardRef(({className:t,...e},n)=>u.jsx(PU,{ref:n,className:ft("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(c7,{className:"h-4 w-4"})}));IU.displayName=PU.displayName;const jU=y.forwardRef(({className:t,...e},n)=>u.jsx(AU,{ref:n,className:ft("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(mh,{className:"h-4 w-4"})}));jU.displayName=AU.displayName;const kU=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(MCe,{children:u.jsxs(SU,{ref:i,className:ft("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(IU,{}),u.jsx(DCe,{className:ft("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(jU,{})]})}));kU.displayName=SU.displayName;const BCe=y.forwardRef(({className:t,...e},n)=>u.jsx(EU,{ref:n,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BCe.displayName=EU.displayName;const lr=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TU,{ref:r,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(LCe,{children:u.jsx(a7,{className:"h-4 w-4"})})}),u.jsx($Ce,{children:e})]}));lr.displayName=TU.displayName;const UCe=y.forwardRef(({className:t,...e},n)=>u.jsx(CU,{ref:n,className:ft("-mx-1 my-1 h-px bg-muted",t),...e}));UCe.displayName=CU.displayName;const q2="cueEmulator_tutorial_seen",Me=14,un=1600,En=800,De=24,G2=.05,K2=.2,Mc=28,zCe=(un-De*2)/8,WCe=(En-De*2)/4,Ne=Array.from({length:9},(t,e)=>De+e*zCe),Ie=Array.from({length:5},(t,e)=>De+e*WCe),hf=[{x:De,y:De,angle:Math.PI/4},{x:un/2,y:De-2,angle:Math.PI/2},{x:un-De,y:De,angle:3*Math.PI/4},{x:De,y:En-De,angle:-Math.PI/4},{x:un/2,y:En-De+2,angle:-Math.PI/2},{x:un-De,y:En-De,angle:-3*Math.PI/4}],HCe=Mc+Me*.5,to={1:{name:"Yellow",color:"#FDB515",solid:!0},2:{name:"Blue",color:"#003DA5",solid:!0},3:{name:"Red",color:"#DC143C",solid:!0},4:{name:"Purple",color:"#8A2BE2",solid:!0},5:{name:"Orange",color:"#FF8C00",solid:!0},6:{name:"Green",color:"#228B22",solid:!0},7:{name:"Maroon",color:"#800000",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Yellow Stripe",color:"#FDB515",solid:!1},10:{name:"Blue Stripe",color:"#003DA5",solid:!1},11:{name:"Red Stripe",color:"#DC143C",solid:!1},12:{name:"Purple Stripe",color:"#8A2BE2",solid:!1},13:{name:"Orange Stripe",color:"#FF8C00",solid:!1},14:{name:"Green Stripe",color:"#228B22",solid:!1},15:{name:"Maroon Stripe",color:"#800000",solid:!1}},qCe={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ne[6],y:Ie[2]},{x:Ne[1],y:Ie[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ne[7],y:Ie[1]},{x:Ne[1],y:Ie[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ne[2],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[2],y:Ie[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ne[7],y:Ie[1]},{x:Ne[6],y:Ie[2]},{x:Ne[5],y:Ie[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[6],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[2],y:Ie[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ne[3],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[5],y:Ie[1]},{x:Ne[4],y:Ie[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ne[1],y:Ie[1]},{x:Ne[7],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ne[3],y:Ie[1]},{x:Ne[5],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[3],y:Ie[3]},{x:Ne[5],y:Ie[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ne[1],y:Ie[1]},{x:Ne[7],y:Ie[1]},{x:Ne[1],y:Ie[2]},{x:Ne[7],y:Ie[2]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]}};function GCe(){const[,t]=ol(),{toast:e}=Sp(),n=y.useRef(null),[r,i]=y.useState(null),[o,s]=y.useState([]),[a,l]=y.useState(null),[c,d]=y.useState(null),[f,h]=y.useState(!0),[m,x]=y.useState(!1),[g,v]=y.useState(null),[b,w]=y.useState(null),[_,C]=y.useState(null),[E,N]=y.useState(.5),[S,P]=y.useState(0),[A,k]=y.useState(0),[I,O]=y.useState(.5),[R,L]=y.useState(.5),[B,U]=y.useState("9ft"),[W,F]=y.useState(!1),[V,ee]=y.useState([]),[Q,ne]=y.useState(""),[ge,Ce]=y.useState(null),[qe,Xe]=y.useState(null),[me,we]=y.useState(null),[te,he]=y.useState([null,null,null]),[pe,Y]=y.useState(!1),Se=y.useRef(null),[Re,mt]=y.useState(!1),[ot,At]=y.useState(0),[Rt,xe]=y.useState([]),[Qe,cn]=y.useState([]);y.useState(new Set);const kt=y.useRef(null),pn=y.useRef(0);y.useEffect(()=>(Tt.startSession("vectors"),()=>{Tt.endSession()}),[]);const yr=[{title:"Ball Placement",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Place balls on the table using the control buttons:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add solid balls 1-7 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add stripe balls 9-15 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Reposition:"})," Click and drag any ball to move it"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Clear:"})," Remove all balls from the table"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Enable Snap-to-Grid for precise ball placement with a visible grid overlay."]})})]})},{title:"Aiming & Shooting",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"White line:"})," Shows cue ball trajectory"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Dashed circle at contact point"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Colored lines:"})," Object ball trajectories after impact"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Red tangent:"})," Cue ball deflection after contact"]})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Displayed below the table showing the angle and hit fraction (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Power Slider:"})," 0-100% shot power"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"English Box:"})," Click to apply side spin and follow/draw"]})]}),u.jsxs("p",{className:"mt-3",children:["Click ",u.jsx("strong",{children:'"Simulate Shot"'})," to execute your shot with physics simulation including:"]}),u.jsxs("ul",{className:"space-y-1 mt-2",children:[u.jsx("li",{children:"Ball-to-ball collisions with spin transfer"}),u.jsx("li",{children:"Rail bounces with cushion effects"}),u.jsx("li",{children:"Pocket detection for pocketed balls"})]})]})},{title:"Table Conditions",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Customize the playing environment:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Presets:"})," Save your table conditions to 3 slots. Long-press a slot to save, tap to load."]})}),u.jsxs("p",{className:"mt-3",children:["Use ",u.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];y.useEffect(()=>{localStorage.getItem(q2)||Y(!0)},[]);const bn=()=>{localStorage.setItem(q2,"true"),Y(!1)};y.useEffect(()=>{const M=localStorage.getItem("cueEmulator_tablePresets");if(M)try{const $=JSON.parse(M);Array.isArray($)&&$.length===3&&he($)}catch($){console.error("Failed to load table presets:",$)}},[]);const vr=M=>{const $=[...te];$[M]={clothSpeed:I,cushionQuality:R,name:`Slot ${M+1}`},he($),localStorage.setItem("cueEmulator_tablePresets",JSON.stringify($)),e({title:`Saved to Slot ${M+1}`,description:`Cloth: ${Math.round(I*100)}%, Cushion: ${Math.round(R*100)}%`})},Yi=M=>{const $=te[M];$?(O($.clothSpeed),L($.cushionQuality),e({title:`Loaded Slot ${M+1}`,description:`Cloth: ${Math.round($.clothSpeed*100)}%, Cushion: ${Math.round($.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},Wt=M=>{Se.current=setTimeout(()=>{vr(M),Se.current=null},600)},Mr=M=>{Se.current&&(clearTimeout(Se.current),Se.current=null,Yi(M))},An=y.useCallback(()=>.85+.1*R,[R]),Cn=y.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),It=y.useCallback(()=>{const{lengthInches:$}=Cn();return $/100},[Cn]),Xt=y.useCallback(()=>{const M=.3-.15*I,G=1+(1-It())*.3;return M*G},[I,It]),Mn=y.useCallback((M,$)=>{for(const G of hf){const J=M-G.x,Z=$-G.y;if(Math.sqrt(J*J+Z*Z)<HCe)return!0}return!1},[]),xr=y.useCallback((M,$)=>{const G=De+Me,J=un-De-Me,Z=De+Me,ie=En-De-Me;let ce=Math.max(G,Math.min(J,M)),de=Math.max(Z,Math.min(ie,$));if(Mn(ce,de)){let be=ce,_e=de,Ge=1/0;for(const ve of Ne)for(const Pe of Ie)if(ve>=G&&ve<=J&&Pe>=Z&&Pe<=ie&&!Mn(ve,Pe)){const it=Math.sqrt((M-ve)**2+($-Pe)**2);it<Ge&&(Ge=it,be=ve,_e=Pe)}return{x:be,y:_e}}return{x:ce,y:de}},[Mn]),q=y.useCallback((M,$)=>{const G=De+Me,J=un-De-Me,Z=De+Me,ie=En-De-Me;if(!f)return xr(M,$);let ce=Ne[0],de=Ie[0],be=Math.abs(M-Ne[0]),_e=Math.abs($-Ie[0]);for(const Pe of Ne){const it=Math.abs(M-Pe);it<be&&(be=it,ce=Pe)}for(const Pe of Ie){const it=Math.abs($-Pe);it<_e&&(_e=it,de=Pe)}let Ge=Math.max(G,Math.min(J,ce)),ve=Math.max(Z,Math.min(ie,de));if(Mn(Ge,ve)){let Pe=Ge,it=ve,en=1/0;for(const tn of Ne)for(const Jn of Ie)if(tn>=G&&tn<=J&&Jn>=Z&&Jn<=ie&&!Mn(tn,Jn)){const si=Math.sqrt((M-tn)**2+($-Jn)**2);si<en&&(en=si,Pe=tn,it=Jn)}return{x:Pe,y:it}}return{x:Ge,y:ve}},[f,Mn,xr]),le=y.useCallback(M=>{const $=o.map(G=>G.number).filter(G=>G!==void 0);if(M==="solid"){for(let G=1;G<=7;G++)if(!$.includes(G))return G}else for(let G=9;G<=15;G++)if(!$.includes(G))return G;return null},[o]),Te=y.useCallback((M,$)=>{for(const G of hf){const J=M-G.x,Z=$-G.y;if(Math.sqrt(J*J+Z*Z)<Mc)return!0}return!1},[]),Le=(M,$)=>{const G=$.x-M.x,J=$.y-M.y;return Math.sqrt(G*G+J*J)},_t=y.useCallback((M,$)=>{let G=null,J=1/0;for(const Z of hf){const ie=Z.x-M.x,ce=Z.y-M.y,de=Math.sqrt(ie*ie+ce*ce);if(de<Me*2)continue;const be=ie/de,_e=ce/de,Ge=M.x-be*(Me*2),ve=M.y-_e*(Me*2),Pe=Ge-$.x,it=ve-$.y,en=Math.sqrt(Pe*Pe+it*it);if(en<Me*2)continue;const tn=Pe/en,Jn=it/en,si=tn*be+Jn*_e,ea=Math.acos(Math.max(-1,Math.min(1,si)))*(180/Math.PI);ea<J&&(J=ea,G={pocket:Z,angle:ea,ghostBall:{x:Ge,y:ve}})}return G},[]),Nn=y.useCallback((M,$)=>{if(o.length===0)return null;const G=$.x-M.x,J=$.y-M.y,Z=Math.sqrt(G*G+J*J);if(Z<1)return null;const ie=G/Z,ce=J/Z;let de=null,be=1/0;for(const _e of o){const Ge=_e.x-M.x,ve=_e.y-M.y,Pe=Math.sqrt(Ge*Ge+ve*ve),it=Ge*ie+ve*ce;if(it<=0)continue;const en=Ge-it*ie,tn=ve-it*ce;Math.sqrt(en*en+tn*tn)<Me*3&&Pe<be&&(be=Pe,de=_e)}return de},[o]),Be=y.useCallback((M,$)=>{if(!m)return null;const G=Nn(M,$);if(!G)return null;const J=_t(G,M);return!J||J.angle<15?null:J.ghostBall},[m,Nn,_t]),lt=y.useCallback(M=>{const $=An(),G=De,J=un-De,Z=De,ie=En-De;let ce=!1;return M.x-Me<G&&(M.x=G+Me,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ce=!0),M.x+Me>J&&(M.x=J-Me,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ce=!0),M.y-Me<Z&&(M.y=Z+Me,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ce=!0),M.y+Me>ie&&(M.y=ie-Me,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ce=!0),ce},[An]),wn=y.useCallback((M,$,G,J)=>{var Bd,Ud,zd;if(!r)return null;const Z=G-M,ie=J-$,ce=Math.sqrt(Z*Z+ie*ie);if(ce<10)return null;const de=Z/ce,be=ie/ce,Ge=E*15,ve={x:r.x,y:r.y,vx:de*Ge,vy:be*Ge,spinX:S,spinY:A},Pe=o.map(Ct=>({...Ct,vx:0,vy:0,spinX:0,spinY:0})),it=Xt(),en=300,tn=[{x:ve.x,y:ve.y}],Jn=Pe.map(()=>[]);let si=null,ea=null,Yp=null,Xp=null,Qp=null;const Ft=[ve,...Pe],Dr=new Array(Ft.length).fill(!1),Jp=Ct=>{for(const Dn of hf){const Co=Ct.x-Dn.x,No=Ct.y-Dn.y;if(Math.sqrt(Co*Co+No*No)<Mc-Me*.3)return!0}return!1},Zp=(Ct,Dn,Co)=>{const No=Dn.x-Ct.x,wr=Dn.y-Ct.y,Si=Math.sqrt(No*No+wr*wr);if(Si>=Me*2||Si===0)return!1;const qt=No/Si,ht=wr/Si,st=-ht,$r=qt,$n=Ct.vx-Dn.vx,_r=Ct.vy-Dn.vy,Lr=$n*qt+_r*ht,Qt=$n*st+_r*$r;if(Lr<=0)return!1;const em=Ct.spinX*.15*Math.abs(Qt)*.3;Ct.vx-=Lr*qt,Ct.vy-=Lr*ht,Dn.vx+=Lr*qt*.95,Dn.vy+=Lr*ht*.95,Dn.vx+=em*st,Dn.vy+=em*$r;const ta=Math.sqrt($n*$n+_r*_r);if(Co===0&&ta>.1){const tm=$n/ta,bc=_r/ta,Ji=Ct.spinY*.4;Ct.spinY!==0&&(Ct.vx+=tm*Ji*ta,Ct.vy+=bc*Ji*ta),Ct.spinY*=.3}Dn.spinX+=Ct.spinX*.2,Dn.spinY+=Ct.spinY*.2;const fl=Me*2-Si;return Ct.x-=fl/2*qt,Ct.y-=fl/2*ht,Dn.x+=fl/2*qt,Dn.y+=fl/2*ht,!0};for(let Ct=0;Ct<en;Ct++){let Dn=!1,Co=0;for(let qt=0;qt<Ft.length;qt++){if(Dr[qt])continue;const ht=Ft[qt],st=Math.sqrt(ht.vx*ht.vx+ht.vy*ht.vy);st>Co&&(Co=st)}const No=Co*G2*60,wr=Math.max(1,Math.ceil(No/(Me*.8))),Si=G2/wr;for(let qt=0;qt<wr;qt++){for(let ht=0;ht<Ft.length;ht++){if(Dr[ht])continue;const st=Ft[ht],$r=Math.sqrt(st.vx*st.vx+st.vy*st.vy);if($r>K2){Dn=!0;const $n=it*9.8;if(st.vx-=st.vx/$r*$n*Si,st.vy-=st.vy/$r*$n*Si,st.x+=st.vx*Si*60,st.y+=st.vy*Si*60,lt(st),Jp(st)){if(ht>0){const _r=ht-1,Lr=((Bd=o[_r])==null?void 0:Bd.number)||1,Qt=((Ud=to[Lr])==null?void 0:Ud.color)||"#ffffff";Jn[_r].push({x:st.x,y:st.y,ballIndex:_r,color:Qt})}Dr[ht]=!0,st.vx=0,st.vy=0}}else st.vx=0,st.vy=0}for(let ht=0;ht<Ft.length;ht++)if(!Dr[ht])for(let st=ht+1;st<Ft.length;st++){if(Dr[st])continue;if(Zp(Ft[ht],Ft[st],ht)&&ht===0&&!si){si={x:Ft[st].x,y:Ft[st].y},Qp={x:Ft[0].x,y:Ft[0].y};const $n=Ft[st].x-Ft[0].x,_r=Ft[st].y-Ft[0].y,Lr=Math.sqrt($n*$n+_r*_r);Lr>0&&(ea={x:Ft[0].x+$n/Lr*Me,y:Ft[0].y+_r/Lr*Me}),Yp={x:Ft[st].vx,y:Ft[st].vy},Xp={x:Ft[0].vx,y:Ft[0].vy}}}}Dr[0]||tn.push({x:ve.x,y:ve.y});for(let qt=0;qt<Pe.length;qt++){if(Dr[qt+1])continue;const ht=Pe[qt];if(Math.sqrt(ht.vx*ht.vx+ht.vy*ht.vy)>K2*.5||Jn[qt].length>0){const $r=o[qt].number||1,$n=((zd=to[$r])==null?void 0:zd.color)||"#ffffff";Jn[qt].push({x:ht.x,y:ht.y,ballIndex:qt,color:$n})}}if(!Dn)break}return{path:tn,hitBall:si,contactPoint:ea,objectBallDirection:Yp,cueBallDeflection:Xp,cueBallPosAtContact:Qp,objectPaths:Jn.filter(Ct=>Ct.length>=1)}},[r,o,E,S,A,Xt,lt]),_n=(M,$)=>{const G=Math.sqrt(M.x*M.x+M.y*M.y),J=Math.sqrt($.x*$.x+$.y*$.y);if(G===0||J===0)return{angle:0,fraction:1};const Z={x:M.x/G,y:M.y/G},ie={x:$.x/J,y:$.y/J},ce=Z.x*ie.x+Z.y*ie.y,de=Math.max(-1,Math.min(1,ce)),be=Math.acos(de),_e=be*(180/Math.PI),Ge=Math.min(_e,90),ve=Math.cos(be);return{angle:Ge,fraction:Math.max(0,ve)}},Xi=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",ri=y.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,un,En),M.fillStyle="#1a5f3f",M.fillRect(De,De,un-De*2,En-De*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(De,De,un-De*2,En-De*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const Z=De,ie=un-De,ce=De,de=En-De;for(const be of Ne)be>Z&&be<ie&&(M.beginPath(),M.moveTo(be,ce),M.lineTo(be,de),M.stroke());for(const be of Ie)be>ce&&be<de&&(M.beginPath(),M.moveTo(Z,be),M.lineTo(ie,be),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const be of Ne)for(const _e of Ie)be>Z&&be<ie&&_e>ce&&_e<de&&(Mn(be,_e)||(M.beginPath(),M.arc(be,_e,2,0,Math.PI*2),M.fill()))}hf.forEach(Z=>{const ie=M.createRadialGradient(Z.x,Z.y,0,Z.x,Z.y,Mc);ie.addColorStop(0,"#000000"),ie.addColorStop(.7,"#1a1a1a"),ie.addColorStop(1,"#333333"),M.fillStyle=ie,M.beginPath(),M.arc(Z.x,Z.y,Mc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(Z.x,Z.y,Mc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const $=3,G=(un-De*2)/8,J=(En-De*2)/4;for(let Z=1;Z<8;Z++){if(Z===4)continue;const ie=De+Z*G;M.beginPath(),M.moveTo(ie,De-5),M.lineTo(ie+$,De-2),M.lineTo(ie,De+1),M.lineTo(ie-$,De-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ie,En-De+5),M.lineTo(ie+$,En-De+2),M.lineTo(ie,En-De-1),M.lineTo(ie-$,En-De+2),M.closePath(),M.fill()}for(let Z=1;Z<4;Z++){const ie=De+Z*J;M.beginPath(),M.moveTo(De-5,ie),M.lineTo(De-2,ie+$),M.lineTo(De+1,ie),M.lineTo(De-2,ie-$),M.closePath(),M.fill(),M.beginPath(),M.moveTo(un-De+5,ie),M.lineTo(un-De+2,ie+$),M.lineTo(un-De-1,ie),M.lineTo(un-De+2,ie-$),M.closePath(),M.fill()}},[f,a]),qr=(M,$,G)=>{const J=to[G];if(!J||!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Me,Me*.8,0,0,Math.PI*2),M.fill();const Z=M.createRadialGradient($.x-Me*.3,$.y-Me*.3,0,$.x,$.y,Me);if(J.solid?(Z.addColorStop(0,"rgba(255, 255, 255, 0.8)"),Z.addColorStop(.5,J.color),Z.addColorStop(1,"rgba(0, 0, 0, 0.4)")):(Z.addColorStop(0,"rgba(255, 255, 255, 0.95)"),Z.addColorStop(.5,"#ffffff"),Z.addColorStop(1,"rgba(200, 200, 200, 0.8)")),M.fillStyle=Z,M.beginPath(),M.arc($.x,$.y,Me,0,Math.PI*2),M.fill(),!J.solid){M.save(),M.beginPath(),M.arc($.x,$.y,Me,0,Math.PI*2),M.clip(),M.fillStyle=J.color;const ce=Me*.4;M.fillRect($.x-ce,$.y-Me,ce*2,Me*2),M.restore()}const ie=Me*.5;M.fillStyle="#ffffff",M.beginPath(),M.arc($.x,$.y,ie,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.font="bold 9px Arial",M.textAlign="center",M.textBaseline="middle",M.fillText(String(G),$.x,$.y),M.fillStyle="rgba(255, 255, 255, 0.4)",M.beginPath(),M.arc($.x-Me*.35,$.y-Me*.35,Me*.25,0,Math.PI*2),M.fill()},Gr=(M,$)=>{if(!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Me,Me*.8,0,0,Math.PI*2),M.fill();const G=M.createRadialGradient($.x-Me*.3,$.y-Me*.3,0,$.x,$.y,Me);G.addColorStop(0,"rgba(255, 255, 255, 1)"),G.addColorStop(.5,"#ffffff"),G.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=G,M.beginPath(),M.arc($.x,$.y,Me,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc($.x-Me*.4,$.y-Me*.4,Me*.3,0,Math.PI*2),M.fill()},Ys=(M,$,G)=>{!isFinite($)||!isFinite(G)||(M.strokeStyle="rgba(255, 255, 255, 0.5)",M.setLineDash([4,4]),M.lineWidth=2,M.beginPath(),M.arc($,G,Me,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 255, 0.15)",M.beginPath(),M.arc($,G,Me,0,Math.PI*2),M.fill())},Ao=(M,$,G,J)=>{M.strokeStyle=J,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(De,G),M.lineTo(un-De,G),M.stroke(),M.beginPath(),M.moveTo($,De),M.lineTo($,En-De),M.stroke(),M.setLineDash([]),M.strokeStyle=J,M.lineWidth=2,M.beginPath(),M.arc($,G,Me+4,0,Math.PI*2),M.stroke()},vc=(M,$,G,J,Z)=>{const ie=J-$,ce=Z-G,de=Math.atan2(ce,ie),be=150,_e=Me+5,Ge=$-Math.cos(de)*_e,ve=G-Math.sin(de)*_e,Pe=$-Math.cos(de)*be,it=G-Math.sin(de)*be,en=M.createLinearGradient(Ge,ve,Pe,it);en.addColorStop(0,"#D2691E"),en.addColorStop(.5,"#8B4513"),en.addColorStop(1,"#654321"),M.strokeStyle=en,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Ge,ve),M.lineTo(Pe,it),M.stroke();const tn=$-Math.cos(de)*(_e-3),Jn=G-Math.sin(de)*(_e-3);M.fillStyle="#d11111",M.beginPath(),M.arc(tn,Jn,3,0,Math.PI*2),M.fill()},xc=(M,$,G)=>{const J=Math.sqrt(G.x*G.x+G.y*G.y);if(J===0)return;const Z=G.x/J,ie=G.y/J,ce=100,de=$.x+Z*ce,be=$.y+ie*ce;M.strokeStyle="rgba(209, 17, 17, 0.8)",M.lineWidth=2,M.setLineDash([5,5]),M.beginPath(),M.moveTo($.x,$.y),M.lineTo(de,be),M.stroke(),M.setLineDash([]);const _e=8,Ge=Math.atan2(ie,Z);M.fillStyle="rgba(209, 17, 17, 0.8)",M.beginPath(),M.moveTo(de,be),M.lineTo(de-_e*Math.cos(Ge-Math.PI/6),be-_e*Math.sin(Ge-Math.PI/6)),M.lineTo(de-_e*Math.cos(Ge+Math.PI/6),be-_e*Math.sin(Ge+Math.PI/6)),M.closePath(),M.fill()},Xs=(M,$)=>{if(!($.length<2)){M.strokeStyle="rgba(255, 255, 255, 0.4)",M.lineWidth=2,M.beginPath(),M.moveTo($[0].x,$[0].y);for(let G=1;G<$.length;G++)M.lineTo($[G].x,$[G].y);M.stroke()}},In=y.useCallback(()=>{if(g&&b&&r){const M=Be(r,b);return M?{start:g,current:M}:{start:g,current:b}}if(_&&r){const M=_.angle*Math.PI/180,$=r.x+Math.cos(M)*_.distance,G=r.y+Math.sin(M)*_.distance;return{start:{x:r.x,y:r.y},current:{x:$,y:G}}}return null},[g,b,_,r,Be]),Qi=y.useCallback(()=>{const M=In();if(!M||!r)return 0;const $=M.current.x-r.x,G=M.current.y-r.y;let J=Math.atan2(G,$)*180/Math.PI;return J<0&&(J+=360),J},[In,r]),br=y.useCallback(()=>{const M=In();if(!M)return 100;const $=M.current.x-M.start.x,G=M.current.y-M.start.y;return Math.sqrt($*$+G*G)},[In]),ii=y.useCallback((M,$)=>{C({angle:M,distance:$})},[]),Qs=y.useCallback(()=>{if(g&&b&&r){const M=b.x-r.x,$=b.y-r.y;let G=Math.atan2($,M)*180/Math.PI;G<0&&(G+=360);const J=Math.sqrt(M*M+$*$);C({angle:G,distance:J})}},[g,b,r]),Js=y.useCallback(()=>{const M=In();if(!M||W||!r)return{angle:null,fraction:null};const $=wn(r.x,r.y,M.current.x,M.current.y);if(!$||!$.hitBall||!$.cueBallPosAtContact)return{angle:null,fraction:null};const G={x:M.current.x-r.x,y:M.current.y-r.y},J={x:$.hitBall.x-$.cueBallPosAtContact.x,y:$.hitBall.y-$.cueBallPosAtContact.y},Z=_n(G,J);return{angle:Z.angle,fraction:Xi(Z.fraction)}},[In,W,r,wn]);y.useEffect(()=>{const M=Js();Xe(M.angle),we(M.fraction)},[Js]);const Zs=y.useCallback(()=>{const M=n.current;if(!M)return;const $=M.getContext("2d");if(!$)return;if($.clearRect(0,0,un,En),ri($),Re&&Rt.length>0){const J=Rt[ot];if(J.objectBalls.forEach((Z,ie)=>{if(!Z.pocketed){const ce=Qe[ie];if(ce!==void 0){const de={x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:ce};qr($,de,ce)}}}),J.cueBall){const Z={x:J.cueBall.x,y:J.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};Gr($,Z)}return}if(W&&V.length>0&&!Re){const J=V.filter(Z=>Z.cueBall).map(Z=>Z.cueBall);J.length>0&&($.strokeStyle="rgba(255, 255, 255, 0.3)",$.lineWidth=2,$.beginPath(),$.moveTo(J[0].x,J[0].y),J.forEach(Z=>$.lineTo(Z.x,Z.y)),$.stroke()),Qe.forEach((Z,ie)=>{if(Z===void 0)return;const ce=V.map(de=>de.objectBalls[ie]).filter(de=>de&&!de.pocketed);if(ce.length>0){const de=to[Z];$.strokeStyle=de.color+"80",$.lineWidth=2,$.beginPath(),$.moveTo(ce[0].x,ce[0].y),ce.forEach(be=>$.lineTo(be.x,be.y)),$.stroke()}})}const G=In();if(G&&!W&&r){vc($,r.x,r.y,G.current.x,G.current.y);const J=wn(r.x,r.y,G.current.x,G.current.y);J&&(Xs($,J.path),J.objectPaths&&J.objectPaths.length>0&&J.objectPaths.forEach(Z=>{if(Z.length>=2){const ie=Z[0].color;$.strokeStyle=ie+"99",$.lineWidth=2,$.setLineDash([4,4]),$.beginPath(),$.moveTo(Z[0].x,Z[0].y);for(let ve=1;ve<Z.length;ve++)$.lineTo(Z[ve].x,Z[ve].y);$.stroke(),$.setLineDash([]);const ce=Z[Z.length-1],de=Z[Math.max(0,Z.length-5)],be=ce.x-de.x,_e=ce.y-de.y;if(Math.sqrt(be*be+_e*_e)>5){const ve=Math.atan2(_e,be),Pe=6;$.fillStyle=ie+"99",$.beginPath(),$.moveTo(ce.x,ce.y),$.lineTo(ce.x-Pe*Math.cos(ve-Math.PI/6),ce.y-Pe*Math.sin(ve-Math.PI/6)),$.lineTo(ce.x-Pe*Math.cos(ve+Math.PI/6),ce.y-Pe*Math.sin(ve+Math.PI/6)),$.closePath(),$.fill()}}}),J.hitBall&&J.cueBallPosAtContact&&J.cueBallDeflection&&(Ys($,J.cueBallPosAtContact.x,J.cueBallPosAtContact.y),xc($,J.cueBallPosAtContact,J.cueBallDeflection)))}o.forEach((J,Z)=>{if(J.number&&qr($,J,J.number),c&&c.type==="object"&&c.index===Z){const ie=to[J.number||1];Ao($,J.x,J.y,ie.color)}}),r&&(Gr($,r),c&&c.type==="cue"&&Ao($,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,b,_,W,V,wn,ri,In,c,Re,ot,Rt,Qe]);y.useEffect(()=>{Zs()},[Zs]);const K=M=>{var _e,Ge;const $=n.current;if(!$)return;const G=$.getBoundingClientRect(),J=un/G.width,Z=En/G.height,ie=(M.clientX-G.left)*J,ce=(M.clientY-G.top)*Z,{x:de,y:be}=q(ie,ce);if(a==="cue"){if(Te(de,be)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:de,y:be,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Te(de,be)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const ve=le(a);if(ve!==null){s(it=>[...it,{x:de,y:be,vx:0,vy:0,spinX:0,spinY:0,number:ve}]);const Pe=to[ve];e({title:`${Pe.name} (${ve}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&Le({x:ie,y:ce},r)<Me*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let ve=0;ve<o.length;ve++)if(Le({x:ie,y:ce},o[ve])<Me*2){d({type:"object",index:ve});const it=o[ve].number;e({title:`Drag to reposition ${it?(_e=to[it])==null?void 0:_e.name:"ball"}`});return}e({title:"Click on a ball to reposition it"})}else if(a==="remove"){if(r&&Le({x:ie,y:ce},r)<Me*2){i(null),e({title:"Cue ball removed"});return}for(let ve=0;ve<o.length;ve++)if(Le({x:ie,y:ce},o[ve])<Me*2){const it=o[ve].number,en=it?(Ge=to[it])==null?void 0:Ge.name:"ball";s(tn=>tn.filter((Jn,si)=>si!==ve)),e({title:`${en} removed`});return}e({title:"Click on a ball to remove it"})}else r&&!W&&(v({x:r.x,y:r.y}),w({x:ie,y:ce}))},Fe=M=>{const $=n.current;if(!$)return;const G=$.getBoundingClientRect(),J=un/G.width,Z=En/G.height,ie=(M.clientX-G.left)*J,ce=(M.clientY-G.top)*Z;if(c){const{x:de,y:be}=q(ie,ce);Te(de,be)||(c.type==="cue"&&r?i({...r,x:de,y:be}):c.type==="object"&&c.index!==void 0&&s(_e=>_e.map((Ge,ve)=>ve===c.index?{...Ge,x:de,y:be}:Ge)))}else g&&!W&&w({x:ie,y:ce})},Ze=()=>{c&&(d(null),e({title:"Ball repositioned"})),g&&b&&Qs(),v(null),w(null)},Ue=y.useCallback((M,$)=>{const G=n.current;if(!G)return null;const J=G.getBoundingClientRect(),Z=un/J.width,ie=En/J.height,ce=(M-J.left)*Z,de=($-J.top)*ie;return{rawX:ce,rawY:de,...q(ce,de)}},[q]),rt=y.useCallback(M=>{var de,be;if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],G=Ue($.clientX,$.clientY);if(!G)return;const{rawX:J,rawY:Z,x:ie,y:ce}=G;if(a==="cue"){if(Te(ie,ce)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ie,y:ce,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Te(ie,ce)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const _e=le(a);if(_e!==null){s(ve=>[...ve,{x:ie,y:ce,vx:0,vy:0,spinX:0,spinY:0,number:_e}]);const Ge=to[_e];e({title:`${Ge.name} (${_e}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&Le({x:J,y:Z},r)<Me*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let _e=0;_e<o.length;_e++)if(Le({x:J,y:Z},o[_e])<Me*2){d({type:"object",index:_e});const ve=o[_e].number;e({title:`Drag to reposition ${ve?(de=to[ve])==null?void 0:de.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&Le({x:J,y:Z},r)<Me*2){i(null),e({title:"Cue ball removed"});return}for(let _e=0;_e<o.length;_e++)if(Le({x:J,y:Z},o[_e])<Me*2){const ve=o[_e].number,Pe=ve?(be=to[ve])==null?void 0:be.name:"ball";s(it=>it.filter((en,tn)=>tn!==_e)),e({title:`${Pe} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(v({x:r.x,y:r.y}),w({x:J,y:Z}))},[r,o,a,W,Ue,le,e]),et=y.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],G=Ue($.clientX,$.clientY);if(!G)return;const{rawX:J,rawY:Z,x:ie,y:ce}=G;c?Te(ie,ce)||(c.type==="cue"&&r?i({...r,x:ie,y:ce}):c.type==="object"&&c.index!==void 0&&s(de=>de.map((be,_e)=>_e===c.index?{...be,x:ie,y:ce}:be))):g&&!W&&w({x:J,y:Z})},[r,c,g,W,Ue]),Ot=y.useCallback(M=>{M.preventDefault(),c&&(d(null),e({title:"Ball repositioned"})),g&&b&&Qs(),v(null),w(null)},[c,g,b,Qs,e]);y.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",rt,{passive:!1}),M.addEventListener("touchmove",et,{passive:!1}),M.addEventListener("touchend",Ot,{passive:!1}),M.addEventListener("touchcancel",Ot,{passive:!1}),()=>{M.removeEventListener("touchstart",rt),M.removeEventListener("touchmove",et),M.removeEventListener("touchend",Ot),M.removeEventListener("touchcancel",Ot)}},[rt,et,Ot]);const Ht=()=>{if(!Q){e({title:"Please select a course first",variant:"destructive"});return}const M=qCe[Q];if(!M)return;const G=(Z=>{const ie=[...Z];for(let ce=ie.length-1;ce>0;ce--){const de=Math.floor(Math.random()*(ce+1));[ie[ce],ie[de]]=[ie[de],ie[ce]]}return ie})(Array.from({length:15},(Z,ie)=>ie+1)),J=M.balls.map((Z,ie)=>({x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:G[ie]}));s(J),i({x:Ne[2],y:Ie[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),F(!1),ee([]),Ce(M.name),e({title:`Loaded: ${M.name}`})},Ut=()=>{i(null),s([]),F(!1),ee([]),Ce(null),ne(""),e({title:"Table cleared"})};y.useCallback(()=>{kt.current&&(cancelAnimationFrame(kt.current),kt.current=null),mt(!1)},[]),y.useEffect(()=>{if(!Re||Rt.length===0)return;const M=2,$=16,G=J=>{pn.current===0&&(pn.current=J);const Z=J-pn.current;if(Z>=$){const ie=Math.floor(Z/$)*M,ce=Math.min(ot+ie,Rt.length-1);if(At(ce),pn.current=J,ce>=Rt.length-1){const de=Rt[Rt.length-1];de.cueBall?i(be=>be?{...be,x:de.cueBall.x,y:de.cueBall.y,vx:0,vy:0}:null):i(null),s(be=>be.map((_e,Ge)=>{const ve=de.objectBalls[Ge];return!ve||ve.pocketed?null:{..._e,x:ve.x,y:ve.y,vx:0,vy:0}}).filter(_e=>_e!==null)),mt(!1),C(null);return}}kt.current=requestAnimationFrame(G)};return kt.current=requestAnimationFrame(G),()=>{kt.current&&cancelAnimationFrame(kt.current)}},[Re,ot,Rt]);const pt=M=>{const $=M.currentTarget.getBoundingClientRect(),G=M.clientX-$.left,J=M.clientY-$.top,Z=G/100*2-1,ie=-(J/100*2-1);P(Z),k(ie)},oi=(r?1:0)+o.length,Kr=An().toFixed(3),Lt=Xt().toFixed(3);return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(OB,{open:pe,onComplete:bn,pages:yr,toolName:"Advanced Cueing Emulator"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>Y(!0),"data-testid":"button-tutorial",children:u.jsx(ox,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs(ze,{className:"p-4",children:[u.jsx("canvas",{ref:n,width:un,height:En,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:un,touchAction:"none"},onMouseDown:K,onMouseMove:Fe,onMouseUp:Ze,onMouseLeave:Ze,"data-testid":"canvas-billiard-table"}),(qe!==null||me!==null)&&u.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(qe==null?void 0:qe.toFixed(1))??"--",""]})]}),u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:me??"--"})]})]})})]})}),u.jsx("div",{className:"w-full lg:w-80",children:u.jsx(ze,{className:"p-2",children:u.jsxs(aF,{type:"multiple",className:"w-full",children:[u.jsxs(fa,{value:"practice-courses",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),u.jsx(pa,{className:"px-2 space-y-3",children:u.jsx(rP,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs(FCe,{value:Q,onValueChange:ne,children:[u.jsx(NU,{"data-testid":"select-course",children:u.jsx(VCe,{placeholder:"-- Select a Course --"})}),u.jsxs(kU,{children:[u.jsx(lr,{value:"par2_01",children:"Par 2 - Course 1"}),u.jsx(lr,{value:"par2_02",children:"Par 2 - Course 2"}),u.jsx(lr,{value:"par2_03",children:"Par 2 - Course 3"}),u.jsx(lr,{value:"par3_01",children:"Par 3 - Course 1"}),u.jsx(lr,{value:"par3_02",children:"Par 3 - Course 2"}),u.jsx(lr,{value:"par3_03",children:"Par 3 - Course 3"}),u.jsx(lr,{value:"par3_04",children:"Par 3 - Course 4"}),u.jsx(lr,{value:"par4_01",children:"Par 4 - Course 1"}),u.jsx(lr,{value:"par4_02",children:"Par 4 - Course 2"}),u.jsx(lr,{value:"par4_03",children:"Par 4 - Course 3"}),u.jsx(lr,{value:"par4_04",children:"Par 4 - Course 4"}),u.jsx(lr,{value:"par4_05",children:"Par 4 - Course 5"}),u.jsx(lr,{value:"par5_01",children:"Par 5 - Course 1"}),u.jsx(lr,{value:"par5_02",children:"Par 5 - Course 2"}),u.jsx(lr,{value:"par5_03",children:"Par 5 - Course 3"}),u.jsx(lr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),u.jsx(ue,{className:"w-full",onClick:Ht,"data-testid":"button-load-course",children:"Load Course"}),ge&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",u.jsx("span",{className:"text-primary font-semibold",children:ge})]})]})})})]}),u.jsxs(fa,{value:"ball-placement",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),u.jsxs(pa,{className:"px-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(f7,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),u.jsx(Di,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[u.jsx(d7,{className:"w-4 h-4 mr-1"}),"Cue"]}),u.jsxs(ue,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"Solid"]}),u.jsxs(ue,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-yellow-500 mr-1"}),"Stripe"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ue,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[u.jsx(b7,{className:"w-4 h-4 mr-1"}),"Move"]}),u.jsxs(ue,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[u.jsx(v7,{className:"w-4 h-4 mr-1"}),"Remove"]}),u.jsxs(ue,{variant:"secondary",className:"flex-1",onClick:Ut,"data-testid":"button-clear",children:[u.jsx(cy,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",oi]})]})]}),u.jsxs(fa,{value:"power-aim",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(vh,{className:"w-4 h-4"}),"Power & Aim"]})}),u.jsxs(pa,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),u.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),u.jsx(Ef,{value:[E*100],onValueChange:([M])=>N(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),u.jsxs("div",{className:"border-t border-border pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),_?u.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[u.jsx(p7,{className:"w-3 h-3 mr-1"}),"Clear"]}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),_||g&&b?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((_==null?void 0:_.angle)??Qi()).toFixed(2),""]})}),u.jsx(Ef,{value:[(_==null?void 0:_.angle)??Qi()],onValueChange:([M])=>ii(M,(_==null?void 0:_.distance)??br()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-aim-angle"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"90"}),u.jsx("span",{children:"180"}),u.jsx("span",{children:"270"}),u.jsx("span",{children:"360"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ii(((_==null?void 0:_.angle)??Qi())-.01,(_==null?void 0:_.distance)??br()),"data-testid":"button-aim-left",children:" 0.01"}),u.jsx(ue,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>ii(((_==null?void 0:_.angle)??Qi())+.01,(_==null?void 0:_.distance)??br()),"data-testid":"button-aim-right",children:"0.01 "})]})]}):u.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[u.jsx(u1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),u.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),u.jsxs(fa,{value:"english-spin",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),u.jsxs(pa,{className:"px-2 space-y-3",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:pt,"data-testid":"box-spin",children:[u.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),u.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(S+1)/2*100}%`,top:`${(1-A)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),u.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),u.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[u.jsxs("span",{children:["x: ",S.toFixed(2)]}),u.jsxs("span",{children:["y: ",A.toFixed(2)]})]})]})]}),u.jsxs(fa,{value:"environment",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),u.jsxs(pa,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),u.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:Cn().label})]}),u.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>u.jsx(ue,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(I*100),"%"]})]}),u.jsx(Ef,{value:[I*100],onValueChange:([M])=>O(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Slow"}),u.jsx("span",{children:"Fast"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(R*100),"%"]})]}),u.jsx(Ef,{value:[R*100],onValueChange:([M])=>L(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Dead"}),u.jsx("span",{children:"Lively"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[u.jsx(S7,{className:"w-3 h-3"}),"Table Presets"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const $=te[M];return u.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${$?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>Wt(M),onMouseUp:()=>Mr(M),onMouseLeave:()=>{Se.current&&(clearTimeout(Se.current),Se.current=null)},onTouchStart:()=>Wt(M),onTouchEnd:()=>Mr(M),"data-testid":`button-preset-${M+1}`,children:$?u.jsxs("span",{children:[Math.round($.clothSpeed*100),"/",Math.round($.cushionQuality*100)]}):u.jsx("span",{children:"--"})},M)})})]})]})]}),u.jsxs(fa,{value:"physics",className:"border-b-0",children:[u.jsx(ha,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),u.jsx(pa,{className:"px-2",children:u.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:Kr})]}),u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:Lt})]})]})})]})]})})})]})})})]})}function KCe(){const[,t]=ol(),[e,n]=y.useState(null);y.useEffect(()=>{n(Tt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Tt.hasAnyConsent());return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Tt.hasAnyConsent()&&u.jsx(ze,{className:"p-4 bg-primary/5 border-primary/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(qa,{className:"w-5 h-5 text-primary mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),u.jsx(ue,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(ze,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:u.jsx(TE,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(bg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),u.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),c=s%60;return u.jsxs(u.Fragment,{children:[a>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Df,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(gh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(P7,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(vh,{className:"w-4 h-4 text-primary"}),"Tempo Stats"]}),e.skillMetrics.tempo.totalShots===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No shot clock data yet. Use Tempo to track your timing!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold","data-testid":"text-avg-shot-time",children:[e.skillMetrics.tempo.avgShotTime.toFixed(1),"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-shots",children:e.skillMetrics.tempo.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tempo-sessions",children:e.skillMetrics.tempo.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(f$,{className:"w-4 h-4 text-primary"}),"Velocity Stats"]}),e.skillMetrics.velocity.breaksRecorded===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No break speed data yet. Use Velocity to measure your breaks!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-break",children:e.skillMetrics.velocity.avgBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-max-break",children:e.skillMetrics.velocity.maxBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-breaks-recorded",children:e.skillMetrics.velocity.breaksRecorded}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Df,{className:"w-4 h-4 text-primary"}),"Vectors Stats"]}),e.skillMetrics.vectors.shotsSimulated===0&&e.skillMetrics.vectors.sessionsPlayed===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No cueing simulation data yet. Use Vectors to practice shots!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-shots-simulated",children:e.skillMetrics.vectors.shotsSimulated}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-power",children:e.skillMetrics.vectors.avgPower>0?`${(e.skillMetrics.vectors.avgPower*100).toFixed(0)}%`:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Power"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-vectors-sessions",children:e.skillMetrics.vectors.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Df,{className:"w-4 h-4 text-primary"}),"TrueLevel Stats"]}),e.skillMetrics.truelevel.calibrationsPerformed===0&&e.skillMetrics.truelevel.tablesChecked===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No level data yet. Use TrueLevel to calibrate tables!"}):u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-calibrations",children:e.skillMetrics.truelevel.calibrationsPerformed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Calibrations"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tables-checked",children:e.skillMetrics.truelevel.tablesChecked}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tables Checked"})]})]})]})]}),!o&&Tt.hasAnyConsent()&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(qa,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function YCe(){const[,t]=ol(),[e,n]=y.useState(""),[r,i]=y.useState(!1),[o,s]=y.useState(!1),[a,l]=y.useState(null),[c,d]=y.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const x=await m.json();d(x),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};y.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),y.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(ly,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&u.jsx(ue,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:u.jsx(w7,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&u.jsxs(ze,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ly,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(rr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&u.jsx("p",{className:"text-sm text-destructive",children:a}),u.jsx(ue,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(ru,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:c.uniqueUsers})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(qa,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:c.totalSubmissions})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(Df,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:c.aggregateStats.totalSessions})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(gh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:c.aggregateStats.totalTimeHours})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(vh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold",children:[c.aggregateStats.avgShotTime,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(f$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.avgBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.maxBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalBreaks}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(Df,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalCalibrations}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),c.recentSubmissions.length>0&&u.jsxs(ze,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),u.jsx("div",{className:"space-y-2",children:c.recentSubmissions.map((m,x)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[u.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),u.jsxs("span",{children:[m.sessions," sessions"]}),u.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},x))})]}),c.totalSubmissions===0&&u.jsxs(ze,{className:"p-6 text-center",children:[u.jsx(qa,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const XCe=.0254,QCe=.02,JCe=.005;function ZCe(){const[,t]=ol(),[e,n]=y.useState(!1),[r,i]=y.useState("Click Start to begin"),[o,s]=y.useState(0),[a,l]=y.useState(.05),[c,d]=y.useState(.22),[f,h]=y.useState(0),[m,x]=y.useState(null),[g,v]=y.useState(null),[b,w]=y.useState(null),[_,C]=y.useState(null),[E,N]=y.useState(null),[S,P]=y.useState([]),[A,k]=y.useState(0),[I,O]=y.useState(60),[R,L]=y.useState(.22),[B,U]=y.useState(2.8),[W,F]=y.useState(.06),[V,ee]=y.useState(.01),[Q,ne]=y.useState(.25),[ge,Ce]=y.useState(300),[qe,Xe]=y.useState(6e3),me=y.useRef(null),we=y.useRef(null),te=y.useRef(!1),he=y.useRef(.05),pe=y.useRef(0),Y=y.useRef(null),Se=y.useCallback(xe=>{P(Qe=>[xe,...Qe].slice(0,100))},[]),Re=async()=>{i("Requesting microphone..."),P([]),h(0),x(null),v(null),w(null),N(null),C(null),he.current=.05,pe.current=0,Y.current=null;try{const xe=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});we.current=xe;const Qe=new AudioContext({sampleRate:48e3});me.current=Qe,Qe.state==="suspended"&&await Qe.resume(),i(`AudioContext: ${Qe.state}`);const cn=Qe.createMediaStreamSource(xe),kt=Qe.createBiquadFilter();kt.type="highpass",kt.frequency.value=ge;const pn=Qe.createBiquadFilter();pn.type="lowpass",pn.frequency.value=qe;const yr=Qe.createAnalyser();yr.fftSize=2048,cn.connect(kt),kt.connect(pn),pn.connect(yr),te.current=!0,n(!0),Se({type:"info",time:0,max:0,thresh:0,floor:0});const bn=new Float32Array(yr.fftSize);let vr=0;const Yi=()=>{if(!te.current)return;vr++,vr%30===0&&(k(vr),i(`Listening (frame ${vr})`)),yr.getFloatTimeDomainData(bn);let Wt=0;for(let It=0;It<bn.length;It++)Wt=Math.max(Wt,Math.abs(bn[It]));vr<=3&&Se({type:"debug",time:Qe.currentTime,max:Wt,thresh:0,floor:he.current});const Mr=he.current;he.current=Wt>Mr?Mr+QCe*(Wt-Mr):Mr-JCe*(Mr-Wt),he.current=Math.max(.02,Math.min(.6,he.current));const An=Qe.currentTime,Cn=Math.max(R,he.current*B);if(s(Wt),l(he.current),d(Cn),Wt>Cn&&An-pe.current>W)if(pe.current=An,h(It=>It+1),C(Wt),Y.current===null)Y.current=An,x(An),Se({type:"tip",time:An,max:Wt,thresh:Cn,floor:he.current});else{const It=An-Y.current;if(v(An),w(It),It>=V&&It<=Q){Se({type:"rack",time:An,max:Wt,thresh:Cn,floor:he.current,deltaT:It});const xr=I*XCe/It*2.23693629;N(xr),Y.current=null}else Se({type:"rejected",time:An,max:Wt,thresh:Cn,floor:he.current,deltaT:It,reason:It<V?"too fast":"too slow"}),It>Q&&(Y.current=An,x(An))}requestAnimationFrame(Yi)};requestAnimationFrame(Yi)}catch(xe){console.error(xe),i(`ERROR: ${xe.message}`),n(!1)}},mt=()=>{te.current=!1,we.current&&we.current.getTracks().forEach(xe=>xe.stop()),me.current&&me.current.close(),n(!1),i("Stopped")},ot=()=>{P([]),h(0),x(null),v(null),w(null),N(null),C(null)},At=()=>{const xe={exportedAt:new Date().toISOString(),config:{distanceIn:I,minThresh:R,floorMult:B,refractTime:W,minDeltaT:V,maxDeltaT:Q,hpfFreq:ge,lpfFreq:qe},peaks:S},Qe=new Blob([JSON.stringify(xe,null,2)],{type:"application/json"}),cn=URL.createObjectURL(Qe),kt=document.createElement("a");kt.href=cn,kt.download=`break-debug-${Date.now()}.json`,kt.click(),URL.revokeObjectURL(cn)};y.useEffect(()=>()=>{te.current=!1,we.current&&we.current.getTracks().forEach(xe=>xe.stop()),me.current&&me.current.close()},[]);const Rt=xe=>{switch(xe){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Ho,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(ue,{onClick:e?mt:Re,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?u.jsx(g7,{className:"w-4 h-4 mr-2"}):u.jsx(y7,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),u.jsxs(ue,{variant:"secondary",onClick:ot,"data-testid":"button-clear",children:[u.jsx(cy,{className:"w-4 h-4 mr-2"}),"Clear"]}),u.jsxs(ue,{variant:"secondary",onClick:At,"data-testid":"button-export",children:[u.jsx(u$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),u.jsxs(ze,{className:"p-4 bg-muted/30",children:[u.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",u.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",A]})]}),E!==null&&u.jsxs(ze,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[u.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),u.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",b==null?void 0:b.toFixed(4),"s | Distance: ",I,'"']})]}),u.jsxs(ze,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Current"}),u.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${c*100}%`}})]}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Floor"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Thresh"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${c*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:c.toFixed(3)})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold text-primary",children:f}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(b==null?void 0:b.toFixed(4))??"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(_==null?void 0:_.toFixed(4))??"-"]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Distance (in)"}),u.jsx(rr,{type:"number",value:I,onChange:xe=>O(+xe.target.value),className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Min Threshold"}),u.jsx(rr,{type:"number",value:R,onChange:xe=>L(+xe.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Floor Multiplier"}),u.jsx(rr,{type:"number",value:B,onChange:xe=>U(+xe.target.value),step:"0.1",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Refractory (s)"}),u.jsx(rr,{type:"number",value:W,onChange:xe=>F(+xe.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Min Delta T (s)"}),u.jsx(rr,{type:"number",value:V,onChange:xe=>ee(+xe.target.value),step:"0.005",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"Max Delta T (s)"}),u.jsx(rr,{type:"number",value:Q,onChange:xe=>ne(+xe.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"HPF Freq (Hz)"}),u.jsx(rr,{type:"number",value:ge,onChange:xe=>Ce(+xe.target.value),step:"50",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(dn,{className:"text-xs",children:"LPF Freq (Hz)"}),u.jsx(rr,{type:"number",value:qe,onChange:xe=>Xe(+xe.target.value),step:"100",className:"h-8"})]})]})]}),u.jsxs(ze,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),u.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:S.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):S.map((xe,Qe)=>u.jsxs("div",{className:`flex justify-between ${Rt(xe.type)}`,children:[u.jsxs("span",{children:[xe.type.toUpperCase()," @ ",xe.time.toFixed(4),"s"]}),u.jsxs("span",{children:["max: ",xe.max.toFixed(4)," ",xe.deltaT?`dt: ${xe.deltaT.toFixed(4)}`:""," ",xe.reason||""]})]},Qe))})]})]})})]})}function eNe(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(ze,{className:"w-full max-w-md mx-4",children:u.jsxs(S3,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(u7,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const tNe=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),nNe=t=>{window.location.hash=t},rNe=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),iNe=()=>window.location.hash.replace(/^#/,"")||"/";function oNe(){const t=y.useSyncExternalStore(rNe,iNe,()=>"/"),e=y.useCallback(n=>nNe(n),[]);return[t,e]}function sNe(){return u.jsx(AD,{hook:tNe?oNe:void 0,children:u.jsxs(Dz,{children:[u.jsx(cs,{path:"/",component:nne}),u.jsx(cs,{path:"/break-speed",component:Nne}),u.jsx(cs,{path:"/shot-clock",component:HAe}),u.jsx(cs,{path:"/table-level",component:GAe}),u.jsx(cs,{path:"/cue-emulator",component:GCe}),u.jsx(cs,{path:"/insights",component:KCe}),u.jsx(cs,{path:"/admin/analytics",component:YCe}),u.jsx(cs,{path:"/debug/audio",component:ZCe}),u.jsx(cs,{component:eNe})]})})}function aNe(){return u.jsx(sW,{client:cW,children:u.jsx(Dq,{children:u.jsx(eee,{children:u.jsxs(Rq,{children:[u.jsx(lH,{}),u.jsx(sNe,{})]})})})})}gD(document.getElementById("root")).render(u.jsx(aNe,{}));
</script>
  </body>
</html>
