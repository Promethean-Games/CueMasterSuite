var sP=t=>{throw TypeError(t)};var nb=(t,e,n)=>e.has(t)||sP("Cannot "+n);var he=(t,e,n)=>(nb(t,e,"read from private field"),n?n.call(t):e.get(t)),Dt=(t,e,n)=>e.has(t)?sP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(nb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),kr=(t,e,n)=>(nb(t,e,"access private method"),n);var _m=(t,e,n,r)=>({set _(i){yt(t,e,i,n)},get _(){return he(t,e,r)}});function j9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qR={exports:{}},nx={},GR={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=Symbol.for("react.element"),I9=Symbol.for("react.portal"),k9=Symbol.for("react.fragment"),O9=Symbol.for("react.strict_mode"),R9=Symbol.for("react.profiler"),M9=Symbol.for("react.provider"),D9=Symbol.for("react.context"),$9=Symbol.for("react.forward_ref"),L9=Symbol.for("react.suspense"),F9=Symbol.for("react.memo"),V9=Symbol.for("react.lazy"),aP=Symbol.iterator;function B9(t){return t===null||typeof t!="object"?null:(t=aP&&t[aP]||t["@@iterator"],typeof t=="function"?t:null)}var KR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YR=Object.assign,XR={};function Ad(t,e,n){this.props=t,this.context=e,this.refs=XR,this.updater=n||KR}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ad.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QR(){}QR.prototype=Ad.prototype;function tE(t,e,n){this.props=t,this.context=e,this.refs=XR,this.updater=n||KR}var nE=tE.prototype=new QR;nE.constructor=tE;YR(nE,Ad.prototype);nE.isPureReactComponent=!0;var lP=Array.isArray,JR=Object.prototype.hasOwnProperty,rE={current:null},ZR={key:!0,ref:!0,__self:!0,__source:!0};function eM(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)JR.call(e,r)&&!ZR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$p,type:t,key:o,ref:s,props:i,_owner:rE.current}}function U9(t,e){return{$$typeof:$p,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iE(t){return typeof t=="object"&&t!==null&&t.$$typeof===$p}function z9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cP=/\/+/g;function rb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z9(""+t.key):e.toString(36)}function Sg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $p:case I9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rb(s,0):r,lP(i)?(n="",t!=null&&(n=t.replace(cP,"$&/")+"/"),Sg(i,e,n,"",function(u){return u})):i!=null&&(iE(i)&&(i=U9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(cP,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",lP(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+rb(o,a);s+=Sg(o,e,n,l,i)}else if(l=B9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+rb(o,a++),s+=Sg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tm(t,e,n){if(t==null)return t;var r=[],i=0;return Sg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function W9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},_g={transition:null},H9={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:_g,ReactCurrentOwner:rE};function tM(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Tm,forEach:function(t,e,n){Tm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tm(t,function(){e++}),e},toArray:function(t){return Tm(t,function(e){return e})||[]},only:function(t){if(!iE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=Ad;bt.Fragment=k9;bt.Profiler=R9;bt.PureComponent=tE;bt.StrictMode=O9;bt.Suspense=L9;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H9;bt.act=tM;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JR.call(e,l)&&!ZR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$p,type:t.type,key:i,ref:o,props:r,_owner:s}};bt.createContext=function(t){return t={$$typeof:D9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M9,_context:t},t.Consumer=t};bt.createElement=eM;bt.createFactory=function(t){var e=eM.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:$9,render:t}};bt.isValidElement=iE;bt.lazy=function(t){return{$$typeof:V9,_payload:{_status:-1,_result:t},_init:W9}};bt.memo=function(t,e){return{$$typeof:F9,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};bt.unstable_act=tM;bt.useCallback=function(t,e){return Jr.current.useCallback(t,e)};bt.useContext=function(t){return Jr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Jr.current.useEffect(t,e)};bt.useId=function(){return Jr.current.useId()};bt.useImperativeHandle=function(t,e,n){return Jr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Jr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Jr.current.useReducer(t,e,n)};bt.useRef=function(t){return Jr.current.useRef(t)};bt.useState=function(t){return Jr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Jr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Jr.current.useTransition()};bt.version="18.3.1";GR.exports=bt;var b=GR.exports;const q=Jt(b),nM=j9({__proto__:null,default:q},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q9=b,G9=Symbol.for("react.element"),K9=Symbol.for("react.fragment"),Y9=Object.prototype.hasOwnProperty,X9=q9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q9={key:!0,ref:!0,__self:!0,__source:!0};function rM(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Y9.call(e,r)&&!Q9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:G9,type:t,key:o,ref:s,props:i,_owner:X9.current}}nx.Fragment=K9;nx.jsx=rM;nx.jsxs=rM;qR.exports=nx;var c=qR.exports,iM={exports:{}},Ri={},oM={exports:{}},sM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var ne=V.length;V.push(W);e:for(;0<ne;){var X=ne-1>>>1,ie=V[X];if(0<i(ie,W))V[X]=W,V[ne]=ie,ne=X;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],ne=V.pop();if(ne!==W){V[0]=ne;e:for(var X=0,ie=V.length,le=ie>>>1;X<le;){var be=2*(X+1)-1,ke=V[be],st=be+1,xe=V[st];if(0>i(ke,ne))st<ie&&0>i(xe,ke)?(V[X]=xe,V[st]=ne,X=st):(V[X]=ke,V[be]=ne,X=be);else if(st<ie&&0>i(xe,ne))V[X]=xe,V[st]=ne,X=st;else break e}}return W}function i(V,W){var ne=V.sortIndex-W.sortIndex;return ne!==0?ne:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function C(V){if(g=!1,S(V),!y)if(n(l)!==null)y=!0,B(E);else{var W=n(u);W!==null&&U(C,W.startTime-V)}}function E(V,W){y=!1,g&&(g=!1,x(T),T=-1),m=!0;var ne=h;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||V&&!j());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var ie=X(f.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),S(W)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var be=n(u);be!==null&&U(C,be.startTime-W),le=!1}return le}finally{f=null,h=ne,m=!1}}var P=!1,_=null,T=-1,N=5,k=-1;function j(){return!(t.unstable_now()-k<N)}function R(){if(_!==null){var V=t.unstable_now();k=V;var W=!0;try{W=_(!0,V)}finally{W?O():(P=!1,_=null)}}else P=!1}var O;if(typeof w=="function")O=function(){w(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=R,O=function(){F.postMessage(null)}}else O=function(){v(R,0)};function B(V){_=V,P||(P=!0,O())}function U(V,W){T=v(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,B(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ne=h;h=W;try{return V()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=h;h=V;try{return W()}finally{h=ne}},t.unstable_scheduleCallback=function(V,W,ne){var X=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,V={id:d++,callback:W,priorityLevel:V,startTime:ne,expirationTime:ie,sortIndex:-1},ne>X?(V.sortIndex=ne,e(u,V),n(l)===null&&V===n(u)&&(g?(x(T),T=-1):g=!0,U(C,ne-X))):(V.sortIndex=ie,e(l,V),y||m||(y=!0,B(E))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var W=h;return function(){var ne=h;h=W;try{return V.apply(this,arguments)}finally{h=ne}}}})(sM);oM.exports=sM;var J9=oM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z9=b,ki=J9;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aM=new Set,ph={};function Ec(t,e){Fu(t,e),Fu(t+"Capture",e)}function Fu(t,e){for(ph[t]=e,t=0;t<e.length;t++)aM.add(e[t])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$w=Object.prototype.hasOwnProperty,e8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uP={},dP={};function t8(t){return $w.call(dP,t)?!0:$w.call(uP,t)?!1:e8.test(t)?dP[t]=!0:(uP[t]=!0,!1)}function n8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r8(t,e,n,r){if(e===null||typeof e>"u"||n8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tr[t]=new Zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tr[e]=new Zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tr[t]=new Zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tr[t]=new Zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tr[t]=new Zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tr[t]=new Zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tr[t]=new Zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tr[t]=new Zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tr[t]=new Zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var oE=/[\-:]([a-z])/g;function sE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oE,sE);Tr[e]=new Zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oE,sE);Tr[e]=new Zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oE,sE);Tr[e]=new Zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tr[t]=new Zr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tr[t]=new Zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function aE(t,e,n,r){var i=Tr.hasOwnProperty(e)?Tr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r8(e,n,i,r)&&(n=null),r||i===null?t8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=Z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cm=Symbol.for("react.element"),Jc=Symbol.for("react.portal"),Zc=Symbol.for("react.fragment"),lE=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),lM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),cE=Symbol.for("react.forward_ref"),Fw=Symbol.for("react.suspense"),Vw=Symbol.for("react.suspense_list"),uE=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),uM=Symbol.for("react.offscreen"),fP=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=fP&&t[fP]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,ib;function If(t){if(ib===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ib=e&&e[1]||""}return`
`+ib+t}var ob=!1;function sb(t,e){if(!t||ob)return"";ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ob=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?If(t):""}function i8(t){switch(t.tag){case 5:return If(t.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return t=sb(t.type,!1),t;case 11:return t=sb(t.type.render,!1),t;case 1:return t=sb(t.type,!0),t;default:return""}}function Bw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zc:return"Fragment";case Jc:return"Portal";case Lw:return"Profiler";case lE:return"StrictMode";case Fw:return"Suspense";case Vw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cM:return(t.displayName||"Context")+".Consumer";case lM:return(t._context.displayName||"Context")+".Provider";case cE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uE:return e=t.displayName||null,e!==null?e:Bw(t.type)||"Memo";case Ta:e=t._payload,t=t._init;try{return Bw(t(e))}catch{}}return null}function o8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bw(e);case 8:return e===lE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s8(t){var e=dM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Am(t){t._valueTracker||(t._valueTracker=s8(t))}function fM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uw(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hM(t,e){e=e.checked,e!=null&&aE(t,"checked",e,!1)}function zw(t,e){hM(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ww(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ww(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ww(t,e,n){(e!=="number"||Jg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kf=Array.isArray;function hu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(kf(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function pM(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pm,gM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pm=Pm||document.createElement("div"),Pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a8=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(t){a8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uf[e]=Uf[t]})});function yM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uf.hasOwnProperty(t)&&Uf[t]?(""+e).trim():e+"px"}function vM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l8=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gw(t,e){if(e){if(l8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function Kw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=null;function dE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xw=null,pu=null,mu=null;function yP(t){if(t=Vp(t)){if(typeof Xw!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=ax(e),Xw(t.stateNode,t.type,e))}}function xM(t){pu?mu?mu.push(t):mu=[t]:pu=t}function bM(){if(pu){var t=pu,e=mu;if(mu=pu=null,yP(t),e)for(t=0;t<e.length;t++)yP(e[t])}}function wM(t,e){return t(e)}function SM(){}var ab=!1;function _M(t,e,n){if(ab)return t(e,n);ab=!0;try{return wM(t,e,n)}finally{ab=!1,(pu!==null||mu!==null)&&(SM(),bM())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=ax(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var Qw=!1;if(Ks)try{var df={};Object.defineProperty(df,"passive",{get:function(){Qw=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{Qw=!1}function c8(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zf=!1,Zg=null,ey=!1,Jw=null,u8={onError:function(t){zf=!0,Zg=t}};function d8(t,e,n,r,i,o,s,a,l){zf=!1,Zg=null,c8.apply(u8,arguments)}function f8(t,e,n,r,i,o,s,a,l){if(d8.apply(this,arguments),zf){if(zf){var u=Zg;zf=!1,Zg=null}else throw Error(ve(198));ey||(ey=!0,Jw=u)}}function Tc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vP(t){if(Tc(t)!==t)throw Error(ve(188))}function h8(t){var e=t.alternate;if(!e){if(e=Tc(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vP(i),t;if(o===r)return vP(i),e;o=o.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function TM(t){return t=h8(t),t!==null?CM(t):null}function CM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CM(t);if(e!==null)return e;t=t.sibling}return null}var AM=ki.unstable_scheduleCallback,xP=ki.unstable_cancelCallback,p8=ki.unstable_shouldYield,m8=ki.unstable_requestPaint,kn=ki.unstable_now,g8=ki.unstable_getCurrentPriorityLevel,fE=ki.unstable_ImmediatePriority,PM=ki.unstable_UserBlockingPriority,ty=ki.unstable_NormalPriority,y8=ki.unstable_LowPriority,NM=ki.unstable_IdlePriority,rx=null,is=null;function v8(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(rx,t,void 0,(t.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:w8,x8=Math.log,b8=Math.LN2;function w8(t){return t>>>=0,t===0?32:31-(x8(t)/b8|0)|0}var Nm=64,jm=4194304;function Of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ny(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Of(a):(o&=s,o!==0&&(r=Of(o)))}else s=n&~i,s!==0?r=Of(s):o!==0&&(r=Of(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Oo(e),i=1<<n,r|=t[n],e&=~i;return r}function S8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Oo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=S8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Zw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jM(){var t=Nm;return Nm<<=1,!(Nm&4194240)&&(Nm=64),t}function lb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oo(e),t[e]=n}function E8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Oo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function IM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kM,pE,OM,RM,MM,e1=!1,Im=[],za=null,Wa=null,Ha=null,yh=new Map,vh=new Map,Pa=[],T8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bP(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function ff(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Vp(e),e!==null&&pE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C8(t,e,n,r,i){switch(e){case"focusin":return za=ff(za,t,e,n,r,i),!0;case"dragenter":return Wa=ff(Wa,t,e,n,r,i),!0;case"mouseover":return Ha=ff(Ha,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yh.set(o,ff(yh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vh.set(o,ff(vh.get(o)||null,t,e,n,r,i)),!0}return!1}function DM(t){var e=$l(t.target);if(e!==null){var n=Tc(e);if(n!==null){if(e=n.tag,e===13){if(e=EM(n),e!==null){t.blockedOn=e,MM(t.priority,function(){OM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=t1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yw=r,n.target.dispatchEvent(r),Yw=null}else return e=Vp(n),e!==null&&pE(e),t.blockedOn=n,!1;e.shift()}return!0}function wP(t,e,n){Eg(t)&&n.delete(e)}function A8(){e1=!1,za!==null&&Eg(za)&&(za=null),Wa!==null&&Eg(Wa)&&(Wa=null),Ha!==null&&Eg(Ha)&&(Ha=null),yh.forEach(wP),vh.forEach(wP)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,e1||(e1=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,A8)))}function xh(t){function e(i){return hf(i,t)}if(0<Im.length){hf(Im[0],t);for(var n=1;n<Im.length;n++){var r=Im[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&hf(za,t),Wa!==null&&hf(Wa,t),Ha!==null&&hf(Ha,t),yh.forEach(e),vh.forEach(e),n=0;n<Pa.length;n++)r=Pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pa.length&&(n=Pa[0],n.blockedOn===null);)DM(n),n.blockedOn===null&&Pa.shift()}var gu=la.ReactCurrentBatchConfig,ry=!0;function P8(t,e,n,r){var i=Vt,o=gu.transition;gu.transition=null;try{Vt=1,mE(t,e,n,r)}finally{Vt=i,gu.transition=o}}function N8(t,e,n,r){var i=Vt,o=gu.transition;gu.transition=null;try{Vt=4,mE(t,e,n,r)}finally{Vt=i,gu.transition=o}}function mE(t,e,n,r){if(ry){var i=t1(t,e,n,r);if(i===null)vb(t,e,r,iy,n),bP(t,r);else if(C8(i,t,e,n,r))r.stopPropagation();else if(bP(t,r),e&4&&-1<T8.indexOf(t)){for(;i!==null;){var o=Vp(i);if(o!==null&&kM(o),o=t1(t,e,n,r),o===null&&vb(t,e,r,iy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vb(t,e,r,null,n)}}var iy=null;function t1(t,e,n,r){if(iy=null,t=dE(r),t=$l(t),t!==null)if(e=Tc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iy=t,null}function $M(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g8()){case fE:return 1;case PM:return 4;case ty:case y8:return 16;case NM:return 536870912;default:return 16}default:return 16}}var $a=null,gE=null,Tg=null;function LM(){if(Tg)return Tg;var t,e=gE,n=e.length,r,i="value"in $a?$a.value:$a.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Tg=i.slice(t,1<r?1-r:void 0)}function Cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function km(){return!0}function SP(){return!1}function Mi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?km:SP,this.isPropagationStopped=SP,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=km)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=km)},persist:function(){},isPersistent:km}),e}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yE=Mi(Pd),Fp=Cn({},Pd,{view:0,detail:0}),j8=Mi(Fp),cb,ub,pf,ix=Cn({},Fp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pf&&(pf&&t.type==="mousemove"?(cb=t.screenX-pf.screenX,ub=t.screenY-pf.screenY):ub=cb=0,pf=t),cb)},movementY:function(t){return"movementY"in t?t.movementY:ub}}),_P=Mi(ix),I8=Cn({},ix,{dataTransfer:0}),k8=Mi(I8),O8=Cn({},Fp,{relatedTarget:0}),db=Mi(O8),R8=Cn({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),M8=Mi(R8),D8=Cn({},Pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$8=Mi(D8),L8=Cn({},Pd,{data:0}),EP=Mi(L8),F8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B8[t])?!!e[t]:!1}function vE(){return U8}var z8=Cn({},Fp,{key:function(t){if(t.key){var e=F8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vE,charCode:function(t){return t.type==="keypress"?Cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W8=Mi(z8),H8=Cn({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TP=Mi(H8),q8=Cn({},Fp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vE}),G8=Mi(q8),K8=Cn({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y8=Mi(K8),X8=Cn({},ix,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q8=Mi(X8),J8=[9,13,27,32],xE=Ks&&"CompositionEvent"in window,Wf=null;Ks&&"documentMode"in document&&(Wf=document.documentMode);var Z8=Ks&&"TextEvent"in window&&!Wf,FM=Ks&&(!xE||Wf&&8<Wf&&11>=Wf),CP=" ",AP=!1;function VM(t,e){switch(t){case"keyup":return J8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eu=!1;function ez(t,e){switch(t){case"compositionend":return BM(e);case"keypress":return e.which!==32?null:(AP=!0,CP);case"textInput":return t=e.data,t===CP&&AP?null:t;default:return null}}function tz(t,e){if(eu)return t==="compositionend"||!xE&&VM(t,e)?(t=LM(),Tg=gE=$a=null,eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FM&&e.locale!=="ko"?null:e.data;default:return null}}var nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nz[t.type]:e==="textarea"}function UM(t,e,n,r){xM(r),e=oy(e,"onChange"),0<e.length&&(n=new yE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,bh=null;function rz(t){ZM(t,0)}function ox(t){var e=ru(t);if(fM(e))return t}function iz(t,e){if(t==="change")return e}var zM=!1;if(Ks){var fb;if(Ks){var hb="oninput"in document;if(!hb){var NP=document.createElement("div");NP.setAttribute("oninput","return;"),hb=typeof NP.oninput=="function"}fb=hb}else fb=!1;zM=fb&&(!document.documentMode||9<document.documentMode)}function jP(){Hf&&(Hf.detachEvent("onpropertychange",WM),bh=Hf=null)}function WM(t){if(t.propertyName==="value"&&ox(bh)){var e=[];UM(e,bh,t,dE(t)),_M(rz,e)}}function oz(t,e,n){t==="focusin"?(jP(),Hf=e,bh=n,Hf.attachEvent("onpropertychange",WM)):t==="focusout"&&jP()}function sz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(bh)}function az(t,e){if(t==="click")return ox(e)}function lz(t,e){if(t==="input"||t==="change")return ox(e)}function cz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lo=typeof Object.is=="function"?Object.is:cz;function wh(t,e){if(Lo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$w.call(e,i)||!Lo(t[i],e[i]))return!1}return!0}function IP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kP(t,e){var n=IP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IP(n)}}function HM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qM(){for(var t=window,e=Jg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jg(t.document)}return e}function bE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uz(t){var e=qM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HM(n.ownerDocument.documentElement,n)){if(r!==null&&bE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kP(n,o);var s=kP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dz=Ks&&"documentMode"in document&&11>=document.documentMode,tu=null,n1=null,qf=null,r1=!1;function OP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r1||tu==null||tu!==Jg(r)||(r=tu,"selectionStart"in r&&bE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&wh(qf,r)||(qf=r,r=oy(n1,"onSelect"),0<r.length&&(e=new yE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tu)))}function Om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nu={animationend:Om("Animation","AnimationEnd"),animationiteration:Om("Animation","AnimationIteration"),animationstart:Om("Animation","AnimationStart"),transitionend:Om("Transition","TransitionEnd")},pb={},GM={};Ks&&(GM=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function sx(t){if(pb[t])return pb[t];if(!nu[t])return t;var e=nu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GM)return pb[t]=e[n];return t}var KM=sx("animationend"),YM=sx("animationiteration"),XM=sx("animationstart"),QM=sx("transitionend"),JM=new Map,RP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(t,e){JM.set(t,e),Ec(e,[t])}for(var mb=0;mb<RP.length;mb++){var gb=RP[mb],fz=gb.toLowerCase(),hz=gb[0].toUpperCase()+gb.slice(1);ml(fz,"on"+hz)}ml(KM,"onAnimationEnd");ml(YM,"onAnimationIteration");ml(XM,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(QM,"onTransitionEnd");Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);Ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function MP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f8(r,e,void 0,t),t.currentTarget=null}function ZM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;MP(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;MP(i,a,u),o=l}}}if(ey)throw t=Jw,ey=!1,Jw=null,t}function an(t,e){var n=e[l1];n===void 0&&(n=e[l1]=new Set);var r=t+"__bubble";n.has(r)||(eD(e,t,2,!1),n.add(r))}function yb(t,e,n){var r=0;e&&(r|=4),eD(n,t,r,e)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[Rm]){t[Rm]=!0,aM.forEach(function(n){n!=="selectionchange"&&(pz.has(n)||yb(n,!1,t),yb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rm]||(e[Rm]=!0,yb("selectionchange",!1,e))}}function eD(t,e,n,r){switch($M(e)){case 1:var i=P8;break;case 4:i=N8;break;default:i=mE}n=i.bind(null,e,n,t),i=void 0,!Qw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$l(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}_M(function(){var u=o,d=dE(n),f=[];e:{var h=JM.get(t);if(h!==void 0){var m=yE,y=t;switch(t){case"keypress":if(Cg(n)===0)break e;case"keydown":case"keyup":m=W8;break;case"focusin":y="focus",m=db;break;case"focusout":y="blur",m=db;break;case"beforeblur":case"afterblur":m=db;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_P;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=k8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=G8;break;case KM:case YM:case XM:m=M8;break;case QM:m=Y8;break;case"scroll":m=j8;break;case"wheel":m=Q8;break;case"copy":case"cut":case"paste":m=$8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=TP}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=gh(w,x),C!=null&&g.push(_h(w,C,S)))),v)break;w=w.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Yw&&(y=n.relatedTarget||n.fromElement)&&($l(y)||y[Ys]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?$l(y):null,y!==null&&(v=Tc(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=_P,C="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=TP,C="onPointerLeave",x="onPointerEnter",w="pointer"),v=m==null?h:ru(m),S=y==null?h:ru(y),h=new g(C,w+"leave",m,n,d),h.target=v,h.relatedTarget=S,C=null,$l(d)===u&&(g=new g(x,w+"enter",y,n,d),g.target=S,g.relatedTarget=v,C=g),v=C,m&&y)t:{for(g=m,x=y,w=0,S=g;S;S=Dc(S))w++;for(S=0,C=x;C;C=Dc(C))S++;for(;0<w-S;)g=Dc(g),w--;for(;0<S-w;)x=Dc(x),S--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=Dc(g),x=Dc(x)}g=null}else g=null;m!==null&&DP(f,h,m,g,!1),y!==null&&v!==null&&DP(f,v,y,g,!0)}}e:{if(h=u?ru(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=iz;else if(PP(h))if(zM)E=lz;else{E=sz;var P=oz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=az);if(E&&(E=E(t,u))){UM(f,E,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ww(h,"number",h.value)}switch(P=u?ru(u):window,t){case"focusin":(PP(P)||P.contentEditable==="true")&&(tu=P,n1=u,qf=null);break;case"focusout":qf=n1=tu=null;break;case"mousedown":r1=!0;break;case"contextmenu":case"mouseup":case"dragend":r1=!1,OP(f,n,d);break;case"selectionchange":if(dz)break;case"keydown":case"keyup":OP(f,n,d)}var _;if(xE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else eu?VM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(FM&&n.locale!=="ko"&&(eu||T!=="onCompositionStart"?T==="onCompositionEnd"&&eu&&(_=LM()):($a=d,gE="value"in $a?$a.value:$a.textContent,eu=!0)),P=oy(u,T),0<P.length&&(T=new EP(T,t,null,n,d),f.push({event:T,listeners:P}),_?T.data=_:(_=BM(n),_!==null&&(T.data=_)))),(_=Z8?ez(t,n):tz(t,n))&&(u=oy(u,"onBeforeInput"),0<u.length&&(d=new EP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}ZM(f,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gh(t,n),o!=null&&r.unshift(_h(t,o,i)),o=gh(t,e),o!=null&&r.push(_h(t,o,i))),t=t.return}return r}function Dc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DP(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gh(n,o),l!=null&&s.unshift(_h(n,l,a))):i||(l=gh(n,o),l!=null&&s.push(_h(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var mz=/\r\n?/g,gz=/\u0000|\uFFFD/g;function $P(t){return(typeof t=="string"?t:""+t).replace(mz,`
`).replace(gz,"")}function Mm(t,e,n){if(e=$P(e),$P(t)!==e&&n)throw Error(ve(425))}function sy(){}var i1=null,o1=null;function s1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a1=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,LP=typeof Promise=="function"?Promise:void 0,vz=typeof queueMicrotask=="function"?queueMicrotask:typeof LP<"u"?function(t){return LP.resolve(null).then(t).catch(xz)}:a1;function xz(t){setTimeout(function(){throw t})}function xb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xh(e)}function qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),ts="__reactFiber$"+Nd,Eh="__reactProps$"+Nd,Ys="__reactContainer$"+Nd,l1="__reactEvents$"+Nd,bz="__reactListeners$"+Nd,wz="__reactHandles$"+Nd;function $l(t){var e=t[ts];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[ts]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FP(t);t!==null;){if(n=t[ts])return n;t=FP(t)}return e}t=n,n=t.parentNode}return null}function Vp(t){return t=t[ts]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ru(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function ax(t){return t[Eh]||null}var c1=[],iu=-1;function gl(t){return{current:t}}function fn(t){0>iu||(t.current=c1[iu],c1[iu]=null,iu--)}function nn(t,e){iu++,c1[iu]=t.current,t.current=e}var ol={},zr=gl(ol),di=gl(!1),oc=ol;function Vu(t,e){var n=t.type.contextTypes;if(!n)return ol;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fi(t){return t=t.childContextTypes,t!=null}function ay(){fn(di),fn(zr)}function VP(t,e,n){if(zr.current!==ol)throw Error(ve(168));nn(zr,e),nn(di,n)}function tD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,o8(t)||"Unknown",i));return Cn({},n,r)}function ly(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ol,oc=zr.current,nn(zr,t),nn(di,di.current),!0}function BP(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=tD(t,e,oc),r.__reactInternalMemoizedMergedChildContext=t,fn(di),fn(zr),nn(zr,t)):fn(di),nn(di,n)}var Os=null,lx=!1,bb=!1;function nD(t){Os===null?Os=[t]:Os.push(t)}function Sz(t){lx=!0,nD(t)}function yl(){if(!bb&&Os!==null){bb=!0;var t=0,e=Vt;try{var n=Os;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,lx=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),AM(fE,yl),i}finally{Vt=e,bb=!1}}return null}var ou=[],su=0,cy=null,uy=0,Wi=[],Hi=0,sc=null,$s=1,Ls="";function Il(t,e){ou[su++]=uy,ou[su++]=cy,cy=t,uy=e}function rD(t,e,n){Wi[Hi++]=$s,Wi[Hi++]=Ls,Wi[Hi++]=sc,sc=t;var r=$s;t=Ls;var i=32-Oo(r)-1;r&=~(1<<i),n+=1;var o=32-Oo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$s=1<<32-Oo(e)+i|n<<i|r,Ls=o+t}else $s=1<<o|n<<i|r,Ls=t}function wE(t){t.return!==null&&(Il(t,1),rD(t,1,0))}function SE(t){for(;t===cy;)cy=ou[--su],ou[su]=null,uy=ou[--su],ou[su]=null;for(;t===sc;)sc=Wi[--Hi],Wi[Hi]=null,Ls=Wi[--Hi],Wi[Hi]=null,$s=Wi[--Hi],Wi[Hi]=null}var ji=null,Pi=null,yn=!1,So=null;function iD(t,e){var n=Ki(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function UP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ji=t,Pi=qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ji=t,Pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sc!==null?{id:$s,overflow:Ls}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ki(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ji=t,Pi=null,!0):!1;default:return!1}}function u1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function d1(t){if(yn){var e=Pi;if(e){var n=e;if(!UP(t,e)){if(u1(t))throw Error(ve(418));e=qa(n.nextSibling);var r=ji;e&&UP(t,e)?iD(r,n):(t.flags=t.flags&-4097|2,yn=!1,ji=t)}}else{if(u1(t))throw Error(ve(418));t.flags=t.flags&-4097|2,yn=!1,ji=t}}}function zP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ji=t}function Dm(t){if(t!==ji)return!1;if(!yn)return zP(t),yn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!s1(t.type,t.memoizedProps)),e&&(e=Pi)){if(u1(t))throw oD(),Error(ve(418));for(;e;)iD(t,e),e=qa(e.nextSibling)}if(zP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pi=qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pi=null}}else Pi=ji?qa(t.stateNode.nextSibling):null;return!0}function oD(){for(var t=Pi;t;)t=qa(t.nextSibling)}function Bu(){Pi=ji=null,yn=!1}function _E(t){So===null?So=[t]:So.push(t)}var _z=la.ReactCurrentBatchConfig;function mf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function $m(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WP(t){var e=t._init;return e(t._payload)}function sD(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Xa(x,w),x.index=0,x.sibling=null,x}function o(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,C){return w===null||w.tag!==6?(w=Ab(S,x.mode,C),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,C){var E=S.type;return E===Zc?d(x,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&WP(E)===w.type)?(C=i(w,S.props),C.ref=mf(x,w,S),C.return=x,C):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,C)}function u(x,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Pb(S,x.mode,C),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function d(x,w,S,C,E){return w===null||w.tag!==7?(w=Zl(S,x.mode,C,E),w.return=x,w):(w=i(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ab(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cm:return S=Og(w.type,w.key,w.props,null,x.mode,S),S.ref=mf(x,null,w),S.return=x,S;case Jc:return w=Pb(w,x.mode,S),w.return=x,w;case Ta:var C=w._init;return f(x,C(w._payload),S)}if(kf(w)||uf(w))return w=Zl(w,x.mode,S,null),w.return=x,w;$m(x,w)}return null}function h(x,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(x,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:return S.key===E?l(x,w,S,C):null;case Jc:return S.key===E?u(x,w,S,C):null;case Ta:return E=S._init,h(x,w,E(S._payload),C)}if(kf(S)||uf(S))return E!==null?null:d(x,w,S,C,null);$m(x,S)}return null}function m(x,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,a(w,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cm:return x=x.get(C.key===null?S:C.key)||null,l(w,x,C,E);case Jc:return x=x.get(C.key===null?S:C.key)||null,u(w,x,C,E);case Ta:var P=C._init;return m(x,w,S,P(C._payload),E)}if(kf(C)||uf(C))return x=x.get(S)||null,d(w,x,C,E,null);$m(w,C)}return null}function y(x,w,S,C){for(var E=null,P=null,_=w,T=w=0,N=null;_!==null&&T<S.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var k=h(x,_,S[T],C);if(k===null){_===null&&(_=N);break}t&&_&&k.alternate===null&&e(x,_),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k,_=N}if(T===S.length)return n(x,_),yn&&Il(x,T),E;if(_===null){for(;T<S.length;T++)_=f(x,S[T],C),_!==null&&(w=o(_,w,T),P===null?E=_:P.sibling=_,P=_);return yn&&Il(x,T),E}for(_=r(x,_);T<S.length;T++)N=m(_,x,T,S[T],C),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),w=o(N,w,T),P===null?E=N:P.sibling=N,P=N);return t&&_.forEach(function(j){return e(x,j)}),yn&&Il(x,T),E}function g(x,w,S,C){var E=uf(S);if(typeof E!="function")throw Error(ve(150));if(S=E.call(S),S==null)throw Error(ve(151));for(var P=E=null,_=w,T=w=0,N=null,k=S.next();_!==null&&!k.done;T++,k=S.next()){_.index>T?(N=_,_=null):N=_.sibling;var j=h(x,_,k.value,C);if(j===null){_===null&&(_=N);break}t&&_&&j.alternate===null&&e(x,_),w=o(j,w,T),P===null?E=j:P.sibling=j,P=j,_=N}if(k.done)return n(x,_),yn&&Il(x,T),E;if(_===null){for(;!k.done;T++,k=S.next())k=f(x,k.value,C),k!==null&&(w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return yn&&Il(x,T),E}for(_=r(x,_);!k.done;T++,k=S.next())k=m(_,x,T,k.value,C),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),w=o(k,w,T),P===null?E=k:P.sibling=k,P=k);return t&&_.forEach(function(R){return e(x,R)}),yn&&Il(x,T),E}function v(x,w,S,C){if(typeof S=="object"&&S!==null&&S.type===Zc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Cm:e:{for(var E=S.key,P=w;P!==null;){if(P.key===E){if(E=S.type,E===Zc){if(P.tag===7){n(x,P.sibling),w=i(P,S.props.children),w.return=x,x=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&WP(E)===P.type){n(x,P.sibling),w=i(P,S.props),w.ref=mf(x,P,S),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}S.type===Zc?(w=Zl(S.props.children,x.mode,C,S.key),w.return=x,x=w):(C=Og(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,x=C)}return s(x);case Jc:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Pb(S,x.mode,C),w.return=x,x=w}return s(x);case Ta:return P=S._init,v(x,w,P(S._payload),C)}if(kf(S))return y(x,w,S,C);if(uf(S))return g(x,w,S,C);$m(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=Ab(S,x.mode,C),w.return=x,x=w),s(x)):n(x,w)}return v}var Uu=sD(!0),aD=sD(!1),dy=gl(null),fy=null,au=null,EE=null;function TE(){EE=au=fy=null}function CE(t){var e=dy.current;fn(dy),t._currentValue=e}function f1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yu(t,e){fy=t,EE=au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function Zi(t){var e=t._currentValue;if(EE!==t)if(t={context:t,memoizedValue:e,next:null},au===null){if(fy===null)throw Error(ve(308));au=t,fy.dependencies={lanes:0,firstContext:t}}else au=au.next=t;return e}var Ll=null;function AE(t){Ll===null?Ll=[t]:Ll.push(t)}function lD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,AE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ca=!1;function PE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xs(t,n)}return i=r.interleaved,i===null?(e.next=e,AE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xs(t,n)}function Ag(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}function HP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hy(t,e,n,r){var i=t.updateQueue;Ca=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Cn({},f,h);break e;case 2:Ca=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);lc|=s,t.lanes=s,t.memoizedState=f}}function qP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Bp={},os=gl(Bp),Th=gl(Bp),Ch=gl(Bp);function Fl(t){if(t===Bp)throw Error(ve(174));return t}function NE(t,e){switch(nn(Ch,e),nn(Th,t),nn(os,Bp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qw(e,t)}fn(os),nn(os,e)}function zu(){fn(os),fn(Th),fn(Ch)}function uD(t){Fl(Ch.current);var e=Fl(os.current),n=qw(e,t.type);e!==n&&(nn(Th,t),nn(os,n))}function jE(t){Th.current===t&&(fn(os),fn(Th))}var Sn=gl(0);function py(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wb=[];function IE(){for(var t=0;t<wb.length;t++)wb[t]._workInProgressVersionPrimary=null;wb.length=0}var Pg=la.ReactCurrentDispatcher,Sb=la.ReactCurrentBatchConfig,ac=0,Tn=null,Kn=null,ar=null,my=!1,Gf=!1,Ah=0,Ez=0;function Or(){throw Error(ve(321))}function kE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lo(t[n],e[n]))return!1;return!0}function OE(t,e,n,r,i,o){if(ac=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pg.current=t===null||t.memoizedState===null?Pz:Nz,t=n(r,i),Gf){o=0;do{if(Gf=!1,Ah=0,25<=o)throw Error(ve(301));o+=1,ar=Kn=null,e.updateQueue=null,Pg.current=jz,t=n(r,i)}while(Gf)}if(Pg.current=gy,e=Kn!==null&&Kn.next!==null,ac=0,ar=Kn=Tn=null,my=!1,e)throw Error(ve(300));return t}function RE(){var t=Ah!==0;return Ah=0,t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Tn.memoizedState=ar=t:ar=ar.next=t,ar}function eo(){if(Kn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=ar===null?Tn.memoizedState:ar.next;if(e!==null)ar=e,Kn=t;else{if(t===null)throw Error(ve(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},ar===null?Tn.memoizedState=ar=t:ar=ar.next=t}return ar}function Ph(t,e){return typeof e=="function"?e(t):e}function _b(t){var e=eo(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((ac&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=d,lc|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Lo(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,lc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eb(t){var e=eo(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Lo(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dD(){}function fD(t,e){var n=Tn,r=eo(),i=e(),o=!Lo(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,ME(mD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,Nh(9,pD.bind(null,n,r,i,e),void 0,null),ur===null)throw Error(ve(349));ac&30||hD(n,e,i)}return i}function hD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pD(t,e,n,r){e.value=n,e.getSnapshot=r,gD(e)&&yD(t)}function mD(t,e,n){return n(function(){gD(e)&&yD(t)})}function gD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lo(t,n)}catch{return!0}}function yD(t){var e=Xs(t,1);e!==null&&Ro(e,t,1,-1)}function GP(t){var e=Ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},e.queue=t,t=t.dispatch=Az.bind(null,Tn,t),[e.memoizedState,t]}function Nh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vD(){return eo().memoizedState}function Ng(t,e,n,r){var i=Ko();Tn.flags|=t,i.memoizedState=Nh(1|e,n,void 0,r===void 0?null:r)}function cx(t,e,n,r){var i=eo();r=r===void 0?null:r;var o=void 0;if(Kn!==null){var s=Kn.memoizedState;if(o=s.destroy,r!==null&&kE(r,s.deps)){i.memoizedState=Nh(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=Nh(1|e,n,o,r)}function KP(t,e){return Ng(8390656,8,t,e)}function ME(t,e){return cx(2048,8,t,e)}function xD(t,e){return cx(4,2,t,e)}function bD(t,e){return cx(4,4,t,e)}function wD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SD(t,e,n){return n=n!=null?n.concat([t]):null,cx(4,4,wD.bind(null,e,t),n)}function DE(){}function _D(t,e){var n=eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ED(t,e){var n=eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TD(t,e,n){return ac&21?(Lo(n,e)||(n=jM(),Tn.lanes|=n,lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function Tz(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=Sb.transition;Sb.transition={};try{t(!1),e()}finally{Vt=n,Sb.transition=r}}function CD(){return eo().memoizedState}function Cz(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AD(t))PD(e,n);else if(n=lD(t,e,n,r),n!==null){var i=Qr();Ro(n,t,r,i),ND(n,e,r)}}function Az(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AD(t))PD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Lo(a,s)){var l=e.interleaved;l===null?(i.next=i,AE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lD(t,e,i,r),n!==null&&(i=Qr(),Ro(n,t,r,i),ND(n,e,r))}}function AD(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function PD(t,e){Gf=my=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}var gy={readContext:Zi,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},Pz={readContext:Zi,useCallback:function(t,e){return Ko().memoizedState=[t,e===void 0?null:e],t},useContext:Zi,useEffect:KP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ng(4194308,4,wD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ng(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ng(4,2,t,e)},useMemo:function(t,e){var n=Ko();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ko();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cz.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=Ko();return t={current:t},e.memoizedState=t},useState:GP,useDebugValue:DE,useDeferredValue:function(t){return Ko().memoizedState=t},useTransition:function(){var t=GP(!1),e=t[0];return t=Tz.bind(null,t[1]),Ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=Ko();if(yn){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),ur===null)throw Error(ve(349));ac&30||hD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,KP(mD.bind(null,r,o,t),[t]),r.flags|=2048,Nh(9,pD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ko(),e=ur.identifierPrefix;if(yn){var n=Ls,r=$s;n=(r&~(1<<32-Oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ah++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ez++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nz={readContext:Zi,useCallback:_D,useContext:Zi,useEffect:ME,useImperativeHandle:SD,useInsertionEffect:xD,useLayoutEffect:bD,useMemo:ED,useReducer:_b,useRef:vD,useState:function(){return _b(Ph)},useDebugValue:DE,useDeferredValue:function(t){var e=eo();return TD(e,Kn.memoizedState,t)},useTransition:function(){var t=_b(Ph)[0],e=eo().memoizedState;return[t,e]},useMutableSource:dD,useSyncExternalStore:fD,useId:CD,unstable_isNewReconciler:!1},jz={readContext:Zi,useCallback:_D,useContext:Zi,useEffect:ME,useImperativeHandle:SD,useInsertionEffect:xD,useLayoutEffect:bD,useMemo:ED,useReducer:Eb,useRef:vD,useState:function(){return Eb(Ph)},useDebugValue:DE,useDeferredValue:function(t){var e=eo();return Kn===null?e.memoizedState=t:TD(e,Kn.memoizedState,t)},useTransition:function(){var t=Eb(Ph)[0],e=eo().memoizedState;return[t,e]},useMutableSource:dD,useSyncExternalStore:fD,useId:CD,unstable_isNewReconciler:!1};function go(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function h1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ux={isMounted:function(t){return(t=t._reactInternals)?Tc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Ya(t),o=zs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Ro(e,t,i,r),Ag(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Ya(t),o=zs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Ro(e,t,i,r),Ag(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qr(),r=Ya(t),i=zs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Ro(e,t,r,n),Ag(e,t,r))}};function YP(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,o):!0}function jD(t,e,n){var r=!1,i=ol,o=e.contextType;return typeof o=="object"&&o!==null?o=Zi(o):(i=fi(e)?oc:zr.current,r=e.contextTypes,o=(r=r!=null)?Vu(t,i):ol),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function XP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ux.enqueueReplaceState(e,e.state,null)}function p1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Zi(o):(o=fi(e)?oc:zr.current,i.context=Vu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(h1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wu(t,e){try{var n="",r=e;do n+=i8(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Tb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function m1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Iz=typeof WeakMap=="function"?WeakMap:Map;function ID(t,e,n){n=zs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vy||(vy=!0,T1=r),m1(t,e)},n}function kD(t,e,n){n=zs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){m1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){m1(t,e),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function QP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Iz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Hz.bind(null,t,e,n),e.then(t,t))}function JP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zs(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var kz=la.ReactCurrentOwner,ci=!1;function Gr(t,e,n,r){e.child=t===null?aD(e,null,n,r):Uu(e,t.child,n,r)}function eN(t,e,n,r,i){n=n.render;var o=e.ref;return yu(e,i),r=OE(t,e,n,r,o,i),n=RE(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(yn&&n&&wE(e),e.flags|=1,Gr(t,e,r,i),e.child)}function tN(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!WE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,OD(t,e,o,r,i)):(t=Og(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(s,r)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Xa(o,r),t.ref=e.ref,t.return=e,e.child=t}function OD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wh(o,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return g1(t,e,n,r,i)}function RD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(cu,Ei),Ei|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(cu,Ei),Ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nn(cu,Ei),Ei|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nn(cu,Ei),Ei|=r;return Gr(t,e,i,n),e.child}function MD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function g1(t,e,n,r,i){var o=fi(n)?oc:zr.current;return o=Vu(e,o),yu(e,i),n=OE(t,e,n,r,o,i),r=RE(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(yn&&r&&wE(e),e.flags|=1,Gr(t,e,n,i),e.child)}function nN(t,e,n,r,i){if(fi(n)){var o=!0;ly(e)}else o=!1;if(yu(e,i),e.stateNode===null)jg(t,e),jD(e,n,r),p1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zi(u):(u=fi(n)?oc:zr.current,u=Vu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&XP(e,s,r,u),Ca=!1;var h=e.memoizedState;s.state=h,hy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||di.current||Ca?(typeof d=="function"&&(h1(e,n,d,r),l=e.memoizedState),(a=Ca||YP(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,cD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:go(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zi(l):(l=fi(n)?oc:zr.current,l=Vu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&XP(e,s,r,l),Ca=!1,h=e.memoizedState,s.state=h,hy(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||di.current||Ca?(typeof m=="function"&&(h1(e,n,m,r),y=e.memoizedState),(u=Ca||YP(e,n,u,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return y1(t,e,n,r,o,i)}function y1(t,e,n,r,i,o){MD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&BP(e,n,!1),Qs(t,e,o);r=e.stateNode,kz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Uu(e,t.child,null,o),e.child=Uu(e,null,a,o)):Gr(t,e,a,o),e.memoizedState=r.state,i&&BP(e,n,!0),e.child}function DD(t){var e=t.stateNode;e.pendingContext?VP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VP(t,e.context,!1),NE(t,e.containerInfo)}function rN(t,e,n,r,i){return Bu(),_E(i),e.flags|=256,Gr(t,e,n,r),e.child}var v1={dehydrated:null,treeContext:null,retryLane:0};function x1(t){return{baseLanes:t,cachePool:null,transitions:null}}function $D(t,e,n){var r=e.pendingProps,i=Sn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nn(Sn,i&1),t===null)return d1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=hx(s,r,0,null),t=Zl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=x1(n),e.memoizedState=v1,t):$E(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Oz(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Xa(a,o):(o=Zl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?x1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=v1,r}return o=t.child,t=o.sibling,r=Xa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $E(t,e){return e=hx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lm(t,e,n,r){return r!==null&&_E(r),Uu(e,t.child,null,n),t=$E(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Oz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Tb(Error(ve(422))),Lm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hx({mode:"visible",children:r.children},i,0,null),o=Zl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Uu(e,t.child,null,s),e.child.memoizedState=x1(s),e.memoizedState=v1,o);if(!(e.mode&1))return Lm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ve(419)),r=Tb(o,r,void 0),Lm(t,e,s,r)}if(a=(s&t.childLanes)!==0,ci||a){if(r=ur,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xs(t,i),Ro(r,t,i,-1))}return zE(),r=Tb(Error(ve(421))),Lm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pi=qa(i.nextSibling),ji=e,yn=!0,So=null,t!==null&&(Wi[Hi++]=$s,Wi[Hi++]=Ls,Wi[Hi++]=sc,$s=t.id,Ls=t.overflow,sc=e),e=$E(e,r.children),e.flags|=4096,e)}function iN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),f1(t.return,e,n)}function Cb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function LD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iN(t,n,e);else if(t.tag===19)iN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&py(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&py(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cb(e,!0,n,null,o);break;case"together":Cb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rz(t,e,n){switch(e.tag){case 3:DD(e),Bu();break;case 5:uD(e);break;case 1:fi(e.type)&&ly(e);break;case 4:NE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nn(dy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?$D(t,e,n):(nn(Sn,Sn.current&1),t=Qs(t,e,n),t!==null?t.sibling:null);nn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,RD(t,e,n)}return Qs(t,e,n)}var FD,b1,VD,BD;FD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b1=function(){};VD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fl(os.current);var o=null;switch(n){case"input":i=Uw(t,i),r=Uw(t,r),o=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),o=[];break;case"textarea":i=Hw(t,i),r=Hw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sy)}Gw(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ph.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ph.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&an("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};BD=function(t,e,n,r){n!==r&&(e.flags|=4)};function gf(t,e){if(!yn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mz(t,e,n){var r=e.pendingProps;switch(SE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(e),null;case 1:return fi(e.type)&&ay(),Rr(e),null;case 3:return r=e.stateNode,zu(),fn(di),fn(zr),IE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,So!==null&&(P1(So),So=null))),b1(t,e),Rr(e),null;case 5:jE(e);var i=Fl(Ch.current);if(n=e.type,t!==null&&e.stateNode!=null)VD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Rr(e),null}if(t=Fl(os.current),Dm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ts]=e,r[Eh]=o,t=(e.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":hP(r,o),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},an("invalid",r);break;case"textarea":mP(r,o),an("invalid",r)}Gw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mm(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&an("scroll",r)}switch(n){case"input":Am(r),pP(r,o,!0);break;case"textarea":Am(r),gP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ts]=e,t[Eh]=r,FD(t,e,!1,!1),e.stateNode=t;e:{switch(s=Kw(n,r),n){case"dialog":an("cancel",t),an("close",t),i=r;break;case"iframe":case"object":case"embed":an("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],t);i=r;break;case"source":an("error",t),i=r;break;case"img":case"image":case"link":an("error",t),an("load",t),i=r;break;case"details":an("toggle",t),i=r;break;case"input":hP(t,r),i=Uw(t,r),an("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),an("invalid",t);break;case"textarea":mP(t,r),i=Hw(t,r),an("invalid",t);break;default:i=r}Gw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?vM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ph.hasOwnProperty(o)?l!=null&&o==="onScroll"&&an("scroll",t):l!=null&&aE(t,o,l,s))}switch(n){case"input":Am(t),pP(t,r,!1);break;case"textarea":Am(t),gP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?hu(t,!!r.multiple,o,!1):r.defaultValue!=null&&hu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rr(e),null;case 6:if(t&&e.stateNode!=null)BD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Fl(Ch.current),Fl(os.current),Dm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ts]=e,(o=r.nodeValue!==n)&&(t=ji,t!==null))switch(t.tag){case 3:Mm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ts]=e,e.stateNode=r}return Rr(e),null;case 13:if(fn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yn&&Pi!==null&&e.mode&1&&!(e.flags&128))oD(),Bu(),e.flags|=98560,o=!1;else if(o=Dm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ve(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));o[ts]=e}else Bu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rr(e),o=!1}else So!==null&&(P1(So),So=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?Xn===0&&(Xn=3):zE())),e.updateQueue!==null&&(e.flags|=4),Rr(e),null);case 4:return zu(),b1(t,e),t===null&&Sh(e.stateNode.containerInfo),Rr(e),null;case 10:return CE(e.type._context),Rr(e),null;case 17:return fi(e.type)&&ay(),Rr(e),null;case 19:if(fn(Sn),o=e.memoizedState,o===null)return Rr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)gf(o,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=py(t),s!==null){for(e.flags|=128,gf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nn(Sn,Sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&kn()>Hu&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304)}else{if(!r)if(t=py(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!yn)return Rr(e),null}else 2*kn()-o.renderingStartTime>Hu&&n!==1073741824&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kn(),e.sibling=null,n=Sn.current,nn(Sn,r?n&1|2:n&1),e):(Rr(e),null);case 22:case 23:return UE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ei&1073741824&&(Rr(e),e.subtreeFlags&6&&(e.flags|=8192)):Rr(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function Dz(t,e){switch(SE(e),e.tag){case 1:return fi(e.type)&&ay(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zu(),fn(di),fn(zr),IE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jE(e),null;case 13:if(fn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Bu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(Sn),null;case 4:return zu(),null;case 10:return CE(e.type._context),null;case 22:case 23:return UE(),null;case 24:return null;default:return null}}var Fm=!1,Fr=!1,$z=typeof WeakSet=="function"?WeakSet:Set,$e=null;function lu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function w1(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var oN=!1;function Lz(t,e){if(i1=ry,t=qM(),bE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(o1={focusedElem:t,selectionRange:n},ry=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:go(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(C){Nn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return y=oN,oN=!1,y}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&w1(e,n,o)}i=i.next}while(i!==r)}}function dx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function S1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UD(t){var e=t.alternate;e!==null&&(t.alternate=null,UD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ts],delete e[Eh],delete e[l1],delete e[bz],delete e[wz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zD(t){return t.tag===5||t.tag===3||t.tag===4}function sN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sy));else if(r!==4&&(t=t.child,t!==null))for(_1(t,e,n),t=t.sibling;t!==null;)_1(t,e,n),t=t.sibling}function E1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(E1(t,e,n),t=t.sibling;t!==null;)E1(t,e,n),t=t.sibling}var vr=null,xo=!1;function xa(t,e,n){for(n=n.child;n!==null;)WD(t,e,n),n=n.sibling}function WD(t,e,n){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(rx,n)}catch{}switch(n.tag){case 5:Fr||lu(n,e);case 6:var r=vr,i=xo;vr=null,xa(t,e,n),vr=r,xo=i,vr!==null&&(xo?(t=vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(xo?(t=vr,n=n.stateNode,t.nodeType===8?xb(t.parentNode,n):t.nodeType===1&&xb(t,n),xh(t)):xb(vr,n.stateNode));break;case 4:r=vr,i=xo,vr=n.stateNode.containerInfo,xo=!0,xa(t,e,n),vr=r,xo=i;break;case 0:case 11:case 14:case 15:if(!Fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&w1(n,e,s),i=i.next}while(i!==r)}xa(t,e,n);break;case 1:if(!Fr&&(lu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}xa(t,e,n);break;case 21:xa(t,e,n);break;case 22:n.mode&1?(Fr=(r=Fr)||n.memoizedState!==null,xa(t,e,n),Fr=r):xa(t,e,n);break;default:xa(t,e,n)}}function aN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $z),e.forEach(function(r){var i=Gz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vr=a.stateNode,xo=!1;break e;case 3:vr=a.stateNode.containerInfo,xo=!0;break e;case 4:vr=a.stateNode.containerInfo,xo=!0;break e}a=a.return}if(vr===null)throw Error(ve(160));WD(o,s,i),vr=null,xo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HD(e,t),e=e.sibling}function HD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ho(e,t),qo(t),r&4){try{Kf(3,t,t.return),dx(3,t)}catch(g){Nn(t,t.return,g)}try{Kf(5,t,t.return)}catch(g){Nn(t,t.return,g)}}break;case 1:ho(e,t),qo(t),r&512&&n!==null&&lu(n,n.return);break;case 5:if(ho(e,t),qo(t),r&512&&n!==null&&lu(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(g){Nn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hM(i,o),Kw(a,s);var u=Kw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?vM(i,f):d==="dangerouslySetInnerHTML"?gM(i,f):d==="children"?mh(i,f):aE(i,d,f,u)}switch(a){case"input":zw(i,o);break;case"textarea":pM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?hu(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?hu(i,!!o.multiple,o.defaultValue,!0):hu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eh]=o}catch(g){Nn(t,t.return,g)}}break;case 6:if(ho(e,t),qo(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Nn(t,t.return,g)}}break;case 3:if(ho(e,t),qo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(g){Nn(t,t.return,g)}break;case 4:ho(e,t),qo(t);break;case 13:ho(e,t),qo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(VE=kn())),r&4&&aN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Fr=(u=Fr)||d,ho(e,t),Fr=u):ho(e,t),qo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($e=t,d=t.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kf(4,h,h.return);break;case 1:lu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Nn(r,n,g)}}break;case 5:lu(h,h.return);break;case 22:if(h.memoizedState!==null){cN(f);continue}}m!==null?(m.return=h,$e=m):cN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yM("display",s))}catch(g){Nn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Nn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ho(e,t),qo(t),r&4&&aN(t);break;case 21:break;default:ho(e,t),qo(t)}}function qo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zD(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var o=sN(t);E1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sN(t);_1(t,a,s);break;default:throw Error(ve(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fz(t,e,n){$e=t,qD(t)}function qD(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fr;a=Fm;var u=Fr;if(Fm=s,(Fr=l)&&!u)for($e=i;$e!==null;)s=$e,l=s.child,s.tag===22&&s.memoizedState!==null?uN(i):l!==null?(l.return=s,$e=l):uN(i);for(;o!==null;)$e=o,qD(o),o=o.sibling;$e=i,Fm=a,Fr=u}lN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$e=o):lN(t)}}function lN(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fr||dx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qP(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Fr||e.flags&512&&S1(e)}catch(h){Nn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function cN(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function uN(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dx(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nn(e,i,l)}}var o=e.return;try{S1(e)}catch(l){Nn(e,o,l)}break;case 5:var s=e.return;try{S1(e)}catch(l){Nn(e,s,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){$e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$e=a;break}$e=e.return}}var Vz=Math.ceil,yy=la.ReactCurrentDispatcher,LE=la.ReactCurrentOwner,Xi=la.ReactCurrentBatchConfig,kt=0,ur=null,Ln=null,Er=0,Ei=0,cu=gl(0),Xn=0,jh=null,lc=0,fx=0,FE=0,Yf=null,li=null,VE=0,Hu=1/0,ks=null,vy=!1,T1=null,Ka=null,Vm=!1,La=null,xy=0,Xf=0,C1=null,Ig=-1,kg=0;function Qr(){return kt&6?kn():Ig!==-1?Ig:Ig=kn()}function Ya(t){return t.mode&1?kt&2&&Er!==0?Er&-Er:_z.transition!==null?(kg===0&&(kg=jM()),kg):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:$M(t.type)),t):1}function Ro(t,e,n,r){if(50<Xf)throw Xf=0,C1=null,Error(ve(185));Lp(t,n,r),(!(kt&2)||t!==ur)&&(t===ur&&(!(kt&2)&&(fx|=n),Xn===4&&Na(t,Er)),hi(t,r),n===1&&kt===0&&!(e.mode&1)&&(Hu=kn()+500,lx&&yl()))}function hi(t,e){var n=t.callbackNode;_8(t,e);var r=ny(t,t===ur?Er:0);if(r===0)n!==null&&xP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xP(n),e===1)t.tag===0?Sz(dN.bind(null,t)):nD(dN.bind(null,t)),vz(function(){!(kt&6)&&yl()}),n=null;else{switch(IM(r)){case 1:n=fE;break;case 4:n=PM;break;case 16:n=ty;break;case 536870912:n=NM;break;default:n=ty}n=e$(n,GD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GD(t,e){if(Ig=-1,kg=0,kt&6)throw Error(ve(327));var n=t.callbackNode;if(vu()&&t.callbackNode!==n)return null;var r=ny(t,t===ur?Er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=by(t,r);else{e=r;var i=kt;kt|=2;var o=YD();(ur!==t||Er!==e)&&(ks=null,Hu=kn()+500,Jl(t,e));do try{zz();break}catch(a){KD(t,a)}while(!0);TE(),yy.current=o,kt=i,Ln!==null?e=0:(ur=null,Er=0,e=Xn)}if(e!==0){if(e===2&&(i=Zw(t),i!==0&&(r=i,e=A1(t,i))),e===1)throw n=jh,Jl(t,0),Na(t,r),hi(t,kn()),n;if(e===6)Na(t,r);else{if(i=t.current.alternate,!(r&30)&&!Bz(i)&&(e=by(t,r),e===2&&(o=Zw(t),o!==0&&(r=o,e=A1(t,o))),e===1))throw n=jh,Jl(t,0),Na(t,r),hi(t,kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:kl(t,li,ks);break;case 3:if(Na(t,r),(r&130023424)===r&&(e=VE+500-kn(),10<e)){if(ny(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a1(kl.bind(null,t,li,ks),e);break}kl(t,li,ks);break;case 4:if(Na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Oo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vz(r/1960))-r,10<r){t.timeoutHandle=a1(kl.bind(null,t,li,ks),r);break}kl(t,li,ks);break;case 5:kl(t,li,ks);break;default:throw Error(ve(329))}}}return hi(t,kn()),t.callbackNode===n?GD.bind(null,t):null}function A1(t,e){var n=Yf;return t.current.memoizedState.isDehydrated&&(Jl(t,e).flags|=256),t=by(t,e),t!==2&&(e=li,li=n,e!==null&&P1(e)),t}function P1(t){li===null?li=t:li.push.apply(li,t)}function Bz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~FE,e&=~fx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Oo(e),r=1<<n;t[n]=-1,e&=~r}}function dN(t){if(kt&6)throw Error(ve(327));vu();var e=ny(t,0);if(!(e&1))return hi(t,kn()),null;var n=by(t,e);if(t.tag!==0&&n===2){var r=Zw(t);r!==0&&(e=r,n=A1(t,r))}if(n===1)throw n=jh,Jl(t,0),Na(t,e),hi(t,kn()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kl(t,li,ks),hi(t,kn()),null}function BE(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(Hu=kn()+500,lx&&yl())}}function cc(t){La!==null&&La.tag===0&&!(kt&6)&&vu();var e=kt;kt|=1;var n=Xi.transition,r=Vt;try{if(Xi.transition=null,Vt=1,t)return t()}finally{Vt=r,Xi.transition=n,kt=e,!(kt&6)&&yl()}}function UE(){Ei=cu.current,fn(cu)}function Jl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yz(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(SE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ay();break;case 3:zu(),fn(di),fn(zr),IE();break;case 5:jE(r);break;case 4:zu();break;case 13:fn(Sn);break;case 19:fn(Sn);break;case 10:CE(r.type._context);break;case 22:case 23:UE()}n=n.return}if(ur=t,Ln=t=Xa(t.current,null),Er=Ei=e,Xn=0,jh=null,FE=fx=lc=0,li=Yf=null,Ll!==null){for(e=0;e<Ll.length;e++)if(n=Ll[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ll=null}return t}function KD(t,e){do{var n=Ln;try{if(TE(),Pg.current=gy,my){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}my=!1}if(ac=0,ar=Kn=Tn=null,Gf=!1,Ah=0,LE.current=null,n===null||n.return===null){Xn=1,jh=e,Ln=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=JP(s);if(m!==null){m.flags&=-257,ZP(m,s,a,o,e),m.mode&1&&QP(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){QP(o,u,e),zE();break e}l=Error(ve(426))}}else if(yn&&a.mode&1){var v=JP(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ZP(v,s,a,o,e),_E(Wu(l,a));break e}}o=l=Wu(l,a),Xn!==4&&(Xn=2),Yf===null?Yf=[o]:Yf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=ID(o,l,e);HP(o,x);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ka===null||!Ka.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=kD(o,a,e);HP(o,C);break e}}o=o.return}while(o!==null)}QD(n)}catch(E){e=E,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(!0)}function YD(){var t=yy.current;return yy.current=gy,t===null?gy:t}function zE(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ur===null||!(lc&268435455)&&!(fx&268435455)||Na(ur,Er)}function by(t,e){var n=kt;kt|=2;var r=YD();(ur!==t||Er!==e)&&(ks=null,Jl(t,e));do try{Uz();break}catch(i){KD(t,i)}while(!0);if(TE(),kt=n,yy.current=r,Ln!==null)throw Error(ve(261));return ur=null,Er=0,Xn}function Uz(){for(;Ln!==null;)XD(Ln)}function zz(){for(;Ln!==null&&!p8();)XD(Ln)}function XD(t){var e=ZD(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?QD(t):Ln=e,LE.current=null}function QD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dz(n,e),n!==null){n.flags&=32767,Ln=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Ln=null;return}}else if(n=Mz(n,e,Ei),n!==null){Ln=n;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=t}while(e!==null);Xn===0&&(Xn=5)}function kl(t,e,n){var r=Vt,i=Xi.transition;try{Xi.transition=null,Vt=1,Wz(t,e,n,r)}finally{Xi.transition=i,Vt=r}return null}function Wz(t,e,n,r){do vu();while(La!==null);if(kt&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(E8(t,o),t===ur&&(Ln=ur=null,Er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vm||(Vm=!0,e$(ty,function(){return vu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xi.transition,Xi.transition=null;var s=Vt;Vt=1;var a=kt;kt|=4,LE.current=null,Lz(t,n),HD(n,t),uz(o1),ry=!!i1,o1=i1=null,t.current=n,Fz(n),m8(),kt=a,Vt=s,Xi.transition=o}else t.current=n;if(Vm&&(Vm=!1,La=t,xy=i),o=t.pendingLanes,o===0&&(Ka=null),v8(n.stateNode),hi(t,kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vy)throw vy=!1,t=T1,T1=null,t;return xy&1&&t.tag!==0&&vu(),o=t.pendingLanes,o&1?t===C1?Xf++:(Xf=0,C1=t):Xf=0,yl(),null}function vu(){if(La!==null){var t=IM(xy),e=Xi.transition,n=Vt;try{if(Xi.transition=null,Vt=16>t?16:t,La===null)var r=!1;else{if(t=La,La=null,xy=0,kt&6)throw Error(ve(331));var i=kt;for(kt|=4,$e=t.current;$e!==null;){var o=$e,s=o.child;if($e.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Kf(8,d,o)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(UD(d),d===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}$e=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$e=s;else e:for(;$e!==null;){if(o=$e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,$e=x;break e}$e=o.return}}var w=t.current;for($e=w;$e!==null;){s=$e;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,$e=S;else e:for(s=w;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(E){Nn(a,a.return,E)}if(a===s){$e=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$e=C;break e}$e=a.return}}if(kt=i,yl(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(rx,t)}catch{}r=!0}return r}finally{Vt=n,Xi.transition=e}}return!1}function fN(t,e,n){e=Wu(n,e),e=ID(t,e,1),t=Ga(t,e,1),e=Qr(),t!==null&&(Lp(t,1,e),hi(t,e))}function Nn(t,e,n){if(t.tag===3)fN(t,t,n);else for(;e!==null;){if(e.tag===3){fN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){t=Wu(n,t),t=kD(e,t,1),e=Ga(e,t,1),t=Qr(),e!==null&&(Lp(e,1,t),hi(e,t));break}}e=e.return}}function Hz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qr(),t.pingedLanes|=t.suspendedLanes&n,ur===t&&(Er&n)===n&&(Xn===4||Xn===3&&(Er&130023424)===Er&&500>kn()-VE?Jl(t,0):FE|=n),hi(t,e)}function JD(t,e){e===0&&(t.mode&1?(e=jm,jm<<=1,!(jm&130023424)&&(jm=4194304)):e=1);var n=Qr();t=Xs(t,e),t!==null&&(Lp(t,e,n),hi(t,n))}function qz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JD(t,n)}function Gz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),JD(t,n)}var ZD;ZD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,Rz(t,e,n);ci=!!(t.flags&131072)}else ci=!1,yn&&e.flags&1048576&&rD(e,uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jg(t,e),t=e.pendingProps;var i=Vu(e,zr.current);yu(e,n),i=OE(null,e,r,t,i,n);var o=RE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)?(o=!0,ly(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PE(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,p1(e,r,t,n),e=y1(null,e,r,!0,o,n)):(e.tag=0,yn&&o&&wE(e),Gr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Yz(r),t=go(r,t),i){case 0:e=g1(null,e,r,t,n);break e;case 1:e=nN(null,e,r,t,n);break e;case 11:e=eN(null,e,r,t,n);break e;case 14:e=tN(null,e,r,go(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),g1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),nN(t,e,r,i,n);case 3:e:{if(DD(e),t===null)throw Error(ve(387));r=e.pendingProps,o=e.memoizedState,i=o.element,cD(t,e),hy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wu(Error(ve(423)),e),e=rN(t,e,r,n,i);break e}else if(r!==i){i=Wu(Error(ve(424)),e),e=rN(t,e,r,n,i);break e}else for(Pi=qa(e.stateNode.containerInfo.firstChild),ji=e,yn=!0,So=null,n=aD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bu(),r===i){e=Qs(t,e,n);break e}Gr(t,e,r,n)}e=e.child}return e;case 5:return uD(e),t===null&&d1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,s1(r,i)?s=null:o!==null&&s1(r,o)&&(e.flags|=32),MD(t,e),Gr(t,e,s,n),e.child;case 6:return t===null&&d1(e),null;case 13:return $D(t,e,n);case 4:return NE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uu(e,null,r,n):Gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),eN(t,e,r,i,n);case 7:return Gr(t,e,e.pendingProps,n),e.child;case 8:return Gr(t,e,e.pendingProps.children,n),e.child;case 12:return Gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nn(dy,r._currentValue),r._currentValue=s,o!==null)if(Lo(o.value,s)){if(o.children===i.children&&!di.current){e=Qs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zs(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),f1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ve(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),f1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yu(e,n),i=Zi(i),r=r(i),e.flags|=1,Gr(t,e,r,n),e.child;case 14:return r=e.type,i=go(r,e.pendingProps),i=go(r.type,i),tN(t,e,r,i,n);case 15:return OD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),jg(t,e),e.tag=1,fi(r)?(t=!0,ly(e)):t=!1,yu(e,n),jD(e,r,i),p1(e,r,i,n),y1(null,e,r,!0,t,n);case 19:return LD(t,e,n);case 22:return RD(t,e,n)}throw Error(ve(156,e.tag))};function e$(t,e){return AM(t,e)}function Kz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(t,e,n,r){return new Kz(t,e,n,r)}function WE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yz(t){if(typeof t=="function")return WE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cE)return 11;if(t===uE)return 14}return 2}function Xa(t,e){var n=t.alternate;return n===null?(n=Ki(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Og(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")WE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zc:return Zl(n.children,i,o,e);case lE:s=8,i|=8;break;case Lw:return t=Ki(12,n,e,i|2),t.elementType=Lw,t.lanes=o,t;case Fw:return t=Ki(13,n,e,i),t.elementType=Fw,t.lanes=o,t;case Vw:return t=Ki(19,n,e,i),t.elementType=Vw,t.lanes=o,t;case uM:return hx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lM:s=10;break e;case cM:s=9;break e;case cE:s=11;break e;case uE:s=14;break e;case Ta:s=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=Ki(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zl(t,e,n,r){return t=Ki(7,t,r,e),t.lanes=n,t}function hx(t,e,n,r){return t=Ki(22,t,r,e),t.elementType=uM,t.lanes=n,t.stateNode={isHidden:!1},t}function Ab(t,e,n){return t=Ki(6,t,null,e),t.lanes=n,t}function Pb(t,e,n){return e=Ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lb(0),this.expirationTimes=lb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HE(t,e,n,r,i,o,s,a,l){return t=new Xz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ki(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PE(o),t}function Qz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t$(t){if(!t)return ol;t=t._reactInternals;e:{if(Tc(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(fi(n))return tD(t,n,e)}return e}function n$(t,e,n,r,i,o,s,a,l){return t=HE(n,r,!0,t,i,o,s,a,l),t.context=t$(null),n=t.current,r=Qr(),i=Ya(n),o=zs(r,i),o.callback=e??null,Ga(n,o,i),t.current.lanes=i,Lp(t,i,r),hi(t,r),t}function px(t,e,n,r){var i=e.current,o=Qr(),s=Ya(i);return n=t$(n),e.context===null?e.context=n:e.pendingContext=n,e=zs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,s),t!==null&&(Ro(t,i,s,o),Ag(t,i,s)),s}function wy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qE(t,e){hN(t,e),(t=t.alternate)&&hN(t,e)}function Jz(){return null}var r$=typeof reportError=="function"?reportError:function(t){console.error(t)};function GE(t){this._internalRoot=t}mx.prototype.render=GE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));px(t,e,null,null)};mx.prototype.unmount=GE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cc(function(){px(null,t,null,null)}),e[Ys]=null}};function mx(t){this._internalRoot=t}mx.prototype.unstable_scheduleHydration=function(t){if(t){var e=RM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pa.length&&e!==0&&e<Pa[n].priority;n++);Pa.splice(n,0,t),n===0&&DM(t)}};function KE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pN(){}function Zz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wy(s);o.call(u)}}var s=n$(e,r,t,0,null,!1,!1,"",pN);return t._reactRootContainer=s,t[Ys]=s.current,Sh(t.nodeType===8?t.parentNode:t),cc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wy(l);a.call(u)}}var l=HE(t,0,!1,null,null,!1,!1,"",pN);return t._reactRootContainer=l,t[Ys]=l.current,Sh(t.nodeType===8?t.parentNode:t),cc(function(){px(e,l,n,r)}),l}function yx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wy(s);a.call(l)}}px(e,s,t,i)}else s=Zz(n,e,t,i,r);return wy(s)}kM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Of(e.pendingLanes);n!==0&&(hE(e,n|1),hi(e,kn()),!(kt&6)&&(Hu=kn()+500,yl()))}break;case 13:cc(function(){var r=Xs(t,1);if(r!==null){var i=Qr();Ro(r,t,1,i)}}),qE(t,1)}};pE=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=Qr();Ro(e,t,134217728,n)}qE(t,134217728)}};OM=function(t){if(t.tag===13){var e=Ya(t),n=Xs(t,e);if(n!==null){var r=Qr();Ro(n,t,e,r)}qE(t,e)}};RM=function(){return Vt};MM=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Xw=function(t,e,n){switch(e){case"input":if(zw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ax(r);if(!i)throw Error(ve(90));fM(r),zw(r,i)}}}break;case"textarea":pM(t,n);break;case"select":e=n.value,e!=null&&hu(t,!!n.multiple,e,!1)}};wM=BE;SM=cc;var e7={usingClientEntryPoint:!1,Events:[Vp,ru,ax,xM,bM,BE]},yf={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t7={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TM(t),t===null?null:t.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||Jz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{rx=Bm.inject(t7),is=Bm}catch{}}Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e7;Ri.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KE(e))throw Error(ve(200));return Qz(t,e,null,n)};Ri.createRoot=function(t,e){if(!KE(t))throw Error(ve(299));var n=!1,r="",i=r$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HE(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,Sh(t.nodeType===8?t.parentNode:t),new GE(e)};Ri.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=TM(e),t=t===null?null:t.stateNode,t};Ri.flushSync=function(t){return cc(t)};Ri.hydrate=function(t,e,n){if(!gx(e))throw Error(ve(200));return yx(null,t,e,!0,n)};Ri.hydrateRoot=function(t,e,n){if(!KE(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=r$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=n$(e,null,t,1,n??null,i,!1,o,s),t[Ys]=e.current,Sh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mx(e)};Ri.render=function(t,e,n){if(!gx(e))throw Error(ve(200));return yx(null,t,e,!1,n)};Ri.unmountComponentAtNode=function(t){if(!gx(t))throw Error(ve(40));return t._reactRootContainer?(cc(function(){yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Ri.unstable_batchedUpdates=BE;Ri.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gx(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return yx(t,e,n,!1,r)};Ri.version="18.3.1-next-f1338f8080-20240426";function i$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i$)}catch(t){console.error(t)}}i$(),iM.exports=Ri;var Cc=iM.exports;const n7=Jt(Cc);var o$,mN=Cc;o$=mN.createRoot,mN.hydrateRoot;function r7(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var s$={exports:{}},a$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=b;function i7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var o7=typeof Object.is=="function"?Object.is:i7,s7=qu.useState,a7=qu.useEffect,l7=qu.useLayoutEffect,c7=qu.useDebugValue;function u7(t,e){var n=e(),r=s7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return l7(function(){i.value=n,i.getSnapshot=e,Nb(i)&&o({inst:i})},[t,n,e]),a7(function(){return Nb(i)&&o({inst:i}),t(function(){Nb(i)&&o({inst:i})})},[t]),c7(n),n}function Nb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o7(t,n)}catch{return!0}}function d7(t,e){return e()}var f7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d7:u7;a$.useSyncExternalStore=qu.useSyncExternalStore!==void 0?qu.useSyncExternalStore:f7;s$.exports=a$;var h7=s$.exports;const p7=nM.useInsertionEffect,m7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g7=m7?b.useLayoutEffect:b.useEffect,y7=p7||g7,l$=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return y7(()=>{e[0]=t}),e[1]},v7="popstate",YE="pushState",XE="replaceState",x7="hashchange",gN=[v7,YE,XE,x7],b7=t=>{for(const e of gN)addEventListener(e,t);return()=>{for(const e of gN)removeEventListener(e,t)}},c$=(t,e)=>h7.useSyncExternalStore(b7,t,e),w7=()=>location.search,S7=({ssrSearch:t=""}={})=>c$(w7,()=>t),yN=()=>location.pathname,_7=({ssrPath:t}={})=>c$(yN,t?()=>t:yN),E7=(t,{replace:e=!1,state:n=null}={})=>history[e?XE:YE](n,"",t),T7=(t={})=>[_7(t),E7],vN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vN]>"u"){for(const t of[YE,XE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,vN,{value:!0})}const C7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",u$=(t="")=>t==="/"?"":t,A7=(t,e)=>t[0]==="~"?t.slice(1):u$(e)+t,P7=(t="",e)=>C7(xN(u$(t)),xN(e)),xN=t=>{try{return decodeURI(t)}catch{return t}},d$={hook:T7,searchHook:S7,parser:r7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},f$=b.createContext(d$),Up=()=>b.useContext(f$),h$={},p$=b.createContext(h$),N7=()=>b.useContext(p$),vx=t=>{const[e,n]=t.hook(t);return[P7(t.base,e),l$((r,i)=>n(A7(r,t.base),i))]},vl=()=>vx(Up()),m$=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},g$=({children:t,...e})=>{var d,f;const n=Up(),r=e.hook?d$:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(i=u)}return b.createElement(f$.Provider,{value:i,children:t})},bN=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,j7=t=>{let e=b.useRef(h$),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},As=({path:t,nest:e,match:n,...r})=>{const i=Up(),[o]=vx(i),[s,a,l]=n??m$(i.parser,t,o,e),u=j7({...N7(),...a});if(!s)return null;const d=l?b.createElement(g$,{base:l},bN(r,u)):bN(r,u);return b.createElement(p$.Provider,{value:u,children:d})};b.forwardRef((t,e)=>{const n=Up(),[r,i]=vx(n),{to:o="",href:s=o,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,y=l$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&b.isValidElement(u)?b.cloneElement(u,{onClick:y,href:g}):b.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===s):d,children:u,ref:e})});const y$=t=>Array.isArray(t)?t.flatMap(e=>y$(e&&e.type===b.Fragment?e.props.children:e)):[t],I7=({children:t,location:e})=>{const n=Up(),[r]=vx(n);for(const i of y$(t)){let o=0;if(b.isValidElement(i)&&(o=m$(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:o})}return null};var xx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bx=typeof window>"u"||"Deno"in globalThis;function yo(){}function k7(t,e){return typeof t=="function"?t(e):t}function O7(t){return typeof t=="number"&&t>=0&&t!==1/0}function R7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wN(t,e){return typeof t=="function"?t(e):t}function M7(t,e){return typeof t=="function"?t(e):t}function SN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==QE(s,e.options))return!1}else if(!kh(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function _N(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ih(e.options.mutationKey)!==Ih(o))return!1}else if(!kh(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function QE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ih)(t)}function Ih(t){return JSON.stringify(t,(e,n)=>N1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!kh(t[n],e[n])):!1}function v$(t,e){if(t===e)return t;const n=EN(t)&&EN(e);if(n||N1(t)&&N1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=v$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function EN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N1(t){if(!TN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!TN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function TN(t){return Object.prototype.toString.call(t)==="[object Object]"}function D7(t){return new Promise(e=>{setTimeout(e,t)})}function $7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?v$(t,e):e}function L7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function F7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var JE=Symbol();function x$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Kl,ka,ju,LR,V7=(LR=class extends xx{constructor(){super();Dt(this,Kl);Dt(this,ka);Dt(this,ju);yt(this,ju,e=>{if(!bx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,ka)||this.setEventListener(he(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,ka))==null||e.call(this),yt(this,ka,void 0))}setEventListener(e){var n;yt(this,ju,e),(n=he(this,ka))==null||n.call(this),yt(this,ka,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){he(this,Kl)!==e&&(yt(this,Kl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof he(this,Kl)=="boolean"?he(this,Kl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kl=new WeakMap,ka=new WeakMap,ju=new WeakMap,LR),b$=new V7,Iu,Oa,ku,FR,B7=(FR=class extends xx{constructor(){super();Dt(this,Iu,!0);Dt(this,Oa);Dt(this,ku);yt(this,ku,e=>{if(!bx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Oa)||this.setEventListener(he(this,ku))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Oa))==null||e.call(this),yt(this,Oa,void 0))}setEventListener(e){var n;yt(this,ku,e),(n=he(this,Oa))==null||n.call(this),yt(this,Oa,e(this.setOnline.bind(this)))}setOnline(e){he(this,Iu)!==e&&(yt(this,Iu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return he(this,Iu)}},Iu=new WeakMap,Oa=new WeakMap,ku=new WeakMap,FR),Sy=new B7;function U7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function z7(t){return Math.min(1e3*2**t,3e4)}function w$(t){return(t??"online")==="online"?Sy.isOnline():!0}var S$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jb(t){return t instanceof S$}function _$(t){let e=!1,n=0,r=!1,i;const o=U7(),s=g=>{var v;r||(h(new S$(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>b$.isFocused()&&(t.networkMode==="always"||Sy.isOnline())&&t.canRun(),d=()=>w$(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=x=>{(r||u())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(r)return;const w=t.retry??(bx?0:3),S=t.retryDelay??z7,C=typeof S=="function"?S(n,x):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,(P=t.onFail)==null||P.call(t,n,x),D7(C).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function W7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Kr=W7(),Yl,VR,E$=(VR=class{constructor(){Dt(this,Yl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O7(this.gcTime)&&yt(this,Yl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bx?1/0:5*60*1e3))}clearGcTimeout(){he(this,Yl)&&(clearTimeout(he(this,Yl)),yt(this,Yl,void 0))}},Yl=new WeakMap,VR),Ou,Ru,zi,Dr,Mp,Xl,vo,Is,BR,H7=(BR=class extends E${constructor(n){super();Dt(this,vo);Dt(this,Ou);Dt(this,Ru);Dt(this,zi);Dt(this,Dr);Dt(this,Mp);Dt(this,Xl);yt(this,Xl,!1),yt(this,Mp,n.defaultOptions),this.setOptions(n.options),this.observers=[],yt(this,zi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,yt(this,Ou,G7(this.options)),this.state=n.state??he(this,Ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=he(this,Dr))==null?void 0:n.promise}setOptions(n){this.options={...he(this,Mp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,zi).remove(this)}setData(n,r){const i=$7(this.state.data,n,this.options);return kr(this,vo,Is).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){kr(this,vo,Is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=he(this,Dr))==null?void 0:i.promise;return(o=he(this,Dr))==null||o.cancel(n),r?r.then(yo).catch(yo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Ou))}isActive(){return this.observers.some(n=>M7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!R7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Dr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Dr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),he(this,zi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(he(this,Dr)&&(he(this,Xl)?he(this,Dr).cancel({revert:!0}):he(this,Dr).cancelRetry()),this.scheduleGc()),he(this,zi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kr(this,vo,Is).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,Dr))return he(this,Dr).continueRetry(),he(this,Dr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(yt(this,Xl,!0),i.signal)})},s=()=>{const h=x$(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),yt(this,Xl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),yt(this,Ru,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&kr(this,vo,Is).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,g,v;jb(h)&&h.silent||kr(this,vo,Is).call(this,{type:"error",error:h}),jb(h)||((y=(m=he(this,zi).config).onError)==null||y.call(m,h,this),(v=(g=he(this,zi).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return yt(this,Dr,_$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,y,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=he(this,zi).config).onSuccess)==null||y.call(m,h,this),(v=(g=he(this,zi).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{kr(this,vo,Is).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{kr(this,vo,Is).call(this,{type:"pause"})},onContinue:()=>{kr(this,vo,Is).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,Dr).start()}},Ou=new WeakMap,Ru=new WeakMap,zi=new WeakMap,Dr=new WeakMap,Mp=new WeakMap,Xl=new WeakMap,vo=new WeakSet,Is=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...q7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return jb(o)&&o.revert&&he(this,Ru)?{...he(this,Ru),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Kr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),he(this,zi).notify({query:this,type:"updated",action:n})})},BR);function q7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qo,UR,K7=(UR=class extends xx{constructor(e={}){super();Dt(this,Qo);this.config=e,yt(this,Qo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??QE(i,n);let s=this.get(o);return s||(s=new H7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){he(this,Qo).has(e.queryHash)||(he(this,Qo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=he(this,Qo).get(e.queryHash);n&&(e.destroy(),n===e&&he(this,Qo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,Qo).get(e)}getAll(){return[...he(this,Qo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>SN(e,r)):n}notify(e){Kr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qo=new WeakMap,UR),Jo,qr,Ql,Zo,_a,zR,Y7=(zR=class extends E${constructor(n){super();Dt(this,Zo);Dt(this,Jo);Dt(this,qr);Dt(this,Ql);this.mutationId=n.mutationId,yt(this,qr,n.mutationCache),yt(this,Jo,[]),this.state=n.state||X7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){he(this,Jo).includes(n)||(he(this,Jo).push(n),this.clearGcTimeout(),he(this,qr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){yt(this,Jo,he(this,Jo).filter(r=>r!==n)),this.scheduleGc(),he(this,qr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){he(this,Jo).length||(this.state.status==="pending"?this.scheduleGc():he(this,qr).remove(this))}continue(){var n;return((n=he(this,Ql))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T;yt(this,Ql,_$({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{kr(this,Zo,_a).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{kr(this,Zo,_a).call(this,{type:"pause"})},onContinue:()=>{kr(this,Zo,_a).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,qr).canRun(this)}));const r=this.state.status==="pending",i=!he(this,Ql).canStart();try{if(!r){kr(this,Zo,_a).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=he(this,qr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&kr(this,Zo,_a).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await he(this,Ql).start();return await((d=(u=he(this,qr).config).onSuccess)==null?void 0:d.call(u,N,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,n,this.state.context)),await((y=(m=he(this,qr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,n,this.state.context)),kr(this,Zo,_a).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(x=he(this,qr).config).onError)==null?void 0:w.call(x,N,n,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,N,n,this.state.context)),await((P=(E=he(this,qr).config).onSettled)==null?void 0:P.call(E,void 0,N,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,N,n,this.state.context)),N}finally{kr(this,Zo,_a).call(this,{type:"error",error:N})}}finally{he(this,qr).runNext(this)}}},Jo=new WeakMap,qr=new WeakMap,Ql=new WeakMap,Zo=new WeakSet,_a=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kr.batch(()=>{he(this,Jo).forEach(i=>{i.onMutationUpdate(n)}),he(this,qr).notify({mutation:this,type:"updated",action:n})})},zR);function X7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,Dp,WR,Q7=(WR=class extends xx{constructor(e={}){super();Dt(this,_i);Dt(this,Dp);this.config=e,yt(this,_i,new Map),yt(this,Dp,Date.now())}build(e,n,r){const i=new Y7({mutationCache:this,mutationId:++_m(this,Dp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Um(e),r=he(this,_i).get(n)??[];r.push(e),he(this,_i).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Um(e);if(he(this,_i).has(n)){const i=(r=he(this,_i).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?he(this,_i).delete(n):he(this,_i).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=he(this,_i).get(Um(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=he(this,_i).get(Um(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Kr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...he(this,_i).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_N(n,r))}findAll(e={}){return this.getAll().filter(n=>_N(e,n))}notify(e){Kr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kr.batch(()=>Promise.all(e.map(n=>n.continue().catch(yo))))}},_i=new WeakMap,Dp=new WeakMap,WR);function Um(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function CN(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=x$(e.options,e.fetchOptions),w=async(S,C,E)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};v(P);const _=await x(P),{maxPages:T}=e.options,N=E?F7:L7;return{pages:N(S.pages,_,T),pageParams:N(S.pageParams,C,T)}};if(i&&o.length){const S=i==="backward",C=S?J7:AN,E={pages:o,pageParams:s},P=C(r,E);a=await w(E,P,S)}else{const S=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:AN(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function AN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Pn,Ra,Ma,Mu,Du,Da,$u,Lu,HR,Z7=(HR=class{constructor(t={}){Dt(this,Pn);Dt(this,Ra);Dt(this,Ma);Dt(this,Mu);Dt(this,Du);Dt(this,Da);Dt(this,$u);Dt(this,Lu);yt(this,Pn,t.queryCache||new K7),yt(this,Ra,t.mutationCache||new Q7),yt(this,Ma,t.defaultOptions||{}),yt(this,Mu,new Map),yt(this,Du,new Map),yt(this,Da,0)}mount(){_m(this,Da)._++,he(this,Da)===1&&(yt(this,$u,b$.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Pn).onFocus())})),yt(this,Lu,Sy.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Pn).onOnline())})))}unmount(){var t,e;_m(this,Da)._--,he(this,Da)===0&&((t=he(this,$u))==null||t.call(this),yt(this,$u,void 0),(e=he(this,Lu))==null||e.call(this),yt(this,Lu,void 0))}isFetching(t){return he(this,Pn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return he(this,Ra).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Pn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=he(this,Pn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(wN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return he(this,Pn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=he(this,Pn).get(r.queryHash),o=i==null?void 0:i.state.data,s=k7(e,o);if(s!==void 0)return he(this,Pn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Kr.batch(()=>he(this,Pn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Pn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=he(this,Pn);Kr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=he(this,Pn),r={type:"active",...t};return Kr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Kr.batch(()=>he(this,Pn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(yo).catch(yo)}invalidateQueries(t={},e={}){return Kr.batch(()=>{if(he(this,Pn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Kr.batch(()=>he(this,Pn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(yo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(yo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=he(this,Pn).build(this,e);return n.isStaleByTime(wN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yo).catch(yo)}fetchInfiniteQuery(t){return t.behavior=CN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yo).catch(yo)}ensureInfiniteQueryData(t){return t.behavior=CN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sy.isOnline()?he(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Pn)}getMutationCache(){return he(this,Ra)}getDefaultOptions(){return he(this,Ma)}setDefaultOptions(t){yt(this,Ma,t)}setQueryDefaults(t,e){he(this,Mu).set(Ih(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...he(this,Mu).values()];let n={};return e.forEach(r=>{kh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){he(this,Du).set(Ih(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...he(this,Du).values()];let n={};return e.forEach(r=>{kh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...he(this,Ma).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===JE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...he(this,Ma).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){he(this,Pn).clear(),he(this,Ra).clear()}},Pn=new WeakMap,Ra=new WeakMap,Ma=new WeakMap,Mu=new WeakMap,Du=new WeakMap,Da=new WeakMap,$u=new WeakMap,Lu=new WeakMap,HR),eW=b.createContext(void 0),tW=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(eW.Provider,{value:t,children:e}));async function nW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const rW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await nW(n),await n.json())},iW=new Z7({defaultOptions:{queries:{queryFn:rW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),oW=1,sW=1e6;let Ib=0;function aW(){return Ib=(Ib+1)%Number.MAX_SAFE_INTEGER,Ib.toString()}const kb=new Map,PN=t=>{if(kb.has(t))return;const e=setTimeout(()=>{kb.delete(t),Qf({type:"REMOVE_TOAST",toastId:t})},sW);kb.set(t,e)},lW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?PN(n):t.toasts.forEach(r=>{PN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rg=[];let Mg={toasts:[]};function Qf(t){Mg=lW(Mg,t),Rg.forEach(e=>{e(Mg)})}function cW({...t}){const e=aW(),n=i=>Qf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qf({type:"DISMISS_TOAST",toastId:e});return Qf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function jd(){const[t,e]=b.useState(Mg);return b.useEffect(()=>(Rg.push(e),()=>{const n=Rg.indexOf(e);n>-1&&Rg.splice(n,1)}),[t]),{...t,toast:cW,dismiss:n=>Qf({type:"DISMISS_TOAST",toastId:n})}}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function NN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function T$(...t){return e=>{let n=!1;const r=t.map(i=>{const o=NN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():NN(t[i],null)}}}}function vt(...t){return b.useCallback(T$(...t),t)}function uW(t,e){const n=b.createContext(e),r=o=>{const{children:s,...a}=o,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=b.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Di(t,e=[]){let n=[];function r(o,s){const a=b.createContext(s),l=n.length;n=[...n,s];const u=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=b.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:v,children:m})};u.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=b.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(s=>b.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,dW(i,...e)]}function dW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Gu(t){const e=hW(t),n=b.forwardRef((r,i)=>{const{children:o,...s}=r,a=b.Children.toArray(o),l=a.find(mW);if(l){const u=l.props.children,d=a.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...s,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var fW=Gu("Slot");function hW(t){const e=b.forwardRef((n,r)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const s=yW(i),a=gW(o,i.props);return i.type!==b.Fragment&&(a.ref=r?T$(r,s):s),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var C$=Symbol("radix.slottable");function pW(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=C$,e}function mW(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===C$}function gW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function yW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zp(t){const e=t+"CollectionProvider",[n,r]=Di(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,w=q.useRef(null),S=q.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:S,collectionRef:w,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=Gu(a),u=q.forwardRef((g,v)=>{const{scope:x,children:w}=g,S=o(a,x),C=vt(v,S.collectionRef);return c.jsx(l,{ref:C,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Gu(d),m=q.forwardRef((g,v)=>{const{scope:x,children:w,...S}=g,C=q.useRef(null),E=vt(v,C),P=o(d,x);return q.useEffect(()=>(P.itemMap.set(C,{ref:C,...S}),()=>void P.itemMap.delete(C))),c.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return q.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,_)=>S.indexOf(P.ref.current)-S.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}var vW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=vW.reduce((t,e)=>{const n=Gu(`Primitive.${e}`),r=b.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function A$(t,e){t&&Cc.flushSync(()=>t.dispatchEvent(e))}function On(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bW="DismissableLayer",j1="dismissableLayer.update",wW="dismissableLayer.pointerDownOutside",SW="dismissableLayer.focusOutside",jN,P$=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,u=b.useContext(P$),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),y=vt(e,_=>f(_)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,E=EW(_=>{const T=_.target,N=[...u.branches].some(k=>k.contains(T));!C||N||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},h),P=TW(_=>{const T=_.target;[...u.branches].some(k=>k.contains(T))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},h);return xW(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),IN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jN)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),IN())},[d,u]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(j1,_),()=>document.removeEventListener(j1,_)},[]),c.jsx(et.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,E.onPointerDownCapture)})});Wp.displayName=bW;var _W="DismissableLayerBranch",N$=b.forwardRef((t,e)=>{const n=b.useContext(P$),r=b.useRef(null),i=vt(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(et.div,{...t,ref:i})});N$.displayName=_W;function EW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){j$(wW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function TW(t,e=globalThis==null?void 0:globalThis.document){const n=On(t),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&j$(SW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IN(){const t=new CustomEvent(j1);document.dispatchEvent(t)}function j$(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?A$(i,o):i.dispatchEvent(o)}var CW=Wp,AW=N$,dr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},PW="Portal",wx=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=b.useState(!1);dr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?n7.createPortal(c.jsx(et.div,{...r,ref:e}),s):null});wx.displayName=PW;function NW(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var ro=t=>{const{present:e,children:n}=t,r=jW(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=vt(r.ref,IW(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};ro.displayName="Presence";function jW(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),o=b.useRef("none"),s=t?"mounted":"unmounted",[a,l]=NW(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=zm(r.current);o.current=a==="mounted"?u:"none"},[a]),dr(()=>{const u=r.current,d=i.current;if(d!==t){const h=o.current,m=zm(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),dr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=zm(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=zm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function zm(t){return(t==null?void 0:t.animationName)||"none"}function IW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=kW({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=On(n),l=b.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[o,t,i,a]);return[s,l]}function kW({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),o=On(e);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var OW="VisuallyHidden",Hp=b.forwardRef((t,e)=>c.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hp.displayName=OW;var RW=Hp,ZE="ToastProvider",[eT,MW,DW]=zp("Toast"),[I$,Hje]=Di("Toast",[DW]),[$W,Sx]=I$(ZE),k$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZE}\`. Expected non-empty \`string\`.`),c.jsx(eT.Provider,{scope:e,children:c.jsx($W,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};k$.displayName=ZE;var O$="ToastViewport",LW=["F8"],I1="toast.viewportPause",k1="toast.viewportResume",R$=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=LW,label:i="Notifications ({hotkey})",...o}=t,s=Sx(O$,n),a=MW(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=vt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;b.useEffect(()=>{const v=x=>{var S;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,x=f.current;if(y&&v&&x){const w=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(I1);x.dispatchEvent(P),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(k1);x.dispatchEvent(P),s.isClosePausedRef.current=!1}},C=P=>{!v.contains(P.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,s.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...QW(C)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var E,P,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(E=u.current)==null||E.focus();return}const R=g({tabbingDirection:N?"backwards":"forwards"}),O=R.findIndex($=>$===T);Ob(R.slice(O+1))?w.preventDefault():N?(P=u.current)==null||P.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),c.jsxs(AW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(O1,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Ob(v)}}),c.jsx(eT.Slot,{scope:n,children:c.jsx(et.ol,{tabIndex:-1,...o,ref:h})}),y&&c.jsx(O1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Ob(v)}})]})});R$.displayName=O$;var M$="ToastFocusProxy",O1=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Sx(M$,n);return c.jsx(Hp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const a=s.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});O1.displayName=M$;var _x="Toast",FW="toast.swipeStart",VW="toast.swipeMove",BW="toast.swipeCancel",UW="toast.swipeEnd",D$=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Fo({prop:r,defaultProp:i,onChange:o});return c.jsx(ro,{present:n||a,children:c.jsx(HW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:On(t.onPause),onResume:On(t.onResume),onSwipeStart:Le(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});D$.displayName=_x;var[zW,WW]=I$(_x,{onClose(){}}),HW=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=Sx(_x,n),[v,x]=b.useState(null),w=vt(e,$=>x($)),S=b.useRef(null),C=b.useRef(null),E=i||g.duration,P=b.useRef(0),_=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:k}=g,j=On(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),R=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(j,$))},[j]);b.useEffect(()=>{const $=g.viewport;if($){const F=()=>{R(_.current),u==null||u()},B=()=>{const U=new Date().getTime()-P.current;_.current=_.current-U,window.clearTimeout(T.current),l==null||l()};return $.addEventListener(I1,B),$.addEventListener(k1,F),()=>{$.removeEventListener(I1,B),$.removeEventListener(k1,F)}}},[g.viewport,E,l,u,R]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(E)},[o,E,g.isClosePausedRef,R]),b.useEffect(()=>(N(),()=>k()),[N,k]);const O=b.useMemo(()=>v?z$(v):null,[v]);return g.viewport?c.jsxs(c.Fragment,{children:[O&&c.jsx(qW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),c.jsx(zW,{scope:n,onClose:j,children:Cc.createPortal(c.jsx(eT.ItemSlot,{scope:n,children:c.jsx(CW,{asChild:!0,onEscapeKeyDown:Le(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Le(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:Le(t.onPointerMove,$=>{if(!S.current)return;const F=$.clientX-S.current.x,B=$.clientY-S.current.y,U=!!C.current,V=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=V?W(0,F):0,X=V?0:W(0,B),ie=$.pointerType==="touch"?10:2,le={x:ne,y:X},be={originalEvent:$,delta:le};U?(C.current=le,Wm(VW,f,be,{discrete:!1})):kN(le,g.swipeDirection,ie)?(C.current=le,Wm(FW,d,be,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>ie||Math.abs(B)>ie)&&(S.current=null)}),onPointerUp:Le(t.onPointerUp,$=>{const F=C.current,B=$.target;if(B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),C.current=null,S.current=null,F){const U=$.currentTarget,V={originalEvent:$,delta:F};kN(F,g.swipeDirection,g.swipeThreshold)?Wm(UW,m,V,{discrete:!0}):Wm(BW,h,V,{discrete:!0}),U.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),qW=t=>{const{__scopeToast:e,children:n,...r}=t,i=Sx(_x,e),[o,s]=b.useState(!1),[a,l]=b.useState(!1);return YW(()=>s(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(wx,{asChild:!0,children:c.jsx(Hp,{...r,children:o&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},GW="ToastTitle",$$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(et.div,{...r,ref:e})});$$.displayName=GW;var KW="ToastDescription",L$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(et.div,{...r,ref:e})});L$.displayName=KW;var F$="ToastAction",V$=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(U$,{altText:n,asChild:!0,children:c.jsx(tT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${F$}\`. Expected non-empty \`string\`.`),null)});V$.displayName=F$;var B$="ToastClose",tT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=WW(B$,n);return c.jsx(U$,{asChild:!0,children:c.jsx(et.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,i.onClose)})})});tT.displayName=B$;var U$=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return c.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function z$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),XW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...z$(r))}}),e}function Wm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?A$(i,o):i.dispatchEvent(o)}var kN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function YW(t=()=>{}){const e=On(t);dr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function XW(t){return t.nodeType===t.ELEMENT_NODE}function QW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ob(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var JW=k$,W$=R$,H$=D$,q$=$$,G$=L$,K$=V$,Y$=tT;function X$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X$(t))&&(r&&(r+=" "),r+=e);return r}const ON=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,RN=At,Ex=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return RN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=ON(d)||ON(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,f,h]:u},[]);return RN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...eH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Q$("lucide",i),...a},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(tH,{ref:o,iconNode:e,className:Q$(`lucide-${ZW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Ye("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Ye("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Ye("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Ye("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Ye("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ye("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),oT="-",TH=t=>{const e=AH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(oT);return a[0]===""&&a.length!==1&&a.shift(),oL(a,e)||CH(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},oL=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?oL(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(oT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},FN=/^\[(.+)\]$/,CH=t=>{if(FN.test(t)){const e=FN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AH=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return NH(Object.entries(t.classGroups),n).forEach(([o,s])=>{$1(s,r,o,e)}),r},$1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:VN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(PH(i)){$1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{$1(s,VN(e,o),n,r)})})},VN=(t,e)=>{let n=t;return e.split(oT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},PH=t=>t.isThemeGetter,NH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,jH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},sL="!",IH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let u=0,d=0,f;for(let v=0;v<a.length;v++){let x=a[v];if(u===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(sL),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},kH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},OH=t=>({cache:jH(t.cacheSize),parseClassName:IH(t),...TH(t)}),RH=/\s+/,MH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(RH);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const v=kH(d).join(":"),x=f?v+sL:v,w=x+g;if(o.includes(w))continue;o.push(w);const S=i(g,y);for(let C=0;C<S.length;++C){const E=S[C];o.push(x+E)}a=u+(a.length>0?" "+a:a)}return a};function DH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aL(e))&&(r&&(r+=" "),r+=n);return r}const aL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aL(t[r]))&&(n&&(n+=" "),n+=e);return n};function $H(t,...e){let n,r,i,o=s;function s(l){const u=e.reduce((d,f)=>f(d),t());return n=OH(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=MH(l,n);return i(l,d),d}return function(){return o(DH.apply(null,arguments))}}const sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lL=/^\[(?:([a-z-]+):)?(.+)\]$/i,LH=/^\d+\/\d+$/,FH=new Set(["px","full","screen"]),VH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>xu(t)||FH.has(t)||LH.test(t),ba=t=>Id(t,"length",JH),xu=t=>!!t&&!Number.isNaN(Number(t)),Mb=t=>Id(t,"number",xu),vf=t=>!!t&&Number.isInteger(Number(t)),HH=t=>t.endsWith("%")&&xu(t.slice(0,-1)),ht=t=>lL.test(t),wa=t=>VH.test(t),qH=new Set(["length","size","percentage"]),GH=t=>Id(t,qH,cL),KH=t=>Id(t,"position",cL),YH=new Set(["image","url"]),XH=t=>Id(t,YH,eq),QH=t=>Id(t,"",ZH),xf=()=>!0,Id=(t,e,n)=>{const r=lL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},JH=t=>BH.test(t)&&!UH.test(t),cL=()=>!1,ZH=t=>zH.test(t),eq=t=>WH.test(t),tq=()=>{const t=sn("colors"),e=sn("spacing"),n=sn("blur"),r=sn("brightness"),i=sn("borderColor"),o=sn("borderRadius"),s=sn("borderSpacing"),a=sn("borderWidth"),l=sn("contrast"),u=sn("grayscale"),d=sn("hueRotate"),f=sn("invert"),h=sn("gap"),m=sn("gradientColorStops"),y=sn("gradientColorStopPositions"),g=sn("inset"),v=sn("margin"),x=sn("opacity"),w=sn("padding"),S=sn("saturate"),C=sn("scale"),E=sn("sepia"),P=sn("skew"),_=sn("space"),T=sn("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ht,e],R=()=>[ht,e],O=()=>["",Ps,ba],$=()=>["auto",xu,ht],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ht],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[xu,ht];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[Ps,ba],blur:["none","",wa,ht],brightness:X(),borderColor:[t],borderRadius:["none","","full",wa,ht],borderSpacing:R(),borderWidth:O(),contrast:X(),grayscale:W(),hueRotate:X(),invert:W(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[HH,ba],inset:j(),margin:j(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:W(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ht]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,ht]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",vf,ht]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",vf,ht]},ht]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[vf,ht]},ht]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mb]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",xu,Mb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,ba]}],"underline-offset":[{"underline-offset":["auto",Ps,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),KH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ps,ht]}],"outline-w":[{outline:[Ps,ba]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ps,ba]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wa,QH]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wa,ht]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[vf,ht]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ps,ba,Mb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nq=$H(tq);function ct(...t){return nq(At(t))}const rq=JW,uL=b.forwardRef(({className:t,...e},n)=>c.jsx(W$,{ref:n,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uL.displayName=W$.displayName;const iq=Ex("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dL=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(H$,{ref:r,className:ct(iq({variant:e}),t),...n}));dL.displayName=H$.displayName;const oq=b.forwardRef(({className:t,...e},n)=>c.jsx(K$,{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));oq.displayName=K$.displayName;const fL=b.forwardRef(({className:t,...e},n)=>c.jsx(Y$,{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(qp,{className:"h-4 w-4"})}));fL.displayName=Y$.displayName;const hL=b.forwardRef(({className:t,...e},n)=>c.jsx(q$,{ref:n,className:ct("text-sm font-semibold",t),...e}));hL.displayName=q$.displayName;const pL=b.forwardRef(({className:t,...e},n)=>c.jsx(G$,{ref:n,className:ct("text-sm opacity-90",t),...e}));pL.displayName=G$.displayName;function sq(){const{toasts:t}=jd();return c.jsxs(rq,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return c.jsxs(dL,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(hL,{children:n}),r&&c.jsx(pL,{children:r})]}),i,c.jsx(fL,{})]},e)}),c.jsx(uL,{})]})}var aq=nM[" useId ".trim().toString()]||(()=>{}),lq=0;function ss(t){const[e,n]=b.useState(aq());return dr(()=>{n(r=>r??String(lq++))},[t]),e?`radix-${e}`:""}const cq=["top","right","bottom","left"],sl=Math.min,Ci=Math.max,Cy=Math.round,qm=Math.floor,as=t=>({x:t,y:t}),uq={left:"right",right:"left",bottom:"top",top:"bottom"},dq={start:"end",end:"start"};function L1(t,e,n){return Ci(t,sl(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function kd(t){return t.split("-")[1]}function sT(t){return t==="x"?"y":"x"}function aT(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(Zs(t))?"y":"x"}function lT(t){return sT(al(t))}function fq(t,e,n){n===void 0&&(n=!1);const r=kd(t),i=lT(t),o=aT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ay(s)),[s,Ay(s)]}function hq(t){const e=Ay(t);return[F1(t),e,F1(e)]}function F1(t){return t.replace(/start|end/g,e=>dq[e])}function pq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function mq(t,e,n,r){const i=kd(t);let o=pq(Zs(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(F1)))),o}function Ay(t){return t.replace(/left|right|bottom|top/g,e=>uq[e])}function gq(t){return{top:0,right:0,bottom:0,left:0,...t}}function mL(t){return typeof t!="number"?gq(t):{top:t,right:t,bottom:t,left:t}}function Py(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BN(t,e,n){let{reference:r,floating:i}=t;const o=al(e),s=lT(e),a=aT(s),l=Zs(e),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(kd(e)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const yq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=BN(u,r,l),h=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:w,y:S,data:C,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[v]:{...m[v],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=BN(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function $h(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Js(e,t),y=mL(m),v=a[h?f==="floating"?"reference":"floating":f],x=Py(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Py(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(x.top-E.top+y.top)/C.y,bottom:(E.bottom-x.bottom+y.bottom)/C.y,left:(x.left-E.left+y.left)/C.x,right:(E.right-x.right+y.right)/C.x}}const vq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Js(t,e)||{};if(u==null)return{};const f=mL(d),h={x:n,y:r},m=lT(i),y=aT(m),g=await s.getDimensions(u),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let _=P?P[S]:0;(!_||!await(s.isElement==null?void 0:s.isElement(P)))&&(_=a.floating[S]||o.floating[y]);const T=C/2-E/2,N=_/2-g[y]/2-1,k=sl(f[x],N),j=sl(f[w],N),R=k,O=_-g[y]-j,$=_/2-g[y]/2+T,F=L1(R,$,O),B=!l.arrow&&kd(i)!=null&&$!==F&&o.reference[y]/2-($<R?k:j)-g[y]/2<0,U=B?$<R?$-R:$-O:0;return{[m]:h[m]+U,data:{[m]:F,centerOffset:$-F-U,...B&&{alignmentOffset:U}},reset:B}}}),xq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Js(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Zs(i),w=al(a),S=Zs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[Ay(a)]:hq(a)),P=y!=="none";!h&&P&&E.push(...mq(a,g,y,C));const _=[a,...E],T=await $h(e,v),N=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[x]),f){const $=fq(i,s,C);N.push(T[$[0]],T[$[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every($=>$<=0)){var j,R;const $=(((j=o.flip)==null?void 0:j.index)||0)+1,F=_[$];if(F)return{data:{index:$,overflows:k},reset:{placement:F}};let B=(R=k.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(m){case"bestFit":{var O;const U=(O=k.filter(V=>{if(P){const W=al(V.placement);return W===w||W==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(W=>W>0).reduce((W,ne)=>W+ne,0)]).sort((V,W)=>V[1]-W[1])[0])==null?void 0:O[0];U&&(B=U);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function UN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zN(t){return cq.some(e=>t[e]>=0)}const bq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Js(t,e);switch(r){case"referenceHidden":{const o=await $h(e,{...i,elementContext:"reference"}),s=UN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:zN(s)}}}case"escaped":{const o=await $h(e,{...i,altBoundary:!0}),s=UN(o,n.floating);return{data:{escapedOffsets:s,escaped:zN(s)}}}default:return{}}}}};async function wq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Zs(n),a=kd(n),l=al(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Sq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await wq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},_q=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Js(t,e),u={x:n,y:r},d=await $h(e,l),f=al(Zs(i)),h=sT(f);let m=u[h],y=u[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[v],S=m-d[x];m=L1(w,m,S)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],S=y-d[x];y=L1(w,y,S)}const g=a.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},Eq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Js(t,e),d={x:n,y:r},f=al(i),h=sT(f);let m=d[h],y=d[f];const g=Js(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=o.reference[h]-o.floating[S]+v.mainAxis,E=o.reference[h]+o.reference[S]-v.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var x,w;const S=h==="y"?"width":"height",C=["top","left"].includes(Zs(i)),E=o.reference[f]-o.floating[S]+(C&&((x=s.offset)==null?void 0:x[f])||0)+(C?0:v.crossAxis),P=o.reference[f]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:m,[f]:y}}}},Tq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...u}=Js(t,e),d=await $h(e,u),f=Zs(i),h=kd(i),m=al(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=y-d.left-d.right,C=sl(g-d[v],w),E=sl(y-d[x],S),P=!e.middlewareData.shift;let _=C,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),P&&!h){const k=Ci(d.left,0),j=Ci(d.right,0),R=Ci(d.top,0),O=Ci(d.bottom,0);m?T=y-2*(k!==0||j!==0?k+j:Ci(d.left,d.right)):_=g-2*(R!==0||O!==0?R+O:Ci(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:_});const N=await s.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function Od(t){return gL(t)?(t.nodeName||"").toLowerCase():"#document"}function Ii(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bs(t){var e;return(e=(gL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gL(t){return Cx()?t instanceof Node||t instanceof Ii(t).Node:!1}function Vo(t){return Cx()?t instanceof Element||t instanceof Ii(t).Element:!1}function ms(t){return Cx()?t instanceof HTMLElement||t instanceof Ii(t).HTMLElement:!1}function WN(t){return!Cx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ii(t).ShadowRoot}function Gp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Cq(t){return["table","td","th"].includes(Od(t))}function Ax(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function cT(t){const e=uT(),n=Vo(t)?Bo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Aq(t){let e=ll(t);for(;ms(e)&&!Ku(e);){if(cT(e))return e;if(Ax(e))return null;e=ll(e)}return null}function uT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ku(t){return["html","body","#document"].includes(Od(t))}function Bo(t){return Ii(t).getComputedStyle(t)}function Px(t){return Vo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ll(t){if(Od(t)==="html")return t;const e=t.assignedSlot||t.parentNode||WN(t)&&t.host||bs(t);return WN(e)?e.host:e}function yL(t){const e=ll(t);return Ku(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&Gp(e)?e:yL(e)}function Lh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ii(i);if(o){const a=V1(s);return e.concat(s,s.visualViewport||[],Gp(i)?i:[],a&&n?Lh(a):[])}return e.concat(i,Lh(i,[],n))}function V1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vL(t){const e=Bo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ms(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Cy(n)!==o||Cy(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function dT(t){return Vo(t)?t:t.contextElement}function bu(t){const e=dT(t);if(!ms(e))return as(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=vL(e);let s=(o?Cy(n.width):n.width)/r,a=(o?Cy(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Pq=as(0);function xL(t){const e=Ii(t);return!uT()||!e.visualViewport?Pq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Nq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ii(t)?!1:e}function dc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=dT(t);let s=as(1);e&&(r?Vo(r)&&(s=bu(r)):s=bu(t));const a=Nq(o,n,r)?xL(o):as(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=Ii(o),m=r&&Vo(r)?Ii(r):r;let y=h,g=V1(y);for(;g&&r&&m!==y;){const v=bu(g),x=g.getBoundingClientRect(),w=Bo(g),S=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=S,u+=C,y=Ii(g),g=V1(y)}}return Py({width:d,height:f,x:l,y:u})}function fT(t,e){const n=Px(t).scrollLeft;return e?e.left+n:dc(bs(t)).left+n}function bL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:fT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function jq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=bs(r),a=e?Ax(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=as(1);const d=as(0),f=ms(r);if((f||!f&&!o)&&((Od(r)!=="body"||Gp(s))&&(l=Px(r)),ms(r))){const m=dc(r);u=bu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?bL(s,l,!0):as(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function Iq(t){return Array.from(t.getClientRects())}function kq(t){const e=bs(t),n=Px(t),r=t.ownerDocument.body,i=Ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fT(t);const a=-n.scrollTop;return Bo(r).direction==="rtl"&&(s+=Ci(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Oq(t,e){const n=Ii(t),r=bs(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=uT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Rq(t,e){const n=dc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ms(t)?bu(t):as(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function HN(t,e,n){let r;if(e==="viewport")r=Oq(t,n);else if(e==="document")r=kq(bs(t));else if(Vo(e))r=Rq(e,n);else{const i=xL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Py(r)}function wL(t,e){const n=ll(t);return n===e||!Vo(n)||Ku(n)?!1:Bo(n).position==="fixed"||wL(n,e)}function Mq(t,e){const n=e.get(t);if(n)return n;let r=Lh(t,[],!1).filter(a=>Vo(a)&&Od(a)!=="body"),i=null;const o=Bo(t).position==="fixed";let s=o?ll(t):t;for(;Vo(s)&&!Ku(s);){const a=Bo(s),l=cT(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gp(s)&&!l&&wL(t,s))?r=r.filter(d=>d!==s):i=a,s=ll(s)}return e.set(t,r),r}function Dq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Ax(e)?[]:Mq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=HN(e,d,i);return u.top=Ci(f.top,u.top),u.right=sl(f.right,u.right),u.bottom=sl(f.bottom,u.bottom),u.left=Ci(f.left,u.left),u},HN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $q(t){const{width:e,height:n}=vL(t);return{width:e,height:n}}function Lq(t,e,n){const r=ms(e),i=bs(e),o=n==="fixed",s=dc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=as(0);if(r||!r&&!o)if((Od(e)!=="body"||Gp(i))&&(a=Px(e)),r){const h=dc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=fT(i));const u=i&&!r&&!o?bL(i,a):as(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Db(t){return Bo(t).position==="static"}function qN(t,e){if(!ms(t)||Bo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bs(t)===n&&(n=n.ownerDocument.body),n}function SL(t,e){const n=Ii(t);if(Ax(t))return n;if(!ms(t)){let i=ll(t);for(;i&&!Ku(i);){if(Vo(i)&&!Db(i))return i;i=ll(i)}return n}let r=qN(t,e);for(;r&&Cq(r)&&Db(r);)r=qN(r,e);return r&&Ku(r)&&Db(r)&&!cT(r)?n:r||Aq(t)||n}const Fq=async function(t){const e=this.getOffsetParent||SL,n=this.getDimensions,r=await n(t.floating);return{reference:Lq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vq(t){return Bo(t).direction==="rtl"}const Bq={convertOffsetParentRelativeRectToViewportRelativeRect:jq,getDocumentElement:bs,getClippingRect:Dq,getOffsetParent:SL,getElementRects:Fq,getClientRects:Iq,getDimensions:$q,getScale:bu,isElement:Vo,isRTL:Vq};function _L(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uq(t,e){let n=null,r;const i=bs(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const y=qm(f),g=qm(i.clientWidth-(d+h)),v=qm(i.clientHeight-(f+m)),x=qm(d),S={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Ci(0,sl(1,l))||1};let C=!0;function E(P){const _=P[0].intersectionRatio;if(_!==l){if(!C)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!_L(u,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return s(!0),o}function zq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=dT(t),d=i||o?[...u?Lh(u):[],...Lh(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&a?Uq(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,g=l?dc(t):null;l&&v();function v(){const x=dc(t);g&&!_L(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Wq=Sq,Hq=_q,qq=xq,Gq=Tq,Kq=bq,GN=vq,Yq=Eq,Xq=(t,e,n)=>{const r=new Map,i={platform:Bq,...n},o={...i.platform,_c:r};return yq(t,e,{...i,platform:o})};var Dg=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Ny(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ny(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Ny(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function EL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KN(t,e){const n=EL(t);return Math.round(e*n)/n}function $b(t){const e=b.useRef(t);return Dg(()=>{e.current=t}),e}function Qq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);Ny(h,r)||m(r);const[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(V=>{V!==P.current&&(P.current=V,g(V))},[]),S=b.useCallback(V=>{V!==_.current&&(_.current=V,x(V))},[]),C=o||y,E=s||v,P=b.useRef(null),_=b.useRef(null),T=b.useRef(d),N=l!=null,k=$b(l),j=$b(i),R=$b(u),O=b.useCallback(()=>{if(!P.current||!_.current)return;const V={placement:e,strategy:n,middleware:h};j.current&&(V.platform=j.current),Xq(P.current,_.current,V).then(W=>{const ne={...W,isPositioned:R.current!==!1};$.current&&!Ny(T.current,ne)&&(T.current=ne,Cc.flushSync(()=>{f(ne)}))})},[h,e,n,j,R]);Dg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const $=b.useRef(!1);Dg(()=>($.current=!0,()=>{$.current=!1}),[]),Dg(()=>{if(C&&(P.current=C),E&&(_.current=E),C&&E){if(k.current)return k.current(C,E,O);O()}},[C,E,O,k,N]);const F=b.useMemo(()=>({reference:P,floating:_,setReference:w,setFloating:S}),[w,S]),B=b.useMemo(()=>({reference:C,floating:E}),[C,E]),U=b.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const W=KN(B.floating,d.x),ne=KN(B.floating,d.y);return a?{...V,transform:"translate("+W+"px, "+ne+"px)",...EL(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ne}},[n,a,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:F,elements:B,floatingStyles:U}),[d,O,F,B,U])}const Jq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?GN({element:r.current,padding:i}).fn(n):{}:r?GN({element:r,padding:i}).fn(n):{}}}},Zq=(t,e)=>({...Wq(t),options:[t,e]}),eG=(t,e)=>({...Hq(t),options:[t,e]}),tG=(t,e)=>({...Yq(t),options:[t,e]}),nG=(t,e)=>({...qq(t),options:[t,e]}),rG=(t,e)=>({...Gq(t),options:[t,e]}),iG=(t,e)=>({...Kq(t),options:[t,e]}),oG=(t,e)=>({...Jq(t),options:[t,e]});var sG="Arrow",TL=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return c.jsx(et.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});TL.displayName=sG;var aG=TL;function hT(t){const[e,n]=b.useState(void 0);return dr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pT="Popper",[CL,Nx]=Di(pT),[lG,AL]=CL(pT),PL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return c.jsx(lG,{scope:e,anchor:r,onAnchorChange:i,children:n})};PL.displayName=pT;var NL="PopperAnchor",jL=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=AL(NL,n),s=b.useRef(null),a=vt(e,s);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:c.jsx(et.div,{...i,ref:a})});jL.displayName=NL;var mT="PopperContent",[cG,uG]=CL(mT),IL=b.forwardRef((t,e)=>{var xe,je,se,pe,ce,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=AL(mT,n),[x,w]=b.useState(null),S=vt(e,we=>w(we)),[C,E]=b.useState(null),P=hT(C),_=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,N=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],R=j.length>0,O={padding:k,boundary:j.filter(fG),altBoundary:R},{refs:$,floatingStyles:F,placement:B,isPositioned:U,middlewareData:V}=Qq({strategy:"fixed",placement:N,whileElementsMounted:(...we)=>zq(...we,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Zq({mainAxis:i+T,alignmentAxis:s}),l&&eG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tG():void 0,...O}),l&&nG({...O}),rG({...O,apply:({elements:we,rects:Te,availableWidth:Xe,availableHeight:Qe})=>{const{width:at,height:pt}=Te.reference,_e=we.floating.style;_e.setProperty("--radix-popper-available-width",`${Xe}px`),_e.setProperty("--radix-popper-available-height",`${Qe}px`),_e.setProperty("--radix-popper-anchor-width",`${at}px`),_e.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),C&&oG({element:C,padding:a}),hG({arrowWidth:_,arrowHeight:T}),h&&iG({strategy:"referenceHidden",...O})]}),[W,ne]=RL(B),X=On(y);dr(()=>{U&&(X==null||X())},[U,X]);const ie=(xe=V.arrow)==null?void 0:xe.x,le=(je=V.arrow)==null?void 0:je.y,be=((se=V.arrow)==null?void 0:se.centerOffset)!==0,[ke,st]=b.useState();return dr(()=>{x&&st(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:U?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(pe=V.transformOrigin)==null?void 0:pe.x,(ce=V.transformOrigin)==null?void 0:ce.y].join(" "),...((z=V.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(cG,{scope:n,placedSide:W,onArrowChange:E,arrowX:ie,arrowY:le,shouldHideArrow:be,children:c.jsx(et.div,{"data-side":W,"data-align":ne,...g,ref:S,style:{...g.style,animation:U?void 0:"none"}})})})});IL.displayName=mT;var kL="PopperArrow",dG={top:"bottom",right:"left",bottom:"top",left:"right"},OL=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=uG(kL,r),s=dG[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(aG,{...i,ref:n,style:{...i.style,display:"block"}})})});OL.displayName=kL;function fG(t){return t!==null}var hG=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=RL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=s?f:`${h}px`,g=`${-l}px`):u==="top"?(y=s?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=s?f:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function RL(t){const[e,n="center"]=t.split("-");return[e,n]}var pG=PL,ML=jL,DL=IL,$L=OL,[jx,qje]=Di("Tooltip",[Nx]),gT=Nx(),LL="TooltipProvider",mG=700,YN="tooltip.open",[gG,FL]=jx(LL),VL=t=>{const{__scopeTooltip:e,delayDuration:n=mG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(gG,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};VL.displayName=LL;var BL="Tooltip",[Gje,Ix]=jx(BL),B1="TooltipTrigger",yG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ix(B1,n),o=FL(B1,n),s=gT(n),a=b.useRef(null),l=vt(e,a,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ML,{asChild:!0,...s,children:c.jsx(et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Le(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Le(t.onBlur,i.onClose),onClick:Le(t.onClick,i.onClose)})})});yG.displayName=B1;var vG="TooltipPortal",[Kje,xG]=jx(vG,{forceMount:void 0}),Yu="TooltipContent",UL=b.forwardRef((t,e)=>{const n=xG(Yu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=Ix(Yu,t.__scopeTooltip);return c.jsx(ro,{present:r||s.open,children:s.disableHoverableContent?c.jsx(zL,{side:i,...o,ref:e}):c.jsx(bG,{side:i,...o,ref:e})})}),bG=b.forwardRef((t,e)=>{const n=Ix(Yu,t.__scopeTooltip),r=FL(Yu,t.__scopeTooltip),i=b.useRef(null),o=vt(e,i),[s,a]=b.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=TG(x,v.getBoundingClientRect()),S=CG(x,w),C=AG(g.getBoundingClientRect()),E=NG([...S,...C]);a(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),b.useEffect(()=>{if(s){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),S=!PG(x,s);w?h():S&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,u,h]),c.jsx(zL,{...t,ref:o})}),[wG,SG]=jx(BL,{isInside:!1}),_G=pW("TooltipContent"),zL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=Ix(Yu,n),u=gT(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(YN,d),()=>document.removeEventListener(YN,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Wp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(DL,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(_G,{children:r}),c.jsx(wG,{scope:n,isInside:!0,children:c.jsx(RW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});UL.displayName=Yu;var WL="TooltipArrow",EG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=gT(n);return SG(WL,n).isInside?null:c.jsx($L,{...i,...r,ref:e})});EG.displayName=WL;function TG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function AG(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function PG(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function NG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jG(e)}function jG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IG=VL,HL=UL;const kG=IG,OG=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(HL,{ref:r,sideOffset:e,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));OG.displayName=HL.displayName;const $g=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],qL=b.createContext(void 0);function RG({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=b.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&$g.find(u=>u.id===a)||$g[0]});b.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),b.useEffect(()=>{const a=document.documentElement,l=r.primary,u=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?u:l),a.style.setProperty("--sidebar-ring",e==="dark"?u:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return c.jsx(qL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function MG(){const t=b.useContext(qL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const DG=()=>{};var XN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$G=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},KL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$G(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new LG;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FG=function(t){const e=GL(t);return KL.encodeByteArray(e,!0)},jy=function(t){return FG(t).replace(/\./g,"")},YL=function(t){try{return KL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=()=>VG().__FIREBASE_DEFAULTS__,UG=()=>{if(typeof process>"u"||typeof XN>"u")return;const t=XN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YL(t[1]);return e&&JSON.parse(e)},kx=()=>{try{return DG()||BG()||UG()||zG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XL=t=>{var e,n;return(n=(e=kx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WG=t=>{const e=XL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QL=()=>{var t;return(t=kx())==null?void 0:t.config},JL=t=>{var e;return(e=kx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jy(JSON.stringify(n)),jy(JSON.stringify(s)),""].join(".")}const eh={};function GG(){const t={prod:[],emulator:[]};for(const e of Object.keys(eh))eh[e]?t.emulator.push(e):t.prod.push(e);return t}function KG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QN=!1;function e4(t,e){if(typeof window>"u"||typeof document>"u"||!Rd(window.location.host)||eh[t]===e||eh[t]||QN)return;eh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=GG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{QN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=KG(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(v,g);const C=u();l(w,x),S.append(w,y,v,C),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function XG(){var e;const t=(e=kx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eK(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tK(){return!XG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nK(){try{return typeof indexedDB=="object"}catch{return!1}}function rK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iK,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kp.prototype.create)}}class Kp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ca(i,a,r)}}function oK(t,e){return t.replace(sK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sK=/\{\$([^}]+)}/g;function aK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(JN(o)&&JN(s)){if(!fc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lK(t,e){const n=new cK(t,e);return n.subscribe.bind(n)}class cK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lb),i.error===void 0&&(i.error=Lb),i.complete===void 0&&(i.complete=Lb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){return t&&t._delegate?t._delegate:t}class hc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hK(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fK(t){return t===Ol?void 0:t}function hK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const mK={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},gK=wt.INFO,yK={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},vK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yT{constructor(e){this.name=e,this._logLevel=gK,this._logHandler=vK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const xK=(t,e)=>e.some(n=>t instanceof n);let ZN,ej;function bK(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wK(){return ej||(ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t4=new WeakMap,U1=new WeakMap,n4=new WeakMap,Fb=new WeakMap,vT=new WeakMap;function SK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&t4.set(n,t)}).catch(()=>{}),vT.set(e,t),e}function _K(t){if(U1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});U1.set(t,e)}let z1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EK(t){z1=t(z1)}function TK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vb(this),e,...n);return n4.set(r,e.sort?e.sort():[e]),Qa(r)}:wK().includes(t)?function(...e){return t.apply(Vb(this),e),Qa(t4.get(this))}:function(...e){return Qa(t.apply(Vb(this),e))}}function CK(t){return typeof t=="function"?TK(t):(t instanceof IDBTransaction&&_K(t),xK(t,bK())?new Proxy(t,z1):t)}function Qa(t){if(t instanceof IDBRequest)return SK(t);if(Fb.has(t))return Fb.get(t);const e=CK(t);return e!==t&&(Fb.set(t,e),vT.set(e,t)),e}const Vb=t=>vT.get(t);function AK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Qa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Qa(s.result),l.oldVersion,l.newVersion,Qa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PK=["get","getKey","getAll","getAllKeys","count"],NK=["put","add","delete","clear"],Bb=new Map;function tj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bb.get(e))return Bb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Bb.set(e,o),o}EK(t=>({...t,get:(e,n,r)=>tj(e,n)||t.get(e,n,r),has:(e,n)=>!!tj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W1="@firebase/app",nj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new yT("@firebase/app"),kK="@firebase/app-compat",OK="@firebase/analytics-compat",RK="@firebase/analytics",MK="@firebase/app-check-compat",DK="@firebase/app-check",$K="@firebase/auth",LK="@firebase/auth-compat",FK="@firebase/database",VK="@firebase/data-connect",BK="@firebase/database-compat",UK="@firebase/functions",zK="@firebase/functions-compat",WK="@firebase/installations",HK="@firebase/installations-compat",qK="@firebase/messaging",GK="@firebase/messaging-compat",KK="@firebase/performance",YK="@firebase/performance-compat",XK="@firebase/remote-config",QK="@firebase/remote-config-compat",JK="@firebase/storage",ZK="@firebase/storage-compat",eY="@firebase/firestore",tY="@firebase/ai",nY="@firebase/firestore-compat",rY="firebase",iY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="[DEFAULT]",oY={[W1]:"fire-core",[kK]:"fire-core-compat",[RK]:"fire-analytics",[OK]:"fire-analytics-compat",[DK]:"fire-app-check",[MK]:"fire-app-check-compat",[$K]:"fire-auth",[LK]:"fire-auth-compat",[FK]:"fire-rtdb",[VK]:"fire-data-connect",[BK]:"fire-rtdb-compat",[UK]:"fire-fn",[zK]:"fire-fn-compat",[WK]:"fire-iid",[HK]:"fire-iid-compat",[qK]:"fire-fcm",[GK]:"fire-fcm-compat",[KK]:"fire-perf",[YK]:"fire-perf-compat",[XK]:"fire-rc",[QK]:"fire-rc-compat",[JK]:"fire-gcs",[ZK]:"fire-gcs-compat",[eY]:"fire-fst",[nY]:"fire-fst-compat",[tY]:"fire-vertex","fire-js":"fire-js",[rY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map,sY=new Map,q1=new Map;function rj(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(q1.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;q1.set(e,t);for(const n of Iy.values())rj(n,t);for(const n of sY.values())rj(n,t);return!0}function xT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ao(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Kp("app","Firebase",aY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=iY;function r4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:H1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=QL()),!n)throw Ja.create("no-options");const o=Iy.get(i);if(o){if(fc(n,o.options)&&fc(r,o.config))return o;throw Ja.create("duplicate-app",{appName:i})}const s=new pK(i);for(const l of q1.values())s.addComponent(l);const a=new lY(n,r,s);return Iy.set(i,a),a}function i4(t=H1){const e=Iy.get(t);if(!e&&t===H1&&QL())return r4();if(!e)throw Ja.create("no-app",{appName:t});return e}function Za(t,e,n){let r=oY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(s.join(" "));return}Xu(new hc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY="firebase-heartbeat-database",uY=1,Fh="firebase-heartbeat-store";let Ub=null;function o4(){return Ub||(Ub=AK(cY,uY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),Ub}async function dY(t){try{const n=(await o4()).transaction(Fh),r=await n.objectStore(Fh).get(s4(t));return await n.done,r}catch(e){if(e instanceof ca)ea.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function ij(t,e){try{const r=(await o4()).transaction(Fh,"readwrite");await r.objectStore(Fh).put(e,s4(t)),await r.done}catch(n){if(n instanceof ca)ea.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function s4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=1024,hY=30;class pY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>hY){const s=yY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oj(),{heartbeatsToSend:r,unsentEntries:i}=mY(this._heartbeatsCache.heartbeats),o=jy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ea.warn(n),""}}}function oj(){return new Date().toISOString().substring(0,10)}function mY(t,e=fY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nK()?rK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sj(t){return jy(JSON.stringify({version:2,heartbeats:t})).length}function yY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){Xu(new hc("platform-logger",e=>new jK(e),"PRIVATE")),Xu(new hc("heartbeat",e=>new pY(e),"PRIVATE")),Za(W1,nj,t),Za(W1,nj,"esm2020"),Za("fire-js","")}vY("");var xY="firebase",bY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(xY,bY,"app");function a4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wY=a4,l4=new Kp("auth","Firebase",a4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new yT("@firebase/auth");function SY(t,...e){ky.logLevel<=wt.WARN&&ky.warn(`Auth (${Md}): ${t}`,...e)}function Lg(t,...e){ky.logLevel<=wt.ERROR&&ky.error(`Auth (${Md}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,...e){throw wT(t,...e)}function Do(t,...e){return wT(t,...e)}function bT(t,e,n){const r={...wY(),[e]:n};return new Kp("auth","Firebase",r).create(e,{appName:t.name})}function ec(t){return bT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _Y(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),bT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l4.create(t,...e)}function lt(t,e,...n){if(!t)throw wT(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function ta(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EY(){return aj()==="http:"||aj()==="https:"}function aj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EY()||JG()||"connection"in navigator)?navigator.onLine:!0}function CY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=YG()||ZG()}get(){return TY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NY=new Xp(3e4,6e4);function _T(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dd(t,e,n,r,i={}){return u4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Yp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return QG()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rd(t.emulatorConfig.host)&&(u.credentials="include"),c4.fetch()(await d4(t,t.config.apiHost,n,a),u)})}async function u4(t,e,n){t._canInitEmulator=!1;const r={...AY,...e};try{const i=new IY(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Gm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Gm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bT(t,d,u);gs(t,d)}}catch(i){if(i instanceof ca)throw i;gs(t,"network-request-failed",{message:String(i)})}}async function jY(t,e,n,r,i={}){const o=await Dd(t,e,n,r,i);return"mfaPendingCredential"in o&&gs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function d4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?ST(t.config,i):`${t.config.apiScheme}://${i}`;return PY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class IY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),NY.get())})}}function Gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Do(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kY(t,e){return Dd(t,"POST","/v1/accounts:delete",e)}async function Oy(t,e){return Dd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OY(t,e=!1){const n=to(t),r=await n.getIdToken(e),i=ET(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:th(zb(i.auth_time)),issuedAtTime:th(zb(i.iat)),expirationTime:th(zb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zb(t){return Number(t)*1e3}function ET(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=YL(n);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lj(t){const e=ET(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ca&&RY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Vh(t,Oy(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?f4(i.providerUserInfo):[],s=$Y(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new K1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function DY(t){const e=to(t);await Ry(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $Y(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LY(t,e){const n=await u4(t,{},async()=>{const r=Yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await d4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Rd(t.emulatorConfig.host)&&(l.credentials="include"),c4.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FY(t,e){return Dd(t,"POST","/v2/accounts:revokeToken",_T(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=lj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await LY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wu;return r&&(lt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(lt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class No{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new MY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vh(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OY(this,e)}reload(){return DY(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new No({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ry(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ao(this.auth.app))return Promise.reject(ec(this.auth));const e=await this.getIdToken();return await Vh(this,kY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;lt(f&&g,e,"internal-error");const v=wu.fromJSON(this.name,g);lt(typeof f=="string",e,"internal-error"),Sa(r,e.name),Sa(i,e.name),lt(typeof h=="boolean",e,"internal-error"),lt(typeof m=="boolean",e,"internal-error"),Sa(o,e.name),Sa(s,e.name),Sa(a,e.name),Sa(l,e.name),Sa(u,e.name),Sa(d,e.name);const x=new No({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new wu;i.updateFromServerResponse(n);const o=new No({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ry(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?f4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new wu;a.updateFromIdToken(r);const l=new No({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new K1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Map;function Vs(t){ta(t instanceof Function,"Expected a class definition");let e=cj.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h4.type="NONE";const uj=h4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class Su{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oy(this.auth,{idToken:e}).catch(()=>{});return n?No._fromGetAccountInfoResponse(this.auth,n,e):null}return No._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Su(Vs(uj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Vs(uj);const s=Fg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await Oy(e,{idToken:d}).catch(()=>{});if(!h)break;f=await No._fromGetAccountInfoResponse(e,h,d)}else f=No._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Su(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Su(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x4(e))return"Blackberry";if(b4(e))return"Webos";if(m4(e))return"Safari";if((e.includes("chrome/")||g4(e))&&!e.includes("edge/"))return"Chrome";if(v4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p4(t=Wr()){return/firefox\//i.test(t)}function m4(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g4(t=Wr()){return/crios\//i.test(t)}function y4(t=Wr()){return/iemobile/i.test(t)}function v4(t=Wr()){return/android/i.test(t)}function x4(t=Wr()){return/blackberry/i.test(t)}function b4(t=Wr()){return/webos/i.test(t)}function TT(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VY(t=Wr()){var e;return TT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BY(){return eK()&&document.documentMode===10}function w4(t=Wr()){return TT(t)||v4(t)||b4(t)||x4(t)||/windows phone/i.test(t)||y4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e=[]){let n;switch(t){case"Browser":n=dj(Wr());break;case"Worker":n=`${dj(Wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Md}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY(t,e={}){return Dd(t,"GET","/v2/passwordPolicy",_T(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=6;class HY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fj(this),this.idTokenSubscription=new fj(this),this.beforeStateQueue=new UY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Su.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oy(this,{idToken:e}),r=await No._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Ao(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ry(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ao(this.app))return Promise.reject(ec(this));const n=e?to(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ao(this.app)?Promise.reject(ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ao(this.app)?Promise.reject(ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zY(this),n=new HY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Su.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ao(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&SY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ox(t){return to(t)}class fj{constructor(e){this.auth=e,this.observer=null,this.addObserver=lK(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GY(t){CT=t}function KY(t){return CT.loadJS(t)}function YY(){return CT.gapiScript}function XY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t,e){const n=xT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(fc(o,e??{}))return i;gs(i,"already-initialized")}return n.initialize({options:e})}function JY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZY(t,e,n){const r=Ox(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=_4(e),{host:s,port:a}=eX(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(fc(u,r.config.emulator)&&fc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Rd(s)?(ZL(`${o}//${s}${l}`),e4("Auth",!0)):tX()}function _4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eX(t){const e=_4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hj(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hj(s)}}}function hj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e){return jY(t,"POST","/v1/accounts:signInWithIdp",_T(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX="http://localhost";class pc extends E4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new pc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return _u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_u(e,n)}buildRequest(){const e={requestUri:nX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Qp{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Qp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Qp{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Qp{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await No._fromIdTokenResponse(e,r,i),s=pj(r);return new Qu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pj(r);return new Qu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends ca{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,My.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new My(e,n,r,i)}}function T4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(t,o,e,r):o})}async function rX(t,e,n=!1){const r=await Vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iX(t,e,n=!1){const{auth:r}=t;if(Ao(r.app))return Promise.reject(ec(r));const i="reauthenticate";try{const o=await Vh(t,T4(r,i,e,t),n);lt(o.idToken,r,"internal-error");const s=ET(o.idToken);lt(s,r,"internal-error");const{sub:a}=s;return lt(t.uid===a,r,"user-mismatch"),Qu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&gs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oX(t,e,n=!1){if(Ao(t.app))return Promise.reject(ec(t));const r="signIn",i=await T4(t,r,e),o=await Qu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function sX(t,e,n,r){return to(t).onIdTokenChanged(e,n,r)}function aX(t,e,n){return to(t).beforeAuthStateChanged(e,n)}function lX(t,e,n,r){return to(t).onAuthStateChanged(e,n,r)}function cX(t){return to(t).signOut()}const Dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dy,"1"),this.storage.removeItem(Dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=1e3,dX=10;class A4 extends C4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);BY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A4.type="LOCAL";const fX=A4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4 extends C4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}P4.type="SESSION";const N4=P4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await hX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=PT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function mX(t){ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function gX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function vX(){return j4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firebaseLocalStorageDb",xX=1,$y="firebaseLocalStorage",k4="fbase_key";class Jp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mx(t,e){return t.transaction([$y],e?"readwrite":"readonly").objectStore($y)}function bX(){const t=indexedDB.deleteDatabase(I4);return new Jp(t).toPromise()}function Y1(){const t=indexedDB.open(I4,xX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($y,{keyPath:k4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($y)?e(r):(r.close(),await bX(),e(await Y1()))})})}async function mj(t,e,n){const r=Mx(t,!0).put({[k4]:e,value:n});return new Jp(r).toPromise()}async function wX(t,e){const n=Mx(t,!1).get(e),r=await new Jp(n).toPromise();return r===void 0?null:r.value}function gj(t,e){const n=Mx(t,!0).delete(e);return new Jp(n).toPromise()}const SX=800,_X=3;class O4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_X)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rx._getInstance(vX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await gX(),!this.activeServiceWorker)return;this.sender=new pX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y1();return await mj(e,Dy,"1"),await gj(e,Dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Mx(i,!1).getAll();return new Jp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O4.type="LOCAL";const EX=O4;new Xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){return e?Vs(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends E4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TX(t){return oX(t.auth,new NT(t),t.bypassAuthState)}function CX(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),iX(n,new NT(t),t.bypassAuthState)}async function AX(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),rX(n,new NT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TX;case"linkViaPopup":case"linkViaRedirect":return AX;case"reauthViaPopup":case"reauthViaRedirect":return CX;default:gs(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=new Xp(2e3,1e4);async function D4(t,e,n){if(Ao(t.app))return Promise.reject(Do(t,"operation-not-supported-in-this-environment"));const r=Ox(t);_Y(t,e,AT);const i=R4(r,n);return new Ul(r,"signInViaPopup",e,i).executeNotNull()}class Ul extends M4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=PT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Do(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Do(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Do(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PX.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX="pendingRedirect",Vg=new Map;class jX extends M4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await IX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IX(t,e){const n=RX(e),r=OX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kX(t,e){Vg.set(t._key(),e)}function OX(t){return Vs(t._redirectPersistence)}function RX(t){return Fg(NX,t.config.apiKey,t.name)}async function MX(t,e,n=!1){if(Ao(t.app))return Promise.reject(ec(t));const r=Ox(t),i=R4(r,e),s=await new jX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=10*60*1e3;class $X{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Do(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DX&&this.cachedEventUids.clear(),this.cachedEventUids.has(yj(e))}saveEventToCache(e){this.cachedEventUids.add(yj(e)),this.lastProcessedEventTime=Date.now()}}function yj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FX(t,e={}){return Dd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BX=/^https?/;async function UX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FX(t);for(const n of e)try{if(zX(n))return}catch{}gs(t,"unauthorized-domain")}function zX(t){const e=G1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BX.test(n))return!1;if(VX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=new Xp(3e4,6e4);function vj(){const t=ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HX(t){return new Promise((e,n)=>{var i,o,s;function r(){vj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vj(),n(Do(t,"network-request-failed"))},timeout:WX.get()})}if((o=(i=ls().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=ls().gapi)!=null&&s.load)r();else{const a=XY("iframefcb");return ls()[a]=()=>{gapi.load?r():n(Do(t,"network-request-failed"))},KY(`${YY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bg=null,e})}let Bg=null;function qX(t){return Bg=Bg||HX(t),Bg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=new Xp(5e3,15e3),KX="__/auth/iframe",YX="emulator/auth/iframe",XX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JX(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ST(e,YX):`https://${t.config.authDomain}/${KX}`,r={apiKey:e.apiKey,appName:t.name,v:Md},i=QX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yp(r).slice(1)}`}async function ZX(t){const e=await qX(t),n=ls().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:JX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Do(t,"network-request-failed"),a=ls().setTimeout(()=>{o(s)},GX.get());function l(){ls().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tQ=500,nQ=600,rQ="_blank",iQ="http://localhost";class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oQ(t,e,n,r=tQ,i=nQ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...eQ,width:r.toString(),height:i.toString(),top:o,left:s},u=Wr().toLowerCase();n&&(a=g4(u)?rQ:n),p4(u)&&(e=e||iQ,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(VY(u)&&a!=="_self")return sQ(e||"",a),new xj(null);const f=window.open(e||"",a,d);lt(f,t,"popup-blocked");try{f.focus()}catch{}return new xj(f)}function sQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ="__/auth/handler",lQ="emulator/auth/handler",cQ=encodeURIComponent("fac");async function bj(t,e,n,r,i,o){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Md,eventId:i};if(e instanceof AT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",aK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Qp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${cQ}=${encodeURIComponent(l)}`:"";return`${uQ(t)}?${Yp(a).slice(1)}${u}`}function uQ({config:t}){return t.emulator?ST(t,lQ):`https://${t.authDomain}/${aQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="webStorageSupport";class dQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N4,this._completeRedirectFn=MX,this._overrideRedirectResult=kX}async _openPopup(e,n,r,i){var s;ta((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bj(e,n,r,G1(),i);return oQ(e,o,PT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await bj(e,n,r,G1(),i);return mX(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ta(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZX(e),r=new $X(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wb,{type:Wb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Wb];o!==void 0&&n(!!o),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w4()||m4()||TT()}}const fQ=dQ;var wj="@firebase/auth",Sj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mQ(t){Xu(new hc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;lt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S4(t)},u=new qY(r,i,o,l);return JY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new hc("auth-internal",e=>{const n=Ox(e.getProvider("auth").getImmediate());return(r=>new hQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Za(wj,Sj,pQ(t)),Za(wj,Sj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=5*60,yQ=JL("authIdTokenMaxAge")||gQ;let _j=null;const vQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yQ)return;const i=n==null?void 0:n.token;_j!==i&&(_j=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xQ(t=i4()){const e=xT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QY(t,{popupRedirectResolver:fQ,persistence:[EX,fX,N4]}),r=JL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=vQ(o.toString());aX(n,s,()=>s(n.currentUser)),sX(n,a=>s(a))}}const i=XL("auth");return i&&ZY(n,`http://${i}`),n}function bQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Do("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",bQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mQ("Browser");var Ej=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,L4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(k,j,R){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return T.prototype[j].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],j=_.g[2];let R=_.g[3],O;O=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(k[j++]=_.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=_[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)_[T++]=this.g[N]>>>k&255;return _};function o(_,T){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let k=!0;for(let j=_.length-1;j>=0;j--){const R=_[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var a={};function l(_){return-128<=_&&_<128?o(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(u(-_));const T=[];let N=1;for(let k=0;_>=N;k++)T[k]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(T,8));let k=f;for(let R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R);const O=parseInt(_.substring(R,R+j),T);j<8?(j=u(Math.pow(T,j)),k=k.j(j).add(u(O))):(k=k.j(N),k=k.add(u(O)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);_+=(k>=0?k:4294967296+k)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(g(this))return"-"+v(this).toString(_);const T=u(Math.pow(_,6));var N=this;let k="";for(;;){const j=C(N,T).g;N=x(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=j,y(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:y(_)?0:1};function v(_){const T=_.g.length,N=[];for(let k=0;k<T;k++)N[k]=~_.g[k];return new s(N,~_.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(_.i(j)&65535),O=(R>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);k=O>>>16,R&=65535,O&=65535,N[j]=O<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(v(T))}t.j=function(_){if(y(this)||y(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(this.l(m)<0&&_.l(m)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<_.g.length;j++){const R=this.i(k)>>>16,O=this.i(k)&65535,$=_.i(j)>>>16,F=_.i(j)&65535;N[2*k+2*j]+=O*F,w(N,2*k+2*j),N[2*k+2*j+1]+=R*F,w(N,2*k+2*j+1),N[2*k+2*j+1]+=O*$,w(N,2*k+2*j+1),N[2*k+2*j+2]+=R*$,w(N,2*k+2*j+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function C(_,T){if(y(T))throw Error("division by zero");if(y(_))return new S(f,f);if(g(_))return T=C(v(_),T),new S(v(T.g),v(T.h));if(g(T))return T=C(_,v(T)),new S(v(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(_)<=0;)N=E(N),k=E(k);var j=P(N,1),R=P(k,1);for(k=P(k,2),N=P(N,2);!y(k);){var O=R.add(k);O.l(_)<=0&&(j=j.add(N),R=O),k=P(k,1),N=P(N,1)}return T=x(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=u(N),O=R.j(T);g(O)||O.l(_)>0;)N-=k,R=u(N),O=R.j(T);y(R)&&(R=h),j=j.add(R),_=x(_,O)}return new S(j,_)}t.B=function(_){return C(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&_.i(k);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|_.i(k);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^_.i(k);return new s(N,this.h^_.h)};function E(_){const T=_.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(N,_.h)}function P(_,T){const N=T>>5;T%=32;const k=_.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?_.i(R+N)>>>T|_.i(R+N+1)<<32-T:_.i(R+N);return new s(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,L4=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,el=s}).apply(typeof Ej<"u"?Ej:typeof self<"u"?self:typeof window<"u"?window:{});var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F4,Mf,V4,Ug,X1,B4,U4,z4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Km=="object"&&Km];for(var A=0;A<p.length;++A){var I=p[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,A){if(A)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],D=I[p],A=A(D),A!=D&&A!=null&&e(I,p,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(A){var I=[],D;for(D in A)Object.prototype.hasOwnProperty.call(A,D)&&I.push([D,A[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function l(p,A,I){return p.call.apply(p.bind,arguments)}function u(p,A,I){return u=l,u.apply(null,arguments)}function d(p,A){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,A){function I(){}I.prototype=A.prototype,p.Z=A.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,Y,ee){for(var Ce=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Ce[gt-2]=arguments[gt];return A.prototype[Y].apply(D,Ce)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const A=p.length;if(A>0){const I=Array(A);for(let D=0;D<A;D++)I[D]=p[D];return I}return[]}function y(p,A){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var I=typeof Y;if(I=I!="object"?I:Y?Array.isArray(Y)?"array":I:"null",I=="array"||I=="object"&&typeof Y.length=="number"){I=p.length||0;const ee=Y.length||0;p.length=I+ee;for(let Ce=0;Ce<ee;Ce++)p[I+Ce]=Y[Ce]}else p.push(Y)}}class g{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function v(p){s.setTimeout(()=>{throw p},0)}function x(){var p=_;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class w{constructor(){this.h=this.g=null}add(A,I){const D=S.get();D.set(A,I),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(N)}};function N(){for(var p;p=x();){try{p.h.call(p.g)}catch(I){v(I)}var A=S;A.j(p),A.h<100&&(A.h++,p.next=A.g,A.g=p)}P=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,A),s.removeEventListener("test",I,A)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function $(p,A){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,A)}f($,j),$.prototype.init=function(p,A){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget,A||(I=="mouseover"?A=p.fromElement:I=="mouseout"&&(A=p.toElement)),this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),B=0;function U(p,A,I,D,Y){this.listener=p,this.proxy=null,this.src=A,this.type=I,this.capture=!!D,this.ha=Y,this.key=++B,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function W(p,A,I){for(const D in p)A.call(I,p[D],D,p)}function ne(p,A){for(const I in p)A.call(void 0,p[I],I,p)}function X(p){const A={};for(const I in p)A[I]=p[I];return A}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(p,A){let I,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(I in D)p[I]=D[I];for(let ee=0;ee<ie.length;ee++)I=ie[ee],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,A,I,D,Y){const ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);const Ce=st(p,A,D,Y);return Ce>-1?(A=p[Ce],I||(A.fa=!1)):(A=new U(A,this.src,ee,!!D,Y),A.fa=I,p.push(A)),A};function ke(p,A){const I=A.type;if(I in p.g){var D=p.g[I],Y=Array.prototype.indexOf.call(D,A,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(D,Y,1),ee&&(V(A),p.g[I].length==0&&(delete p.g[I],p.h--))}}function st(p,A,I,D){for(let Y=0;Y<p.length;++Y){const ee=p[Y];if(!ee.da&&ee.listener==A&&ee.capture==!!I&&ee.ha==D)return Y}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),je={};function se(p,A,I,D,Y){if(Array.isArray(A)){for(let ee=0;ee<A.length;ee++)se(p,A[ee],I,D,Y);return null}return I=pt(I),p&&p[F]?p.J(A,I,a(D)?!!D.capture:!!D,Y):pe(p,A,I,!1,D,Y)}function pe(p,A,I,D,Y,ee){if(!A)throw Error("Invalid event type");const Ce=a(Y)?!!Y.capture:!!Y;let gt=Qe(p);if(gt||(p[xe]=gt=new be(p)),I=gt.add(A,I,D,Ce,ee),I.proxy)return I;if(D=ce(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)R||(Y=Ce),Y===void 0&&(Y=!1),p.addEventListener(A.toString(),D,Y);else if(p.attachEvent)p.attachEvent(Te(A.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ce(){function p(I){return A.call(p.src,p.listener,I)}const A=Xe;return p}function z(p,A,I,D,Y){if(Array.isArray(A))for(var ee=0;ee<A.length;ee++)z(p,A[ee],I,D,Y);else D=a(D)?!!D.capture:!!D,I=pt(I),p&&p[F]?(p=p.i,ee=String(A).toString(),ee in p.g&&(A=p.g[ee],I=st(A,I,D,Y),I>-1&&(V(A[I]),Array.prototype.splice.call(A,I,1),A.length==0&&(delete p.g[ee],p.h--)))):p&&(p=Qe(p))&&(A=p.g[A.toString()],p=-1,A&&(p=st(A,I,D,Y)),(I=p>-1?A[p]:null)&&we(I))}function we(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[F])ke(A.i,p);else{var I=p.type,D=p.proxy;A.removeEventListener?A.removeEventListener(I,D,p.capture):A.detachEvent?A.detachEvent(Te(I),D):A.addListener&&A.removeListener&&A.removeListener(D),(I=Qe(A))?(ke(I,p),I.h==0&&(I.src=null,A[xe]=null)):V(p)}}}function Te(p){return p in je?je[p]:je[p]="on"+p}function Xe(p,A){if(p.da)p=!0;else{A=new $(A,this);const I=p.listener,D=p.ha||p.src;p.fa&&we(p),p=I.call(D,A)}return p}function Qe(p){return p=p[xe],p instanceof be?p:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(p){return typeof p=="function"?p:(p[at]||(p[at]=function(A){return p.handleEvent(A)}),p[at])}function _e(){k.call(this),this.i=new be(this),this.M=this,this.G=null}f(_e,k),_e.prototype[F]=!0,_e.prototype.removeEventListener=function(p,A,I,D){z(this,p,A,I,D)};function Pe(p,A){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=A.type||A,typeof A=="string")A=new j(A,p);else if(A instanceof j)A.target=A.target||p;else{var Y=A;A=new j(D,p),le(A,Y)}Y=!0;let ee,Ce;if(I)for(Ce=I.length-1;Ce>=0;Ce--)ee=A.g=I[Ce],Y=Me(ee,D,!0,A)&&Y;if(ee=A.g=p,Y=Me(ee,D,!0,A)&&Y,Y=Me(ee,D,!1,A)&&Y,I)for(Ce=0;Ce<I.length;Ce++)ee=A.g=I[Ce],Y=Me(ee,D,!1,A)&&Y}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var p=this.i;for(const A in p.g){const I=p.g[A];for(let D=0;D<I.length;D++)V(I[D]);delete p.g[A],p.h--}}this.G=null},_e.prototype.J=function(p,A,I,D){return this.i.add(String(p),A,!1,I,D)},_e.prototype.K=function(p,A,I,D){return this.i.add(String(p),A,!0,I,D)};function Me(p,A,I,D){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();let Y=!0;for(let ee=0;ee<A.length;++ee){const Ce=A[ee];if(Ce&&!Ce.da&&Ce.capture==I){const gt=Ce.listener,Hn=Ce.ha||Ce.src;Ce.fa&&ke(p.i,Ce),Y=gt.call(Hn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Tt(p,A){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:s.setTimeout(p,A||0)}function Ut(p){p.g=Tt(()=>{p.g=null,p.i&&(p.i=!1,Ut(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class rn extends k{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(p){k.call(this),this.h=p,this.g={}}f(hn,k);var Bn=[];function Ar(p){W(p.g,function(A,I){this.g.hasOwnProperty(I)&&we(A)},p),p.g={}}hn.prototype.N=function(){hn.Z.N.call(this),Ar(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=s.JSON.stringify,mn=s.JSON.parse,Ht=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function gn(){}function Ft(){}var Ge={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hr(){j.call(this,"d")}f(Hr,j);function hr(){j.call(this,"c")}f(hr,j);var Pr={},ei=null;function qt(){return ei=ei||new _e}Pr.Ia="serverreachability";function zt(p){j.call(this,Pr.Ia,p)}f(zt,j);function pr(p){const A=qt();Pe(A,new zt(A))}Pr.STAT_EVENT="statevent";function Un(p,A){j.call(this,Pr.STAT_EVENT,p),this.stat=A}f(Un,j);function Gt(p){const A=qt();Pe(A,new Un(A,p))}Pr.Ja="timingevent";function er(p,A){j.call(this,Pr.Ja,p),this.size=A}f(er,j);function zn(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},A)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function ao(p,A,I,D,Y,ee){p.info(function(){if(p.g)if(ee){var Ce="",gt=ee.split("&");for(let Xt=0;Xt<gt.length;Xt++){var Hn=gt[Xt].split("=");if(Hn.length>1){const rr=Hn[0];Hn=Hn[1];const Ho=rr.split("_");Ce=Ho.length>=2&&Ho[1]=="type"?Ce+(rr+"="+Hn+"&"):Ce+(rr+"=redacted&")}}}else Ce=null;else Ce=ee;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+A+`
`+I+`
`+Ce})}function $i(p,A,I,D,Y,ee,Ce){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+A+`
`+I+`
`+ee+" "+Ce})}function ti(p,A,I,D){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+ni(p,I)+(D?" "+D:"")})}function _s(p,A){p.info(function(){return"TIMEOUT: "+A})}xn.prototype.info=function(){};function ni(p,A){if(!p.g)return A;if(!A)return null;try{const ee=JSON.parse(A);if(ee){for(p=0;p<ee.length;p++)if(Array.isArray(ee[p])){var I=ee[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let Ce=1;Ce<D.length;Ce++)D[Ce]=""}}}}return pn(ee)}catch{return A}}var lo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ri;function Nr(){}f(Nr,gn),Nr.prototype.g=function(){return new XMLHttpRequest},ri=new Nr;function mi(p){return encodeURIComponent(String(p))}function pa(p){var A=1;p=p.split(":");const I=[];for(;A>0&&p.length;)I.push(p.shift()),A--;return p.length&&I.push(p.join(":")),I}function jr(p,A,I,D){this.j=p,this.i=A,this.l=I,this.S=D||1,this.V=new hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}var Es={},gi={};function Mn(p,A,I){p.M=1,p.A=te(K(A)),p.u=I,p.R=!0,H(p,null)}function H(p,A){p.F=Date.now(),Ve(p),p.B=K(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),sf(I.i,"t",D),p.C=0,I=p.j.L,p.h=new ma,p.g=nP(p.j,I?A:null,!p.u),p.P>0&&(p.O=new rn(u(p.Y,p,p.g),p.P)),A=p.V,I=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Bn[0]=Y.toString()),Y=Bn);for(let ee=0;ee<Y.length;ee++){const Ce=se(I,Y[ee],D||A.handleEvent,!1,A.h||A);if(!Ce)break;A.g[Ce.key]=Ce}A=p.J?X(p.J):{},p.u?(p.v||(p.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,A)):(p.v="GET",p.g.ea(p.B,p.v,null,A)),pr(),ao(p.i,p.v,p.B,p.l,p.S,p.u)}jr.prototype.ba=function(p){p=p.target;const A=this.O;A&&Cs(p)==3?A.j():this.Y(p)},jr.prototype.Y=function(p){try{if(p==this.g)e:{const gt=Cs(this.g),Hn=this.g.ya(),Xt=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||af(this.g)))){this.K||gt!=4||Hn==7||(Hn==8||Xt<=0?pr(3):pr(2)),G(this);var A=this.g.ca();this.X=A;var I=re(this);if(this.o=A==200,$i(this.i,this.v,this.B,this.l,this.S,gt,A),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var ee=D;break t}}ee=null}if(p=ee)ti(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Z(this,p);else{this.o=!1,this.m=3,Gt(12),De(this),Ae(this);break e}}if(this.R){p=!0;let rr;for(;!this.K&&this.C<I.length;)if(rr=ze(this,I),rr==gi){gt==4&&(this.m=4,Gt(14),p=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==Es){this.m=4,Gt(15),ti(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else ti(this.i,this.l,rr,null),Z(this,rr);if(Ne(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||I.length!=0||this.h.h||(this.m=1,Gt(16),p=!1),this.o=this.o&&p,!p)ti(this.i,this.l,I,"[Invalid Chunked Response]"),De(this),Ae(this);else if(I.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),eb(Ce),Ce.P=!0,Gt(11))}}else ti(this.i,this.l,I,null),Z(this,I);gt==4&&De(this),this.o&&!this.K&&(gt==4?JA(this.j,this):(this.o=!1,Ve(this)))}else Tl(this.g),A==400&&I.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),De(this),Ae(this)}}}catch{}finally{}};function re(p){if(!Ne(p))return p.g.la();const A=af(p.g);if(A==="")return"";let I="";const D=A.length,Y=Cs(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return De(p),Ae(p),"";p.h.i=new s.TextDecoder}for(let ee=0;ee<D;ee++)p.h.h=!0,I+=p.h.i.decode(A[ee],{stream:!(Y&&ee==D-1)});return A.length=0,p.h.g+=I,p.C=0,p.h.g}function Ne(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ze(p,A){var I=p.C,D=A.indexOf(`
`,I);return D==-1?gi:(I=Number(A.substring(I,D)),isNaN(I)?Es:(D+=1,D+I>A.length?gi:(A=A.slice(D,D+I),p.C=D+I,A)))}jr.prototype.cancel=function(){this.K=!0,De(this)};function Ve(p){p.T=Date.now()+p.H,tt(p,p.H)}function tt(p,A){if(p.D!=null)throw Error("WatchDog timer not null");p.D=zn(u(p.aa,p),A)}function G(p){p.D&&(s.clearTimeout(p.D),p.D=null)}jr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(_s(this.i,this.B),this.M!=2&&(pr(),Gt(17)),De(this),this.m=2,Ae(this)):tt(this,this.T-p)};function Ae(p){p.j.I==0||p.K||JA(p.j,p)}function De(p){G(p);var A=p.O;A&&typeof A.dispose=="function"&&A.dispose(),p.O=null,Ar(p.V),p.g&&(A=p.g,p.g=null,A.abort(),A.dispose())}function Z(p,A){try{var I=p.j;if(I.I!=0&&(I.g==p||Rt(I.h,p))){if(!p.L&&Rt(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)bm(I),Cl(I);else break e;Z0(I),Gt(18)}}else I.xa=Y[1],0<I.xa-I.K&&Y[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=zn(u(I.Va,I),6e3));jt(I.h)<=1&&I.ta&&(I.ta=void 0)}else Al(I,11)}else if((p.L||I.g==p)&&bm(I),!O(A))for(Y=I.Ba.g.parse(A),A=0;A<Y.length;A++){let Xt=Y[A];const rr=Xt[0];if(!(rr<=I.K))if(I.K=rr,Xt=Xt[1],I.I==2)if(Xt[0]=="c"){I.M=Xt[1],I.ba=Xt[2];const Ho=Xt[3];Ho!=null&&(I.ka=Ho,I.j.info("VER="+I.ka));const Pl=Xt[4];Pl!=null&&(I.za=Pl,I.j.info("SVER="+I.za));const ya=Xt[5];ya!=null&&typeof ya=="number"&&ya>0&&(D=1.5*ya,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const va=p.g;if(va){const Sm=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sm){var ee=D.h;ee.g||Sm.indexOf("spdy")==-1&&Sm.indexOf("quic")==-1&&Sm.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Kt(ee,ee.h),ee.h=null))}if(D.G){const tb=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;tb&&(D.wa=tb,ae(D.J,D.G,tb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var Ce=p;if(D.na=tP(D,D.L?D.ba:null,D.W),Ce.L){tr(D.h,Ce);var gt=Ce,Hn=D.O;Hn&&(gt.H=Hn),gt.D&&(G(gt),Ve(gt)),D.g=Ce}else XA(D);I.i.length>0&&xm(I)}else Xt[0]!="stop"&&Xt[0]!="close"||Al(I,7);else I.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Al(I,7):lf(I):Xt[0]!="noop"&&I.l&&I.l.qa(Xt),I.A=0)}}pr(4)}catch{}}var ge=class{constructor(p,A){this.g=p,this.map=A}};function qe(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function jt(p){return p.h?1:p.g?p.g.size:0}function Rt(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Kt(p,A){p.g?p.g.add(A):p.h=A}function tr(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}qe.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function nr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const I of p.g.values())A=A.concat(I.G);return A}return m(p.i)}var It=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(p,A){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let Y,ee=null;D>=0?(Y=p[I].substring(0,D),ee=p[I].substring(D+1)):Y=p[I],A(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function L(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;p instanceof L?(this.l=p.l,Q(this,p.j),this.o=p.o,this.g=p.g,J(this,p.u),this.h=p.h,ue(this,Zt(p.i)),this.m=p.m):p&&(A=String(p).match(It))?(this.l=!1,Q(this,A[1]||"",!0),this.o=ye(A[2]||""),this.g=ye(A[3]||"",!0),J(this,A[4]),this.h=ye(A[5]||"",!0),ue(this,A[6]||"",!0),this.m=ye(A[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}L.prototype.toString=function(){const p=[];var A=this.j;A&&p.push(Ee(A,Oe,!0),":");var I=this.g;return(I||A=="file")&&(p.push("//"),(A=this.o)&&p.push(Ee(A,Oe,!0),"@"),p.push(mi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Ee(I,I.charAt(0)=="/"?on:ft,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Ee(I,Fi)),p.join("")},L.prototype.resolve=function(p){const A=K(this);let I=!!p.j;I?Q(A,p.j):I=!!p.o,I?A.o=p.o:I=!!p.g,I?A.g=p.g:I=p.u!=null;var D=p.h;if(I)J(A,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=A.h.lastIndexOf("/");Y!=-1&&(D=A.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let Ce=0;Ce<Y.length;){const gt=Y[Ce++];gt=="."?D&&Ce==Y.length&&ee.push(""):gt==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&Ce==Y.length&&ee.push("")):(ee.push(gt),D=!0)}D=ee.join("/")}else D=Y}return I?A.h=D:I=p.i.toString()!=="",I?ue(A,Zt(p.i)):I=!!p.m,I&&(A.m=p.m),A};function K(p){return new L(p)}function Q(p,A,I){p.j=I?ye(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function J(p,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);p.u=A}else p.u=null}function ue(p,A,I){A instanceof mr?(p.i=A,Q0(p.i,p.l)):(I||(A=Ee(A,Wn)),p.i=new mr(A,p.l))}function ae(p,A,I){p.i.set(A,I)}function te(p){return ae(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ye(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ee(p,A,I){return typeof p=="string"?(p=encodeURI(p).replace(A,Se),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Se(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Oe=/[#\/\?@]/g,ft=/[#\?:]/g,on=/[#\?]/g,Wn=/[#\?@]/g,Fi=/#/g;function mr(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function yi(p){p.g||(p.g=new Map,p.h=0,p.i&&M(p.i,function(A,I){p.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=mr.prototype,t.add=function(p,A){yi(this),this.i=null,p=ii(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(A),this.h+=1,this};function Ts(p,A){yi(p),A=ii(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function rf(p,A){return yi(p),A=ii(p,A),p.g.has(A)}t.forEach=function(p,A){yi(this),this.g.forEach(function(I,D){I.forEach(function(Y){p.call(A,Y,D,this)},this)},this)};function of(p,A){yi(p);let I=[];if(typeof A=="string")rf(p,A)&&(I=I.concat(p.g.get(ii(p,A))));else for(p=Array.from(p.g.values()),A=0;A<p.length;A++)I=I.concat(p[A]);return I}t.set=function(p,A){return yi(this),this.i=null,p=ii(this,p),rf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=of(this,p),p.length>0?String(p[0]):A):A};function sf(p,A,I){Ts(p,A),I.length>0&&(p.i=null,p.g.set(ii(p,A),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(let D=0;D<A.length;D++){var I=A[D];const Y=mi(I);I=of(this,I);for(let ee=0;ee<I.length;ee++){let Ce=Y;I[ee]!==""&&(Ce+="="+mi(I[ee])),p.push(Ce)}}return this.i=p.join("&")};function Zt(p){const A=new mr;return A.i=p.i,p.g&&(A.g=new Map(p.g),A.h=p.h),A}function ii(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function Q0(p,A){A&&!p.j&&(yi(p),p.i=null,p.g.forEach(function(I,D){const Y=D.toLowerCase();D!=Y&&(Ts(this,D),sf(this,Y,I))},p)),p.j=A}function J0(p,A){const I=new xn;if(s.Image){const D=new Image;D.onload=d(co,I,"TestLoadImage: loaded",!0,A,D),D.onerror=d(co,I,"TestLoadImage: error",!1,A,D),D.onabort=d(co,I,"TestLoadImage: abort",!1,A,D),D.ontimeout=d(co,I,"TestLoadImage: timeout",!1,A,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else A(!1)}function gm(p,A){const I=new xn,D=new AbortController,Y=setTimeout(()=>{D.abort(),co(I,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:D.signal}).then(ee=>{clearTimeout(Y),ee.ok?co(I,"TestPingServer: ok",!0,A):co(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),co(I,"TestPingServer: error",!1,A)})}function co(p,A,I,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(I)}catch{}}function ym(){this.g=new Ht}function Mt(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Mt,gn),Mt.prototype.g=function(){return new bn(this.i,this.h)};function bn(p,A){_e.call(this),this.H=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bn,_e),t=bn.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=A,this.readyState=1,vi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(A.body=p),(this.H||s).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?oi(this):vi(this),this.readyState==3&&uo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,oi(this))},t.Na=function(p){this.g&&(this.response=p,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,vi(p)}t.setRequestHeader=function(p,A){this.A.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=A.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function xi(p){let A="";return W(p,function(I,D){A+=D,A+=":",A+=I,A+=`\r
`}),A}function Yt(p,A,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=xi(I),typeof p=="string"?I!=null&&mi(I):ae(p,A,I))}function Je(p){_e.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Je,_e);var mt=/^https?$/i,fo=["POST","PUT"];t=Je.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,A,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ri.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(ee){gr(this,ee);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)I.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())I.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(fo,A,void 0)>=0)||D||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ce]of I)this.g.setRequestHeader(ee,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ee){gr(this,ee)}};function gr(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.o=5,Ir(p),ga(p)}function Ir(p){p.A||(p.A=!0,Pe(p,"complete"),Pe(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Pe(this,"complete"),Pe(this,"abort"),ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?si(this):this.Xa())},t.Xa=function(){si(this)};function si(p){if(p.h&&typeof o<"u"){if(p.v&&Cs(p)==4)setTimeout(p.Ca.bind(p),0);else if(Pe(p,"readystatechange"),Cs(p)==4){p.h=!1;try{const ee=p.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var D;if(D=ee===0){let Ce=String(p.D).match(It)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),D=!mt.test(Ce?Ce.toLowerCase():"")}I=D}if(I)Pe(p,"complete"),Pe(p,"success");else{p.o=6;try{var Y=Cs(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",Ir(p)}}finally{ga(p)}}}}function ga(p,A){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,A||Pe(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),mn(A)}};function af(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Tl(p){const A={};p=(p.g&&Cs(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=pa(p[D]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=A[Y]||[];A[Y]=ee,ee.push(I)}ne(A,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(p,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||A}function vm(p){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wo("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wo("baseRetryDelayMs",5e3,p),this.Za=Wo("retryDelaySeedMs",1e4,p),this.Ta=Wo("forwardChannelMaxRetries",2,p),this.va=Wo("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(p&&p.concurrentRequestLimit),this.Ba=new ym,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vm.prototype,t.ka=8,t.I=1,t.connect=function(p,A,I,D){Gt(0),this.W=p,this.H=A||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=tP(this,null,this.W),xm(this)};function lf(p){if(GA(p),p.I==3){var A=p.V++,I=K(p.J);if(ae(I,"SID",p.M),ae(I,"RID",A),ae(I,"TYPE","terminate"),cf(p,I),A=new jr(p,p.j,A),A.M=2,A.A=te(K(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(A.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=A.A,I=!0),I||(A.g=nP(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ve(A)}eP(p)}function Cl(p){p.g&&(eb(p),p.g.cancel(),p.g=null)}function GA(p){Cl(p),p.v&&(s.clearTimeout(p.v),p.v=null),bm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function xm(p){if(!We(p.h)&&!p.m){p.m=!0;var A=p.Ea;E||T(),P||(E(),P=!0),_.add(A,p),p.D=0}}function N9(p,A){return jt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=A.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=zn(u(p.Ea,p,A),ZA(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new jr(this,this.j,p);let ee=this.o;if(this.U&&(ee?(ee=X(ee),le(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,A>4096){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=YA(this,Y,A),I=K(this.J),ae(I,"RID",p),ae(I,"CVER",22),this.G&&ae(I,"X-HTTP-Session-Id",this.G),cf(this,I),ee&&(this.R?A="headers="+mi(xi(ee))+"&"+A:this.u&&Yt(I,this.u,ee)),Kt(this.h,Y),this.Ra&&ae(I,"TYPE","init"),this.S?(ae(I,"$req",A),ae(I,"SID","null"),Y.U=!0,Mn(Y,I,null)):Mn(Y,I,A),this.I=2}}else this.I==3&&(p?KA(this,p):this.i.length==0||We(this.h)||KA(this))};function KA(p,A){var I;A?I=A.l:I=p.V++;const D=K(p.J);ae(D,"SID",p.M),ae(D,"RID",I),ae(D,"AID",p.K),cf(p,D),p.u&&p.o&&Yt(D,p.u,p.o),I=new jr(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),A&&(p.i=A.G.concat(p.i)),A=YA(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Kt(p.h,I),Mn(I,D,A)}function cf(p,A){p.H&&W(p.H,function(I,D){ae(A,D,I)}),p.l&&W({},function(I,D){ae(A,D,I)})}function YA(p,A,I){I=Math.min(p.i.length,I);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var Y=p.i;let gt=-1;for(;;){const Hn=["count="+I];gt==-1?I>0?(gt=Y[0].g,Hn.push("ofs="+gt)):gt=0:Hn.push("ofs="+gt);let Xt=!0;for(let rr=0;rr<I;rr++){var ee=Y[rr].g;const Ho=Y[rr].map;if(ee-=gt,ee<0)gt=Math.max(0,Y[rr].g-100),Xt=!1;else try{ee="req"+ee+"_"||"";try{var Ce=Ho instanceof Map?Ho:Object.entries(Ho);for(const[Pl,ya]of Ce){let va=ya;a(ya)&&(va=pn(ya)),Hn.push(ee+Pl+"="+encodeURIComponent(va))}}catch(Pl){throw Hn.push(ee+"type="+encodeURIComponent("_badmap")),Pl}}catch{D&&D(Ho)}}if(Xt){Ce=Hn.join("&");break e}}Ce=void 0}return p=p.i.splice(0,I),A.G=p,Ce}function XA(p){if(!p.g&&!p.v){p.Y=1;var A=p.Da;E||T(),P||(E(),P=!0),_.add(A,p),p.A=0}}function Z0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=zn(u(p.Da,p),ZA(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,QA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=zn(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Cl(this),QA(this))};function eb(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function QA(p){p.g=new jr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var A=K(p.na);ae(A,"RID","rpc"),ae(A,"SID",p.M),ae(A,"AID",p.K),ae(A,"CI",p.F?"0":"1"),!p.F&&p.ia&&ae(A,"TO",p.ia),ae(A,"TYPE","xmlhttp"),cf(p,A),p.u&&p.o&&Yt(A,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=te(K(A)),I.u=null,I.R=!0,H(I,p)}t.Va=function(){this.C!=null&&(this.C=null,Cl(this),Z0(this),Gt(19))};function bm(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function JA(p,A){var I=null;if(p.g==A){bm(p),eb(p),p.g=null;var D=2}else if(Rt(p.h,A))I=A.G,tr(p.h,A),D=1;else return;if(p.I!=0){if(A.o)if(D==1){I=A.u?A.u.length:0,A=Date.now()-A.F;var Y=p.D;D=qt(),Pe(D,new er(D,I)),xm(p)}else XA(p);else if(Y=A.m,Y==3||Y==0&&A.X>0||!(D==1&&N9(p,A)||D==2&&Z0(p)))switch(I&&I.length>0&&(A=p.h,A.i=A.i.concat(I)),Y){case 1:Al(p,5);break;case 4:Al(p,10);break;case 3:Al(p,6);break;default:Al(p,2)}}}function ZA(p,A){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*A}function Al(p,A){if(p.j.info("Error code "+A),A==2){var I=u(p.bb,p),D=p.Ua;const Y=!D;D=new L(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Q(D,"https"),te(D),Y?J0(D.toString(),I):gm(D.toString(),I)}else Gt(2);p.I=0,p.l&&p.l.pa(A),eP(p),GA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function eP(p){if(p.I=0,p.ja=[],p.l){const A=nr(p.h);(A.length!=0||p.i.length!=0)&&(y(p.ja,A),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function tP(p,A,I){var D=I instanceof L?K(I):new L(I);if(D.g!="")A&&(D.g=A+"."+D.g),J(D,D.u);else{var Y=s.location;D=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new L(null);D&&Q(ee,D),A&&(ee.g=A),Y&&J(ee,Y),I&&(ee.h=I),D=ee}return I=p.G,A=p.wa,I&&A&&ae(D,I,A),ae(D,"VER",p.ka),cf(p,D),D}function nP(p,A,I){if(A&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Aa&&!p.ma?new Je(new Mt({ab:I})):new Je(p.ma),A.Fa(p.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rP(){}t=rP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wm(){}wm.prototype.g=function(p,A){return new bi(p,A)};function bi(p,A){_e.call(this),this.g=new vm(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(p?p["X-WebChannel-Client-Profile"]=A.sa:p={"X-WebChannel-Client-Profile":A.sa}),this.g.U=p,(p=A&&A.Qb)&&!O(p)&&(this.g.u=p),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!O(A)&&(this.g.G=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Mc(this)}f(bi,_e),bi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bi.prototype.close=function(){lf(this.g)},bi.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=pn(p),p=I);A.i.push(new ge(A.Ya++,p)),A.I==3&&xm(A)},bi.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,bi.Z.N.call(this)};function iP(p){Hr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const I in A){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}f(iP,Hr);function oP(){hr.call(this),this.status=1}f(oP,hr);function Mc(p){this.g=p}f(Mc,rP),Mc.prototype.ra=function(){Pe(this.g,"a")},Mc.prototype.qa=function(p){Pe(this.g,new iP(p))},Mc.prototype.pa=function(p){Pe(this.g,new oP)},Mc.prototype.oa=function(){Pe(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,bi.prototype.send=bi.prototype.o,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,z4=function(){return new wm},U4=function(){return qt()},B4=Pr,X1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,Ug=lo,Li.COMPLETE="complete",V4=Li,Ft.EventType=Ge,Ge.OPEN="a",Ge.CLOSE="b",Ge.ERROR="c",Ge.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Mf=Ft,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,F4=Je}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});const Tj="@firebase/firestore",Cj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new yT("@firebase/firestore");function Hc(){return mc.logLevel}function Re(t,...e){if(mc.logLevel<=wt.DEBUG){const n=e.map(jT);mc.debug(`Firestore (${$d}): ${t}`,...n)}}function na(t,...e){if(mc.logLevel<=wt.ERROR){const n=e.map(jT);mc.error(`Firestore (${$d}): ${t}`,...n)}}function Ju(t,...e){if(mc.logLevel<=wt.WARN){const n=e.map(jT);mc.warn(`Firestore (${$d}): ${t}`,...n)}}function jT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W4(t,r,n)}function W4(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw na(r),new Error(r)}function Lt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||W4(e,i,r)}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lr.UNAUTHENTICATED))}shutdown(){}}class SQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _Q{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string",31837,{l:r}),new H4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Lr(e)}}class EQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ao(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Lt(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Aj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Aj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=AQ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function Q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Hb(i)===Hb(o)?_t(i,o):Hb(i)?1:-1}return _t(t.length,e.length)}const PQ=55296,NQ=57343;function Hb(t){const e=t.charCodeAt(0);return e>=PQ&&e<=NQ}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="__name__";class Yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ot(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Yo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return _t(e.length,n.length)}static compareSegments(e,n){const r=Yo.isNumericId(e),i=Yo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yo.extractNumericId(e).compare(Yo.extractNumericId(n)):Q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class _n extends Yo{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const jQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends Yo{construct(e,n,r){return new br(e,n,r)}static isValidIdentifier(e){return jQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pj}static keyField(){return new br([Pj])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ze(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ze(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ze(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(n)}static emptyPath(){return new br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(_n.fromString(e))}static fromName(e){return new rt(_n.fromString(e).popFirst(5))}static empty(){return new rt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t,e,n){if(!n)throw new Ze(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kQ(t,e,n,r){if(e===!0&&r===!0)throw new Ze(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nj(t){if(!rt.isDocumentKey(t))throw new Ze(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function Bh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kT(t);throw new Ze(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zp(t,e){if(!q4(t))throw new Ze(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ze(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=-62135596800,Ij=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ij);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jj)throw new Ze(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ij}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zp(e,dn._jsonSchema))return new dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:Fn("string",dn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new dn(0,0))}static max(){return new ut(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function OQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new cl(i,rt.empty(),e)}function RQ(t){return new cl(t.readTime,t.key,Uh)}class cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cl(ut.min(),rt.empty(),Uh)}static max(){return new cl(ut.max(),rt.empty(),Uh)}}function MQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $Q{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==DQ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new fe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function LQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=-1;function $x(t){return t==null}function Ly(t){return t===0&&1/t==-1/0}function FQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Ly(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="";function VQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kj(e)),e=BQ(t.get(n),e);return kj(e)}function BQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case G4:n+="";break;default:n+=o}}return n}function kj(t){return t+G4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=o??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rj(this.data.getIterator())}getIteratorFrom(e){return new Rj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class Rj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new jo([])}unionWith(e){let n=new Jn(br.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Y4("Invalid base64 string: "+o):o}}(e);return new Cr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const UQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(Lt(!!t,39018),typeof t=="string"){let e=0;const n=UQ.exec(t);if(Lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?Cr.fromBase64String(t):Cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="server_timestamp",Q4="__type__",J4="__previous_value__",Z4="__local_write_time__";function RT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Q4])==null?void 0:r.stringValue)===X4}function Lx(t){const e=t.mapValue.fields[J4];return RT(e)?Lx(e):e}function zh(t){const e=ul(t.mapValue.fields[Z4].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n,r,i,o,s,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Fy="(default)";class Wh{constructor(e,n){this.projectId=e,this.database=n||Fy}static empty(){return new Wh("","")}get isDefaultDatabase(){return this.database===Fy}isEqual(e){return e instanceof Wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="__type__",t3="__max__",Xm={mapValue:{fields:{__type__:{stringValue:t3}}}},n3="__vector__",Vy="value";function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RT(t)?4:HQ(t)?9007199254740991:WQ(t)?10:11:ot(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=fl(t);if(n!==fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ul(i.timestampValue),a=ul(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return dl(i.bytesValue).isEqual(dl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return In(i.geoPointValue.latitude)===In(o.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return In(i.integerValue)===In(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=In(i.doubleValue),a=In(o.doubleValue);return s===a?Ly(s)===Ly(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Oj(s)!==Oj(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ys(s[l],a[l])))return!1;return!0}(t,e);default:return ot(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find(n=>ys(n,e))!==void 0}function ed(t,e){if(t===e)return 0;const n=fl(t),r=fl(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=In(o.integerValue||o.doubleValue),l=In(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Mj(t.timestampValue,e.timestampValue);case 4:return Mj(zh(t),zh(e));case 5:return Q1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=dl(o),l=dl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=_t(a[u],l[u]);if(d!==0)return d}return _t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=_t(In(o.latitude),In(s.latitude));return a!==0?a:_t(In(o.longitude),In(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,y,g;const a=o.fields||{},l=s.fields||{},u=(h=a[Vy])==null?void 0:h.arrayValue,d=(m=l[Vy])==null?void 0:m.arrayValue,f=_t(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Dj(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xm.mapValue&&s===Xm.mapValue)return 0;if(o===Xm.mapValue)return 1;if(s===Xm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Q1(l[f],d[f]);if(h!==0)return h;const m=ed(a[l[f]],u[d[f]]);if(m!==0)return m}return _t(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ot(23264,{he:n})}}function Mj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=ul(t),r=ul(e),i=_t(n.seconds,r.seconds);return i!==0?i:_t(n.nanos,r.nanos)}function Dj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ed(n[i],r[i]);if(o)return o}return _t(n.length,r.length)}function td(t){return J1(t)}function J1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=J1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${J1(n.fields[s])}`;return i+"}"}(t.mapValue):ot(61005,{value:t})}function zg(t){switch(fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lx(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return dl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ac(r.fields,(o,s)=>{i+=o.length+zg(s)}),i}(t.mapValue);default:throw ot(13486,{value:t})}}function Z1(t){return!!t&&"integerValue"in t}function MT(t){return!!t&&"arrayValue"in t}function $j(t){return!!t&&"nullValue"in t}function Lj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function WQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[e3])==null?void 0:r.stringValue)===n3}function nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return{...t}}function HQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=br.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ac(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qi(nh(this.value))}}function r3(t){const e=[];return Ac(t.fields,(n,r)=>{const i=new br([n]);if(Wg(r)){const o=r3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new jo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Vr(e,0,ut.min(),ut.min(),ut.min(),qi.empty(),0)}static newFoundDocument(e,n,r,i){return new Vr(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new Vr(e,2,n,ut.min(),ut.min(),qi.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,ut.min(),ut.min(),qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.position=e,this.inclusive=n}}function Fj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=rt.comparator(rt.fromName(s.referenceValue),n.key):r=ed(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n="asc"){this.field=e,this.dir=n}}function qQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{}class Yn extends i3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KQ(e,n,r):n==="array-contains"?new QQ(e,r):n==="in"?new JQ(e,r):n==="not-in"?new ZQ(e,r):n==="array-contains-any"?new eJ(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YQ(e,r):new XQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ed(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(ed(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends i3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vs(e,n)}matches(e){return o3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o3(t){return t.op==="and"}function s3(t){return GQ(t)&&o3(t)}function GQ(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function eS(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+td(t.value);if(s3(t))return t.filters.map(e=>eS(e)).join(",");{const e=t.filters.map(n=>eS(n)).join(",");return`${t.op}(${e})`}}function a3(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&ys(r.value,i.value)}(t,e):t instanceof vs?function(r,i){return i instanceof vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&a3(s,i.filters[a]),!0):!1}(t,e):void ot(19439)}function l3(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${td(n.value)}`}(t):t instanceof vs?function(n){return n.op.toString()+" {"+n.getFilters().map(l3).join(" ,")+"}"}(t):"Filter"}class KQ extends Yn{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class YQ extends Yn{constructor(e,n){super(e,"in",n),this.keys=c3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XQ extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=c3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class QQ extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return MT(n)&&Hh(n.arrayValue,this.value)}}class JQ extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class ZQ extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class eJ extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!MT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Bj(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tJ(t,e,n,r,i,o,s)}function DT(t){const e=dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>td(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>td(r)).join(",")),e.Te=n}return e.Te}function $T(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vj(t.startAt,e.startAt)&&Vj(t.endAt,e.endAt)}function tS(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nJ(t,e,n,r,i,o,s,a){return new Fx(t,e,n,r,i,o,s,a)}function LT(t){return new Fx(t)}function Uj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rJ(t){return t.collectionGroup!==null}function rh(t){const e=dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jn(br.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Uy(o,r))}),n.has(br.keyField().canonicalString())||e.Ie.push(new Uy(br.keyField(),r))}return e.Ie}function cs(t){const e=dt(t);return e.Ee||(e.Ee=iJ(e,rh(t))),e.Ee}function iJ(t,e){if(t.limitType==="F")return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Uy(i.field,o)});const n=t.endAt?new By(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new By(t.startAt.position,t.startAt.inclusive):null;return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nS(t,e,n){return new Fx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vx(t,e){return $T(cs(t),cs(e))&&t.limitType===e.limitType}function u3(t){return`${DT(cs(t))}|lt:${t.limitType}`}function qc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>l3(i)).join(", ")}]`),$x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>td(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>td(i)).join(",")),`Target(${r})`}(cs(t))}; limitType=${t.limitType})`}function Bx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Fj(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,rh(r),i)||r.endAt&&!function(s,a,l){const u=Fj(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,rh(r),i))}(t,e)}function oJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d3(t){return(e,n)=>{let r=!1;for(const i of rh(t)){const o=sJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function sJ(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ed(l,u):ot(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return K4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=new An(rt.comparator);function ra(){return aJ}const f3=new An(rt.comparator);function Df(...t){let e=f3;for(const n of t)e=e.insert(n.key,n);return e}function h3(t){let e=f3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zl(){return ih()}function p3(){return ih()}function ih(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const lJ=new An(rt.comparator),cJ=new Jn(rt.comparator);function Et(...t){let e=cJ;for(const n of t)e=e.add(n);return e}const uJ=new Jn(_t);function dJ(){return uJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ly(e)?"-0":e}}function m3(t){return{integerValue:""+t}}function fJ(t,e){return FQ(e)?m3(e):FT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this._=void 0}}function hJ(t,e,n){return t instanceof qh?function(i,o){const s={fields:{[Q4]:{stringValue:X4},[Z4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&RT(o)&&(o=Lx(o)),o&&(s.fields[J4]=o),{mapValue:s}}(n,e):t instanceof Gh?y3(t,e):t instanceof Kh?v3(t,e):function(i,o){const s=g3(i,o),a=zj(s)+zj(i.Ae);return Z1(s)&&Z1(i.Ae)?m3(a):FT(i.serializer,a)}(t,e)}function pJ(t,e,n){return t instanceof Gh?y3(t,e):t instanceof Kh?v3(t,e):n}function g3(t,e){return t instanceof zy?function(r){return Z1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class qh extends Ux{}class Gh extends Ux{constructor(e){super(),this.elements=e}}function y3(t,e){const n=x3(e);for(const r of t.elements)n.some(i=>ys(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kh extends Ux{constructor(e){super(),this.elements=e}}function v3(t,e){let n=x3(e);for(const r of t.elements)n=n.filter(i=>!ys(i,r));return{arrayValue:{values:n}}}class zy extends Ux{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zj(t){return In(t.integerValue||t.doubleValue)}function x3(t){return MT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,n){this.field=e,this.transform=n}}function gJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Kh&&i instanceof Kh?Zu(r.elements,i.elements,ys):r instanceof zy&&i instanceof zy?ys(r.Ae,i.Ae):r instanceof qh&&i instanceof qh}(t.transform,e.transform)}class yJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zx{}function b3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S3(t.key,Ws.none()):new em(t.key,t.data,Ws.none());{const n=t.data,r=qi.empty();let i=new Jn(br.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nc(t.key,r,new jo(i.toArray()),Ws.none())}}function vJ(t,e,n){t instanceof em?function(i,o,s){const a=i.value.clone(),l=Hj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nc?function(i,o,s){if(!Hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Hj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(w3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oh(t,e,n,r){return t instanceof em?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=o.value.clone(),d=qj(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nc?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=qj(o.fieldTransforms,l,s),d=s.data;return d.setAll(w3(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=g3(r.transform,i||null);o!=null&&(n===null&&(n=qi.empty()),n.set(r.field,o))}return n||null}function Wj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(o,s)=>gJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class em extends zx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nc extends zx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function w3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hj(t,e,n){const r=new Map;Lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,pJ(s,a,n[i]))}return r}function qj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hJ(o,s,e))}return r}class S3 extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bJ extends zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=b3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>Wj(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>Wj(n,r))}}class VT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return lJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new VT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Pt;function EJ(t){switch(t){case me.OK:return ot(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function _3(t){if(t===void 0)return na("GRPC error has no .code"),me.UNKNOWN;switch(t){case Dn.OK:return me.OK;case Dn.CANCELLED:return me.CANCELLED;case Dn.UNKNOWN:return me.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return me.INTERNAL;case Dn.UNAVAILABLE:return me.UNAVAILABLE;case Dn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Dn.NOT_FOUND:return me.NOT_FOUND;case Dn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Dn.ABORTED:return me.ABORTED;case Dn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Dn.DATA_LOSS:return me.DATA_LOSS;default:return ot(39323,{code:t})}}(Pt=Dn||(Dn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=new el([4294967295,4294967295],0);function Gj(t){const e=TJ().encode(t),n=new L4;return n.update(e),new Uint8Array(n.digest())}function Kj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new el([n,r],0),new el([i,o],0)]}class BT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $f(`Invalid padding: ${n}`);if(r<0)throw new $f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $f(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(CJ)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gj(e),[r,i]=Kj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new BT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Gj(e),[r,i]=Kj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wx(ut.min(),i,new An(_t),ra(),Et())}}class tm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tm(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class E3{constructor(e,n){this.targetId=e,this.Ce=n}}class T3{constructor(e,n,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Yj{constructor(){this.ve=0,this.Fe=Xj(),this.Me=Cr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),n=Et(),r=Et();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot(38017,{changeType:o})}}),new tm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Xj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=Qm(),this.He=Qm(),this.Ye=new An(_t)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ot(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(tS(o))if(r===0){const s=new rt(o.path);this.et(n,s,Vr.newNoDocument(s,ut.min()))}else Lt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=dl(r).toUint8Array()}catch(l){if(l instanceof Y4)return Ju("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BT(s,i,o)}catch(l){return Ju(l instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&tS(a.target)){const l=new rt(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Vr.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Et();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Wx(e,n,this.Ye,this.je,r);return this.je=ra(),this.Je=Qm(),this.He=Qm(),this.Ye=new An(_t),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(_t),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(_t),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yj),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qm(){return new An(rt.comparator)}function Xj(){return new An(rt.comparator)}const PJ={asc:"ASCENDING",desc:"DESCENDING"},NJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jJ={and:"AND",or:"OR"};class IJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rS(t,e){return t.useProto3Json||$x(e)?e:{value:e}}function Wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kJ(t,e){return Wy(t,e.toTimestamp())}function us(t){return Lt(!!t,49232),ut.fromTimestamp(function(n){const r=ul(n);return new dn(r.seconds,r.nanos)}(t))}function UT(t,e){return iS(t,e).canonicalString()}function iS(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A3(t){const e=_n.fromString(t);return Lt(k3(e),10190,{key:e.toString()}),e}function oS(t,e){return UT(t.databaseId,e.path)}function qb(t,e){const n=A3(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(N3(n))}function P3(t,e){return UT(t.databaseId,e)}function OJ(t){const e=A3(t);return e.length===4?_n.emptyPath():N3(e)}function sS(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N3(t){return Lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qj(t,e,n){return{name:oS(t,e),fields:n.value.mapValue.fields}}function RJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ot(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Lt(d===void 0||typeof d=="string",58123),Cr.fromBase64String(d||"")):(Lt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Cr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?me.UNKNOWN:_3(u.code);return new Ze(d,u.message||"")}(s);n=new T3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qb(t,r.document.name),o=us(r.document.updateTime),s=r.document.createTime?us(r.document.createTime):ut.min(),a=new qi({mapValue:{fields:r.document.fields}}),l=Vr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qg(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qb(t,r.document),o=r.readTime?us(r.readTime):ut.min(),s=Vr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qb(t,r.document),o=r.removedTargetIds||[];n=new qg([],o,i,null)}else{if(!("filter"in e))return ot(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _J(i,o),a=r.targetId;n=new E3(a,s)}}return n}function MJ(t,e){let n;if(e instanceof em)n={update:Qj(t,e.key,e.value)};else if(e instanceof S3)n={delete:oS(t,e.key)};else if(e instanceof Nc)n={update:Qj(t,e.key,e.data),updateMask:WJ(e.fieldMask)};else{if(!(e instanceof bJ))return ot(16599,{Vt:e.type});n={verify:oS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof qh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ot(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:kJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ot(27497)}(t,e.precondition)),n}function DJ(t,e){return t&&t.length>0?(Lt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?us(i.updateTime):us(o);return s.isEqual(ut.min())&&(s=us(o)),new yJ(s,i.transformResults||[])}(n,e))):[]}function $J(t,e){return{documents:[P3(t,e.path)]}}function LJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P3(t,i);const o=function(u){if(u.length!==0)return I3(vs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Gc(h.field),direction:BJ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=rS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function FJ(t){let e=OJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=j3(f);return h instanceof vs&&s3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new Uy(Kc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$x(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new By(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new By(m,h)}(n.endAt)),nJ(e,i,s,o,a,"F",l,u)}function VJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kc(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kc(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Kc(n.unaryFilter.field);return Yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Kc(n.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Kc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vs.create(n.compositeFilter.filters.map(r=>j3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(n.compositeFilter.op))}(t):ot(30097,{filter:t})}function BJ(t){return PJ[t]}function UJ(t){return NJ[t]}function zJ(t){return jJ[t]}function Gc(t){return{fieldPath:t.canonicalString()}}function Kc(t){return br.fromServerFormat(t.fieldPath)}function I3(t){return t instanceof Yn?function(n){if(n.op==="=="){if(Lj(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NAN"}};if($j(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lj(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NOT_NAN"}};if($j(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(n.field),op:UJ(n.op),value:n.value}}}(t):t instanceof vs?function(n){const r=n.getFilters().map(i=>I3(i));return r.length===1?r[0]:{compositeFilter:{op:zJ(n.op),filters:r}}}(t):ot(54877,{filter:t})}function WJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,o=ut.min(),s=ut.min(),a=Cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.yt=e}}function qJ(t){const e=FJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(){this.Cn=new KJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(cl.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(cl.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class KJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(_n.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O3=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(O3,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nd(0)}static cr(){return new nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="LruGarbageCollector",YJ=1048576;function e2([t,e],[n,r]){const i=_t(t,n);return i===0?_t(e,r):i}class XJ{constructor(e){this.Ir=e,this.buffer=new Jn(e2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();e2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Zj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fd(n)?Re(Zj,"Ignoring IndexedDB error during garbage collection: ",n):await Ld(n)}await this.Vr(3e5)})}}class JJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Dx.ce);const r=new XJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Jj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jj):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Hc()<=wt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function ZJ(t,e){return new JJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oh(r.mutation,i,jo.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=zl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Df();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ra();const s=ih(),a=function(){return ih()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Nc)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),oh(d.mutation,u,d.mutation.getFieldMask(),dn.now())):s.set(u.key,jo.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>a.set(u,new tZ(d,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new An((s,a)=>s-a),o=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||jo.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=p3();d.forEach(h=>{if(!o.has(h)){const m=b3(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return rt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(zl());let a=Uh,l=o;return s.next(u=>fe.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Et())).next(d=>({batchId:a,changes:h3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Df();return this.indexManager.getCollectionParents(e,o).next(a=>fe.forEach(a,l=>{const u=function(f,h){return new Fx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Vr.newInvalidDocument(d)))});let a=Df();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&oh(d.mutation,u,jo.empty(),dn.now()),Bx(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:us(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:qJ(i.bundledQuery),readTime:us(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(){this.overlays=new An(rt.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zl();return fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=zl(),o=n.length+1,s=new rt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new An((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=zl(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=zl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SJ(n,r));let o=this.qr.get(n);o===void 0&&(o=Et(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(){this.sessionToken=Cr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Qr=new Jn(or.$r),this.Ur=new Jn(or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new or(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new or(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new rt(new _n([])),r=new or(n,e),i=new or(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new rt(new _n([])),r=new or(n,e),i=new or(n,e+1);let o=Et();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new or(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return rt.comparator(e.key,n.key)||_t(e.Yr,n.Yr)}static Kr(e,n){return _t(e.Yr,n.Yr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(or.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new or(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?OT:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),i=new or(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(_t);return n.forEach(i=>{const o=new or(i,0),s=new or(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;rt.isDocumentKey(o)||(o=o.child(""));const s=new or(new rt(o),0);let a=new Jn(_t);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),fe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,i=>{const o=new or(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new or(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.ri=e,this.docs=function(){return new An(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let r=ra();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vr.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ra();const s=n.path,a=new rt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||MQ(RQ(d),r)<=0||(i.has(d.key)||Bx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ot(9500)}ii(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lZ(this)}getSize(e){return fe.resolve(this.size)}}class lZ extends eZ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.persistence=e,this.si=new Pc(n=>DT(n),$T),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new zT,this.targetCount=0,this.ai=nd.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dx(0),this.li=!1,this.li=!0,this.hi=new oZ,this.referenceDelegate=e(this),this.Pi=new cZ(this),this.indexManager=new GJ,this.remoteDocumentCache=function(i){return new aZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new HJ(n),this.Ii=new rZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new uZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return fe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class uZ extends $Q{constructor(e){super(),this.currentSequenceNumber=e}}class WT{constructor(e){this.persistence=e,this.Ri=new zT,this.Vi=null}static mi(e){return new WT(e)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,r=>{const i=rt.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hy{constructor(e,n){this.persistence=e,this.pi=new Pc(r=>VQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZJ(this,n)}static mi(e,n){return new Hy(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return fe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Et(),i=Et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new HT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return tK()?8:LQ(Wr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new dZ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hc()<=wt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",qc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Hc()<=wt.DEBUG&&Re("QueryEngine","Query:",qc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hc()<=wt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",qc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):fe.resolve())}ys(e,n){if(Uj(n))return fe.resolve(null);let r=cs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nS(n,null,"F"),r=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Et(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,nS(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Uj(n)||i.isEqual(ut.min())?fe.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?fe.resolve(null):(Hc()<=wt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qc(n)),this.vs(e,s,n,OQ(i,Uh)).next(a=>a))})}Ds(e,n){let r=new Jn(d3(e));return n.forEach((i,o)=>{Bx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Hc()<=wt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",qc(n)),this.ps.getDocumentsMatchingQuery(e,n,cl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LocalStore",hZ=3e8;class pZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new An(_t),this.xs=new Pc(o=>DT(o),$T),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function mZ(t,e,n,r){return new pZ(t,e,n,r)}async function M3(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Et();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function gZ(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=fe.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=u.docVersions.get(y);Lt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Et();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D3(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yZ(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Cr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=hZ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=ra(),u=Et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(vZ(o,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ut.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return fe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function vZ(t,e,n){let r=Et(),i=Et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ra();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ut.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Re(qT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function xZ(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=OT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bZ(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Fa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function aS(t,e,n){const r=dt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Fd(s))throw s;Re(qT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function t2(t,e,n){const r=dt(t);let i=ut.min(),o=Et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=dt(l),h=f.xs.get(d);return h!==void 0?fe.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,s,cs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ut.min(),n?o:Et())).next(a=>(wZ(r,oJ(e),a),{documents:a,Qs:o})))}function wZ(t,e,n){let r=t.Os.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class n2{constructor(){this.activeTargetIds=dJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SZ{constructor(){this.Mo=new n2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new n2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="ConnectivityMonitor";class i2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(r2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(r2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function lS(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="RestConnection",EZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Fy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=lS(),a=this.zo(e,n.toUriEncodedString());Re(Gb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),d=Rd(u);return this.Jo(e,a,l,r,d).then(f=>(Re(Gb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ju(Gb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=EZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class AZ extends TZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=lS();return new Promise((a,l)=>{const u=new F4;u.setWithCredentials(!0),u.listenOnce(V4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ug.NO_ERROR:const f=u.getResponseJson();Re(Mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ug.TIMEOUT:Re(Mr,`RPC '${e}' ${s} timed out`),l(new Ze(me.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const h=u.getStatus();if(Re(Mr,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(y.status);l(new Ze(g,y.message))}else l(new Ze(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ze(me.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Re(Mr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Re(Mr,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=lS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=z4(),a=U4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Re(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const y=new CZ({Yo:v=>{m?Re(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Re(Mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Re(Mr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,x,w)=>{v.listen(x,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Mf.EventType.OPEN,()=>{m||(Re(Mr,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Mf.EventType.CLOSE,()=>{m||(m=!0,Re(Mr,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Mf.EventType.ERROR,v=>{m||(m=!0,Ju(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new Ze(me.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mf.EventType.MESSAGE,v=>{var x;if(!m){const w=v.data[0];Lt(!!w,16349);const S=w,C=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(C){Re(Mr,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let P=function(N){const k=Dn[N];if(k!==void 0)return _3(k)}(E),_=C.message;P===void 0&&(P=me.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),m=!0,y.a_(new Ze(P,_)),f.close()}else Re(Mr,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),g(a,B4.STAT_EVENT,v=>{v.stat===X1.PROXY?Re(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===X1.NOPROXY&&Re(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){return new IJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="PersistentStream";class L3{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ze(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Re(o2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Re(o2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PZ extends L3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ut.min():s.readTime?us(s.readTime):ut.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=tS(l)?{documents:$J(o,l)}:{query:LJ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=C3(o,s.resumeToken);const u=rS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ut.min())>0){a.readTime=Wy(o,s.snapshotVersion.toTimestamp());const u=rS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=VJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sS(this.serializer),n.removeTarget=e,this.q_(n)}}class NZ extends L3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DJ(e.writeResults,e.commitTime),r=us(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{}class IZ extends jZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ze(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,iS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(me.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,iS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(me.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="RemoteStore";class OZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{jc(this)&&(Re(gc,"Restarting streams for network reachability change."),await async function(l){const u=dt(l);u.Ea.add(4),await nm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await qx(u)}(this))})}),this.Ra=new kZ(r,i)}}async function qx(t){if(jc(t))for(const e of t.da)await e(!0)}async function nm(t){for(const e of t.da)await e(!1)}function F3(t,e){const n=dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),XT(n)?YT(n):Vd(n).O_()&&KT(n,e))}function GT(t,e){const n=dt(t),r=Vd(n);n.Ia.delete(e),r.O_()&&V3(n,e),n.Ia.size===0&&(r.O_()?r.L_():jc(n)&&n.Ra.set("Unknown"))}function KT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vd(t).Y_(e)}function V3(t,e){t.Va.Ue(e),Vd(t).Z_(e)}function YT(t){t.Va=new AJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vd(t).start(),t.Ra.ua()}function XT(t){return jc(t)&&!Vd(t).x_()&&t.Ia.size>0}function jc(t){return dt(t).Ea.size===0}function B3(t){t.Va=void 0}async function RZ(t){t.Ra.set("Online")}async function MZ(t){t.Ia.forEach((e,n)=>{KT(t,e)})}async function DZ(t,e){B3(t),XT(t)?(t.Ra.ha(e),YT(t)):t.Ra.set("Unknown")}async function $Z(t,e,n){if(t.Ra.set("Online"),e instanceof T3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Re(gc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qy(t,r)}else if(e instanceof qg?t.Va.Ze(e):e instanceof E3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ut.min()))try{const r=await D3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Cr.EMPTY_BYTE_STRING,d.snapshotVersion)),V3(o,l);const f=new Fa(d.target,l,u,d.sequenceNumber);KT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Re(gc,"Failed to raise snapshot:",r),await qy(t,r)}}async function qy(t,e,n){if(!Fd(e))throw e;t.Ea.add(1),await nm(t),t.Ra.set("Offline"),n||(n=()=>D3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(gc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qx(t)})}function U3(t,e){return e().catch(n=>qy(t,n,e))}async function Gx(t){const e=dt(t),n=hl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:OT;for(;LZ(e);)try{const i=await xZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,FZ(e,i)}catch(i){await qy(e,i)}z3(e)&&W3(e)}function LZ(t){return jc(t)&&t.Ta.length<10}function FZ(t,e){t.Ta.push(e);const n=hl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function z3(t){return jc(t)&&!hl(t).x_()&&t.Ta.length>0}function W3(t){hl(t).start()}async function VZ(t){hl(t).ra()}async function BZ(t){const e=hl(t);for(const n of t.Ta)e.ea(n.mutations)}async function UZ(t,e,n){const r=t.Ta.shift(),i=VT.from(r,e,n);await U3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gx(t)}async function zZ(t,e){e&&hl(t).X_&&await async function(r,i){if(function(s){return EJ(s)&&s!==me.ABORTED}(i.code)){const o=r.Ta.shift();hl(r).B_(),await U3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gx(r)}}(t,e),z3(t)&&W3(t)}async function s2(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),Re(gc,"RemoteStore received new credentials");const r=jc(n);n.Ea.add(3),await nm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qx(n)}async function WZ(t,e){const n=dt(t);e?(n.Ea.delete(2),await qx(n)):e||(n.Ea.add(2),await nm(n),n.Ra.set("Unknown"))}function Vd(t){return t.ma||(t.ma=function(n,r,i){const o=dt(n);return o.sa(),new PZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:RZ.bind(null,t),t_:MZ.bind(null,t),r_:DZ.bind(null,t),H_:$Z.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),XT(t)?YT(t):t.Ra.set("Unknown")):(await t.ma.stop(),B3(t))})),t.ma}function hl(t){return t.fa||(t.fa=function(n,r,i){const o=dt(n);return o.sa(),new NZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VZ.bind(null,t),r_:zZ.bind(null,t),ta:BZ.bind(null,t),na:UZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gx(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(gc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new QT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JT(t,e){if(na("AsyncQueue",`${e}: ${t}`),Fd(t))return new Ze(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{static emptySet(e){return new Eu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ga=new An(rt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ot(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class rd{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new rd(e,n,Eu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qZ{constructor(){this.queries=l2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=l2(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ze(me.ABORTED,"Firestore shutting down"))}}function l2(){return new Pc(t=>u3(t),Vx)}async function GZ(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new HZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=JT(s,`Initialization of query '${qc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&ZT(n)}async function KZ(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YZ(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&ZT(n)}function XZ(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function ZT(t){t.Ca.forEach(e=>{e.next()})}var cS,c2;(c2=cS||(cS={})).Ma="default",c2.Cache="cache";class QZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.key=e}}class q3{constructor(e){this.key=e}}class JZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=d3(e),this.tu=new Eu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new a2,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Bx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:v})}};return g(m)-g(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new rd(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Et(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new q3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new H3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eC="SyncEngine";class ZZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eee{constructor(e){this.key=e,this.hu=!1}}class tee{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Pc(a=>u3(a),Vx),this.Iu=new Map,this.Eu=new Set,this.du=new An(rt.comparator),this.Au=new Map,this.Ru=new zT,this.Vu={},this.mu=new Map,this.fu=nd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nee(t,e,n=!0){const r=J3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await G3(r,e,n,!0),i}async function ree(t,e){const n=J3(t);await G3(n,e,!0,!1)}async function G3(t,e,n,r){const i=await bZ(t.localStore,cs(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await iee(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&F3(t.remoteStore,i),a}async function iee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,x,w){let S=v.view.ru(x);S.Cs&&(S=await t2(g.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,S)));const C=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(S,g.isPrimaryClient,C,E);return d2(g,v.targetId,P.au),P.snapshot}(t,f,h,m);const o=await t2(t.localStore,e,!0),s=new JZ(e,o.Qs),a=s.ru(o.documents),l=tm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);d2(t,n,u.au);const d=new ZZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function oee(t,e,n){const r=dt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Vx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&GT(r.remoteStore,i.targetId),uS(r,i.targetId)}).catch(Ld)):(uS(r,i.targetId),await aS(r.localStore,i.targetId,!0))}async function see(t,e){const n=dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GT(n.remoteStore,r.targetId))}async function aee(t,e,n){const r=pee(t);try{const i=await function(s,a){const l=dt(s),u=dn.now(),d=a.reduce((m,y)=>m.add(y.key),Et());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ra(),g=Et();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((x,w)=>{w.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const x=[];for(const w of a){const S=xJ(w,f.get(w.key).overlayedDocument);S!=null&&x.push(new Nc(w.key,S,r3(S.value.mapValue),Ws.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:h3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new An(_t)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await rm(r,i.changes),await Gx(r.remoteStore)}catch(i){const o=JT(i,"Failed to persist write");n.reject(o)}}async function K3(t,e){const n=dt(t);try{const r=await yZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Lt(s.hu,14607):i.removedDocuments.size>0&&(Lt(s.hu,42227),s.hu=!1))}),await rm(n,r,e)}catch(r){await Ld(r)}}function u2(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=dt(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&ZT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lee(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new An(rt.comparator);s=s.insert(o,Vr.newNoDocument(o,ut.min()));const a=Et().add(o),l=new Wx(ut.min(),new Map,new An(_t),s,a);await K3(r,l),r.du=r.du.remove(o),r.Au.delete(e),tC(r)}else await aS(r.localStore,e,!1).then(()=>uS(r,e,n)).catch(Ld)}async function cee(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await gZ(n.localStore,e);X3(n,r,null),Y3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rm(n,i)}catch(i){await Ld(i)}}async function uee(t,e,n){const r=dt(t);try{const i=await function(s,a){const l=dt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Lt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);X3(r,e,n),Y3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rm(r,i)}catch(i){await Ld(i)}}function Y3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function X3(t,e,n){const r=dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Q3(t,r)})}function Q3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(GT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tC(t))}function d2(t,e,n){for(const r of n)r instanceof H3?(t.Ru.addReference(r.key,e),dee(t,r)):r instanceof q3?(Re(eC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Q3(t,r.key)):ot(19791,{wu:r})}function dee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(eC,"New document in limbo: "+n),t.Eu.add(r),tC(t))}function tC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new rt(_n.fromString(e)),r=t.fu.next();t.Au.set(r,new eee(n)),t.du=t.du.insert(n,r),F3(t.remoteStore,new Fa(cs(LT(n.path)),r,"TargetPurposeLimboResolution",Dx.ce))}}async function rm(t,e,n){const r=dt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=HT.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const d=dt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,h=>fe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>fe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Fd(f))throw f;Re(qT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function fee(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){Re(eC,"User change. New user:",e.toKey());const r=await M3(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ze(me.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rm(n,r.Ls)}}function hee(t,e){const n=dt(t),r=n.Au.get(e);if(r&&r.hu)return Et().add(r.key);{let i=Et();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function J3(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lee.bind(null,e),e.Pu.H_=YZ.bind(null,e.eventManager),e.Pu.yu=XZ.bind(null,e.eventManager),e}function pee(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uee.bind(null,e),e}class Gy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mZ(this.persistence,new fZ,e.initialUser,this.serializer)}Cu(e){return new R3(WT.mi,this.serializer)}Du(e){return new SZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gy.provider={build:()=>new Gy};class mee extends Gy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Lt(this.persistence.referenceDelegate instanceof Hy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new R3(r=>Hy.mi(r,n),this.serializer)}}class dS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fee.bind(null,this.syncEngine),await WZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qZ}()}createDatastore(e){const n=Hx(e.databaseInfo.databaseId),r=function(o){return new AZ(o)}(e.databaseInfo);return function(o,s,a,l){return new IZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new OZ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u2(this.syncEngine,n,0),function(){return i2.v()?new i2:new _Z}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new tee(i,o,s,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);Re(gc,"RemoteStore shutting down."),o.Ea.add(5),await nm(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dS.provider={build:()=>new dS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class yee{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Re(pl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re(pl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=JT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yb(t,e){t.asyncQueue.verifyOperationInProgress(),Re(pl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vee(t);Re(pl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),t._onlineComponents=e}async function vee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(pl,"Using user provided OfflineComponentProvider");try{await Yb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await Yb(t,new Gy)}}else Re(pl,"Using default OfflineComponentProvider"),await Yb(t,new mee(void 0));return t._offlineComponents}async function Z3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(pl,"Using user provided OnlineComponentProvider"),await f2(t,t._uninitializedComponentsProvider._online)):(Re(pl,"Using default OnlineComponentProvider"),await f2(t,new dS))),t._onlineComponents}function xee(t){return Z3(t).then(e=>e.syncEngine)}async function bee(t){const e=await Z3(t),n=e.eventManager;return n.onListen=nee.bind(null,e.syncEngine),n.onUnlisten=oee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ree.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=see.bind(null,e.syncEngine),n}function wee(t,e,n={}){const r=new tl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new gee({next:h=>{d.Nu(),s.enqueueAndForget(()=>KZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new Ze(me.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new Ze(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new QZ(LT(a.path),d,{includeMetadataChanges:!0,qa:!0});return GZ(o,f)}(await bee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firestore.googleapis.com",p2=!0;class m2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t5,this.ssl=p2}else this.host=e.host,this.ssl=e.ssl??p2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YJ)throw new Ze(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wQ;switch(r.type){case"firstParty":return new TQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h2.get(n);r&&(Re("ComponentProvider","Removing Datastore"),h2.delete(n),r.terminate())}(this),Promise.resolve()}}function See(t,e,n,r={}){var u;t=Bh(t,nC);const i=Rd(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(ZL(`https://${a}`),e4("Firestore",!0)),o.host!==t5&&o.host!==a&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!fc(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Lr.MOCK_USER;else{d=qG(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ze(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lr(h)}t._authCredentials=new SQ(new H4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rC(this.firestore,e,this._query)}}class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}toJSON(){return{type:cr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zp(n,cr._jsonSchema))return new cr(e,r||null,new rt(_n.fromString(n.referencePath)))}}cr._jsonSchemaVersion="firestore/documentReference/1.0",cr._jsonSchema={type:Fn("string",cr._jsonSchemaVersion),referencePath:Fn("string")};class Yh extends rC{constructor(e,n,r){super(e,n,LT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new rt(e))}withConverter(e){return new Yh(this.firestore,e,this._path)}}function n5(t,e,...n){if(t=to(t),arguments.length===1&&(e=IT.newId()),IQ("doc","path",e),t instanceof nC){const r=_n.fromString(e,...n);return Nj(r),new cr(t,null,new rt(r))}{if(!(t instanceof cr||t instanceof Yh))throw new Ze(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return Nj(r),new cr(t.firestore,t instanceof Yh?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="AsyncQueue";class y2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $3(this,"async_queue_retry"),this._c=()=>{const r=Kb();r&&Re(g2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new tl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fd(e))throw e;Re(g2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",v2(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=QT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ot(47125,{Pc:v2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function v2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iC extends nC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new y2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y2(e),this._firestoreClient=void 0,await e}}}function _ee(t,e){const n=typeof t=="object"?t:i4(),r=typeof t=="string"?t:Fy,i=xT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=WG("firestore");o&&See(i,...o)}return i}function r5(t){if(t._terminated)throw new Ze(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Eee(t),t._firestoreClient}function Eee(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,d){return new zQ(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,e5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(Cr.fromBase64String(e))}catch(n){throw new Ze(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zp(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:Fn("string",Gi._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ze(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ds._jsonSchemaVersion}}static fromJSON(e){if(Zp(e,ds._jsonSchema))return new ds(e.latitude,e.longitude)}}ds._jsonSchemaVersion="firestore/geoPoint/1.0",ds._jsonSchema={type:Fn("string",ds._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zp(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fs(e.vectorValues);throw new Ze(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Fn("string",fs._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=/^__.*__$/;class Cee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nc(e,this.data,this.fieldMask,n,this.fieldTransforms):new em(e,this.data,n,this.fieldTransforms)}}function i5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:t})}}class aC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ky(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i5(this.Ac)&&Tee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Aee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hx(e)}Cc(e,n,r,i=!1){return new aC({Ac:e,methodName:n,Dc:r,path:br.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pee(t){const e=t._freezeSettings(),n=Hx(t._databaseId);return new Aee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nee(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);l5("Data must be an object, but it was:",s,r);const a=s5(r,s);let l,u;if(o.merge)l=new jo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=jee(e,f,n);if(!s.contains(h))throw new Ze(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kee(d,h)||d.push(h)}l=new jo(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Cee(new qi(a),l,u)}class lC extends sC{_toFieldTransform(e){return new mJ(e.path,new qh)}isEqual(e){return e instanceof lC}}function o5(t,e){if(a5(t=to(t)))return l5("Unsupported field value:",e,t),s5(t,e);if(t instanceof sC)return function(r,i){if(!i5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=o5(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=to(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dn.fromDate(r);return{timestampValue:Wy(i.serializer,o)}}if(r instanceof dn){const o=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wy(i.serializer,o)}}if(r instanceof ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gi)return{bytesValue:C3(i.serializer,r._byteString)};if(r instanceof cr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:UT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fs)return function(s,a){return{mapValue:{fields:{[e3]:{stringValue:n3},[Vy]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return FT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${kT(r)}`)}(t,e)}function s5(t,e){const n={};return K4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,(r,i)=>{const o=o5(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function a5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof ds||t instanceof Gi||t instanceof cr||t instanceof sC||t instanceof fs)}function l5(t,e,n){if(!a5(n)||!q4(n)){const r=kT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jee(t,e,n){if((e=to(e))instanceof oC)return e._internalPath;if(typeof e=="string")return c5(t,e);throw Ky("Field path arguments must be of type string or ",t,!1,void 0,n)}const Iee=new RegExp("[~\\*/\\[\\]]");function c5(t,e,n){if(e.search(Iee)>=0)throw Ky(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oC(...e.split("."))._internalPath}catch{throw Ky(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ky(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ze(me.INVALID_ARGUMENT,a+t+l)}function kee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oee extends u5{data(){return super.data()}}function d5(t,e){return typeof e=="string"?c5(t,e):e instanceof oC?e._internalPath:e._delegate._internalPath}class Ree{convertValue(e,n="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ac(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Vy].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>In(s.doubleValue));return new fs(n)}convertGeoPoint(e){return new ds(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=ul(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);Lt(k3(r),9688,{name:e});const i=new Wh(r.get(1),r.get(3)),o=new rt(r.popFirst(5));return i.isEqual(n)||na(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends u5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:Fn("string",tc._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Gg extends tc{data(e={}){return super.data(e)}}class sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Dee(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=IT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(t){t=Bh(t,cr);const e=Bh(t.firestore,iC);return wee(r5(e),t._key).then(n=>Bee(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:Fn("string",sh._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Lee extends Ree{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}function Fee(t,e,n){t=Bh(t,cr);const r=Bh(t.firestore,iC),i=Mee(t.converter,e,n);return Vee(r,[Nee(Pee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ws.none())])}function Vee(t,e){return function(r,i){const o=new tl;return r.asyncQueue.enqueueAndForget(async()=>aee(await xee(r),i,o)),o.promise}(r5(t),e)}function Bee(t,e,n){const r=n.docs.get(e._key),i=new Lee(t);return new tc(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}function Uee(){return new lC("serverTimestamp")}(function(e,n=!0){(function(i){$d=i})(Md),Xu(new hc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new iC(new _Q(r.getProvider("auth-internal")),new CQ(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ze(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(u.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Za(Tj,Cj,e),Za(Tj,Cj,"esm2020")})();const zee={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},f5=r4(zee),Kx=xQ(f5),h5=_ee(f5),Wee=new Ds,Hee=new Ms;async function qee(){try{return(await D4(Kx,Wee)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function Gee(){try{return(await D4(Kx,Hee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function Kee(){try{await cX(Kx)}catch(t){console.error("Sign-out error:",t)}}function Yee(t){return lX(Kx,t)}async function x2(t){try{const e=await $ee(n5(h5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function Xee(t,e,n){try{return await Fee(n5(h5,"users",t),{isPro:e,promoCode:n||null,updatedAt:Uee()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const p5=b.createContext(null);function Bd(){const t=b.useContext(p5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Qee(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(null),[s,a]=b.useState(!0),l=async()=>{if(t){const m=await x2(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(m),o(y)}};return b.useEffect(()=>{const m=Yee(async y=>{if(e(y),y){const g=await x2(y.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(g),o(v)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await qee(),a(!1)},signInWithFacebook:async()=>{a(!0),await Gee(),a(!1)},signOut:async()=>{await Kee(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const y=await Xee(t.uid,!0,m);return y&&(r(!0),o(m||null)),y}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function Jee({children:t}){const e=Qee();return c.jsx(p5.Provider,{value:e,children:t})}const nt=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const Zee=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("flex flex-col space-y-1.5 p-6",t),...e}));Zee.displayName="CardHeader";const ete=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("text-2xl font-semibold leading-none tracking-tight",t),...e}));ete.displayName="CardTitle";const tte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));tte.displayName="CardDescription";const m5=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("p-6 pt-0",t),...e}));m5.displayName="CardContent";const nte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ct("flex items-center p-6 pt-0",t),...e}));nte.displayName="CardFooter";function Zm({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1,proFeature:a=!1,isProUser:l=!1}){const u=a&&l;return c.jsx(nt,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${u?"border-l-[3px] border-l-primary":""}`}`,onClick:s?void 0:i,"data-testid":o,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),c.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),c.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&c.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function rte(){const[t,e]=b.useState(null),{toast:n}=jd(),r="0.9.8",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return c.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var Xb="focusScope.autoFocusOnMount",Qb="focusScope.autoFocusOnUnmount",b2={bubbles:!1,cancelable:!0},ite="FocusScope",cC=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=b.useState(null),u=On(i),d=On(o),f=b.useRef(null),h=vt(e,g=>l(g)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const C=S.target;a.contains(C)?f.current=C:Ea(f.current,{select:!0})},v=function(S){if(m.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Ea(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ea(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){S2.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Xb,b2);a.addEventListener(Xb,u),a.dispatchEvent(x),x.defaultPrevented||(ote(ute(g5(a)),{select:!0}),document.activeElement===g&&Ea(a))}return()=>{a.removeEventListener(Xb,u),setTimeout(()=>{const x=new CustomEvent(Qb,b2);a.addEventListener(Qb,d),a.dispatchEvent(x),x.defaultPrevented||Ea(g??document.body,{select:!0}),a.removeEventListener(Qb,d),S2.remove(m)},0)}}},[a,u,d,m]);const y=b.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[S,C]=ste(w);S&&C?!g.shiftKey&&x===C?(g.preventDefault(),n&&Ea(S,{select:!0})):g.shiftKey&&x===S&&(g.preventDefault(),n&&Ea(C,{select:!0})):x===w&&g.preventDefault()}},[n,r,m.paused]);return c.jsx(et.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});cC.displayName=ite;function ote(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ea(r,{select:e}),document.activeElement!==n)return}function ste(t){const e=g5(t),n=w2(e,t),r=w2(e.reverse(),t);return[n,r]}function g5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function w2(t,e){for(const n of t)if(!ate(n,{upTo:e}))return n}function ate(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lte(t){return t instanceof HTMLInputElement&&"select"in t}function Ea(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lte(t)&&e&&t.select()}}var S2=cte();function cte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_2(t,e),t.unshift(e)},remove(e){var n;t=_2(t,e),(n=t[0])==null||n.resume()}}}function _2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ute(t){return t.filter(e=>e.tagName!=="A")}var Jb=0;function y5(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??E2()),document.body.insertAdjacentElement("beforeend",t[1]??E2()),Jb++,()=>{Jb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jb--}},[])}function E2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ns=function(){return ns=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ns.apply(this,arguments)};function v5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Kg="right-scroll-bar-position",Yg="width-before-scroll-bar",fte="with-scroll-bars-hidden",hte="--removed-body-scroll-bar-size";function Zb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pte(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mte=typeof window<"u"?b.useLayoutEffect:b.useEffect,T2=new WeakMap;function gte(t,e){var n=pte(null,function(r){return t.forEach(function(i){return Zb(i,r)})});return mte(function(){var r=T2.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Zb(a,null)}),o.forEach(function(a){i.has(a)||Zb(a,s)})}T2.set(n,t)},[t]),n}function yte(t){return t}function vte(t,e){e===void 0&&(e=yte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function xte(t){t===void 0&&(t={});var e=vte(null);return e.options=ns({async:!0,ssr:!1},t),e}var x5=function(t){var e=t.sideCar,n=v5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,ns({},n))};x5.isSideCarExport=!0;function bte(t,e){return t.useMedium(e),x5}var b5=xte(),ew=function(){},Yx=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:ew,onWheelCapture:ew,onTouchMoveCapture:ew}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,w=t.gapMode,S=v5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=gte([n,e]),P=ns(ns({},S),i);return b.createElement(b.Fragment,null,d&&b.createElement(C,{sideCar:b5,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?b.cloneElement(b.Children.only(a),ns(ns({},P),{ref:E})):b.createElement(x,ns({},P,{className:l,ref:E}),a))});Yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yx.classNames={fullWidth:Yg,zeroRight:Kg};var wte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ste(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wte();return e&&t.setAttribute("nonce",e),t}function _te(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ete(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ste())&&(_te(e,n),Ete(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cte=function(){var t=Tte();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},w5=function(){var t=Cte(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ate={left:0,top:0,right:0,gap:0},tw=function(t){return parseInt(t||"",10)||0},Pte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tw(n),tw(r),tw(i)]},Nte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ate;var e=Pte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jte=w5(),Tu="data-scroll-locked",Ite=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Tu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tu,`] {
    `).concat(hte,": ").concat(a,`px;
  }
`)},C2=function(){var t=parseInt(document.body.getAttribute(Tu)||"0",10);return isFinite(t)?t:0},kte=function(){b.useEffect(function(){return document.body.setAttribute(Tu,(C2()+1).toString()),function(){var t=C2()-1;t<=0?document.body.removeAttribute(Tu):document.body.setAttribute(Tu,t.toString())}},[])},Ote=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;kte();var o=b.useMemo(function(){return Nte(i)},[i]);return b.createElement(jte,{styles:Ite(o,!e,i,n?"":"!important")})},fS=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return fS=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{fS=!1}var $c=fS?{passive:!1}:!1,Rte=function(t){return t.tagName==="TEXTAREA"},S5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rte(t)&&n[e]==="visible")},Mte=function(t){return S5(t,"overflowY")},Dte=function(t){return S5(t,"overflowX")},A2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=_5(t,r);if(i){var o=E5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$te=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Lte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_5=function(t,e){return t==="v"?Mte(e):Dte(e)},E5=function(t,e){return t==="v"?$te(e):Lte(e)},Fte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vte=function(t,e,n,r,i){var o=Fte(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,d=s>0,f=0,h=0;do{var m=E5(t,a),y=m[0],g=m[1],v=m[2],x=g-v-o*y;(y||x)&&_5(t,a)&&(f+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},tg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},P2=function(t){return[t.deltaX,t.deltaY]},N2=function(t){return t&&"current"in t?t.current:t},Bte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ute=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zte=0,Lc=[];function Wte(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(zte++)[0],o=b.useState(w5)[0],s=b.useRef(t);b.useEffect(function(){s.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=dte([t.lockRef.current],(t.shards||[]).map(N2),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=tg(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-x[0],C="deltaY"in g?g.deltaY:w[1]-x[1],E,P=g.target,_=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&_==="h"&&P.type==="range")return!1;var T=A2(_,P);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=A2(_,P)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=E),!E)return!0;var N=r.current||E;return Vte(N,v,g,N==="h"?S:C,!0)},[]),l=b.useCallback(function(g){var v=g;if(!(!Lc.length||Lc[Lc.length-1]!==o)){var x="deltaY"in v?P2(v):tg(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&Bte(E.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(N2).filter(Boolean).filter(function(E){return E.contains(v.target)}),C=S.length>0?a(v,S[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,w){var S={name:g,delta:v,target:x,should:w,shadowParent:Hte(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=b.useCallback(function(g){n.current=tg(g),r.current=void 0},[]),f=b.useCallback(function(g){u(g.type,P2(g),g.target,a(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,tg(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return Lc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,$c),document.addEventListener("touchmove",l,$c),document.addEventListener("touchstart",d,$c),function(){Lc=Lc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,$c),document.removeEventListener("touchmove",l,$c),document.removeEventListener("touchstart",d,$c)}},[]);var m=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:Ute(i)}):null,m?b.createElement(Ote,{gapMode:t.gapMode}):null)}function Hte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qte=bte(b5,Wte);var uC=b.forwardRef(function(t,e){return b.createElement(Yx,ns({},t,{ref:e,sideCar:qte}))});uC.classNames=Yx.classNames;var Gte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fc=new WeakMap,ng=new WeakMap,rg={},nw=0,T5=function(t){return t&&(t.host||T5(t.parentNode))},Kte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=T5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Yte=function(t,e,n,r){var i=Kte(e,Array.isArray(t)?t:[t]);rg[n]||(rg[n]=new WeakMap);var o=rg[n],s=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Fc.get(h)||0)+1,v=(o.get(h)||0)+1;Fc.set(h,g),o.set(h,v),s.push(h),g===1&&y&&ng.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),nw++,function(){s.forEach(function(f){var h=Fc.get(f)-1,m=o.get(f)-1;Fc.set(f,h),o.set(f,m),h||(ng.has(f)||f.removeAttribute(r),ng.delete(f)),m||f.removeAttribute(n)}),nw--,nw||(Fc=new WeakMap,Fc=new WeakMap,ng=new WeakMap,rg={})}},C5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Gte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Yte(r,i,n,"aria-hidden")):function(){return null}},dC="Dialog",[A5,Qje]=Di(dC),[Xte,Uo]=A5(dC),P5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=b.useRef(null),l=b.useRef(null),[u=!1,d]=Fo({prop:r,defaultProp:i,onChange:o});return c.jsx(Xte,{scope:e,triggerRef:a,contentRef:l,contentId:ss(),titleId:ss(),descriptionId:ss(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};P5.displayName=dC;var N5="DialogTrigger",j5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Uo(N5,n),o=vt(e,i.triggerRef);return c.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pC(i.open),...r,ref:o,onClick:Le(t.onClick,i.onOpenToggle)})});j5.displayName=N5;var fC="DialogPortal",[Qte,I5]=A5(fC,{forceMount:void 0}),k5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Uo(fC,e);return c.jsx(Qte,{scope:e,forceMount:n,children:b.Children.map(r,s=>c.jsx(ro,{present:n||o.open,children:c.jsx(wx,{asChild:!0,container:i,children:s})}))})};k5.displayName=fC;var Yy="DialogOverlay",O5=b.forwardRef((t,e)=>{const n=I5(Yy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Uo(Yy,t.__scopeDialog);return o.modal?c.jsx(ro,{present:r||o.open,children:c.jsx(Zte,{...i,ref:e})}):null});O5.displayName=Yy;var Jte=Gu("DialogOverlay.RemoveScroll"),Zte=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Uo(Yy,n);return c.jsx(uC,{as:Jte,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(et.div,{"data-state":pC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),yc="DialogContent",R5=b.forwardRef((t,e)=>{const n=I5(yc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Uo(yc,t.__scopeDialog);return c.jsx(ro,{present:r||o.open,children:o.modal?c.jsx(ene,{...i,ref:e}):c.jsx(tne,{...i,ref:e})})});R5.displayName=yc;var ene=b.forwardRef((t,e)=>{const n=Uo(yc,t.__scopeDialog),r=b.useRef(null),i=vt(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return C5(o)},[]),c.jsx(M5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,o=>o.preventDefault())})}),tne=b.forwardRef((t,e)=>{const n=Uo(yc,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return c.jsx(M5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),M5=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Uo(yc,n),l=b.useRef(null),u=vt(e,l);return y5(),c.jsxs(c.Fragment,{children:[c.jsx(cC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:c.jsx(Wp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pC(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(nne,{titleId:a.titleId}),c.jsx(ine,{contentRef:l,descriptionId:a.descriptionId})]})]})}),hC="DialogTitle",D5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Uo(hC,n);return c.jsx(et.h2,{id:i.titleId,...r,ref:e})});D5.displayName=hC;var $5="DialogDescription",L5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Uo($5,n);return c.jsx(et.p,{id:i.descriptionId,...r,ref:e})});L5.displayName=$5;var F5="DialogClose",V5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Uo(F5,n);return c.jsx(et.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});V5.displayName=F5;function pC(t){return t?"open":"closed"}var B5="DialogTitleWarning",[Jje,U5]=uW(B5,{contentName:yc,titleName:hC,docsSlug:"dialog"}),nne=({titleId:t})=>{const e=U5(B5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rne="DialogDescriptionWarning",ine=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U5(rne).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},one=P5,sne=j5,ane=k5,z5=O5,W5=R5,H5=D5,q5=L5,lne=V5;const Yr=one,cne=sne,une=ane,G5=b.forwardRef(({className:t,...e},n)=>c.jsx(z5,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));G5.displayName=z5.displayName;const Ur=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(une,{children:[c.jsx(G5,{}),c.jsxs(W5,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(lne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(qp,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ur.displayName=W5.displayName;const wr=({className:t,...e})=>c.jsx("div",{className:ct("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wr.displayName="DialogHeader";const Sr=b.forwardRef(({className:t,...e},n)=>c.jsx(H5,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",t),...e}));Sr.displayName=H5.displayName;const Io=b.forwardRef(({className:t,...e},n)=>c.jsx(q5,{ref:n,className:ct("text-sm text-muted-foreground",t),...e}));Io.displayName=q5.displayName;const dne=Ex("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),de=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?fW:"button";return c.jsx(s,{className:ct(dne({variant:e,size:n,className:t})),ref:o,...i})});de.displayName="Button";function mC(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gC="Switch",[fne,Zje]=Di(gC),[hne,pne]=fne(gC),K5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=b.useState(null),y=vt(e,S=>m(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Fo({prop:i,defaultProp:o,onChange:u});return c.jsxs(hne,{scope:n,checked:x,disabled:a,children:[c.jsx(et.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":Q5(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:Le(t.onClick,S=>{w(C=>!C),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&c.jsx(mne,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});K5.displayName=gC;var Y5="SwitchThumb",X5=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=pne(Y5,n);return c.jsx(et.span,{"data-state":Q5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});X5.displayName=Y5;var mne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=b.useRef(null),s=mC(n),a=hT(e);return b.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Q5(t){return t?"checked":"unchecked"}var J5=K5,gne=X5;const Ni=b.forwardRef(({className:t,...e},n)=>c.jsx(J5,{className:ct("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(gne,{className:ct("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ni.displayName=J5.displayName;const rw="cuemaster_analytics_consent",iw="cuemaster_analytics_events",ig="cuemaster_analytics_sessions",og="cuemaster_analytics_stats",ow="cuemaster_first_launch_complete",sg=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class yne{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(rw);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(iw);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(iw,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(ig);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(ig,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(ow)}markFirstLaunchComplete(){localStorage.setItem(ow,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(rw,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:sg(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:sg(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(og,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(og,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(og);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(ig);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(iw),localStorage.removeItem(ig),localStorage.removeItem(og)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(rw),localStorage.removeItem(ow)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=sg()+sg(),localStorage.setItem(e,n)),n}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const Ct=new yne;function vne({open:t,onComplete:e}){const[n,r]=b.useState(0),[i,o]=b.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Ct.setConsent(i),Ct.markFirstLaunchComplete(),Ct.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const u={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(u),Ct.setConsent(u),Ct.markFirstLaunchComplete(),Ct.track("consent_updated","home","accept_all",{consent:u}),e()},l=()=>{const u={usageStats:!1,skillMetrics:!1,benchmarking:!1};Ct.setConsent(u),Ct.markFirstLaunchComplete(),e()};return c.jsx(Yr,{open:t,onOpenChange:()=>{},children:c.jsxs(Ur,{className:"max-w-md",onPointerDownOutside:u=>u.preventDefault(),children:[n===0&&c.jsxs(c.Fragment,{children:[c.jsxs(wr,{children:[c.jsxs(Sr,{className:"text-xl flex items-center gap-2",children:[c.jsx(Mh,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),c.jsx(Io,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(uc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Which tools you use and for how long"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Dh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Your skill metrics to show personal progress"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Bl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(de,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),c.jsxs(de,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",c.jsx(eL,{className:"w-4 h-4 ml-1"})]}),c.jsx(de,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&c.jsxs(c.Fragment,{children:[c.jsxs(wr,{children:[c.jsx(Sr,{className:"text-xl",children:"Customize Your Preferences"}),c.jsx(Io,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),c.jsx("div",{className:"space-y-4 py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(uc,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),c.jsx(Ni,{checked:i.usageStats,onCheckedChange:u=>o(d=>({...d,usageStats:u})),"data-testid":"switch-usage-stats"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),c.jsx(Ni,{checked:i.skillMetrics,onCheckedChange:u=>o(d=>({...d,skillMetrics:u})),"data-testid":"switch-skill-metrics"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&c.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),c.jsx(Ni,{checked:i.benchmarking,onCheckedChange:u=>o(d=>({...d,benchmarking:u,usageStats:u?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),c.jsx(de,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const Z5=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ct("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Z5.displayName="Textarea";function Xh(t,[e,n]){return Math.min(n,Math.max(e,t))}var xne=b.createContext(void 0);function Ud(t){const e=b.useContext(xne);return t||e||"ltr"}var bne=[" ","Enter","ArrowUp","ArrowDown"],wne=[" ","Enter"],im="Select",[Xx,Qx,Sne]=zp(im),[zd,e2e]=Di(im,[Sne,Nx]),Jx=Nx(),[_ne,xl]=zd(im),[Ene,Tne]=zd(im),eF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Jx(e),[v,x]=b.useState(null),[w,S]=b.useState(null),[C,E]=b.useState(!1),P=Ud(u),[_=!1,T]=Fo({prop:r,defaultProp:i,onChange:o}),[N,k]=Fo({prop:s,defaultProp:a,onChange:l}),j=b.useRef(null),R=v?y||!!v.closest("form"):!0,[O,$]=b.useState(new Set),F=Array.from(O).map(B=>B.props.value).join(";");return c.jsx(pG,{...g,children:c.jsxs(_ne,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:ss(),value:N,onValueChange:k,open:_,onOpenChange:T,dir:P,triggerPointerDownPosRef:j,disabled:h,children:[c.jsx(Xx.Provider,{scope:e,children:c.jsx(Ene,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(B=>{$(U=>new Set(U).add(B))},[]),onNativeOptionRemove:b.useCallback(B=>{$(U=>{const V=new Set(U);return V.delete(B),V})},[]),children:n})}),R?c.jsxs(TF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>k(B.target.value),disabled:h,form:y,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};eF.displayName=im;var tF="SelectTrigger",nF=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Jx(n),s=xl(tF,n),a=s.disabled||r,l=vt(e,s.onTriggerChange),u=Qx(n),d=b.useRef("touch"),[f,h,m]=CF(g=>{const v=u().filter(S=>!S.disabled),x=v.find(S=>S.value===s.value),w=AF(v,g,x);w!==void 0&&s.onValueChange(w.value)}),y=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(ML,{asChild:!0,...o,children:c.jsx(et.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":EF(s.value)?"":void 0,...i,ref:l,onClick:Le(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Le(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Le(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&bne.includes(g.key)&&(y(),g.preventDefault())})})})});nF.displayName=tF;var rF="SelectValue",iF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=xl(rF,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=vt(e,l.onValueNodeChange);return dr(()=>{u(d)},[u,d]),c.jsx(et.span,{...a,ref:f,style:{pointerEvents:"none"},children:EF(l.value)?c.jsx(c.Fragment,{children:s}):o})});iF.displayName=rF;var Cne="SelectIcon",oF=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return c.jsx(et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});oF.displayName=Cne;var Ane="SelectPortal",sF=t=>c.jsx(wx,{asChild:!0,...t});sF.displayName=Ane;var vc="SelectContent",aF=b.forwardRef((t,e)=>{const n=xl(vc,t.__scopeSelect),[r,i]=b.useState();if(dr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Cc.createPortal(c.jsx(lF,{scope:t.__scopeSelect,children:c.jsx(Xx.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),o):null}return c.jsx(cF,{...t,ref:e})});aF.displayName=vc;var mo=10,[lF,bl]=zd(vc),Pne="SelectContentImpl",Nne=Gu("SelectContent.RemoveScroll"),cF=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,w=xl(vc,n),[S,C]=b.useState(null),[E,P]=b.useState(null),_=vt(e,xe=>C(xe)),[T,N]=b.useState(null),[k,j]=b.useState(null),R=Qx(n),[O,$]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(S)return C5(S)},[S]),y5();const B=b.useCallback(xe=>{const[je,...se]=R().map(z=>z.ref.current),[pe]=se.slice(-1),ce=document.activeElement;for(const z of xe)if(z===ce||(z==null||z.scrollIntoView({block:"nearest"}),z===je&&E&&(E.scrollTop=0),z===pe&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==ce))return},[R,E]),U=b.useCallback(()=>B([T,S]),[B,T,S]);b.useEffect(()=>{O&&U()},[O,U]);const{onOpenChange:V,triggerPointerDownPosRef:W}=w;b.useEffect(()=>{if(S){let xe={x:0,y:0};const je=pe=>{var ce,z;xe={x:Math.abs(Math.round(pe.pageX)-(((ce=W.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((z=W.current)==null?void 0:z.y)??0))}},se=pe=>{xe.x<=10&&xe.y<=10?pe.preventDefault():S.contains(pe.target)||V(!1),document.removeEventListener("pointermove",je),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",se,{capture:!0})}}},[S,V,W]),b.useEffect(()=>{const xe=()=>V(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[V]);const[ne,X]=CF(xe=>{const je=R().filter(ce=>!ce.disabled),se=je.find(ce=>ce.ref.current===document.activeElement),pe=AF(je,xe,se);pe&&setTimeout(()=>pe.ref.current.focus())}),ie=b.useCallback((xe,je,se)=>{const pe=!F.current&&!se;(w.value!==void 0&&w.value===je||pe)&&(N(xe),pe&&(F.current=!0))},[w.value]),le=b.useCallback(()=>S==null?void 0:S.focus(),[S]),be=b.useCallback((xe,je,se)=>{const pe=!F.current&&!se;(w.value!==void 0&&w.value===je||pe)&&j(xe)},[w.value]),ke=r==="popper"?hS:uF,st=ke===hS?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(lF,{scope:n,content:S,viewport:E,onViewportChange:P,itemRefCallback:ie,selectedItem:T,onItemLeave:le,itemTextRefCallback:be,focusSelectedItem:U,selectedItemText:k,position:r,isPositioned:O,searchRef:ne,children:c.jsx(uC,{as:Nne,allowPinchZoom:!0,children:c.jsx(cC,{asChild:!0,trapped:w.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Le(i,xe=>{var je;(je=w.trigger)==null||je.focus({preventScroll:!0}),xe.preventDefault()}),children:c.jsx(Wp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:xe=>xe.preventDefault(),...x,...st,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,xe=>{const je=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!je&&xe.key.length===1&&X(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let pe=R().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const ce=xe.target,z=pe.indexOf(ce);pe=pe.slice(z+1)}setTimeout(()=>B(pe)),xe.preventDefault()}})})})})})})});cF.displayName=Pne;var jne="SelectItemAlignedPosition",uF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=xl(vc,n),s=bl(vc,n),[a,l]=b.useState(null),[u,d]=b.useState(null),f=vt(e,_=>d(_)),h=Qx(n),m=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,S=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&x){const _=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const ce=k.left-T.left,z=N.left-ce,we=_.left-z,Te=_.width+we,Xe=Math.max(Te,T.width),Qe=window.innerWidth-mo,at=Xh(z,[mo,Math.max(mo,Qe-Xe)]);a.style.minWidth=Te+"px",a.style.left=at+"px"}else{const ce=T.right-k.right,z=window.innerWidth-N.right-ce,we=window.innerWidth-_.right-z,Te=_.width+we,Xe=Math.max(Te,T.width),Qe=window.innerWidth-mo,at=Xh(z,[mo,Math.max(mo,Qe-Xe)]);a.style.minWidth=Te+"px",a.style.right=at+"px"}const j=h(),R=window.innerHeight-mo*2,O=g.scrollHeight,$=window.getComputedStyle(u),F=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),U=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),W=F+B+O+V+U,ne=Math.min(v.offsetHeight*5,W),X=window.getComputedStyle(g),ie=parseInt(X.paddingTop,10),le=parseInt(X.paddingBottom,10),be=_.top+_.height/2-mo,ke=R-be,st=v.offsetHeight/2,xe=v.offsetTop+st,je=F+B+xe,se=W-je;if(je<=be){const ce=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const z=u.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(ke,st+(ce?le:0)+z+U),Te=je+we;a.style.height=Te+"px"}else{const ce=j.length>0&&v===j[0].ref.current;a.style.top="0px";const we=Math.max(be,F+g.offsetTop+(ce?ie:0)+st)+se;a.style.height=we+"px",g.scrollTop=je-be+g.offsetTop}a.style.margin=`${mo}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,u,g,v,x,o.dir,r]);dr(()=>S(),[S]);const[C,E]=b.useState();dr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=b.useCallback(_=>{_&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return c.jsx(kne,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(et.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uF.displayName=jne;var Ine="SelectPopperPosition",hS=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=mo,...o}=t,s=Jx(n);return c.jsx(DL,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hS.displayName=Ine;var[kne,yC]=zd(vc,{}),pS="SelectViewport",dF=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=bl(pS,n),s=yC(pS,n),a=vt(e,o.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Xx.Slot,{scope:n,children:c.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-mo*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+m,S=Math.min(y,w),C=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});dF.displayName=pS;var fF="SelectGroup",[One,Rne]=zd(fF),Mne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ss();return c.jsx(One,{scope:n,id:i,children:c.jsx(et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Mne.displayName=fF;var hF="SelectLabel",pF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Rne(hF,n);return c.jsx(et.div,{id:i.id,...r,ref:e})});pF.displayName=hF;var Xy="SelectItem",[Dne,mF]=zd(Xy),gF=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=xl(Xy,n),l=bl(Xy,n),u=a.value===r,[d,f]=b.useState(o??""),[h,m]=b.useState(!1),y=vt(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,i)}),g=ss(),v=b.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Dne,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(Xx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(et.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:Le(s.onFocus,()=>m(!0)),onBlur:Le(s.onBlur,()=>m(!1)),onClick:Le(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Le(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Le(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Le(s.onPointerMove,w=>{var S;v.current=w.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(s.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Le(s.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(wne.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});gF.displayName=Xy;var Ff="SelectItemText",yF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=xl(Ff,n),a=bl(Ff,n),l=mF(Ff,n),u=Tne(Ff,n),[d,f]=b.useState(null),h=vt(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return dr(()=>(g(y),()=>v(y)),[g,v,y]),c.jsxs(c.Fragment,{children:[c.jsx(et.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Cc.createPortal(o.children,s.valueNode):null]})});yF.displayName=Ff;var vF="SelectItemIndicator",xF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mF(vF,n).isSelected?c.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});xF.displayName=vF;var mS="SelectScrollUpButton",bF=b.forwardRef((t,e)=>{const n=bl(mS,t.__scopeSelect),r=yC(mS,t.__scopeSelect),[i,o]=b.useState(!1),s=vt(e,r.onScrollButtonChange);return dr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(SF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});bF.displayName=mS;var gS="SelectScrollDownButton",wF=b.forwardRef((t,e)=>{const n=bl(gS,t.__scopeSelect),r=yC(gS,t.__scopeSelect),[i,o]=b.useState(!1),s=vt(e,r.onScrollButtonChange);return dr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(SF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});wF.displayName=gS;var SF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=bl("SelectScrollButton",n),s=b.useRef(null),a=Qx(n),l=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),dr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{l()})})}),$ne="SelectSeparator",_F=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});_F.displayName=$ne;var yS="SelectArrow",Lne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jx(n),o=xl(yS,n),s=bl(yS,n);return o.open&&s.position==="popper"?c.jsx($L,{...i,...r,ref:e}):null});Lne.displayName=yS;function EF(t){return t===""||t===void 0}var TF=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=b.useRef(null),o=vt(e,i),s=mC(n);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),c.jsx(Hp,{asChild:!0,children:c.jsx("select",{...r,ref:o,defaultValue:n})})});TF.displayName="BubbleSelect";function CF(t){const e=On(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(s=>{const a=n.current+s;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function AF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Fne(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Fne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Vne=eF,PF=nF,Bne=iF,Une=oF,zne=sF,NF=aF,Wne=dF,jF=pF,IF=gF,Hne=yF,qne=xF,kF=bF,OF=wF,RF=_F;const MF=Vne,DF=Bne,vC=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(PF,{ref:r,className:ct("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(Une,{asChild:!0,children:c.jsx(Oh,{className:"h-4 w-4 opacity-50"})})]}));vC.displayName=PF.displayName;const $F=b.forwardRef(({className:t,...e},n)=>c.jsx(kF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(iH,{className:"h-4 w-4"})}));$F.displayName=kF.displayName;const LF=b.forwardRef(({className:t,...e},n)=>c.jsx(OF,{ref:n,className:ct("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Oh,{className:"h-4 w-4"})}));LF.displayName=OF.displayName;const xC=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>c.jsx(zne,{children:c.jsxs(NF,{ref:i,className:ct("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx($F,{}),c.jsx(Wne,{className:ct("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(LF,{})]})}));xC.displayName=NF.displayName;const Gne=b.forwardRef(({className:t,...e},n)=>c.jsx(jF,{ref:n,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Gne.displayName=jF.displayName;const ir=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(IF,{ref:r,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(qne,{children:c.jsx(Z$,{className:"h-4 w-4"})})}),c.jsx(Hne,{children:e})]}));ir.displayName=IF.displayName;const Kne=b.forwardRef(({className:t,...e},n)=>c.jsx(RF,{ref:n,className:ct("-mx-1 my-1 h-px bg-muted",t),...e}));Kne.displayName=RF.displayName;const Yne=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function Xne(){const{promoCode:t,user:e}=Bd(),{toast:n}=jd(),[r,i]=b.useState(!1),[o,s]=b.useState(""),[a,l]=b.useState(0),[u,d]=b.useState(""),[f,h]=b.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const y=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:u,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},v="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";v&&await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"feedback",...g})}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx(de,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:c.jsx(MN,{className:"w-6 h-6"})}),c.jsx(Yr,{open:r,onOpenChange:i,children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsxs(wr,{children:[c.jsxs(Sr,{className:"flex items-center gap-2",children:[c.jsx(MN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),c.jsx(Io,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),c.jsxs(MF,{value:o,onValueChange:s,children:[c.jsx(vC,{"data-testid":"select-feedback-tool",children:c.jsx(DF,{placeholder:"Select a tool"})}),c.jsx(xC,{children:Yne.map(g=>c.jsx(ir,{value:g.value,children:g.label},g.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>c.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:c.jsx(_H,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),c.jsx(Z5,{placeholder:"What's working? What could be better?",value:u,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),c.jsxs(de,{onClick:y,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[c.jsx(wH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const Qne=Ex("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function FF({className:t,variant:e,...n}){return c.jsx("div",{className:ct(Qne({variant:e}),t),...n})}var Jne="Label",VF=b.forwardRef((t,e)=>c.jsx(et.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VF.displayName=Jne;var BF=VF;const Zne=Ex("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tn=b.forwardRef(({className:t,...e},n)=>c.jsx(BF,{ref:n,className:ct(Zne(),t),...e}));tn.displayName=BF.displayName;var sw="rovingFocusGroup.onEntryFocus",ere={bubbles:!1,cancelable:!0},Zx="RovingFocusGroup",[vS,UF,tre]=zp(Zx),[nre,zF]=Di(Zx,[tre]),[rre,ire]=nre(Zx),WF=b.forwardRef((t,e)=>c.jsx(vS.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(vS.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(ore,{...t,ref:e})})}));WF.displayName=Zx;var ore=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),m=vt(e,h),y=Ud(o),[g=null,v]=Fo({prop:s,defaultProp:a,onChange:l}),[x,w]=b.useState(!1),S=On(u),C=UF(n),E=b.useRef(!1),[P,_]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(sw,S),()=>T.removeEventListener(sw,S)},[S]),c.jsx(rre,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>_(T=>T-1),[]),children:c.jsx(et.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{E.current=!0}),onFocus:Le(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const k=new CustomEvent(sw,ere);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=C().filter(B=>B.focusable),R=j.find(B=>B.active),O=j.find(B=>B.id===g),F=[R,O,...j].filter(Boolean).map(B=>B.ref.current);GF(F,d)}}E.current=!1}),onBlur:Le(t.onBlur,()=>w(!1))})})}),HF="RovingFocusGroupItem",qF=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=ss(),l=o||a,u=ire(HF,n),d=u.currentTabStopId===l,f=UF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return b.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),c.jsx(vS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:c.jsx(et.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Le(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:Le(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Le(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=lre(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?cre(x,w+1):x.slice(w+1)}setTimeout(()=>GF(x))}})})})});qF.displayName=HF;var sre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function are(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lre(t,e,n){const r=are(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sre[r]}function GF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ure=WF,dre=qF,bC="Tabs",[fre,t2e]=Di(bC,[zF]),KF=zF(),[hre,wC]=fre(bC),YF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Ud(a),[f,h]=Fo({prop:r,onChange:i,defaultProp:o});return c.jsx(hre,{scope:n,baseId:ss(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:c.jsx(et.div,{dir:d,"data-orientation":s,...u,ref:e})})});YF.displayName=bC;var XF="TabsList",QF=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=wC(XF,n),s=KF(n);return c.jsx(ure,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(et.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});QF.displayName=XF;var JF="TabsTrigger",ZF=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=wC(JF,n),a=KF(n),l=nV(s.baseId,r),u=rV(s.baseId,r),d=r===s.value;return c.jsx(dre,{asChild:!0,...a,focusable:!i,active:d,children:c.jsx(et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Le(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:Le(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:Le(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});ZF.displayName=JF;var eV="TabsContent",tV=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=wC(eV,n),l=nV(a.baseId,r),u=rV(a.baseId,r),d=r===a.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(ro,{present:i||d,children:({present:h})=>c.jsx(et.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});tV.displayName=eV;function nV(t,e){return`${t}-trigger-${e}`}function rV(t,e){return`${t}-content-${e}`}var pre=YF,iV=QF,oV=ZF,sV=tV;const aV=pre,SC=b.forwardRef(({className:t,...e},n)=>c.jsx(iV,{ref:n,className:ct("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));SC.displayName=iV.displayName;const Va=b.forwardRef(({className:t,...e},n)=>c.jsx(oV,{ref:n,className:ct("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Va.displayName=oV.displayName;const Ba=b.forwardRef(({className:t,...e},n)=>c.jsx(sV,{ref:n,className:ct("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ba.displayName=sV.displayName;function mre(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var _C="ScrollArea",[lV,n2e]=Di(_C),[gre,io]=lV(_C),cV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(0),[S,C]=b.useState(0),[E,P]=b.useState(!1),[_,T]=b.useState(!1),N=vt(e,j=>l(j)),k=Ud(i);return c.jsx(gre,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:C,children:c.jsx(et.div,{dir:k,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});cV.displayName=_C;var uV="ScrollAreaViewport",dV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=io(uV,n),a=b.useRef(null),l=vt(e,a,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(et.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});dV.displayName=uV;var ws="ScrollAreaScrollbar",EC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=io(ws,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?c.jsx(yre,{...r,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(vre,{...r,ref:e,forceMount:n}):i.type==="auto"?c.jsx(fV,{...r,ref:e,forceMount:n}):i.type==="always"?c.jsx(TC,{...r,ref:e}):null});EC.displayName=ws;var yre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=io(ws,t.__scopeScrollArea),[o,s]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(ro,{present:n||o,children:c.jsx(fV,{"data-state":o?"visible":"hidden",...r,ref:e})})}),vre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=io(ws,t.__scopeScrollArea),o=t.orientation==="horizontal",s=t0(()=>l("SCROLL_END"),100),[a,l]=mre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),c.jsx(ro,{present:n||a!=="hidden",children:c.jsx(TC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Le(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),fV=b.forwardRef((t,e)=>{const n=io(ws,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=b.useState(!1),a=t.orientation==="horizontal",l=t0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:d)}},10);return id(n.viewport,l),id(n.content,l),c.jsx(ro,{present:r||o,children:c.jsx(TC,{"data-state":o?"visible":"hidden",...i,ref:e})})}),TC=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=io(ws,t.__scopeScrollArea),o=b.useRef(null),s=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return Ere(h,s.current,a,m)}return n==="horizontal"?c.jsx(xre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=j2(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?c.jsx(bre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=j2(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),xre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=io(ws,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=vt(e,l,o.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(pV,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),xV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jy(s.paddingLeft),paddingEnd:Jy(s.paddingRight)}})}})}),bre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=io(ws,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=vt(e,l,o.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(pV,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":e0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),xV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jy(s.paddingTop),paddingEnd:Jy(s.paddingBottom)}})}})}),[wre,hV]=lV(ws),pV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=io(ws,n),[y,g]=b.useState(null),v=vt(e,N=>g(N)),x=b.useRef(null),w=b.useRef(""),S=m.viewport,C=r.content-r.viewport,E=On(d),P=On(l),_=t0(f,10);function T(N){if(x.current){const k=N.clientX-x.current.left,j=N.clientY-x.current.top;u({x:k,y:j})}}return b.useEffect(()=>{const N=k=>{const j=k.target;(y==null?void 0:y.contains(j))&&E(k,C)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[S,y,C,E]),b.useEffect(P,[r,P]),id(y,_),id(m.content,_),c.jsx(wre,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:On(o),onThumbPointerUp:On(s),onThumbPositionChange:P,onThumbPointerDown:On(a),children:c.jsx(et.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Le(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:Le(t.onPointerMove,T),onPointerUp:Le(t.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Qy="ScrollAreaThumb",mV=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hV(Qy,t.__scopeScrollArea);return c.jsx(ro,{present:n||i.hasThumb,children:c.jsx(Sre,{ref:e,...r})})}),Sre=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=io(Qy,n),s=hV(Qy,n),{onThumbPositionChange:a}=s,l=vt(e,f=>s.onThumbChange(f)),u=b.useRef(void 0),d=t0(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Tre(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),c.jsx(et.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:y,y:g})}),onPointerUp:Le(t.onPointerUp,s.onThumbPointerUp)})});mV.displayName=Qy;var CC="ScrollAreaCorner",gV=b.forwardRef((t,e)=>{const n=io(CC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(_re,{...t,ref:e}):null});gV.displayName=CC;var _re=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=io(CC,n),[o,s]=b.useState(0),[a,l]=b.useState(0),u=!!(o&&a);return id(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),id(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?c.jsx(et.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jy(t){return t?parseInt(t,10):0}function yV(t,e){const n=t/e;return isNaN(n)?0:n}function e0(t){const e=yV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Ere(t,e,n,r="ltr"){const i=e0(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return vV([l,u],f)(t)}function j2(t,e,n="ltr"){const r=e0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Xh(t,l);return vV([0,s],[0,a])(u)}function vV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function xV(t,e){return t>0&&t<e}var Tre=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function t0(t,e){const n=On(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function id(t,e){const n=On(e);dr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var bV=cV,Cre=dV,Are=gV;const AC=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(bV,{ref:r,className:ct("relative overflow-hidden",t),...n,children:[c.jsx(Cre,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(wV,{}),c.jsx(Are,{})]}));AC.displayName=bV.displayName;const wV=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(EC,{ref:r,orientation:e,className:ct("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(mV,{className:"relative flex-1 rounded-full bg-border"})}));wV.displayName=EC.displayName;const aw="shotclock_sessions";function Pre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),c.jsx("circle",{cx:"24",cy:"24",r:"16"}),c.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Nre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),c.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),c.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),c.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),c.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),c.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function jre({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function Ire({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"10"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),c.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),c.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),c.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),c.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),c.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),c.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),c.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),c.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const I2="cuemaster_dev_mode";function kre(){const{promoCode:t}=Bd();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(J$,{className:"w-5 h-5 text-amber-500"}),c.jsxs("div",{children:[c.jsx(FF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Ore(){const[,t]=vl(),[e,n]=b.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=MG(),{user:a,isPro:l,promoCode:u,signInWithGoogle:d,signOut:f}=Bd(),[h,m]=b.useState([]),[y,g]=b.useState(!1),[v,x]=b.useState(0),w=b.useRef(null),S=b.useRef(0),[C,E]=b.useState(!1),[P,_]=b.useState(Ct.getConsent());b.useEffect(()=>{localStorage.getItem(I2)==="true"&&g(!0),Ct.isFirstLaunch()&&E(!0)},[]);const T=$=>{if($.type==="click"&&S.current>Date.now()-300||($.type==="touchend"&&(S.current=Date.now(),$.preventDefault()),y))return;const F=v+1;x(F),w.current&&clearTimeout(w.current),F>=7?(g(!0),localStorage.setItem(I2,"true"),x(0)):w.current=setTimeout(()=>x(0),2e3)};b.useEffect(()=>{const $=()=>{try{const B=localStorage.getItem(aw);if(B){const U=JSON.parse(B);Array.isArray(U)&&m(U)}}catch(B){console.error("Failed to parse sessions:",B),m([])}};$();const F=()=>$();return window.addEventListener("storage",F),()=>window.removeEventListener("storage",F)},[]);const N=()=>{localStorage.removeItem(aw),m([])},k=$=>{const F=h.filter(B=>B.id!==$);localStorage.setItem(aw,JSON.stringify(F)),m(F)},j=$=>new Date($).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=$=>{const F=Math.floor($/60),B=Math.floor($%60);return F>0?`${F}m ${B}s`:`${B.toFixed(1)}s`},O=$=>$.stats.shotDurations.length===0?0:$.stats.shotDurations.reduce((B,U)=>B+U,0)/$.stats.shotDurations.length;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[c.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[c.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),c.jsxs("p",{className:`text-sm font-light ${l?(u==null?void 0:u.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(u==null?void 0:u.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",l&&" Pro"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{onClick:T,onTouchEnd:T,className:"cursor-default select-none touch-manipulation",children:c.jsx(rte,{})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:c.jsx(uc,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})]})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),c.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Zm,{icon:c.jsx(Ire,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(Nre,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(Pre,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock",proFeature:!0,isProUser:l}),c.jsx(Zm,{icon:c.jsx(jre,{}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:()=>t("/break-speed"),testId:"card-break-speed",proFeature:!0,isProUser:l})]})]})}),c.jsx("footer",{className:"py-4 px-6 text-center border-t",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),c.jsx(Yr,{open:e,onOpenChange:n,children:c.jsxs(Ur,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[c.jsx(wr,{className:"flex-shrink-0",children:c.jsx(Sr,{children:"Settings"})}),c.jsxs(aV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[c.jsxs(SC,{className:"grid w-full grid-cols-4 flex-shrink-0",children:[c.jsxs(Va,{value:"profile","data-testid":"tab-profile",children:[c.jsx(Zf,{className:"w-4 h-4 mr-1"}),"Profile"]}),c.jsxs(Va,{value:"appearance","data-testid":"tab-appearance",children:[c.jsx($N,{className:"w-4 h-4 mr-1"}),"Theme"]}),c.jsxs(Va,{value:"analytics","data-testid":"tab-analytics",children:[c.jsx(Mh,{className:"w-4 h-4 mr-1"}),"Privacy"]}),c.jsxs(Va,{value:"history","data-testid":"tab-history",children:[c.jsx(Ey,{className:"w-4 h-4 mr-1"}),"History"]})]}),c.jsxs(Ba,{value:"profile",className:"flex-1 overflow-auto mt-4 space-y-4",children:[c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-primary/20":"bg-muted"}`,children:c.jsx(Zf,{className:`w-6 h-6 ${a?"text-primary":"text-muted-foreground"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:a?a.displayName||a.email||"Signed In":"Guest User"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a?a.email:"Not signed in"})]})]}),c.jsx("div",{className:"flex items-center gap-2 text-sm",children:a?c.jsxs(c.Fragment,{children:[c.jsx(sH,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):c.jsxs(c.Fragment,{children:[c.jsx(aH,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Pro Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(J$,{className:`w-5 h-5 ${l?"text-primary":"text-muted-foreground"}`}),c.jsx("span",{className:l?"font-medium":"text-muted-foreground",children:l?"Pro Unlocked":"Free Version"})]}),l&&u&&c.jsx(FF,{variant:"outline",className:u.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":u.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:u.toUpperCase()})]}),l&&c.jsx("p",{className:"text-xs text-muted-foreground",children:a?"Pro status synced to your account":"Pro status stored locally on this device"})]}),c.jsx("div",{className:"space-y-2",children:a?c.jsxs(de,{variant:"outline",className:"w-full",onClick:async()=>{await f()},"data-testid":"button-sign-out",children:[c.jsx(fH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),c.jsxs(de,{variant:"outline",className:"w-full",onClick:async()=>{await d()},"data-testid":"button-sign-in-google",children:[c.jsx(M1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),a&&c.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[c.jsx("p",{children:"App Version: v0.9.8"}),c.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]}),c.jsxs(Ba,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(tn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?c.jsx(vH,{className:"w-4 h-4"}):c.jsx(EH,{className:"w-4 h-4"}),"Theme Mode"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),c.jsx(Ni,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(tn,{className:"flex items-center gap-2",children:[c.jsx($N,{className:"w-4 h-4"}),"Accent Color"]}),c.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:$g.map($=>c.jsx("button",{onClick:()=>s($),className:`relative aspect-square rounded-lg transition-all ${o.id===$.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${$.primary})`},title:$.name,"data-testid":`button-color-${$.id}`,children:o.id===$.id&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},$.id))}),c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),c.jsxs(Ba,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[c.jsx(kre,{}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Mh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Data Collection"}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),c.jsx(Ni,{checked:P.usageStats,onCheckedChange:$=>{const F={...P,usageStats:$};_(F),Ct.setConsent(F)},"data-testid":"switch-settings-usage"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),c.jsx(Ni,{checked:P.skillMetrics,onCheckedChange:$=>{const F={...P,skillMetrics:$};_(F),Ct.setConsent(F)},"data-testid":"switch-settings-skills"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!P.usageStats&&c.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),c.jsx(Ni,{checked:P.benchmarking,onCheckedChange:$=>{const F={...P,benchmarking:$,usageStats:$?!0:P.usageStats};_(F),Ct.setConsent(F)},"data-testid":"switch-settings-benchmark"})]})]}),c.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Data Management"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const $=Ct.exportData(),F=new Blob([$],{type:"application/json"}),B=URL.createObjectURL(F),U=document.createElement("a");U.href=B,U.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,U.click(),URL.revokeObjectURL(B)},"data-testid":"button-export-data",children:[c.jsx(tL,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(de,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Ct.deleteAllData()},"data-testid":"button-delete-data",children:[c.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),c.jsxs(Ba,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[c.jsxs(tn,{className:"flex items-center gap-2",children:[c.jsx(Rh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),h.length>0&&c.jsxs(de,{variant:"ghost",size:"sm",onClick:N,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[c.jsx(Ty,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),c.jsx(AC,{className:"flex-1",children:h.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(Ey,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No session history yet"}),c.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):c.jsx("div",{className:"space-y-3 pr-3",children:h.map($=>c.jsxs(nt,{className:"p-3","data-testid":`card-session-${$.id}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:$.stats.playerNames.join(" vs ")}),c.jsx("p",{className:"text-xs text-muted-foreground",children:j($.date)})]}),c.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>k($.id),"data-testid":`button-delete-session-${$.id}`,children:c.jsx(qp,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(rT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:R(O($))}),c.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(Wc,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.shotCount}),c.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(Rh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.totalExtensions}),c.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),c.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[c.jsx(iT,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),c.jsx("p",{className:"font-medium",children:$.stats.timeouts}),c.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},$.id))})})]})]})]})}),c.jsx(vne,{open:C,onComplete:()=>{E(!1),_(Ct.getConsent())}}),c.jsx(Xne,{})]})}var PC="Collapsible",[Rre,SV]=Di(PC),[Mre,NC]=Rre(PC),_V=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,u]=Fo({prop:r,defaultProp:i,onChange:s});return c.jsx(Mre,{scope:n,disabled:o,contentId:ss(),open:l,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:c.jsx(et.div,{"data-state":OC(l),"data-disabled":o?"":void 0,...a,ref:e})})});_V.displayName=PC;var EV="CollapsibleTrigger",jC=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=NC(EV,n);return c.jsx(et.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":OC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Le(t.onClick,i.onOpenToggle)})});jC.displayName=EV;var IC="CollapsibleContent",kC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=NC(IC,t.__scopeCollapsible);return c.jsx(ro,{present:n||i.open,children:({present:o})=>c.jsx(Dre,{...r,ref:e,present:o})})});kC.displayName=IC;var Dre=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=NC(IC,n),[a,l]=b.useState(r),u=b.useRef(null),d=vt(e,u),f=b.useRef(0),h=f.current,m=b.useRef(0),y=m.current,g=s.open||a,v=b.useRef(g),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),dr(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),l(r)}},[s.open,r]),c.jsx(et.div,{"data-state":OC(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function OC(t){return t?"open":"closed"}var TV=_V,$re=jC,Lre=kC;const k2=TV,O2=jC,R2=kC,lr=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ct("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));lr.displayName="Input";var ua="Accordion",Fre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[RC,Vre,Bre]=zp(ua),[n0,r2e]=Di(ua,[Bre,SV]),MC=SV(),CV=q.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return c.jsx(RC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Hre,{...o,ref:e}):c.jsx(Wre,{...i,ref:e})})});CV.displayName=ua;var[AV,Ure]=n0(ua),[PV,zre]=n0(ua,{collapsible:!1}),Wre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Fo({prop:n,defaultProp:r,onChange:i});return c.jsx(AV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:q.useCallback(()=>o&&l(""),[o,l]),children:c.jsx(PV,{scope:t.__scopeAccordion,collapsible:o,children:c.jsx(NV,{...s,ref:e})})})}),Hre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Fo({prop:n,defaultProp:r,onChange:i}),l=q.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=q.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return c.jsx(AV,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(PV,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(NV,{...o,ref:e})})})}),[qre,r0]=n0(ua),NV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=q.useRef(null),l=vt(a,e),u=Vre(n),f=Ud(i)==="ltr",h=Le(t.onKeyDown,m=>{var T;if(!Fre.includes(m.key))return;const y=m.target,g=u().filter(N=>{var k;return!((k=N.ref.current)!=null&&k.disabled)}),v=g.findIndex(N=>N.ref.current===y),x=g.length;if(v===-1)return;m.preventDefault();let w=v;const S=0,C=x-1,E=()=>{w=v+1,w>C&&(w=S)},P=()=>{w=v-1,w<S&&(w=C)};switch(m.key){case"Home":w=S;break;case"End":w=C;break;case"ArrowRight":o==="horizontal"&&(f?E():P());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?P():E());break;case"ArrowUp":o==="vertical"&&P();break}const _=w%x;(T=g[_].ref.current)==null||T.focus()});return c.jsx(qre,{scope:n,disabled:r,direction:i,orientation:o,children:c.jsx(RC.Slot,{scope:n,children:c.jsx(et.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Zy="AccordionItem",[Gre,DC]=n0(Zy),jV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=r0(Zy,n),s=Ure(Zy,n),a=MC(n),l=ss(),u=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return c.jsx(Gre,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(TV,{"data-orientation":o.orientation,"data-state":DV(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});jV.displayName=Zy;var IV="AccordionHeader",kV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=DC(IV,n);return c.jsx(et.h3,{"data-orientation":i.orientation,"data-state":DV(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});kV.displayName=IV;var xS="AccordionTrigger",OV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=DC(xS,n),s=zre(xS,n),a=MC(n);return c.jsx(RC.ItemSlot,{scope:n,children:c.jsx($re,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});OV.displayName=xS;var RV="AccordionContent",MV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=r0(ua,n),o=DC(RV,n),s=MC(n);return c.jsx(Lre,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});MV.displayName=RV;function DV(t){return t?"open":"closed"}var Kre=CV,Yre=jV,Xre=kV,$V=OV,LV=MV;const ah=Kre,_o=b.forwardRef(({className:t,...e},n)=>c.jsx(Yre,{ref:n,className:ct("border-b",t),...e}));_o.displayName="AccordionItem";const Eo=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(Xre,{className:"flex",children:c.jsxs($V,{ref:r,className:ct("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(Oh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Eo.displayName=$V.displayName;const To=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(LV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:ct("pb-4 pt-0",t),children:e})}));To.displayName=LV.displayName;const Qre=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Jre(t){return Qre.includes(t.toUpperCase().trim())}function ev({className:t=""}){return c.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:c.jsx(Vl,{className:"w-3 h-3"})})}function Xg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Bd(),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(!1),[m,y]=b.useState(!1),g=async w=>{if(w.preventDefault(),!Jre(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await o(a);h(!1),S?y(!0):d("Failed to unlock. Please try again.")},v=()=>{m?window.location.reload():e(!1)},x=[{icon:Dh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:_y,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:iL,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:lH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:LN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:Vl,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return c.jsx(Yr,{open:t,onOpenChange:v,children:c.jsx(Ur,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?c.jsxs(c.Fragment,{children:[c.jsxs(wr,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:c.jsx(LN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),c.jsx(Sr,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),c.jsx(Io,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),c.jsx(AC,{className:"flex-1 max-h-[300px] pr-4",children:c.jsxs("div",{className:"space-y-3 py-2",children:[c.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),x.map((w,S)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[c.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:c.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm",children:w.title}),c.jsx(Z$,{className:"w-3 h-3 text-green-500"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),c.jsxs(de,{onClick:v,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[c.jsx(Vl,{className:"w-4 h-4"}),"Let's Go!"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(wr,{children:[c.jsxs(Sr,{className:"flex items-center gap-2",children:[c.jsx(Vl,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),c.jsx(Io,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs(de,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[c.jsx(M1,{className:"w-4 h-4"}),"Sign in with Google"]}),c.jsxs(de,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[c.jsx(M1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&c.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(lr,{placeholder:"Enter promo code",value:a,onChange:w=>{l(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),u&&c.jsx("p",{className:"text-sm text-destructive mt-2",children:u})]}),c.jsxs(de,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[c.jsx(Vl,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function tv({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=b.useState(!1),{isPro:a}=Bd();if(a||!e)return c.jsx(c.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?c.jsxs("div",{className:"relative",children:[t,c.jsx("div",{className:"absolute top-1 right-1",children:c.jsx(ev,{})}),c.jsx(Xg,{open:o,onOpenChange:s})]}):r==="overlay"?c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[c.jsx(R1,{className:"w-8 h-8 text-muted-foreground mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),c.jsxs(de,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Vl,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),c.jsx(Xg,{open:o,onOpenChange:s})]}):c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[c.jsx(R1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),c.jsxs(de,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Vl,{className:"w-4 h-4"}),"Upgrade"]})]})}),c.jsx(Xg,{open:o,onOpenChange:s})]})}function Zre({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=b.useState(!1),{isPro:s}=Bd();if(s||!e)return c.jsx(de,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs(de,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,c.jsx("span",{className:"absolute -top-1 -right-1",children:c.jsx(ev,{})})]}),c.jsx(Xg,{open:i,onOpenChange:o})]})}const Vc=["mph","kph","m/s","ft/s"],Qg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},M2=Object.keys(Qg),Go=(t,e,n)=>Math.min(n,Math.max(e,t)),eie=.0254,es=2.25,Ns=es/2,FV="cuemaster-velocity-v1";function tie(){try{const t=localStorage.getItem(FV);return t?JSON.parse(t):null}catch{return null}}function nie(t){try{localStorage.setItem(FV,JSON.stringify(t))}catch{}}function rie(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*es,d=(l-1)*es;for(let f=0;f<l;f++)o.push({x:i-d/2+f*es,y:u,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*es,d=(l-1)*es;for(let f=0;f<l;f++)o.push({x:i-d/2+f*es,y:u,row:a,idx:f,n:l})}}return o}function iie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function oie({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function sie(){var tt;const[,t]=vl(),{toast:e}=jd(),[n,r]=b.useState("record"),[i,o]=b.useState(3),s=M2[i]||"9' (tournament)",a=Qg[s],l=a.W,u=a.L,[d,f]=b.useState("9"),[h,m]=b.useState(!0),[y,g]=b.useState("mph"),[v,x]=b.useState(!1),w=()=>{const G=Vc.indexOf(y);g(Vc[(G+1)%Vc.length])},[S,C]=b.useState({x:25,y:20}),[E,P]=b.useState({x:l/2,y:3*u/4-es}),[_,T]=b.useState(null),[N,k]=b.useState(null),[j,R]=b.useState(!1),[O,$]=b.useState(null),[F,B]=b.useState(null),[U,V]=b.useState(null),[W,ne]=b.useState([]),[X,ie]=b.useState(!1),[le,be]=b.useState(!1),[ke,st]=b.useState(1),[xe,je]=b.useState(!1),[se,pe]=b.useState([null,null,null,null,null]),[ce,z]=b.useState({open:!1,kind:null,index:null}),[we,Te]=b.useState(!1),[Xe,Qe]=b.useState(!1),[at,pt]=b.useState([]),[_e,Pe]=b.useState(!1),[Me,Tt]=b.useState(""),[Ut,rn]=b.useState(""),[hn,Bn]=b.useState(!1),[Ar,pn]=b.useState(0),[mn,Ht]=b.useState(!1),[gn,Ft]=b.useState([]),[Ge,Hr]=b.useState(null),[hr,Pr]=b.useState(0),ei=b.useRef(null),qt=b.useRef(null),zt=b.useRef(null),pr=b.useRef(!1);b.useEffect(()=>(Ct.startSession("velocity"),()=>{Ct.endSession()}),[]),b.useEffect(()=>{const G=tie();G?(o(G.presetIndex??3),C(G.cue||{x:25,y:20}),P(G.ghost||{x:l/2,y:3*u/4-es}),g(G.unit||"mph"),ne(G.history||[]),f(G.variant||"9"),m(G.snap??!0),pe(G.breakSlots||[null,null,null,null,null]),pt(G.leaderboard||[]),rn(G.storedInitials||""),G.tutorialDone||be(!0)):be(!0)},[]),b.useEffect(()=>{nie({presetIndex:i,cue:S,ghost:E,unit:y,history:W,variant:d,snap:h,breakSlots:se,leaderboard:at,storedInitials:Ut,tutorialDone:!0})},[i,S,E,y,W,d,h,se,at,Ut]),b.useEffect(()=>{const G=setInterval(()=>{pn(Ae=>(Ae+1)%Vc.length)},4e3);return()=>clearInterval(G)},[]),b.useEffect(()=>{C(G=>({x:Go(G.x,0,l),y:Go(G.y,0,u/4)})),P(G=>({x:Go(G.x,0,l),y:Go(G.y,Ns,u-Ns)}))},[l,u]);const Un=b.useMemo(()=>rie(d,l,u),[d,l,u]),Gt=b.useCallback((G,Ae)=>{const De=Ae.x-G.x,Z=Ae.y-G.y,ge=Math.hypot(De,Z);if(!ge)return null;const qe=De/ge,We=Z/ge,jt=es;let Rt=1/0,Kt=null,tr=null;for(let nr=0;nr<Un.length;nr++){const It=Un[nr],M=It.x-G.x,L=It.y-G.y,K=M*qe+L*We;if(K<=0)continue;const Q=G.x+qe*K,J=G.y+We*K,ue=Math.hypot(It.x-Q,It.y-J);if(ue>jt)continue;const ae=Math.sqrt(jt*jt-ue*ue),te=K-ae;te<=0||te<Rt&&(Rt=te,Kt={x:G.x+qe*te,y:G.y+We*te},tr=nr)}return Kt?{point:Kt,index:tr}:null},[Un]),er=b.useCallback((G=S,Ae=E)=>{const De=Ae.x-G.x,Z=Ae.y-G.y,ge=Math.hypot(De,Z);return Z<=0||ge<=0?null:ge},[S,E]),zn=b.useMemo(()=>{const G=er();if(!G)return!1;const Ae=(E.x-S.x)/G,De=(E.y-S.y)/G,Z=oie({x0:S.x,y0:S.y,dx:Ae,dy:De,W:l,L:u});return!Z||G<=Z+1e-6},[S,E,l,u,er]),xn=b.useMemo(()=>{const G=er();return{dCG:G?G.toFixed(2):""}},[er]),ao=G=>{switch(y){case"ft/s":return(G*3.28084).toFixed(2);case"m/s":return G.toFixed(2);case"kph":return(G*3.6).toFixed(2);default:return(G*2.23693629).toFixed(2)}},$i=G=>{switch(y){case"ft/s":return(G*1.46667).toFixed(2);case"m/s":return(G*.44704).toFixed(2);case"kph":return(G*1.60934).toFixed(2);default:return G.toFixed(2)}},ti=(G,Ae)=>{switch(Ae){case"ft/s":return(G*1.46667).toFixed(2);case"m/s":return(G*.44704).toFixed(2);case"kph":return(G*1.60934).toFixed(2);default:return G.toFixed(2)}},_s=(G,Ae,De=!1)=>{const Z=G.toUpperCase().slice(0,3),ge=Math.min(100,Math.round(Ae/25*100)),qe={initials:Z,mph:Ae,percentage:ge,ts:Date.now()};pt(We=>[...We,qe].sort((Rt,Kt)=>Kt.percentage-Rt.percentage).slice(0,1e3)),Z.length===3&&rn(Z),Bn(!1),Tt(""),De||e({title:"Added to Leaderboard",description:`${Z} - ${ge}%`})},ni=b.useRef([]),[lo,Li]=b.useState(0),[ri,Nr]=b.useState(null),mi=3e3,pa=48e3,jr=(G,Ae=!1)=>{if(G.length<20)return Ae&&console.log("[DEBUG] Not enough samples:",G.length),null;const De=2,Z=[];for(let te=0;te<G.length;te++){let ye=0,Ee=0;for(let Se=Math.max(0,te-De);Se<=Math.min(G.length-1,te+De);Se++)ye+=G[Se].amplitude*G[Se].amplitude,Ee++;Z.push({time:G[te].time,amplitude:Math.sqrt(ye/Ee)})}let ge=0;for(let te=0;te<Z.length;te++)Z[te].amplitude>ge&&(ge=Z[te].amplitude);if(Ae&&console.log("[DEBUG] Max amplitude (smoothed):",ge.toFixed(4)),ge<.08)return Ae&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const qe=80,We=450,jt=120;let Rt=0,Kt=Z[0].amplitude;for(let te=0;te<Z.length&&!(Z[te].time>80);te++)Z[te].amplitude>Kt&&(Kt=Z[te].amplitude,Rt=te);const tr=Z[Rt].time;Ae&&console.log("[DEBUG] First peak at",tr.toFixed(1),"ms, amp:",Kt.toFixed(4));const nr=te=>Kt*Math.exp(-te/jt),It=.75;let M=-1,L=1/0,K=-1;for(let te=Rt+1;te<Z.length;te++){const ye=Z[te].time-tr;if(ye<25)continue;if(ye>200)break;const Ee=nr(ye),Se=Ee*It,Oe=te>0&&te<Z.length-1&&Z[te].amplitude<=Z[te-1].amplitude&&Z[te].amplitude<=Z[te+1].amplitude;(Z[te].amplitude<Se||Oe&&Z[te].amplitude<Ee)&&Z[te].amplitude<L&&(L=Z[te].amplitude,M=te,K=Z[te].time)}if(M===-1){Ae&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let te=Kt;for(let ye=Rt+1;ye<Z.length;ye++){const Ee=Z[ye].time-tr;if(!(Ee<25)){if(Ee>200)break;Z[ye].amplitude<te&&(te=Z[ye].amplitude,M=ye,K=Z[ye].time,L=te)}}M!==-1&&L>Kt*.8&&(Ae&&console.log("[DEBUG] Valley not deep enough (only",((1-L/Kt)*100).toFixed(1),"% drop)"),M=-1)}if(M===-1)return Ae&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(Ae){const te=nr(K-tr);console.log("[DEBUG] Valley at",K.toFixed(1),"ms, amp:",L.toFixed(4),"(expected decay:",te.toFixed(4),", ratio:",(L/te).toFixed(2),")")}let Q=-1,J=0;const ue=1.3;for(let te=M+1;te<Z.length;te++){const ye=Z[te].time-tr;if(!(ye<qe)){if(ye>We)break;Z[te].amplitude>L*ue&&Z[te].amplitude>J&&(J=Z[te].amplitude,Q=te)}}if(Ae&&(Q!==-1?console.log("[DEBUG] Second peak at",Z[Q].time.toFixed(1),"ms, amp:",J.toFixed(4),"(",((J/L-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",qe,"-",We,"ms window")),Q===-1||J<ge*.1)return Ae&&console.log("[DEBUG] Second peak too weak or not found (need >",(ge*.1).toFixed(4),")"),null;const ae=te=>{let ye=0,Ee=1/0;for(let Se=0;Se<G.length;Se++){const Oe=Math.abs(G[Se].time-te);Oe<Ee&&(Ee=Oe,ye=Se)}return G[ye]};return{first:ae(Z[Rt].time),second:ae(Z[Q].time),valleyTime:K,valleyAmp:L,expectedDecayAtValley:nr(K-tr),decayTau:jt}},ma=async()=>{const G={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:pa}},Ae=await navigator.mediaDevices.getUserMedia(G),De=new AudioContext({sampleRate:pa});De.state==="suspended"&&await De.resume();const Z=De.createMediaStreamSource(Ae),ge=De.createBiquadFilter();ge.type="highpass",ge.frequency.value=150;const qe=De.createBiquadFilter();qe.type="lowpass",qe.frequency.value=8e3;const We=De.createAnalyser();We.fftSize=2048,Z.connect(ge),ge.connect(qe),qe.connect(We);const jt=new Float32Array(We.fftSize);ni.current=[];let Rt=null,Kt=null;const tr=.15,nr=()=>{if(!pr.current)return;We.getFloatTimeDomainData(jt);let It=0;for(let L=0;L<jt.length;L++)It=Math.max(It,Math.abs(jt[L]));const M=performance.now();if(Pr(It),Rt===null&&It>tr&&(Rt=M,Kt=M,Nr("Recording break..."),mn&&console.log("[DEBUG] Recording triggered at amplitude:",It.toFixed(4))),Rt!==null){ni.current.push({time:M-Rt,amplitude:It});const L=M-Kt;if(Li(Math.min(100,L/mi*100)),L>=mi){pr.current=!1,Nr("Analyzing audio..."),mn&&Ft([...ni.current]);const K=jr(ni.current,mn);if(mn&&Hr(K?{first:K.first,second:K.second,valleyTime:K.valleyTime,valleyAmp:K.valleyAmp,expectedDecayAtValley:K.expectedDecayAtValley,decayTau:K.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),K){const Q=(K.second.time-K.first.time)/1e3;if(Q>=.08&&Q<=.45)$(K.first.time/1e3),B(K.second.time/1e3),Nr(`Found peaks: ${Q.toFixed(4)}s apart`);else{const J=`Peaks were ${(Q*1e3).toFixed(0)}ms apart (expected 80-450ms)`;zt.current&&(zt.current.stream.getTracks().forEach(ue=>ue.stop()),zt.current.audioCtx.close(),zt.current=null),R(!1),Li(0),Nr(null),qt.current&&clearTimeout(qt.current),e({title:"Detection failed",description:J,variant:"destructive"})}}else zt.current&&(zt.current.stream.getTracks().forEach(Q=>Q.stop()),zt.current.audioCtx.close(),zt.current=null),R(!1),Li(0),Nr(null),qt.current&&clearTimeout(qt.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(nr)};return requestAnimationFrame(nr),{audioCtx:De,stream:Ae}},Es=async()=>{if(!er()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}V(null),$(null),B(null),Li(0),Nr(null),R(!0);try{pr.current=!0,zt.current=await ma(),qt.current&&clearTimeout(qt.current),qt.current=setTimeout(()=>{gi(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(Ae){console.error(Ae),R(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},gi=()=>{pr.current=!1,zt.current&&(zt.current.stream.getTracks().forEach(G=>G.stop()),zt.current.audioCtx.close(),zt.current=null),R(!1),Li(0),Nr(null),qt.current&&clearTimeout(qt.current)};b.useEffect(()=>{if(O!==null&&F!==null&&j){const G=er()||0,Ae=G*eie,De=Math.max(.1,F-O),Z=Ae/De,ge=Z*2.23693629,qe=Math.min(45,Math.max(5,ge)),We={raw_mps:Z,mph:Number(qe.toFixed(2)),distanceIn:Number(G.toFixed(1)),deltaT:Number(De.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:l,L:u},variant:d};ne(jt=>[We,...jt].slice(0,500)),V(We),R(!1),gi(),ie(!0),n==="shark"&&Ut.length===3&&_s(Ut,We.mph,!0),Ct.trackSkillMetric("velocity","break_speed",We.mph,{distanceIn:We.distanceIn,variant:We.variant})}},[O,F,j,S,E,l,u,d,er,n,Ut]);const Mn=(G,Ae,De)=>{const Z=Ae/De,qe=Math.round(G/Z)*Z;return Math.abs(G-qe)<=.35&&h?qe:G},H=()=>{const Ae=Math.min(typeof window<"u"?window.innerWidth-48:400,500),Z=Math.min(Ae/l,400/u),ge=l*Z,qe=u*Z,We=S.x*Z+8,jt=qe-S.y*Z+8,Rt=E.x*Z+8,Kt=qe-E.y*Z+8,tr=It=>{var Q;It.preventDefault(),Qe(!0);const M=(Q=ei.current)==null?void 0:Q.getBoundingClientRect();if(!M)return;const L=J=>{const ue={x:J.clientX-M.left,y:J.clientY-M.top};let ae=(ue.x-8)/Z,te=(qe-(ue.y-8))/Z;ae=Go(Mn(ae,l,8),0,l),te=Go(Mn(te,u,8),Ns,u-Ns);const Ee=Gt(S,{x:ae,y:te});if(Ee&&Ee.point){const{point:Se,index:Oe}=Ee,ft=Go(Se.x,0,l),on=Go(Se.y,Ns,u-Ns);P({x:ft,y:on}),T({x:ft,y:on,index:Oe}),k(Oe)}else _&&(P({x:_.x,y:_.y}),k(_.index??null))},K=()=>{Qe(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})},nr=It=>{var Q;It.preventDefault(),Te(!0);const M=(Q=ei.current)==null?void 0:Q.getBoundingClientRect();if(!M)return;const L=J=>{const ue={x:J.clientX-M.left,y:J.clientY-M.top};let ae=(ue.x-8)/Z,te=(qe-(ue.y-8))/Z;ae=Go(Mn(ae,l,8),0,l),te=Go(Mn(te,u,8),0,u/4),C({x:ae,y:te})},K=()=>{Te(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})};return c.jsxs("svg",{ref:ei,width:ge+8*2,height:qe+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[c.jsx("rect",{x:8,y:8,width:ge,height:qe,fill:"#03C04A",stroke:zn?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(It,M)=>(M+1)/8*ge+8).map((It,M)=>c.jsx("line",{x1:It,x2:It,y1:8,y2:8+qe,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+M)),Array.from({length:7},(It,M)=>(M+1)/8*qe+8).map((It,M)=>c.jsx("line",{x1:8,x2:8+ge,y1:It,y2:It,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+M)),c.jsx("line",{x1:We,y1:jt,x2:Rt,y2:Kt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Un.map((It,M)=>{const L=It.x*Z+8,K=qe-It.y*Z+8,Q=M===N;return c.jsx("circle",{cx:L,cy:K,r:Ns*Z,fill:Q?"#ffe9e9":"#ffffff",stroke:Q?"hsl(var(--primary))":"#000000",strokeWidth:Q?2.2:1.25,opacity:Q?1:.9},M)}),Xe&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:Kt,x2:8+ge,y2:Kt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:Rt,y1:8,x2:Rt,y2:8+qe,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),we&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:jt,x2:8+ge,y2:jt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:We,y1:8,x2:We,y2:8+qe,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),c.jsx("circle",{cx:Rt,cy:Kt,r:Ns*Z,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:tr,style:{cursor:"grab"}}),c.jsx("circle",{cx:We,cy:jt,r:Ns*Z,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:nr,style:{cursor:"grab"}})]})},re=b.useMemo(()=>iie(W),[W]),Ne=G=>z({open:!0,kind:"load",index:G}),ze=G=>z({open:!0,kind:"save",index:G}),Ve=({i:G})=>{const Ae=!!se[G],De=b.useRef(null),Z=()=>{De.current=setTimeout(()=>{ze(G),De.current=null},520)},ge=()=>{De.current&&(clearTimeout(De.current),Ne(G),De.current=null)};return c.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Ae?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:Z,onPointerUp:ge,onPointerLeave:()=>De.current&&clearTimeout(De.current),"data-testid":`button-slot-${G+1}`,children:["Slot ",G+1]})};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>be(!0),"data-testid":"button-help",children:c.jsx(Tx,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>je(!0),"data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-4",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(aV,{value:n,onValueChange:r,className:"w-full",children:[c.jsxs(SC,{className:"grid w-full grid-cols-3",children:[c.jsx(Va,{value:"record","data-testid":"tab-record",children:"Record"}),c.jsx(Va,{value:"stats","data-testid":"tab-stats",children:"Stats"}),c.jsxs(Va,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",c.jsx(ev,{})]})]}),c.jsxs(Ba,{value:"record",className:"space-y-3 mt-3",children:[c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),c.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[U?ao(U.raw_mps):"--.--.",c.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:y})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),c.jsx(de,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?gi:Es,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:ri||"Waiting for sound..."}),c.jsxs("span",{className:"font-mono text-primary",children:[Math.round(lo),"%"]})]}),c.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${lo}%`}})}),mn&&c.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[c.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),c.jsx("span",{className:"text-green-400 font-mono",children:hr.toFixed(4)})]}),c.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-50 ${hr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,hr*100)}%`}})}),c.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),mn&&gn.length>0&&!j&&c.jsxs(nt,{className:"p-3 bg-black/80 border-green-500/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const G={samples:gn,peaks:Ge,timestamp:new Date().toISOString(),settings:{presetKey:s,variant:d,snap:h}},Ae=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),De=URL.createObjectURL(Ae),Z=document.createElement("a");Z.href=De,Z.download=`break-audio-${Date.now()}.json`,Z.click(),URL.revokeObjectURL(De),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),c.jsx(de,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{Ft([]),Hr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),c.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[c.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",gn.length," | Duration: ",gn.length>0?(gn[gn.length-1].time/1e3).toFixed(2):0,"s"]}),c.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[c.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(G=>c.jsxs("g",{children:[c.jsx("line",{x1:`${G/3e3*100}%`,y1:"0",x2:`${G/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),c.jsxs("text",{x:`${G/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[G,"ms"]})]},G)),c.jsx("polyline",{points:gn.slice(0,500).map((G,Ae)=>{const De=Ae/500*100,Z=40-G.amplitude*35;return`${De}%,${Z}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(Ge==null?void 0:Ge.first)&&c.jsx("circle",{cx:`${Ge.first.time/3e3*100}%`,cy:40-Ge.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.second)&&c.jsx("circle",{cx:`${Ge.second.time/3e3*100}%`,cy:40-Ge.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.valleyTime)&&Ge.valleyTime>0&&Ge.valleyAmp&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:`${Ge.valleyTime/3e3*100}%`,y1:"0",x2:`${Ge.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),c.jsx("circle",{cx:`${Ge.valleyTime/3e3*100}%`,cy:40-Ge.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[c.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),c.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),c.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[c.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[c.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),Ge!=null&&Ge.first?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.first.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.first.amplitude.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[c.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),Ge!=null&&Ge.valleyTime&&Ge.valleyAmp?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.valleyTime.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.valleyAmp.toFixed(4)]}),Ge.expectedDecayAtValley&&c.jsxs("div",{className:"text-[9px]",children:["Expected: ",Ge.expectedDecayAtValley.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[c.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),Ge!=null&&Ge.second?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.second.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.second.amplitude.toFixed(4)]}),c.jsxs("div",{children:["T: ",(Ge.second.time-(((tt=Ge.first)==null?void 0:tt.time)||0)).toFixed(1),"ms"]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[c.jsxs("div",{children:["Decay tau: ",(Ge==null?void 0:Ge.decayTau)||120,"ms (reverb tolerance)"]}),c.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),c.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),c.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),c.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),c.jsx(nt,{className:"p-3",children:c.jsxs(k2,{open:v,onOpenChange:x,children:[c.jsxs(O2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[xn.dCG,'"  ',d,"-ball"]})]}),c.jsx(Oh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsxs(R2,{className:"pt-2",children:[c.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(G=>c.jsxs(de,{variant:d===G?"default":"outline",size:"sm",onClick:()=>f(G),"data-testid":`button-variant-${G}`,children:[G,"-ball"]},G))}),c.jsx(H,{}),!zn&&c.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),c.jsx(tv,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-sm font-medium",children:["Presets ",c.jsx(ev,{})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(G=>c.jsx(Ve,{i:G},G))})]})})]}),c.jsx(Ba,{value:"stats",className:"space-y-3 mt-3",children:c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),c.jsx("div",{className:"text-lg font-bold",children:re?$i(re.high):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),c.jsx("div",{className:"text-lg font-bold",children:re?$i(re.avg):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),c.jsx("div",{className:"text-lg font-bold",children:re?$i(re.low):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]})]}),c.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[W.length," breaks recorded"]}),W.length>0&&c.jsxs(de,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>ne([]),"data-testid":"button-clear-history",children:[c.jsx(rL,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),c.jsx(Ba,{value:"shark",className:"space-y-3 mt-3",children:c.jsxs(tv,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),c.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:y})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),c.jsx("stop",{offset:"50%",stopColor:"#eab308"}),c.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,U?U.mph/25*100:0)*2.2} 220`}),(()=>{const De=(-180+Math.min(100,U?U.mph/25*100:0)/100*180)*Math.PI/180,Z=90,ge=90,qe=55,We=Z+qe*Math.cos(De),jt=ge+qe*Math.sin(De);return c.jsxs("g",{children:[c.jsx("line",{x1:Z,y1:ge,x2:We,y2:jt,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:Z,cy:ge,r:"6",fill:"hsl(var(--foreground))"})]})})(),c.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[U?Math.min(100,Math.round(U.mph/25*100)):0,"%"]})]})}),c.jsx(de,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?gi:Es,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),c.jsx(nt,{className:"p-3",children:c.jsxs(k2,{open:v,onOpenChange:x,children:[c.jsxs(O2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[xn.dCG,'"  ',d,"-ball"]})]}),c.jsx(Oh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsx(R2,{className:"pt-2",children:c.jsx(H,{})})]})}),U&&c.jsxs(de,{variant:"outline",className:"w-full",onClick:()=>Bn(!0),"data-testid":"button-add-to-leaderboard",children:[c.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),c.jsx(nt,{className:"p-3",children:c.jsx(ah,{type:"single",collapsible:!0,value:_e?"leaderboard":"",onValueChange:G=>Pe(G==="leaderboard"),children:c.jsxs(_o,{value:"leaderboard",className:"border-none",children:[c.jsx(Eo,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",at.length,")"]})]})}),c.jsxs(To,{children:[at.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):c.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0 bg-card",children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:c.jsx("span",{className:"text-primary",children:Vc[Ar]})})]})}),c.jsx("tbody",{children:at.map((G,Ae)=>c.jsxs("tr",{className:`border-b border-border/50 ${Ae<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Ae}`,children:[c.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Ae===0&&c.jsx("span",{className:"text-yellow-500",children:""}),Ae===1&&c.jsx("span",{className:"text-gray-400",children:""}),Ae===2&&c.jsx("span",{className:"text-amber-600",children:""}),Ae>2&&Ae+1]}),c.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:G.initials}),c.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[G.percentage,"%"]}),c.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ti(G.mph,Vc[Ar])})]},`${G.initials}-${G.ts}`))})]})}),at.length>0&&c.jsx(de,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&pt([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),c.jsx(Yr,{open:le,onOpenChange:be,children:c.jsxs(Ur,{className:"max-w-md",children:[c.jsx(wr,{children:c.jsx(Sr,{children:"Welcome to CueMaster: Velocity"})}),c.jsxs("div",{className:"space-y-4",children:[ke===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",c.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",c.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),c.jsx(de,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),ke===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",c.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",c.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),ke===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",c.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),ke===4&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),c.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",c.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>st(G=>Math.max(1,G-1)),disabled:ke===1,children:"Back"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>st(G=>Math.min(4,G+1)),disabled:ke===4,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(G=>c.jsx("div",{className:`w-2 h-2 rounded-full ${G===ke?"bg-primary":"bg-muted"}`},G))}),c.jsx(de,{size:"sm",onClick:()=>be(!1),children:ke===4?"Finish":"Skip"})]})]})}),c.jsx(Yr,{open:X,onOpenChange:ie,children:c.jsxs(Ur,{className:"max-w-md",children:[c.jsx(wr,{children:c.jsx(Sr,{children:"Confirm First Contact"})}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),c.jsx(H,{}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(de,{variant:"outline",onClick:()=>ie(!1),children:"Looks Right"}),c.jsx(de,{onClick:()=>ie(!1),children:"Confirm"})]})]})}),c.jsx(Yr,{open:ce.open,onOpenChange:G=>z({...ce,open:G}),children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsx(wr,{children:c.jsx(Sr,{children:ce.kind==="load"?"Load Preset":"Save Preset"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:ce.kind==="load"?se[ce.index]?"Load this saved break setup?":"This slot is empty.":se[ce.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(de,{variant:"outline",onClick:()=>z({open:!1,kind:null,index:null}),children:"Cancel"}),c.jsx(de,{onClick:()=>{if(ce.kind==="load"){const G=se[ce.index];G&&(C(G.cue),P(G.ghost),f(G.variant),o(G.presetIndex),m(G.snap),e({title:"Preset loaded"}))}else{const G={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};pe(Ae=>{const De=[...Ae];return De[ce.index]=G,De}),e({title:"Preset saved"})}z({open:!1,kind:null,index:null})},disabled:ce.kind==="load"&&!se[ce.index],children:ce.kind==="load"?"Load":se[ce.index]?"Overwrite":"Save"})]})]})}),c.jsx(Yr,{open:xe,onOpenChange:je,children:c.jsxs(Ur,{className:"max-w-md",children:[c.jsx(wr,{children:c.jsx(Sr,{children:"Settings"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(tn,{children:"Snap to Grid"}),c.jsx(Ni,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"mb-2 block",children:"Table Size"}),c.jsx("div",{className:"space-y-1",children:M2.map((G,Ae)=>c.jsxs("button",{onClick:()=>o(Ae),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Ae===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Ae}`,children:[c.jsx("span",{className:"font-medium",children:G}),c.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Qg[G].W,"",Qg[G].L," in"]})]},G))})]}),c.jsx(de,{variant:"outline",className:"w-full",onClick:()=>be(!0),children:"Open Tutorial"}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[c.jsxs("div",{children:[c.jsx(tn,{children:"Debug Mode"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),c.jsx(Ni,{checked:mn,onCheckedChange:Ht,"data-testid":"switch-debug"})]})]})]})}),c.jsx(Yr,{open:hn,onOpenChange:Bn,children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsxs(wr,{children:[c.jsx(Sr,{children:"Enter Your Initials"}),c.jsx(Io,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(tn,{htmlFor:"initials",children:"Initials (3 letters)"}),c.jsx(lr,{id:"initials",value:Me,onChange:G=>Tt(G.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),U&&c.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),c.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(U.mph/25*100)),"%"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[U.mph.toFixed(2)," mph"]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(de,{variant:"outline",onClick:()=>Bn(!1),children:"Cancel"}),c.jsxs(de,{onClick:()=>U&&_s(Me,U.mph),disabled:Me.length!==3,"data-testid":"button-submit-initials",children:[c.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var aie=Array.isArray,pi=aie,lie=typeof Em=="object"&&Em&&Em.Object===Object&&Em,VV=lie,cie=VV,uie=typeof self=="object"&&self&&self.Object===Object&&self,die=cie||uie||Function("return this")(),Ss=die,fie=Ss,hie=fie.Symbol,om=hie,D2=om,BV=Object.prototype,pie=BV.hasOwnProperty,mie=BV.toString,bf=D2?D2.toStringTag:void 0;function gie(t){var e=pie.call(t,bf),n=t[bf];try{t[bf]=void 0;var r=!0}catch{}var i=mie.call(t);return r&&(e?t[bf]=n:delete t[bf]),i}var yie=gie,vie=Object.prototype,xie=vie.toString;function bie(t){return xie.call(t)}var wie=bie,$2=om,Sie=yie,_ie=wie,Eie="[object Null]",Tie="[object Undefined]",L2=$2?$2.toStringTag:void 0;function Cie(t){return t==null?t===void 0?Tie:Eie:L2&&L2 in Object(t)?Sie(t):_ie(t)}var da=Cie;function Aie(t){return t!=null&&typeof t=="object"}var fa=Aie,Pie=da,Nie=fa,jie="[object Symbol]";function Iie(t){return typeof t=="symbol"||Nie(t)&&Pie(t)==jie}var Wd=Iie,kie=pi,Oie=Wd,Rie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mie=/^\w*$/;function Die(t,e){if(kie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Oie(t)?!0:Mie.test(t)||!Rie.test(t)||e!=null&&t in Object(e)}var $C=Die;function $ie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wl=$ie;const Hd=Jt(wl);var Lie=da,Fie=wl,Vie="[object AsyncFunction]",Bie="[object Function]",Uie="[object GeneratorFunction]",zie="[object Proxy]";function Wie(t){if(!Fie(t))return!1;var e=Lie(t);return e==Bie||e==Uie||e==Vie||e==zie}var LC=Wie;const St=Jt(LC);var Hie=Ss,qie=Hie["__core-js_shared__"],Gie=qie,lw=Gie,F2=function(){var t=/[^.]+$/.exec(lw&&lw.keys&&lw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Kie(t){return!!F2&&F2 in t}var Yie=Kie,Xie=Function.prototype,Qie=Xie.toString;function Jie(t){if(t!=null){try{return Qie.call(t)}catch{}try{return t+""}catch{}}return""}var UV=Jie,Zie=LC,eoe=Yie,toe=wl,noe=UV,roe=/[\\^$.*+?()[\]{}|]/g,ioe=/^\[object .+?Constructor\]$/,ooe=Function.prototype,soe=Object.prototype,aoe=ooe.toString,loe=soe.hasOwnProperty,coe=RegExp("^"+aoe.call(loe).replace(roe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uoe(t){if(!toe(t)||eoe(t))return!1;var e=Zie(t)?coe:ioe;return e.test(noe(t))}var doe=uoe;function foe(t,e){return t==null?void 0:t[e]}var hoe=foe,poe=doe,moe=hoe;function goe(t,e){var n=moe(t,e);return poe(n)?n:void 0}var Ic=goe,yoe=Ic,voe=yoe(Object,"create"),i0=voe,V2=i0;function xoe(){this.__data__=V2?V2(null):{},this.size=0}var boe=xoe;function woe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Soe=woe,_oe=i0,Eoe="__lodash_hash_undefined__",Toe=Object.prototype,Coe=Toe.hasOwnProperty;function Aoe(t){var e=this.__data__;if(_oe){var n=e[t];return n===Eoe?void 0:n}return Coe.call(e,t)?e[t]:void 0}var Poe=Aoe,Noe=i0,joe=Object.prototype,Ioe=joe.hasOwnProperty;function koe(t){var e=this.__data__;return Noe?e[t]!==void 0:Ioe.call(e,t)}var Ooe=koe,Roe=i0,Moe="__lodash_hash_undefined__";function Doe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Roe&&e===void 0?Moe:e,this}var $oe=Doe,Loe=boe,Foe=Soe,Voe=Poe,Boe=Ooe,Uoe=$oe;function qd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qd.prototype.clear=Loe;qd.prototype.delete=Foe;qd.prototype.get=Voe;qd.prototype.has=Boe;qd.prototype.set=Uoe;var zoe=qd;function Woe(){this.__data__=[],this.size=0}var Hoe=Woe;function qoe(t,e){return t===e||t!==t&&e!==e}var FC=qoe,Goe=FC;function Koe(t,e){for(var n=t.length;n--;)if(Goe(t[n][0],e))return n;return-1}var o0=Koe,Yoe=o0,Xoe=Array.prototype,Qoe=Xoe.splice;function Joe(t){var e=this.__data__,n=Yoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qoe.call(e,n,1),--this.size,!0}var Zoe=Joe,ese=o0;function tse(t){var e=this.__data__,n=ese(e,t);return n<0?void 0:e[n][1]}var nse=tse,rse=o0;function ise(t){return rse(this.__data__,t)>-1}var ose=ise,sse=o0;function ase(t,e){var n=this.__data__,r=sse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lse=ase,cse=Hoe,use=Zoe,dse=nse,fse=ose,hse=lse;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=cse;Gd.prototype.delete=use;Gd.prototype.get=dse;Gd.prototype.has=fse;Gd.prototype.set=hse;var s0=Gd,pse=Ic,mse=Ss,gse=pse(mse,"Map"),VC=gse,B2=zoe,yse=s0,vse=VC;function xse(){this.size=0,this.__data__={hash:new B2,map:new(vse||yse),string:new B2}}var bse=xse;function wse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Sse=wse,_se=Sse;function Ese(t,e){var n=t.__data__;return _se(e)?n[typeof e=="string"?"string":"hash"]:n.map}var a0=Ese,Tse=a0;function Cse(t){var e=Tse(this,t).delete(t);return this.size-=e?1:0,e}var Ase=Cse,Pse=a0;function Nse(t){return Pse(this,t).get(t)}var jse=Nse,Ise=a0;function kse(t){return Ise(this,t).has(t)}var Ose=kse,Rse=a0;function Mse(t,e){var n=Rse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Dse=Mse,$se=bse,Lse=Ase,Fse=jse,Vse=Ose,Bse=Dse;function Kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kd.prototype.clear=$se;Kd.prototype.delete=Lse;Kd.prototype.get=Fse;Kd.prototype.has=Vse;Kd.prototype.set=Bse;var BC=Kd,zV=BC,Use="Expected a function";function UC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Use);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(UC.Cache||zV),n}UC.Cache=zV;var WV=UC;const zse=Jt(WV);var Wse=WV,Hse=500;function qse(t){var e=Wse(t,function(r){return n.size===Hse&&n.clear(),r}),n=e.cache;return e}var Gse=qse,Kse=Gse,Yse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xse=/\\(\\)?/g,Qse=Kse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Yse,function(n,r,i,o){e.push(i?o.replace(Xse,"$1"):r||n)}),e}),Jse=Qse;function Zse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zC=Zse,U2=om,eae=zC,tae=pi,nae=Wd,rae=1/0,z2=U2?U2.prototype:void 0,W2=z2?z2.toString:void 0;function HV(t){if(typeof t=="string")return t;if(tae(t))return eae(t,HV)+"";if(nae(t))return W2?W2.call(t):"";var e=t+"";return e=="0"&&1/t==-rae?"-0":e}var iae=HV,oae=iae;function sae(t){return t==null?"":oae(t)}var qV=sae,aae=pi,lae=$C,cae=Jse,uae=qV;function dae(t,e){return aae(t)?t:lae(t,e)?[t]:cae(uae(t))}var GV=dae,fae=Wd,hae=1/0;function pae(t){if(typeof t=="string"||fae(t))return t;var e=t+"";return e=="0"&&1/t==-hae?"-0":e}var l0=pae,mae=GV,gae=l0;function yae(t,e){e=mae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gae(e[n++])];return n&&n==r?t:void 0}var WC=yae,vae=WC;function xae(t,e,n){var r=t==null?void 0:vae(t,e);return r===void 0?n:r}var KV=xae;const Qi=Jt(KV);function bae(t){return t==null}var wae=bae;const xt=Jt(wae);var Sae=da,_ae=pi,Eae=fa,Tae="[object String]";function Cae(t){return typeof t=="string"||!_ae(t)&&Eae(t)&&Sae(t)==Tae}var Aae=Cae;const xc=Jt(Aae);var YV={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=Symbol.for("react.element"),qC=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),h0=Symbol.for("react.context"),Pae=Symbol.for("react.server_context"),p0=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),y0=Symbol.for("react.memo"),v0=Symbol.for("react.lazy"),Nae=Symbol.for("react.offscreen"),XV;XV=Symbol.for("react.module.reference");function oo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case HC:switch(t=t.type,t){case c0:case d0:case u0:case m0:case g0:return t;default:switch(t=t&&t.$$typeof,t){case Pae:case h0:case p0:case v0:case y0:case f0:return t;default:return e}}case qC:return e}}}Bt.ContextConsumer=h0;Bt.ContextProvider=f0;Bt.Element=HC;Bt.ForwardRef=p0;Bt.Fragment=c0;Bt.Lazy=v0;Bt.Memo=y0;Bt.Portal=qC;Bt.Profiler=d0;Bt.StrictMode=u0;Bt.Suspense=m0;Bt.SuspenseList=g0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return oo(t)===h0};Bt.isContextProvider=function(t){return oo(t)===f0};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===HC};Bt.isForwardRef=function(t){return oo(t)===p0};Bt.isFragment=function(t){return oo(t)===c0};Bt.isLazy=function(t){return oo(t)===v0};Bt.isMemo=function(t){return oo(t)===y0};Bt.isPortal=function(t){return oo(t)===qC};Bt.isProfiler=function(t){return oo(t)===d0};Bt.isStrictMode=function(t){return oo(t)===u0};Bt.isSuspense=function(t){return oo(t)===m0};Bt.isSuspenseList=function(t){return oo(t)===g0};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c0||t===d0||t===u0||t===m0||t===g0||t===Nae||typeof t=="object"&&t!==null&&(t.$$typeof===v0||t.$$typeof===y0||t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===XV||t.getModuleId!==void 0)};Bt.typeOf=oo;YV.exports=Bt;var jae=YV.exports,Iae=da,kae=fa,Oae="[object Number]";function Rae(t){return typeof t=="number"||kae(t)&&Iae(t)==Oae}var QV=Rae;const Mae=Jt(QV);var Dae=QV;function $ae(t){return Dae(t)&&t!=+t}var Lae=$ae;const sm=Jt(Lae);var ko=function(e){return e===0?0:e>0?1:-1},Wl=function(e){return xc(e)&&e.indexOf("%")===e.length-1},Ie=function(e){return Mae(e)&&!sm(e)},Fae=function(e){return xt(e)},Qn=function(e){return Ie(e)||xc(e)},Vae=0,am=function(e){var n=++Vae;return"".concat(e||"").concat(n)},bc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&!xc(e))return r;var o;if(Wl(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return sm(o)&&(o=r),i&&o>n&&(o=n),o},Yc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Bae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Co=function(e,n){return Ie(e)&&Ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function nv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Qi(r,e))===n})}var Uae=function(e,n){return Ie(e)&&Ie(n)?e-n:xc(e)&&xc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Cu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}var zae=["viewBox","children"],Wae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],H2=["points","pathLength"],cw={svg:zae,polygon:H2,polyline:H2},GC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!Hd(r))return null;var i={};return Object.keys(r).forEach(function(o){GC.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Hae=function(e,n,r){return function(i){return e(n,r,i),null}},iv=function(e,n,r){if(!Hd(e)||bS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];GC.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Hae(s,n,r))}),i},qae=["children"],Gae=["children"];function q2(t,e){if(t==null)return{};var n=Kae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wS(t){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wS(t)}var G2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},K2=null,uw=null,KC=function t(e){if(e===K2&&Array.isArray(uw))return uw;var n=[];return b.Children.forEach(e,function(r){xt(r)||(jae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),uw=n,K2=e,n};function Ji(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],KC(t).forEach(function(i){var o=Qi(i,"type.displayName")||Qi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ti(t,e){var n=Ji(t,e);return n&&n[0]}var Y2=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ie(r)||r<=0||!Ie(i)||i<=0)},Yae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xae=function(e){return e&&e.type&&xc(e.type)&&Yae.indexOf(e.type)>=0},Qae=function(e){return e&&wS(e)==="object"&&"clipDot"in e},Jae=function(e,n,r,i){var o,s=(o=cw==null?void 0:cw[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!St(e)&&(i&&s.includes(n)||Wae.includes(n))||r&&GC.includes(n)},Nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!Hd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Jae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},SS=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return X2(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!X2(o,s))return!1}return!0},X2=function(e,n){if(xt(e)&&xt(n))return!0;if(!xt(e)&&!xt(n)){var r=e.props||{},i=r.children,o=q2(r,qae),s=n.props||{},a=s.children,l=q2(s,Gae);return i&&a?Cu(o,l)&&SS(i,a):!i&&!a?Cu(o,l):!1}return!1},Q2=function(e,n){var r=[],i={};return KC(e).forEach(function(o,s){if(Xae(o))r.push(o);else if(o){var a=Hs(o.type),l=n[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Zae=function(e){var n=e&&e.type;return n&&G2[n]?G2[n]:null},ele=function(e,n){return KC(n).indexOf(e)},tle=["children","width","height","viewBox","className","style","title","desc"];function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function nle(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ES(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=nle(t,tle),d=i||{width:n,height:r,x:0,y:0},f=At("recharts-surface",o);return q.createElement("svg",_S({},Nt(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,a),q.createElement("desc",null,l),e)}var ile=["children","className"];function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function ole(t,e){if(t==null)return{};var n=sle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rn=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=ole(t,ile),o=At("recharts-layer",r);return q.createElement("g",TS({className:o},Nt(i,!0),{ref:e}),n)}),nc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function ale(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var lle=ale,cle=lle;function ule(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cle(t,e,n)}var dle=ule,fle="\\ud800-\\udfff",hle="\\u0300-\\u036f",ple="\\ufe20-\\ufe2f",mle="\\u20d0-\\u20ff",gle=hle+ple+mle,yle="\\ufe0e\\ufe0f",vle="\\u200d",xle=RegExp("["+vle+fle+gle+yle+"]");function ble(t){return xle.test(t)}var JV=ble;function wle(t){return t.split("")}var Sle=wle,ZV="\\ud800-\\udfff",_le="\\u0300-\\u036f",Ele="\\ufe20-\\ufe2f",Tle="\\u20d0-\\u20ff",Cle=_le+Ele+Tle,Ale="\\ufe0e\\ufe0f",Ple="["+ZV+"]",CS="["+Cle+"]",AS="\\ud83c[\\udffb-\\udfff]",Nle="(?:"+CS+"|"+AS+")",e6="[^"+ZV+"]",t6="(?:\\ud83c[\\udde6-\\uddff]){2}",n6="[\\ud800-\\udbff][\\udc00-\\udfff]",jle="\\u200d",r6=Nle+"?",i6="["+Ale+"]?",Ile="(?:"+jle+"(?:"+[e6,t6,n6].join("|")+")"+i6+r6+")*",kle=i6+r6+Ile,Ole="(?:"+[e6+CS+"?",CS,t6,n6,Ple].join("|")+")",Rle=RegExp(AS+"(?="+AS+")|"+Ole+kle,"g");function Mle(t){return t.match(Rle)||[]}var Dle=Mle,$le=Sle,Lle=JV,Fle=Dle;function Vle(t){return Lle(t)?Fle(t):$le(t)}var Ble=Vle,Ule=dle,zle=JV,Wle=Ble,Hle=qV;function qle(t){return function(e){e=Hle(e);var n=zle(e)?Wle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ule(n,1).join(""):e.slice(1);return r[t]()+i}}var Gle=qle,Kle=Gle,Yle=Kle("toUpperCase"),Xle=Yle;const x0=Jt(Xle);function en(t){return function(){return t}}const o6=Math.cos,ov=Math.sin,zo=Math.sqrt,sv=Math.PI,b0=2*sv,PS=Math.PI,NS=2*PS,Rl=1e-6,Qle=NS-Rl;function s6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return s6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?s6:Jle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Rl)if(!(Math.abs(f*l-u*d)>Rl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-a,g=l*l+u*u,v=m*m+y*y,x=Math.sqrt(g),w=Math.sqrt(h),S=o*Math.tan((PS-Math.acos((g+h-v)/(2*x*w)))/2),C=S/w,E=S/x;Math.abs(C-1)>Rl&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%NS+NS),h>Qle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Rl&&this._append`A${r},${r},0,${+(h>=PS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function YC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zle(e)}function XC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a6(t){this._context=t}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w0(t){return new a6(t)}function l6(t){return t[0]}function c6(t){return t[1]}function u6(t,e){var n=en(!0),r=null,i=w0,o=null,s=YC(a);t=typeof t=="function"?t:t===void 0?l6:en(t),e=typeof e=="function"?e:e===void 0?c6:en(e);function a(l){var u,d=(l=XC(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:en(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:en(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:en(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ag(t,e,n){var r=null,i=en(!0),o=null,s=w0,a=null,l=YC(u);t=typeof t=="function"?t:t===void 0?l6:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?c6:en(+n);function u(f){var h,m,y,g=(f=XC(f)).length,v,x=!1,w,S=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=m;--y)a.point(S[y],C[y]);a.lineEnd(),a.areaEnd()}x&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),a.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return u6().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:en(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:en(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:en(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class d6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ece(t){return new d6(t,!0)}function tce(t){return new d6(t,!1)}const QC={draw(t,e){const n=zo(e/sv);t.moveTo(n,0),t.arc(0,0,n,0,b0)}},nce={draw(t,e){const n=zo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},f6=zo(1/3),rce=f6*2,ice={draw(t,e){const n=zo(e/rce),r=n*f6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oce={draw(t,e){const n=zo(e),r=-n/2;t.rect(r,r,n,n)}},sce=.8908130915292852,h6=ov(sv/10)/ov(7*sv/10),ace=ov(b0/10)*h6,lce=-o6(b0/10)*h6,cce={draw(t,e){const n=zo(e*sce),r=ace*n,i=lce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=b0*o/5,a=o6(s),l=ov(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},dw=zo(3),uce={draw(t,e){const n=-zo(e/(dw*3));t.moveTo(0,n*2),t.lineTo(-dw*n,-n),t.lineTo(dw*n,-n),t.closePath()}},Vi=-.5,Bi=zo(3)/2,jS=1/zo(12),dce=(jS/2+1)*3,fce={draw(t,e){const n=zo(e/dce),r=n/2,i=n*jS,o=r,s=n*jS+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Vi*r-Bi*i,Bi*r+Vi*i),t.lineTo(Vi*o-Bi*s,Bi*o+Vi*s),t.lineTo(Vi*a-Bi*l,Bi*a+Vi*l),t.lineTo(Vi*r+Bi*i,Vi*i-Bi*r),t.lineTo(Vi*o+Bi*s,Vi*s-Bi*o),t.lineTo(Vi*a+Bi*l,Vi*l-Bi*a),t.closePath()}};function hce(t,e){let n=null,r=YC(i);t=typeof t=="function"?t:en(t||QC),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:en(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:en(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function av(){}function lv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function p6(t){this._context=t}p6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pce(t){return new p6(t)}function m6(t){this._context=t}m6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mce(t){return new m6(t)}function g6(t){this._context=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gce(t){return new g6(t)}function y6(t){this._context=t}y6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yce(t){return new y6(t)}function J2(t){return t<0?-1:1}function Z2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(J2(o)+J2(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function eI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function fw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function cv(t){this._context=t}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fw(this,this._t0,eI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fw(this,eI(this,n=Z2(this,t,e)),n);break;default:fw(this,this._t0,n=Z2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function v6(t){this._context=new x6(t)}(v6.prototype=Object.create(cv.prototype)).point=function(t,e){cv.prototype.point.call(this,e,t)};function x6(t){this._context=t}x6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function vce(t){return new cv(t)}function xce(t){return new v6(t)}function b6(t){this._context=t}b6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tI(t),i=tI(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function bce(t){return new b6(t)}function S0(t,e){this._context=t,this._t=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wce(t){return new S0(t,.5)}function Sce(t){return new S0(t,0)}function _ce(t){return new S0(t,1)}function od(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function IS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ece(t,e){return t[e]}function Tce(t){const e=[];return e.key=t,e}function Cce(){var t=en([]),e=IS,n=od,r=Ece;function i(o){var s=Array.from(t.apply(this,arguments),Tce),a,l=s.length,u=-1,d;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,d=XC(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:en(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:en(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?IS:typeof o=="function"?o:en(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??od,i):n},i}function Ace(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}od(t,e)}}function Pce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}od(t,e)}}function Nce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,od(t,e)}}function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}var jce=["type","size","sizeType"];function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return e=kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kce(t){var e=Oce(t,"string");return Qh(e)=="symbol"?e:e+""}function Oce(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rce(t,e){if(t==null)return{};var n=Mce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w6={symbolCircle:QC,symbolCross:nce,symbolDiamond:ice,symbolSquare:oce,symbolStar:cce,symbolTriangle:uce,symbolWye:fce},Dce=Math.PI/180,$ce=function(e){var n="symbol".concat(x0(e));return w6[n]||QC},Lce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Dce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fce=function(e,n){w6["symbol".concat(x0(e))]=n},JC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Rce(e,jce),u=rI(rI({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=$ce(r),x=hce().type(v).size(Lce(o,a,r));return x()},f=u.className,h=u.cx,m=u.cy,y=Nt(u,!0);return h===+h&&m===+m&&o===+o?q.createElement("path",kS({},y,{className:At("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};JC.registerSymbol=Fce;function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_6(r.key),r)}}function zce(t,e,n){return e&&Uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wce(t,e,n){return e=uv(e),Hce(t,S6()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function Hce(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(t)}function qce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S6=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function Jh(t,e,n){return e=_6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6(t){var e=Kce(t,"string");return sd(e)=="symbol"?e:e+""}function Kce(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ui=32,ZC=function(t){function e(){return Bce(this,e),Wce(this,e,arguments)}return Gce(e,t),zce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ui/2,s=Ui/6,a=Ui/3,l=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ui,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Ui,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-Ui,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=Vce({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(JC,{fill:l,cx:o,cy:o,size:Ui,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ui,height:Ui},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=At(Jh(Jh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=St(m.value)?null:m.value;nc(!St(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return q.createElement("li",OS({className:v,style:f,key:"legend-item-".concat(y)},iv(r.props,m,y)),q.createElement(ES,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(b.PureComponent);Jh(ZC,"displayName","Legend");Jh(ZC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yce=s0;function Xce(){this.__data__=new Yce,this.size=0}var Qce=Xce;function Jce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Zce=Jce;function eue(t){return this.__data__.get(t)}var tue=eue;function nue(t){return this.__data__.has(t)}var rue=nue,iue=s0,oue=VC,sue=BC,aue=200;function lue(t,e){var n=this.__data__;if(n instanceof iue){var r=n.__data__;if(!oue||r.length<aue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sue(r)}return n.set(t,e),this.size=n.size,this}var cue=lue,uue=s0,due=Qce,fue=Zce,hue=tue,pue=rue,mue=cue;function Yd(t){var e=this.__data__=new uue(t);this.size=e.size}Yd.prototype.clear=due;Yd.prototype.delete=fue;Yd.prototype.get=hue;Yd.prototype.has=pue;Yd.prototype.set=mue;var E6=Yd,gue="__lodash_hash_undefined__";function yue(t){return this.__data__.set(t,gue),this}var vue=yue;function xue(t){return this.__data__.has(t)}var bue=xue,wue=BC,Sue=vue,_ue=bue;function dv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wue;++e<n;)this.add(t[e])}dv.prototype.add=dv.prototype.push=Sue;dv.prototype.has=_ue;var T6=dv;function Eue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var C6=Eue;function Tue(t,e){return t.has(e)}var A6=Tue,Cue=T6,Aue=C6,Pue=A6,Nue=1,jue=2;function Iue(t,e,n,r,i,o){var s=n&Nue,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&jue?new Cue:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Aue(e,function(x,w){if(!Pue(m,w)&&(y===x||i(y,x,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var P6=Iue,kue=Ss,Oue=kue.Uint8Array,Rue=Oue;function Mue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Due=Mue;function $ue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eA=$ue,oI=om,sI=Rue,Lue=FC,Fue=P6,Vue=Due,Bue=eA,Uue=1,zue=2,Wue="[object Boolean]",Hue="[object Date]",que="[object Error]",Gue="[object Map]",Kue="[object Number]",Yue="[object RegExp]",Xue="[object Set]",Que="[object String]",Jue="[object Symbol]",Zue="[object ArrayBuffer]",ede="[object DataView]",aI=oI?oI.prototype:void 0,hw=aI?aI.valueOf:void 0;function tde(t,e,n,r,i,o,s){switch(n){case ede:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zue:return!(t.byteLength!=e.byteLength||!o(new sI(t),new sI(e)));case Wue:case Hue:case Kue:return Lue(+t,+e);case que:return t.name==e.name&&t.message==e.message;case Yue:case Que:return t==e+"";case Gue:var a=Vue;case Xue:var l=r&Uue;if(a||(a=Bue),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=zue,s.set(t,e);var d=Fue(a(t),a(e),r,i,o,s);return s.delete(t),d;case Jue:if(hw)return hw.call(t)==hw.call(e)}return!1}var nde=tde;function rde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var N6=rde,ide=N6,ode=pi;function sde(t,e,n){var r=e(t);return ode(t)?r:ide(r,n(t))}var ade=sde;function lde(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var cde=lde;function ude(){return[]}var dde=ude,fde=cde,hde=dde,pde=Object.prototype,mde=pde.propertyIsEnumerable,lI=Object.getOwnPropertySymbols,gde=lI?function(t){return t==null?[]:(t=Object(t),fde(lI(t),function(e){return mde.call(t,e)}))}:hde,yde=gde;function vde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xde=vde,bde=da,wde=fa,Sde="[object Arguments]";function _de(t){return wde(t)&&bde(t)==Sde}var Ede=_de,cI=Ede,Tde=fa,j6=Object.prototype,Cde=j6.hasOwnProperty,Ade=j6.propertyIsEnumerable,Pde=cI(function(){return arguments}())?cI:function(t){return Tde(t)&&Cde.call(t,"callee")&&!Ade.call(t,"callee")},tA=Pde,fv={exports:{}};function Nde(){return!1}var jde=Nde;fv.exports;(function(t,e){var n=Ss,r=jde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(fv,fv.exports);var I6=fv.exports,Ide=9007199254740991,kde=/^(?:0|[1-9]\d*)$/;function Ode(t,e){var n=typeof t;return e=e??Ide,!!e&&(n=="number"||n!="symbol"&&kde.test(t))&&t>-1&&t%1==0&&t<e}var nA=Ode,Rde=9007199254740991;function Mde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rde}var rA=Mde,Dde=da,$de=rA,Lde=fa,Fde="[object Arguments]",Vde="[object Array]",Bde="[object Boolean]",Ude="[object Date]",zde="[object Error]",Wde="[object Function]",Hde="[object Map]",qde="[object Number]",Gde="[object Object]",Kde="[object RegExp]",Yde="[object Set]",Xde="[object String]",Qde="[object WeakMap]",Jde="[object ArrayBuffer]",Zde="[object DataView]",efe="[object Float32Array]",tfe="[object Float64Array]",nfe="[object Int8Array]",rfe="[object Int16Array]",ife="[object Int32Array]",ofe="[object Uint8Array]",sfe="[object Uint8ClampedArray]",afe="[object Uint16Array]",lfe="[object Uint32Array]",cn={};cn[efe]=cn[tfe]=cn[nfe]=cn[rfe]=cn[ife]=cn[ofe]=cn[sfe]=cn[afe]=cn[lfe]=!0;cn[Fde]=cn[Vde]=cn[Jde]=cn[Bde]=cn[Zde]=cn[Ude]=cn[zde]=cn[Wde]=cn[Hde]=cn[qde]=cn[Gde]=cn[Kde]=cn[Yde]=cn[Xde]=cn[Qde]=!1;function cfe(t){return Lde(t)&&$de(t.length)&&!!cn[Dde(t)]}var ufe=cfe;function dfe(t){return function(e){return t(e)}}var k6=dfe,hv={exports:{}};hv.exports;(function(t,e){var n=VV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(hv,hv.exports);var ffe=hv.exports,hfe=ufe,pfe=k6,uI=ffe,dI=uI&&uI.isTypedArray,mfe=dI?pfe(dI):hfe,O6=mfe,gfe=xde,yfe=tA,vfe=pi,xfe=I6,bfe=nA,wfe=O6,Sfe=Object.prototype,_fe=Sfe.hasOwnProperty;function Efe(t,e){var n=vfe(t),r=!n&&yfe(t),i=!n&&!r&&xfe(t),o=!n&&!r&&!i&&wfe(t),s=n||r||i||o,a=s?gfe(t.length,String):[],l=a.length;for(var u in t)(e||_fe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bfe(u,l)))&&a.push(u);return a}var Tfe=Efe,Cfe=Object.prototype;function Afe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Cfe;return t===n}var Pfe=Afe;function Nfe(t,e){return function(n){return t(e(n))}}var R6=Nfe,jfe=R6,Ife=jfe(Object.keys,Object),kfe=Ife,Ofe=Pfe,Rfe=kfe,Mfe=Object.prototype,Dfe=Mfe.hasOwnProperty;function $fe(t){if(!Ofe(t))return Rfe(t);var e=[];for(var n in Object(t))Dfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Lfe=$fe,Ffe=LC,Vfe=rA;function Bfe(t){return t!=null&&Vfe(t.length)&&!Ffe(t)}var _0=Bfe,Ufe=Tfe,zfe=Lfe,Wfe=_0;function Hfe(t){return Wfe(t)?Ufe(t):zfe(t)}var iA=Hfe,qfe=ade,Gfe=yde,Kfe=iA;function Yfe(t){return qfe(t,Kfe,Gfe)}var Xfe=Yfe,fI=Xfe,Qfe=1,Jfe=Object.prototype,Zfe=Jfe.hasOwnProperty;function ehe(t,e,n,r,i,o){var s=n&Qfe,a=fI(t),l=a.length,u=fI(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Zfe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var x=t[h],w=e[h];if(r)var S=s?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(S===void 0?x===w||i(x,w,n,r,o):S)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var the=ehe,nhe=Ic,rhe=Ss,ihe=nhe(rhe,"DataView"),ohe=ihe,she=Ic,ahe=Ss,lhe=she(ahe,"Promise"),che=lhe,uhe=Ic,dhe=Ss,fhe=uhe(dhe,"Set"),M6=fhe,hhe=Ic,phe=Ss,mhe=hhe(phe,"WeakMap"),ghe=mhe,MS=ohe,DS=VC,$S=che,LS=M6,FS=ghe,D6=da,Xd=UV,hI="[object Map]",yhe="[object Object]",pI="[object Promise]",mI="[object Set]",gI="[object WeakMap]",yI="[object DataView]",vhe=Xd(MS),xhe=Xd(DS),bhe=Xd($S),whe=Xd(LS),She=Xd(FS),Ml=D6;(MS&&Ml(new MS(new ArrayBuffer(1)))!=yI||DS&&Ml(new DS)!=hI||$S&&Ml($S.resolve())!=pI||LS&&Ml(new LS)!=mI||FS&&Ml(new FS)!=gI)&&(Ml=function(t){var e=D6(t),n=e==yhe?t.constructor:void 0,r=n?Xd(n):"";if(r)switch(r){case vhe:return yI;case xhe:return hI;case bhe:return pI;case whe:return mI;case She:return gI}return e});var _he=Ml,pw=E6,Ehe=P6,The=nde,Che=the,vI=_he,xI=pi,bI=I6,Ahe=O6,Phe=1,wI="[object Arguments]",SI="[object Array]",lg="[object Object]",Nhe=Object.prototype,_I=Nhe.hasOwnProperty;function jhe(t,e,n,r,i,o){var s=xI(t),a=xI(e),l=s?SI:vI(t),u=a?SI:vI(e);l=l==wI?lg:l,u=u==wI?lg:u;var d=l==lg,f=u==lg,h=l==u;if(h&&bI(t)){if(!bI(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new pw),s||Ahe(t)?Ehe(t,e,n,r,i,o):The(t,e,l,n,r,i,o);if(!(n&Phe)){var m=d&&_I.call(t,"__wrapped__"),y=f&&_I.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new pw),i(g,v,n,r,o)}}return h?(o||(o=new pw),Che(t,e,n,r,i,o)):!1}var Ihe=jhe,khe=Ihe,EI=fa;function $6(t,e,n,r,i){return t===e?!0:t==null||e==null||!EI(t)&&!EI(e)?t!==t&&e!==e:khe(t,e,n,r,$6,i)}var oA=$6,Ohe=E6,Rhe=oA,Mhe=1,Dhe=2;function $he(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Ohe;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Rhe(d,u,Mhe|Dhe,r,f):h))return!1}}return!0}var Lhe=$he,Fhe=wl;function Vhe(t){return t===t&&!Fhe(t)}var L6=Vhe,Bhe=L6,Uhe=iA;function zhe(t){for(var e=Uhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bhe(i)]}return e}var Whe=zhe;function Hhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var F6=Hhe,qhe=Lhe,Ghe=Whe,Khe=F6;function Yhe(t){var e=Ghe(t);return e.length==1&&e[0][2]?Khe(e[0][0],e[0][1]):function(n){return n===t||qhe(n,t,e)}}var Xhe=Yhe;function Qhe(t,e){return t!=null&&e in Object(t)}var Jhe=Qhe,Zhe=GV,epe=tA,tpe=pi,npe=nA,rpe=rA,ipe=l0;function ope(t,e,n){e=Zhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=ipe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&rpe(i)&&npe(s,i)&&(tpe(t)||epe(t)))}var spe=ope,ape=Jhe,lpe=spe;function cpe(t,e){return t!=null&&lpe(t,e,ape)}var upe=cpe,dpe=oA,fpe=KV,hpe=upe,ppe=$C,mpe=L6,gpe=F6,ype=l0,vpe=1,xpe=2;function bpe(t,e){return ppe(t)&&mpe(e)?gpe(ype(t),e):function(n){var r=fpe(n,t);return r===void 0&&r===e?hpe(n,t):dpe(e,r,vpe|xpe)}}var wpe=bpe;function Spe(t){return t}var Qd=Spe;function _pe(t){return function(e){return e==null?void 0:e[t]}}var Epe=_pe,Tpe=WC;function Cpe(t){return function(e){return Tpe(e,t)}}var Ape=Cpe,Ppe=Epe,Npe=Ape,jpe=$C,Ipe=l0;function kpe(t){return jpe(t)?Ppe(Ipe(t)):Npe(t)}var Ope=kpe,Rpe=Xhe,Mpe=wpe,Dpe=Qd,$pe=pi,Lpe=Ope;function Fpe(t){return typeof t=="function"?t:t==null?Dpe:typeof t=="object"?$pe(t)?Mpe(t[0],t[1]):Rpe(t):Lpe(t)}var Jd=Fpe;function Vpe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Bpe=Vpe;function Upe(t){return t!==t}var zpe=Upe;function Wpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Hpe=Wpe,qpe=Bpe,Gpe=zpe,Kpe=Hpe;function Ype(t,e,n){return e===e?Kpe(t,e,n):qpe(t,Gpe,n)}var Xpe=Ype,Qpe=Xpe;function Jpe(t,e){var n=t==null?0:t.length;return!!n&&Qpe(t,e,0)>-1}var Zpe=Jpe;function eme(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tme=eme;function nme(){}var rme=nme,mw=M6,ime=rme,ome=eA,sme=1/0,ame=mw&&1/ome(new mw([,-0]))[1]==sme?function(t){return new mw(t)}:ime,lme=ame,cme=T6,ume=Zpe,dme=tme,fme=A6,hme=lme,pme=eA,mme=200;function gme(t,e,n){var r=-1,i=ume,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=dme;else if(o>=mme){var u=e?null:hme(t);if(u)return pme(u);s=!1,i=fme,l=new cme}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var yme=gme,vme=Jd,xme=yme;function bme(t,e){return t&&t.length?xme(t,vme(e)):[]}var wme=bme;const TI=Jt(wme);function V6(t,e,n){return e===!0?TI(t,n):St(e)?TI(t,e):t}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var Sme=["ref"];function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U6(r.key),r)}}function Eme(t,e,n){return e&&AI(t.prototype,e),n&&AI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tme(t,e,n){return e=pv(e),Cme(t,B6()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function Cme(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function E0(t,e,n){return e=U6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6(t){var e=Nme(t,"string");return ad(e)=="symbol"?e:e+""}function Nme(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jme(t,e){if(t==null)return{};var n=Ime(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kme(t){return t.value}function Ome(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=jme(e,Sme);return q.createElement(ZC,n)}var PI=1,Au=function(t){function e(){var n;_me(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tme(this,e,[].concat(i)),E0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Pme(e,t),Eme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>PI||Math.abs(i.height-this.lastBoundingBox.height)>PI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return js(js({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=js(js({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Ome(o,js(js({},this.props),{},{payload:V6(d,u,kme)})))}}],[{key:"getWithHeight",value:function(r,i){var o=js(js({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);E0(Au,"displayName","Legend");E0(Au,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NI=om,Rme=tA,Mme=pi,jI=NI?NI.isConcatSpreadable:void 0;function Dme(t){return Mme(t)||Rme(t)||!!(jI&&t&&t[jI])}var $me=Dme,Lme=N6,Fme=$me;function z6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Fme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?z6(a,e-1,n,r,i):Lme(i,a):r||(i[i.length]=a)}return i}var W6=z6;function Vme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Bme=Vme,Ume=Bme,zme=Ume(),Wme=zme,Hme=Wme,qme=iA;function Gme(t,e){return t&&Hme(t,e,qme)}var H6=Gme,Kme=_0;function Yme(t,e){return function(n,r){if(n==null)return n;if(!Kme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Xme=Yme,Qme=H6,Jme=Xme,Zme=Jme(Qme),sA=Zme,ege=sA,tge=_0;function nge(t,e){var n=-1,r=tge(t)?Array(t.length):[];return ege(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var q6=nge;function rge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ige=rge,II=Wd;function oge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=II(t),s=e!==void 0,a=e===null,l=e===e,u=II(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var sge=oge,age=sge;function lge(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=age(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var cge=lge,gw=zC,uge=WC,dge=Jd,fge=q6,hge=ige,pge=k6,mge=cge,gge=Qd,yge=pi;function vge(t,e,n){e.length?e=gw(e,function(o){return yge(o)?function(s){return uge(s,o.length===1?o[0]:o)}:o}):e=[gge];var r=-1;e=gw(e,pge(dge));var i=fge(t,function(o,s,a){var l=gw(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return hge(i,function(o,s){return mge(o,s,n)})}var xge=vge;function bge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var wge=bge,Sge=wge,kI=Math.max;function _ge(t,e,n){return e=kI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=kI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Sge(t,this,a)}}var Ege=_ge;function Tge(t){return function(){return t}}var Cge=Tge,Age=Ic,Pge=function(){try{var t=Age(Object,"defineProperty");return t({},"",{}),t}catch{}}(),G6=Pge,Nge=Cge,OI=G6,jge=Qd,Ige=OI?function(t,e){return OI(t,"toString",{configurable:!0,enumerable:!1,value:Nge(e),writable:!0})}:jge,kge=Ige,Oge=800,Rge=16,Mge=Date.now;function Dge(t){var e=0,n=0;return function(){var r=Mge(),i=Rge-(r-n);if(n=r,i>0){if(++e>=Oge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $ge=Dge,Lge=kge,Fge=$ge,Vge=Fge(Lge),Bge=Vge,Uge=Qd,zge=Ege,Wge=Bge;function Hge(t,e){return Wge(zge(t,e,Uge),t+"")}var qge=Hge,Gge=FC,Kge=_0,Yge=nA,Xge=wl;function Qge(t,e,n){if(!Xge(n))return!1;var r=typeof e;return(r=="number"?Kge(n)&&Yge(e,n.length):r=="string"&&e in n)?Gge(n[e],t):!1}var T0=Qge,Jge=W6,Zge=xge,eye=qge,RI=T0,tye=eye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RI(t,e[0],e[1])?e=[]:n>2&&RI(e[0],e[1],e[2])&&(e=[e[0]]),Zge(t,Jge(e,1),[])}),nye=tye;const aA=Jt(nye);function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(this,arguments)}function rye(t,e){return aye(t)||sye(t,e)||oye(t,e)||iye()}function iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function aye(t){if(Array.isArray(t))return t}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lye(t,e,n){return e=cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=uye(t,"string");return Zh(e)=="symbol"?e:e+""}function uye(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dye(t){return Array.isArray(t)&&Qn(t[0])&&Qn(t[1])?t.join(" ~ "):t}var fye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,S=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?aA(d,h):d).map(function($,F){if($.type==="none")return null;var B=yw({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a),U=$.formatter||f||dye,V=$.value,W=$.name,ne=V,X=W;if(U&&ne!=null&&X!=null){var ie=U(V,W,$,F,d);if(Array.isArray(ie)){var le=rye(ie,2);ne=le[0],X=le[1]}else ne=ie}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:B},Qn(X)?q.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Qn(X)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ne),q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},C=yw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=yw({margin:0},u),P=!xt(g),_=P?g:"",T=At("recharts-default-tooltip",m),N=At("recharts-tooltip-label",y);P&&v&&d!==void 0&&d!==null&&(_=v(g,d));var k=w?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",BS({className:T,style:C},k),q.createElement("p",{className:N,style:E},q.isValidElement(_)?_:"".concat(_)),S())};function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function cg(t,e,n){return e=hye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hye(t){var e=pye(t,"string");return ep(e)=="symbol"?e:e+""}function pye(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wf="recharts-tooltip-wrapper",mye={visibility:"hidden"};function gye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return At(wf,cg(cg(cg(cg({},"".concat(wf,"-right"),Ie(n)&&e&&Ie(e.x)&&n>=e.x),"".concat(wf,"-left"),Ie(n)&&e&&Ie(e.x)&&n<e.x),"".concat(wf,"-bottom"),Ie(r)&&e&&Ie(e.y)&&r>=e.y),"".concat(wf,"-top"),Ie(r)&&e&&Ie(e.y)&&r<e.y))}function $I(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Ie(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+a,g=l[r]+u;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function yye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=$I({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=$I({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=yye({translateX:d,translateY:f,useTranslate3d:a})):u=mye,{cssProperties:u,cssClasses:gye({translateX:d,translateY:f,coordinate:n})}}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){zS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y6(r.key),r)}}function wye(t,e,n){return e&&bye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sye(t,e,n){return e=mv(e),_ye(t,K6()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function _ye(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(t)}function Eye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K6=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},US(t,e)}function zS(t,e,n){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6(t){var e=Cye(t,"string");return ld(e)=="symbol"?e:e+""}function Cye(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VI=1,Aye=function(t){function e(){var n;xye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sye(this,e,[].concat(i)),zS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Tye(e,t),wye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>VI||Math.abs(r.height-this.state.lastBoundingBox.height)>VI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,S=vye({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),C=S.cssClasses,E=S.cssProperties,P=FI(FI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return q.createElement("div",{tabIndex:-1,className:C,style:P,ref:function(T){r.wrapperNode=T}},u)}}])}(b.PureComponent),Pye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qs={isSsr:Pye(),get:function(e){return qs[e]},set:function(e,n){if(typeof e=="string")qs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){qs[i]=e[i]})}}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){lA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q6(r.key),r)}}function Iye(t,e,n){return e&&jye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kye(t,e,n){return e=gv(e),Oye(t,X6()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Oye(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(t)}function Rye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X6=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function lA(t,e,n){return e=Q6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q6(t){var e=Dye(t,"string");return cd(e)=="symbol"?e:e+""}function Dye(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ye(t){return t.dataKey}function Lye(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(fye,e)}var Xo=function(t){function e(){return Nye(this,e),kye(this,e,arguments)}return Mye(e,t),Iye(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,E=y??[];f&&E.length&&(E=V6(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,$ye));var P=E.length>0;return q.createElement(Aye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:m,position:v,reverseDirection:x,useTranslate3d:w,viewBox:S,wrapperStyle:C},Lye(u,UI(UI({},this.props),{},{payload:E})))}}])}(b.PureComponent);lA(Xo,"displayName","Tooltip");lA(Xo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fye=Ss,Vye=function(){return Fye.Date.now()},Bye=Vye,Uye=/\s/;function zye(t){for(var e=t.length;e--&&Uye.test(t.charAt(e)););return e}var Wye=zye,Hye=Wye,qye=/^\s+/;function Gye(t){return t&&t.slice(0,Hye(t)+1).replace(qye,"")}var Kye=Gye,Yye=Kye,zI=wl,Xye=Wd,WI=NaN,Qye=/^[-+]0x[0-9a-f]+$/i,Jye=/^0b[01]+$/i,Zye=/^0o[0-7]+$/i,eve=parseInt;function tve(t){if(typeof t=="number")return t;if(Xye(t))return WI;if(zI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yye(t);var n=Jye.test(t);return n||Zye.test(t)?eve(t.slice(2),n?2:8):Qye.test(t)?WI:+t}var J6=tve,nve=wl,vw=Bye,HI=J6,rve="Expected a function",ive=Math.max,ove=Math.min;function sve(t,e,n){var r,i,o,s,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(rve);e=HI(e)||0,nve(n)&&(d=!!n.leading,f="maxWait"in n,o=f?ive(HI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(P){var _=r,T=i;return r=i=void 0,u=P,s=t.apply(T,_),s}function y(P){return u=P,a=setTimeout(x,e),d?m(P):s}function g(P){var _=P-l,T=P-u,N=e-_;return f?ove(N,o-T):N}function v(P){var _=P-l,T=P-u;return l===void 0||_>=e||_<0||f&&T>=o}function x(){var P=vw();if(v(P))return w(P);a=setTimeout(x,g(P))}function w(P){return a=void 0,h&&r?m(P):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(vw())}function E(){var P=vw(),_=v(P);if(r=arguments,i=this,l=P,_){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),s}return E.cancel=S,E.flush=C,E}var ave=sve,lve=ave,cve=wl,uve="Expected a function";function dve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(uve);return cve(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lve(t,e,{leading:r,maxWait:e,trailing:i})}var fve=dve;const Z6=Jt(fve);function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return tp(e)=="symbol"?e:e+""}function mve(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gve(t,e){return bve(t)||xve(t,e)||vve(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(t,e){if(t){if(typeof t=="string")return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function bve(t){if(Array.isArray(t))return t}var wve=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,w=t.onResize,S=t.style,C=S===void 0?{}:S,E=b.useRef(null),P=b.useRef();P.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=b.useState({containerWidth:i.width,containerHeight:i.height}),T=gve(_,2),N=T[0],k=T[1],j=b.useCallback(function(O,$){k(function(F){var B=Math.round(O),U=Math.round($);return F.containerWidth===B&&F.containerHeight===U?F:{containerWidth:B,containerHeight:U}})},[]);b.useEffect(function(){var O=function(W){var ne,X=W[0].contentRect,ie=X.width,le=X.height;j(ie,le),(ne=P.current)===null||ne===void 0||ne.call(P,ie,le)};g>0&&(O=Z6(O,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),F=E.current.getBoundingClientRect(),B=F.width,U=F.height;return j(B,U),$.observe(E.current),function(){$.disconnect()}},[j,g]);var R=b.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;nc(Wl(s)||Wl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),nc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Wl(s)?O:s,B=Wl(l)?$:l;n&&n>0&&(F?B=F/n:B&&(F=B*n),h&&B>h&&(B=h)),nc(F>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,B,s,l,d,f,n);var U=!Array.isArray(m)&&Hs(m.type).endsWith("Chart");return q.Children.map(m,function(V){return q.isValidElement(V)?b.cloneElement(V,ug({width:F,height:B},U?{style:ug({height:"100%",width:"100%",maxHeight:B,maxWidth:F},V.props.style)}:{})):V})},[n,m,l,h,f,d,N,s]);return q.createElement("div",{id:v?"".concat(v):void 0,className:At("recharts-responsive-container",x),style:ug(ug({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),eB=function(e){return null};eB.displayName="Cell";function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e,n){return e=_ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=Eve(t,"string");return np(e)=="symbol"?e:e+""}function Eve(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bc={widthCache:{},cacheCount:0},Tve=2e3,Cve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YI="recharts_measurement_span";function Ave(t){var e=HS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var lh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qs.isSsr)return{width:0,height:0};var r=Ave(n),i=JSON.stringify({text:e,copyStyle:r});if(Bc.widthCache[i])return Bc.widthCache[i];try{var o=document.getElementById(YI);o||(o=document.createElement("span"),o.setAttribute("id",YI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=HS(HS({},Cve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Bc.widthCache[i]=l,++Bc.cacheCount>Tve&&(Bc.cacheCount=0,Bc.widthCache={}),l}catch{return{width:0,height:0}}},Pve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function yv(t,e){return kve(t)||Ive(t,e)||jve(t,e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ive(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kve(t){if(Array.isArray(t))return t}function Ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mve(r.key),r)}}function Rve(t,e,n){return e&&QI(t.prototype,e),n&&QI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mve(t){var e=Dve(t,"string");return rp(e)=="symbol"?e:e+""}function Dve(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fve=Object.keys(tB),uu="NaN";function Vve(t,e){return t*tB[e]}var dg=function(){function t(e,n){Ove(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$ve.test(n)&&(this.num=NaN,this.unit=""),Fve.includes(n)&&(this.num=Vve(e,n),this.unit="px")}return Rve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Lve.exec(n))!==null&&r!==void 0?r:[],o=yv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function nB(t){if(t.includes(uu))return uu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=JI.exec(e))!==null&&n!==void 0?n:[],i=yv(r,4),o=i[1],s=i[2],a=i[3],l=dg.parse(o??""),u=dg.parse(a??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return uu;e=e.replace(JI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ZI.exec(e))!==null&&f!==void 0?f:[],m=yv(h,4),y=m[1],g=m[2],v=m[3],x=dg.parse(y??""),w=dg.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return uu;e=e.replace(ZI,S.toString())}return e}var ek=/\(([^()]*)\)/;function Bve(t){for(var e=t;e.includes("(");){var n=ek.exec(e),r=yv(n,2),i=r[1];e=e.replace(ek,nB(i))}return e}function Uve(t){var e=t.replace(/\s+/g,"");return e=Bve(e),e=nB(e),e}function zve(t){try{return Uve(t)}catch{return uu}}function xw(t){var e=zve(t.slice(5,-1));return e===uu?"":e}var Wve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hve=["dx","dy","angle","className","breakAll"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}function tk(t,e){if(t==null)return{};var n=qve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nk(t,e){return Xve(t)||Yve(t,e)||Kve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xve(t){if(Array.isArray(t))return t}var rB=/[ \f\n\r\t\v\u2028\u2029]+/,iB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];xt(n)||(r?o=n.toString().split(""):o=n.toString().split(rB));var s=o.map(function(l){return{word:l,width:lh(l,i).width}}),a=r?0:lh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Qve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=Ie(s),f=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(B,U){var V=U.word,W=U.width,ne=B[B.length-1];if(ne&&(i==null||o||ne.width+W+r<Number(i)))ne.words.push(V),ne.width+=W+r;else{var X={words:[V],width:W};B.push(X)}return B},[])},m=h(n),y=function(F){return F.reduce(function(B,U){return B.width>U.width?B:U})};if(!d)return m;for(var g="",v=function(F){var B=f.slice(0,F),U=iB({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,V=h(U),W=V.length>s||y(V).width>Number(i);return[W,V]},x=0,w=f.length-1,S=0,C;x<=w&&S<=f.length-1;){var E=Math.floor((x+w)/2),P=E-1,_=v(P),T=nk(_,2),N=T[0],k=T[1],j=v(E),R=nk(j,1),O=R[0];if(!N&&!O&&(x=E+1),N&&O&&(w=E-1),!N&&O){C=k;break}S++}return C||m},ik=function(e){var n=xt(e)?[]:e.toString().split(rB);return[{words:n}]},Jve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!qs.isSsr){var l,u,d=iB({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return ik(i);return Qve({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return ik(i)},ok="#808080",vv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?ok:v,w=tk(e,Wve),S=b.useMemo(function(){return Jve({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,E=w.dy,P=w.angle,_=w.className,T=w.breakAll,N=tk(w,Hve);if(!Qn(r)||!Qn(o))return null;var k=r+(Ie(C)?C:0),j=o+(Ie(E)?E:0),R;switch(g){case"start":R=xw("calc(".concat(u,")"));break;case"middle":R=xw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:R=xw("calc(".concat(S.length-1," * -").concat(a,")"));break}var O=[];if(f){var $=S[0].width,F=w.width;O.push("scale(".concat((Ie(F)?F/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(k,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),q.createElement("text",qS({},Nt(N,!0),{x:k,y:j,className:At("recharts-text",_),textAnchor:m,fill:x.includes("url")?ok:x}),S.map(function(B,U){var V=B.words.join(T?"":" ");return q.createElement("tspan",{x:k,dy:U===0?R:a,key:"".concat(V,"-").concat(U)},V)}))};function nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cA(t){let e,n,r;t.length!==2?(e=nl,n=(a,l)=>nl(t(a),l),r=(a,l)=>t(a)-l):(e=t===nl||t===Zve?t:exe,n=t,r=t);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(a,l,u=0,d=a.length){const f=i(a,l,u,d-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function exe(){return 0}function oB(t){return t===null?NaN:+t}function*txe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const nxe=cA(nl),lm=nxe.right;cA(oB).center;class sk extends Map{constructor(e,n=oxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ak(this,e))}has(e){return super.has(ak(this,e))}set(e,n){return super.set(rxe(this,e),n)}delete(e){return super.delete(ixe(this,e))}}function ak({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function rxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ixe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sxe(t=nl){if(t===nl)return sB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const axe=Math.sqrt(50),lxe=Math.sqrt(10),cxe=Math.sqrt(2);function xv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=axe?10:o>=lxe?5:o>=cxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?xv(t,e,n*2):[a,l,u]}function GS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?xv(e,t,n):xv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function KS(t,e,n){return e=+e,t=+t,n=+n,xv(t,e,n)[2]}function YS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?KS(e,t,n):KS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ck(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sB:sxe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));aB(t,e,m,y,i)}const o=t[e];let s=n,a=r;for(Sf(t,n,e),i(t[r],o)>0&&Sf(t,n,r);s<a;){for(Sf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Sf(t,n,a):(++a,Sf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Sf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uxe(t,e,n){if(t=Float64Array.from(txe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ck(t);if(e>=1)return lk(t);var r,i=(r-1)*e,o=Math.floor(i),s=lk(aB(t,o).subarray(0,o+1)),a=ck(t.subarray(o+1));return s+(a-s)*(i-o)}}function dxe(t,e,n=oB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function fxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function so(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const XS=Symbol("implicit");function uA(){var t=new sk,e=[],n=[],r=XS;function i(o){let s=t.get(o);if(s===void 0){if(r!==XS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new sk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uA(e,n).unknown(r)},so.apply(i,arguments),i}function ip(){var t=uA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=fxe(h).map(function(x){return y+o*x});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ip(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},so.apply(f(),arguments)}function lB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lB(e())},t}function ch(){return lB(ip.apply(null,arguments).paddingInner(1))}function dA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cm(){}var op=.7,bv=1/op,Pu="\\s*([+-]?\\d+)\\s*",sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hxe=/^#([0-9a-f]{3,8})$/,pxe=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),mxe=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),gxe=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${sp}\\)$`),yxe=new RegExp(`^rgba\\(${hs},${hs},${hs},${sp}\\)$`),vxe=new RegExp(`^hsl\\(${sp},${hs},${hs}\\)$`),xxe=new RegExp(`^hsla\\(${sp},${hs},${hs},${sp}\\)$`),uk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dA(cm,ap,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dk,formatHex:dk,formatHex8:bxe,formatHsl:wxe,formatRgb:fk,toString:fk});function dk(){return this.rgb().formatHex()}function bxe(){return this.rgb().formatHex8()}function wxe(){return uB(this).formatHsl()}function fk(){return this.rgb().formatRgb()}function ap(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hk(e):n===3?new ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pxe.exec(t))?new ui(e[1],e[2],e[3],1):(e=mxe.exec(t))?new ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gxe.exec(t))?fg(e[1],e[2],e[3],e[4]):(e=yxe.exec(t))?fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vxe.exec(t))?gk(e[1],e[2]/100,e[3]/100,1):(e=xxe.exec(t))?gk(e[1],e[2]/100,e[3]/100,e[4]):uk.hasOwnProperty(t)?hk(uk[t]):t==="transparent"?new ui(NaN,NaN,NaN,0):null}function hk(t){return new ui(t>>16&255,t>>8&255,t&255,1)}function fg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ui(t,e,n,r)}function Sxe(t){return t instanceof cm||(t=ap(t)),t?(t=t.rgb(),new ui(t.r,t.g,t.b,t.opacity)):new ui}function QS(t,e,n,r){return arguments.length===1?Sxe(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dA(ui,QS,cB(cm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?op:Math.pow(op,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ui(rc(this.r),rc(this.g),rc(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pk,formatHex:pk,formatHex8:_xe,formatRgb:mk,toString:mk}));function pk(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function _xe(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const t=wv(this.opacity);return`${t===1?"rgb(":"rgba("}${rc(this.r)}, ${rc(this.g)}, ${rc(this.b)}${t===1?")":`, ${t})`}`}function wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hl(t){return t=rc(t),(t<16?"0":"")+t.toString(16)}function gk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Po(t,e,n,r)}function uB(t){if(t instanceof Po)return new Po(t.h,t.s,t.l,t.opacity);if(t instanceof cm||(t=ap(t)),!t)return new Po;if(t instanceof Po)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Po(s,a,l,t.opacity)}function Exe(t,e,n,r){return arguments.length===1?uB(t):new Po(t,e,n,r??1)}function Po(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dA(Po,Exe,cB(cm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new Po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?op:Math.pow(op,t),new Po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ui(bw(t>=240?t-240:t+120,i,r),bw(t,i,r),bw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Po(yk(this.h),hg(this.s),hg(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wv(this.opacity);return`${t===1?"hsl(":"hsla("}${yk(this.h)}, ${hg(this.s)*100}%, ${hg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yk(t){return t=(t||0)%360,t<0?t+360:t}function hg(t){return Math.max(0,Math.min(1,t||0))}function bw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fA=t=>()=>t;function Txe(t,e){return function(n){return t+n*e}}function Cxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Axe(t){return(t=+t)==1?dB:function(e,n){return n-e?Cxe(e,n,t):fA(isNaN(e)?n:e)}}function dB(t,e){var n=e-t;return n?Txe(t,n):fA(isNaN(t)?e:t)}const vk=function t(e){var n=Axe(e);function r(i,o){var s=n((i=QS(i)).r,(o=QS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=dB(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Pxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Nxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ixe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var JS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ww=new RegExp(JS.source,"g");function Oxe(t){return function(){return t}}function Rxe(t){return function(e){return t(e)+""}}function Mxe(t,e){var n=JS.lastIndex=ww.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=JS.exec(t))&&(i=ww.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Sv(r,i)})),n=ww.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Rxe(l[0].x):Oxe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}function Zd(t,e){var n=typeof e,r;return e==null||n==="boolean"?fA(e):(n==="number"?Sv:n==="string"?(r=ap(e))?(e=r,vk):Mxe:e instanceof ap?vk:e instanceof Date?Ixe:Nxe(e)?Pxe:Array.isArray(e)?jxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kxe:Sv)(t,e)}function hA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Dxe(t,e){e===void 0&&(e=t,t=Zd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function $xe(t){return function(){return t}}function _v(t){return+t}var xk=[0,1];function Xr(t){return t}function ZS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$xe(isNaN(e)?NaN:.5)}function Lxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ZS(i,r),o=n(s,o)):(r=ZS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Vxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ZS(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=lm(t,a,1,r)-1;return o[l](i[l](a))}}function um(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C0(){var t=xk,e=xk,n=Zd,r,i,o,s=Xr,a,l,u;function d(){var h=Math.min(t.length,e.length);return s!==Xr&&(s=Lxe(t[0],t[h-1])),a=h>2?Vxe:Fxe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Sv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,_v),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=hA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Xr,d()):s!==Xr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function pA(){return C0()(Xr,Xr)}function Bxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ud(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function Uxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function zxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lp(t){if(!(e=Wxe.exec(t)))throw new Error("invalid format: "+t);var e;return new mA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lp.prototype=mA.prototype;function mA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fB;function qxe(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(fB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ev(t,Math.max(0,e+o-1))[0]}function bk(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bk(t*100,e),r:bk,s:qxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sk(t){return t}var _k=Array.prototype.map,Ek=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gxe(t){var e=t.grouping===void 0||t.thousands===void 0?Sk:Uxe(_k.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Sk:zxe(_k.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=lp(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(w=!0,E="g"):wk[E]||(S===void 0&&(S=12),C=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?s:"",T=wk[E],N=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(j){var R=P,O=_,$,F,B;if(E==="c")O=T(j)+O,j="";else{j=+j;var U=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),S),C&&(j=Hxe(j)),U&&+j==0&&y!=="+"&&(U=!1),R=(U?y==="("?y:a:y==="-"||y==="("?"":y)+R,O=(E==="s"?Ek[8+fB/3]:"")+O+(U&&y==="("?")":""),N){for($=-1,F=j.length;++$<F;)if(B=j.charCodeAt($),48>B||B>57){O=(B===46?i+j.slice($+1):j.slice($))+O,j=j.slice(0,$);break}}}w&&!v&&(j=e(j,1/0));var V=R.length+j.length+O.length,W=V<x?new Array(x-V+1).join(h):"";switch(w&&v&&(j=e(W+j,W.length?x-O.length:1/0),W=""),m){case"<":j=R+j+O+W;break;case"=":j=R+W+j+O;break;case"^":j=W.slice(0,V=W.length>>1)+R+j+O+W.slice(V);break;default:j=W+R+j+O;break}return o(j)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=lp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(ud(h)/3)))*3,g=Math.pow(10,-y),v=Ek[8+y/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var pg,gA,hB;Kxe({thousands:",",grouping:[3],currency:["$",""]});function Kxe(t){return pg=Gxe(t),gA=pg.format,hB=pg.formatPrefix,pg}function Yxe(t){return Math.max(0,-ud(Math.abs(t)))}function Xxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ud(e)/3)))*3-ud(Math.abs(t)))}function Qxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ud(e)-ud(t))+1}function pB(t,e,n,r){var i=YS(t,e,n),o;switch(r=lp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Xxe(i,s))&&(r.precision=o),hB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Qxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return gA(r)}function Sl(t){var e=t.domain;return t.ticks=function(n){var r=e();return GS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,d=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);d-- >0;){if(u=KS(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Tv(){var t=pA();return t.copy=function(){return um(t,Tv())},so.apply(t,arguments),Sl(t)}function mB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_v),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return mB(t).unknown(e)},t=arguments.length?Array.from(t,_v):[0,1],Sl(n)}function gB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Tk(t){return Math.log(t)}function Ck(t){return Math.exp(t)}function Jxe(t){return-Math.log(-t)}function Zxe(t){return-Math.exp(-t)}function e0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function t0e(t){return t===10?e0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function n0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ak(t){return(e,n)=>-t(-e,n)}function yA(t){const e=t(Tk,Ck),n=e.domain;let r=10,i,o;function s(){return i=n0e(r),o=t0e(r),n()[0]<0?(i=Ak(i),o=Ak(o),t(Jxe,Zxe)):t(Tk,Ck),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=GS(u,d,v))}else x=GS(h,m,Math.min(m-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lp(l)).precision==null&&(l.trim=!0),l=gA(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(gB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function yB(){const t=yA(C0()).domain([1,10]);return t.copy=()=>um(t,yB()).base(t.base()),so.apply(t,arguments),t}function Pk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Nk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vA(t){var e=1,n=t(Pk(e),Nk(e));return n.constant=function(r){return arguments.length?t(Pk(e=+r),Nk(e)):e},Sl(n)}function vB(){var t=vA(C0());return t.copy=function(){return um(t,vB()).constant(t.constant())},so.apply(t,arguments)}function jk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function r0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function i0e(t){return t<0?-t*t:t*t}function xA(t){var e=t(Xr,Xr),n=1;function r(){return n===1?t(Xr,Xr):n===.5?t(r0e,i0e):t(jk(n),jk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sl(e)}function bA(){var t=xA(C0());return t.copy=function(){return um(t,bA()).exponent(t.exponent())},so.apply(t,arguments),t}function o0e(){return bA.apply(null,arguments).exponent(.5)}function Ik(t){return Math.sign(t)*t*t}function s0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xB(){var t=pA(),e=[0,1],n=!1,r;function i(o){var s=s0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Ik(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,_v)).map(Ik)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},so.apply(i,arguments),Sl(i)}function bB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=dxe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[lm(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(nl),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bB().domain(t).range(e).unknown(r)},so.apply(o,arguments)}function wB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[lm(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wB().domain([t,e]).range(i).unknown(o)},so.apply(Sl(s),arguments)}function SB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[lm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SB().domain(t).range(e).unknown(n)},so.apply(i,arguments)}const Sw=new Date,_w=new Date;function Zn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Zn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Sw.setTime(+o),_w.setTime(+s),t(Sw),t(_w),Math.floor(n(Sw,_w))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Cv=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cv);Cv.range;const Bs=1e3,Yi=Bs*60,Us=Yi*60,ia=Us*24,wA=ia*7,kk=ia*30,Ew=ia*365,ql=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCSeconds());ql.range;const SA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getMinutes());SA.range;const _A=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCMinutes());_A.range;const EA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs-t.getMinutes()*Yi)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getHours());EA.range;const TA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getUTCHours());TA.range;const dm=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yi)/ia,t=>t.getDate()-1);dm.range;const A0=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);A0.range;const _B=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));_B.range;function kc(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yi)/wA)}const P0=kc(0),Av=kc(1),a0e=kc(2),l0e=kc(3),dd=kc(4),c0e=kc(5),u0e=kc(6);P0.range;Av.range;a0e.range;l0e.range;dd.range;c0e.range;u0e.range;function Oc(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wA)}const N0=Oc(0),Pv=Oc(1),d0e=Oc(2),f0e=Oc(3),fd=Oc(4),h0e=Oc(5),p0e=Oc(6);N0.range;Pv.range;d0e.range;f0e.range;fd.range;h0e.range;p0e.range;const CA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CA.range;const AA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AA.range;const oa=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const sa=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});sa.range;function EB(t,e,n,r,i,o){const s=[[ql,1,Bs],[ql,5,5*Bs],[ql,15,15*Bs],[ql,30,30*Bs],[o,1,Yi],[o,5,5*Yi],[o,15,15*Yi],[o,30,30*Yi],[i,1,Us],[i,3,3*Us],[i,6,6*Us],[i,12,12*Us],[r,1,ia],[r,2,2*ia],[n,1,wA],[e,1,kk],[e,3,3*kk],[t,1,Ew]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function l(u,d,f){const h=Math.abs(d-u)/f,m=cA(([,,v])=>v).right(s,h);if(m===s.length)return t.every(YS(u/Ew,d/Ew,f));if(m===0)return Cv.every(Math.max(YS(u,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[a,l]}const[m0e,g0e]=EB(sa,AA,N0,_B,TA,_A),[y0e,v0e]=EB(oa,CA,P0,dm,EA,SA);function Tw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function x0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ef(i),d=Tf(i),f=Ef(o),h=Tf(o),m=Ef(s),y=Tf(s),g=Ef(a),v=Tf(a),x=Ef(l),w=Tf(l),S={a:U,A:V,b:W,B:ne,c:null,d:Lk,e:Lk,f:U0e,g:J0e,G:ebe,H:F0e,I:V0e,j:B0e,L:TB,m:z0e,M:W0e,p:X,q:ie,Q:Bk,s:Uk,S:H0e,u:q0e,U:G0e,V:K0e,w:Y0e,W:X0e,x:null,X:null,y:Q0e,Y:Z0e,Z:tbe,"%":Vk},C={a:le,A:be,b:ke,B:st,c:null,d:Fk,e:Fk,f:obe,g:mbe,G:ybe,H:nbe,I:rbe,j:ibe,L:AB,m:sbe,M:abe,p:xe,q:je,Q:Bk,s:Uk,S:lbe,u:cbe,U:ube,V:dbe,w:fbe,W:hbe,x:null,X:null,y:pbe,Y:gbe,Z:vbe,"%":Vk},E={a:k,A:j,b:R,B:O,c:$,d:Dk,e:Dk,f:M0e,g:Mk,G:Rk,H:$k,I:$k,j:I0e,L:R0e,m:j0e,M:k0e,p:N,q:N0e,Q:$0e,s:L0e,S:O0e,u:E0e,U:T0e,V:C0e,w:_0e,W:A0e,x:F,X:B,y:Mk,Y:Rk,Z:P0e,"%":D0e};S.x=P(n,S),S.X=P(r,S),S.c=P(e,S),C.x=P(n,C),C.X=P(r,C),C.c=P(e,C);function P(se,pe){return function(ce){var z=[],we=-1,Te=0,Xe=se.length,Qe,at,pt;for(ce instanceof Date||(ce=new Date(+ce));++we<Xe;)se.charCodeAt(we)===37&&(z.push(se.slice(Te,we)),(at=Ok[Qe=se.charAt(++we)])!=null?Qe=se.charAt(++we):at=Qe==="e"?" ":"0",(pt=pe[Qe])&&(Qe=pt(ce,at)),z.push(Qe),Te=we+1);return z.push(se.slice(Te,we)),z.join("")}}function _(se,pe){return function(ce){var z=_f(1900,void 0,1),we=T(z,se,ce+="",0),Te,Xe;if(we!=ce.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(pe&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Te=Cw(_f(z.y,0,1)),Xe=Te.getUTCDay(),Te=Xe>4||Xe===0?Pv.ceil(Te):Pv(Te),Te=A0.offset(Te,(z.V-1)*7),z.y=Te.getUTCFullYear(),z.m=Te.getUTCMonth(),z.d=Te.getUTCDate()+(z.w+6)%7):(Te=Tw(_f(z.y,0,1)),Xe=Te.getDay(),Te=Xe>4||Xe===0?Av.ceil(Te):Av(Te),Te=dm.offset(Te,(z.V-1)*7),z.y=Te.getFullYear(),z.m=Te.getMonth(),z.d=Te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Xe="Z"in z?Cw(_f(z.y,0,1)).getUTCDay():Tw(_f(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Xe+5)%7:z.w+z.U*7-(Xe+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Cw(z)):Tw(z)}}function T(se,pe,ce,z){for(var we=0,Te=pe.length,Xe=ce.length,Qe,at;we<Te;){if(z>=Xe)return-1;if(Qe=pe.charCodeAt(we++),Qe===37){if(Qe=pe.charAt(we++),at=E[Qe in Ok?pe.charAt(we++):Qe],!at||(z=at(se,ce,z))<0)return-1}else if(Qe!=ce.charCodeAt(z++))return-1}return z}function N(se,pe,ce){var z=u.exec(pe.slice(ce));return z?(se.p=d.get(z[0].toLowerCase()),ce+z[0].length):-1}function k(se,pe,ce){var z=m.exec(pe.slice(ce));return z?(se.w=y.get(z[0].toLowerCase()),ce+z[0].length):-1}function j(se,pe,ce){var z=f.exec(pe.slice(ce));return z?(se.w=h.get(z[0].toLowerCase()),ce+z[0].length):-1}function R(se,pe,ce){var z=x.exec(pe.slice(ce));return z?(se.m=w.get(z[0].toLowerCase()),ce+z[0].length):-1}function O(se,pe,ce){var z=g.exec(pe.slice(ce));return z?(se.m=v.get(z[0].toLowerCase()),ce+z[0].length):-1}function $(se,pe,ce){return T(se,e,pe,ce)}function F(se,pe,ce){return T(se,n,pe,ce)}function B(se,pe,ce){return T(se,r,pe,ce)}function U(se){return s[se.getDay()]}function V(se){return o[se.getDay()]}function W(se){return l[se.getMonth()]}function ne(se){return a[se.getMonth()]}function X(se){return i[+(se.getHours()>=12)]}function ie(se){return 1+~~(se.getMonth()/3)}function le(se){return s[se.getUTCDay()]}function be(se){return o[se.getUTCDay()]}function ke(se){return l[se.getUTCMonth()]}function st(se){return a[se.getUTCMonth()]}function xe(se){return i[+(se.getUTCHours()>=12)]}function je(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var pe=P(se+="",S);return pe.toString=function(){return se},pe},parse:function(se){var pe=_(se+="",!1);return pe.toString=function(){return se},pe},utcFormat:function(se){var pe=P(se+="",C);return pe.toString=function(){return se},pe},utcParse:function(se){var pe=_(se+="",!0);return pe.toString=function(){return se},pe}}}var Ok={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,b0e=/^%/,w0e=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function S0e(t){return t.replace(w0e,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(S0e).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _0e(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function E0e(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function T0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function C0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function A0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=fr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Mk(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function P0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N0e(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function j0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dk(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function I0e(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $k(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function k0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function O0e(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function M0e(t,e,n){var r=fr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D0e(t,e,n){var r=b0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $0e(t,e,n){var r=fr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function L0e(t,e,n){var r=fr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Lk(t,e){return Ot(t.getDate(),e,2)}function F0e(t,e){return Ot(t.getHours(),e,2)}function V0e(t,e){return Ot(t.getHours()%12||12,e,2)}function B0e(t,e){return Ot(1+dm.count(oa(t),t),e,3)}function TB(t,e){return Ot(t.getMilliseconds(),e,3)}function U0e(t,e){return TB(t,e)+"000"}function z0e(t,e){return Ot(t.getMonth()+1,e,2)}function W0e(t,e){return Ot(t.getMinutes(),e,2)}function H0e(t,e){return Ot(t.getSeconds(),e,2)}function q0e(t){var e=t.getDay();return e===0?7:e}function G0e(t,e){return Ot(P0.count(oa(t)-1,t),e,2)}function CB(t){var e=t.getDay();return e>=4||e===0?dd(t):dd.ceil(t)}function K0e(t,e){return t=CB(t),Ot(dd.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function Y0e(t){return t.getDay()}function X0e(t,e){return Ot(Av.count(oa(t)-1,t),e,2)}function Q0e(t,e){return Ot(t.getFullYear()%100,e,2)}function J0e(t,e){return t=CB(t),Ot(t.getFullYear()%100,e,2)}function Z0e(t,e){return Ot(t.getFullYear()%1e4,e,4)}function ebe(t,e){var n=t.getDay();return t=n>=4||n===0?dd(t):dd.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function tbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function Fk(t,e){return Ot(t.getUTCDate(),e,2)}function nbe(t,e){return Ot(t.getUTCHours(),e,2)}function rbe(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function ibe(t,e){return Ot(1+A0.count(sa(t),t),e,3)}function AB(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function obe(t,e){return AB(t,e)+"000"}function sbe(t,e){return Ot(t.getUTCMonth()+1,e,2)}function abe(t,e){return Ot(t.getUTCMinutes(),e,2)}function lbe(t,e){return Ot(t.getUTCSeconds(),e,2)}function cbe(t){var e=t.getUTCDay();return e===0?7:e}function ube(t,e){return Ot(N0.count(sa(t)-1,t),e,2)}function PB(t){var e=t.getUTCDay();return e>=4||e===0?fd(t):fd.ceil(t)}function dbe(t,e){return t=PB(t),Ot(fd.count(sa(t),t)+(sa(t).getUTCDay()===4),e,2)}function fbe(t){return t.getUTCDay()}function hbe(t,e){return Ot(Pv.count(sa(t)-1,t),e,2)}function pbe(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function mbe(t,e){return t=PB(t),Ot(t.getUTCFullYear()%100,e,2)}function gbe(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function ybe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fd(t):fd.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function vbe(){return"+0000"}function Vk(){return"%"}function Bk(t){return+t}function Uk(t){return Math.floor(+t/1e3)}var Uc,NB,jB;xbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xbe(t){return Uc=x0e(t),NB=Uc.format,Uc.parse,jB=Uc.utcFormat,Uc.utcParse,Uc}function bbe(t){return new Date(t)}function wbe(t){return t instanceof Date?+t:+new Date(+t)}function PA(t,e,n,r,i,o,s,a,l,u){var d=pA(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),S=u("%B"),C=u("%Y");function E(P){return(l(P)<P?m:a(P)<P?y:s(P)<P?g:o(P)<P?v:r(P)<P?i(P)<P?x:w:n(P)<P?S:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,wbe)):h().map(bbe)},d.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},d.tickFormat=function(P,_){return _==null?E:u(_)},d.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(gB(_,P)):d},d.copy=function(){return um(d,PA(t,e,n,r,i,o,s,a,l,u))},d}function Sbe(){return so.apply(PA(y0e,v0e,oa,CA,P0,dm,EA,SA,ql,NB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _be(){return so.apply(PA(m0e,g0e,sa,AA,N0,A0,TA,_A,ql,jB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j0(){var t=0,e=1,n,r,i,o,s=Xr,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(Zd),u.rangeRound=d(hA),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IB(){var t=Sl(j0()(Xr));return t.copy=function(){return _l(t,IB())},ha.apply(t,arguments)}function kB(){var t=yA(j0()).domain([1,10]);return t.copy=function(){return _l(t,kB()).base(t.base())},ha.apply(t,arguments)}function OB(){var t=vA(j0());return t.copy=function(){return _l(t,OB()).constant(t.constant())},ha.apply(t,arguments)}function NA(){var t=xA(j0());return t.copy=function(){return _l(t,NA()).exponent(t.exponent())},ha.apply(t,arguments)}function Ebe(){return NA.apply(null,arguments).exponent(.5)}function RB(){var t=[],e=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((lm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>uxe(t,o/r))},n.copy=function(){return RB(e).domain(t)},ha.apply(n,arguments)}function I0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Xr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var x,w,S;return arguments.length?([x,w,S]=v,u=Dxe(g,[x,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=y(Zd),m.rangeRound=y(hA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function MB(){var t=Sl(I0()(Xr));return t.copy=function(){return _l(t,MB())},ha.apply(t,arguments)}function DB(){var t=yA(I0()).domain([.1,1,10]);return t.copy=function(){return _l(t,DB()).base(t.base())},ha.apply(t,arguments)}function $B(){var t=vA(I0());return t.copy=function(){return _l(t,$B()).constant(t.constant())},ha.apply(t,arguments)}function jA(){var t=xA(I0());return t.copy=function(){return _l(t,jA()).exponent(t.exponent())},ha.apply(t,arguments)}function Tbe(){return jA.apply(null,arguments).exponent(.5)}const zk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ip,scaleDiverging:MB,scaleDivergingLog:DB,scaleDivergingPow:jA,scaleDivergingSqrt:Tbe,scaleDivergingSymlog:$B,scaleIdentity:mB,scaleImplicit:XS,scaleLinear:Tv,scaleLog:yB,scaleOrdinal:uA,scalePoint:ch,scalePow:bA,scaleQuantile:bB,scaleQuantize:wB,scaleRadial:xB,scaleSequential:IB,scaleSequentialLog:kB,scaleSequentialPow:NA,scaleSequentialQuantile:RB,scaleSequentialSqrt:Ebe,scaleSequentialSymlog:OB,scaleSqrt:o0e,scaleSymlog:vB,scaleThreshold:SB,scaleTime:Sbe,scaleUtc:_be,tickFormat:pB},Symbol.toStringTag,{value:"Module"}));var Cbe=Wd;function Abe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Cbe(s):n(s,a)))var a=s,l=o}return l}var LB=Abe;function Pbe(t,e){return t>e}var Nbe=Pbe,jbe=LB,Ibe=Nbe,kbe=Qd;function Obe(t){return t&&t.length?jbe(t,kbe,Ibe):void 0}var Rbe=Obe;const k0=Jt(Rbe);function Mbe(t,e){return t<e}var Dbe=Mbe,$be=LB,Lbe=Dbe,Fbe=Qd;function Vbe(t){return t&&t.length?$be(t,Fbe,Lbe):void 0}var Bbe=Vbe;const O0=Jt(Bbe);var Ube=zC,zbe=Jd,Wbe=q6,Hbe=pi;function qbe(t,e){var n=Hbe(t)?Ube:Wbe;return n(t,zbe(e))}var Gbe=qbe,Kbe=W6,Ybe=Gbe;function Xbe(t,e){return Kbe(Ybe(t,e),1)}var Qbe=Xbe;const Jbe=Jt(Qbe);var Zbe=oA;function ewe(t,e){return Zbe(t,e)}var twe=ewe;const R0=Jt(twe);var ef=1e9,nwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kA,vn=!0,no="[DecimalError] ",ic=no+"Invalid argument: ",IA=no+"Exponent out of range: ",tf=Math.floor,Dl=Math.pow,rwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ai,sr=1e7,un=7,FB=9007199254740991,Nv=tf(FB/un),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*un;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return Gs(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return Qt(Gs(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return Vn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ai))throw Error(no+"NaN");if(n.s<1)throw Error(no+(n.s?"NaN":"-Infinity"));return n.eq(Ai)?new r(0):(vn=!1,e=Gs(cp(n,o),cp(t,o),o),vn=!0,Qt(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UB(e,t):VB(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(no+"NaN");return n.s?(vn=!1,e=Gs(n,t,0,1).times(t),vn=!0,n.minus(e)):Qt(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return BB(this)};Fe.naturalLogarithm=Fe.ln=function(){return cp(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VB(e,t):UB(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ic+t);if(e=Vn(i)+1,r=i.d.length-1,n=r*un+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(no+"NaN")}for(t=Vn(a),vn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=rs(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Gs(a,o,s+2)).times(.5),rs(o.d).slice(0,s)===(e=rs(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Qt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return vn=!0,Qt(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,o,s,a,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%sr|0,e=a/sr|0;o[i]=(o[i]+e)%sr|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vn?Qt(t,f.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xs(t,0,ef),e===void 0?e=r.rounding:xs(e,0,8),Qt(n,t+Vn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wc(r,!0):(xs(t,0,ef),e===void 0?e=i.rounding:xs(e,0,8),r=Qt(new i(r),t+1,e),n=wc(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?wc(i):(xs(t,0,ef),e===void 0?e=o.rounding:xs(e,0,8),r=Qt(new o(i),t+Vn(i)+1,e),n=wc(r.abs(),!1,t+Vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return Qt(new e(t),Vn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Ai);if(a=new l(a),!a.s){if(t.s<1)throw Error(no+"Infinity");return a}if(a.eq(Ai))return a;if(r=l.precision,t.eq(Ai))return Qt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=FB){for(i=new l(Ai),e=Math.ceil(r/un+4),vn=!1;n%2&&(i=i.times(a),Hk(i.d,e)),n=tf(n/2),n!==0;)a=a.times(a),Hk(a.d,e);return vn=!0,t.s<0?new l(Ai).div(i):Qt(i,r)}}else if(o<0)throw Error(no+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,vn=!1,i=t.times(cp(a,r+u)),vn=!0,i=BB(i),i.s=o,i};Fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Vn(i),r=wc(i,n<=o.toExpNeg||n>=o.toExpPos)):(xs(t,1,ef),e===void 0?e=o.rounding:xs(e,0,8),i=Qt(new o(i),t,e),n=Vn(i),r=wc(i,t<=n||n<=o.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xs(t,1,ef),e===void 0?e=r.rounding:xs(e,0,8)),Qt(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return wc(t,e<=n.toExpNeg||e>=n.toExpPos)};function VB(t,e){var n,r,i,o,s,a,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vn?Qt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/un),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/sr|0,l[o]%=sr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,vn?Qt(e,f):e}function xs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ic+t)}function rs(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=un-r.length,n&&(o+=Aa(n)),o+=r;s=t[e],r=s+"",n=un-r.length,n&&(o+=Aa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Gs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%sr|0,s=o/sr|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*sr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,P,_,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(no+"Division by zero");for(l=r.e-i.e,_=R.length,E=j.length,m=new N(k),y=m.d=[],u=0;R[u]==(j[u]||0);)++u;if(R[u]>(j[u]||0)&&--l,o==null?w=o=N.precision:s?w=o+(Vn(r)-Vn(i))+1:w=o,w<0)return new N(0);if(w=w/un+2|0,u=0,_==1)for(d=0,R=R[0],w++;(u<E||d)&&w--;u++)S=d*sr+(j[u]||0),y[u]=S/R|0,d=S%R|0;else{for(d=sr/(R[0]+1)|0,d>1&&(R=t(R,d),j=t(j,d),_=R.length,E=j.length),C=_,g=j.slice(0,_),v=g.length;v<_;)g[v++]=0;T=R.slice(),T.unshift(0),P=R[0],R[1]>=sr/2&&++P;do d=0,a=e(R,g,_,v),a<0?(x=g[0],_!=v&&(x=x*sr+(g[1]||0)),d=x/P|0,d>1?(d>=sr&&(d=sr-1),f=t(R,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,_<h?T:R,h))):(d==0&&(a=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(R,g,_,v),a<1&&(d++,n(g,_<v?T:R,v))),v=g.length):a===0&&(d++,g=[0]),y[u++]=d,a&&g[0]?g[v++]=j[C]||0:(g=[j[C]],v=1);while((C++<E||g[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,Qt(m,s?o+Vn(m)+1:o)}}();function BB(t,e){var n,r,i,o,s,a,l=0,u=0,d=t.constructor,f=d.precision;if(Vn(t)>16)throw Error(IA+Vn(t));if(!t.s)return new d(Ai);for(e==null?(vn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Dl(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Ai),d.precision=a;;){if(i=Qt(i.times(t),a),n=n.times(++l),s=o.plus(Gs(i,n,a)),rs(s.d).slice(0,a)===rs(o.d).slice(0,a)){for(;u--;)o=Qt(o.times(o),a);return d.precision=f,e==null?(vn=!0,Qt(o,f)):o}o=s}}function Vn(t){for(var e=t.e*un,n=t.d[0];n>=10;n/=10)e++;return e}function Aw(t,e,n){if(e>t.LN10.sd())throw vn=!0,n&&(t.precision=n),Error(no+"LN10 precision limit exceeded");return Qt(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function cp(t,e){var n,r,i,o,s,a,l,u,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(no+(m.s?"NaN":"-Infinity"));if(m.eq(Ai))return new g(0);if(e==null?(vn=!1,u=v):u=e,m.eq(10))return e==null&&(vn=!0),Aw(g,u);if(u+=h,g.precision=u,n=rs(y),r=n.charAt(0),o=Vn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=rs(m.d),r=n.charAt(0),f++;o=Vn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Aw(g,u+2,v).times(o+""),m=cp(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(vn=!0,Qt(m,v)):m;for(a=s=m=Gs(m.minus(Ai),m.plus(Ai),u),d=Qt(m.times(m),u),i=3;;){if(s=Qt(s.times(d),u),l=a.plus(Gs(s,new g(i),u)),rs(l.d).slice(0,u)===rs(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Aw(g,u+2,v).times(o+""))),a=Gs(a,new g(f),u),g.precision=v,e==null?(vn=!0,Qt(a,v)):a;a=l,i+=2}}function Wk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/un),t.d=[],r=(n+1)%un,n<0&&(r+=un),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=un;r<i;)t.d.push(+e.slice(r,r+=un));e=e.slice(r),r=un-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vn&&(t.e>Nv||t.e<-Nv))throw Error(IA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Qt(t,e,n){var r,i,o,s,a,l,u,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=un,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/un),o=f.length,d>=o)return t;for(u=o=f[d],s=1;o>=10;o/=10)s++;r%=un,i=r-un+s}if(n!==void 0&&(o=Dl(10,s-i-1),a=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Dl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Vn(t),f.length=1,e=e-o-1,f[0]=Dl(10,(un-e%un)%un),t.e=tf(-e/un)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Dl(10,un-r),f[d]=i>0?(u/Dl(10,s-i)%Dl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==sr&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=sr)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(vn&&(t.e>Nv||t.e<-Nv))throw Error(IA+Vn(t));return t}function UB(t,e){var n,r,i,o,s,a,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vn?Qt(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(m/un),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=sr-1;--l[o],l[i]+=sr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vn?Qt(e,m):e):new h(0)}function wc(t,e,n){var r,i=Vn(t),o=rs(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Aa(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Aa(-i-1)+o,n&&(r=n-s)>0&&(o+=Aa(r))):i>=s?(o+=Aa(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Aa(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Aa(r))),t.s<0?"-"+o:o}function Hk(t,e){if(t.length>e)return t.length=e,!0}function zB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ic+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Wk(s,o.toString())}else if(typeof o!="string")throw Error(ic+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,rwe.test(o))Wk(s,o);else throw Error(ic+o)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zB,i.config=i.set=iwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iwe(t){if(!t||typeof t!="object")throw Error(no+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ic+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ic+n+": "+r);return this}var kA=zB(nwe);Ai=new kA(1);const Wt=kA;function owe(t){return cwe(t)||lwe(t)||awe(t)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t,e){if(t){if(typeof t=="string")return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(t,e)}}function lwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cwe(t){if(Array.isArray(t))return e_(t)}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uwe=function(e){return e},WB={"@@functional/placeholder":!0},HB=function(e){return e===WB},qk=function(e){return function n(){return arguments.length===0||arguments.length===1&&HB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dwe=function t(e,n){return e===1?n:qk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==WB}).length;return s>=e?n.apply(void 0,i):t(e-s,qk(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(f){return HB(f)?l.shift():f});return n.apply(void 0,owe(d).concat(l))}))})},M0=function(e){return dwe(e.length,e)},t_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fwe=M0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uwe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},n_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function pwe(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function mwe(t,e,n){for(var r=new Wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var gwe=M0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ywe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vwe=M0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const D0={rangeStep:mwe,getDigitCount:pwe,interpolateNumber:gwe,uninterpolateNumber:ywe,uninterpolateTruncation:vwe};function r_(t){return wwe(t)||bwe(t)||GB(t)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wwe(t){if(Array.isArray(t))return i_(t)}function up(t,e){return Ewe(t)||_we(t,e)||GB(t,e)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GB(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _we(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Ewe(t){if(Array.isArray(t))return t}function KB(t){var e=up(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function YB(t,e,n){if(t.lte(0))return new Wt(0);var r=D0.getDigitCount(t.toNumber()),i=new Wt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Wt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Wt(Math.ceil(l))}function Twe(t,e,n){var r=1,i=new Wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Wt(10).pow(D0.getDigitCount(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var s=Math.floor((e-1)/2),a=hwe(fwe(function(l){return i.add(new Wt(l-s).mul(r)).toNumber()}),t_);return a(0,e)}function XB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var o=YB(new Wt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Wt(0):(s=new Wt(t).add(e).div(2),s=s.sub(new Wt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Wt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?XB(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Wt(a).mul(o)),tickMax:s.add(new Wt(l).mul(o))})}function Cwe(t){var e=up(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=KB([n,r]),l=up(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(r_(t_(0,i-1).map(function(){return 1/0}))):[].concat(r_(t_(0,i-1).map(function(){return-1/0})),[d]);return n>r?n_(f):f}if(u===d)return Twe(u,i,o);var h=XB(u,d,s,o),m=h.step,y=h.tickMin,g=h.tickMax,v=D0.rangeStep(y,g.add(new Wt(.1).mul(m)),m);return n>r?n_(v):v}function Awe(t,e){var n=up(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=KB([r,i]),a=up(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=YB(new Wt(u).sub(l).div(d-1),o,0),h=[].concat(r_(D0.rangeStep(new Wt(l),new Wt(u).sub(new Wt(.99).mul(f)),f)),[u]);return r>i?n_(h):h}var Pwe=qB(Cwe),Nwe=qB(Awe),jwe="Invariant failed";function Sc(t,e){throw new Error(jwe)}var Iwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function kwe(t,e){return Dwe(t)||Mwe(t,e)||Rwe(t,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Dwe(t){if(Array.isArray(t))return t}function $we(t,e){if(t==null)return{};var n=Lwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZB(r.key),r)}}function Bwe(t,e,n){return e&&Vwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uwe(t,e,n){return e=Iv(e),zwe(t,QB()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function zwe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wwe(t)}function Wwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function JB(t,e,n){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=qwe(t,"string");return hd(e)=="symbol"?e:e+""}function qwe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=function(t){function e(){return Fwe(this,e),Uwe(this,e,arguments)}return Hwe(e,t),Bwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=$we(r,Iwe),m=Nt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Sc();var y=l.map(function(g){var v=u(g,a),x=v.x,w=v.y,S=v.value,C=v.errorVal;if(!C)return null;var E=[],P,_;if(Array.isArray(C)){var T=kwe(C,2);P=T[0],_=T[1]}else P=_=C;if(o==="vertical"){var N=d.scale,k=w+i,j=k+s,R=k-s,O=N(S-P),$=N(S+_);E.push({x1:$,y1:j,x2:$,y2:R}),E.push({x1:O,y1:k,x2:$,y2:k}),E.push({x1:O,y1:j,x2:O,y2:R})}else if(o==="horizontal"){var F=f.scale,B=x+i,U=B-s,V=B+s,W=F(S-P),ne=F(S+_);E.push({x1:U,y1:ne,x2:V,y2:ne}),E.push({x1:B,y1:W,x2:B,y2:ne}),E.push({x1:U,y1:W,x2:V,y2:W})}return q.createElement(Rn,jv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),E.map(function(X){return q.createElement("line",jv({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return q.createElement(Rn,{className:"recharts-errorBars"},y)}}])}(q.Component);JB(fm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JB(fm,"displayName","ErrorBar");function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Gwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gwe(t,e,n){return e=Kwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kwe(t){var e=Ywe(t,"string");return dp(e)=="symbol"?e:e+""}function Ywe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ti(n,Au);if(!s)return null;var a=Au.defaultProps,l=a!==void 0?Nl(Nl({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Nl(Nl({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||v||"square",color:OA(f),value:g||y,payload:m}}),Nl(Nl(Nl({},l),Au.getWithHeight(s,i)),{},{payload:u,item:s})};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function Yk(t){return Zwe(t)||Jwe(t)||Qwe(t)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function Jwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zwe(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){Nu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nu(t,e,n){return e=e1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return fp(e)=="symbol"?e:e+""}function t1e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oi(t,e,n){return xt(t)||xt(e)?n:Qn(e)?Qi(t,e,n):St(e)?e(t):n}function uh(t,e,n,r){var i=Jbe(t,function(a){return Oi(a,e)});if(n==="number"){var o=i.filter(function(a){return Ie(a)||parseFloat(a)});return o.length?[O0(o),k0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!xt(a)}):i;return s.map(function(a){return Qn(a)||a instanceof Date?a:""})}var n1e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ko(f-d)!==ko(h-f)){var y=[];if(ko(h-f)===ko(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},OA=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},r1e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(_){return Hs(_.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,S=w!==void 0?jn(jn({},w),x[0].props):x[0].props,C=S.barSize,E=S[v];s[E]||(s[E]=[]);var P=xt(C)?n:C;s[E].push({item:x[0],stackList:x.slice(1),barSize:xt(P)?void 0:bc(P,r,0)})}}return s},i1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=bc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,y=s.reduce(function(C,E){return C+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(C,E){var P={item:E.item,position:{offset:v.offset+v.size+u,size:h?m:E.barSize}},_=[].concat(Yk(C),[P]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:v})}),_},f)}else{var x=bc(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=s.reduce(function(C,E,P){var _=[].concat(Yk(C),[{item:E.item,position:{offset:x+(w+u)*P+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},o1e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=eU({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&Ie(e[m]))return jn(jn({},e),{},Nu({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&Ie(e[y]))return jn(jn({},e),{},Nu({},y,e[y]+(h||0)))}return e},s1e=function(e,n,r){return xt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},tU=function(e,n,r,i,o){var s=n.props.children,a=Ji(s,fm).filter(function(u){return s1e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Oi(d,r);if(xt(f))return u;var h=Array.isArray(f)?[O0(f),k0(f)]:[f,f],m=l.reduce(function(y,g){var v=Oi(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},a1e=function(e,n,r,i,o){var s=n.map(function(a){return tU(e,a,r,o,i)}).filter(function(a){return!xt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},nU=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&tU(e,l,u,i)||uh(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},rU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Gl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ko(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!sm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Pw=new WeakMap,mg=function(e,n){if(typeof n!="function")return e;Pw.has(e)||Pw.set(e,new WeakMap);var r=Pw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},l1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:ip(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ch(),realScaleType:"point"}:o==="category"?{scale:ip(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(xc(i)){var l="scale".concat(x0(i));return{scale:(zk[l]||ch)(),realScaleType:zk[l]?l:"point"}}return St(i)?{scale:i}:{scale:ch(),realScaleType:"point"}},Qk=1e-4,c1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Qk,s=Math.max(i[0],i[1])+Qk,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},u1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},d1e=function(e,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ie(e[0])||e[0]<r)&&(o[0]=r),(!Ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},f1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=sm(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},h1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=sm(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},p1e={sign:f1e,expand:Ace,none:od,silhouette:Pce,wiggle:Nce,positive:h1e},m1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=p1e[r],s=Cce().keys(i).value(function(a,l){return+Oi(a,l,0)}).order(IS).offset(o);return s(e)},g1e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?jn(jn({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Qn(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[am("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return jn(jn({},f),{},Nu({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return jn(jn({},g),{},Nu({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:m1e(e,x.items,o)}))},y)}return jn(jn({},f),{},Nu({},h,m))},d)},y1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Pwe(u,o,a);return e.domain([O0(d),k0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Nwe(f,o,a);return{niceTicks:h}}return null};function Jk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xt(i[e.dataKey])){var a=nv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Oi(i,xt(s)?e.dataKey:s);return xt(l)?null:e.scale(l)}var Zk=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Oi(s,n.dataKey,n.domain[a]);return xt(l)?null:n.scale(l)-o/2+i},v1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},x1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Qn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},b1e=function(e){return e.reduce(function(n,r){return[O0(r.concat([n[0]]).filter(Ie)),k0(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},iU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,d){var f=b1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},eO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a_=function(e,n,r){if(St(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(eO.test(e[0])){var o=+eO.exec(e[0])[1];i[0]=n[0]-o}else St(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(tO.test(e[1])){var s=+tO.exec(e[1])[1];i[1]=n[1]+s}else St(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=aA(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],d=o[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},nO=function(e,n,r){return!e||!e.length||R0(e,Qi(r,"type.defaultProps.domain"))?n:e},oU=function(e,n){var r=e.type.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return jn(jn({},Nt(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:OA(e),value:Oi(n,i),type:l,payload:n,chartType:u,hide:d})};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){w1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1e(t,e,n){return e=S1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1e(t){var e=_1e(t,"string");return hp(e)=="symbol"?e:e+""}function _1e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=Math.PI/180,E1e=function(e){return e*180/Math.PI},_r=function(e,n,r,i){return{x:e+Math.cos(-Ov*i)*r,y:n+Math.sin(-Ov*i)*r}},T1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},C1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=T1e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:E1e(u),angleInRadian:u}},A1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},P1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},oO=function(e,n){var r=e.x,i=e.y,o=C1e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=A1e(n),f=d.startAngle,h=d.endAngle,m=a,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?iO(iO({},n),{},{radius:s,angle:P1e(m,n)}):null};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var N1e=["offset"];function j1e(t){return R1e(t)||O1e(t)||k1e(t)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function O1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R1e(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M1e(t,e){if(t==null)return{};var n=D1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){$1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1e(t,e,n){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=F1e(t,"string");return pp(e)=="symbol"?e:e+""}function F1e(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}var V1e=function(e){var n=e.value,r=e.formatter,i=xt(e.children)?n:e.children;return St(r)?r(i):i},B1e=function(e,n){var r=ko(n-e),i=Math.min(Math.abs(n-e),360);return r*i},U1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,x=B1e(m,y),w=x>=0?1:-1,S,C;i==="insideStart"?(S=m+w*s,C=g):i==="insideEnd"?(S=y-w*s,C=!g):i==="end"&&(S=y+w*s,C=g),C=x<=0?C:!C;var E=_r(u,d,v,S),P=_r(u,d,v,S+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),T=xt(e.id)?am("recharts-radial-line-"):e.id;return q.createElement("text",mp({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),q.createElement("defs",null,q.createElement("path",{id:T,d:_})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},z1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=_r(s,a,u+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=_r(s,a,v,h),w=x.x,S=x.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},W1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Gn(Gn({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Gn(Gn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Gn(Gn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:a+u+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Gn(Gn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return o==="insideLeft"?Gn({x:a+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?Gn({x:a+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?Gn({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?Gn({x:a+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?Gn({x:a+v,y:l+h,textAnchor:w,verticalAnchor:y},_):o==="insideTopRight"?Gn({x:a+u-v,y:l+h,textAnchor:x,verticalAnchor:y},_):o==="insideBottomLeft"?Gn({x:a+v,y:l+d-h,textAnchor:w,verticalAnchor:m},_):o==="insideBottomRight"?Gn({x:a+u-v,y:l+d-h,textAnchor:x,verticalAnchor:m},_):Hd(o)&&(Ie(o.x)||Wl(o.x))&&(Ie(o.y)||Wl(o.y))?Gn({x:a+bc(o.x,u),y:l+bc(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):Gn({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},H1e=function(e){return"cx"in e&&Ie(e.cx)};function Br(t){var e=t.offset,n=e===void 0?5:e,r=M1e(t,N1e),i=Gn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||xt(a)&&xt(l)&&!b.isValidElement(u)&&!St(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var m;if(St(u)){if(m=b.createElement(u,i),b.isValidElement(m))return m}else m=V1e(i);var y=H1e(o),g=Nt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return U1e(i,m,g);var v=y?z1e(i):W1e(i);return q.createElement(vv,mp({className:At("recharts-label",f)},g,v,{breakAll:h}),m)}Br.displayName="Label";var sU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ie(g)&&Ie(v)){if(Ie(f)&&Ie(h))return{x:f,y:h,width:g,height:v};if(Ie(m)&&Ie(y))return{x:m,y,width:g,height:v}}return Ie(f)&&Ie(h)?{x:f,y:h,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},q1e=function(e,n){return e?e===!0?q.createElement(Br,{key:"label-implicit",viewBox:n}):Qn(e)?q.createElement(Br,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===Br?b.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(Br,{key:"label-implicit",content:e,viewBox:n}):St(e)?q.createElement(Br,{key:"label-implicit",content:e,viewBox:n}):Hd(e)?q.createElement(Br,mp({viewBox:n},e,{key:"label-implicit"})):null:null},G1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=sU(e),s=Ji(i,Br).map(function(l,u){return b.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=q1e(e.label,n||o);return[a].concat(j1e(s))};Br.parseViewBox=sU;Br.renderCallByParent=G1e;function K1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Y1e=K1e;const X1e=Jt(Y1e);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}var Q1e=["valueAccessor"],J1e=["data","dataKey","clockWise","id","textBreakAll"];function Z1e(t){return rSe(t)||nSe(t)||tSe(t)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function nSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rSe(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){iSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iSe(t,e,n){return e=oSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oSe(t){var e=sSe(t,"string");return gp(e)=="symbol"?e:e+""}function sSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cO(t,e){if(t==null)return{};var n=aSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lSe=function(e){return Array.isArray(e.value)?X1e(e.value):e.value};function rl(t){var e=t.valueAccessor,n=e===void 0?lSe:e,r=cO(t,Q1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=cO(r,J1e);return!i||!i.length?null:q.createElement(Rn,{className:"recharts-label-list"},i.map(function(d,f){var h=xt(o)?n(d,f):Oi(d&&d.payload,o),m=xt(a)?{}:{id:"".concat(a,"-").concat(f)};return q.createElement(Br,Rv({},Nt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Br.parseViewBox(xt(s)?d:lO(lO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}rl.displayName="LabelList";function cSe(t,e){return t?t===!0?q.createElement(rl,{key:"labelList-implicit",data:e}):q.isValidElement(t)||St(t)?q.createElement(rl,{key:"labelList-implicit",data:e,content:t}):Hd(t)?q.createElement(rl,Rv({data:e},t,{key:"labelList-implicit"})):null:null}function uSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ji(r,rl).map(function(s,a){return b.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=cSe(t.label,e);return[o].concat(Z1e(i))}rl.renderCallByParent=uSe;function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){dSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dSe(t,e,n){return e=fSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fSe(t){var e=hSe(t,"string");return yp(e)=="symbol"?e:e+""}function hSe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pSe=function(e,n){var r=ko(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/Ov,h=u?o:o+s*f,m=_r(n,r,d,h),y=_r(n,r,i,h),g=u?o-s*f:o,v=_r(n,r,d*Math.cos(f*Ov),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},aU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=pSe(s,a),u=s+l,d=_r(n,r,o,s),f=_r(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=_r(n,r,i,s),y=_r(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ko(d-u),h=gg({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=gg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,w=v.lineTangency,S=v.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):aU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=gg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,T=P.lineTangency,N=P.theta,k=gg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=k.circleTangency,R=k.lineTangency,O=k.theta,$=l?Math.abs(u-d):Math.abs(u-d)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},gSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lU=function(e){var n=dO(dO({},gSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=At("recharts-sector",h),y=s-o,g=bc(a,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=mSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=aU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),q.createElement("path",u_({},Nt(n,!0),{className:m,d:v,role:"img"}))};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){ySe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ySe(t,e,n){return e=vSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vSe(t){var e=xSe(t,"string");return vp(e)=="symbol"?e:e+""}function xSe(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pO={curveBasisClosed:mce,curveBasisOpen:gce,curveBasis:pce,curveBumpX:ece,curveBumpY:tce,curveLinearClosed:yce,curveLinear:w0,curveMonotoneX:vce,curveMonotoneY:xce,curveNatural:bce,curveStep:wce,curveStepAfter:_ce,curveStepBefore:Sce},yg=function(e){return e.x===+e.x&&e.y===+e.y},Cf=function(e){return e.x},Af=function(e){return e.y},bSe=function(e,n){if(St(e))return e;var r="curve".concat(x0(e));return(r==="curveMonotone"||r==="curveBump")&&n?pO["".concat(r).concat(n==="vertical"?"Y":"X")]:pO[r]||w0},wSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=bSe(r,a),f=u?o.filter(function(g){return yg(g)}):o,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return yg(g)}):s,y=f.map(function(g,v){return hO(hO({},g),{},{base:m[v]})});return a==="vertical"?h=ag().y(Af).x1(Cf).x0(function(g){return g.base.x}):h=ag().x(Cf).y1(Af).y0(function(g){return g.base.y}),h.defined(yg).curve(d),h(y)}return a==="vertical"&&Ie(s)?h=ag().y(Af).x1(Cf).x0(s):Ie(s)?h=ag().x(Cf).y1(Af).y0(s):h=u6().x(Cf).y(Af),h.defined(yg).curve(d),h(f)},f_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?wSe(e):i;return b.createElement("path",d_({},Nt(e,!1),rv(e),{className:At("recharts-curve",n),d:s,ref:o}))},cU={exports:{}},SSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_Se=SSe,ESe=_Se;function uU(){}function dU(){}dU.resetWarningCache=uU;var TSe=function(){function t(r,i,o,s,a,l){if(l!==ESe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dU,resetWarningCache:uU};return n.PropTypes=n,n};cU.exports=TSe();var CSe=cU.exports;const $t=Jt(CSe);var ASe=Object.getOwnPropertyNames,PSe=Object.getOwnPropertySymbols,NSe=Object.prototype.hasOwnProperty;function mO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function vg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function gO(t){return ASe(t).concat(PSe(t))}var jSe=Object.hasOwn||function(t,e){return NSe.call(t,e)};function Rc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ISe="__v",kSe="__o",OSe="_owner",yO=Object.getOwnPropertyDescriptor,vO=Object.keys;function RSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function MSe(t,e){return Rc(t.getTime(),e.getTime())}function DSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $Se(t,e){return t===e}function xO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var LSe=Rc;function FSe(t,e,n){var r=vO(t),i=r.length;if(vO(e).length!==i)return!1;for(;i-- >0;)if(!fU(t,e,n,r[i]))return!1;return!0}function Pf(t,e,n){var r=gO(t),i=r.length;if(gO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!fU(t,e,n,o)||(s=yO(t,o),a=yO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function VSe(t,e){return Rc(t.valueOf(),e.valueOf())}function BSe(t,e){return t.source===e.source&&t.flags===e.flags}function bO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function USe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fU(t,e,n,r){return(r===OSe||r===kSe||r===ISe)&&(t.$$typeof||e.$$typeof)?!0:jSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var WSe="[object Arguments]",HSe="[object Boolean]",qSe="[object Date]",GSe="[object Error]",KSe="[object Map]",YSe="[object Number]",XSe="[object Object]",QSe="[object RegExp]",JSe="[object Set]",ZSe="[object String]",e_e="[object URL]",t_e=Array.isArray,wO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SO=Object.assign,n_e=Object.prototype.toString.call.bind(Object.prototype.toString);function r_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,v):x==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(y,g,v);if(t_e(y))return e(y,g,v);if(wO!=null&&wO(y))return f(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return o(y,g,v);if(w===Set)return d(y,g,v);var S=n_e(y);return S===qSe?n(y,g,v):S===QSe?u(y,g,v):S===KSe?o(y,g,v):S===JSe?d(y,g,v):S===XSe?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):S===e_e?h(y,g,v):S===GSe?r(y,g,v):S===WSe?a(y,g,v):S===HSe||S===YSe||S===ZSe?l(y,g,v):!1}}function i_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Pf:RSe,areDatesEqual:MSe,areErrorsEqual:DSe,areFunctionsEqual:$Se,areMapsEqual:r?mO(xO,Pf):xO,areNumbersEqual:LSe,areObjectsEqual:r?Pf:FSe,arePrimitiveWrappersEqual:VSe,areRegExpsEqual:BSe,areSetsEqual:r?mO(bO,Pf):bO,areTypedArraysEqual:r?Pf:USe,areUrlsEqual:zSe};if(n&&(i=SO({},i,n(i))),e){var o=vg(i.areArraysEqual),s=vg(i.areMapsEqual),a=vg(i.areObjectsEqual),l=vg(i.areSetsEqual);i=SO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function o_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function s_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var a_e=El();El({strict:!0});El({circular:!0});El({circular:!0,strict:!0});El({createInternalComparator:function(){return Rc}});El({strict:!0,createInternalComparator:function(){return Rc}});El({circular:!0,createInternalComparator:function(){return Rc}});El({circular:!0,createInternalComparator:function(){return Rc},strict:!0});function El(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=i_e(t),l=r_e(a),u=r?r(l):o_e(l);return s_e({circular:n,comparator:l,createState:i,equals:u,strict:s})}function l_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _O(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):l_e(i)};requestAnimationFrame(r)}function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}function c_e(t){return h_e(t)||f_e(t)||d_e(t)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(t,e){if(t){if(typeof t=="string")return EO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EO(t,e)}}function EO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h_e(t){if(Array.isArray(t))return t}function p_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=c_e(s),l=a[0],u=a.slice(1);if(typeof l=="number"){_O(i.bind(null,u),l);return}i(l),_O(i.bind(null,u));return}h_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){hU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hU(t,e,n){return e=m_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=g_e(t,"string");return xp(e)==="symbol"?e:String(e)}function g_e(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},v_e=function(e){return e},x_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(e,n){return Object.keys(n).reduce(function(r,i){return CO(CO({},r),{},hU({},i,e(i,n[i])))},{})},AO=function(e,n,r){return e.map(function(i){return"".concat(x_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function b_e(t,e){return __e(t)||S_e(t,e)||pU(t,e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function __e(t){if(Array.isArray(t))return t}function E_e(t){return A_e(t)||C_e(t)||pU(t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function C_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A_e(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mv=1e-4,mU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},gU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},PO=function(e,n){return function(r){var i=mU(e,n);return gU(i,r)}},P_e=function(e,n){return function(r){var i=mU(e,n),o=[].concat(E_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return gU(o,r)}},NO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=b_e(u,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=PO(i,s),h=PO(o,a),m=P_e(i,s),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,S=w,C=0;C<8;++C){var E=f(S)-w,P=m(S);if(Math.abs(E-w)<Mv||P<Mv)return h(S);S=y(S-E/P)}return h(S)};return g.isStepper=!1,g},N_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<Mv&&Math.abs(g)<Mv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},j_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NO(i);case"spring":return N_e();default:if(i.split("(")[0]==="cubic-bezier")return NO(i)}return typeof i=="function"?i:null};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function jO(t){return O_e(t)||k_e(t)||yU(t)||I_e()}function I_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O_e(t){if(Array.isArray(t))return g_(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e=R_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_e(t){var e=M_e(t,"string");return bp(e)==="symbol"?e:String(e)}function M_e(t,e){if(bp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D_e(t,e){return F_e(t)||L_e(t,e)||yU(t,e)||$_e()}function $_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function F_e(t){if(Array.isArray(t))return t}var Dv=function(e,n,r){return e+(n-e)*r},y_=function(e){var n=e.from,r=e.to;return n!==r},V_e=function t(e,n,r){var i=dh(function(o,s){if(y_(s)){var a=e(s.from,s.to,s.velocity),l=D_e(a,2),u=l[0],d=l[1];return yr(yr({},s),{},{from:u,velocity:d})}return s},n);return r<1?dh(function(o,s){return y_(s)?yr(yr({},s),{},{velocity:Dv(s.velocity,i[o].velocity,r),from:Dv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const B_e=function(t,e,n,r,i){var o=y_e(t,e),s=o.reduce(function(v,x){return yr(yr({},v),{},m_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return yr(yr({},v),{},m_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return dh(function(x,w){return w.from},a)},m=function(){return!Object.values(a).filter(y_).length},y=function(x){u||(u=x);var w=x-u,S=w/n.dt;a=V_e(n,a,S),i(yr(yr(yr({},t),e),h())),u=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/r,S=dh(function(E,P){return Dv.apply(void 0,jO(P).concat([n(w)]))},s);if(i(yr(yr(yr({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var C=dh(function(E,P){return Dv.apply(void 0,jO(P).concat([n(1)]))},s);i(yr(yr(yr({},t),e),C))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}var U_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function z_e(t,e){if(t==null)return{};var n=W_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nw(t){return K_e(t)||G_e(t)||q_e(t)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function G_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K_e(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Vf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vf(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vU(r.key),r)}}function Q_e(t,e,n){return e&&X_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vU(t){var e=J_e(t,"string");return pd(e)==="symbol"?e:String(e)}function J_e(t,e){if(pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function eEe(t){var e=tEe();return function(){var r=$v(t),i;if(e){var o=$v(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return b_(this,i)}}function b_(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_(t)}function w_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}var aa=function(t){Z_e(n,t);var e=eEe(n);function n(r,i){var o;Y_e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(w_(o)),o.changeStyle=o.changeStyle.bind(w_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),b_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},b_(o);o.state={style:l?Vf({},l,u):u}}else o.state={style:{}};return o}return Q_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Vf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(a_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:l?Vf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(po(po({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=B_e(s,a,j_e(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var w=v.duration,S=v.easing,C=S===void 0?"ease":S,E=v.style,P=v.properties,_=v.onAnimationEnd,T=x>0?s[x-1]:v,N=P||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Nw(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:C}),w]);var k=AO(N,w,C),j=po(po(po({},T.style),E),{},{transition:k});return[].concat(Nw(g),[j,w,_]).filter(v_e)};return this.manager.start([l].concat(Nw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=p_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Vf({},a,l):l,v=AO(Object.keys(g),s,u);y.start([d,o,po(po({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=z_e(i,U_e),u=b.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||u===0||s<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,w=b.cloneElement(m,po(po({},l),{},{style:po(po({},v),d),className:x}));return w};return u===1?f(b.Children.only(o)):q.createElement("div",null,b.Children.map(o,function(h){return f(h)}))}}]),n}(b.PureComponent);aa.displayName="Animate";aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};aa.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function nEe(t,e){return sEe(t)||oEe(t,e)||iEe(t,e)||rEe()}function rEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iEe(t,e){if(t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sEe(t){if(Array.isArray(t))return t}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){aEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aEe(t,e,n){return e=lEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lEe(t){var e=cEe(t,"string");return wp(e)=="symbol"?e:e+""}function cEe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},uEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},dEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RA=function(e){var n=MO(MO({},dEe),e),r=b.useRef(),i=b.useState(-1),o=nEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=At("recharts-rectangle",m);return w?q.createElement(aa,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:y,isActive:w},function(C){var E=C.width,P=C.height,_=C.x,T=C.y;return q.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},q.createElement("path",Lv({},Nt(n,!0),{className:S,d:DO(_,T,E,P,h),ref:r})))}):q.createElement("path",Lv({},Nt(n,!0),{className:S,d:DO(l,u,d,f,h)}))};function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}var MA=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=At("recharts-dot",o);return n===+n&&r===+r&&i===+i?b.createElement("circle",S_({},Nt(e,!1),rv(e),{className:s,cx:n,cy:r,r:i})):null};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}var fEe=["x","y","top","left","width","height","className"];function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){pEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pEe(t,e,n){return e=mEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mEe(t){var e=gEe(t,"string");return Sp(e)=="symbol"?e:e+""}function gEe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yEe(t,e){if(t==null)return{};var n=vEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xEe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},bEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=yEe(e,fEe),v=hEe({x:r,y:o,top:a,left:u,width:f,height:m},g);return!Ie(r)||!Ie(o)||!Ie(f)||!Ie(m)||!Ie(a)||!Ie(u)?null:q.createElement("path",__({},Nt(v,!0),{className:At("recharts-cross",y),d:xEe(r,o,f,m,a,u)}))},wEe=R6,SEe=wEe(Object.getPrototypeOf,Object),_Ee=SEe,EEe=da,TEe=_Ee,CEe=fa,AEe="[object Object]",PEe=Function.prototype,NEe=Object.prototype,xU=PEe.toString,jEe=NEe.hasOwnProperty,IEe=xU.call(Object);function kEe(t){if(!CEe(t)||EEe(t)!=AEe)return!1;var e=TEe(t);if(e===null)return!0;var n=jEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xU.call(n)==IEe}var OEe=kEe;const REe=Jt(OEe);var MEe=da,DEe=fa,$Ee="[object Boolean]";function LEe(t){return t===!0||t===!1||DEe(t)&&MEe(t)==$Ee}var FEe=LEe;const VEe=Jt(FEe);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function BEe(t,e){return HEe(t)||WEe(t,e)||zEe(t,e)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zEe(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function HEe(t){if(Array.isArray(t))return t}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){qEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qEe(t,e,n){return e=GEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GEe(t){var e=KEe(t,"string");return _p(e)=="symbol"?e:e+""}function KEe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},YEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XEe=function(e){var n=VO(VO({},YEe),e),r=b.useRef(),i=b.useState(-1),o=BEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=At("recharts-trapezoid",m);return x?q.createElement(aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:y,isActive:x},function(S){var C=S.upperWidth,E=S.lowerWidth,P=S.height,_=S.x,T=S.y;return q.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},q.createElement("path",Fv({},Nt(n,!0),{className:w,d:BO(_,T,C,E,P),ref:r})))}):q.createElement("g",null,q.createElement("path",Fv({},Nt(n,!0),{className:w,d:BO(l,u,d,f,h)})))},QEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function JEe(t,e){if(t==null)return{};var n=ZEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){eTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eTe(t,e,n){return e=tTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tTe(t){var e=nTe(t,"string");return Ep(e)=="symbol"?e:e+""}function nTe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rTe(t,e){return Vv(Vv({},e),t)}function iTe(t,e){return t==="symbols"}function zO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(RA,n);case"trapezoid":return q.createElement(XEe,n);case"sector":return q.createElement(lU,n);case"symbols":if(iTe(e))return q.createElement(JC,n);break;default:return null}}function oTe(t){return b.isValidElement(t)?t.props:t}function sTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rTe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=JEe(t,QEe),u;if(b.isValidElement(e))u=b.cloneElement(e,Vv(Vv({},l),oTe(e)));else if(St(e))u=e(l);else if(REe(e)&&!VEe(e)){var d=i(e,l);u=q.createElement(zO,{shapeType:n,elementProps:d})}else{var f=l;u=q.createElement(zO,{shapeType:n,elementProps:f})}return a?q.createElement(Rn,{className:s},u):u}function $0(t,e){return e!=null&&"trapezoids"in t.props}function L0(t,e){return e!=null&&"sectors"in t.props}function Tp(t,e){return e!=null&&"points"in t.props}function aTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function lTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function cTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function uTe(t,e){var n;return $0(t,e)?n=aTe:L0(t,e)?n=lTe:Tp(t,e)&&(n=cTe),n}function dTe(t,e){var n;return $0(t,e)?n="trapezoids":L0(t,e)?n="sectors":Tp(t,e)&&(n="points"),n}function fTe(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(L0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Tp(t,e)?e.payload:{}}function hTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dTe(n,e),o=fTe(n,e),s=r.filter(function(l,u){var d=R0(o,l),f=n.props[i].filter(function(y){var g=uTe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var pTe=Math.ceil,mTe=Math.max;function gTe(t,e,n,r){for(var i=-1,o=mTe(pTe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var yTe=gTe,vTe=J6,WO=1/0,xTe=17976931348623157e292;function bTe(t){if(!t)return t===0?t:0;if(t=vTe(t),t===WO||t===-WO){var e=t<0?-1:1;return e*xTe}return t===t?t:0}var wTe=bTe,STe=yTe,_Te=T0,jw=wTe;function ETe(t){return function(e,n,r){return r&&typeof r!="number"&&_Te(e,n,r)&&(n=r=void 0),e=jw(e),n===void 0?(n=e,e=0):n=jw(n),r=r===void 0?e<n?1:-1:jw(r),STe(e,n,r,t)}}var TTe=ETe,CTe=TTe,ATe=CTe(),PTe=ATe;const Bv=Jt(PTe);function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){bU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bU(t,e,n){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=jTe(t,"string");return Cp(e)=="symbol"?e:e+""}function jTe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ITe=["Webkit","Moz","O","ms"],kTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ITe.reduce(function(o,s){return qO(qO({},o),{},bU({},s+r,n))},{});return i[e]=n,i};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function RTe(t,e,n){return e&&KO(t.prototype,e),n&&KO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MTe(t,e,n){return e=zv(e),DTe(t,wU()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function DTe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wU=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function LTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function Si(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SU(t){var e=FTe(t,"string");return md(e)=="symbol"?e:e+""}function FTe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ch().domain(Bv(0,l)).range([o,o+s-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},YO=function(e){return e.changedTouches&&!!e.changedTouches.length},gd=function(t){function e(n){var r;return OTe(this,e),r=MTe(this,e,[n]),Si(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Si(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Si(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Si(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Si(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Si(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Si(r,"handleSlideDragStart",function(i){var o=YO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return LTe(e,t),RTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Oi(o[r],a,r);return St(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-f-a,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=YO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),x[s]=u+w;var S=this.getIndex(x),C=S.startIndex,E=S.endIndex,P=function(){var T=v.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===T};this.setState(Si(Si({},s,u+w),"brushMoveStartX",r.pageX),function(){y&&P()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Si({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?q.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),w=Iw(Iw({},Nt(this.props,!1)),{},{x,y:u,width:d,height:f}),S=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return q.createElement(Rn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return q.createElement(Rn,{className:"recharts-brush-texts"},q.createElement(vv,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},y),this.getTextOfTick(i)),q.createElement(vv,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ie(a)||!Ie(l)||!Ie(u)||!Ie(d)||u<=0||d<=0)return null;var S=At("recharts-brush",o),C=q.Children.count(s)===1,E=kTe("userSelect","none");return q.createElement(Rn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):St(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Iw({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?VTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(b.PureComponent);Si(gd,"displayName","Brush");Si(gd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var BTe=sA;function UTe(t,e){var n;return BTe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var zTe=UTe,WTe=C6,HTe=Jd,qTe=zTe,GTe=pi,KTe=T0;function YTe(t,e,n){var r=GTe(t)?WTe:qTe;return n&&KTe(t,e,n)&&(e=void 0),r(t,HTe(e))}var XTe=YTe;const QTe=Jt(XTe);var ps=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},XO=G6;function JTe(t,e,n){e=="__proto__"&&XO?XO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ZTe=JTe,eCe=ZTe,tCe=H6,nCe=Jd;function rCe(t,e){var n={};return e=nCe(e),tCe(t,function(r,i,o){eCe(n,i,e(r,i,o))}),n}var iCe=rCe;const oCe=Jt(iCe);function sCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var aCe=sCe,lCe=sA;function cCe(t,e){var n=!0;return lCe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var uCe=cCe,dCe=aCe,fCe=uCe,hCe=Jd,pCe=pi,mCe=T0;function gCe(t,e,n){var r=pCe(t)?dCe:fCe;return n&&mCe(t,e,n)&&(e=void 0),r(t,hCe(e))}var yCe=gCe;const vCe=Jt(yCe);var xCe=["x","y"];function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){bCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bCe(t,e,n){return e=wCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wCe(t){var e=SCe(t,"string");return Ap(e)=="symbol"?e:e+""}function SCe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ce(t,e){if(t==null)return{};var n=ECe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ECe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TCe(t,e){var n=t.x,r=t.y,i=_Ce(t,xCe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Nf(Nf(Nf(Nf(Nf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function JO(t){return q.createElement(sTe,T_({shapeType:"rectangle",propTransformer:TCe,activeClassName:"recharts-active-bar"},t))}var CCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ie(r)||Fae(r);return o?e(r,i):(o||Sc(),n)}},ACe=["value","background"],_U;function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function PCe(t,e){if(t==null)return{};var n=NCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function ICe(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kCe(t,e,n){return e=Hv(e),OCe(t,EU()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function OCe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(t)}function RCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Ua(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=DCe(t,"string");return yd(e)=="symbol"?e:e+""}function DCe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hm=function(t){function e(){var n;jCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kCe(this,e,[].concat(i)),Ua(n,"state",{isAnimationFinished:!1}),Ua(n,"id",am("recharts-bar-")),Ua(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ua(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return MCe(e,t),ICe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Nt(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?u:s,g=$n($n($n({},d),f),{},{isActive:m,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Rn,Wv({className:"recharts-bar-rectangle"},iv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(JO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(aa,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,x){var w=h&&h[x];if(w){var S=Co(w.x,v.x),C=Co(w.y,v.y),E=Co(w.width,v.width),P=Co(w.height,v.height);return $n($n({},v),{},{x:S(y),y:C(y),width:E(y),height:P(y)})}if(s==="horizontal"){var _=Co(0,v.height),T=_(y);return $n($n({},v),{},{y:v.y+v.height-T,height:T})}var N=Co(0,v.width),k=N(y);return $n($n({},v),{},{width:k})});return q.createElement(Rn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!R0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Nt(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=PCe(u,ACe);if(!f)return null;var m=$n($n($n($n($n({},h),{},{fill:"#eee"},f),l),iv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(JO,Wv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Ji(d,fm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Oi(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Rn,y,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=At("recharts-bar",s),w=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,C=w||S,E=xt(g)?this.id:g;return q.createElement(Rn,{className:x},w||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,q.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||v)&&rl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);_U=hm;Ua(hm,"displayName","Bar");Ua(hm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ua(hm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=u1e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?$n($n({},g),n.props):n.props,x=v.dataKey,w=v.children,S=v.minPointSize,C=y==="horizontal"?s:o,E=u?C.scale.domain():null,P=v1e({numericAxis:C}),_=Ji(w,eB),T=f.map(function(N,k){var j,R,O,$,F,B;u?j=d1e(u[d+k],E):(j=Oi(N,x),Array.isArray(j)||(j=[P,j]));var U=CCe(S,_U.defaultProps.minPointSize)(j[1],k);if(y==="horizontal"){var V,W=[s.scale(j[0]),s.scale(j[1])],ne=W[0],X=W[1];R=Zk({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),O=(V=X??ne)!==null&&V!==void 0?V:void 0,$=m.size;var ie=ne-X;if(F=Number.isNaN(ie)?0:ie,B={x:R,y:s.y,width:$,height:s.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var le=ko(F||U)*(Math.abs(U)-Math.abs(F));O-=le,F+=le}}else{var be=[o.scale(j[0]),o.scale(j[1])],ke=be[0],st=be[1];if(R=ke,O=Zk({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),$=st-ke,F=m.size,B={x:o.x,y:O,width:o.width,height:F},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var xe=ko($||U)*(Math.abs(U)-Math.abs($));$+=xe}}return $n($n($n({},N),{},{x:R,y:O,width:$,height:F,value:u?j:j[1],payload:N,background:B},_&&_[k]&&_[k].props),{},{tooltipPayload:[oU(n,N)],tooltipPosition:{x:R+$/2,y:O+F/2}})});return $n({data:T,layout:y},h)});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CU(r.key),r)}}function LCe(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e=CU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t){var e=FCe(t,"string");return Pp(e)=="symbol"?e:e+""}function FCe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VCe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ti(u,hm);return d.reduce(function(m,y){var g=n[y],v=g.orientation,x=g.domain,w=g.padding,S=w===void 0?{}:w,C=g.mirror,E=g.reversed,P="".concat(v).concat(C?"Mirror":""),_,T,N,k,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],O=1/0,$=g.categoricalDomain.sort(Uae);if($.forEach(function(be,ke){ke>0&&(O=Math.min((be||0)-($[ke-1]||0),O))}),Number.isFinite(O)){var F=O/R,B=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=F*B/2),g.padding==="no-gap"){var U=bc(e.barCategoryGap,F*B),V=F*B/2;_=V-U-(V-U)/B*U}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var W=l1e(g,o,h),ne=W.scale,X=W.realScaleType;ne.domain(x).range(T),c1e(ne);var ie=y1e(ne,bo(bo({},g),{},{realScaleType:X}));i==="xAxis"?(j=v==="top"&&!C||v==="bottom"&&C,N=r.left,k=f[P]-j*g.height):i==="yAxis"&&(j=v==="left"&&!C||v==="right"&&C,N=f[P]-j*g.width,k=r.top);var le=bo(bo(bo({},g),ie),{},{realScaleType:X,x:N,y:k,scale:ne,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=kv(le,ie),!g.hide&&i==="xAxis"?f[P]+=(j?-1:1)*le.height:g.hide||(f[P]+=(j?-1:1)*le.width),bo(bo({},m),{},F0({},y,le))},{})},AU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},BCe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return AU({x:n,y:r},{x:i,y:o})},PU=function(){function t(e){$Ce(this,t),this.scale=e}return LCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();F0(PU,"EPS",1e-4);var DA=function(e){var n=Object.keys(e).reduce(function(r,i){return bo(bo({},r),{},F0({},i,PU.create(e[i])))},{});return bo(bo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return oCe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return vCe(i,function(o,s){return n[s].isInRange(o)})}})};function UCe(t){return(t%180+180)%180}var zCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=UCe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},WCe=zse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),NU=b.createContext(void 0),jU=b.createContext(void 0),IU=b.createContext(void 0),HCe=b.createContext({}),kU=b.createContext(void 0),OU=b.createContext(0),RU=b.createContext(0),rR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,d=WCe(o);return q.createElement(NU.Provider,{value:r},q.createElement(jU.Provider,{value:i},q.createElement(HCe.Provider,{value:o},q.createElement(IU.Provider,{value:d},q.createElement(kU.Provider,{value:s},q.createElement(OU.Provider,{value:u},q.createElement(RU.Provider,{value:l},a)))))))},qCe=function(){return b.useContext(kU)},MU=function(e){var n=b.useContext(NU);n==null&&Sc();var r=n[e];return r==null&&Sc(),r},DU=function(e){var n=b.useContext(jU);n==null&&Sc();var r=n[e];return r==null&&Sc(),r},GCe=function(){var e=b.useContext(IU);return e},$U=function(){return b.useContext(RU)},LU=function(){return b.useContext(OU)};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function KCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function XCe(t,e,n){return e&&YCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QCe(t,e,n){return e=qv(e),JCe(t,FU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function JCe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(t)}function ZCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function eAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){$A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $A(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=tAe(t,"string");return vd(e)=="symbol"?e:e+""}function tAe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nAe(t,e){return sAe(t)||oAe(t,e)||iAe(t,e)||rAe()}function rAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(t,e){if(t){if(typeof t=="string")return sR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(t,e)}}function sR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sAe(t){if(Array.isArray(t))return t}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var aAe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):St(e)?r=e(n):r=q.createElement("line",P_({},n,{className:"recharts-reference-line-line"})),r},lAe=function(e,n,r,i,o,s,a,l,u){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=u.y,g=e.y.apply(y,{position:s});if(ps(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var x=u.x,w=e.x.apply(x,{position:s});if(ps(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var C=u.segment,E=C.map(function(P){return e.apply(P,{position:s})});return ps(u,"discard")&&QTe(E,function(P){return!e.isInRange(P)})?null:E}return null};function cAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=qCe(),d=MU(i),f=DU(o),h=GCe();if(!u||!h)return null;nc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=DA({x:d.scale,y:f.scale}),y=Qn(e),g=Qn(n),v=r&&r.length===2,x=lAe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=nAe(x,2),S=w[0],C=S.x,E=S.y,P=w[1],_=P.x,T=P.y,N=ps(t,"hidden")?"url(#".concat(u,")"):void 0,k=oR(oR({clipPath:N},Nt(t,!0)),{},{x1:C,y1:E,x2:_,y2:T});return q.createElement(Rn,{className:At("recharts-reference-line",a)},aAe(s,k),Br.renderCallByParent(t,BCe({x1:C,y1:E,x2:_,y2:T})))}var LA=function(t){function e(){return KCe(this,e),QCe(this,e,arguments)}return eAe(e,t),XCe(e,[{key:"render",value:function(){return q.createElement(cAe,this.props)}}])}(q.Component);$A(LA,"displayName","ReferenceLine");$A(LA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function fAe(t,e,n){return e&&dAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hAe(t,e,n){return e=Gv(e),pAe(t,BU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function pAe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(t)}function mAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function gAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function V0(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=yAe(t,"string");return xd(e)=="symbol"?e:e+""}function yAe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vAe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=DA({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ps(e,"discard")&&!s.isInRange(a)?null:a},B0=function(t){function e(){return uAe(this,e),hAe(this,e,arguments)}return gAe(e,t),fAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Qn(i),d=Qn(o);if(nc(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=vAe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,x=ps(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=lR(lR({clipPath:x},Nt(this.props,!0)),{},{cx:h,cy:m});return q.createElement(Rn,{className:At("recharts-reference-dot",v)},e.renderDot(g,w),Br.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(q.Component);V0(B0,"displayName","ReferenceDot");V0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});V0(B0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):St(t)?n=t(e):n=q.createElement(MA,N_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WU(r.key),r)}}function wAe(t,e,n){return e&&bAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=Kv(e),_Ae(t,zU()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function _Ae(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(t)}function EAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function U0(t,e,n){return e=WU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WU(t){var e=CAe(t,"string");return bd(e)=="symbol"?e:e+""}function CAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AAe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=DA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ps(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:AU(m,y)},z0=function(t){function e(){return xAe(this,e),SAe(this,e,arguments)}return TAe(e,t),wAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;nc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Qn(i),h=Qn(o),m=Qn(s),y=Qn(a),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=AAe(f,h,m,y,this.props);if(!v&&!g)return null;var x=ps(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Rn,{className:At("recharts-reference-area",l)},e.renderRect(g,uR(uR({clipPath:x},Nt(this.props,!0)),v)),Br.renderCallByParent(this.props,v))}}])}(q.Component);U0(z0,"displayName","ReferenceArea");U0(z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U0(z0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):St(t)?n=t(e):n=q.createElement(RA,I_({},e,{className:"recharts-reference-area-rect"})),n});function HU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function PAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zCe(r,n)}function NAe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Yv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function jAe(t,e){return HU(t,e+1)}function IAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,d=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:HU(r,u)};var g=l,v,x=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,S=l===0||Yv(t,w,x,d,a);S||(l=0,d=s,u+=1),S&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){kAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kAe(t,e,n){return e=OAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OAe(t){var e=RAe(t,"string");return Np(e)=="symbol"?e:e+""}function RAe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MAe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=$r($r({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=$r($r({},m),{},{tickCoord:m.coordinate});var x=Yv(t,m.tickCoord,g,a,l);x&&(l=m.tickCoord-t*(g()/2+i),o[h]=$r($r({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return o}function DAe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);s[a-1]=d=$r($r({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Yv(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),s[a-1]=$r($r({},d),{},{isShow:!0}))}for(var y=o?a-1:a,g=function(w){var S=s[w],C,E=function(){return C===void 0&&(C=n(S,w)),C};if(w===0){var P=t*(S.coordinate-t*E()/2-l);s[w]=S=$r($r({},S),{},{tickCoord:P<0?S.coordinate-P*t:S.coordinate})}else s[w]=S=$r($r({},S),{},{tickCoord:S.coordinate});var _=Yv(t,S.tickCoord,E,l,u);_&&(l=S.tickCoord+t*(E()/2+i),s[w]=$r($r({},S),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function $Ae(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ie(l)||qs.isSsr)return jAe(i,typeof l=="number"&&Ie(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",y=d&&m==="width"?lh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,C){var E=St(u)?u(S.value,C):S.value;return m==="width"?PAe(lh(E,{fontSize:e,letterSpacing:n}),y,f):lh(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?ko(i[1].coordinate-i[0].coordinate):1,x=NAe(o,v,m);return l==="equidistantPreserveStart"?IAe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=DAe(v,x,g,i,s,l==="preserveStartEnd"):h=MAe(v,x,g,i,s),h.filter(function(w){return w.isShow}))}var LAe=["viewBox"],FAe=["viewBox"],VAe=["ticks"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){FA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kw(t,e){if(t==null)return{};var n=BAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function zAe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WAe(t,e,n){return e=Xv(e),HAe(t,qU()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function HAe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(t)}function qAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function GAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function FA(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=KAe(t,"string");return wd(e)=="symbol"?e:e+""}function KAe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0=function(t){function e(n){var r;return UAe(this,e),r=WAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return GAe(e,t),zAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=kw(r,LAe),a=this.props,l=a.viewBox,u=kw(a,FAe);return!Cu(o,l)||!Cu(s,u)||!Cu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,x,w,S=f?-1:1,C=r.tickSize||d,E=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=s+ +!f*l,g=v-S*C,w=g-S*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*a,m=y-S*C,x=m-S*h,w=E;break;case"right":g=v=r.coordinate,y=o+ +f*a,m=y+S*C,x=m+S*h,w=E;break;default:m=y=r.coordinate,v=s+ +f*l,g=v+S*C,w=g+S*h,x=E;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=qn(qn(qn({},Nt(this.props,!1)),Nt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=qn(qn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=qn(qn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return q.createElement("line",du({},f,{className:At("recharts-cartesian-axis-line",Qi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=$Ae(qn(qn({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Nt(this.props,!1),x=Nt(d,!1),w=qn(qn({},v),{},{fill:"none"},Nt(l,!1)),S=m.map(function(C,E){var P=s.getTickLineCoord(C),_=P.line,T=P.tick,N=qn(qn(qn(qn({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return q.createElement(Rn,du({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},iv(s.props,C,E)),l&&q.createElement("line",du({},w,_,{className:At("recharts-cartesian-axis-tick-line",Qi(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(St(f)?f(C.value,E):C.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=kw(f,VAe),y=h;return St(l)&&(y=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!y||!y.length?null:q.createElement(Rn,{className:At("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=At(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?s=q.cloneElement(r,qn(qn({},i),{},{className:a})):St(r)?s=r(qn(qn({},i),{},{className:a})):s=q.createElement(vv,du({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(b.Component);FA(W0,"displayName","CartesianAxis");FA(W0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YAe=["type","layout","connectNulls","ref"],XAe=["key"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function pR(t,e){if(t==null)return{};var n=QAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zc(t){return tPe(t)||ePe(t)||ZAe(t)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZAe(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function ePe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tPe(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YU(r.key),r)}}function rPe(t,e,n){return e&&gR(t.prototype,e),n&&gR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iPe(t,e,n){return e=Qv(e),oPe(t,KU()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function oPe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sPe(t)}function sPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function aPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function wo(t,e,n){return e=YU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=lPe(t,"string");return Sd(e)=="symbol"?e:e+""}function lPe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pm=function(t){function e(){var n;nPe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iPe(this,e,[].concat(i)),wo(n,"state",{isAnimationFinished:!0,totalLength:0}),wo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),wo(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/u),f=s%u,h=a-s,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){m=[].concat(zc(l.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(zc(e.repeat(l,d)),zc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),wo(n,"id",am("recharts-line-")),wo(n,"pathRef",function(s){n.mainCurve=s}),wo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return aPe(e,t),rPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Ji(d,fm);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Oi(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Rn,m,f.map(function(y){return q.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,f=Nt(this.props,!1),h=Nt(l,!0),m=u.map(function(g,v){var x=wi(wi(wi({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Rn,fh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=pR(a,YAe),h=wi(wi(wi({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:d});return q.createElement(f_,fh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,x=this.state,w=x.prevPoints,S=x.totalLength;return q.createElement(aa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(w){var P=w.length/a.length,_=a.map(function(R,O){var $=Math.floor(O*P);if(w[$]){var F=w[$],B=Co(F.x,R.x),U=Co(F.y,R.y);return wi(wi({},R),{},{x:B(E),y:U(E)})}if(y){var V=Co(g*2,R.x),W=Co(v/2,R.y);return wi(wi({},R),{},{x:V(E),y:W(E)})}return wi(wi({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var T=Co(0,S),N=T(E),k;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(N,S,j)}else k=o.generateSimpleStrokeDasharray(S,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!u&&d>0||!R0(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=a.length===1,S=At("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=C||E,_=xt(v)?this.id:v,T=(r=Nt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,k=N===void 0?3:N,j=T.strokeWidth,R=j===void 0?2:j,O=Qae(s)?s:{},$=O.clipDot,F=$===void 0?!0:$,B=k*2+R;return q.createElement(Rn,{className:S},C||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:C?h:h-m/2,y:E?f:f-y/2,width:C?m:m*2,height:E?y:y*2})),!F&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:h-B/2,y:f-B/2,width:m+B,height:y+B}))):null,!w&&this.renderCurve(P,_),this.renderErrorBar(P,_),(w||s)&&this.renderDots(P,F,_),(!g||x)&&rl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(zc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(zc(s),zc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(q.isValidElement(r))o=q.cloneElement(r,i);else if(St(r))o=r(i);else{var s=i.key,a=pR(i,XAe),l=At("recharts-line-dot",typeof r!="boolean"?r.className:"");o=q.createElement(MA,fh({key:s},a,{className:l}))}return o}}])}(b.PureComponent);wo(pm,"displayName","Line");wo(pm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wo(pm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var y=Oi(h,s);return d==="horizontal"?{x:Jk({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:xt(y)?null:r.scale(y),value:y,payload:h}:{x:xt(y)?null:n.scale(y),y:Jk({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:y,payload:h}});return wi({points:f,layout:d},u)});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function cPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JU(r.key),r)}}function dPe(t,e,n){return e&&uPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fPe(t,e,n){return e=Jv(e),hPe(t,XU()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function hPe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pPe(t)}function pPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function mPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function QU(t,e,n){return e=JU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JU(t){var e=gPe(t,"string");return _d(e)=="symbol"?e:e+""}function gPe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function yPe(t){var e=t.xAxisId,n=$U(),r=LU(),i=MU(e);return i==null?null:b.createElement(W0,$_({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Gl(s,!0)}}))}var H0=function(t){function e(){return cPe(this,e),fPe(this,e,arguments)}return mPe(e,t),dPe(e,[{key:"render",value:function(){return b.createElement(yPe,this.props)}}])}(b.Component);QU(H0,"displayName","XAxis");QU(H0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function vPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t9(r.key),r)}}function bPe(t,e,n){return e&&xPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wPe(t,e,n){return e=Zv(e),SPe(t,ZU()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function SPe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Pe(t)}function _Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function EPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function e9(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t){var e=TPe(t,"string");return Ed(e)=="symbol"?e:e+""}function TPe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}var CPe=function(e){var n=e.yAxisId,r=$U(),i=LU(),o=DU(n);return o==null?null:b.createElement(W0,F_({},o,{className:At("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Gl(a,!0)}}))},q0=function(t){function e(){return vPe(this,e),wPe(this,e,arguments)}return EPe(e,t),bPe(e,[{key:"render",value:function(){return b.createElement(CPe,this.props)}}])}(b.Component);e9(q0,"displayName","YAxis");e9(q0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yR(t){return jPe(t)||NPe(t)||PPe(t)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PPe(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function NPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jPe(t){if(Array.isArray(t))return V_(t)}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B_=function(e,n,r,i,o){var s=Ji(e,LA),a=Ji(e,B0),l=[].concat(yR(s),yR(a)),u=Ji(e,z0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&ps(v.props,"extendDomain")&&Ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&ps(v.props,"extendDomain")&&Ie(v.props[m])&&Ie(v.props[y])){var x=v.props[m],w=v.props[y];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return Ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},n9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,m,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var C=v.length,E;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),x){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];v[S].fn.apply(v[S].context,w)}}return!0},a.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(n9);var IPe=n9.exports;const kPe=Jt(IPe);var Ow=new kPe,Rw="recharts.syncMouseEvents";function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function OPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function MPe(t,e,n){return e&&RPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mw(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=DPe(t,"string");return jp(e)=="symbol"?e:e+""}function DPe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Pe=function(){function t(){OPe(this,t),Mw(this,"activeIndex",0),Mw(this,"coordinateList",[]),Mw(this,"layout","horizontal")}return MPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function LPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ie(r)&&Ie(i))return!0}return!1}function FPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function i9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=_r(e,n,r,i),a=_r(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function VPe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=_r(a,l,u,f),m=_r(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return i9(e);return[{x:r,y:i},{x:o,y:s}]}function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){BPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BPe(t,e,n){return e=UPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UPe(t){var e=zPe(t,"string");return Ip(e)=="symbol"?e:e+""}function zPe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WPe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=f_;if(h==="ScatterChart")y=s,g=bEe;else if(h==="BarChart")y=FPe(f,s,l,d),g=RA;else if(f==="radial"){var v=i9(s),x=v.cx,w=v.cy,S=v.radius,C=v.startAngle,E=v.endAngle;y={cx:x,cy:w,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=lU}else y={points:VPe(f,s,l)},g=f_;var P=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},l),y),Nt(m,!1)),{},{payload:a,payloadIndex:u,className:At("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,P):b.createElement(g,P)}var HPe=["item"],qPe=["children","className","width","height","style","compact","title","desc"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function xR(t,e){return YPe(t)||KPe(t,e)||s9(t,e)||GPe()}function GPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function YPe(t){if(Array.isArray(t))return t}function bR(t,e){if(t==null)return{};var n=XPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a9(r.key),r)}}function ZPe(t,e,n){return e&&JPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eNe(t,e,n){return e=ex(e),tNe(t,o9()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function tNe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nNe(t)}function nNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function rNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function Cd(t){return sNe(t)||oNe(t)||s9(t)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s9(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function oNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sNe(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function it(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=aNe(t,"string");return Td(e)=="symbol"?e:e+""}function aNe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lNe={xAxis:["bottom","top"],yAxis:["left","right"]},cNe={width:"100%",height:"100%"},l9={x:0,y:0};function bg(t){return t}var uNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dNe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return oe(oe(oe({},i),_r(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return oe(oe(oe({},i),_r(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return l9},G0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Cd(a),Cd(u)):a},[]);return s.length>0?s:e&&e.length&&Ie(i)&&Ie(o)?e.slice(i,o+1):[]};function c9(t){return t==="number"?[0,"auto"]:void 0}var W_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=G0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=nv(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Cd(l),[oU(u,h)]):l},[])},SR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=uNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=n1e(s,a,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=W_(e,n,d,f),m=dNe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},fNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=rU(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?oe(oe({},g.type.defaultProps),g.props):g.props,w=x.type,S=x.dataKey,C=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,T=x.includeHidden,N=x[s];if(y[N])return y;var k=G0(e.data,{graphicalItems:i.filter(function(ie){var le,be=s in ie.props?ie.props[s]:(le=ie.type.defaultProps)===null||le===void 0?void 0:le[s];return be===N}),dataStartIndex:l,dataEndIndex:u}),j=k.length,R,O,$;LPe(x.domain,C,w)&&(R=a_(x.domain,null,C),m&&(w==="number"||P!=="auto")&&($=uh(k,S,"category")));var F=c9(w);if(!R||R.length===0){var B,U=(B=x.domain)!==null&&B!==void 0?B:F;if(S){if(R=uh(k,S,w),w==="category"&&m){var V=Bae(R);E&&V?(O=R,R=Bv(0,j)):E||(R=nO(U,R,g).reduce(function(ie,le){return ie.indexOf(le)>=0?ie:[].concat(Cd(ie),[le])},[]))}else if(w==="category")E?R=R.filter(function(ie){return ie!==""&&!xt(ie)}):R=nO(U,R,g).reduce(function(ie,le){return ie.indexOf(le)>=0||le===""||xt(le)?ie:[].concat(Cd(ie),[le])},[]);else if(w==="number"){var W=a1e(k,i.filter(function(ie){var le,be,ke=s in ie.props?ie.props[s]:(le=ie.type.defaultProps)===null||le===void 0?void 0:le[s],st="hide"in ie.props?ie.props.hide:(be=ie.type.defaultProps)===null||be===void 0?void 0:be.hide;return ke===N&&(T||!st)}),S,o,d);W&&(R=W)}m&&(w==="number"||P!=="auto")&&($=uh(k,S,"category"))}else m?R=Bv(0,j):a&&a[N]&&a[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:iU(a[N].stackGroups,l,u):R=nU(k,i.filter(function(ie){var le=s in ie.props?ie.props[s]:ie.type.defaultProps[s],be="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return le===N&&(T||!be)}),w,d,!0);if(w==="number")R=B_(f,R,N,o,_),U&&(R=a_(U,R,C));else if(w==="category"&&U){var ne=U,X=R.every(function(ie){return ne.indexOf(ie)>=0});X&&(R=ne)}}return oe(oe({},y),{},it({},N,oe(oe({},x),{},{axisType:o,domain:R,categoricalDomain:$,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},hNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=G0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=rU(d,o),g=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,S=w[s],C=c9("number");if(!v[S]){g++;var E;return y?E=Bv(0,m):a&&a[S]&&a[S].hasStack?(E=iU(a[S].stackGroups,l,u),E=B_(f,E,S,o)):(E=a_(C,nU(h,r.filter(function(P){var _,T,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===S&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=B_(f,E,S,o)),oe(oe({},v),{},it({},S,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Qi(lNe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},pNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ji(d,o),m={};return h&&h.length?m=fNe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=hNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},mNe=function(e){var n=Yc(e),r=Gl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kv(n,r)}},_R=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ti(n,gd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},gNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},ER=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ti(f,gd),y=Ti(f,Au),g=Object.keys(l).reduce(function(E,P){var _=l[P],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},it({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,P){var _=s[P],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},it({},T,Qi(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=oe(oe({},v),g),w=x.bottom;m&&(x.bottom+=m.props.height||gd.defaultProps.height),y&&n&&(x=o1e(x,i,r,n));var S=u-x.left-x.right,C=d-x.top-x.bottom;return oe(oe({brushBottom:w},x),{},{width:Math.max(S,0),height:Math.max(C,0)})},vNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},xNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var S=w.graphicalItems,C=w.stackGroups,E=w.offset,P=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,N=x.barSize,k=x.layout,j=x.barGap,R=x.barCategoryGap,O=x.maxBarSize,$=ER(k),F=$.numericAxisName,B=$.cateAxisName,U=gNe(S),V=[];return S.forEach(function(W,ne){var X=G0(x.data,{graphicalItems:[W],dataStartIndex:_,dataEndIndex:T}),ie=W.type.defaultProps!==void 0?oe(oe({},W.type.defaultProps),W.props):W.props,le=ie.dataKey,be=ie.maxBarSize,ke=ie["".concat(F,"Id")],st=ie["".concat(B,"Id")],xe={},je=l.reduce(function(Me,Tt){var Ut=w["".concat(Tt.axisType,"Map")],rn=ie["".concat(Tt.axisType,"Id")];Ut&&Ut[rn]||Tt.axisType==="zAxis"||Sc();var hn=Ut[rn];return oe(oe({},Me),{},it(it({},Tt.axisType,hn),"".concat(Tt.axisType,"Ticks"),Gl(hn)))},xe),se=je[B],pe=je["".concat(B,"Ticks")],ce=C&&C[ke]&&C[ke].hasStack&&x1e(W,C[ke].stackGroups),z=Hs(W.type).indexOf("Bar")>=0,we=kv(se,pe),Te=[],Xe=U&&r1e({barSize:N,stackGroups:C,totalSize:vNe(je,B)});if(z){var Qe,at,pt=xt(be)?O:be,_e=(Qe=(at=kv(se,pe,!0))!==null&&at!==void 0?at:pt)!==null&&Qe!==void 0?Qe:0;Te=i1e({barGap:j,barCategoryGap:R,bandSize:_e!==we?_e:we,sizeList:Xe[st],maxBarSize:pt}),_e!==we&&(Te=Te.map(function(Me){return oe(oe({},Me),{},{position:oe(oe({},Me.position),{},{offset:Me.position.offset-_e/2})})}))}var Pe=W&&W.type&&W.type.getComposedData;Pe&&V.push({props:oe(oe({},Pe(oe(oe({},je),{},{displayedData:X,props:x,dataKey:le,item:W,bandSize:we,barPosition:Te,offset:E,stackedData:ce,layout:k,dataStartIndex:_,dataEndIndex:T}))),{},it(it(it({key:W.key||"item-".concat(ne)},F,je[F]),B,je[B]),"animationId",P)),childIndex:ele(W,x.children),item:W})}),V},m=function(x,w){var S=x.props,C=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!Y2({props:S}))return null;var _=S.children,T=S.layout,N=S.stackOffset,k=S.data,j=S.reverseStackOrder,R=ER(T),O=R.numericAxisName,$=R.cateAxisName,F=Ji(_,r),B=g1e(k,F,"".concat(O,"Id"),"".concat($,"Id"),N,j),U=l.reduce(function(ie,le){var be="".concat(le.axisType,"Map");return oe(oe({},ie),{},it({},be,pNe(S,oe(oe({},le),{},{graphicalItems:F,stackGroups:le.axisType===O&&B,dataStartIndex:C,dataEndIndex:E}))))},{}),V=yNe(oe(oe({},U),{},{props:S,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(ie){U[ie]=d(S,U[ie],V,ie.replace("Map",""),n)});var W=U["".concat($,"Map")],ne=mNe(W),X=h(S,oe(oe({},U),{},{dataStartIndex:C,dataEndIndex:E,updateId:P,graphicalItems:F,stackGroups:B,offset:V}));return oe(oe({formattedGraphicalItems:X,graphicalItems:F,offset:V,stackGroups:B},ne),U)},y=function(v){function x(w){var S,C,E;return QPe(this,x),E=eNe(this,x,[w]),it(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(E,"accessibilityManager",new $Pe),it(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,T=_.dataStartIndex,N=_.dataEndIndex,k=_.updateId;E.setState(oe({legendBBox:P},m({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:k},oe(oe({},E.state),{},{legendBBox:P}))))}}),it(E,"handleReceiveSyncEvent",function(P,_,T){if(E.props.syncId===P){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),it(E,"handleBrushChange",function(P){var _=P.startIndex,T=P.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return oe({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),it(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;St(N)&&N(T,P)}}),it(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),T=_?oe(oe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;St(N)&&N(T,P)}),it(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),it(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),it(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),it(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;St(T)&&T(_,P)}),it(E,"handleOuterEvent",function(P){var _=Zae(P),T=Qi(E.props,"".concat(_));if(_&&St(T)){var N,k;/.*touch.*/i.test(_)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),T((N=k)!==null&&N!==void 0?N:{},P)}}),it(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;St(N)&&N(T,P)}}),it(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),it(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),it(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),it(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(St(_)){var T=E.getMouseInfo(P);_(T,P)}}),it(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&Ow.emit(Rw,E.props.syncId,P,E.eventEmitterSymbol)}),it(E,"applySyncEvent",function(P){var _=E.props,T=_.layout,N=_.syncMethod,k=E.state.updateId,j=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(oe({dataStartIndex:j,dataEndIndex:R},m({props:E.props,dataStartIndex:j,dataEndIndex:R,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,F=P.activeTooltipIndex,B=E.state,U=B.offset,V=B.tooltipTicks;if(!U)return;if(typeof N=="function")F=N(V,P);else if(N==="value"){F=-1;for(var W=0;W<V.length;W++)if(V[W].value===P.activeLabel){F=W;break}}var ne=oe(oe({},U),{},{x:U.left,y:U.top}),X=Math.min(O,ne.x+ne.width),ie=Math.min($,ne.y+ne.height),le=V[F]&&V[F].value,be=W_(E.state,E.props.data,F),ke=V[F]?{x:T==="horizontal"?V[F].coordinate:X,y:T==="horizontal"?ie:V[F].coordinate}:l9;E.setState(oe(oe({},P),{},{activeLabel:le,activeCoordinate:ke,activePayload:be,activeTooltipIndex:F}))}else E.setState(P)}),it(E,"renderCursor",function(P){var _,T=E.state,N=T.isTooltipActive,k=T.activeCoordinate,j=T.activePayload,R=T.offset,O=T.activeTooltipIndex,$=T.tooltipAxisBandSize,F=E.getTooltipEventType(),B=(_=P.props.active)!==null&&_!==void 0?_:N,U=E.props.layout,V=P.key||"_recharts-cursor";return q.createElement(WPe,{key:V,activeCoordinate:k,activePayload:j,activeTooltipIndex:O,chartName:n,element:P,isActive:B,layout:U,offset:R,tooltipAxisBandSize:$,tooltipEventType:F})}),it(E,"renderPolarAxis",function(P,_,T){var N=Qi(P,"type.axisType"),k=Qi(E.state,"".concat(N,"Map")),j=P.type.defaultProps,R=j!==void 0?oe(oe({},j),P.props):P.props,O=k&&k[R["".concat(N,"Id")]];return b.cloneElement(P,oe(oe({},O),{},{className:At(N,O.className),key:P.key||"".concat(_,"-").concat(T),ticks:Gl(O,!0)}))}),it(E,"renderPolarGrid",function(P){var _=P.props,T=_.radialLines,N=_.polarAngles,k=_.polarRadius,j=E.state,R=j.radiusAxisMap,O=j.angleAxisMap,$=Yc(R),F=Yc(O),B=F.cx,U=F.cy,V=F.innerRadius,W=F.outerRadius;return b.cloneElement(P,{polarAngles:Array.isArray(N)?N:Gl(F,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(k)?k:Gl($,!0).map(function(ne){return ne.coordinate}),cx:B,cy:U,innerRadius:V,outerRadius:W,key:P.key||"polar-grid",radialLines:T})}),it(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,T=_.children,N=_.width,k=_.height,j=E.props.margin||{},R=N-(j.left||0)-(j.right||0),O=eU({children:T,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!O)return null;var $=O.item,F=bR(O,HPe);return b.cloneElement($,oe(oe({},F),{},{chartWidth:N,chartHeight:k,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),it(E,"renderTooltip",function(){var P,_=E.props,T=_.children,N=_.accessibilityLayer,k=Ti(T,Xo);if(!k)return null;var j=E.state,R=j.isTooltipActive,O=j.activeCoordinate,$=j.activePayload,F=j.activeLabel,B=j.offset,U=(P=k.props.active)!==null&&P!==void 0?P:R;return b.cloneElement(k,{viewBox:oe(oe({},B),{},{x:B.left,y:B.top}),active:U,label:F,payload:U?$:[],coordinate:O,accessibilityLayer:N})}),it(E,"renderBrush",function(P){var _=E.props,T=_.margin,N=_.data,k=E.state,j=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,$=k.updateId;return b.cloneElement(P,{key:P.key||"_recharts-brush",onChange:mg(E.handleBrushChange,P.props.onChange),data:N,x:Ie(P.props.x)?P.props.x:j.left,y:Ie(P.props.y)?P.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Ie(P.props.width)?P.props.width:j.width,startIndex:R,endIndex:O,updateId:"brush-".concat($)})}),it(E,"renderReferenceElement",function(P,_,T){if(!P)return null;var N=E,k=N.clipPathId,j=E.state,R=j.xAxisMap,O=j.yAxisMap,$=j.offset,F=P.type.defaultProps||{},B=P.props,U=B.xAxisId,V=U===void 0?F.xAxisId:U,W=B.yAxisId,ne=W===void 0?F.yAxisId:W;return b.cloneElement(P,{key:P.key||"".concat(_,"-").concat(T),xAxis:R[V],yAxis:O[ne],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:k})}),it(E,"renderActivePoints",function(P){var _=P.item,T=P.activePoint,N=P.basePoint,k=P.childIndex,j=P.isRange,R=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?oe(oe({},_.item.type.defaultProps),_.item.props):_.item.props,F=$.activeDot,B=$.dataKey,U=oe(oe({index:k,dataKey:B,cx:T.x,cy:T.y,r:4,fill:OA(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Nt(F,!1)),rv(F));return R.push(x.renderActiveDot(F,U,"".concat(O,"-activePoint-").concat(k))),N?R.push(x.renderActiveDot(F,oe(oe({},U),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(k))):j&&R.push(null),R}),it(E,"renderGraphicChild",function(P,_,T){var N=E.filterFormatItem(P,_,T);if(!N)return null;var k=E.getTooltipEventType(),j=E.state,R=j.isTooltipActive,O=j.tooltipAxis,$=j.activeTooltipIndex,F=j.activeLabel,B=E.props.children,U=Ti(B,Xo),V=N.props,W=V.points,ne=V.isRange,X=V.baseLine,ie=N.item.type.defaultProps!==void 0?oe(oe({},N.item.type.defaultProps),N.item.props):N.item.props,le=ie.activeDot,be=ie.hide,ke=ie.activeBar,st=ie.activeShape,xe=!!(!be&&R&&U&&(le||ke||st)),je={};k!=="axis"&&U&&U.props.trigger==="click"?je={onClick:mg(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(je={onMouseLeave:mg(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:mg(E.handleItemMouseEnter,P.props.onMouseEnter)});var se=b.cloneElement(P,oe(oe({},N.props),je));function pe(Tt){return typeof O.dataKey=="function"?O.dataKey(Tt.payload):null}if(xe)if($>=0){var ce,z;if(O.dataKey&&!O.allowDuplicatedCategory){var we=typeof O.dataKey=="function"?pe:"payload.".concat(O.dataKey.toString());ce=nv(W,we,F),z=ne&&X&&nv(X,we,F)}else ce=W==null?void 0:W[$],z=ne&&X&&X[$];if(st||ke){var Te=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[b.cloneElement(P,oe(oe(oe({},N.props),je),{},{activeIndex:Te})),null,null]}if(!xt(ce))return[se].concat(Cd(E.renderActivePoints({item:N,activePoint:ce,basePoint:z,childIndex:$,isRange:ne})))}else{var Xe,Qe=(Xe=E.getItemByXY(E.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:se},at=Qe.graphicalItem,pt=at.item,_e=pt===void 0?P:pt,Pe=at.childIndex,Me=oe(oe(oe({},N.props),je),{},{activeIndex:Pe});return[b.cloneElement(_e,Me),null,null]}return ne?[se,null,null]:[se,null]}),it(E,"renderCustomized",function(P,_,T){return b.cloneElement(P,oe(oe({key:"recharts-customized-".concat(T)},E.props),E.state))}),it(E,"renderMap",{CartesianGrid:{handler:bg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:bg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:bg},YAxis:{handler:bg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:am("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Z6(E.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return rNe(x,v),ZPe(x,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,P=S.height,_=S.layout,T=Ti(C,Xo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=W_(this.state,E,N,k),R=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=_==="horizontal",F=$?{x:R,y:O}:{y:R,x:O},B=this.state.formattedGraphicalItems.find(function(V){var W=V.item;return W.type.name==="Scatter"});B&&(F=oe(oe({},F),B.props.points[N].tooltipPosition),j=B.props.points[N].tooltipPayload);var U={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:j,activeCoordinate:F};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(S){SS([Ti(S.children,Xo)],[Ti(this.props.children,Xo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ti(this.props.children,Xo);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),P=Pve(E),_={chartX:Math.round(S.pageX-P.left),chartY:Math.round(S.pageY-P.top)},T=E.width/C.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,T);if(!N)return null;var k=this.state,j=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),$=SR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&j&&R){var F=Yc(j).scale,B=Yc(R).scale,U=F&&F.invert?F.invert(_.chartX):null,V=B&&B.invert?B.invert(_.chartY):null;return oe(oe({},_),{},{xValue:U,yValue:V},$)}return $?oe(oe({},_),$):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=S/E,T=C/E;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,k=_>=N.left&&_<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return k?{x:_,y:T}:null}var j=this.state,R=j.angleAxisMap,O=j.radiusAxisMap;if(R&&O){var $=Yc(R);return oO({x:_,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=Ti(S,Xo),P={};E&&C==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=rv(this.props,this.handleOuterEvent);return oe(oe({},_),P)}},{key:"addListener",value:function(){Ow.on(Rw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ow.removeListener(Rw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var P=this.state.formattedGraphicalItems,_=0,T=P.length;_<T;_++){var N=P[_];if(N.item===S||N.props.key===S.key||C===Hs(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,P=C.top,_=C.height,T=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:E,y:P,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=xR(E,2),_=P[0],T=P[1];return oe(oe({},C),{},it({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var P=xR(E,2),_=P[0],T=P[1];return oe(oe({},C),{},it({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,P=C.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var N=E[_],k=N.props,j=N.item,R=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,O=Hs(j.type);if(O==="Bar"){var $=(k.data||[]).find(function(V){return uEe(S,V)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var F=(k.data||[]).find(function(V){return oO(S,V)});if(F)return{graphicalItem:N,payload:F}}else if($0(N,P)||L0(N,P)||Tp(N,P)){var B=hTe({graphicalItem:N,activeTooltipItem:P,itemData:R.data}),U=R.activeIndex===void 0?B:R.activeIndex;return{graphicalItem:oe(oe({},N),{},{childIndex:U}),payload:Tp(N,P)?R.data[B]:N.props.data[B]}}}return null}},{key:"render",value:function(){var S=this;if(!Y2(this))return null;var C=this.props,E=C.children,P=C.className,_=C.width,T=C.height,N=C.style,k=C.compact,j=C.title,R=C.desc,O=bR(C,qPe),$=Nt(O,!1);if(k)return q.createElement(rR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(ES,fu({},$,{width:_,height:T,title:j,desc:R}),this.renderClipPath(),Q2(E,this.renderMap)));if(this.props.accessibilityLayer){var F,B;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},$.onFocus=function(){S.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return q.createElement(rR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",fu({className:At("recharts-wrapper",P),style:oe({position:"relative",cursor:"default",width:_,height:T},N)},U,{ref:function(W){S.container=W}}),q.createElement(ES,fu({},$,{width:_,height:T,title:j,desc:R,style:cNe}),this.renderClipPath(),Q2(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);it(y,"displayName",n),it(y,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),it(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,S=v.data,C=v.children,E=v.width,P=v.height,_=v.layout,T=v.stackOffset,N=v.margin,k=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var R=_R(v);return oe(oe(oe({},R),{},{updateId:0},m(oe(oe({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(w!==x.prevDataKey||S!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Cu(N,x.prevMargin)){var O=_R(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=oe(oe({},SR(x,S,_)),{},{updateId:x.updateId+1}),B=oe(oe(oe({},O),$),F);return oe(oe(oe({},B),m(oe({props:v},B),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(!SS(C,x.prevChildren)){var U,V,W,ne,X=Ti(C,gd),ie=X&&(U=(V=X.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:k,le=X&&(W=(ne=X.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&W!==void 0?W:j,be=ie!==k||le!==j,ke=!xt(S),st=ke&&!be?x.updateId:x.updateId+1;return oe(oe({updateId:st},m(oe(oe({props:v},x),{},{updateId:st,dataStartIndex:ie,dataEndIndex:le}),x)),{},{prevChildren:C,dataStartIndex:ie,dataEndIndex:le})}return null}),it(y,"renderActiveDot",function(v,x,w){var S;return b.isValidElement(v)?S=b.cloneElement(v,x):St(v)?S=v(x):S=q.createElement(MA,x),q.createElement(Rn,{className:"recharts-active-dot",key:w},S)});var g=b.forwardRef(function(x,w){return q.createElement(y,fu({},x,{ref:w}))});return g.displayName=y.displayName,g},bNe=xNe({chartName:"LineChart",GraphicalChild:pm,axisComponents:[{axisType:"xAxis",AxisComp:H0},{axisType:"yAxis",AxisComp:q0}],formatAxisMap:VCe});function wNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function TR(t){return wNe(t)||Array.isArray(t)}function SNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function VA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!TR(a)||!TR(l)?a===l:VA(a,l)})}function CR(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function _Ne(t,e){if(t.length!==e.length)return!1;const n=CR(t),r=CR(e);return n.every((i,o)=>{const s=r[o];return VA(i,s)})}function BA(t){return typeof t=="number"}function H_(t){return typeof t=="string"}function K0(t){return typeof t=="boolean"}function AR(t){return Object.prototype.toString.call(t)==="[object Object]"}function En(t){return Math.abs(t)}function UA(t){return Math.sign(t)}function hh(t,e){return En(t-e)}function ENe(t,e){if(t===0||e===0||En(t)<=En(e))return 0;const n=hh(En(t),En(e));return En(n/t)}function TNe(t){return Math.round(t*100)/100}function kp(t){return Op(t).map(Number)}function $o(t){return t[mm(t)]}function mm(t){return Math.max(0,t.length-1)}function zA(t,e){return e===mm(t)}function PR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Op(t){return Object.keys(t)}function u9(t,e){return[t,e].reduce((n,r)=>(Op(r).forEach(i=>{const o=n[i],s=r[i],a=AR(o)&&AR(s);n[i]=a?u9(o,s):s}),n),{})}function q_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function CNe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,u){return H_(t)?n[t](l):t(e,l,u)}return{measure:s}}function Rp(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const u=i;u.addListener(s),l=()=>u.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function ANe(t,e,n,r){const i=Rp(),o=1e3/60;let s=null,a=0,l=0;function u(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){m(),i.clear()}function f(v){if(!l)return;s||(s=v,n(),n());const x=v-s;for(s=v,a+=x;a>=o;)n(),a-=o;const w=a/o;r(w),l&&(l=e.requestAnimationFrame(f))}function h(){l||(l=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function PNe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=d(),l=f();function u(y){const{height:g,width:v}=y;return r?g:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:u,direction:h}}function _c(t=0,e=0){const n=En(t-e);function r(u){return u<t}function i(u){return u>e}function o(u){return r(u)||i(u)}function s(u){return o(u)?r(u)?t:e:u}function a(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function d9(t,e,n){const{constrain:r}=_c(0,t),i=t+1;let o=s(e);function s(h){return n?En((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),f}function u(h){return d().set(a()+h)}function d(){return d9(t,a(),n)}const f={get:a,set:l,add:u,clone:d};return f}function NNe(t,e,n,r,i,o,s,a,l,u,d,f,h,m,y,g,v,x,w){const{cross:S,direction:C}=t,E=["INPUT","SELECT","TEXTAREA"],P={passive:!1},_=Rp(),T=Rp(),N=_c(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},j={mouse:500,touch:600},R=y?43:25;let O=!1,$=0,F=0,B=!1,U=!1,V=!1,W=!1;function ne(z){if(!w)return;function we(Xe){(K0(w)||w(z,Xe))&&st(Xe)}const Te=e;_.add(Te,"dragstart",Xe=>Xe.preventDefault(),P).add(Te,"touchmove",()=>{},P).add(Te,"touchend",()=>{}).add(Te,"touchstart",we).add(Te,"mousedown",we).add(Te,"touchcancel",je).add(Te,"contextmenu",je).add(Te,"click",se,!0)}function X(){_.clear(),T.clear()}function ie(){const z=W?n:e;T.add(z,"touchmove",xe,P).add(z,"touchend",je).add(z,"mousemove",xe,P).add(z,"mouseup",je)}function le(z){const we=z.nodeName||"";return E.includes(we)}function be(){return(y?j:k)[W?"mouse":"touch"]}function ke(z,we){const Te=f.add(UA(z)*-1),Xe=d.byDistance(z,!y).distance;return y||En(z)<N?Xe:v&&we?Xe*.5:d.byIndex(Te.get(),0).distance}function st(z){const we=q_(z,r);W=we,V=y&&we&&!z.buttons&&O,O=hh(i.get(),s.get())>=2,!(we&&z.button!==0)&&(le(z.target)||(B=!0,o.pointerDown(z),u.useFriction(0).useDuration(0),i.set(s),ie(),$=o.readPoint(z),F=o.readPoint(z,S),h.emit("pointerDown")))}function xe(z){if(!q_(z,r)&&z.touches.length>=2)return je(z);const Te=o.readPoint(z),Xe=o.readPoint(z,S),Qe=hh(Te,$),at=hh(Xe,F);if(!U&&!W&&(!z.cancelable||(U=Qe>at,!U)))return je(z);const pt=o.pointerMove(z);Qe>g&&(V=!0),u.useFriction(.3).useDuration(.75),a.start(),i.add(C(pt)),z.preventDefault()}function je(z){const Te=d.byDistance(0,!1).index!==f.get(),Xe=o.pointerUp(z)*be(),Qe=ke(C(Xe),Te),at=ENe(Xe,Qe),pt=R-10*at,_e=x+at/50;U=!1,B=!1,T.clear(),u.useDuration(pt).useFriction(_e),l.distance(Qe,!y),W=!1,h.emit("pointerUp")}function se(z){V&&(z.stopPropagation(),z.preventDefault(),V=!1)}function pe(){return B}return{init:ne,destroy:X,pointerDown:pe}}function jNe(t,e){let r,i;function o(f){return f.timeStamp}function s(f,h){const y=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(q_(f,e)?f:f.touches[0])[y]}function a(f){return r=f,i=f,s(f)}function l(f){const h=s(f)-s(i),m=o(f)-o(r)>170;return i=f,m&&(r=f),h}function u(f){if(!r||!i)return 0;const h=s(i)-s(r),m=o(f)-o(r),y=o(f)-o(i)>170,g=h/m;return m&&!y&&En(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:u,readPoint:s}}function INe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function kNe(t){function e(r){return t*(r/100)}return{measure:e}}function ONe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,u,d=[],f=!1;function h(v){return i.measureSize(s.measure(v))}function m(v){if(!o)return;u=h(t),d=r.map(h);function x(w){for(const S of w){if(f)return;const C=S.target===t,E=r.indexOf(S.target),P=C?u:d[E],_=h(C?t:r[E]);if(En(_-P)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(w=>{(K0(o)||o(v,w))&&x(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){f=!0,l&&l.disconnect()}return{init:m,destroy:y}}function RNe(t,e,n,r,i,o){let s=0,a=0,l=i,u=o,d=t.get(),f=0;function h(){const P=r.get()-t.get(),_=!l;let T=0;return _?(s=0,n.set(r),t.set(r),T=P):(n.set(t),s+=P/l,s*=u,d+=s,t.add(s),T=d-f),a=UA(T),f=d,E}function m(){const P=r.get()-e.get();return En(P)<.001}function y(){return l}function g(){return a}function v(){return s}function x(){return S(i)}function w(){return C(o)}function S(P){return l=P,E}function C(P){return u=P,E}const E={direction:g,duration:y,velocity:v,seek:h,settled:m,useBaseFriction:w,useBaseDuration:x,useFriction:C,useDuration:S};return E}function MNe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=_c(.1,.99);let l=!1;function u(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const y=t.reachedMin(e.get())?"min":"max",g=En(t[y]-e.get()),v=n.get()-e.get(),x=a.constrain(g/s);n.subtract(v*x),!m&&En(v)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function DNe(t,e,n,r,i){const o=_c(-e+t,0),s=f(),a=d(),l=h();function u(y,g){return hh(y,g)<=1}function d(){const y=s[0],g=$o(s),v=s.lastIndexOf(y),x=s.indexOf(g)+1;return _c(v,x)}function f(){return n.map((y,g)=>{const{min:v,max:x}=o,w=o.constrain(y),S=!g,C=zA(n,g);return S?x:C||u(v,w)?v:u(x,w)?x:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:l,scrollContainLimit:a}}function $Ne(t,e,n){const r=e[0],i=n?r-t:$o(e);return{limit:_c(i,r)}}function LNe(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=_c(o,s);function u(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!u(h))return;const m=t*(h*-1);r.forEach(y=>y.add(m))}return{loop:d}}function FNe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function VNe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=f().map(e.measure),u=h(),d=m();function f(){return a(r).map(g=>$o(g)[s]-g[0][o]).map(En)}function h(){return r.map(g=>n[o]-g[o]).map(g=>-En(g))}function m(){return a(u).map(g=>g[0]).map((g,v)=>g+l[v])}return{snaps:u,snapsAligned:d}}function BNe(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,u=d();function d(){const h=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?h:h.slice(a,l).map((y,g,v)=>{const x=!g,w=zA(v,g);if(x){const S=$o(v[0])+1;return PR(S)}if(w){const S=mm(o)-$o(v)[0]+1;return PR(S,$o(v)[0])}return y})}return{slideRegistry:u}}function UNe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((g,v)=>En(g)-En(v))[0]}function u(y){const g=t?s(y):a(y),v=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>En(w.diff)-En(S.diff)),{index:x}=v[0];return{index:x,distance:g}}function d(y,g){const v=[y,y+n,y-n];if(!t)return y;if(!g)return l(v);const x=v.filter(w=>UA(w)===g);return x.length?l(x):$o(v)-n}function f(y,g){const v=e[y]-i.get(),x=d(v,g);return{index:y,distance:x}}function h(y,g){const v=i.get()+y,{index:x,distance:w}=u(v),S=!t&&o(v);if(!g||S)return{index:x,distance:y};const C=e[x]-w,E=y+d(C,0);return{index:x,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function zNe(t,e,n,r,i,o,s){function a(f){const h=f.distance,m=f.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),s.emit("select"))}function l(f,h){const m=i.byDistance(f,h);a(m)}function u(f,h){const m=e.clone().set(f),y=i.byIndex(m.get(),h);a(y)}return{distance:l,index:u}}function WNe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let u=0;function d(m){if(!a)return;function y(g){if(new Date().getTime()-u>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));BA(w)&&(i.useDuration(0),r.index(w,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),e.forEach((g,v)=>{o.add(g,"focus",x=>{(K0(a)||a(m,x))&&y(v)},l)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Bf(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return BA(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function f9(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(o)return;const m=TNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function u(h){o=!h}function d(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:u}}function HNe(t,e,n,r,i,o,s,a,l){const d=kp(i),f=kp(i).reverse(),h=x().concat(w());function m(_,T){return _.reduce((N,k)=>N-i[k],T)}function y(_,T){return _.reduce((N,k)=>m(N,T)>0?N.concat([k]):N,[])}function g(_){return o.map((T,N)=>({start:T-r[N]+.5+_,end:T+e-.5+_}))}function v(_,T,N){const k=g(T);return _.map(j=>{const R=N?0:-n,O=N?n:0,$=N?"end":"start",F=k[j][$];return{index:j,loopPoint:F,slideLocation:Bf(-1),translate:f9(t,l[j]),target:()=>a.get()>F?R:O}})}function x(){const _=s[0],T=y(f,_);return v(T,n,!1)}function w(){const _=e-s[0]-1,T=y(d,_);return v(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(N=>N!==_);return m(T,e)<=.1})}function C(){h.forEach(_=>{const{target:T,translate:N,slideLocation:k}=_,j=T();j!==k.get()&&(N.to(j),k.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function qNe(t,e,n){let r,i=!1;function o(l){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(K0(n)||n(l,d))&&u(d)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function GNe(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function u(){a=new IntersectionObserver(y=>{l||(y.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function f(y){return Op(i).reduce((g,v)=>{const x=parseInt(v),{isIntersecting:w}=i[x];return(y&&w||!y&&!w)&&g.push(x),g},[])}function h(y=!0){if(y&&o)return o;if(!y&&s)return s;const g=f(y);return y&&(o=g),y||(s=g),g}return{init:u,destroy:d,get:h}}function KNe(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,u=n[0]&&i,d=y(),f=g(),h=n.map(s),m=v();function y(){if(!u)return 0;const w=n[0];return En(e[a]-w[a])}function g(){if(!u)return 0;const w=o.getComputedStyle($o(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function v(){return n.map((w,S,C)=>{const E=!S,P=zA(C,S);return E?h[S]+d:P?h[S]+f:C[S+1][a]-w[a]}).map(En)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function YNe(t,e,n,r,i,o,s,a,l){const{startEdge:u,endEdge:d,direction:f}=t,h=BA(n);function m(x,w){return kp(x).filter(S=>S%w===0).map(S=>x.slice(S,S+w))}function y(x){return x.length?kp(x).reduce((w,S,C)=>{const E=$o(w)||0,P=E===0,_=S===mm(x),T=i[u]-o[E][u],N=i[u]-o[S][d],k=!r&&P?f(s):0,j=!r&&_?f(a):0,R=En(N-j-(T+k));return C&&R>e+l&&w.push(S),_&&w.push(x.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return x.slice(E,w)}):[]}function g(x){return h?m(x,n):y(x)}return{groupSlides:g}}function XNe(t,e,n,r,i,o,s){const{align:a,axis:l,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:x,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:P}=o,_=2,T=INe(),N=T.measure(e),k=n.map(T.measure),j=PNe(l,u),R=j.measureSize(N),O=kNe(R),$=CNe(a,R),F=!f&&!!w,B=f||!!w,{slideSizes:U,slideSizesWithGaps:V,startGap:W,endGap:ne}=KNe(j,N,k,n,B,i),X=YNe(j,R,v,f,N,k,W,ne,_),{snaps:ie,snapsAligned:le}=VNe(j,$,N,k,X),be=-$o(ie)+$o(V),{snapsContained:ke,scrollContainLimit:st}=DNe(R,be,le,w,_),xe=F?ke:le,{limit:je}=$Ne(be,xe,f),se=d9(mm(xe),d,f),pe=se.clone(),ce=kp(n),z=({dragHandler:Ht,scrollBody:gn,scrollBounds:Ft,options:{loop:Ge}})=>{Ge||Ft.constrain(Ht.pointerDown()),gn.seek()},we=({scrollBody:Ht,translate:gn,location:Ft,offsetLocation:Ge,previousLocation:Hr,scrollLooper:hr,slideLooper:Pr,dragHandler:ei,animation:qt,eventHandler:zt,scrollBounds:pr,options:{loop:Un}},Gt)=>{const er=Ht.settled(),zn=!pr.shouldConstrain(),xn=Un?er:er&&zn,ao=xn&&!ei.pointerDown();ao&&qt.stop();const $i=Ft.get()*Gt+Hr.get()*(1-Gt);Ge.set($i),Un&&(hr.loop(Ht.direction()),Pr.loop()),gn.to(Ge.get()),ao&&zt.emit("settle"),xn||zt.emit("scroll")},Te=ANe(r,i,()=>z(mn),Ht=>we(mn,Ht)),Xe=.68,Qe=xe[se.get()],at=Bf(Qe),pt=Bf(Qe),_e=Bf(Qe),Pe=Bf(Qe),Me=RNe(at,_e,pt,Pe,h,Xe),Tt=UNe(f,xe,be,je,Pe),Ut=zNe(Te,se,pe,Me,Tt,Pe,s),rn=FNe(je),hn=Rp(),Bn=GNe(e,n,s,g),{slideRegistry:Ar}=BNe(F,w,xe,st,X,ce),pn=WNe(t,n,Ar,Ut,Me,hn,s,P),mn={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:N,slideRects:k,animation:Te,axis:j,dragHandler:NNe(j,t,r,i,Pe,jNe(j,i),at,Te,Ut,Me,Tt,se,s,O,m,y,x,Xe,E),eventStore:hn,percentOfView:O,index:se,indexPrevious:pe,limit:je,location:at,offsetLocation:_e,previousLocation:pt,options:o,resizeHandler:ONe(e,s,i,n,j,S,T),scrollBody:Me,scrollBounds:MNe(je,_e,Pe,Me,O),scrollLooper:LNe(be,je,_e,[at,_e,pt,Pe]),scrollProgress:rn,scrollSnapList:xe.map(rn.get),scrollSnaps:xe,scrollTarget:Tt,scrollTo:Ut,slideLooper:HNe(j,R,be,U,V,ie,xe,_e,n),slideFocus:pn,slidesHandler:qNe(e,s,C),slidesInView:Bn,slideIndexes:ce,slideRegistry:Ar,slidesToScroll:X,target:Pe,translate:f9(j,e)};return mn}function QNe(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function i(u){return r(u).forEach(d=>d(e,u)),l}function o(u,d){return t[u]=r(u).concat([d]),l}function s(u,d){return t[u]=r(u).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const JNe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ZNe(t){function e(o,s){return u9(o,s||{})}function n(o){const s=o.breakpoints||{},a=Op(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,u)=>e(l,u),{});return e(o,a)}function r(o){return o.map(s=>Op(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function eje(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function tx(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=ZNe(i),s=eje(o),a=Rp(),l=QNe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:y}=l,g=j;let v=!1,x,w=u(JNe,tx.globalOptions),S=u(w),C=[],E,P,_;function T(){const{container:ce,slides:z}=S;P=(H_(ce)?t.querySelector(ce):ce)||t.children[0];const Te=H_(z)?P.querySelectorAll(z):z;_=[].slice.call(Te||P.children)}function N(ce){const z=XNe(t,P,_,r,i,ce,l);if(ce.loop&&!z.slideLooper.canLoop()){const we=Object.assign({},ce,{loop:!1});return N(we)}return z}function k(ce,z){v||(w=u(w,ce),S=d(w),C=z||C,T(),x=N(S),f([w,...C.map(({options:we})=>we)]).forEach(we=>a.add(we,"change",j)),S.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(pe),x.eventHandler.init(pe),x.resizeHandler.init(pe),x.slidesHandler.init(pe),x.options.loop&&x.slideLooper.loop(),P.offsetParent&&_.length&&x.dragHandler.init(pe),E=s.init(pe,C)))}function j(ce,z){const we=X();R(),k(u({startIndex:we},ce),z),l.emit("reInit")}function R(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function O(){v||(v=!0,a.clear(),R(),l.emit("destroy"),l.clear())}function $(ce,z,we){!S.active||v||(x.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),x.scrollTo.index(ce,we||0))}function F(ce){const z=x.index.add(1).get();$(z,ce,-1)}function B(ce){const z=x.index.add(-1).get();$(z,ce,1)}function U(){return x.index.add(1).get()!==X()}function V(){return x.index.add(-1).get()!==X()}function W(){return x.scrollSnapList}function ne(){return x.scrollProgress.get(x.offsetLocation.get())}function X(){return x.index.get()}function ie(){return x.indexPrevious.get()}function le(){return x.slidesInView.get()}function be(){return x.slidesInView.get(!1)}function ke(){return E}function st(){return x}function xe(){return t}function je(){return P}function se(){return _}const pe={canScrollNext:U,canScrollPrev:V,containerNode:je,internalEngine:st,destroy:O,off:m,on:h,emit:y,plugins:ke,previousScrollSnap:ie,reInit:g,rootNode:xe,scrollNext:F,scrollPrev:B,scrollProgress:ne,scrollSnapList:W,scrollTo:$,selectedScrollSnap:X,slideNodes:se,slidesInView:le,slidesNotInView:be};return k(e,n),setTimeout(()=>l.emit("init"),0),pe}tx.globalOptions=void 0;function WA(t={},e=[]){const n=b.useRef(t),r=b.useRef(e),[i,o]=b.useState(),[s,a]=b.useState(),l=b.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return b.useEffect(()=>{VA(n.current,t)||(n.current=t,l())},[t,l]),b.useEffect(()=>{_Ne(r.current,e)||(r.current=e,l())},[e,l]),b.useEffect(()=>{if(SNe()&&s){tx.globalOptions=WA.globalOptions;const u=tx(s,n.current,r.current);return o(u),()=>u.destroy()}else o(void 0)},[s,o]),[a,i]}WA.globalOptions=void 0;const h9=b.createContext(null);function Y0(){const t=b.useContext(h9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const G_=b.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,u]=WA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=b.useState(!1),[h,m]=b.useState(!1),y=b.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=b.useCallback(()=>{u==null||u.scrollPrev()},[u]),v=b.useCallback(()=>{u==null||u.scrollNext()},[u]),x=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return b.useEffect(()=>{!u||!n||n(u)},[u,n]),b.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),c.jsx(h9.Provider,{value:{carouselRef:l,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:c.jsx("div",{ref:a,onKeyDownCapture:x,className:ct("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});G_.displayName="Carousel";const K_=b.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=Y0();return c.jsx("div",{ref:r,className:"overflow-hidden",children:c.jsx("div",{ref:n,className:ct("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});K_.displayName="CarouselContent";const Y_=b.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Y0();return c.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ct("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Y_.displayName="CarouselItem";const X_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=Y0();return c.jsxs(de,{ref:i,variant:e,size:n,className:ct("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(Mo,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Previous slide"})]})});X_.displayName="CarouselPrevious";const Q_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=Y0();return c.jsxs(de,{ref:i,variant:e,size:n,className:ct("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(nH,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Next slide"})]})});Q_.displayName="CarouselNext";function tje({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",u=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return c.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&c.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),c.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${u()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Jf,{className:"w-5 h-5 md:w-6 md:h-6"}),c.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[c.jsx(nL,{className:"w-4 h-4 md:w-5 md:h-5"}),c.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&c.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&c.jsxs("div",{className:"flex flex-col items-center mt-2",children:[c.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Jf,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const NR="shotclock_tutorial_seen",Dw="shotclock_sessions",wg="shotclock_paused_session";function nje(){var gi,Mn;const[,t]=vl(),[e,n]=b.useState("setup"),[r,i]=b.useState("solo"),[o,s]=b.useState([{name:"Player 1",extensions:0}]),[a,l]=b.useState(0),[u,d]=b.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=b.useState(0),[m,y]=b.useState(0),[g,v]=b.useState(30),[x,w]=b.useState(30),[S,C]=b.useState(30),[E,P]=b.useState(!1),[_,T]=b.useState(!1),[N]=b.useState(3),[k]=b.useState(15),[j,R]=b.useState(!0),[O,$]=b.useState(!1),[F,B]=b.useState([]),[U,V]=b.useState(1),W=b.useRef(null),ne=b.useRef(null),[X,ie]=b.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),le=b.useRef(0),be=b.useRef(0),ke=b.useRef(0),[st,xe]=b.useState(!1),[je,se]=b.useState(!1),[pe,ce]=b.useState([]),[z,we]=b.useState(1),[Te,Xe]=b.useState(!1);b.useEffect(()=>{(()=>{try{const re=localStorage.getItem(Dw);re&&B(JSON.parse(re))}catch(re){console.error("Failed to load saved sessions:",re)}})()},[]),b.useEffect(()=>(Ct.startSession("tempo"),()=>{ke.current>0&&Ct.trackSkillMetric("tempo","session_complete",1),Ct.endSession()}),[]),b.useEffect(()=>{const H=localStorage.getItem(wg);if(H)try{const re=JSON.parse(H);(re.gameMode==="paused"||re.gameMode==="playing")&&(n("paused"),i(re.playerMode),s(re.players),l(re.currentPlayerIndex),v(re.duration),C(re.timeRemaining),T(re.isInExtension),R(re.soloAutoRestart),ie({...re.sessionStats,shotEvents:re.sessionStats.shotEvents||[]}),be.current=re.accumulatedShotTime||0,re.teams&&d(re.teams),re.currentTeamIndex!==void 0&&h(re.currentTeamIndex),re.currentPartnerIndex!==void 0&&y(re.currentPartnerIndex))}catch{localStorage.removeItem(wg)}},[]),b.useEffect(()=>{localStorage.getItem(NR)||$(!0)},[]);const Qe=b.useCallback((H=800,re=.3,Ne=1)=>{ne.current||(ne.current=new AudioContext);const ze=ne.current;for(let Ve=0;Ve<Ne;Ve++)setTimeout(()=>{const tt=ze.createOscillator(),G=ze.createGain();tt.connect(G),G.connect(ze.destination),tt.frequency.value=H,G.gain.value=.4,G.gain.exponentialRampToValueAtTime(.01,ze.currentTime+re),tt.start(ze.currentTime),tt.stop(ze.currentTime+re)},Ve*150)},[]),at=b.useCallback(()=>{Qe(600,.15,1)},[Qe]),pt=b.useCallback(()=>{Qe(400,.5,3)},[Qe]),_e=b.useCallback(()=>{Qe(1e3,.2,2)},[Qe]);b.useEffect(()=>(E&&S>0?W.current=setInterval(()=>{C(H=>{if(H<=6&&H>1&&at(),H<=1){if(pt(),T(!1),r==="solo"&&j){let re=be.current/1e3;le.current>0&&(re+=(Date.now()-le.current)/1e3),re<=0&&(re=g),ke.current++,Ct.trackSkillMetric("tempo","shot_time",re),ie(Ne=>{var Ve;const ze={shotIndex:Ne.shotCount,duration:Math.max(0,re),playerName:((Ve=o[0])==null?void 0:Ve.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...Ne,shotCount:Ne.shotCount+1,shotDurations:[...Ne.shotDurations,Math.max(0,re)],shotEvents:[...Ne.shotEvents||[],ze]}}),be.current=0,setTimeout(()=>{_e(),C(g),P(!0),le.current=Date.now()},1500)}else ie(re=>({...re,timeouts:re.timeouts+1})),P(!1);return 0}return H-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,S,r,j,g,at,pt,_e]);const Pe=o[a],Me=u[f];r==="scotch-doubles"?Me==null||Me.players[m]:Pe==null||Pe.name;const Tt=()=>{S===0&&(C(g),T(!1)),le.current===0&&(le.current=Date.now()),P(!0)},Ut=()=>{le.current>0&&(be.current+=Date.now()-le.current),le.current=0,P(!1)},rn=b.useCallback(()=>{const H={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:S,isInExtension:_,soloAutoRestart:j,sessionStats:X,accumulatedShotTime:be.current,teams:u,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(wg,JSON.stringify(H))},[r,o,a,g,S,_,j,X,u,f,m]),hn=()=>{localStorage.removeItem(wg)},Bn=()=>{le.current>0&&(be.current+=Date.now()-le.current),le.current=0,P(!1),n("paused")};b.useEffect(()=>{e==="paused"&&rn()},[e,rn]);const Ar=()=>{n("playing"),S>0&&(le.current=Date.now(),P(!0))},pn=()=>{P(!1),n("paused"),rn(),t("/")};b.useEffect(()=>{const H=()=>{document.hidden&&e==="playing"&&E&&(le.current>0&&(be.current+=Date.now()-le.current),le.current=0,P(!1),n("paused"))};return document.addEventListener("visibilitychange",H),()=>{document.removeEventListener("visibilitychange",H)}},[e,E]);const mn=()=>{P(!1),Xe(!0)},Ht=H=>{var Ne;let re=be.current/1e3;if(le.current>0&&(re+=(Date.now()-le.current)/1e3),re>0){ke.current++,Ct.trackSkillMetric("tempo","shot_time",re),Ct.trackSkillMetric("tempo",H==="stroke"?"stroke_count":"turn_end_count",1);const ze={shotIndex:X.shotCount,duration:Math.max(0,re),playerName:r==="scotch-doubles"?(Me==null?void 0:Me.players[m])||"Unknown":r==="two-player"?(Pe==null?void 0:Pe.name)||"Unknown":((Ne=o[0])==null?void 0:Ne.name)||"Player 1",teamName:r==="scotch-doubles"?Me==null?void 0:Me.name:void 0,timestamp:Date.now(),eventType:H};ie(Ve=>({...Ve,shotCount:Ve.shotCount+1,shotDurations:[...Ve.shotDurations,Math.max(0,re)],shotEvents:[...Ve.shotEvents||[],ze]}))}C(g),T(!1),be.current=0},gn=()=>{Xe(!1),Ht("stroke"),le.current=Date.now(),setTimeout(()=>P(!0),100)},Ft=()=>{Xe(!1),Ht("turn_end"),r==="two-player"?l(H=>(H+1)%o.length):r==="scotch-doubles"&&(h(H=>(H+1)%u.length),y(0)),le.current=Date.now(),setTimeout(()=>P(!0),100)},Ge=()=>{Xe(!1);const H=zt(),re=r==="scotch-doubles"?(Me==null?void 0:Me.name)||"Team 1":(Pe==null?void 0:Pe.name)||"Player 1",Ne=r==="scotch-doubles"?"team":"player";ie(ze=>{var De;const Ve={...ze};let tt=[...ze.shotEvents||[]];H&&(tt.push(H),Ve.shotDurations=[...ze.shotDurations,H.duration],Ve.shotCount=ze.shotCount+1);const Ae={rackNumber:(((De=ze.rackResults)==null?void 0:De.length)||0)+1,winner:re,winnerType:Ne,shotEvents:tt,timestamp:Date.now()};return Ve.rackResults=[...ze.rackResults||[],Ae],Ve.shotEvents=[],Ve}),we(ze=>ze+1),be.current=0,le.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(ze=>ze.map(Ve=>({...Ve,extensions:0}))):s(ze=>ze.map(Ve=>({...Ve,extensions:0}))),setTimeout(()=>P(!0),100)},Hr=()=>{var ze,Ve;Xe(!1);const H=zt();let re,Ne;if(r==="scotch-doubles"){const tt=(f+1)%u.length;re=((ze=u[tt])==null?void 0:ze.name)||"Team 2",Ne="team"}else if(r==="two-player"){const tt=(a+1)%o.length;re=((Ve=o[tt])==null?void 0:Ve.name)||"Player 2",Ne="player"}else re="Opponent",Ne="player";ie(tt=>{var ge;const G={...tt};let Ae=[...tt.shotEvents||[]];H&&(Ae.push(H),G.shotDurations=[...tt.shotDurations,H.duration],G.shotCount=tt.shotCount+1);const Z={rackNumber:(((ge=tt.rackResults)==null?void 0:ge.length)||0)+1,winner:re,winnerType:Ne,shotEvents:Ae,timestamp:Date.now()};return G.rackResults=[...tt.rackResults||[],Z],G.shotEvents=[],G}),we(tt=>tt+1),be.current=0,le.current=Date.now(),C(g),T(!1),r==="scotch-doubles"?d(tt=>tt.map(G=>({...G,extensions:0}))):s(tt=>tt.map(G=>({...G,extensions:0}))),setTimeout(()=>P(!0),100)},hr=()=>{let H=be.current/1e3;if(le.current>0&&(H+=(Date.now()-le.current)/1e3),H>0){ke.current++,Ct.trackSkillMetric("tempo","shot_time",H);const re={shotIndex:X.shotCount,duration:Math.max(0,H),playerName:(Me==null?void 0:Me.players[m])||"Unknown",teamName:Me==null?void 0:Me.name,timestamp:Date.now(),eventType:"stroke"};ie(Ne=>({...Ne,shotCount:Ne.shotCount+1,shotDurations:[...Ne.shotDurations,Math.max(0,H)],shotEvents:[...Ne.shotEvents||[],re]}))}P(!1),C(g),T(!1),be.current=0,y(re=>(re+1)%2),le.current=Date.now(),setTimeout(()=>P(!0),100)},Pr=()=>{r==="scotch-doubles"?Me&&Me.extensions<N&&(C(H=>H+k),T(!0),d(H=>H.map((re,Ne)=>Ne===f?{...re,extensions:re.extensions+1}:re)),ie(H=>({...H,totalExtensions:H.totalExtensions+1}))):Pe&&Pe.extensions<N&&(C(H=>H+k),T(!0),s(H=>H.map((re,Ne)=>Ne===a?{...re,extensions:re.extensions+1}:re)),ie(H=>({...H,totalExtensions:H.totalExtensions+1})))},ei=H=>{const re=localStorage.getItem(Dw),Ne=re?JSON.parse(re):[],ze={id:Date.now().toString(),date:new Date().toISOString(),stats:H};Ne.unshift(ze),Ne.length>20&&Ne.pop(),localStorage.setItem(Dw,JSON.stringify(Ne)),B(Ne)},qt=()=>{P(!1),xe(!0)},zt=()=>{var re;let H=be.current/1e3;return le.current>0&&(H+=(Date.now()-le.current)/1e3),H>0&&S<g&&S>0?{shotIndex:X.shotCount,duration:Math.max(0,H),playerName:r==="scotch-doubles"?(Me==null?void 0:Me.players[m])||"Unknown":r==="two-player"?(Pe==null?void 0:Pe.name)||"Unknown":((re=o[0])==null?void 0:re.name)||"Player 1",teamName:r==="scotch-doubles"?Me==null?void 0:Me.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},pr=(H,re)=>{const Ne=zt(),ze={rackNumber:z,winner:H,winnerType:re,shotEvents:pe,timestamp:Date.now()};ie(Ve=>{const tt={...Ve};return Ne&&(tt.shotDurations=[...Ve.shotDurations,Ne.duration],tt.shotCount=Ve.shotCount+1,tt.shotEvents=[...Ve.shotEvents||[],Ne]),tt.rackResults=[...Ve.rackResults||[],ze],tt}),we(Ve=>Ve+1),ce([]),se(!1),be.current=0,le.current=Date.now(),C(g),T(!1),P(!0)},Un=()=>{xe(!1),hn();const H={...X,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Ne=>Ne.name)},re=zt();re&&(H.shotDurations=[...H.shotDurations,re.duration],H.shotCount+=1,H.shotEvents=[...H.shotEvents||[],re]),be.current=0,le.current=0,ie(H),ei(H),we(1),ce([]),n("summary")},Gt=()=>{hn(),C(g),T(!1),s(H=>H.map(re=>({...re,extensions:0}))),d(H=>H.map(re=>({...re,extensions:0}))),l(0),h(0),y(0),ie({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),le.current=0,be.current=0,we(1),ce([]),n("setup")},er=()=>{xe(!1),P(!0),le.current=Date.now()},zn=()=>{var H;return r==="scotch-doubles"?u.map(re=>({name:re.name,type:"team"})):r==="two-player"?o.map(re=>({name:re.name,type:"player"})):[{name:((H=o[0])==null?void 0:H.name)||"Player 1",type:"player"}]},xn=H=>{v(H),C(H),w(H)},ao=()=>{v(x),C(x)},$i=()=>{var re,Ne,ze,Ve,tt,G,Ae,De,Z,ge,qe,We;hn(),ke.current=0,r==="two-player"?s([{name:((re=o[0])==null?void 0:re.name)||"Player 1",extensions:0},{name:((Ne=o[1])==null?void 0:Ne.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(jt=>jt.map(Rt=>({...Rt,extensions:0}))),h(0),y(0)):s([{name:((ze=o[0])==null?void 0:ze.name)||"Player 1",extensions:0}]),l(0),C(g),T(!1),be.current=0;let H;r==="scotch-doubles"?H=[`${(Ve=u[0])==null?void 0:Ve.name}: ${(tt=u[0])==null?void 0:tt.players[0]}, ${(G=u[0])==null?void 0:G.players[1]}`,`${(Ae=u[1])==null?void 0:Ae.name}: ${(De=u[1])==null?void 0:De.players[0]}, ${(Z=u[1])==null?void 0:Z.players[1]}`]:r==="two-player"?H=[((ge=o[0])==null?void 0:ge.name)||"Player 1",((qe=o[1])==null?void 0:qe.name)||"Player 2"]:H=[((We=o[0])==null?void 0:We.name)||"Player 1"],ie({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:H}),le.current=Date.now(),n("playing")},ti=(H,re)=>{s(Ne=>{const ze=[...Ne];return ze[H]||(ze[H]={name:"",extensions:0}),ze[H]={...ze[H],name:re},ze})},_s=(H,re)=>{d(Ne=>{const ze=[...Ne];return ze[H]={...ze[H],name:re},ze})},ni=(H,re,Ne)=>{d(ze=>{const Ve=[...ze],tt=[...Ve[H].players];return tt[re]=Ne,Ve[H]={...Ve[H],players:tt},Ve})},lo=()=>{localStorage.setItem(NR,"true"),$(!1),V(1)},Li=()=>X.shotDurations.length===0?0:X.shotDurations.reduce((re,Ne)=>re+Ne,0)/X.shotDurations.length,ri=H=>{const re=Math.floor(H/60),Ne=Math.floor(H%60);return re>0?`${re}m ${Ne}s`:`${Ne.toFixed(1)}s`},Nr=c.jsx(Yr,{open:O,onOpenChange:H=>{$(H),H||V(1)},children:c.jsxs(Ur,{className:"max-w-md",children:[c.jsxs(wr,{children:[c.jsx(Sr,{children:"Welcome to CueMaster: Tempo"}),c.jsx(Io,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),c.jsxs("div",{className:"space-y-4",children:[U===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),U===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),c.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(Wc,{className:"w-4 h-4 text-primary"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(Hm,{className:"w-4 h-4 text-destructive"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),U===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{children:["Background changes from ",c.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",c.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",c.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",c.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),c.jsx("li",{children:"Warning beeps in the final 5 seconds"}),c.jsx("li",{children:"Triple chime when time expires"}),c.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>V(H=>Math.max(1,H-1)),disabled:U===1,children:"Back"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>V(H=>Math.min(3,H+1)),disabled:U===3,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3].map(H=>c.jsx("div",{className:`w-2 h-2 rounded-full ${H===U?"bg-primary":"bg-muted"}`},H))}),c.jsx(de,{size:"sm",onClick:lo,"data-testid":"button-complete-tutorial",children:U===3?"Finish":"Skip"})]})]})}),mi=c.jsx(Yr,{open:st,onOpenChange:H=>{H||er()},children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsxs(wr,{children:[c.jsx(Sr,{children:"End Session?"}),c.jsx(Io,{className:"sr-only",children:"Confirm you want to end the session"})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(de,{variant:"outline",className:"w-full",onClick:er,"data-testid":"button-cancel-stop",children:"Cancel"}),c.jsx(de,{variant:"destructive",className:"w-full",onClick:Un,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),pa=c.jsx(Yr,{open:je,onOpenChange:H=>{H||(se(!1),P(!0),le.current=Date.now())},children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsxs(wr,{children:[c.jsxs(Sr,{children:["Who Won Rack ",z,"?"]}),c.jsx(Io,{className:"sr-only",children:"Select the winner of this rack"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsx("div",{className:"grid grid-cols-1 gap-2",children:zn().map(H=>c.jsx(de,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>pr(H.name,H.type),"data-testid":`button-winner-${H.name.replace(/\s+/g,"-").toLowerCase()}`,children:H.name},H.name))})}),c.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{se(!1),P(!0),le.current=Date.now()},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),jr=()=>r==="scotch-doubles"?(Me==null?void 0:Me.name)||"Team 1":(Pe==null?void 0:Pe.name)||"Player 1",ma=c.jsx(Yr,{open:Te,onOpenChange:H=>{H||(Xe(!1),P(!0),le.current=Date.now())},children:c.jsxs(Ur,{className:"max-w-sm",children:[c.jsxs(wr,{children:[c.jsx(Sr,{children:"Next Action"}),c.jsx(Io,{className:"sr-only",children:"Choose your next action"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx(de,{variant:"outline",className:"w-full h-auto py-3",onClick:gn,"data-testid":"button-new-stroke",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(rL,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold",children:"Next Shot"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Same player continues"})]})]})}),c.jsx(de,{variant:"outline",className:"w-full h-auto py-3",onClick:Ft,"data-testid":"button-end-turn",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Wc,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold",children:"End Turn"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:r==="scotch-doubles"?"Switch to other team":r==="two-player"?"Switch to other player":"End turn"})]})]})}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx(de,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:Ge,"data-testid":"button-player-won",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Rs,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[jr()," Won"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),c.jsx(de,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:Hr,"data-testid":"button-player-lost",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Rb,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[jr()," Lost"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),c.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{Xe(!1),P(!0),le.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(e==="summary"){const H=Li(),re=X.endTime?(X.endTime-X.startTime)/1e3:0;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:Gt,"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:c.jsx(Ey,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:X.playerMode==="two-player"?X.playerNames.join(" vs "):X.playerNames[0]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(rT,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:ri(H)})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Wc,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:X.shotCount})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Rh,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:X.totalExtensions})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(iT,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:X.timeouts})]})]})]}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),c.jsxs("span",{className:"font-medium",children:[X.duration,"s"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),c.jsx("span",{className:"font-medium",children:ri(re)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),c.jsx("span",{className:"font-medium capitalize",children:X.playerMode.replace("-"," ")})]})]})]}),X.rackResults&&X.rackResults.length>0&&c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Rs,{className:"w-5 h-5 text-primary"}),c.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),c.jsx("div",{className:"space-y-2",children:X.rackResults.map((Ne,ze)=>c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Ne.rackNumber]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"font-medium text-foreground",children:Ne.winner})]})]},ze))})]}),X.shotEvents&&X.shotEvents.length>0&&(()=>{var De;const Ne=X.shotEvents.reduce((Z,ge)=>(Z[ge.playerName]||(Z[ge.playerName]={shots:[],total:0,teamName:ge.teamName}),Z[ge.playerName].shots.push(ge),Z[ge.playerName].total+=ge.duration,Z),{}),ze=X.shotEvents.reduce((Z,ge)=>(ge.teamName&&(Z[ge.teamName]||(Z[ge.teamName]={shots:[],total:0}),Z[ge.teamName].shots.push(ge),Z[ge.teamName].total+=ge.duration),Z),{}),Ve=Object.keys(Ne),tt=Object.keys(ze),Ae=(()=>{if(!X.rackResults||X.rackResults.length===0)return null;const Z={},ge={};return X.rackResults.forEach(qe=>{qe.shotEvents.forEach(We=>{qe.winnerType==="team"&&We.teamName===qe.winner||qe.winnerType==="player"&&We.playerName===qe.winner?(Z[We.playerName]||(Z[We.playerName]={wins:0,totalTime:0,shots:0}),Z[We.playerName].totalTime+=We.duration,Z[We.playerName].shots+=1):(ge[We.playerName]||(ge[We.playerName]={losses:0,totalTime:0,shots:0}),ge[We.playerName].totalTime+=We.duration,ge[We.playerName].shots+=1)}),qe.winnerType==="player"&&(Z[qe.winner]||(Z[qe.winner]={wins:0,totalTime:0,shots:0}),Z[qe.winner].wins+=1)}),{winnerTotals:Z,loserTotals:ge}})();return c.jsxs(c.Fragment,{children:[c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),c.jsxs(G_,{className:"w-full",opts:{align:"start",loop:Ve.length>1},children:[c.jsx(K_,{className:"-ml-2",children:Ve.map(Z=>{const ge=Ne[Z],qe=ge.total/ge.shots.length;return c.jsx(Y_,{className:"pl-2 basis-full sm:basis-1/2",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Zf,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-foreground",children:Z})]}),ge.teamName&&c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:ge.teamName}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),c.jsx("p",{className:"font-bold text-primary",children:ri(qe)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold",children:ge.shots.length})]})]})]})},Z)})}),Ve.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(X_,{className:"static translate-y-0"}),c.jsx(Q_,{className:"static translate-y-0"})]})]})]}),tt.length>0&&c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:tt.map(Z=>{const ge=ze[Z],qe=ge.total/ge.shots.length;return c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:Z}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:ri(qe)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ge.shots.length," shots)"]})]})]},Z)})})]}),c.jsx(nt,{className:"p-6",children:c.jsx(ah,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(_o,{value:"charts",className:"border-none",children:[c.jsx(Eo,{className:"hover:no-underline py-0",children:c.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),c.jsx(To,{children:c.jsxs(G_,{className:"w-full mt-4",opts:{align:"start",loop:Ve.length>1},children:[c.jsx(K_,{className:"-ml-2",children:Ve.map(Z=>{const ge=Ne[Z],qe=ge.shots.map((We,jt)=>({shot:jt+1,duration:parseFloat(We.duration.toFixed(1))}));return c.jsx(Y_,{className:"pl-2 basis-full",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Zf,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium text-foreground",children:Z}),ge.teamName&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",ge.teamName,")"]})]}),c.jsx("div",{className:"h-40",children:c.jsx(wve,{width:"100%",height:"100%",children:c.jsxs(bNe,{data:qe,children:[c.jsx(H0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),c.jsx(q0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:We=>`${We}s`}),c.jsx(Xo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:We=>`Shot ${We}`,formatter:We=>[`${We}s`,"Duration"]}),c.jsx(pm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},Z)})}),Ve.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(X_,{className:"static translate-y-0"}),c.jsx(Q_,{className:"static translate-y-0"})]})]})})]})})}),Ae&&(((De=X.rackResults)==null?void 0:De.length)??0)>0&&c.jsx(nt,{className:"p-6",children:c.jsx(ah,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(_o,{value:"advanced",className:"border-none",children:[c.jsx(Eo,{className:"hover:no-underline py-0",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(D1,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),c.jsx(To,{children:c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rs,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(Ae.winnerTotals).map(([Z,ge])=>ge.shots>0&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(D1,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"font-medium text-foreground",children:Z})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-green-500",children:ri(ge.totalTime/ge.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ge.shots," shots)"]})]})]},Z))})]}),Object.keys(Ae.loserTotals).length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rb,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(Ae.loserTotals).map(([Z,ge])=>ge.shots>0&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rb,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"font-medium text-foreground",children:Z})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-red-500",children:ri(ge.totalTime/ge.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ge.shots," shots)"]})]})]},Z))})]}),tt.length>0&&X.rackResults&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Bl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),c.jsx("div",{className:"space-y-2",children:tt.map(Z=>{var We,jt;const ge=((We=X.rackResults)==null?void 0:We.filter(Rt=>Rt.winner===Z).length)||0,qe=(((jt=X.rackResults)==null?void 0:jt.length)||0)-ge;return c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:Z}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:[ge,"W"]}),c.jsxs("span",{className:"text-red-500 font-bold",children:[qe,"L"]})]})]})},Z)})})]})]})})]})})})]})})(),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),c.jsxs(de,{onClick:Gt,className:"w-full",size:"lg","data-testid":"button-new-session",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:Ar,"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:c.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[c.jsxs(nt,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(nL,{className:"w-8 h-8 text-primary"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",c.jsxs("span",{className:"font-mono font-bold text-foreground",children:[S,"s"]})]}),c.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold text-lg",children:X.shotCount})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),c.jsx("p",{className:"font-bold text-lg",children:X.totalExtensions})]})]})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(de,{onClick:Ar,className:"w-full",size:"lg","data-testid":"button-resume",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),c.jsxs(de,{onClick:pn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[c.jsx(uH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),c.jsxs(de,{onClick:qt,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[c.jsx(Hm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>$(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(de,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[c.jsx(Zf,{className:"w-4 h-4 mr-2"}),"Solo"]}),c.jsxs(de,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),c.jsxs(Zre,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[c.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&c.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),c.jsx("div",{className:"space-y-6",children:[0,1].map(H=>{var re,Ne,ze;return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs(tn,{htmlFor:`team${H+1}-name`,children:["Team ",H+1," Name"]}),c.jsx(lr,{id:`team${H+1}-name`,value:((re=u[H])==null?void 0:re.name)||"",onChange:Ve=>_s(H,Ve.target.value),placeholder:`Team ${H+1}`,className:"mt-1","data-testid":`input-team${H+1}-name`})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(tn,{htmlFor:`team${H+1}-player1`,children:"Partner 1"}),c.jsx(lr,{id:`team${H+1}-player1`,value:((Ne=u[H])==null?void 0:Ne.players[0])||"",onChange:Ve=>ni(H,0,Ve.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${H+1}-player1`})]}),c.jsxs("div",{children:[c.jsx(tn,{htmlFor:`team${H+1}-player2`,children:"Partner 2"}),c.jsx(lr,{id:`team${H+1}-player2`,value:((ze=u[H])==null?void 0:ze.players[1])||"",onChange:Ve=>ni(H,1,Ve.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${H+1}-player2`})]})]})]},H)})})]}):c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(tn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),c.jsx(lr,{id:"player1-name",value:((gi=o[0])==null?void 0:gi.name)||"",onChange:H=>ti(0,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&c.jsxs("div",{children:[c.jsx(tn,{htmlFor:"player2-name",children:"Player 2"}),c.jsx(lr,{id:"player2-name",value:((Mn=o[1])==null?void 0:Mn.name)||"",onChange:H=>ti(1,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(H=>c.jsxs(de,{variant:g===H?"default":"outline",onClick:()=>xn(H),"data-testid":`button-preset-${H}`,children:[H,"s"]},H))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(lr,{type:"number",min:"5",max:"300",value:x,onChange:H=>w(parseInt(H.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),c.jsx(de,{onClick:ao,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&c.jsx(nt,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),c.jsx(Ni,{checked:j,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),c.jsxs(de,{onClick:$i,className:"w-full",size:"lg","data-testid":"button-start-game",children:[c.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start Game"]}),F.length>0&&c.jsx(ah,{type:"single",collapsible:!0,className:"mt-4",children:c.jsxs(_o,{value:"history",className:"border rounded-lg",children:[c.jsx(Eo,{className:"px-4 hover:no-underline","data-testid":"accordion-session-history",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ey,{className:"w-4 h-4 text-primary"}),c.jsxs("span",{children:["Session History (",F.length,")"]})]})}),c.jsx(To,{className:"px-4 pb-4",children:c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:F.slice(0,10).map(H=>{const re=new Date(H.date),Ne=H.stats.shotDurations.length>0?H.stats.shotDurations.reduce((ze,Ve)=>ze+Ve,0)/H.stats.shotDurations.length:0;return c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("span",{className:"text-sm font-medium",children:[re.toLocaleDateString()," ",re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),c.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:H.stats.playerMode.replace("-"," ")})]}),c.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{children:[H.stats.shotCount," shots"]}),c.jsxs("span",{children:["Avg: ",Ne.toFixed(1),"s"]}),H.stats.rackResults&&H.stats.rackResults.length>0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Rs,{className:"w-3 h-3 text-amber-500"}),H.stats.rackResults.length," racks"]})]})]},H.id)})})})]})})]})}),Nr]});const Es=()=>{S===0?(C(g),T(!1),le.current=Date.now(),P(!0)):E?Ut():Tt()};return c.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex-[2] relative min-h-0",children:[c.jsx(tje,{seconds:S,totalSeconds:g,playerName:r==="solo"?Pe==null?void 0:Pe.name:void 0,isExtension:_,isRunning:E,onClick:Es}),c.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[c.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",X.shotCount+1]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:Bn,"data-testid":"button-pause-menu",children:c.jsx(pH,{className:"w-5 h-5"})}),c.jsxs(Yr,{children:[c.jsx(cne,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})}),c.jsxs(Ur,{children:[c.jsx(wr,{children:c.jsx(Sr,{children:"Quick Settings"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(tn,{children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(H=>c.jsxs(de,{variant:g===H?"default":"outline",size:"sm",onClick:()=>{xn(H),E||C(H)},"data-testid":`button-quick-${H}`,children:[H,"s"]},H))})]}),r==="solo"&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(tn,{children:"Continuous Play"}),c.jsx(Ni,{checked:j,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:c.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((H,re)=>c.jsx("button",{onClick:()=>{a!==re&&(l(re),C(g),T(!1),_e())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${re+1}`,children:H.name},re))})}),r==="scotch-doubles"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:c.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[c.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:u.map((H,re)=>c.jsx("button",{onClick:()=>{f!==re&&(h(re),y(0),C(g),T(!1),_e())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${re+1}`,children:H.name},re))}),c.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",Me==null?void 0:Me.players[m]]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:c.jsxs("button",{onClick:Pr,disabled:r==="scotch-doubles"?((Me==null?void 0:Me.extensions)||0)>=N||S===0:((Pe==null?void 0:Pe.extensions)||0)>=N||S===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[c.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),c.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(Me==null?void 0:Me.extensions)||0:(Pe==null?void 0:Pe.extensions)||0,"/",N," used)"]})]})})]}),r==="scotch-doubles"?c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:qt,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(Hm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),c.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:hr,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[c.jsx(Bl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),c.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),c.jsxs("button",{onClick:mn,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(Wc,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),c.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),c.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:qt,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(Hm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:mn,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(Wc,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),c.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),mi,pa,ma]})}function rje({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[c.jsx("div",{className:"absolute w-px h-full bg-muted"}),c.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function p9({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=b.useState(0),s=b.useRef(0),a=b.useRef(0),l=n[i],u=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,y=h.changedTouches[0].clientY,g=m-s.current,v=y-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(x=>x-1):g<0&&i<n.length-1&&o(x=>x+1))},f=()=>{o(0),e()};return c.jsx(Yr,{open:t,onOpenChange:f,children:c.jsx(Ur,{className:"max-w-md [&>button]:hidden",onTouchStart:u,onTouchEnd:d,children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),c.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),c.jsx(de,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:c.jsx(qp,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"min-h-[200px]",children:l.content}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs(de,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[c.jsx(rH,{className:"w-4 h-4 mr-1"}),"Back"]}),c.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>c.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?c.jsxs(de,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",c.jsx(eL,{className:"w-4 h-4 ml-1"})]}):c.jsx(de,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const jR="tableLevel_tutorial_seen";function ije(){const[,t]=vl(),{toast:e}=jd(),[n,r]=b.useState(0),[i,o]=b.useState(0),[s,a]=b.useState({x:0,y:0}),[l,u]=b.useState("home"),[d,f]=b.useState(!1),[h,m]=b.useState(!1),[y,g]=b.useState(!1),[v,x]=b.useState(null),w=b.useRef(null),S=b.useRef(null),C=[{title:"How It Works",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),c.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),c.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[c.jsx("li",{children:"Place your device flat on a surface you know is level"}),c.jsxs("li",{children:["Tap ",c.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),c.jsx("li",{children:"Hold still for 2 seconds while it samples"}),c.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Save different calibrations for different locations:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),c.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];b.useEffect(()=>(Ct.startSession("truelevel"),()=>{Ct.endSession()}),[]),b.useEffect(()=>{localStorage.getItem(jR)||g(!0)},[]);const E=()=>{localStorage.setItem(jR,"true"),g(!1)};b.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),b.useEffect(()=>{if(!h)return;let N=!1;const k=j=>{j.beta!==null&&j.gamma!==null&&(N||(N=!0,x(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-s.x),o(j.beta-s.y-90))};return window.addEventListener("deviceorientation",k),w.current=setTimeout(()=>{N||(x(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),w.current&&clearTimeout(w.current)}},[s,h,e]);const P=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const N=[];let k=0;const j=10,R=()=>{if(S.current&&(N.push({x:S.current.gamma,y:S.current.beta-90}),k++,k>=j)){const O=N.reduce((F,B)=>F+B.x,0)/N.length,$=N.reduce((F,B)=>F+B.y,0)/N.length;a({x:O,y:$}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:O,y:$})),Ct.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<j&&setTimeout(R,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}R()},300)},_=N=>{u(N);const k=localStorage.getItem(`tableLevel_${N}`);k&&(a(JSON.parse(k)),e({title:"Preset loaded",description:`${N.charAt(0).toUpperCase()+N.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(p9,{open:y,onComplete:E,pages:C,toolName:"Table Level Gauge"}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&c.jsx(nt,{className:"p-4 border-destructive bg-destructive/10",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(iT,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[c.jsx(SH,{className:"w-4 h-4"}),c.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&c.jsx(nt,{className:"p-4 border-muted",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Detecting orientation sensors..."})]})}),c.jsx("div",{className:"flex justify-center",children:c.jsx(rje,{tiltX:n,tiltY:i,isCalibrating:d})}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),c.jsx(tv,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:c.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[c.jsx(de,{variant:l==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),c.jsx(de,{variant:l==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),c.jsx(de,{variant:l==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{className:"flex-1",onClick:P,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),c.jsx(de,{variant:"outline",onClick:T,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),c.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs(nt,{className:"p-6 max-w-md text-center",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),c.jsx(de,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var m9=["PageUp","PageDown"],g9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],y9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},nf="Slider",[J_,oje,sje]=zp(nf),[v9,i2e]=Di(nf,[sje]),[aje,X0]=v9(nf),x9=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=t,v=b.useRef(new Set),x=b.useRef(0),S=s==="horizontal"?lje:cje,[C=[],E]=Fo({prop:d,defaultProp:u,onChange:j=>{var O;(O=[...v.current][x.current])==null||O.focus(),f(j)}}),P=b.useRef(C);function _(j){const R=pje(C,j);k(j,R)}function T(j){k(j,x.current)}function N(){const j=P.current[x.current];C[x.current]!==j&&h(C)}function k(j,R,{commit:O}={commit:!1}){const $=vje(o),F=xje(Math.round((j-r)/o)*o+r,$),B=Xh(F,[r,i]);E((U=[])=>{const V=fje(U,B,R);if(yje(V,l*o)){x.current=V.indexOf(B);const W=String(V)!==String(U);return W&&O&&h(V),W?V:U}else return U})}return c.jsx(aje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:v.current,values:C,orientation:s,form:y,children:c.jsx(J_.Provider,{scope:t.__scopeSlider,children:c.jsx(J_.Slot,{scope:t.__scopeSlider,children:c.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Le(g.onPointerDown,()=>{a||(P.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const F=m9.includes(j.key)||j.shiftKey&&g9.includes(j.key)?10:1,B=x.current,U=C[B],V=o*F*R;k(U+V,B,{commit:!0})}}})})})})});x9.displayName=nf;var[b9,w9]=v9(nf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lje=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=vt(e,S=>h(S)),y=b.useRef(void 0),g=Ud(i),v=g==="ltr",x=v&&!o||!v&&o;function w(S){const C=y.current||f.getBoundingClientRect(),E=[0,C.width],_=HA(E,x?[n,r]:[r,n]);return y.current=C,_(S-C.left)}return c.jsx(b9,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(S9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);s==null||s(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=y9[x?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:E?-1:1})}})})}),cje=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=vt(e,d),h=b.useRef(void 0),m=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],S=HA(x,m?[r,n]:[n,r]);return h.current=v,S(g-v.top)}return c.jsx(b9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(S9,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=y(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=y9[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),S9=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=X0(nf,n);return c.jsx(et.span,{...u,ref:e,onKeyDown:Le(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):m9.concat(g9).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Le(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Le(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Le(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),_9="SliderTrack",E9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(_9,n);return c.jsx(et.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});E9.displayName=_9;var Z_="SliderRange",T9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=X0(Z_,n),o=w9(Z_,n),s=b.useRef(null),a=vt(e,s),l=i.values.length,u=i.values.map(h=>A9(h,i.min,i.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(et.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});T9.displayName=Z_;var eE="SliderThumb",C9=b.forwardRef((t,e)=>{const n=oje(t.__scopeSlider),[r,i]=b.useState(null),o=vt(e,a=>i(a)),s=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(uje,{...t,ref:o,index:s})}),uje=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=X0(eE,n),a=w9(eE,n),[l,u]=b.useState(null),d=vt(e,w=>u(w)),f=l?s.form||!!l.closest("form"):!0,h=hT(l),m=s.values[r],y=m===void 0?0:A9(m,s.min,s.max),g=hje(r,s.values.length),v=h==null?void 0:h[a.size],x=v?mje(v,y,a.direction):0;return b.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(J_.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(et.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Le(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&c.jsx(dje,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});C9.displayName=eE;var dje=t=>{const{value:e,...n}=t,r=b.useRef(null),i=mC(e);return b.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const u=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(u)}},[i,e]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function fje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function A9(t,e,n){const o=100/(n-e)*(t-e);return Xh(o,[0,100])}function hje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function pje(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function mje(t,e,n){const r=t/2,o=HA([0,50],[0,r]);return(r-o(e)*n)*n}function gje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function yje(t,e){if(e>0){const n=gje(t);return Math.min(...n)>=e}return!0}function HA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function vje(t){return(String(t).split(".")[1]||"").length}function xje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var P9=x9,bje=E9,wje=T9,Sje=C9;const Xc=b.forwardRef(({className:t,...e},n)=>c.jsxs(P9,{ref:n,className:ct("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(bje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(wje,{className:"absolute h-full bg-primary"})}),c.jsx(Sje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Xc.displayName=P9.displayName;const IR="cueEmulator_tutorial_seen",Ke=14,ln=1600,wn=800,He=24,kR=.05,OR=.2,Qc=28,_je=(ln-He*2)/8,Eje=(wn-He*2)/4,Be=Array.from({length:9},(t,e)=>He+e*_je),Ue=Array.from({length:5},(t,e)=>He+e*Eje),jf=[{x:He,y:He,angle:Math.PI/4},{x:ln/2,y:He-2,angle:Math.PI/2},{x:ln-He,y:He,angle:3*Math.PI/4},{x:He,y:wn-He,angle:-Math.PI/4},{x:ln/2,y:wn-He+2,angle:-Math.PI/2},{x:ln-He,y:wn-He,angle:-3*Math.PI/4}],Tje=Qc+Ke*.5,RR=({size:t=16})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:"cueBallGradient",cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f5f5f5"}),c.jsx("stop",{offset:"100%",stopColor:"#cccccc"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#cueBallGradient)",stroke:"#aaa",strokeWidth:"0.5"}),c.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"rgba(255,255,255,0.7)"})]}),MR=({size:t=16,color:e="#DC143C"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:`solidBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),c.jsx("stop",{offset:"40%",stopColor:e}),c.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.5)",stopOpacity:"1"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#solidBallGradient-${e.replace("#","")})`}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.5)"})]}),DR=({size:t=16,color:e="#FDB515"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsxs("defs",{children:[c.jsxs("radialGradient",{id:`stripeBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f8f8f8"}),c.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),c.jsx("clipPath",{id:"ballClip",children:c.jsx("circle",{cx:"12",cy:"12",r:"10"})})]}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#stripeBallGradient-${e.replace("#","")})`}),c.jsx("rect",{x:"2",y:"8",width:"20",height:"8",fill:e,clipPath:"url(#ballClip)",opacity:"0.9"}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.6)"})]}),$R=({size:t=16})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:"eightBallGradient",cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#4a4a4a"}),c.jsx("stop",{offset:"40%",stopColor:"#1a1a1a"}),c.jsx("stop",{offset:"100%",stopColor:"#000000"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#eightBallGradient)"}),c.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"white"}),c.jsx("text",{x:"12",y:"14",textAnchor:"middle",fontSize:"6",fontWeight:"bold",fill:"black",children:"8"}),c.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"rgba(255,255,255,0.4)"})]}),jl={1:{name:"Solid",color:"#DC143C",type:"solid"},2:{name:"Solid",color:"#DC143C",type:"solid"},3:{name:"Solid",color:"#DC143C",type:"solid"},4:{name:"Solid",color:"#DC143C",type:"solid"},5:{name:"Solid",color:"#DC143C",type:"solid"},6:{name:"Solid",color:"#DC143C",type:"solid"},7:{name:"Solid",color:"#DC143C",type:"solid"},8:{name:"8-Ball",color:"#000000",type:"eight"},9:{name:"Stripe",color:"#FDB515",type:"stripe"},10:{name:"Stripe",color:"#FDB515",type:"stripe"},11:{name:"Stripe",color:"#FDB515",type:"stripe"},12:{name:"Stripe",color:"#FDB515",type:"stripe"},13:{name:"Stripe",color:"#FDB515",type:"stripe"},14:{name:"Stripe",color:"#FDB515",type:"stripe"},15:{name:"Stripe",color:"#FDB515",type:"stripe"}},Cje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Be[6],y:Ue[2]},{x:Be[1],y:Ue[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Be[7],y:Ue[1]},{x:Be[1],y:Ue[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Be[4],y:Ue[1]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Be[2],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[2],y:Ue[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Be[4],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Be[7],y:Ue[1]},{x:Be[6],y:Ue[2]},{x:Be[5],y:Ue[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Be[4],y:Ue[1]},{x:Be[6],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[2],y:Ue[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Be[3],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[5],y:Ue[1]},{x:Be[4],y:Ue[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Be[1],y:Ue[1]},{x:Be[7],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Be[4],y:Ue[1]},{x:Be[3],y:Ue[2]},{x:Be[4],y:Ue[2]},{x:Be[5],y:Ue[2]},{x:Be[4],y:Ue[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Be[3],y:Ue[1]},{x:Be[5],y:Ue[1]},{x:Be[4],y:Ue[2]},{x:Be[3],y:Ue[3]},{x:Be[5],y:Ue[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Be[1],y:Ue[1]},{x:Be[7],y:Ue[1]},{x:Be[1],y:Ue[2]},{x:Be[7],y:Ue[2]},{x:Be[1],y:Ue[3]},{x:Be[7],y:Ue[3]}]}};function Aje(){const[,t]=vl(),{toast:e}=jd(),n=b.useRef(null),[r,i]=b.useState(null),[o,s]=b.useState([]),[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(!0),[m,y]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(.5),[_,T]=b.useState(0),[N,k]=b.useState(0),[j,R]=b.useState(.5),[O,$]=b.useState(.5),[F,B]=b.useState("9ft"),[U,V]=b.useState(!1),[W,ne]=b.useState([]),[X,ie]=b.useState(""),[le,be]=b.useState(null),[ke,st]=b.useState(null),[xe,je]=b.useState(null),[se,pe]=b.useState([null,null,null]),[ce,z]=b.useState(!1),we=b.useRef(null),[Te,Xe]=b.useState(!1),[Qe,at]=b.useState(0),[pt,_e]=b.useState([]),[Pe,Me]=b.useState([]);b.useState(new Set);const Tt=b.useRef(null),Ut=b.useRef(0),[rn,hn]=b.useState(!1),[Bn,Ar]=b.useState(!1);b.useEffect(()=>{const M=()=>{Ar(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),b.useEffect(()=>(Ct.startSession("vectors"),()=>{Ct.endSession()}),[]);const pn=[{title:"Ball Placement",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Place balls on the table using the control buttons:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(RR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(MR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (1-7)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(DR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (9-15)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx($R,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"8-Ball:"})," The black 8-ball (one per table)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(DN,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Move:"})," Drag any ball to reposition it"]})]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Snap to Grid:"})," Enable to align balls precisely on diamond intersections."]})})]})},{title:"Aiming & Shooting",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-white rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"White line:"})," Cue ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"rgba(255,255,0,0.2)",stroke:"#ffff00",strokeWidth:"2",strokeDasharray:"4 3"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Contact point indicator"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-cyan-400 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cyan line:"})," Object ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-red-500 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Red line:"})," Cue ball deflection"]})]})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Shown below table (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),c.jsxs("div",{className:"flex items-center gap-3 my-3",children:[c.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded"}),c.jsx("span",{className:"text-xs",children:"Power: 0-100%"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 50 50",className:"border border-muted rounded",children:[c.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),c.jsx("circle",{cx:"25",cy:"18",r:"4",fill:"hsl(var(--primary))"}),c.jsx("text",{x:"25",y:"45",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"English"})]}),c.jsx("span",{className:"text-xs",children:"Click to apply top/bottom spin and left/right english"})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Physics:"})," Includes spin transfer, rail cushion effects, and pocket detection."]})})]})},{title:"Table Conditions",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Customize the playing environment:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),c.jsxs("p",{className:"mt-3",children:["Use ",c.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];b.useEffect(()=>{localStorage.getItem(IR)||z(!0)},[]);const mn=()=>{localStorage.setItem(IR,"true"),z(!1)};b.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${F}`);if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3?pe(L):pe([null,null,null])}catch(L){console.error("Failed to load table presets:",L),pe([null,null,null])}else pe([null,null,null])},[F]);const Ht=M=>{const L=[...se];L[M]={clothSpeed:j,cushionQuality:O,name:`Slot ${M+1}`},pe(L),localStorage.setItem(`cueEmulator_tablePresets_${F}`,JSON.stringify(L)),e({title:`Saved to Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(O*100)}%`})},gn=M=>{const L=se[M];L?(R(L.clothSpeed),$(L.cushionQuality),e({title:`Loaded Slot ${M+1} (${F})`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},Ft=M=>{we.current=setTimeout(()=>{Ht(M),we.current=null},600)},Ge=M=>{we.current&&(clearTimeout(we.current),we.current=null,gn(M))},Hr=b.useCallback(()=>.85+.1*O,[O]),hr=b.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[F]||M["9ft"]},[F]),Pr=b.useCallback(()=>{const{lengthInches:L}=hr();return L/100},[hr]),ei=b.useCallback(()=>{const M=.3-.15*j,K=1+(1-Pr())*.3;return M*K},[j,Pr]),qt=b.useCallback((M,L)=>{for(const K of jf){const Q=M-K.x,J=L-K.y;if(Math.sqrt(Q*Q+J*J)<Tje)return!0}return!1},[]),zt=b.useCallback((M,L)=>{const K=He+Ke,Q=ln-He-Ke,J=He+Ke,ue=wn-He-Ke;let ae=Math.max(K,Math.min(Q,M)),te=Math.max(J,Math.min(ue,L));if(qt(ae,te)){let ye=ae,Ee=te,Se=1/0;for(const Oe of Be)for(const ft of Ue)if(Oe>=K&&Oe<=Q&&ft>=J&&ft<=ue&&!qt(Oe,ft)){const on=Math.sqrt((M-Oe)**2+(L-ft)**2);on<Se&&(Se=on,ye=Oe,Ee=ft)}return{x:ye,y:Ee}}return{x:ae,y:te}},[qt]),pr=b.useCallback((M,L,K,Q)=>{const J=Ke*2.1;if(r&&!Q&&Math.sqrt((M-r.x)**2+(L-r.y)**2)<J)return!0;for(let ue=0;ue<o.length;ue++){if(K!==void 0&&ue===K)continue;const ae=o[ue];if(Math.sqrt((M-ae.x)**2+(L-ae.y)**2)<J)return!0}return!1},[r,o]),Un=b.useCallback((M,L,K,Q)=>{const J=He+Ke,ue=ln-He-Ke,ae=He+Ke,te=wn-He-Ke;if(!f)return zt(M,L);const ye=[];for(const Ee of Be)for(const Se of Ue)if(Ee>=J&&Ee<=ue&&Se>=ae&&Se<=te&&!qt(Ee,Se)){const Oe=Math.sqrt((M-Ee)**2+(L-Se)**2);ye.push({x:Ee,y:Se,dist:Oe})}ye.sort((Ee,Se)=>Ee.dist-Se.dist);for(const Ee of ye)if(!pr(Ee.x,Ee.y,K,Q))return{x:Ee.x,y:Ee.y};return ye.length>0?{x:ye[0].x,y:ye[0].y}:zt(M,L)},[f,qt,zt,pr]),Gt=b.useCallback(M=>{const L=o.map(K=>K.number).filter(K=>K!==void 0);if(M==="solid"){for(let K=1;K<=7;K++)if(!L.includes(K))return K}else if(M==="stripe"){for(let K=9;K<=15;K++)if(!L.includes(K))return K}else if(M==="eight"&&!L.includes(8))return 8;return null},[o]),er=b.useCallback(()=>o.some(M=>M.number===8),[o]),zn=b.useCallback((M,L)=>{for(const K of jf){const Q=M-K.x,J=L-K.y;if(Math.sqrt(Q*Q+J*J)<Qc)return!0}return!1},[]),xn=(M,L)=>{const K=L.x-M.x,Q=L.y-M.y;return Math.sqrt(K*K+Q*Q)},ao=b.useCallback((M,L)=>{let K=null,Q=1/0;for(const J of jf){const ue=J.x-M.x,ae=J.y-M.y,te=Math.sqrt(ue*ue+ae*ae);if(te<Ke*2)continue;const ye=ue/te,Ee=ae/te,Se=M.x-ye*(Ke*2),Oe=M.y-Ee*(Ke*2),ft=Se-L.x,on=Oe-L.y,Wn=Math.sqrt(ft*ft+on*on);if(Wn<Ke*2)continue;const Fi=ft/Wn,mr=on/Wn,yi=Fi*ye+mr*Ee,Ts=Math.acos(Math.max(-1,Math.min(1,yi)))*(180/Math.PI);Ts<Q&&(Q=Ts,K={pocket:J,angle:Ts,ghostBall:{x:Se,y:Oe}})}return K},[]),$i=b.useCallback((M,L)=>{if(o.length===0)return null;const K=L.x-M.x,Q=L.y-M.y,J=Math.sqrt(K*K+Q*Q);if(J<1)return null;const ue=K/J,ae=Q/J;let te=null,ye=1/0;for(const Ee of o){const Se=Ee.x-M.x,Oe=Ee.y-M.y,ft=Math.sqrt(Se*Se+Oe*Oe),on=Se*ue+Oe*ae;if(on<=0)continue;const Wn=Se-on*ue,Fi=Oe-on*ae;Math.sqrt(Wn*Wn+Fi*Fi)<Ke*3&&ft<ye&&(ye=ft,te=Ee)}return te},[o]),ti=b.useCallback((M,L)=>{if(!m)return null;const K=$i(M,L);if(!K)return null;const Q=ao(K,M);return!Q||Q.angle<15?null:Q.ghostBall},[m,$i,ao]),_s=b.useCallback(M=>{const L=Hr(),K=He,Q=ln-He,J=He,ue=wn-He;let ae=!1;return M.x-Ke<K&&(M.x=K+Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ae=!0),M.x+Ke>Q&&(M.x=Q-Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ae=!0),M.y-Ke<J&&(M.y=J+Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ae=!0),M.y+Ke>ue&&(M.y=ue-Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ae=!0),ae},[Hr]),ni=b.useCallback((M,L,K,Q)=>{var gm,co,ym;if(!r)return null;const J=K-M,ue=Q-L,ae=Math.sqrt(J*J+ue*ue);if(ae<10)return null;const te=J/ae,ye=ue/ae,Se=E*15,Oe={x:r.x,y:r.y,vx:te*Se,vy:ye*Se,spinX:_,spinY:N},ft=o.map(Mt=>({...Mt,vx:0,vy:0,spinX:0,spinY:0})),on=ei(),Wn=300,Fi=[{x:Oe.x,y:Oe.y}],mr=ft.map(()=>[]);let yi=null,Ts=null,rf=null,of=null,sf=null;const Zt=[Oe,...ft],ii=new Array(Zt.length).fill(!1),Q0=Mt=>{for(const bn of jf){const uo=Mt.x-bn.x,oi=Mt.y-bn.y;if(Math.sqrt(uo*uo+oi*oi)<Qc-Ke*.3)return!0}return!1},J0=(Mt,bn,uo)=>{const oi=bn.x-Mt.x,vi=bn.y-Mt.y,xi=Math.sqrt(oi*oi+vi*vi);if(xi>=Ke*2||xi===0)return!1;const Yt=oi/xi,Je=vi/xi,mt=-Je,fo=Yt,gr=Mt.vx-bn.vx,Ir=Mt.vy-bn.vy,si=gr*Yt+Ir*Je,ga=gr*mt+Ir*fo;if(si<=0)return!1;const af=Mt.spinX*.15*Math.abs(ga)*.3;Mt.vx-=si*Yt,Mt.vy-=si*Je,bn.vx+=si*Yt*.95,bn.vy+=si*Je*.95,bn.vx+=af*mt,bn.vy+=af*fo;const Tl=Math.sqrt(gr*gr+Ir*Ir);if(uo===0&&Tl>.1){const vm=gr/Tl,lf=Ir/Tl,Cl=Mt.spinY*.4;Mt.spinY!==0&&(Mt.vx+=vm*Cl*Tl,Mt.vy+=lf*Cl*Tl),Mt.spinY*=.3}bn.spinX+=Mt.spinX*.2,bn.spinY+=Mt.spinY*.2;const Wo=Ke*2-xi;return Mt.x-=Wo/2*Yt,Mt.y-=Wo/2*Je,bn.x+=Wo/2*Yt,bn.y+=Wo/2*Je,!0};for(let Mt=0;Mt<Wn;Mt++){let bn=!1,uo=0;for(let Yt=0;Yt<Zt.length;Yt++){if(ii[Yt])continue;const Je=Zt[Yt],mt=Math.sqrt(Je.vx*Je.vx+Je.vy*Je.vy);mt>uo&&(uo=mt)}const oi=uo*kR*60,vi=Math.max(1,Math.ceil(oi/(Ke*.8))),xi=kR/vi;for(let Yt=0;Yt<vi;Yt++){for(let Je=0;Je<Zt.length;Je++){if(ii[Je])continue;const mt=Zt[Je],fo=Math.sqrt(mt.vx*mt.vx+mt.vy*mt.vy);if(fo>OR){bn=!0;const gr=on*9.8;if(mt.vx-=mt.vx/fo*gr*xi,mt.vy-=mt.vy/fo*gr*xi,mt.x+=mt.vx*xi*60,mt.y+=mt.vy*xi*60,_s(mt),Q0(mt)){if(Je>0){const Ir=Je-1,si=((gm=o[Ir])==null?void 0:gm.number)||1,ga=((co=jl[si])==null?void 0:co.color)||"#ffffff";mr[Ir].push({x:mt.x,y:mt.y,ballIndex:Ir,color:ga})}ii[Je]=!0,mt.vx=0,mt.vy=0}}else mt.vx=0,mt.vy=0}for(let Je=0;Je<Zt.length;Je++)if(!ii[Je])for(let mt=Je+1;mt<Zt.length;mt++){if(ii[mt])continue;if(J0(Zt[Je],Zt[mt],Je)&&Je===0&&!yi){yi={x:Zt[mt].x,y:Zt[mt].y},sf={x:Zt[0].x,y:Zt[0].y};const gr=Zt[mt].x-Zt[0].x,Ir=Zt[mt].y-Zt[0].y,si=Math.sqrt(gr*gr+Ir*Ir);si>0&&(Ts={x:Zt[0].x+gr/si*Ke,y:Zt[0].y+Ir/si*Ke}),rf={x:Zt[mt].vx,y:Zt[mt].vy},of={x:Zt[0].vx,y:Zt[0].vy}}}}ii[0]||Fi.push({x:Oe.x,y:Oe.y});for(let Yt=0;Yt<ft.length;Yt++){if(ii[Yt+1])continue;const Je=ft[Yt];if(Math.sqrt(Je.vx*Je.vx+Je.vy*Je.vy)>OR*.5||mr[Yt].length>0){const fo=o[Yt].number||1,gr=((ym=jl[fo])==null?void 0:ym.color)||"#ffffff";mr[Yt].push({x:Je.x,y:Je.y,ballIndex:Yt,color:gr})}}if(!bn)break}return{path:Fi,hitBall:yi,contactPoint:Ts,objectBallDirection:rf,cueBallDeflection:of,cueBallPosAtContact:sf,objectPaths:mr.filter(Mt=>Mt.length>=1)}},[r,o,E,_,N,ei,_s]),lo=(M,L)=>{const K=Math.sqrt(M.x*M.x+M.y*M.y),Q=Math.sqrt(L.x*L.x+L.y*L.y);if(K===0||Q===0)return{angle:0,fraction:1};const J={x:M.x/K,y:M.y/K},ue={x:L.x/Q,y:L.y/Q},ae=J.x*ue.x+J.y*ue.y,te=Math.max(-1,Math.min(1,ae)),ye=Math.acos(te),Ee=ye*(180/Math.PI),Se=Math.min(Ee,90),Oe=Math.cos(ye);return{angle:Se,fraction:Math.max(0,Oe)}},Li=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",ri=b.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,ln,wn),M.fillStyle="#1a5f3f",M.fillRect(He,He,ln-He*2,wn-He*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(He,He,ln-He*2,wn-He*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="eight"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const J=He,ue=ln-He,ae=He,te=wn-He;for(const ye of Be)ye>J&&ye<ue&&(M.beginPath(),M.moveTo(ye,ae),M.lineTo(ye,te),M.stroke());for(const ye of Ue)ye>ae&&ye<te&&(M.beginPath(),M.moveTo(J,ye),M.lineTo(ue,ye),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ye of Be)for(const Ee of Ue)ye>J&&ye<ue&&Ee>ae&&Ee<te&&(qt(ye,Ee)||(M.beginPath(),M.arc(ye,Ee,2,0,Math.PI*2),M.fill()))}jf.forEach(J=>{const ue=M.createRadialGradient(J.x,J.y,0,J.x,J.y,Qc);ue.addColorStop(0,"#000000"),ue.addColorStop(.7,"#1a1a1a"),ue.addColorStop(1,"#333333"),M.fillStyle=ue,M.beginPath(),M.arc(J.x,J.y,Qc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(J.x,J.y,Qc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,K=(ln-He*2)/8,Q=(wn-He*2)/4;for(let J=1;J<8;J++){if(J===4)continue;const ue=He+J*K;M.beginPath(),M.moveTo(ue,He-5),M.lineTo(ue+L,He-2),M.lineTo(ue,He+1),M.lineTo(ue-L,He-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ue,wn-He+5),M.lineTo(ue+L,wn-He+2),M.lineTo(ue,wn-He-1),M.lineTo(ue-L,wn-He+2),M.closePath(),M.fill()}for(let J=1;J<4;J++){const ue=He+J*Q;M.beginPath(),M.moveTo(He-5,ue),M.lineTo(He-2,ue+L),M.lineTo(He+1,ue),M.lineTo(He-2,ue-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ln-He+5,ue),M.lineTo(ln-He+2,ue+L),M.lineTo(ln-He-1,ue),M.lineTo(ln-He+2,ue-L),M.closePath(),M.fill()}},[f,a]),Nr=(M,L,K)=>{const Q=jl[K];if(!Q||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const J=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);J.addColorStop(0,"rgba(255, 255, 255, 0.7)"),J.addColorStop(.4,Q.color),J.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=J,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc(L.x-Ke*.35,L.y-Ke*.35,Ke*.25,0,Math.PI*2),M.fill()},mi=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const K=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);K.addColorStop(0,"rgba(255, 255, 255, 1)"),K.addColorStop(.5,"#ffffff"),K.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=K,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-Ke*.4,L.y-Ke*.4,Ke*.3,0,Math.PI*2),M.fill()},pa=(M,L,K)=>{!isFinite(L)||!isFinite(K)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(L,K,Ke,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(L,K,Ke,0,Math.PI*2),M.fill())},jr=(M,L,K,Q)=>{M.strokeStyle=Q,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(He,K),M.lineTo(ln-He,K),M.stroke(),M.beginPath(),M.moveTo(L,He),M.lineTo(L,wn-He),M.stroke(),M.setLineDash([]),M.strokeStyle=Q,M.lineWidth=2,M.beginPath(),M.arc(L,K,Ke+4,0,Math.PI*2),M.stroke()},ma=(M,L,K,Q,J)=>{const ue=Q-L,ae=J-K,te=Math.atan2(ae,ue),ye=150,Ee=Ke+5,Se=L-Math.cos(te)*Ee,Oe=K-Math.sin(te)*Ee,ft=L-Math.cos(te)*ye,on=K-Math.sin(te)*ye,Wn=M.createLinearGradient(Se,Oe,ft,on);Wn.addColorStop(0,"#D2691E"),Wn.addColorStop(.5,"#8B4513"),Wn.addColorStop(1,"#654321"),M.strokeStyle=Wn,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Se,Oe),M.lineTo(ft,on),M.stroke();const Fi=L-Math.cos(te)*(Ee-3),mr=K-Math.sin(te)*(Ee-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Fi,mr,3,0,Math.PI*2),M.fill()},Es=(M,L,K)=>{const Q=Math.sqrt(K.x*K.x+K.y*K.y);if(Q===0)return;const J=K.x/Q,ue=K.y/Q,ae=100,te=L.x+J*ae,ye=L.y+ue*ae;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(te,ye),M.stroke(),M.setLineDash([]);const Ee=10,Se=Math.atan2(ue,J);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(te,ye),M.lineTo(te-Ee*Math.cos(Se-Math.PI/6),ye-Ee*Math.sin(Se-Math.PI/6)),M.lineTo(te-Ee*Math.cos(Se+Math.PI/6),ye-Ee*Math.sin(Se+Math.PI/6)),M.closePath(),M.fill()},gi=(M,L)=>{if(!(L.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let K=1;K<L.length;K++)M.lineTo(L[K].x,L[K].y);M.stroke()}},Mn=b.useCallback(()=>{if(g&&x&&r){const M=ti(r,x);return M?{start:g,current:M}:{start:g,current:x}}if(S&&r){const M=S.angle*Math.PI/180,L=r.x+Math.cos(M)*S.distance,K=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:K}}}return null},[g,x,S,r,ti]),H=b.useCallback(()=>{const M=Mn();if(!M||!r)return 0;const L=M.current.x-r.x,K=M.current.y-r.y;let Q=Math.atan2(K,L)*180/Math.PI;return Q<0&&(Q+=360),Q},[Mn,r]),re=b.useCallback(()=>{const M=Mn();if(!M)return 100;const L=M.current.x-M.start.x,K=M.current.y-M.start.y;return Math.sqrt(L*L+K*K)},[Mn]),Ne=b.useCallback((M,L)=>{C({angle:M,distance:L})},[]),ze=b.useCallback(()=>{if(g&&x&&r){const M=x.x-r.x,L=x.y-r.y;let K=Math.atan2(L,M)*180/Math.PI;K<0&&(K+=360);const Q=Math.sqrt(M*M+L*L);C({angle:K,distance:Q})}},[g,x,r]),Ve=b.useCallback(()=>{const M=Mn();if(!M||U||!r)return{angle:null,fraction:null};const L=ni(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const K={x:M.current.x-r.x,y:M.current.y-r.y},Q={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},J=lo(K,Q);return{angle:J.angle,fraction:Li(J.fraction)}},[Mn,U,r,ni]);b.useEffect(()=>{const M=Ve();st(M.angle),je(M.fraction)},[Ve]);const tt=b.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,ln,wn),ri(L),Te&&pt.length>0){const Q=pt[Qe];if(Q.objectBalls.forEach((J,ue)=>{if(!J.pocketed){const ae=Pe[ue];if(ae!==void 0){const te={x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:ae};Nr(L,te,ae)}}}),Q.cueBall){const J={x:Q.cueBall.x,y:Q.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};mi(L,J)}return}if(U&&W.length>0&&!Te){const Q=W.filter(J=>J.cueBall).map(J=>J.cueBall);Q.length>0&&(L.strokeStyle="#FFFF00",L.lineWidth=4,L.beginPath(),L.moveTo(Q[0].x,Q[0].y),Q.forEach(J=>L.lineTo(J.x,J.y)),L.stroke()),Pe.forEach((J,ue)=>{if(J===void 0)return;const ae=W.map(te=>te.objectBalls[ue]).filter(te=>te&&!te.pocketed);if(ae.length>0){const te=jl[J];L.strokeStyle=te.color,L.lineWidth=4,L.beginPath(),L.moveTo(ae[0].x,ae[0].y),ae.forEach(ye=>L.lineTo(ye.x,ye.y)),L.stroke()}})}const K=Mn();if(K&&!U&&r){ma(L,r.x,r.y,K.current.x,K.current.y);const Q=ni(r.x,r.y,K.current.x,K.current.y);Q&&(gi(L,Q.path),Q.objectPaths&&Q.objectPaths.length>0&&Q.objectPaths.forEach(J=>{if(J.length>=2){const ue=J[0].color;L.strokeStyle=ue,L.lineWidth=4,L.setLineDash([6,4]),L.beginPath(),L.moveTo(J[0].x,J[0].y);for(let Oe=1;Oe<J.length;Oe++)L.lineTo(J[Oe].x,J[Oe].y);L.stroke(),L.setLineDash([]);const ae=J[J.length-1],te=J[Math.max(0,J.length-5)],ye=ae.x-te.x,Ee=ae.y-te.y;if(Math.sqrt(ye*ye+Ee*Ee)>5){const Oe=Math.atan2(Ee,ye),ft=10;L.fillStyle=ue,L.beginPath(),L.moveTo(ae.x,ae.y),L.lineTo(ae.x-ft*Math.cos(Oe-Math.PI/6),ae.y-ft*Math.sin(Oe-Math.PI/6)),L.lineTo(ae.x-ft*Math.cos(Oe+Math.PI/6),ae.y-ft*Math.sin(Oe+Math.PI/6)),L.closePath(),L.fill()}}}),Q.hitBall&&Q.cueBallPosAtContact&&Q.cueBallDeflection&&(pa(L,Q.cueBallPosAtContact.x,Q.cueBallPosAtContact.y),Es(L,Q.cueBallPosAtContact,Q.cueBallDeflection)))}o.forEach((Q,J)=>{if(Q.number&&Nr(L,Q,Q.number),u&&u.type==="object"&&u.index===J){const ue=jl[Q.number||1];jr(L,Q.x,Q.y,ue.color)}}),r&&(mi(L,r),u&&u.type==="cue"&&jr(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,x,S,U,W,ni,ri,Mn,u,Te,Qe,pt,Pe,rn]);b.useEffect(()=>{tt()},[tt]),b.useEffect(()=>{if(rn){const M=setTimeout(()=>tt(),50);return()=>clearTimeout(M)}},[rn,tt]);const G=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),Q=ln/K.width,J=wn/K.height,ue=(M.clientX-K.left)*Q,ae=(M.clientY-K.top)*J,te=a==="cue",{x:ye,y:Ee}=Un(ue,ae,void 0,te);if(a==="cue"){if(zn(ye,Ee)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ye,y:Ee,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(zn(ye,Ee)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Gt(a);if(Se!==null)s(Oe=>[...Oe,{x:ye,y:Ee,vx:0,vy:0,spinX:0,spinY:0,number:Se}]);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&xn({x:ue,y:ae},r)<Ke*2){d({type:"cue"});return}for(let Se=0;Se<o.length;Se++)if(xn({x:ue,y:ae},o[Se])<Ke*2){d({type:"object",index:Se});return}}else if(a==="remove"){if(r&&xn({x:ue,y:ae},r)<Ke*2){i(null);return}for(let Se=0;Se<o.length;Se++)if(xn({x:ue,y:ae},o[Se])<Ke*2){s(ft=>ft.filter((on,Wn)=>Wn!==Se));return}}else r&&!U&&(v({x:r.x,y:r.y}),w({x:ue,y:ae}))},Ae=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),Q=ln/K.width,J=wn/K.height,ue=(M.clientX-K.left)*Q,ae=(M.clientY-K.top)*J;if(u){const te=u.type==="cue",ye=u.type==="object"?u.index:void 0,{x:Ee,y:Se}=Un(ue,ae,ye,te);zn(Ee,Se)||(u.type==="cue"&&r?i({...r,x:Ee,y:Se}):u.type==="object"&&u.index!==void 0&&s(Oe=>Oe.map((ft,on)=>on===u.index?{...ft,x:Ee,y:Se}:ft)))}else g&&!U&&w({x:ue,y:ae})},De=()=>{u&&d(null),g&&x&&ze(),v(null),w(null)},Z=b.useCallback((M,L)=>{const K=n.current;if(!K)return null;const Q=K.getBoundingClientRect(),J=ln/Q.width,ue=wn/Q.height,ae=(M-Q.left)*J,te=(L-Q.top)*ue;return{rawX:ae,rawY:te}},[]),ge=b.useCallback(M=>{var ye,Ee;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=Z(L.clientX,L.clientY);if(!K)return;const{rawX:Q,rawY:J}=K,ue=a==="cue",{x:ae,y:te}=Un(Q,J,void 0,ue);if(a==="cue"){if(zn(ae,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ae,y:te,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(zn(ae,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Gt(a);if(Se!==null)s(Oe=>[...Oe,{x:ae,y:te,vx:0,vy:0,spinX:0,spinY:0,number:Se}]);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&xn({x:Q,y:J},r)<Ke*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Se=0;Se<o.length;Se++)if(xn({x:Q,y:J},o[Se])<Ke*2){d({type:"object",index:Se});const ft=o[Se].number;e({title:`Drag to reposition ${ft?(ye=jl[ft])==null?void 0:ye.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&xn({x:Q,y:J},r)<Ke*2){i(null),e({title:"Cue ball removed"});return}for(let Se=0;Se<o.length;Se++)if(xn({x:Q,y:J},o[Se])<Ke*2){const ft=o[Se].number,on=ft?(Ee=jl[ft])==null?void 0:Ee.name:"ball";s(Wn=>Wn.filter((Fi,mr)=>mr!==Se)),e({title:`${on} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!U&&(v({x:r.x,y:r.y}),w({x:Q,y:J}))},[r,o,a,U,Z,Un,Gt,e]),qe=b.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=Z(L.clientX,L.clientY);if(!K)return;const{rawX:Q,rawY:J}=K;if(u){const ue=u.type==="cue",ae=u.type==="object"?u.index:void 0,{x:te,y:ye}=Un(Q,J,ae,ue);zn(te,ye)||(u.type==="cue"&&r?i({...r,x:te,y:ye}):u.type==="object"&&u.index!==void 0&&s(Ee=>Ee.map((Se,Oe)=>Oe===u.index?{...Se,x:te,y:ye}:Se)))}else g&&!U&&w({x:Q,y:J})},[r,u,g,U,Z,Un]),We=b.useCallback(M=>{M.preventDefault(),u&&d(null),g&&x&&ze(),v(null),w(null)},[u,g,x,ze,e]);b.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",ge,{passive:!1}),M.addEventListener("touchmove",qe,{passive:!1}),M.addEventListener("touchend",We,{passive:!1}),M.addEventListener("touchcancel",We,{passive:!1}),()=>{M.removeEventListener("touchstart",ge),M.removeEventListener("touchmove",qe),M.removeEventListener("touchend",We),M.removeEventListener("touchcancel",We)}},[ge,qe,We]);const jt=()=>{if(!X){e({title:"Please select a course first",variant:"destructive"});return}const M=Cje[X];if(!M)return;const K=(J=>{const ue=[...J];for(let ae=ue.length-1;ae>0;ae--){const te=Math.floor(Math.random()*(ae+1));[ue[ae],ue[te]]=[ue[te],ue[ae]]}return ue})(Array.from({length:15},(J,ue)=>ue+1)),Q=M.balls.map((J,ue)=>({x:J.x,y:J.y,vx:0,vy:0,spinX:0,spinY:0,number:K[ue]}));s(Q),i({x:Be[2],y:Ue[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),V(!1),ne([]),be(M.name),e({title:`Loaded: ${M.name}`})},Rt=()=>{i(null),s([]),V(!1),ne([]),be(null),ie(""),e({title:"Table cleared"})};b.useCallback(()=>{Tt.current&&(cancelAnimationFrame(Tt.current),Tt.current=null),Xe(!1)},[]),b.useEffect(()=>{if(!Te||pt.length===0)return;const M=2,L=16,K=Q=>{Ut.current===0&&(Ut.current=Q);const J=Q-Ut.current;if(J>=L){const ue=Math.floor(J/L)*M,ae=Math.min(Qe+ue,pt.length-1);if(at(ae),Ut.current=Q,ae>=pt.length-1){const te=pt[pt.length-1];te.cueBall?i(ye=>ye?{...ye,x:te.cueBall.x,y:te.cueBall.y,vx:0,vy:0}:null):i(null),s(ye=>ye.map((Ee,Se)=>{const Oe=te.objectBalls[Se];return!Oe||Oe.pocketed?null:{...Ee,x:Oe.x,y:Oe.y,vx:0,vy:0}}).filter(Ee=>Ee!==null)),Xe(!1),C(null);return}}Tt.current=requestAnimationFrame(K)};return Tt.current=requestAnimationFrame(K),()=>{Tt.current&&cancelAnimationFrame(Tt.current)}},[Te,Qe,pt]);const Kt=M=>{const L=M.currentTarget.getBoundingClientRect(),K=M.clientX-L.left,Q=M.clientY-L.top,J=K/100*2-1,ue=-(Q/100*2-1);T(J),k(ue)},tr=(r?1:0)+o.length,nr=Hr().toFixed(3),It=ei().toFixed(3);return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(p9,{open:ce,onComplete:mn,pages:pn,toolName:"Advanced Cueing Emulator"}),rn&&c.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[c.jsxs("div",{className:"flex items-center justify-between p-2",children:[c.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),c.jsx(de,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>hn(!1),"data-testid":"button-close-fullscreen",children:c.jsx(qp,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:c.jsx("canvas",{ref:n,width:ln,height:wn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:Bn?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:G,onMouseMove:Ae,onMouseUp:De,onMouseLeave:De,"data-testid":"canvas-fullscreen-table"})}),c.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),c.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??H()).toFixed(2),""]})]}),c.jsx(Xc,{value:[(S==null?void 0:S.angle)??H()],onValueChange:([M])=>Ne(M,(S==null?void 0:S.distance)??re()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Ne(((S==null?void 0:S.angle)??H())-.01,(S==null?void 0:S.distance)??re()),"data-testid":"button-fullscreen-left",children:" 0.01"}),c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Ne(((S==null?void 0:S.angle)??H())+.01,(S==null?void 0:S.distance)??re()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(ke!==null||xe!==null)&&c.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:c.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[c.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(ke==null?void 0:ke.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})]}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>hn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:c.jsx(hH,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>z(!0),"data-testid":"button-tutorial",children:c.jsx(Tx,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(nt,{className:"p-4",children:[!rn&&c.jsx("canvas",{ref:n,width:ln,height:wn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:ln,touchAction:"none"},onMouseDown:G,onMouseMove:Ae,onMouseUp:De,onMouseLeave:De,"data-testid":"canvas-billiard-table"}),(ke!==null||xe!==null)&&c.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(ke==null?void 0:ke.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})}),c.jsx("div",{className:"w-full lg:w-80",children:c.jsx(nt,{className:"p-2",children:c.jsxs(ah,{type:"multiple",className:"w-full",children:[c.jsxs(_o,{value:"practice-courses",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),c.jsx(To,{className:"px-2 space-y-3",children:c.jsx(tv,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs(MF,{value:X,onValueChange:ie,children:[c.jsx(vC,{"data-testid":"select-course",children:c.jsx(DF,{placeholder:"-- Select a Course --"})}),c.jsxs(xC,{children:[c.jsx(ir,{value:"par2_01",children:"Par 2 - Course 1"}),c.jsx(ir,{value:"par2_02",children:"Par 2 - Course 2"}),c.jsx(ir,{value:"par2_03",children:"Par 2 - Course 3"}),c.jsx(ir,{value:"par3_01",children:"Par 3 - Course 1"}),c.jsx(ir,{value:"par3_02",children:"Par 3 - Course 2"}),c.jsx(ir,{value:"par3_03",children:"Par 3 - Course 3"}),c.jsx(ir,{value:"par3_04",children:"Par 3 - Course 4"}),c.jsx(ir,{value:"par4_01",children:"Par 4 - Course 1"}),c.jsx(ir,{value:"par4_02",children:"Par 4 - Course 2"}),c.jsx(ir,{value:"par4_03",children:"Par 4 - Course 3"}),c.jsx(ir,{value:"par4_04",children:"Par 4 - Course 4"}),c.jsx(ir,{value:"par4_05",children:"Par 4 - Course 5"}),c.jsx(ir,{value:"par5_01",children:"Par 5 - Course 1"}),c.jsx(ir,{value:"par5_02",children:"Par 5 - Course 2"}),c.jsx(ir,{value:"par5_03",children:"Par 5 - Course 3"}),c.jsx(ir,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),c.jsx(de,{className:"w-full",onClick:jt,"data-testid":"button-load-course",children:"Load Course"}),le&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",c.jsx("span",{className:"text-primary font-semibold",children:le})]})]})})})]}),c.jsxs(_o,{value:"ball-placement",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),c.jsxs(To,{className:"px-2 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(cH,{className:"w-3 h-3 text-muted-foreground"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),c.jsx(Ni,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[c.jsx(RR,{size:14}),c.jsx("span",{className:"ml-1",children:"Cue"})]}),c.jsxs(de,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[c.jsx(MR,{size:14}),c.jsx("span",{className:"ml-1",children:"Solid"})]}),c.jsxs(de,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[c.jsx(DR,{size:14}),c.jsx("span",{className:"ml-1",children:"Stripe"})]}),c.jsxs(de,{variant:a==="eight"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="eight"?null:"eight"),disabled:er(),"data-testid":"button-add-eight",children:[c.jsx($R,{size:14}),c.jsx("span",{className:"ml-1",children:"8"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[c.jsx(DN,{className:"w-4 h-4 mr-1"}),"Move"]}),c.jsxs(de,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[c.jsx(yH,{className:"w-4 h-4 mr-1"}),"Remove"]}),c.jsxs(de,{variant:"secondary",className:"flex-1",onClick:Rt,"data-testid":"button-clear",children:[c.jsx(Ty,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",tr]})]})]}),c.jsxs(_o,{value:"power-aim",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Dh,{className:"w-4 h-4"}),"Power & Aim"]})}),c.jsxs(To,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),c.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),c.jsx(Xc,{value:[E*100],onValueChange:([M])=>P(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),c.jsxs("div",{className:"border-t border-border pt-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?c.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[c.jsx(dH,{className:"w-3 h-3 mr-1"}),"Clear"]}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&x?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??H()).toFixed(2),""]})}),c.jsx(Xc,{value:[(S==null?void 0:S.angle)??H()],onValueChange:([M])=>Ne(M,(S==null?void 0:S.distance)??re()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"90"}),c.jsx("span",{children:"180"}),c.jsx("span",{children:"270"}),c.jsx("span",{children:"360"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Ne(((S==null?void 0:S.angle)??H())-.1,(S==null?void 0:S.distance)??re()),"data-testid":"button-aim-left",children:" 0.10"}),c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Ne(((S==null?void 0:S.angle)??H())+.1,(S==null?void 0:S.distance)??re()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):c.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[c.jsx(R1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),c.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),c.jsxs(_o,{value:"english-spin",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),c.jsxs(To,{className:"px-2 space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Kt,"data-testid":"box-spin",children:[c.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),c.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),c.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-N)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),c.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),c.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[c.jsxs("span",{children:["x: ",_.toFixed(2)]}),c.jsxs("span",{children:["y: ",N.toFixed(2)]})]})]})]}),c.jsxs(_o,{value:"environment",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),c.jsxs(To,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),c.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:hr().label})]}),c.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>c.jsx(de,{variant:F===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>B(M),"data-testid":`button-table-${M}`,children:M},M))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),c.jsx(Xc,{value:[j*100],onValueChange:([M])=>R(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Slow"}),c.jsx("span",{children:"Fast"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(O*100),"%"]})]}),c.jsx(Xc,{value:[O*100],onValueChange:([M])=>$(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Dead"}),c.jsx("span",{children:"Lively"})]})]}),c.jsxs("div",{className:"pt-2 border-t border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[c.jsx(bH,{className:"w-3 h-3"}),"Table Presets"]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),c.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=se[M];return c.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>Ft(M),onMouseUp:()=>Ge(M),onMouseLeave:()=>{we.current&&(clearTimeout(we.current),we.current=null)},onTouchStart:()=>Ft(M),onTouchEnd:()=>Ge(M),"data-testid":`button-preset-${M+1}`,children:L?c.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):c.jsx("span",{children:"--"})},M)})})]})]})]}),c.jsxs(_o,{value:"physics",className:"border-b-0",children:[c.jsx(Eo,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),c.jsx(To,{className:"px-2",children:c.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:nr})]}),c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:It})]})]})})]})]})})})]})})})]})}function Pje(){const[,t]=vl(),[e,n]=b.useState(null);b.useEffect(()=>{n(Ct.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),u=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${u}m`:u>0?`${u}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Ct.hasAnyConsent());return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Ct.hasAnyConsent()&&c.jsx(nt,{className:"p-4 bg-primary/5 border-primary/20",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(uc,{className:"w-5 h-5 text-primary mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),c.jsx(de,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&c.jsxs(c.Fragment,{children:[c.jsx(nt,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:c.jsx(rT,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Rs,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),c.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),u=s%60;return c.jsxs(c.Fragment,{children:[a>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:u}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(_y,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Rh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(D1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),c.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]})]}),!o&&Ct.hasAnyConsent()&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(uc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function Nje(){const[,t]=vl(),[e,n]=b.useState(""),[r,i]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(null),[u,d]=b.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const y=await m.json();d(y),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};b.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),b.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Mh,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&c.jsx(de,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:c.jsx(xH,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Mh,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(lr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&c.jsx("p",{className:"text-sm text-destructive",children:a}),c.jsx(de,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Bl,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:u.uniqueUsers})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(uc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:u.totalSubmissions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(_y,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:u.aggregateStats.totalSessions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Rh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:u.aggregateStats.totalTimeHours})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(Dh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsxs("p",{className:"text-lg font-bold",children:[u.aggregateStats.avgShotTime,"s"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalShots}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(iL,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.avgBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.maxBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalBreaks}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(_y,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalCalibrations}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),u.recentSubmissions.length>0&&c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),c.jsx("div",{className:"space-y-2",children:u.recentSubmissions.map((m,y)=>c.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[c.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),c.jsxs("span",{children:[m.sessions," sessions"]}),c.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},y))})]}),u.totalSubmissions===0&&c.jsxs(nt,{className:"p-6 text-center",children:[c.jsx(uc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const jje=.0254,Ije=.02,kje=.005;function Oje(){const[,t]=vl(),[e,n]=b.useState(!1),[r,i]=b.useState("Click Start to begin"),[o,s]=b.useState(0),[a,l]=b.useState(.05),[u,d]=b.useState(.22),[f,h]=b.useState(0),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,P]=b.useState(null),[_,T]=b.useState([]),[N,k]=b.useState(0),[j,R]=b.useState(60),[O,$]=b.useState(.22),[F,B]=b.useState(2.8),[U,V]=b.useState(.06),[W,ne]=b.useState(.01),[X,ie]=b.useState(.25),[le,be]=b.useState(300),[ke,st]=b.useState(6e3),xe=b.useRef(null),je=b.useRef(null),se=b.useRef(!1),pe=b.useRef(.05),ce=b.useRef(0),z=b.useRef(null),we=b.useCallback(_e=>{T(Pe=>[_e,...Pe].slice(0,100))},[]),Te=async()=>{i("Requesting microphone..."),T([]),h(0),y(null),v(null),w(null),P(null),C(null),pe.current=.05,ce.current=0,z.current=null;try{const _e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});je.current=_e;const Pe=new AudioContext({sampleRate:48e3});xe.current=Pe,Pe.state==="suspended"&&await Pe.resume(),i(`AudioContext: ${Pe.state}`);const Me=Pe.createMediaStreamSource(_e),Tt=Pe.createBiquadFilter();Tt.type="highpass",Tt.frequency.value=le;const Ut=Pe.createBiquadFilter();Ut.type="lowpass",Ut.frequency.value=ke;const rn=Pe.createAnalyser();rn.fftSize=2048,Me.connect(Tt),Tt.connect(Ut),Ut.connect(rn),se.current=!0,n(!0),we({type:"info",time:0,max:0,thresh:0,floor:0});const hn=new Float32Array(rn.fftSize);let Bn=0;const Ar=()=>{if(!se.current)return;Bn++,Bn%30===0&&(k(Bn),i(`Listening (frame ${Bn})`)),rn.getFloatTimeDomainData(hn);let pn=0;for(let Ft=0;Ft<hn.length;Ft++)pn=Math.max(pn,Math.abs(hn[Ft]));Bn<=3&&we({type:"debug",time:Pe.currentTime,max:pn,thresh:0,floor:pe.current});const mn=pe.current;pe.current=pn>mn?mn+Ije*(pn-mn):mn-kje*(mn-pn),pe.current=Math.max(.02,Math.min(.6,pe.current));const Ht=Pe.currentTime,gn=Math.max(O,pe.current*F);if(s(pn),l(pe.current),d(gn),pn>gn&&Ht-ce.current>U)if(ce.current=Ht,h(Ft=>Ft+1),C(pn),z.current===null)z.current=Ht,y(Ht),we({type:"tip",time:Ht,max:pn,thresh:gn,floor:pe.current});else{const Ft=Ht-z.current;if(v(Ht),w(Ft),Ft>=W&&Ft<=X){we({type:"rack",time:Ht,max:pn,thresh:gn,floor:pe.current,deltaT:Ft});const hr=j*jje/Ft*2.23693629;P(hr),z.current=null}else we({type:"rejected",time:Ht,max:pn,thresh:gn,floor:pe.current,deltaT:Ft,reason:Ft<W?"too fast":"too slow"}),Ft>X&&(z.current=Ht,y(Ht))}requestAnimationFrame(Ar)};requestAnimationFrame(Ar)}catch(_e){console.error(_e),i(`ERROR: ${_e.message}`),n(!1)}},Xe=()=>{se.current=!1,je.current&&je.current.getTracks().forEach(_e=>_e.stop()),xe.current&&xe.current.close(),n(!1),i("Stopped")},Qe=()=>{T([]),h(0),y(null),v(null),w(null),P(null),C(null)},at=()=>{const _e={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:O,floorMult:F,refractTime:U,minDeltaT:W,maxDeltaT:X,hpfFreq:le,lpfFreq:ke},peaks:_},Pe=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),Me=URL.createObjectURL(Pe),Tt=document.createElement("a");Tt.href=Me,Tt.download=`break-debug-${Date.now()}.json`,Tt.click(),URL.revokeObjectURL(Me)};b.useEffect(()=>()=>{se.current=!1,je.current&&je.current.getTracks().forEach(_e=>_e.stop()),xe.current&&xe.current.close()},[]);const pt=_e=>{switch(_e){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Mo,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(de,{onClick:e?Xe:Te,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?c.jsx(mH,{className:"w-4 h-4 mr-2"}):c.jsx(gH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),c.jsxs(de,{variant:"secondary",onClick:Qe,"data-testid":"button-clear",children:[c.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Clear"]}),c.jsxs(de,{variant:"secondary",onClick:at,"data-testid":"button-export",children:[c.jsx(tL,{className:"w-4 h-4 mr-2"}),"Export"]})]}),c.jsxs(nt,{className:"p-4 bg-muted/30",children:[c.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",c.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",N]})]}),E!==null&&c.jsxs(nt,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[c.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),c.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",x==null?void 0:x.toFixed(4),"s | Distance: ",j,'"']})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Current"}),c.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[c.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${u*100}%`}})]}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Floor"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Thresh"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${u*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:u.toFixed(3)})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-primary",children:f}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(x==null?void 0:x.toFixed(4))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Distance (in)"}),c.jsx(lr,{type:"number",value:j,onChange:_e=>R(+_e.target.value),className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Min Threshold"}),c.jsx(lr,{type:"number",value:O,onChange:_e=>$(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Floor Multiplier"}),c.jsx(lr,{type:"number",value:F,onChange:_e=>B(+_e.target.value),step:"0.1",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Refractory (s)"}),c.jsx(lr,{type:"number",value:U,onChange:_e=>V(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Min Delta T (s)"}),c.jsx(lr,{type:"number",value:W,onChange:_e=>ne(+_e.target.value),step:"0.005",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Max Delta T (s)"}),c.jsx(lr,{type:"number",value:X,onChange:_e=>ie(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"HPF Freq (Hz)"}),c.jsx(lr,{type:"number",value:le,onChange:_e=>be(+_e.target.value),step:"50",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"LPF Freq (Hz)"}),c.jsx(lr,{type:"number",value:ke,onChange:_e=>st(+_e.target.value),step:"100",className:"h-8"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),c.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((_e,Pe)=>c.jsxs("div",{className:`flex justify-between ${pt(_e.type)}`,children:[c.jsxs("span",{children:[_e.type.toUpperCase()," @ ",_e.time.toFixed(4),"s"]}),c.jsxs("span",{children:["max: ",_e.max.toFixed(4)," ",_e.deltaT?`dt: ${_e.deltaT.toFixed(4)}`:""," ",_e.reason||""]})]},Pe))})]})]})})]})}function Rje(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(nt,{className:"w-full max-w-md mx-4",children:c.jsxs(m5,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(oH,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Mje=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),Dje=t=>{window.location.hash=t},$je=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),Lje=()=>window.location.hash.replace(/^#/,"")||"/";function Fje(){const t=b.useSyncExternalStore($je,Lje,()=>"/"),e=b.useCallback(n=>Dje(n),[]);return[t,e]}function Vje(){return c.jsx(g$,{hook:Mje?Fje:void 0,children:c.jsxs(I7,{children:[c.jsx(As,{path:"/",component:Ore}),c.jsx(As,{path:"/break-speed",component:sie}),c.jsx(As,{path:"/shot-clock",component:nje}),c.jsx(As,{path:"/table-level",component:ije}),c.jsx(As,{path:"/cue-emulator",component:Aje}),c.jsx(As,{path:"/insights",component:Pje}),c.jsx(As,{path:"/admin/analytics",component:Nje}),c.jsx(As,{path:"/debug/audio",component:Oje}),c.jsx(As,{component:Rje})]})})}function Bje(){return c.jsx(tW,{client:iW,children:c.jsx(RG,{children:c.jsx(Jee,{children:c.jsxs(kG,{children:[c.jsx(sq,{}),c.jsx(Vje,{})]})})})})}const qA=t=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; font-family: monospace; color: #ff6b6b; background: #1a1a2e;">
        <h2>Error Loading App</h2>
        <pre style="white-space: pre-wrap; word-break: break-word;">${t instanceof Error?t.message+`
`+t.stack:t}</pre>
      </div>
    `)};window.onerror=(t,e,n,r,i)=>{qA(i||String(t))};window.onunhandledrejection=t=>{qA(t.reason)};try{o$(document.getElementById("root")).render(c.jsx(Bje,{}))}catch(t){qA(t)}
