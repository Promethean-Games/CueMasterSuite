var dP=t=>{throw TypeError(t)};var rb=(t,e,n)=>e.has(t)||dP("Cannot "+n);var he=(t,e,n)=>(rb(t,e,"read from private field"),n?n.call(t):e.get(t)),Dt=(t,e,n)=>e.has(t)?dP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xt=(t,e,n,r)=>(rb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(rb(t,e,"access private method"),n);var wm=(t,e,n,r)=>({set _(i){xt(t,e,i,n)},get _(){return he(t,e,r)}});function q9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oM={exports:{}},rx={},aM={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),G9=Symbol.for("react.portal"),K9=Symbol.for("react.fragment"),Y9=Symbol.for("react.strict_mode"),X9=Symbol.for("react.profiler"),Q9=Symbol.for("react.provider"),J9=Symbol.for("react.context"),Z9=Symbol.for("react.forward_ref"),e8=Symbol.for("react.suspense"),t8=Symbol.for("react.memo"),n8=Symbol.for("react.lazy"),fP=Symbol.iterator;function r8(t){return t===null||typeof t!="object"?null:(t=fP&&t[fP]||t["@@iterator"],typeof t=="function"?t:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,uM={};function Ad(t,e,n){this.props=t,this.context=e,this.refs=uM,this.updater=n||lM}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ad.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dM(){}dM.prototype=Ad.prototype;function iE(t,e,n){this.props=t,this.context=e,this.refs=uM,this.updater=n||lM}var sE=iE.prototype=new dM;sE.constructor=iE;cM(sE,Ad.prototype);sE.isPureReactComponent=!0;var hP=Array.isArray,fM=Object.prototype.hasOwnProperty,oE={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function pM(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fM.call(e,r)&&!hM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dp,type:t,key:s,ref:o,props:i,_owner:oE.current}}function i8(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function s8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pP=/\/+/g;function ib(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s8(""+t.key):e.toString(36)}function bg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dp:case G9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ib(o,0):r,hP(i)?(n="",t!=null&&(n=t.replace(pP,"$&/")+"/"),bg(i,e,n,"",function(u){return u})):i!=null&&(aE(i)&&(i=i8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hP(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ib(s,a);o+=bg(s,e,n,c,i)}else if(c=r8(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ib(s,a++),o+=bg(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _m(t,e,n){if(t==null)return t;var r=[],i=0;return bg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function o8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},wg={transition:null},a8={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:wg,ReactCurrentOwner:oE};function mM(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:_m,forEach:function(t,e,n){_m(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _m(t,function(){e++}),e},toArray:function(t){return _m(t,function(e){return e})||[]},only:function(t){if(!aE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=Ad;St.Fragment=K9;St.Profiler=X9;St.PureComponent=iE;St.StrictMode=Y9;St.Suspense=e8;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a8;St.act=mM;St.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)fM.call(e,c)&&!hM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dp,type:t.type,key:i,ref:s,props:r,_owner:o}};St.createContext=function(t){return t={$$typeof:J9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q9,_context:t},t.Consumer=t};St.createElement=pM;St.createFactory=function(t){var e=pM.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:Z9,render:t}};St.isValidElement=aE;St.lazy=function(t){return{$$typeof:n8,_payload:{_status:-1,_result:t},_init:o8}};St.memo=function(t,e){return{$$typeof:t8,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=wg.transition;wg.transition={};try{t()}finally{wg.transition=e}};St.unstable_act=mM;St.useCallback=function(t,e){return Zr.current.useCallback(t,e)};St.useContext=function(t){return Zr.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};St.useEffect=function(t,e){return Zr.current.useEffect(t,e)};St.useId=function(){return Zr.current.useId()};St.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};St.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return Zr.current.useMemo(t,e)};St.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};St.useRef=function(t){return Zr.current.useRef(t)};St.useState=function(t){return Zr.current.useState(t)};St.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};St.useTransition=function(){return Zr.current.useTransition()};St.version="18.3.1";aM.exports=St;var x=aM.exports;const G=Jt(x),gM=q9({__proto__:null,default:G},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l8=x,c8=Symbol.for("react.element"),u8=Symbol.for("react.fragment"),d8=Object.prototype.hasOwnProperty,f8=l8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h8={key:!0,ref:!0,__self:!0,__source:!0};function yM(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)d8.call(e,r)&&!h8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c8,type:t,key:s,ref:o,props:i,_owner:f8.current}}rx.Fragment=u8;rx.jsx=yM;rx.jsxs=yM;oM.exports=rx;var l=oM.exports,vM={exports:{}},Di={},xM={exports:{}},bM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var ne=$.length;$.push(z);e:for(;0<ne;){var se=ne-1>>>1,Q=$[se];if(0<i(Q,z))$[se]=z,$[ne]=Q,ne=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],ne=$.pop();if(ne!==z){$[0]=ne;e:for(var se=0,Q=$.length,ge=Q>>>1;se<ge;){var ue=2*(se+1)-1,Ce=$[ue],tt=ue+1,xe=$[tt];if(0>i(Ce,ne))tt<Q&&0>i(xe,Ce)?($[se]=xe,$[tt]=ne,se=tt):($[se]=Ce,$[ue]=ne,se=ue);else if(tt<Q&&0>i(xe,ne))$[se]=xe,$[tt]=ne,se=tt;else break e}}return z}function i($,z){var ne=$.sortIndex-z.sortIndex;return ne!==0?ne:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=$)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function A($){if(g=!1,S($),!v)if(n(c)!==null)v=!0,U(E);else{var z=n(u);z!==null&&W(A,z.startTime-$)}}function E($,z){v=!1,g&&(g=!1,b(T),T=-1),m=!0;var ne=h;try{for(S(z),f=n(c);f!==null&&(!(f.expirationTime>z)||$&&!j());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var Q=se(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),S(z)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var ue=n(u);ue!==null&&W(A,ue.startTime-z),ge=!1}return ge}finally{f=null,h=ne,m=!1}}var N=!1,_=null,T=-1,P=5,I=-1;function j(){return!(t.unstable_now()-I<P)}function O(){if(_!==null){var $=t.unstable_now();I=$;var z=!0;try{z=_(!0,$)}finally{z?R():(N=!1,_=null)}}else N=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){y(O,0)};function U($){_=$,N||(N=!0,R())}function W($,z){T=y(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,U(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var ne=h;h=z;try{return $()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=h;h=$;try{return z()}finally{h=ne}},t.unstable_scheduleCallback=function($,z,ne){var se=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?se+ne:se):ne=se,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,$={id:d++,callback:z,priorityLevel:$,startTime:ne,expirationTime:Q,sortIndex:-1},ne>se?($.sortIndex=ne,e(u,$),n(c)===null&&$===n(u)&&(g?(b(T),T=-1):g=!0,W(A,ne-se))):($.sortIndex=Q,e(c,$),v||m||(v=!0,U(E))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var z=h;return function(){var ne=h;h=z;try{return $.apply(this,arguments)}finally{h=ne}}}})(bM);xM.exports=bM;var p8=xM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m8=x,Ri=p8;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wM=new Set,mh={};function Sc(t,e){$u(t,e),$u(t+"Capture",e)}function $u(t,e){for(mh[t]=e,t=0;t<e.length;t++)wM.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fw=Object.prototype.hasOwnProperty,g8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mP={},gP={};function y8(t){return Fw.call(gP,t)?!0:Fw.call(mP,t)?!1:g8.test(t)?gP[t]=!0:(mP[t]=!0,!1)}function v8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x8(t,e,n,r){if(e===null||typeof e>"u"||v8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var lE=/[\-:]([a-z])/g;function cE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lE,cE);Ar[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lE,cE);Ar[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lE,cE);Ar[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function uE(t,e,n,r){var i=Ar.hasOwnProperty(e)?Ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x8(e,n,i,r)&&(n=null),r||i===null?y8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ca=m8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Em=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),dE=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),SM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Uw=Symbol.for("react.suspense_list"),hE=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),EM=Symbol.for("react.offscreen"),yP=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=yP&&t[yP]||t["@@iterator"],typeof t=="function"?t:null)}var Tn=Object.assign,sb;function Of(t){if(sb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sb=e&&e[1]||""}return`
`+sb+t}var ob=!1;function ab(t,e){if(!t||ob)return"";ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ob=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Of(t):""}function b8(t){switch(t.tag){case 5:return Of(t.type);case 16:return Of("Lazy");case 13:return Of("Suspense");case 19:return Of("SuspenseList");case 0:case 2:case 15:return t=ab(t.type,!1),t;case 11:return t=ab(t.type.render,!1),t;case 1:return t=ab(t.type,!0),t;default:return""}}function zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xc:return"Fragment";case Yc:return"Portal";case Vw:return"Profiler";case dE:return"StrictMode";case Bw:return"Suspense";case Uw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _M:return(t.displayName||"Context")+".Consumer";case SM:return(t._context.displayName||"Context")+".Provider";case fE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hE:return e=t.displayName||null,e!==null?e:zw(t.type)||"Memo";case Ca:e=t._payload,t=t._init;try{return zw(t(e))}catch{}}return null}function w8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zw(e);case 8:return e===dE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S8(t){var e=TM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=S8(t))}function CM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ww(t,e){var n=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AM(t,e){e=e.checked,e!=null&&uE(t,"checked",e,!1)}function Hw(t,e){AM(t,e);var n=rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qw(t,e.type,n):e.hasOwnProperty("defaultValue")&&qw(t,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qw(t,e,n){(e!=="number"||Jg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rf=Array.isArray;function du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Rf(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rl(n)}}function PM(t,e){var n=rl(e.value),r=rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cm,jM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cm=Cm||document.createElement("div"),Cm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_8=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(t){_8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wf[e]=Wf[t]})});function kM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wf.hasOwnProperty(t)&&Wf[t]?(""+e).trim():e+"px"}function IM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var E8=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(t,e){if(e){if(E8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function Xw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qw=null;function pE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jw=null,fu=null,hu=null;function SP(t){if(t=Fp(t)){if(typeof Jw!="function")throw Error(be(280));var e=t.stateNode;e&&(e=lx(e),Jw(t.stateNode,t.type,e))}}function OM(t){fu?hu?hu.push(t):hu=[t]:fu=t}function RM(){if(fu){var t=fu,e=hu;if(hu=fu=null,SP(t),e)for(t=0;t<e.length;t++)SP(e[t])}}function MM(t,e){return t(e)}function DM(){}var lb=!1;function LM(t,e,n){if(lb)return t(e,n);lb=!0;try{return MM(t,e,n)}finally{lb=!1,(fu!==null||hu!==null)&&(DM(),RM())}}function yh(t,e){var n=t.stateNode;if(n===null)return null;var r=lx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var Zw=!1;if(Yo)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){Zw=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{Zw=!1}function T8(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Hf=!1,Zg=null,ey=!1,e1=null,C8={onError:function(t){Hf=!0,Zg=t}};function A8(t,e,n,r,i,s,o,a,c){Hf=!1,Zg=null,T8.apply(C8,arguments)}function P8(t,e,n,r,i,s,o,a,c){if(A8.apply(this,arguments),Hf){if(Hf){var u=Zg;Hf=!1,Zg=null}else throw Error(be(198));ey||(ey=!0,e1=u)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $M(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _P(t){if(_c(t)!==t)throw Error(be(188))}function N8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _P(i),t;if(s===r)return _P(i),e;s=s.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function FM(t){return t=N8(t),t!==null?VM(t):null}function VM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VM(t);if(e!==null)return e;t=t.sibling}return null}var BM=Ri.unstable_scheduleCallback,EP=Ri.unstable_cancelCallback,j8=Ri.unstable_shouldYield,k8=Ri.unstable_requestPaint,On=Ri.unstable_now,I8=Ri.unstable_getCurrentPriorityLevel,mE=Ri.unstable_ImmediatePriority,UM=Ri.unstable_UserBlockingPriority,ty=Ri.unstable_NormalPriority,O8=Ri.unstable_LowPriority,zM=Ri.unstable_IdlePriority,ix=null,io=null;function R8(t){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(ix,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:L8,M8=Math.log,D8=Math.LN2;function L8(t){return t>>>=0,t===0?32:31-(M8(t)/D8|0)|0}var Am=64,Pm=4194304;function Mf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ny(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Mf(a):(s&=o,s!==0&&(r=Mf(s)))}else o=n&~i,o!==0?r=Mf(o):s!==0&&(r=Mf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Os(e),i=1<<n,r|=t[n],e&=~i;return r}function $8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Os(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=$8(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function t1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WM(){var t=Am;return Am<<=1,!(Am&4194240)&&(Am=64),t}function cb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=n}function V8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Os(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function HM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qM,yE,GM,KM,YM,n1=!1,Nm=[],Ua=null,za=null,Wa=null,vh=new Map,xh=new Map,Na=[],B8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TP(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(e.pointerId)}}function hf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fp(e),e!==null&&yE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function U8(t,e,n,r,i){switch(e){case"focusin":return Ua=hf(Ua,t,e,n,r,i),!0;case"dragenter":return za=hf(za,t,e,n,r,i),!0;case"mouseover":return Wa=hf(Wa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vh.set(s,hf(vh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xh.set(s,hf(xh.get(s)||null,t,e,n,r,i)),!0}return!1}function XM(t){var e=Ml(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=$M(n),e!==null){t.blockedOn=e,YM(t.priority,function(){GM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qw=r,n.target.dispatchEvent(r),Qw=null}else return e=Fp(n),e!==null&&yE(e),t.blockedOn=n,!1;e.shift()}return!0}function CP(t,e,n){Sg(t)&&n.delete(e)}function z8(){n1=!1,Ua!==null&&Sg(Ua)&&(Ua=null),za!==null&&Sg(za)&&(za=null),Wa!==null&&Sg(Wa)&&(Wa=null),vh.forEach(CP),xh.forEach(CP)}function pf(t,e){t.blockedOn===e&&(t.blockedOn=null,n1||(n1=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,z8)))}function bh(t){function e(i){return pf(i,t)}if(0<Nm.length){pf(Nm[0],t);for(var n=1;n<Nm.length;n++){var r=Nm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ua!==null&&pf(Ua,t),za!==null&&pf(za,t),Wa!==null&&pf(Wa,t),vh.forEach(e),xh.forEach(e),n=0;n<Na.length;n++)r=Na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)XM(n),n.blockedOn===null&&Na.shift()}var pu=ca.ReactCurrentBatchConfig,ry=!0;function W8(t,e,n,r){var i=Vt,s=pu.transition;pu.transition=null;try{Vt=1,vE(t,e,n,r)}finally{Vt=i,pu.transition=s}}function H8(t,e,n,r){var i=Vt,s=pu.transition;pu.transition=null;try{Vt=4,vE(t,e,n,r)}finally{Vt=i,pu.transition=s}}function vE(t,e,n,r){if(ry){var i=r1(t,e,n,r);if(i===null)xb(t,e,r,iy,n),TP(t,r);else if(U8(i,t,e,n,r))r.stopPropagation();else if(TP(t,r),e&4&&-1<B8.indexOf(t)){for(;i!==null;){var s=Fp(i);if(s!==null&&qM(s),s=r1(t,e,n,r),s===null&&xb(t,e,r,iy,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xb(t,e,r,null,n)}}var iy=null;function r1(t,e,n,r){if(iy=null,t=pE(r),t=Ml(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$M(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iy=t,null}function QM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I8()){case mE:return 1;case UM:return 4;case ty:case O8:return 16;case zM:return 536870912;default:return 16}default:return 16}}var $a=null,xE=null,_g=null;function JM(){if(_g)return _g;var t,e=xE,n=e.length,r,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _g=i.slice(t,1<r?1-r:void 0)}function Eg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jm(){return!0}function AP(){return!1}function Li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jm:AP,this.isPropagationStopped=AP,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),e}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bE=Li(Pd),$p=Tn({},Pd,{view:0,detail:0}),q8=Li($p),ub,db,mf,sx=Tn({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mf&&(mf&&t.type==="mousemove"?(ub=t.screenX-mf.screenX,db=t.screenY-mf.screenY):db=ub=0,mf=t),ub)},movementY:function(t){return"movementY"in t?t.movementY:db}}),PP=Li(sx),G8=Tn({},sx,{dataTransfer:0}),K8=Li(G8),Y8=Tn({},$p,{relatedTarget:0}),fb=Li(Y8),X8=Tn({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),Q8=Li(X8),J8=Tn({},Pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z8=Li(J8),ez=Tn({},Pd,{data:0}),NP=Li(ez),tz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rz[t])?!!e[t]:!1}function wE(){return iz}var sz=Tn({},$p,{key:function(t){if(t.key){var e=tz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wE,charCode:function(t){return t.type==="keypress"?Eg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oz=Li(sz),az=Tn({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jP=Li(az),lz=Tn({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wE}),cz=Li(lz),uz=Tn({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dz=Li(uz),fz=Tn({},sx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=Li(fz),pz=[9,13,27,32],SE=Yo&&"CompositionEvent"in window,qf=null;Yo&&"documentMode"in document&&(qf=document.documentMode);var mz=Yo&&"TextEvent"in window&&!qf,ZM=Yo&&(!SE||qf&&8<qf&&11>=qf),kP=" ",IP=!1;function eD(t,e){switch(t){case"keyup":return pz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qc=!1;function gz(t,e){switch(t){case"compositionend":return tD(e);case"keypress":return e.which!==32?null:(IP=!0,kP);case"textInput":return t=e.data,t===kP&&IP?null:t;default:return null}}function yz(t,e){if(Qc)return t==="compositionend"||!SE&&eD(t,e)?(t=JM(),_g=xE=$a=null,Qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZM&&e.locale!=="ko"?null:e.data;default:return null}}var vz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vz[t.type]:e==="textarea"}function nD(t,e,n,r){OM(r),e=sy(e,"onChange"),0<e.length&&(n=new bE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gf=null,wh=null;function xz(t){hD(t,0)}function ox(t){var e=eu(t);if(CM(e))return t}function bz(t,e){if(t==="change")return e}var rD=!1;if(Yo){var hb;if(Yo){var pb="oninput"in document;if(!pb){var RP=document.createElement("div");RP.setAttribute("oninput","return;"),pb=typeof RP.oninput=="function"}hb=pb}else hb=!1;rD=hb&&(!document.documentMode||9<document.documentMode)}function MP(){Gf&&(Gf.detachEvent("onpropertychange",iD),wh=Gf=null)}function iD(t){if(t.propertyName==="value"&&ox(wh)){var e=[];nD(e,wh,t,pE(t)),LM(xz,e)}}function wz(t,e,n){t==="focusin"?(MP(),Gf=e,wh=n,Gf.attachEvent("onpropertychange",iD)):t==="focusout"&&MP()}function Sz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(wh)}function _z(t,e){if(t==="click")return ox(e)}function Ez(t,e){if(t==="input"||t==="change")return ox(e)}function Tz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:Tz;function Sh(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fw.call(e,i)||!Ls(t[i],e[i]))return!1}return!0}function DP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LP(t,e){var n=DP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DP(n)}}function sD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oD(){for(var t=window,e=Jg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jg(t.document)}return e}function _E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cz(t){var e=oD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sD(n.ownerDocument.documentElement,n)){if(r!==null&&_E(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=LP(n,s);var o=LP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Az=Yo&&"documentMode"in document&&11>=document.documentMode,Jc=null,i1=null,Kf=null,s1=!1;function $P(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s1||Jc==null||Jc!==Jg(r)||(r=Jc,"selectionStart"in r&&_E(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kf&&Sh(Kf,r)||(Kf=r,r=sy(i1,"onSelect"),0<r.length&&(e=new bE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jc)))}function km(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zc={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},mb={},aD={};Yo&&(aD=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function ax(t){if(mb[t])return mb[t];if(!Zc[t])return t;var e=Zc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aD)return mb[t]=e[n];return t}var lD=ax("animationend"),cD=ax("animationiteration"),uD=ax("animationstart"),dD=ax("transitionend"),fD=new Map,FP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){fD.set(t,e),Sc(e,[t])}for(var gb=0;gb<FP.length;gb++){var yb=FP[gb],Pz=yb.toLowerCase(),Nz=yb[0].toUpperCase()+yb.slice(1);pl(Pz,"on"+Nz)}pl(lD,"onAnimationEnd");pl(cD,"onAnimationIteration");pl(uD,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(dD,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Df));function VP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P8(r,e,void 0,t),t.currentTarget=null}function hD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;VP(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;VP(i,a,u),s=c}}}if(ey)throw t=e1,ey=!1,e1=null,t}function on(t,e){var n=e[u1];n===void 0&&(n=e[u1]=new Set);var r=t+"__bubble";n.has(r)||(pD(e,t,2,!1),n.add(r))}function vb(t,e,n){var r=0;e&&(r|=4),pD(n,t,r,e)}var Im="_reactListening"+Math.random().toString(36).slice(2);function _h(t){if(!t[Im]){t[Im]=!0,wM.forEach(function(n){n!=="selectionchange"&&(jz.has(n)||vb(n,!1,t),vb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Im]||(e[Im]=!0,vb("selectionchange",!1,e))}}function pD(t,e,n,r){switch(QM(e)){case 1:var i=W8;break;case 4:i=H8;break;default:i=vE}n=i.bind(null,e,n,t),i=void 0,!Zw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ml(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LM(function(){var u=s,d=pE(n),f=[];e:{var h=fD.get(t);if(h!==void 0){var m=bE,v=t;switch(t){case"keypress":if(Eg(n)===0)break e;case"keydown":case"keyup":m=oz;break;case"focusin":v="focus",m=fb;break;case"focusout":v="blur",m=fb;break;case"beforeblur":case"afterblur":m=fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=PP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=K8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cz;break;case lD:case cD:case uD:m=Q8;break;case dD:m=dz;break;case"scroll":m=q8;break;case"wheel":m=hz;break;case"copy":case"cut":case"paste":m=Z8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jP}var g=(e&4)!==0,y=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,S;w!==null;){S=w;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,b!==null&&(A=yh(w,b),A!=null&&g.push(Eh(w,A,S)))),y)break;w=w.return}0<g.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Qw&&(v=n.relatedTarget||n.fromElement)&&(Ml(v)||v[Xo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ml(v):null,v!==null&&(y=_c(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=PP,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=jP,A="onPointerLeave",b="onPointerEnter",w="pointer"),y=m==null?h:eu(m),S=v==null?h:eu(v),h=new g(A,w+"leave",m,n,d),h.target=y,h.relatedTarget=S,A=null,Ml(d)===u&&(g=new g(b,w+"enter",v,n,d),g.target=S,g.relatedTarget=y,A=g),y=A,m&&v)t:{for(g=m,b=v,w=0,S=g;S;S=Rc(S))w++;for(S=0,A=b;A;A=Rc(A))S++;for(;0<w-S;)g=Rc(g),w--;for(;0<S-w;)b=Rc(b),S--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=Rc(g),b=Rc(b)}g=null}else g=null;m!==null&&BP(f,h,m,g,!1),v!==null&&y!==null&&BP(f,y,v,g,!0)}}e:{if(h=u?eu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=bz;else if(OP(h))if(rD)E=Ez;else{E=Sz;var N=wz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_z);if(E&&(E=E(t,u))){nD(f,E,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&qw(h,"number",h.value)}switch(N=u?eu(u):window,t){case"focusin":(OP(N)||N.contentEditable==="true")&&(Jc=N,i1=u,Kf=null);break;case"focusout":Kf=i1=Jc=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,$P(f,n,d);break;case"selectionchange":if(Az)break;case"keydown":case"keyup":$P(f,n,d)}var _;if(SE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qc?eD(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ZM&&n.locale!=="ko"&&(Qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qc&&(_=JM()):($a=d,xE="value"in $a?$a.value:$a.textContent,Qc=!0)),N=sy(u,T),0<N.length&&(T=new NP(T,t,null,n,d),f.push({event:T,listeners:N}),_?T.data=_:(_=tD(n),_!==null&&(T.data=_)))),(_=mz?gz(t,n):yz(t,n))&&(u=sy(u,"onBeforeInput"),0<u.length&&(d=new NP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}hD(f,e)})}function Eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yh(t,n),s!=null&&r.unshift(Eh(t,s,i)),s=yh(t,e),s!=null&&r.push(Eh(t,s,i))),t=t.return}return r}function Rc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function BP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=yh(n,s),c!=null&&o.unshift(Eh(n,c,a))):i||(c=yh(n,s),c!=null&&o.push(Eh(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kz=/\r\n?/g,Iz=/\u0000|\uFFFD/g;function UP(t){return(typeof t=="string"?t:""+t).replace(kz,`
`).replace(Iz,"")}function Om(t,e,n){if(e=UP(e),UP(t)!==e&&n)throw Error(be(425))}function oy(){}var o1=null,a1=null;function l1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,Oz=typeof clearTimeout=="function"?clearTimeout:void 0,zP=typeof Promise=="function"?Promise:void 0,Rz=typeof queueMicrotask=="function"?queueMicrotask:typeof zP<"u"?function(t){return zP.resolve(null).then(t).catch(Mz)}:c1;function Mz(t){setTimeout(function(){throw t})}function bb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bh(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),to="__reactFiber$"+Nd,Th="__reactProps$"+Nd,Xo="__reactContainer$"+Nd,u1="__reactEvents$"+Nd,Dz="__reactListeners$"+Nd,Lz="__reactHandles$"+Nd;function Ml(t){var e=t[to];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xo]||n[to]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WP(t);t!==null;){if(n=t[to])return n;t=WP(t)}return e}t=n,n=t.parentNode}return null}function Fp(t){return t=t[to]||t[Xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function lx(t){return t[Th]||null}var d1=[],tu=-1;function ml(t){return{current:t}}function dn(t){0>tu||(t.current=d1[tu],d1[tu]=null,tu--)}function tn(t,e){tu++,d1[tu]=t.current,t.current=e}var il={},Wr=ml(il),fi=ml(!1),rc=il;function Fu(t,e){var n=t.type.contextTypes;if(!n)return il;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function ay(){dn(fi),dn(Wr)}function HP(t,e,n){if(Wr.current!==il)throw Error(be(168));tn(Wr,e),tn(fi,n)}function mD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,w8(t)||"Unknown",i));return Tn({},n,r)}function ly(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||il,rc=Wr.current,tn(Wr,t),tn(fi,fi.current),!0}function qP(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=mD(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,dn(fi),dn(Wr),tn(Wr,t)):dn(fi),tn(fi,n)}var Ro=null,cx=!1,wb=!1;function gD(t){Ro===null?Ro=[t]:Ro.push(t)}function $z(t){cx=!0,gD(t)}function gl(){if(!wb&&Ro!==null){wb=!0;var t=0,e=Vt;try{var n=Ro;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ro=null,cx=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(t+1)),BM(mE,gl),i}finally{Vt=e,wb=!1}}return null}var nu=[],ru=0,cy=null,uy=0,Gi=[],Ki=0,ic=null,$o=1,Fo="";function Nl(t,e){nu[ru++]=uy,nu[ru++]=cy,cy=t,uy=e}function yD(t,e,n){Gi[Ki++]=$o,Gi[Ki++]=Fo,Gi[Ki++]=ic,ic=t;var r=$o;t=Fo;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var s=32-Os(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$o=1<<32-Os(e)+i|n<<i|r,Fo=s+t}else $o=1<<s|n<<i|r,Fo=t}function EE(t){t.return!==null&&(Nl(t,1),yD(t,1,0))}function TE(t){for(;t===cy;)cy=nu[--ru],nu[ru]=null,uy=nu[--ru],nu[ru]=null;for(;t===ic;)ic=Gi[--Ki],Gi[Ki]=null,Fo=Gi[--Ki],Gi[Ki]=null,$o=Gi[--Ki],Gi[Ki]=null}var Ii=null,ki=null,pn=!1,Ts=null;function vD(t,e){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ii=t,ki=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ii=t,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:$o,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ii=t,ki=null,!0):!1;default:return!1}}function f1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function h1(t){if(pn){var e=ki;if(e){var n=e;if(!GP(t,e)){if(f1(t))throw Error(be(418));e=Ha(n.nextSibling);var r=Ii;e&&GP(t,e)?vD(r,n):(t.flags=t.flags&-4097|2,pn=!1,Ii=t)}}else{if(f1(t))throw Error(be(418));t.flags=t.flags&-4097|2,pn=!1,Ii=t}}}function KP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ii=t}function Rm(t){if(t!==Ii)return!1;if(!pn)return KP(t),pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l1(t.type,t.memoizedProps)),e&&(e=ki)){if(f1(t))throw xD(),Error(be(418));for(;e;)vD(t,e),e=Ha(e.nextSibling)}if(KP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ki=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ki=null}}else ki=Ii?Ha(t.stateNode.nextSibling):null;return!0}function xD(){for(var t=ki;t;)t=Ha(t.nextSibling)}function Vu(){ki=Ii=null,pn=!1}function CE(t){Ts===null?Ts=[t]:Ts.push(t)}var Fz=ca.ReactCurrentBatchConfig;function gf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Mm(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YP(t){var e=t._init;return e(t._payload)}function bD(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Ya(b,w),b.index=0,b.sibling=null,b}function s(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,S,A){return w===null||w.tag!==6?(w=Pb(S,b.mode,A),w.return=b,w):(w=i(w,S),w.return=b,w)}function c(b,w,S,A){var E=S.type;return E===Xc?d(b,w,S.props.children,A,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&YP(E)===w.type)?(A=i(w,S.props),A.ref=gf(b,w,S),A.return=b,A):(A=kg(S.type,S.key,S.props,null,b.mode,A),A.ref=gf(b,w,S),A.return=b,A)}function u(b,w,S,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Nb(S,b.mode,A),w.return=b,w):(w=i(w,S.children||[]),w.return=b,w)}function d(b,w,S,A,E){return w===null||w.tag!==7?(w=Ql(S,b.mode,A,E),w.return=b,w):(w=i(w,S),w.return=b,w)}function f(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pb(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Em:return S=kg(w.type,w.key,w.props,null,b.mode,S),S.ref=gf(b,null,w),S.return=b,S;case Yc:return w=Nb(w,b.mode,S),w.return=b,w;case Ca:var A=w._init;return f(b,A(w._payload),S)}if(Rf(w)||df(w))return w=Ql(w,b.mode,S,null),w.return=b,w;Mm(b,w)}return null}function h(b,w,S,A){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(b,w,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Em:return S.key===E?c(b,w,S,A):null;case Yc:return S.key===E?u(b,w,S,A):null;case Ca:return E=S._init,h(b,w,E(S._payload),A)}if(Rf(S)||df(S))return E!==null?null:d(b,w,S,A,null);Mm(b,S)}return null}function m(b,w,S,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(S)||null,a(w,b,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Em:return b=b.get(A.key===null?S:A.key)||null,c(w,b,A,E);case Yc:return b=b.get(A.key===null?S:A.key)||null,u(w,b,A,E);case Ca:var N=A._init;return m(b,w,S,N(A._payload),E)}if(Rf(A)||df(A))return b=b.get(S)||null,d(w,b,A,E,null);Mm(w,A)}return null}function v(b,w,S,A){for(var E=null,N=null,_=w,T=w=0,P=null;_!==null&&T<S.length;T++){_.index>T?(P=_,_=null):P=_.sibling;var I=h(b,_,S[T],A);if(I===null){_===null&&(_=P);break}t&&_&&I.alternate===null&&e(b,_),w=s(I,w,T),N===null?E=I:N.sibling=I,N=I,_=P}if(T===S.length)return n(b,_),pn&&Nl(b,T),E;if(_===null){for(;T<S.length;T++)_=f(b,S[T],A),_!==null&&(w=s(_,w,T),N===null?E=_:N.sibling=_,N=_);return pn&&Nl(b,T),E}for(_=r(b,_);T<S.length;T++)P=m(_,b,T,S[T],A),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?T:P.key),w=s(P,w,T),N===null?E=P:N.sibling=P,N=P);return t&&_.forEach(function(j){return e(b,j)}),pn&&Nl(b,T),E}function g(b,w,S,A){var E=df(S);if(typeof E!="function")throw Error(be(150));if(S=E.call(S),S==null)throw Error(be(151));for(var N=E=null,_=w,T=w=0,P=null,I=S.next();_!==null&&!I.done;T++,I=S.next()){_.index>T?(P=_,_=null):P=_.sibling;var j=h(b,_,I.value,A);if(j===null){_===null&&(_=P);break}t&&_&&j.alternate===null&&e(b,_),w=s(j,w,T),N===null?E=j:N.sibling=j,N=j,_=P}if(I.done)return n(b,_),pn&&Nl(b,T),E;if(_===null){for(;!I.done;T++,I=S.next())I=f(b,I.value,A),I!==null&&(w=s(I,w,T),N===null?E=I:N.sibling=I,N=I);return pn&&Nl(b,T),E}for(_=r(b,_);!I.done;T++,I=S.next())I=m(_,b,T,I.value,A),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?T:I.key),w=s(I,w,T),N===null?E=I:N.sibling=I,N=I);return t&&_.forEach(function(O){return e(b,O)}),pn&&Nl(b,T),E}function y(b,w,S,A){if(typeof S=="object"&&S!==null&&S.type===Xc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Em:e:{for(var E=S.key,N=w;N!==null;){if(N.key===E){if(E=S.type,E===Xc){if(N.tag===7){n(b,N.sibling),w=i(N,S.props.children),w.return=b,b=w;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&YP(E)===N.type){n(b,N.sibling),w=i(N,S.props),w.ref=gf(b,N,S),w.return=b,b=w;break e}n(b,N);break}else e(b,N);N=N.sibling}S.type===Xc?(w=Ql(S.props.children,b.mode,A,S.key),w.return=b,b=w):(A=kg(S.type,S.key,S.props,null,b.mode,A),A.ref=gf(b,w,S),A.return=b,b=A)}return o(b);case Yc:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=i(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Nb(S,b.mode,A),w.return=b,b=w}return o(b);case Ca:return N=S._init,y(b,w,N(S._payload),A)}if(Rf(S))return v(b,w,S,A);if(df(S))return g(b,w,S,A);Mm(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,S),w.return=b,b=w):(n(b,w),w=Pb(S,b.mode,A),w.return=b,b=w),o(b)):n(b,w)}return y}var Bu=bD(!0),wD=bD(!1),dy=ml(null),fy=null,iu=null,AE=null;function PE(){AE=iu=fy=null}function NE(t){var e=dy.current;dn(dy),t._currentValue=e}function p1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mu(t,e){fy=t,AE=iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function rs(t){var e=t._currentValue;if(AE!==t)if(t={context:t,memoizedValue:e,next:null},iu===null){if(fy===null)throw Error(be(308));iu=t,fy.dependencies={lanes:0,firstContext:t}}else iu=iu.next=t;return e}var Dl=null;function jE(t){Dl===null?Dl=[t]:Dl.push(t)}function SD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function kE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _D(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,jE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function Tg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gE(t,n)}}function XP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hy(t,e,n,r){var i=t.updateQueue;Aa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Tn({},f,h);break e;case 2:Aa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oc|=o,t.lanes=o,t.memoizedState=f}}function QP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Vp={},so=ml(Vp),Ch=ml(Vp),Ah=ml(Vp);function Ll(t){if(t===Vp)throw Error(be(174));return t}function IE(t,e){switch(tn(Ah,e),tn(Ch,t),tn(so,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kw(e,t)}dn(so),tn(so,e)}function Uu(){dn(so),dn(Ch),dn(Ah)}function ED(t){Ll(Ah.current);var e=Ll(so.current),n=Kw(e,t.type);e!==n&&(tn(Ch,t),tn(so,n))}function OE(t){Ch.current===t&&(dn(so),dn(Ch))}var wn=ml(0);function py(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sb=[];function RE(){for(var t=0;t<Sb.length;t++)Sb[t]._workInProgressVersionPrimary=null;Sb.length=0}var Cg=ca.ReactCurrentDispatcher,_b=ca.ReactCurrentBatchConfig,sc=0,En=null,Qn=null,dr=null,my=!1,Yf=!1,Ph=0,Vz=0;function Rr(){throw Error(be(321))}function ME(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function DE(t,e,n,r,i,s){if(sc=s,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cg.current=t===null||t.memoizedState===null?Wz:Hz,t=n(r,i),Yf){s=0;do{if(Yf=!1,Ph=0,25<=s)throw Error(be(301));s+=1,dr=Qn=null,e.updateQueue=null,Cg.current=qz,t=n(r,i)}while(Yf)}if(Cg.current=gy,e=Qn!==null&&Qn.next!==null,sc=0,dr=Qn=En=null,my=!1,e)throw Error(be(300));return t}function LE(){var t=Ph!==0;return Ph=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?En.memoizedState=dr=t:dr=dr.next=t,dr}function is(){if(Qn===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=dr===null?En.memoizedState:dr.next;if(e!==null)dr=e,Qn=t;else{if(t===null)throw Error(be(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},dr===null?En.memoizedState=dr=t:dr=dr.next=t}return dr}function Nh(t,e){return typeof e=="function"?e(t):e}function Eb(t){var e=is(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((sc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,En.lanes|=d,oc|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Ls(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,En.lanes|=s,oc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tb(t){var e=is(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ls(s,e.memoizedState)||(ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function TD(){}function CD(t,e){var n=En,r=is(),i=e(),s=!Ls(r.memoizedState,i);if(s&&(r.memoizedState=i,ui=!0),r=r.queue,$E(ND.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,jh(9,PD.bind(null,n,r,i,e),void 0,null),pr===null)throw Error(be(349));sc&30||AD(n,e,i)}return i}function AD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PD(t,e,n,r){e.value=n,e.getSnapshot=r,jD(e)&&kD(t)}function ND(t,e,n){return n(function(){jD(e)&&kD(t)})}function jD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function kD(t){var e=Qo(t,1);e!==null&&Rs(e,t,1,-1)}function JP(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},e.queue=t,t=t.dispatch=zz.bind(null,En,t),[e.memoizedState,t]}function jh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ID(){return is().memoizedState}function Ag(t,e,n,r){var i=Ks();En.flags|=t,i.memoizedState=jh(1|e,n,void 0,r===void 0?null:r)}function ux(t,e,n,r){var i=is();r=r===void 0?null:r;var s=void 0;if(Qn!==null){var o=Qn.memoizedState;if(s=o.destroy,r!==null&&ME(r,o.deps)){i.memoizedState=jh(e,n,s,r);return}}En.flags|=t,i.memoizedState=jh(1|e,n,s,r)}function ZP(t,e){return Ag(8390656,8,t,e)}function $E(t,e){return ux(2048,8,t,e)}function OD(t,e){return ux(4,2,t,e)}function RD(t,e){return ux(4,4,t,e)}function MD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DD(t,e,n){return n=n!=null?n.concat([t]):null,ux(4,4,MD.bind(null,e,t),n)}function FE(){}function LD(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ME(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $D(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ME(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FD(t,e,n){return sc&21?(Ls(n,e)||(n=WM(),En.lanes|=n,oc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function Bz(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=_b.transition;_b.transition={};try{t(!1),e()}finally{Vt=n,_b.transition=r}}function VD(){return is().memoizedState}function Uz(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BD(t))UD(e,n);else if(n=SD(t,e,n,r),n!==null){var i=Jr();Rs(n,t,r,i),zD(n,e,r)}}function zz(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BD(t))UD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ls(a,o)){var c=e.interleaved;c===null?(i.next=i,jE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=SD(t,e,i,r),n!==null&&(i=Jr(),Rs(n,t,r,i),zD(n,e,r))}}function BD(t){var e=t.alternate;return t===En||e!==null&&e===En}function UD(t,e){Yf=my=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gE(t,n)}}var gy={readContext:rs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},Wz={readContext:rs,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:rs,useEffect:ZP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ag(4194308,4,MD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ag(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ag(4,2,t,e)},useMemo:function(t,e){var n=Ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uz.bind(null,En,t),[r.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:JP,useDebugValue:FE,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=JP(!1),e=t[0];return t=Bz.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=En,i=Ks();if(pn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),pr===null)throw Error(be(349));sc&30||AD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ZP(ND.bind(null,r,s,t),[t]),r.flags|=2048,jh(9,PD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ks(),e=pr.identifierPrefix;if(pn){var n=Fo,r=$o;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ph++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hz={readContext:rs,useCallback:LD,useContext:rs,useEffect:$E,useImperativeHandle:DD,useInsertionEffect:OD,useLayoutEffect:RD,useMemo:$D,useReducer:Eb,useRef:ID,useState:function(){return Eb(Nh)},useDebugValue:FE,useDeferredValue:function(t){var e=is();return FD(e,Qn.memoizedState,t)},useTransition:function(){var t=Eb(Nh)[0],e=is().memoizedState;return[t,e]},useMutableSource:TD,useSyncExternalStore:CD,useId:VD,unstable_isNewReconciler:!1},qz={readContext:rs,useCallback:LD,useContext:rs,useEffect:$E,useImperativeHandle:DD,useInsertionEffect:OD,useLayoutEffect:RD,useMemo:$D,useReducer:Tb,useRef:ID,useState:function(){return Tb(Nh)},useDebugValue:FE,useDeferredValue:function(t){var e=is();return Qn===null?e.memoizedState=t:FD(e,Qn.memoizedState,t)},useTransition:function(){var t=Tb(Nh)[0],e=is().memoizedState;return[t,e]},useMutableSource:TD,useSyncExternalStore:CD,useId:VD,unstable_isNewReconciler:!1};function xs(t,e){if(t&&t.defaultProps){e=Tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dx={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),s=Wo(r,i);s.payload=e,n!=null&&(s.callback=n),e=qa(t,s,i),e!==null&&(Rs(e,t,i,r),Tg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),s=Wo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qa(t,s,i),e!==null&&(Rs(e,t,i,r),Tg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=Ka(t),i=Wo(n,r);i.tag=2,e!=null&&(i.callback=e),e=qa(t,i,r),e!==null&&(Rs(e,t,r,n),Tg(e,t,r))}};function eN(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sh(n,r)||!Sh(i,s):!0}function WD(t,e,n){var r=!1,i=il,s=e.contextType;return typeof s=="object"&&s!==null?s=rs(s):(i=hi(e)?rc:Wr.current,r=e.contextTypes,s=(r=r!=null)?Fu(t,i):il),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dx.enqueueReplaceState(e,e.state,null)}function g1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rs(s):(s=hi(e)?rc:Wr.current,i.context=Fu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(m1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dx.enqueueReplaceState(i,i.state,null),hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zu(t,e){try{var n="",r=e;do n+=b8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gz=typeof WeakMap=="function"?WeakMap:Map;function HD(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vy||(vy=!0,A1=r),y1(t,e)},n}function qD(t,e,n){n=Wo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){y1(t,e),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=a7.bind(null,t,e,n),e.then(t,t))}function rN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,qa(n,e,1))),n.lanes|=1),t)}var Kz=ca.ReactCurrentOwner,ui=!1;function Yr(t,e,n,r){e.child=t===null?wD(e,null,n,r):Bu(e,t.child,n,r)}function sN(t,e,n,r,i){n=n.render;var s=e.ref;return mu(e,i),r=DE(t,e,n,r,s,i),n=LE(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(pn&&n&&EE(e),e.flags|=1,Yr(t,e,r,i),e.child)}function oN(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!GE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GD(t,e,s,r,i)):(t=kg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sh,n(o,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Ya(s,r),t.ref=e.ref,t.return=e,e.child=t}function GD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sh(s,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return v1(t,e,n,r,i)}function KD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(ou,Ei),Ei|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tn(ou,Ei),Ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tn(ou,Ei),Ei|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tn(ou,Ei),Ei|=r;return Yr(t,e,i,n),e.child}function YD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function v1(t,e,n,r,i){var s=hi(n)?rc:Wr.current;return s=Fu(e,s),mu(e,i),n=DE(t,e,n,r,s,i),r=LE(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(pn&&r&&EE(e),e.flags|=1,Yr(t,e,n,i),e.child)}function aN(t,e,n,r,i){if(hi(n)){var s=!0;ly(e)}else s=!1;if(mu(e,i),e.stateNode===null)Pg(t,e),WD(e,n,r),g1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rs(u):(u=hi(n)?rc:Wr.current,u=Fu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&tN(e,o,r,u),Aa=!1;var h=e.memoizedState;o.state=h,hy(e,r,o,i),c=e.memoizedState,a!==r||h!==c||fi.current||Aa?(typeof d=="function"&&(m1(e,n,d,r),c=e.memoizedState),(a=Aa||eN(e,n,a,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_D(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xs(e.type,a),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rs(c):(c=hi(n)?rc:Wr.current,c=Fu(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&tN(e,o,r,c),Aa=!1,h=e.memoizedState,o.state=h,hy(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||fi.current||Aa?(typeof m=="function"&&(m1(e,n,m,r),v=e.memoizedState),(u=Aa||eN(e,n,u,r,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return x1(t,e,n,r,s,i)}function x1(t,e,n,r,i,s){YD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qP(e,n,!1),Jo(t,e,s);r=e.stateNode,Kz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bu(e,t.child,null,s),e.child=Bu(e,null,a,s)):Yr(t,e,a,s),e.memoizedState=r.state,i&&qP(e,n,!0),e.child}function XD(t){var e=t.stateNode;e.pendingContext?HP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HP(t,e.context,!1),IE(t,e.containerInfo)}function lN(t,e,n,r,i){return Vu(),CE(i),e.flags|=256,Yr(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function w1(t){return{baseLanes:t,cachePool:null,transitions:null}}function QD(t,e,n){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tn(wn,i&1),t===null)return h1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=px(o,r,0,null),t=Ql(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=w1(n),e.memoizedState=b1,t):VE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ya(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ya(a,s):(s=Ql(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?w1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return s=t.child,t=s.sibling,r=Ya(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function VE(t,e){return e=px({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dm(t,e,n,r){return r!==null&&CE(r),Bu(e,t.child,null,n),t=VE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cb(Error(be(422))),Dm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=px({mode:"visible",children:r.children},i,0,null),s=Ql(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bu(e,t.child,null,o),e.child.memoizedState=w1(o),e.memoizedState=b1,s);if(!(e.mode&1))return Dm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(be(419)),r=Cb(s,r,void 0),Dm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ui||a){if(r=pr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qo(t,i),Rs(r,t,i,-1))}return qE(),r=Cb(Error(be(421))),Dm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ki=Ha(i.nextSibling),Ii=e,pn=!0,Ts=null,t!==null&&(Gi[Ki++]=$o,Gi[Ki++]=Fo,Gi[Ki++]=ic,$o=t.id,Fo=t.overflow,ic=e),e=VE(e,r.children),e.flags|=4096,e)}function cN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),p1(t.return,e,n)}function Ab(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yr(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cN(t,n,e);else if(t.tag===19)cN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tn(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&py(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ab(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&py(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ab(e,!0,n,null,s);break;case"together":Ab(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xz(t,e,n){switch(e.tag){case 3:XD(e),Vu();break;case 5:ED(e);break;case 1:hi(e.type)&&ly(e);break;case 4:IE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tn(dy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tn(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?QD(t,e,n):(tn(wn,wn.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);tn(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,KD(t,e,n)}return Jo(t,e,n)}var ZD,S1,eL,tL;ZD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S1=function(){};eL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ll(so.current);var s=null;switch(n){case"input":i=Ww(t,i),r=Ww(t,r),s=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),s=[];break;case"textarea":i=Gw(t,i),r=Gw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oy)}Yw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&on("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tL=function(t,e,n,r){n!==r&&(e.flags|=4)};function yf(t,e){if(!pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qz(t,e,n){var r=e.pendingProps;switch(TE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return hi(e.type)&&ay(),Mr(e),null;case 3:return r=e.stateNode,Uu(),dn(fi),dn(Wr),RE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ts!==null&&(j1(Ts),Ts=null))),S1(t,e),Mr(e),null;case 5:OE(e);var i=Ll(Ah.current);if(n=e.type,t!==null&&e.stateNode!=null)eL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Mr(e),null}if(t=Ll(so.current),Rm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[to]=e,r[Th]=s,t=(e.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<Df.length;i++)on(Df[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":vP(r,s),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},on("invalid",r);break;case"textarea":bP(r,s),on("invalid",r)}Yw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",""+a]):mh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&on("scroll",r)}switch(n){case"input":Tm(r),xP(r,s,!0);break;case"textarea":Tm(r),wP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=oy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[to]=e,t[Th]=r,ZD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xw(n,r),n){case"dialog":on("cancel",t),on("close",t),i=r;break;case"iframe":case"object":case"embed":on("load",t),i=r;break;case"video":case"audio":for(i=0;i<Df.length;i++)on(Df[i],t);i=r;break;case"source":on("error",t),i=r;break;case"img":case"image":case"link":on("error",t),on("load",t),i=r;break;case"details":on("toggle",t),i=r;break;case"input":vP(t,r),i=Ww(t,r),on("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),on("invalid",t);break;case"textarea":bP(t,r),i=Gw(t,r),on("invalid",t);break;default:i=r}Yw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?IM(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jM(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gh(t,c):typeof c=="number"&&gh(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&on("scroll",t):c!=null&&uE(t,s,c,o))}switch(n){case"input":Tm(t),xP(t,r,!1);break;case"textarea":Tm(t),wP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?du(t,!!r.multiple,s,!1):r.defaultValue!=null&&du(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)tL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=Ll(Ah.current),Ll(so.current),Rm(e)){if(r=e.stateNode,n=e.memoizedProps,r[to]=e,(s=r.nodeValue!==n)&&(t=Ii,t!==null))switch(t.tag){case 3:Om(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Om(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[to]=e,e.stateNode=r}return Mr(e),null;case 13:if(dn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pn&&ki!==null&&e.mode&1&&!(e.flags&128))xD(),Vu(),e.flags|=98560,s=!1;else if(s=Rm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[to]=e}else Vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),s=!1}else Ts!==null&&(j1(Ts),Ts=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?er===0&&(er=3):qE())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return Uu(),S1(t,e),t===null&&_h(e.stateNode.containerInfo),Mr(e),null;case 10:return NE(e.type._context),Mr(e),null;case 17:return hi(e.type)&&ay(),Mr(e),null;case 19:if(dn(wn),s=e.memoizedState,s===null)return Mr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)yf(s,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=py(t),o!==null){for(e.flags|=128,yf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tn(wn,wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>Wu&&(e.flags|=128,r=!0,yf(s,!1),e.lanes=4194304)}else{if(!r)if(t=py(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pn)return Mr(e),null}else 2*On()-s.renderingStartTime>Wu&&n!==1073741824&&(e.flags|=128,r=!0,yf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,n=wn.current,tn(wn,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return HE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ei&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function Jz(t,e){switch(TE(e),e.tag){case 1:return hi(e.type)&&ay(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uu(),dn(fi),dn(Wr),RE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OE(e),null;case 13:if(dn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dn(wn),null;case 4:return Uu(),null;case 10:return NE(e.type._context),null;case 22:case 23:return HE(),null;case 24:return null;default:return null}}var Lm=!1,Br=!1,Zz=typeof WeakSet=="function"?WeakSet:Set,$e=null;function su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(t,e,r)}else n.current=null}function _1(t,e,n){try{n()}catch(r){Pn(t,e,r)}}var uN=!1;function e7(t,e){if(o1=ry,t=oD(),_E(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(a1={focusedElem:t,selectionRange:n},ry=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:xs(e.type,g),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(A){Pn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return v=uN,uN=!1,v}function Xf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_1(e,n,s)}i=i.next}while(i!==r)}}function fx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function E1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nL(t){var e=t.alternate;e!==null&&(t.alternate=null,nL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[to],delete e[Th],delete e[u1],delete e[Dz],delete e[Lz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rL(t){return t.tag===5||t.tag===3||t.tag===4}function dN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oy));else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}function C1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C1(t,e,n),t=t.sibling;t!==null;)C1(t,e,n),t=t.sibling}var Sr=null,Ss=!1;function ba(t,e,n){for(n=n.child;n!==null;)iL(t,e,n),n=n.sibling}function iL(t,e,n){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(ix,n)}catch{}switch(n.tag){case 5:Br||su(n,e);case 6:var r=Sr,i=Ss;Sr=null,ba(t,e,n),Sr=r,Ss=i,Sr!==null&&(Ss?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(Ss?(t=Sr,n=n.stateNode,t.nodeType===8?bb(t.parentNode,n):t.nodeType===1&&bb(t,n),bh(t)):bb(Sr,n.stateNode));break;case 4:r=Sr,i=Ss,Sr=n.stateNode.containerInfo,Ss=!0,ba(t,e,n),Sr=r,Ss=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_1(n,e,o),i=i.next}while(i!==r)}ba(t,e,n);break;case 1:if(!Br&&(su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pn(n,e,a)}ba(t,e,n);break;case 21:ba(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,ba(t,e,n),Br=r):ba(t,e,n);break;default:ba(t,e,n)}}function fN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zz),e.forEach(function(r){var i=c7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sr=a.stateNode,Ss=!1;break e;case 3:Sr=a.stateNode.containerInfo,Ss=!0;break e;case 4:Sr=a.stateNode.containerInfo,Ss=!0;break e}a=a.return}if(Sr===null)throw Error(be(160));iL(s,o,i),Sr=null,Ss=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Pn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sL(e,t),e=e.sibling}function sL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gs(e,t),Hs(t),r&4){try{Xf(3,t,t.return),fx(3,t)}catch(g){Pn(t,t.return,g)}try{Xf(5,t,t.return)}catch(g){Pn(t,t.return,g)}}break;case 1:gs(e,t),Hs(t),r&512&&n!==null&&su(n,n.return);break;case 5:if(gs(e,t),Hs(t),r&512&&n!==null&&su(n,n.return),t.flags&32){var i=t.stateNode;try{gh(i,"")}catch(g){Pn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&AM(i,s),Xw(a,o);var u=Xw(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?IM(i,f):d==="dangerouslySetInnerHTML"?jM(i,f):d==="children"?gh(i,f):uE(i,d,f,u)}switch(a){case"input":Hw(i,s);break;case"textarea":PM(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?du(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?du(i,!!s.multiple,s.defaultValue,!0):du(i,!!s.multiple,s.multiple?[]:"",!1))}i[Th]=s}catch(g){Pn(t,t.return,g)}}break;case 6:if(gs(e,t),Hs(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Pn(t,t.return,g)}}break;case 3:if(gs(e,t),Hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bh(e.containerInfo)}catch(g){Pn(t,t.return,g)}break;case 4:gs(e,t),Hs(t);break;case 13:gs(e,t),Hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zE=On())),r&4&&fN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(u=Br)||d,gs(e,t),Br=u):gs(e,t),Hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($e=t,d=t.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Xf(4,h,h.return);break;case 1:su(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Pn(r,n,g)}}break;case 5:su(h,h.return);break;case 22:if(h.memoizedState!==null){pN(f);continue}}m!==null?(m.return=h,$e=m):pN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=kM("display",o))}catch(g){Pn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Pn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(e,t),Hs(t),r&4&&fN(t);break;case 21:break;default:gs(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rL(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gh(i,""),r.flags&=-33);var s=dN(t);C1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dN(t);T1(t,a,o);break;default:throw Error(be(161))}}catch(c){Pn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t7(t,e,n){$e=t,oL(t)}function oL(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lm;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Br;a=Lm;var u=Br;if(Lm=o,(Br=c)&&!u)for($e=i;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?mN(i):c!==null?(c.return=o,$e=c):mN(i);for(;s!==null;)$e=s,oL(s),s=s.sibling;$e=i,Lm=a,Br=u}hN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):hN(t)}}function hN(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||fx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Br||e.flags&512&&E1(e)}catch(h){Pn(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function pN(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function mN(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fx(4,e)}catch(c){Pn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Pn(e,i,c)}}var s=e.return;try{E1(e)}catch(c){Pn(e,s,c)}break;case 5:var o=e.return;try{E1(e)}catch(c){Pn(e,o,c)}}}catch(c){Pn(e,e.return,c)}if(e===t){$e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$e=a;break}$e=e.return}}var n7=Math.ceil,yy=ca.ReactCurrentDispatcher,BE=ca.ReactCurrentOwner,Zi=ca.ReactCurrentBatchConfig,It=0,pr=null,Vn=null,Cr=0,Ei=0,ou=ml(0),er=0,kh=null,oc=0,hx=0,UE=0,Qf=null,ci=null,zE=0,Wu=1/0,Oo=null,vy=!1,A1=null,Ga=null,$m=!1,Fa=null,xy=0,Jf=0,P1=null,Ng=-1,jg=0;function Jr(){return It&6?On():Ng!==-1?Ng:Ng=On()}function Ka(t){return t.mode&1?It&2&&Cr!==0?Cr&-Cr:Fz.transition!==null?(jg===0&&(jg=WM()),jg):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:QM(t.type)),t):1}function Rs(t,e,n,r){if(50<Jf)throw Jf=0,P1=null,Error(be(185));Lp(t,n,r),(!(It&2)||t!==pr)&&(t===pr&&(!(It&2)&&(hx|=n),er===4&&ja(t,Cr)),pi(t,r),n===1&&It===0&&!(e.mode&1)&&(Wu=On()+500,cx&&gl()))}function pi(t,e){var n=t.callbackNode;F8(t,e);var r=ny(t,t===pr?Cr:0);if(r===0)n!==null&&EP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EP(n),e===1)t.tag===0?$z(gN.bind(null,t)):gD(gN.bind(null,t)),Rz(function(){!(It&6)&&gl()}),n=null;else{switch(HM(r)){case 1:n=mE;break;case 4:n=UM;break;case 16:n=ty;break;case 536870912:n=zM;break;default:n=ty}n=pL(n,aL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aL(t,e){if(Ng=-1,jg=0,It&6)throw Error(be(327));var n=t.callbackNode;if(gu()&&t.callbackNode!==n)return null;var r=ny(t,t===pr?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=by(t,r);else{e=r;var i=It;It|=2;var s=cL();(pr!==t||Cr!==e)&&(Oo=null,Wu=On()+500,Xl(t,e));do try{s7();break}catch(a){lL(t,a)}while(!0);PE(),yy.current=s,It=i,Vn!==null?e=0:(pr=null,Cr=0,e=er)}if(e!==0){if(e===2&&(i=t1(t),i!==0&&(r=i,e=N1(t,i))),e===1)throw n=kh,Xl(t,0),ja(t,r),pi(t,On()),n;if(e===6)ja(t,r);else{if(i=t.current.alternate,!(r&30)&&!r7(i)&&(e=by(t,r),e===2&&(s=t1(t),s!==0&&(r=s,e=N1(t,s))),e===1))throw n=kh,Xl(t,0),ja(t,r),pi(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:jl(t,ci,Oo);break;case 3:if(ja(t,r),(r&130023424)===r&&(e=zE+500-On(),10<e)){if(ny(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c1(jl.bind(null,t,ci,Oo),e);break}jl(t,ci,Oo);break;case 4:if(ja(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Os(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n7(r/1960))-r,10<r){t.timeoutHandle=c1(jl.bind(null,t,ci,Oo),r);break}jl(t,ci,Oo);break;case 5:jl(t,ci,Oo);break;default:throw Error(be(329))}}}return pi(t,On()),t.callbackNode===n?aL.bind(null,t):null}function N1(t,e){var n=Qf;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=by(t,e),t!==2&&(e=ci,ci=n,e!==null&&j1(e)),t}function j1(t){ci===null?ci=t:ci.push.apply(ci,t)}function r7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ls(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e){for(e&=~UE,e&=~hx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Os(e),r=1<<n;t[n]=-1,e&=~r}}function gN(t){if(It&6)throw Error(be(327));gu();var e=ny(t,0);if(!(e&1))return pi(t,On()),null;var n=by(t,e);if(t.tag!==0&&n===2){var r=t1(t);r!==0&&(e=r,n=N1(t,r))}if(n===1)throw n=kh,Xl(t,0),ja(t,e),pi(t,On()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,ci,Oo),pi(t,On()),null}function WE(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(Wu=On()+500,cx&&gl())}}function ac(t){Fa!==null&&Fa.tag===0&&!(It&6)&&gu();var e=It;It|=1;var n=Zi.transition,r=Vt;try{if(Zi.transition=null,Vt=1,t)return t()}finally{Vt=r,Zi.transition=n,It=e,!(It&6)&&gl()}}function HE(){Ei=ou.current,dn(ou)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Oz(n)),Vn!==null)for(n=Vn.return;n!==null;){var r=n;switch(TE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ay();break;case 3:Uu(),dn(fi),dn(Wr),RE();break;case 5:OE(r);break;case 4:Uu();break;case 13:dn(wn);break;case 19:dn(wn);break;case 10:NE(r.type._context);break;case 22:case 23:HE()}n=n.return}if(pr=t,Vn=t=Ya(t.current,null),Cr=Ei=e,er=0,kh=null,UE=hx=oc=0,ci=Qf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dl=null}return t}function lL(t,e){do{var n=Vn;try{if(PE(),Cg.current=gy,my){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}my=!1}if(sc=0,dr=Qn=En=null,Yf=!1,Ph=0,BE.current=null,n===null||n.return===null){er=1,kh=e,Vn=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Cr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rN(o);if(m!==null){m.flags&=-257,iN(m,o,a,s,e),m.mode&1&&nN(s,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){nN(s,u,e),qE();break e}c=Error(be(426))}}else if(pn&&a.mode&1){var y=rN(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),iN(y,o,a,s,e),CE(zu(c,a));break e}}s=c=zu(c,a),er!==4&&(er=2),Qf===null?Qf=[s]:Qf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=HD(s,c,e);XP(s,b);break e;case 1:a=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ga===null||!Ga.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=qD(s,a,e);XP(s,A);break e}}s=s.return}while(s!==null)}dL(n)}catch(E){e=E,Vn===n&&n!==null&&(Vn=n=n.return);continue}break}while(!0)}function cL(){var t=yy.current;return yy.current=gy,t===null?gy:t}function qE(){(er===0||er===3||er===2)&&(er=4),pr===null||!(oc&268435455)&&!(hx&268435455)||ja(pr,Cr)}function by(t,e){var n=It;It|=2;var r=cL();(pr!==t||Cr!==e)&&(Oo=null,Xl(t,e));do try{i7();break}catch(i){lL(t,i)}while(!0);if(PE(),It=n,yy.current=r,Vn!==null)throw Error(be(261));return pr=null,Cr=0,er}function i7(){for(;Vn!==null;)uL(Vn)}function s7(){for(;Vn!==null&&!j8();)uL(Vn)}function uL(t){var e=hL(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?dL(t):Vn=e,BE.current=null}function dL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jz(n,e),n!==null){n.flags&=32767,Vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Vn=null;return}}else if(n=Qz(n,e,Ei),n!==null){Vn=n;return}if(e=e.sibling,e!==null){Vn=e;return}Vn=e=t}while(e!==null);er===0&&(er=5)}function jl(t,e,n){var r=Vt,i=Zi.transition;try{Zi.transition=null,Vt=1,o7(t,e,n,r)}finally{Zi.transition=i,Vt=r}return null}function o7(t,e,n,r){do gu();while(Fa!==null);if(It&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(V8(t,s),t===pr&&(Vn=pr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$m||($m=!0,pL(ty,function(){return gu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zi.transition,Zi.transition=null;var o=Vt;Vt=1;var a=It;It|=4,BE.current=null,e7(t,n),sL(n,t),Cz(a1),ry=!!o1,a1=o1=null,t.current=n,t7(n),k8(),It=a,Vt=o,Zi.transition=s}else t.current=n;if($m&&($m=!1,Fa=t,xy=i),s=t.pendingLanes,s===0&&(Ga=null),R8(n.stateNode),pi(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vy)throw vy=!1,t=A1,A1=null,t;return xy&1&&t.tag!==0&&gu(),s=t.pendingLanes,s&1?t===P1?Jf++:(Jf=0,P1=t):Jf=0,gl(),null}function gu(){if(Fa!==null){var t=HM(xy),e=Zi.transition,n=Vt;try{if(Zi.transition=null,Vt=16>t?16:t,Fa===null)var r=!1;else{if(t=Fa,Fa=null,xy=0,It&6)throw Error(be(331));var i=It;for(It|=4,$e=t.current;$e!==null;){var s=$e,o=s.child;if($e.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Xf(8,d,s)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(nL(d),d===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}$e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$e=o;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,$e=b;break e}$e=s.return}}var w=t.current;for($e=w;$e!==null;){o=$e;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,$e=S;else e:for(o=w;$e!==null;){if(a=$e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fx(9,a)}}catch(E){Pn(a,a.return,E)}if(a===o){$e=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,$e=A;break e}$e=a.return}}if(It=i,gl(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(ix,t)}catch{}r=!0}return r}finally{Vt=n,Zi.transition=e}}return!1}function yN(t,e,n){e=zu(n,e),e=HD(t,e,1),t=qa(t,e,1),e=Jr(),t!==null&&(Lp(t,1,e),pi(t,e))}function Pn(t,e,n){if(t.tag===3)yN(t,t,n);else for(;e!==null;){if(e.tag===3){yN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){t=zu(n,t),t=qD(e,t,1),e=qa(e,t,1),t=Jr(),e!==null&&(Lp(e,1,t),pi(e,t));break}}e=e.return}}function a7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,pr===t&&(Cr&n)===n&&(er===4||er===3&&(Cr&130023424)===Cr&&500>On()-zE?Xl(t,0):UE|=n),pi(t,e)}function fL(t,e){e===0&&(t.mode&1?(e=Pm,Pm<<=1,!(Pm&130023424)&&(Pm=4194304)):e=1);var n=Jr();t=Qo(t,e),t!==null&&(Lp(t,e,n),pi(t,n))}function l7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fL(t,n)}function c7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),fL(t,n)}var hL;hL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,Xz(t,e,n);ui=!!(t.flags&131072)}else ui=!1,pn&&e.flags&1048576&&yD(e,uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pg(t,e),t=e.pendingProps;var i=Fu(e,Wr.current);mu(e,n),i=DE(null,e,r,t,i,n);var s=LE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(s=!0,ly(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kE(e),i.updater=dx,e.stateNode=i,i._reactInternals=e,g1(e,r,t,n),e=x1(null,e,r,!0,s,n)):(e.tag=0,pn&&s&&EE(e),Yr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d7(r),t=xs(r,t),i){case 0:e=v1(null,e,r,t,n);break e;case 1:e=aN(null,e,r,t,n);break e;case 11:e=sN(null,e,r,t,n);break e;case 14:e=oN(null,e,r,xs(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),v1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),aN(t,e,r,i,n);case 3:e:{if(XD(e),t===null)throw Error(be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_D(t,e),hy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zu(Error(be(423)),e),e=lN(t,e,r,n,i);break e}else if(r!==i){i=zu(Error(be(424)),e),e=lN(t,e,r,n,i);break e}else for(ki=Ha(e.stateNode.containerInfo.firstChild),Ii=e,pn=!0,Ts=null,n=wD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===i){e=Jo(t,e,n);break e}Yr(t,e,r,n)}e=e.child}return e;case 5:return ED(e),t===null&&h1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,l1(r,i)?o=null:s!==null&&l1(r,s)&&(e.flags|=32),YD(t,e),Yr(t,e,o,n),e.child;case 6:return t===null&&h1(e),null;case 13:return QD(t,e,n);case 4:return IE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bu(e,null,r,n):Yr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),sN(t,e,r,i,n);case 7:return Yr(t,e,e.pendingProps,n),e.child;case 8:return Yr(t,e,e.pendingProps.children,n),e.child;case 12:return Yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tn(dy,r._currentValue),r._currentValue=o,s!==null)if(Ls(s.value,o)){if(s.children===i.children&&!fi.current){e=Jo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Wo(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),p1(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),p1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mu(e,n),i=rs(i),r=r(i),e.flags|=1,Yr(t,e,r,n),e.child;case 14:return r=e.type,i=xs(r,e.pendingProps),i=xs(r.type,i),oN(t,e,r,i,n);case 15:return GD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),Pg(t,e),e.tag=1,hi(r)?(t=!0,ly(e)):t=!1,mu(e,n),WD(e,r,i),g1(e,r,i,n),x1(null,e,r,!0,t,n);case 19:return JD(t,e,n);case 22:return KD(t,e,n)}throw Error(be(156,e.tag))};function pL(t,e){return BM(t,e)}function u7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,e,n,r){return new u7(t,e,n,r)}function GE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d7(t){if(typeof t=="function")return GE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fE)return 11;if(t===hE)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=Qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")GE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xc:return Ql(n.children,i,s,e);case dE:o=8,i|=8;break;case Vw:return t=Qi(12,n,e,i|2),t.elementType=Vw,t.lanes=s,t;case Bw:return t=Qi(13,n,e,i),t.elementType=Bw,t.lanes=s,t;case Uw:return t=Qi(19,n,e,i),t.elementType=Uw,t.lanes=s,t;case EM:return px(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SM:o=10;break e;case _M:o=9;break e;case fE:o=11;break e;case hE:o=14;break e;case Ca:o=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=Qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ql(t,e,n,r){return t=Qi(7,t,r,e),t.lanes=n,t}function px(t,e,n,r){return t=Qi(22,t,r,e),t.elementType=EM,t.lanes=n,t.stateNode={isHidden:!1},t}function Pb(t,e,n){return t=Qi(6,t,null,e),t.lanes=n,t}function Nb(t,e,n){return e=Qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cb(0),this.expirationTimes=cb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KE(t,e,n,r,i,s,o,a,c){return t=new f7(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kE(s),t}function h7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mL(t){if(!t)return il;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(hi(n))return mD(t,n,e)}return e}function gL(t,e,n,r,i,s,o,a,c){return t=KE(n,r,!0,t,i,s,o,a,c),t.context=mL(null),n=t.current,r=Jr(),i=Ka(n),s=Wo(r,i),s.callback=e??null,qa(n,s,i),t.current.lanes=i,Lp(t,i,r),pi(t,r),t}function mx(t,e,n,r){var i=e.current,s=Jr(),o=Ka(i);return n=mL(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qa(i,e,o),t!==null&&(Rs(t,i,o,s),Tg(t,i,o)),o}function wy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YE(t,e){vN(t,e),(t=t.alternate)&&vN(t,e)}function p7(){return null}var yL=typeof reportError=="function"?reportError:function(t){console.error(t)};function XE(t){this._internalRoot=t}gx.prototype.render=XE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));mx(t,e,null,null)};gx.prototype.unmount=XE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){mx(null,t,null,null)}),e[Xo]=null}};function gx(t){this._internalRoot=t}gx.prototype.unstable_scheduleHydration=function(t){if(t){var e=KM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Na.length&&e!==0&&e<Na[n].priority;n++);Na.splice(n,0,t),n===0&&XM(t)}};function QE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xN(){}function m7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wy(o);s.call(u)}}var o=gL(e,r,t,0,null,!1,!1,"",xN);return t._reactRootContainer=o,t[Xo]=o.current,_h(t.nodeType===8?t.parentNode:t),ac(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wy(c);a.call(u)}}var c=KE(t,0,!1,null,null,!1,!1,"",xN);return t._reactRootContainer=c,t[Xo]=c.current,_h(t.nodeType===8?t.parentNode:t),ac(function(){mx(e,c,n,r)}),c}function vx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=wy(o);a.call(c)}}mx(e,o,t,i)}else o=m7(n,e,t,i,r);return wy(o)}qM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mf(e.pendingLanes);n!==0&&(gE(e,n|1),pi(e,On()),!(It&6)&&(Wu=On()+500,gl()))}break;case 13:ac(function(){var r=Qo(t,1);if(r!==null){var i=Jr();Rs(r,t,1,i)}}),YE(t,1)}};yE=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=Jr();Rs(e,t,134217728,n)}YE(t,134217728)}};GM=function(t){if(t.tag===13){var e=Ka(t),n=Qo(t,e);if(n!==null){var r=Jr();Rs(n,t,e,r)}YE(t,e)}};KM=function(){return Vt};YM=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Jw=function(t,e,n){switch(e){case"input":if(Hw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lx(r);if(!i)throw Error(be(90));CM(r),Hw(r,i)}}}break;case"textarea":PM(t,n);break;case"select":e=n.value,e!=null&&du(t,!!n.multiple,e,!1)}};MM=WE;DM=ac;var g7={usingClientEntryPoint:!1,Events:[Fp,eu,lx,OM,RM,WE]},vf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y7={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FM(t),t===null?null:t.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||p7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{ix=Fm.inject(y7),io=Fm}catch{}}Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g7;Di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QE(e))throw Error(be(200));return h7(t,e,null,n)};Di.createRoot=function(t,e){if(!QE(t))throw Error(be(299));var n=!1,r="",i=yL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KE(t,1,!1,null,null,n,!1,r,i),t[Xo]=e.current,_h(t.nodeType===8?t.parentNode:t),new XE(e)};Di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=FM(e),t=t===null?null:t.stateNode,t};Di.flushSync=function(t){return ac(t)};Di.hydrate=function(t,e,n){if(!yx(e))throw Error(be(200));return vx(null,t,e,!0,n)};Di.hydrateRoot=function(t,e,n){if(!QE(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gL(e,null,t,1,n??null,i,!1,s,o),t[Xo]=e.current,_h(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gx(e)};Di.render=function(t,e,n){if(!yx(e))throw Error(be(200));return vx(null,t,e,!1,n)};Di.unmountComponentAtNode=function(t){if(!yx(t))throw Error(be(40));return t._reactRootContainer?(ac(function(){vx(null,null,t,!1,function(){t._reactRootContainer=null,t[Xo]=null})}),!0):!1};Di.unstable_batchedUpdates=WE;Di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yx(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return vx(t,e,n,!1,r)};Di.version="18.3.1-next-f1338f8080-20240426";function vL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vL)}catch(t){console.error(t)}}vL(),vM.exports=Di;var Ec=vM.exports;const v7=Jt(Ec);var xL,bN=Ec;xL=bN.createRoot,bN.hydrateRoot;function x7(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var bL={exports:{}},wL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=x;function b7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var w7=typeof Object.is=="function"?Object.is:b7,S7=Hu.useState,_7=Hu.useEffect,E7=Hu.useLayoutEffect,T7=Hu.useDebugValue;function C7(t,e){var n=e(),r=S7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return E7(function(){i.value=n,i.getSnapshot=e,jb(i)&&s({inst:i})},[t,n,e]),_7(function(){return jb(i)&&s({inst:i}),t(function(){jb(i)&&s({inst:i})})},[t]),T7(n),n}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!w7(t,n)}catch{return!0}}function A7(t,e){return e()}var P7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A7:C7;wL.useSyncExternalStore=Hu.useSyncExternalStore!==void 0?Hu.useSyncExternalStore:P7;bL.exports=wL;var N7=bL.exports;const j7=gM.useInsertionEffect,k7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I7=k7?x.useLayoutEffect:x.useEffect,O7=j7||I7,SL=t=>{const e=x.useRef([t,(...n)=>e[0](...n)]).current;return O7(()=>{e[0]=t}),e[1]},R7="popstate",JE="pushState",ZE="replaceState",M7="hashchange",wN=[R7,JE,ZE,M7],D7=t=>{for(const e of wN)addEventListener(e,t);return()=>{for(const e of wN)removeEventListener(e,t)}},_L=(t,e)=>N7.useSyncExternalStore(D7,t,e),L7=()=>location.search,$7=({ssrSearch:t=""}={})=>_L(L7,()=>t),SN=()=>location.pathname,F7=({ssrPath:t}={})=>_L(SN,t?()=>t:SN),V7=(t,{replace:e=!1,state:n=null}={})=>history[e?ZE:JE](n,"",t),B7=(t={})=>[F7(t),V7],_N=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_N]>"u"){for(const t of[JE,ZE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,_N,{value:!0})}const U7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",EL=(t="")=>t==="/"?"":t,z7=(t,e)=>t[0]==="~"?t.slice(1):EL(e)+t,W7=(t="",e)=>U7(EN(EL(t)),EN(e)),EN=t=>{try{return decodeURI(t)}catch{return t}},TL={hook:B7,searchHook:$7,parser:x7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},CL=x.createContext(TL),Bp=()=>x.useContext(CL),AL={},PL=x.createContext(AL),H7=()=>x.useContext(PL),xx=t=>{const[e,n]=t.hook(t);return[W7(t.base,e),SL((r,i)=>n(z7(r,t.base),i))]},wo=()=>xx(Bp()),NL=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},jL=({children:t,...e})=>{var d,f;const n=Bp(),r=e.hook?TL:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=x.useRef({}),c=a.current,u=c;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];c===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(i=u)}return x.createElement(CL.Provider,{value:i,children:t})},TN=({children:t,component:e},n)=>e?x.createElement(e,{params:n}):typeof t=="function"?t(n):t,q7=t=>{let e=x.useRef(AL),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},qs=({path:t,nest:e,match:n,...r})=>{const i=Bp(),[s]=xx(i),[o,a,c]=n??NL(i.parser,t,s,e),u=q7({...H7(),...a});if(!o)return null;const d=c?x.createElement(jL,{base:c},TN(r,u)):TN(r,u);return x.createElement(PL.Provider,{value:u,children:d})};x.forwardRef((t,e)=>{const n=Bp(),[r,i]=xx(n),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,v=SL(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a==null||a(y),y.defaultPrevented||(y.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:v,href:g}):x.createElement("a",{...m,onClick:v,href:g,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const kL=t=>Array.isArray(t)?t.flatMap(e=>kL(e&&e.type===x.Fragment?e.props.children:e)):[t],G7=({children:t,location:e})=>{const n=Bp(),[r]=xx(n);for(const i of kL(t)){let s=0;if(x.isValidElement(i)&&(s=NL(n.parser,i.props.path,e||r,i.props.nest))[0])return x.cloneElement(i,{match:s})}return null};var bx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wx=typeof window>"u"||"Deno"in globalThis;function bs(){}function K7(t,e){return typeof t=="function"?t(e):t}function Y7(t){return typeof t=="number"&&t>=0&&t!==1/0}function X7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function CN(t,e){return typeof t=="function"?t(e):t}function Q7(t,e){return typeof t=="function"?t(e):t}function AN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==eT(o,e.options))return!1}else if(!Oh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function PN(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ih(e.options.mutationKey)!==Ih(s))return!1}else if(!Oh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function eT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ih)(t)}function Ih(t){return JSON.stringify(t,(e,n)=>k1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Oh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Oh(t[n],e[n])):!1}function IL(t,e){if(t===e)return t;const n=NN(t)&&NN(e);if(n||k1(t)&&k1(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=IL(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function NN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function k1(t){if(!jN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!jN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jN(t){return Object.prototype.toString.call(t)==="[object Object]"}function J7(t){return new Promise(e=>{setTimeout(e,t)})}function Z7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IL(t,e):e}function eW(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tW(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var tT=Symbol();function OL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ql,Oa,Nu,JR,nW=(JR=class extends bx{constructor(){super();Dt(this,ql);Dt(this,Oa);Dt(this,Nu);xt(this,Nu,e=>{if(!wx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,Oa)||this.setEventListener(he(this,Nu))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Oa))==null||e.call(this),xt(this,Oa,void 0))}setEventListener(e){var n;xt(this,Nu,e),(n=he(this,Oa))==null||n.call(this),xt(this,Oa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){he(this,ql)!==e&&(xt(this,ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof he(this,ql)=="boolean"?he(this,ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ql=new WeakMap,Oa=new WeakMap,Nu=new WeakMap,JR),RL=new nW,ju,Ra,ku,ZR,rW=(ZR=class extends bx{constructor(){super();Dt(this,ju,!0);Dt(this,Ra);Dt(this,ku);xt(this,ku,e=>{if(!wx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Ra)||this.setEventListener(he(this,ku))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Ra))==null||e.call(this),xt(this,Ra,void 0))}setEventListener(e){var n;xt(this,ku,e),(n=he(this,Ra))==null||n.call(this),xt(this,Ra,e(this.setOnline.bind(this)))}setOnline(e){he(this,ju)!==e&&(xt(this,ju,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return he(this,ju)}},ju=new WeakMap,Ra=new WeakMap,ku=new WeakMap,ZR),Sy=new rW;function iW(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function sW(t){return Math.min(1e3*2**t,3e4)}function ML(t){return(t??"online")==="online"?Sy.isOnline():!0}var DL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kb(t){return t instanceof DL}function LL(t){let e=!1,n=0,r=!1,i;const s=iW(),o=g=>{var y;r||(h(new DL(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>RL.isFocused()&&(t.networkMode==="always"||Sy.isOnline())&&t.canRun(),d=()=>ML(t.networkMode)&&t.canRun(),f=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),s.reject(g))},m=()=>new Promise(g=>{var y;i=b=>{(r||u())&&g(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var N;if(r)return;const w=t.retry??(wx?0:3),S=t.retryDelay??sW,A=typeof S=="function"?S(n,b):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!E){h(b);return}n++,(N=t.onFail)==null||N.call(t,n,b),J7(A).then(()=>u()?void 0:m()).then(()=>{e?h(b):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}function oW(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Xr=oW(),Gl,eM,$L=(eM=class{constructor(){Dt(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y7(this.gcTime)&&xt(this,Gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wx?1/0:5*60*1e3))}clearGcTimeout(){he(this,Gl)&&(clearTimeout(he(this,Gl)),xt(this,Gl,void 0))}},Gl=new WeakMap,eM),Iu,Ou,qi,Lr,Rp,Kl,ws,Io,tM,aW=(tM=class extends $L{constructor(n){super();Dt(this,ws);Dt(this,Iu);Dt(this,Ou);Dt(this,qi);Dt(this,Lr);Dt(this,Rp);Dt(this,Kl);xt(this,Kl,!1),xt(this,Rp,n.defaultOptions),this.setOptions(n.options),this.observers=[],xt(this,qi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xt(this,Iu,cW(this.options)),this.state=n.state??he(this,Iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=he(this,Lr))==null?void 0:n.promise}setOptions(n){this.options={...he(this,Rp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,qi).remove(this)}setData(n,r){const i=Z7(this.state.data,n,this.options);return Or(this,ws,Io).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Or(this,ws,Io).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=he(this,Lr))==null?void 0:i.promise;return(s=he(this,Lr))==null||s.cancel(n),r?r.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,Iu))}isActive(){return this.observers.some(n=>Q7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!X7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),he(this,qi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(he(this,Lr)&&(he(this,Kl)?he(this,Lr).cancel({revert:!0}):he(this,Lr).cancelRetry()),this.scheduleGc()),he(this,qi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,ws,Io).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,Lr))return he(this,Lr).continueRetry(),he(this,Lr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xt(this,Kl,!0),i.signal)})},o=()=>{const h=OL(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),xt(this,Kl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),xt(this,Ou,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Or(this,ws,Io).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,g,y;kb(h)&&h.silent||Or(this,ws,Io).call(this,{type:"error",error:h}),kb(h)||((v=(m=he(this,qi).config).onError)==null||v.call(m,h,this),(y=(g=he(this,qi).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return xt(this,Lr,LL({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(v=(m=he(this,qi).config).onSuccess)==null||v.call(m,h,this),(y=(g=he(this,qi).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Or(this,ws,Io).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Or(this,ws,Io).call(this,{type:"pause"})},onContinue:()=>{Or(this,ws,Io).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,Lr).start()}},Iu=new WeakMap,Ou=new WeakMap,qi=new WeakMap,Lr=new WeakMap,Rp=new WeakMap,Kl=new WeakMap,ws=new WeakSet,Io=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...lW(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return kb(s)&&s.revert&&he(this,Ou)?{...he(this,Ou),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Xr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),he(this,qi).notify({query:this,type:"updated",action:n})})},tM);function lW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ML(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,nM,uW=(nM=class extends bx{constructor(e={}){super();Dt(this,Qs);this.config=e,xt(this,Qs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??eT(i,n);let o=this.get(s);return o||(o=new aW({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){he(this,Qs).has(e.queryHash)||(he(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=he(this,Qs).get(e.queryHash);n&&(e.destroy(),n===e&&he(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,Qs).get(e)}getAll(){return[...he(this,Qs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>AN(e,r)):n}notify(e){Xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,nM),Js,Kr,Yl,Zs,Ea,rM,dW=(rM=class extends $L{constructor(n){super();Dt(this,Zs);Dt(this,Js);Dt(this,Kr);Dt(this,Yl);this.mutationId=n.mutationId,xt(this,Kr,n.mutationCache),xt(this,Js,[]),this.state=n.state||fW(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){he(this,Js).includes(n)||(he(this,Js).push(n),this.clearGcTimeout(),he(this,Kr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xt(this,Js,he(this,Js).filter(r=>r!==n)),this.scheduleGc(),he(this,Kr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){he(this,Js).length||(this.state.status==="pending"?this.scheduleGc():he(this,Kr).remove(this))}continue(){var n;return((n=he(this,Yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,c,u,d,f,h,m,v,g,y,b,w,S,A,E,N,_,T;xt(this,Yl,LL({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Or(this,Zs,Ea).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Or(this,Zs,Ea).call(this,{type:"pause"})},onContinue:()=>{Or(this,Zs,Ea).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Kr).canRun(this)}));const r=this.state.status==="pending",i=!he(this,Yl).canStart();try{if(!r){Or(this,Zs,Ea).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=he(this,Kr).config).onMutate)==null?void 0:o.call(s,n,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));I!==this.state.context&&Or(this,Zs,Ea).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const P=await he(this,Yl).start();return await((d=(u=he(this,Kr).config).onSuccess)==null?void 0:d.call(u,P,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,n,this.state.context)),await((v=(m=he(this,Kr).config).onSettled)==null?void 0:v.call(m,P,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,P,null,n,this.state.context)),Or(this,Zs,Ea).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(b=he(this,Kr).config).onError)==null?void 0:w.call(b,P,n,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,P,n,this.state.context)),await((N=(E=he(this,Kr).config).onSettled)==null?void 0:N.call(E,void 0,P,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,P,n,this.state.context)),P}finally{Or(this,Zs,Ea).call(this,{type:"error",error:P})}}finally{he(this,Kr).runNext(this)}}},Js=new WeakMap,Kr=new WeakMap,Yl=new WeakMap,Zs=new WeakSet,Ea=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xr.batch(()=>{he(this,Js).forEach(i=>{i.onMutationUpdate(n)}),he(this,Kr).notify({mutation:this,type:"updated",action:n})})},rM);function fW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,Mp,iM,hW=(iM=class extends bx{constructor(e={}){super();Dt(this,_i);Dt(this,Mp);this.config=e,xt(this,_i,new Map),xt(this,Mp,Date.now())}build(e,n,r){const i=new dW({mutationCache:this,mutationId:++wm(this,Mp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vm(e),r=he(this,_i).get(n)??[];r.push(e),he(this,_i).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vm(e);if(he(this,_i).has(n)){const i=(r=he(this,_i).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?he(this,_i).delete(n):he(this,_i).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=he(this,_i).get(Vm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=he(this,_i).get(Vm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...he(this,_i).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>PN(n,r))}findAll(e={}){return this.getAll().filter(n=>PN(e,n))}notify(e){Xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xr.batch(()=>Promise.all(e.map(n=>n.continue().catch(bs))))}},_i=new WeakMap,Mp=new WeakMap,iM);function Vm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function kN(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=OL(e.options,e.fetchOptions),w=async(S,A,E)=>{if(g)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const N={queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};y(N);const _=await b(N),{maxPages:T}=e.options,P=E?tW:eW;return{pages:P(S.pages,_,T),pageParams:P(S.pageParams,A,T)}};if(i&&s.length){const S=i==="backward",A=S?pW:IN,E={pages:s,pageParams:o},N=A(r,E);a=await w(E,N,S)}else{const S=t??s.length;do{const A=c===0?o[0]??r.initialPageParam:IN(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function IN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var An,Ma,Da,Ru,Mu,La,Du,Lu,sM,mW=(sM=class{constructor(t={}){Dt(this,An);Dt(this,Ma);Dt(this,Da);Dt(this,Ru);Dt(this,Mu);Dt(this,La);Dt(this,Du);Dt(this,Lu);xt(this,An,t.queryCache||new uW),xt(this,Ma,t.mutationCache||new hW),xt(this,Da,t.defaultOptions||{}),xt(this,Ru,new Map),xt(this,Mu,new Map),xt(this,La,0)}mount(){wm(this,La)._++,he(this,La)===1&&(xt(this,Du,RL.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,An).onFocus())})),xt(this,Lu,Sy.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,An).onOnline())})))}unmount(){var t,e;wm(this,La)._--,he(this,La)===0&&((t=he(this,Du))==null||t.call(this),xt(this,Du,void 0),(e=he(this,Lu))==null||e.call(this),xt(this,Lu,void 0))}isFetching(t){return he(this,An).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return he(this,Ma).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,An).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=he(this,An).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(CN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return he(this,An).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=he(this,An).get(r.queryHash),s=i==null?void 0:i.state.data,o=K7(e,s);if(o!==void 0)return he(this,An).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Xr.batch(()=>he(this,An).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,An).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=he(this,An);Xr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=he(this,An),r={type:"active",...t};return Xr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Xr.batch(()=>he(this,An).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bs).catch(bs)}invalidateQueries(t={},e={}){return Xr.batch(()=>{if(he(this,An).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Xr.batch(()=>he(this,An).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(bs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(bs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=he(this,An).build(this,e);return n.isStaleByTime(CN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bs).catch(bs)}fetchInfiniteQuery(t){return t.behavior=kN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bs).catch(bs)}ensureInfiniteQueryData(t){return t.behavior=kN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sy.isOnline()?he(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,An)}getMutationCache(){return he(this,Ma)}getDefaultOptions(){return he(this,Da)}setDefaultOptions(t){xt(this,Da,t)}setQueryDefaults(t,e){he(this,Ru).set(Ih(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...he(this,Ru).values()];let n={};return e.forEach(r=>{Oh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){he(this,Mu).set(Ih(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...he(this,Mu).values()];let n={};return e.forEach(r=>{Oh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...he(this,Da).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=eT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===tT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...he(this,Da).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){he(this,An).clear(),he(this,Ma).clear()}},An=new WeakMap,Ma=new WeakMap,Da=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,La=new WeakMap,Du=new WeakMap,Lu=new WeakMap,sM),gW=x.createContext(void 0),yW=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(gW.Provider,{value:t,children:e}));async function vW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const xW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await vW(n),await n.json())},bW=new mW({defaultOptions:{queries:{queryFn:xW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),wW=1,SW=1e6;let Ib=0;function _W(){return Ib=(Ib+1)%Number.MAX_SAFE_INTEGER,Ib.toString()}const Ob=new Map,ON=t=>{if(Ob.has(t))return;const e=setTimeout(()=>{Ob.delete(t),Zf({type:"REMOVE_TOAST",toastId:t})},SW);Ob.set(t,e)},EW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ON(n):t.toasts.forEach(r=>{ON(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ig=[];let Og={toasts:[]};function Zf(t){Og=EW(Og,t),Ig.forEach(e=>{e(Og)})}function TW({...t}){const e=_W(),n=i=>Zf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Zf({type:"DISMISS_TOAST",toastId:e});return Zf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function jd(){const[t,e]=x.useState(Og);return x.useEffect(()=>(Ig.push(e),()=>{const n=Ig.indexOf(e);n>-1&&Ig.splice(n,1)}),[t]),{...t,toast:TW,dismiss:n=>Zf({type:"DISMISS_TOAST",toastId:n})}}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FL(...t){return e=>{let n=!1;const r=t.map(i=>{const s=RN(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():RN(t[i],null)}}}}function bt(...t){return x.useCallback(FL(...t),t)}function CW(t,e){const n=x.createContext(e),r=s=>{const{children:o,...a}=s,c=x.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function $i(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||a,y=x.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:y,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=x.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,AW(i,...e)]}function AW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qu(t){const e=NW(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),c=a.find(kW);if(c){const u=c.props.children,d=a.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var PW=qu("Slot");function NW(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=OW(i),a=IW(s,i.props);return i.type!==x.Fragment&&(a.ref=r?FL(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VL=Symbol("radix.slottable");function jW(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=VL,e}function kW(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VL}function IW(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function OW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Up(t){const e=t+"CollectionProvider",[n,r]=$i(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:b}=g,w=G.useRef(null),S=G.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:S,collectionRef:w,children:b})};o.displayName=e;const a=t+"CollectionSlot",c=qu(a),u=G.forwardRef((g,y)=>{const{scope:b,children:w}=g,S=s(a,b),A=bt(y,S.collectionRef);return l.jsx(c,{ref:A,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=qu(d),m=G.forwardRef((g,y)=>{const{scope:b,children:w,...S}=g,A=G.useRef(null),E=bt(y,A),N=s(d,b);return G.useEffect(()=>(N.itemMap.set(A,{ref:A,...S}),()=>void N.itemMap.delete(A))),l.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function v(g){const y=s(t+"CollectionConsumer",g);return G.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,_)=>S.indexOf(N.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var RW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=RW.reduce((t,e)=>{const n=qu(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function BL(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function Rn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function MW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DW="DismissableLayer",I1="dismissableLayer.update",LW="dismissableLayer.pointerDownOutside",$W="dismissableLayer.focusOutside",MN,UL=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zp=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=x.useContext(UL),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=bt(e,_=>f(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=b,E=VW(_=>{const T=_.target,P=[...u.branches].some(I=>I.contains(T));!A||P||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},h),N=BW(_=>{const T=_.target;[...u.branches].some(I=>I.contains(T))||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},h);return MW(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(MN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),DN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=MN)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),DN())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(I1,_),()=>document.removeEventListener(I1,_)},[]),l.jsx(et.div,{...c,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,E.onPointerDownCapture)})});zp.displayName=DW;var FW="DismissableLayerBranch",zL=x.forwardRef((t,e)=>{const n=x.useContext(UL),r=x.useRef(null),i=bt(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(et.div,{...t,ref:i})});zL.displayName=FW;function VW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){WL(LW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&WL($W,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DN(){const t=new CustomEvent(I1);document.dispatchEvent(t)}function WL(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?BL(i,s):i.dispatchEvent(s)}var UW=zp,zW=zL,mr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},WW="Portal",Sx=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);mr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?v7.createPortal(l.jsx(et.div,{...r,ref:e}),o):null});Sx.displayName=WW;function HW(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var as=t=>{const{present:e,children:n}=t,r=qW(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=bt(r.ref,GW(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};as.displayName="Presence";function qW(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,c]=HW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Bm(r.current);s.current=a==="mounted"?u:"none"},[a]),mr(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,m=Bm(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),mr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Bm(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(s.current=Bm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bm(t){return(t==null?void 0:t.animationName)||"none"}function GW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $s({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=KW({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Rn(n),c=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,c]}function KW({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),s=Rn(e);return x.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var YW="VisuallyHidden",kd=x.forwardRef((t,e)=>l.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kd.displayName=YW;var XW=kd,nT="ToastProvider",[rT,QW,JW]=Up("Toast"),[HL,y2e]=$i("Toast",[JW]),[ZW,_x]=HL(nT),qL=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nT}\`. Expected non-empty \`string\`.`),l.jsx(rT.Provider,{scope:e,children:l.jsx(ZW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};qL.displayName=nT;var GL="ToastViewport",eH=["F8"],O1="toast.viewportPause",R1="toast.viewportResume",KL=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eH,label:i="Notifications ({hotkey})",...s}=t,o=_x(GL,n),a=QW(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=bt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;x.useEffect(()=>{const y=b=>{var S;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=c.current,b=f.current;if(v&&y&&b){const w=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(O1);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(R1);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},A=N=>{!y.contains(N.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",w),y.addEventListener("focusout",A),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const w=a().map(S=>{const A=S.ref.current,E=[A,...hH(A)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const y=f.current;if(y){const b=w=>{var E,N,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,P=w.shiftKey;if(w.target===y&&P){(E=u.current)==null||E.focus();return}const O=g({tabbingDirection:P?"backwards":"forwards"}),R=O.findIndex(F=>F===T);Rb(O.slice(R+1))?w.preventDefault():P?(N=u.current)==null||N.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,g]),l.jsxs(zW,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(M1,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Rb(y)}}),l.jsx(rT.Slot,{scope:n,children:l.jsx(et.ol,{tabIndex:-1,...s,ref:h})}),v&&l.jsx(M1,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Rb(y)}})]})});KL.displayName=GL;var YL="ToastFocusProxy",M1=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=_x(YL,n);return l.jsx(kd,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});M1.displayName=YL;var Ex="Toast",tH="toast.swipeStart",nH="toast.swipeMove",rH="toast.swipeCancel",iH="toast.swipeEnd",XL=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,c]=$s({prop:r,defaultProp:i,onChange:s});return l.jsx(as,{present:n||a,children:l.jsx(aH,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Rn(t.onPause),onResume:Rn(t.onResume),onSwipeStart:Fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});XL.displayName=Ex;var[sH,oH]=HL(Ex,{onClose(){}}),aH=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=_x(Ex,n),[y,b]=x.useState(null),w=bt(e,F=>b(F)),S=x.useRef(null),A=x.useRef(null),E=i||g.duration,N=x.useRef(0),_=x.useRef(E),T=x.useRef(0),{onToastAdd:P,onToastRemove:I}=g,j=Rn(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),O=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(j,F))},[j]);x.useEffect(()=>{const F=g.viewport;if(F){const B=()=>{O(_.current),u==null||u()},U=()=>{const W=new Date().getTime()-N.current;_.current=_.current-W,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(O1,U),F.addEventListener(R1,B),()=>{F.removeEventListener(O1,U),F.removeEventListener(R1,B)}}},[g.viewport,E,c,u,O]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&O(E)},[s,E,g.isClosePausedRef,O]),x.useEffect(()=>(P(),()=>I()),[P,I]);const R=x.useMemo(()=>y?r$(y):null,[y]);return g.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(lH,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(sH,{scope:n,onClose:j,children:Ec.createPortal(l.jsx(rT.ItemSlot,{scope:n,children:l.jsx(UW,{asChild:!0,onEscapeKeyDown:Fe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Fe(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Fe(t.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:Fe(t.onPointerMove,F=>{if(!S.current)return;const B=F.clientX-S.current.x,U=F.clientY-S.current.y,W=!!A.current,$=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=$?z(0,B):0,se=$?0:z(0,U),Q=F.pointerType==="touch"?10:2,ge={x:ne,y:se},ue={originalEvent:F,delta:ge};W?(A.current=ge,Um(nH,f,ue,{discrete:!1})):LN(ge,g.swipeDirection,Q)?(A.current=ge,Um(tH,d,ue,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(B)>Q||Math.abs(U)>Q)&&(S.current=null)}),onPointerUp:Fe(t.onPointerUp,F=>{const B=A.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),A.current=null,S.current=null,B){const W=F.currentTarget,$={originalEvent:F,delta:B};LN(B,g.swipeDirection,g.swipeThreshold)?Um(iH,m,$,{discrete:!0}):Um(rH,h,$,{discrete:!0}),W.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),lH=t=>{const{__scopeToast:e,children:n,...r}=t,i=_x(Ex,e),[s,o]=x.useState(!1),[a,c]=x.useState(!1);return dH(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Sx,{asChild:!0,children:l.jsx(kd,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},cH="ToastTitle",QL=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(et.div,{...r,ref:e})});QL.displayName=cH;var uH="ToastDescription",JL=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(et.div,{...r,ref:e})});JL.displayName=uH;var ZL="ToastAction",e$=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(n$,{altText:n,asChild:!0,children:l.jsx(iT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZL}\`. Expected non-empty \`string\`.`),null)});e$.displayName=ZL;var t$="ToastClose",iT=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=oH(t$,n);return l.jsx(n$,{asChild:!0,children:l.jsx(et.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,i.onClose)})})});iT.displayName=t$;var n$=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function r$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),fH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...r$(r))}}),e}function Um(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?BL(i,s):i.dispatchEvent(s)}var LN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function dH(t=()=>{}){const e=Rn(t);mr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function fH(t){return t.nodeType===t.ELEMENT_NODE}function hH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pH=qL,i$=KL,s$=XL,o$=QL,a$=JL,l$=e$,c$=iT;function u$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u$(t))&&(r&&(r+=" "),r+=e);return r}const $N=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FN=At,Tx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=$N(d)||$N(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...u,f,h]:u},[]);return FN(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>x.createElement("svg",{ref:c,...gH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d$("lucide",i),...a},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(yH,{ref:s,iconNode:e,className:d$(`lucide-${mH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=We("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=We("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=We("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=We("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=We("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=We("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=We("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=We("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=We("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=We("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=We("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=We("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=We("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=We("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=We("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=We("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=We("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=We("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=We("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=We("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=We("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=We("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=We("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=We("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=We("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=We("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=We("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lT="-",WH=t=>{const e=qH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(lT);return a[0]===""&&a.length!==1&&a.shift(),x$(a,e)||HH(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},x$=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?x$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(lT);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},HN=/^\[(.+)\]$/,HH=t=>{if(HN.test(t)){const e=HN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qH=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KH(Object.entries(t.classGroups),n).forEach(([s,o])=>{V1(o,r,s,e)}),r},V1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:qN(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(GH(i)){V1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{V1(o,qN(e,s),n,r)})})},qN=(t,e)=>{let n=t;return e.split(lT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GH=t=>t.isThemeGetter,KH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,YH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},b$="!",XH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let b=a[y];if(u===0){if(b===i&&(r||a.slice(y,y+s)===e)){c.push(a.slice(d,y)),d=y+s;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?a:a.substring(d),m=h.startsWith(b$),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},QH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JH=t=>({cache:YH(t.cacheSize),parseClassName:XH(t),...WH(t)}),ZH=/\s+/,eq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ZH);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const y=QH(d).join(":"),b=f?y+b$:y,w=b+g;if(s.includes(w))continue;s.push(w);const S=i(g,v);for(let A=0;A<S.length;++A){const E=S[A];s.push(b+E)}a=u+(a.length>0?" "+a:a)}return a};function tq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=w$(e))&&(r&&(r+=" "),r+=n);return r}const w$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=w$(t[r]))&&(n&&(n+=" "),n+=e);return n};function nq(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=JH(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=eq(c,n);return i(c,d),d}return function(){return s(tq.apply(null,arguments))}}const sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},S$=/^\[(?:([a-z-]+):)?(.+)\]$/i,rq=/^\d+\/\d+$/,iq=new Set(["px","full","screen"]),sq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=t=>yu(t)||iq.has(t)||rq.test(t),wa=t=>Id(t,"length",yq),yu=t=>!!t&&!Number.isNaN(Number(t)),Db=t=>Id(t,"number",yu),bf=t=>!!t&&Number.isInteger(Number(t)),uq=t=>t.endsWith("%")&&yu(t.slice(0,-1)),mt=t=>S$.test(t),Sa=t=>sq.test(t),dq=new Set(["length","size","percentage"]),fq=t=>Id(t,dq,_$),hq=t=>Id(t,"position",_$),pq=new Set(["image","url"]),mq=t=>Id(t,pq,xq),gq=t=>Id(t,"",vq),wf=()=>!0,Id=(t,e,n)=>{const r=S$.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yq=t=>oq.test(t)&&!aq.test(t),_$=()=>!1,vq=t=>lq.test(t),xq=t=>cq.test(t),bq=()=>{const t=sn("colors"),e=sn("spacing"),n=sn("blur"),r=sn("brightness"),i=sn("borderColor"),s=sn("borderRadius"),o=sn("borderSpacing"),a=sn("borderWidth"),c=sn("contrast"),u=sn("grayscale"),d=sn("hueRotate"),f=sn("invert"),h=sn("gap"),m=sn("gradientColorStops"),v=sn("gradientColorStopPositions"),g=sn("inset"),y=sn("margin"),b=sn("opacity"),w=sn("padding"),S=sn("saturate"),A=sn("scale"),E=sn("sepia"),N=sn("skew"),_=sn("space"),T=sn("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",mt,e],O=()=>[mt,e],R=()=>["",No,wa],F=()=>["auto",yu,mt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",mt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[yu,mt];return{cacheSize:500,separator:":",theme:{colors:[wf],spacing:[No,wa],blur:["none","",Sa,mt],brightness:se(),borderColor:[t],borderRadius:["none","","full",Sa,mt],borderSpacing:O(),borderWidth:R(),contrast:se(),grayscale:z(),hueRotate:se(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[uq,wa],inset:j(),margin:j(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:z(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[Sa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),mt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bf,mt]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",bf,mt]}],"grid-cols":[{"grid-cols":[wf]}],"col-start-end":[{col:["auto",{span:["full",bf,mt]},mt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[wf]}],"row-start-end":[{row:["auto",{span:[bf,mt]},mt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,e]}],"min-w":[{"min-w":[mt,e,"min","max","fit"]}],"max-w":[{"max-w":[mt,e,"none","full","min","max","fit","prose",{screen:[Sa]},Sa]}],h:[{h:[mt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sa,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Db]}],"font-family":[{font:[wf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",yu,Db]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",No,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",No,wa]}],"underline-offset":[{"underline-offset":["auto",No,mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),hq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[No,mt]}],"outline-w":[{outline:[No,wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[No,wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sa,gq]}],"shadow-color":[{shadow:[wf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sa,mt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[bf,mt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[No,wa,Db]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wq=nq(bq);function ut(...t){return wq(At(t))}const Sq=pH,E$=x.forwardRef(({className:t,...e},n)=>l.jsx(i$,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));E$.displayName=i$.displayName;const _q=Tx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T$=x.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(s$,{ref:r,className:ut(_q({variant:e}),t),...n}));T$.displayName=s$.displayName;const Eq=x.forwardRef(({className:t,...e},n)=>l.jsx(l$,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Eq.displayName=l$.displayName;const C$=x.forwardRef(({className:t,...e},n)=>l.jsx(c$,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Cx,{className:"h-4 w-4"})}));C$.displayName=c$.displayName;const A$=x.forwardRef(({className:t,...e},n)=>l.jsx(o$,{ref:n,className:ut("text-sm font-semibold",t),...e}));A$.displayName=o$.displayName;const P$=x.forwardRef(({className:t,...e},n)=>l.jsx(a$,{ref:n,className:ut("text-sm opacity-90",t),...e}));P$.displayName=a$.displayName;function Tq(){const{toasts:t}=jd();return l.jsxs(Sq,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(T$,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(A$,{children:n}),r&&l.jsx(P$,{children:r})]}),i,l.jsx(C$,{})]},e)}),l.jsx(E$,{})]})}var Cq=gM[" useId ".trim().toString()]||(()=>{}),Aq=0;function oo(t){const[e,n]=x.useState(Cq());return mr(()=>{n(r=>r??String(Aq++))},[t]),e?`radix-${e}`:""}const Pq=["top","right","bottom","left"],sl=Math.min,Ci=Math.max,Py=Math.round,Wm=Math.floor,ao=t=>({x:t,y:t}),Nq={left:"right",right:"left",bottom:"top",top:"bottom"},jq={start:"end",end:"start"};function B1(t,e,n){return Ci(t,sl(e,n))}function Zo(t,e){return typeof t=="function"?t(e):t}function ea(t){return t.split("-")[0]}function Od(t){return t.split("-")[1]}function cT(t){return t==="x"?"y":"x"}function uT(t){return t==="y"?"height":"width"}function ol(t){return["top","bottom"].includes(ea(t))?"y":"x"}function dT(t){return cT(ol(t))}function kq(t,e,n){n===void 0&&(n=!1);const r=Od(t),i=dT(t),s=uT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ny(o)),[o,Ny(o)]}function Iq(t){const e=Ny(t);return[U1(t),e,U1(e)]}function U1(t){return t.replace(/start|end/g,e=>jq[e])}function Oq(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Rq(t,e,n,r){const i=Od(t);let s=Oq(ea(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(U1)))),s}function Ny(t){return t.replace(/left|right|bottom|top/g,e=>Nq[e])}function Mq(t){return{top:0,right:0,bottom:0,left:0,...t}}function N$(t){return typeof t!="number"?Mq(t):{top:t,right:t,bottom:t,left:t}}function jy(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function GN(t,e,n){let{reference:r,floating:i}=t;const s=ol(e),o=dT(e),a=uT(o),c=ea(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Od(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Dq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=GN(u,r,c),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:w,y:S,data:A,reset:E}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[y]:{...m[y],...A}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=GN(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Dh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Zo(e,t),v=N$(m),y=a[h?f==="floating"?"reference":"floating":f],b=jy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=jy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:c}):w);return{top:(b.top-E.top+v.top)/A.y,bottom:(E.bottom-b.bottom+v.bottom)/A.y,left:(b.left-E.left+v.left)/A.x,right:(E.right-b.right+v.right)/A.x}}const Lq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Zo(t,e)||{};if(u==null)return{};const f=N$(d),h={x:n,y:r},m=dT(i),v=uT(m),g=await o.getDimensions(u),y=m==="y",b=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[m]-h[m]-s.floating[v],E=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=N?N[S]:0;(!_||!await(o.isElement==null?void 0:o.isElement(N)))&&(_=a.floating[S]||s.floating[v]);const T=A/2-E/2,P=_/2-g[v]/2-1,I=sl(f[b],P),j=sl(f[w],P),O=I,R=_-g[v]-j,F=_/2-g[v]/2+T,B=B1(O,F,R),U=!c.arrow&&Od(i)!=null&&F!==B&&s.reference[v]/2-(F<O?I:j)-g[v]/2<0,W=U?F<O?F-O:F-R:0;return{[m]:h[m]+W,data:{[m]:B,centerOffset:F-B-W,...U&&{alignmentOffset:W}},reset:U}}}),$q=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Zo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=ea(i),w=ol(a),S=ea(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(S||!g?[Ny(a)]:Iq(a)),N=v!=="none";!h&&N&&E.push(...Rq(a,g,v,A));const _=[a,...E],T=await Dh(e,y),P=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[b]),f){const F=kq(i,o,A);P.push(T[F[0]],T[F[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every(F=>F<=0)){var j,O;const F=(((j=s.flip)==null?void 0:j.index)||0)+1,B=_[F];if(B)return{data:{index:F,overflows:I},reset:{placement:B}};let U=(O=I.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var R;const W=(R=I.filter($=>{if(N){const z=ol($.placement);return z===w||z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(z=>z>0).reduce((z,ne)=>z+ne,0)]).sort(($,z)=>$[1]-z[1])[0])==null?void 0:R[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function KN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YN(t){return Pq.some(e=>t[e]>=0)}const Fq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Zo(t,e);switch(r){case"referenceHidden":{const s=await Dh(e,{...i,elementContext:"reference"}),o=KN(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YN(o)}}}case"escaped":{const s=await Dh(e,{...i,altBoundary:!0}),o=KN(s,n.floating);return{data:{escapedOffsets:o,escaped:YN(o)}}}default:return{}}}}};async function Vq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ea(n),a=Od(n),c=ol(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=Zo(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Bq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await Vq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Uq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=Zo(t,e),u={x:n,y:r},d=await Dh(e,c),f=ol(ea(i)),h=cT(f);let m=u[h],v=u[f];if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+d[y],S=m-d[b];m=B1(w,m,S)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=v+d[y],S=v-d[b];v=B1(w,v,S)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},zq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Zo(t,e),d={x:n,y:r},f=ol(i),h=cT(f);let m=d[h],v=d[f];const g=Zo(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=h==="y"?"height":"width",A=s.reference[h]-s.floating[S]+y.mainAxis,E=s.reference[h]+s.reference[S]-y.mainAxis;m<A?m=A:m>E&&(m=E)}if(u){var b,w;const S=h==="y"?"width":"height",A=["top","left"].includes(ea(i)),E=s.reference[f]-s.floating[S]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:y.crossAxis),N=s.reference[f]+s.reference[S]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?y.crossAxis:0);v<E?v=E:v>N&&(v=N)}return{[h]:m,[f]:v}}}},Wq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Zo(t,e),d=await Dh(e,u),f=ea(i),h=Od(i),m=ol(i)==="y",{width:v,height:g}=s.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=v-d.left-d.right,A=sl(g-d[y],w),E=sl(v-d[b],S),N=!e.middlewareData.shift;let _=A,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),N&&!h){const I=Ci(d.left,0),j=Ci(d.right,0),O=Ci(d.top,0),R=Ci(d.bottom,0);m?T=v-2*(I!==0||j!==0?I+j:Ci(d.left,d.right)):_=g-2*(O!==0||R!==0?O+R:Ci(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:_});const P=await o.getDimensions(a.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Ax(){return typeof window<"u"}function Rd(t){return j$(t)?(t.nodeName||"").toLowerCase():"#document"}function Oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function So(t){var e;return(e=(j$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function j$(t){return Ax()?t instanceof Node||t instanceof Oi(t).Node:!1}function Fs(t){return Ax()?t instanceof Element||t instanceof Oi(t).Element:!1}function go(t){return Ax()?t instanceof HTMLElement||t instanceof Oi(t).HTMLElement:!1}function XN(t){return!Ax()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Oi(t).ShadowRoot}function Hp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hq(t){return["table","td","th"].includes(Rd(t))}function Px(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function fT(t){const e=hT(),n=Fs(t)?Vs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qq(t){let e=al(t);for(;go(e)&&!Gu(e);){if(fT(e))return e;if(Px(e))return null;e=al(e)}return null}function hT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gu(t){return["html","body","#document"].includes(Rd(t))}function Vs(t){return Oi(t).getComputedStyle(t)}function Nx(t){return Fs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function al(t){if(Rd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XN(t)&&t.host||So(t);return XN(e)?e.host:e}function k$(t){const e=al(t);return Gu(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&Hp(e)?e:k$(e)}function Lh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=k$(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Oi(i);if(s){const a=z1(o);return e.concat(o,o.visualViewport||[],Hp(i)?i:[],a&&n?Lh(a):[])}return e.concat(i,Lh(i,[],n))}function z1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I$(t){const e=Vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=go(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Py(n)!==s||Py(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function pT(t){return Fs(t)?t:t.contextElement}function vu(t){const e=pT(t);if(!go(e))return ao(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=I$(e);let o=(s?Py(n.width):n.width)/r,a=(s?Py(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Gq=ao(0);function O$(t){const e=Oi(t);return!hT()||!e.visualViewport?Gq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Oi(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=pT(t);let o=ao(1);e&&(r?Fs(r)&&(o=vu(r)):o=vu(t));const a=Kq(s,n,r)?O$(s):ao(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Oi(s),m=r&&Fs(r)?Oi(r):r;let v=h,g=z1(v);for(;g&&r&&m!==v;){const y=vu(g),b=g.getBoundingClientRect(),w=Vs(g),S=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,A=b.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=S,u+=A,v=Oi(g),g=z1(v)}}return jy({width:d,height:f,x:c,y:u})}function mT(t,e){const n=Nx(t).scrollLeft;return e?e.left+n:cc(So(t)).left+n}function R$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:mT(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Yq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=So(r),a=e?Px(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ao(1);const d=ao(0),f=go(r);if((f||!f&&!s)&&((Rd(r)!=="body"||Hp(o))&&(c=Nx(r)),go(r))){const m=cc(r);u=vu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!s?R$(o,c,!0):ao(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Xq(t){return Array.from(t.getClientRects())}function Qq(t){const e=So(t),n=Nx(t),r=t.ownerDocument.body,i=Ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mT(t);const a=-n.scrollTop;return Vs(r).direction==="rtl"&&(o+=Ci(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Jq(t,e){const n=Oi(t),r=So(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=hT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Zq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=go(t)?vu(t):ao(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function QN(t,e,n){let r;if(e==="viewport")r=Jq(t,n);else if(e==="document")r=Qq(So(t));else if(Fs(e))r=Zq(e,n);else{const i=O$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return jy(r)}function M$(t,e){const n=al(t);return n===e||!Fs(n)||Gu(n)?!1:Vs(n).position==="fixed"||M$(n,e)}function eG(t,e){const n=e.get(t);if(n)return n;let r=Lh(t,[],!1).filter(a=>Fs(a)&&Rd(a)!=="body"),i=null;const s=Vs(t).position==="fixed";let o=s?al(t):t;for(;Fs(o)&&!Gu(o);){const a=Vs(o),c=fT(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hp(o)&&!c&&M$(t,o))?r=r.filter(d=>d!==o):i=a,o=al(o)}return e.set(t,r),r}function tG(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Px(e)?[]:eG(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=QN(e,d,i);return u.top=Ci(f.top,u.top),u.right=sl(f.right,u.right),u.bottom=sl(f.bottom,u.bottom),u.left=Ci(f.left,u.left),u},QN(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nG(t){const{width:e,height:n}=I$(t);return{width:e,height:n}}function rG(t,e,n){const r=go(e),i=So(e),s=n==="fixed",o=cc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=ao(0);if(r||!r&&!s)if((Rd(e)!=="body"||Hp(i))&&(a=Nx(e)),r){const h=cc(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&(c.x=mT(i));const u=i&&!r&&!s?R$(i,a):ao(0),d=o.left+a.scrollLeft-c.x-u.x,f=o.top+a.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Lb(t){return Vs(t).position==="static"}function JN(t,e){if(!go(t)||Vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return So(t)===n&&(n=n.ownerDocument.body),n}function D$(t,e){const n=Oi(t);if(Px(t))return n;if(!go(t)){let i=al(t);for(;i&&!Gu(i);){if(Fs(i)&&!Lb(i))return i;i=al(i)}return n}let r=JN(t,e);for(;r&&Hq(r)&&Lb(r);)r=JN(r,e);return r&&Gu(r)&&Lb(r)&&!fT(r)?n:r||qq(t)||n}const iG=async function(t){const e=this.getOffsetParent||D$,n=this.getDimensions,r=await n(t.floating);return{reference:rG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sG(t){return Vs(t).direction==="rtl"}const oG={convertOffsetParentRelativeRectToViewportRelativeRect:Yq,getDocumentElement:So,getClippingRect:tG,getOffsetParent:D$,getElementRects:iG,getClientRects:Xq,getDimensions:nG,getScale:vu,isElement:Fs,isRTL:sG};function L$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aG(t,e){let n=null,r;const i=So(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=Wm(f),g=Wm(i.clientWidth-(d+h)),y=Wm(i.clientHeight-(f+m)),b=Wm(d),S={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Ci(0,sl(1,c))||1};let A=!0;function E(N){const _=N[0].intersectionRatio;if(_!==c){if(!A)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!L$(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return o(!0),s}function lG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=pT(t),d=i||s?[...u?Lh(u):[],...Lh(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&a?aG(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let v,g=c?cc(t):null;c&&y();function y(){const b=cc(t);g&&!L$(g,b)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const cG=Bq,uG=Uq,dG=$q,fG=Wq,hG=Fq,ZN=Lq,pG=zq,mG=(t,e,n)=>{const r=new Map,i={platform:oG,...n},s={...i.platform,_c:r};return Dq(t,e,{...i,platform:s})};var Mg=typeof document<"u"?x.useLayoutEffect:x.useEffect;function ky(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ky(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ky(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function $$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ej(t,e){const n=$$(t);return Math.round(e*n)/n}function $b(t){const e=x.useRef(t);return Mg(()=>{e.current=t}),e}function gG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(r);ky(h,r)||m(r);const[v,g]=x.useState(null),[y,b]=x.useState(null),w=x.useCallback($=>{$!==N.current&&(N.current=$,g($))},[]),S=x.useCallback($=>{$!==_.current&&(_.current=$,b($))},[]),A=s||v,E=o||y,N=x.useRef(null),_=x.useRef(null),T=x.useRef(d),P=c!=null,I=$b(c),j=$b(i),O=$b(u),R=x.useCallback(()=>{if(!N.current||!_.current)return;const $={placement:e,strategy:n,middleware:h};j.current&&($.platform=j.current),mG(N.current,_.current,$).then(z=>{const ne={...z,isPositioned:O.current!==!1};F.current&&!ky(T.current,ne)&&(T.current=ne,Ec.flushSync(()=>{f(ne)}))})},[h,e,n,j,O]);Mg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const F=x.useRef(!1);Mg(()=>(F.current=!0,()=>{F.current=!1}),[]),Mg(()=>{if(A&&(N.current=A),E&&(_.current=E),A&&E){if(I.current)return I.current(A,E,R);R()}},[A,E,R,I,P]);const B=x.useMemo(()=>({reference:N,floating:_,setReference:w,setFloating:S}),[w,S]),U=x.useMemo(()=>({reference:A,floating:E}),[A,E]),W=x.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const z=ej(U.floating,d.x),ne=ej(U.floating,d.y);return a?{...$,transform:"translate("+z+"px, "+ne+"px)",...$$(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:ne}},[n,a,U.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:B,elements:U,floatingStyles:W}),[d,R,B,U,W])}const yG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ZN({element:r.current,padding:i}).fn(n):{}:r?ZN({element:r,padding:i}).fn(n):{}}}},vG=(t,e)=>({...cG(t),options:[t,e]}),xG=(t,e)=>({...uG(t),options:[t,e]}),bG=(t,e)=>({...pG(t),options:[t,e]}),wG=(t,e)=>({...dG(t),options:[t,e]}),SG=(t,e)=>({...fG(t),options:[t,e]}),_G=(t,e)=>({...hG(t),options:[t,e]}),EG=(t,e)=>({...yG(t),options:[t,e]});var TG="Arrow",F$=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(et.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});F$.displayName=TG;var CG=F$;function gT(t){const[e,n]=x.useState(void 0);return mr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yT="Popper",[V$,jx]=$i(yT),[AG,B$]=V$(yT),U$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return l.jsx(AG,{scope:e,anchor:r,onAnchorChange:i,children:n})};U$.displayName=yT;var z$="PopperAnchor",W$=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=B$(z$,n),o=x.useRef(null),a=bt(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(et.div,{...i,ref:a})});W$.displayName=z$;var vT="PopperContent",[PG,NG]=V$(vT),H$=x.forwardRef((t,e)=>{var xe,je,ae,de,Y,V;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=B$(vT,n),[b,w]=x.useState(null),S=bt(e,Se=>w(Se)),[A,E]=x.useState(null),N=gT(A),_=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,P=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],O=j.length>0,R={padding:I,boundary:j.filter(kG),altBoundary:O},{refs:F,floatingStyles:B,placement:U,isPositioned:W,middlewareData:$}=gG({strategy:"fixed",placement:P,whileElementsMounted:(...Se)=>lG(...Se,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[vG({mainAxis:i+T,alignmentAxis:o}),c&&xG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bG():void 0,...R}),c&&wG({...R}),SG({...R,apply:({elements:Se,rects:Ee,availableWidth:nt,availableHeight:Ke})=>{const{width:rt,height:gt}=Ee.reference,Pe=Se.floating.style;Pe.setProperty("--radix-popper-available-width",`${nt}px`),Pe.setProperty("--radix-popper-available-height",`${Ke}px`),Pe.setProperty("--radix-popper-anchor-width",`${rt}px`),Pe.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),A&&EG({element:A,padding:a}),IG({arrowWidth:_,arrowHeight:T}),h&&_G({strategy:"referenceHidden",...R})]}),[z,ne]=K$(U),se=Rn(v);mr(()=>{W&&(se==null||se())},[W,se]);const Q=(xe=$.arrow)==null?void 0:xe.x,ge=(je=$.arrow)==null?void 0:je.y,ue=((ae=$.arrow)==null?void 0:ae.centerOffset)!==0,[Ce,tt]=x.useState();return mr(()=>{b&&tt(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(de=$.transformOrigin)==null?void 0:de.x,(Y=$.transformOrigin)==null?void 0:Y.y].join(" "),...((V=$.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(PG,{scope:n,placedSide:z,onArrowChange:E,arrowX:Q,arrowY:ge,shouldHideArrow:ue,children:l.jsx(et.div,{"data-side":z,"data-align":ne,...g,ref:S,style:{...g.style,animation:W?void 0:"none"}})})})});H$.displayName=vT;var q$="PopperArrow",jG={top:"bottom",right:"left",bottom:"top",left:"right"},G$=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=NG(q$,r),o=jG[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(CG,{...i,ref:n,style:{...i.style,display:"block"}})})});G$.displayName=q$;function kG(t){return t!==null}var IG=t=>({name:"transformOrigin",options:t,fn(e){var y,b,w;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=K$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):u==="top"?(v=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function K$(t){const[e,n="center"]=t.split("-");return[e,n]}var OG=U$,Y$=W$,X$=H$,Q$=G$,[kx,v2e]=$i("Tooltip",[jx]),xT=jx(),J$="TooltipProvider",RG=700,tj="tooltip.open",[MG,Z$]=kx(J$),e4=t=>{const{__scopeTooltip:e,delayDuration:n=RG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=x.useRef(!0),a=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(MG,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};e4.displayName=J$;var t4="Tooltip",[x2e,Ix]=kx(t4),W1="TooltipTrigger",DG=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ix(W1,n),s=Z$(W1,n),o=xT(n),a=x.useRef(null),c=bt(e,a,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Y$,{asChild:!0,...o,children:l.jsx(et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Fe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Fe(t.onBlur,i.onClose),onClick:Fe(t.onClick,i.onClose)})})});DG.displayName=W1;var LG="TooltipPortal",[b2e,$G]=kx(LG,{forceMount:void 0}),Ku="TooltipContent",n4=x.forwardRef((t,e)=>{const n=$G(Ku,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ix(Ku,t.__scopeTooltip);return l.jsx(as,{present:r||o.open,children:o.disableHoverableContent?l.jsx(r4,{side:i,...s,ref:e}):l.jsx(FG,{side:i,...s,ref:e})})}),FG=x.forwardRef((t,e)=>{const n=Ix(Ku,t.__scopeTooltip),r=Z$(Ku,t.__scopeTooltip),i=x.useRef(null),s=bt(e,i),[o,a]=x.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{a(null),f(!1)},[f]),m=x.useCallback((v,g)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},w=WG(b,y.getBoundingClientRect()),S=HG(b,w),A=qG(g.getBoundingClientRect()),E=KG([...S,...A]);a(E),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const v=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),x.useEffect(()=>{if(o){const v=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),S=!GG(b,o);w?h():S&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),l.jsx(r4,{...t,ref:s})}),[VG,BG]=kx(t4,{isInside:!1}),UG=jW("TooltipContent"),r4=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Ix(Ku,n),u=xT(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(tj,d),()=>document.removeEventListener(tj,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(X$,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(UG,{children:r}),l.jsx(VG,{scope:n,isInside:!0,children:l.jsx(XW,{id:c.contentId,role:"tooltip",children:i||r})})]})})});n4.displayName=Ku;var i4="TooltipArrow",zG=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=xT(n);return BG(i4,n).isInside?null:l.jsx(Q$,{...i,...r,ref:e})});zG.displayName=i4;function WG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qG(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function GG(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(i=!i)}return i}function KG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YG(e)}function YG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XG=e4,s4=n4;const QG=XG,JG=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(s4,{ref:r,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));JG.displayName=s4.displayName;const Dg=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],o4=x.createContext(void 0);function ZG({children:t}){const[e,n]=x.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=x.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&Dg.find(u=>u.id===a)||Dg[0]});x.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),x.useEffect(()=>{const a=document.documentElement,c=r.primary,u=r.primaryLight;a.style.setProperty("--primary",c),a.style.setProperty("--ring",c),a.style.setProperty("--sidebar-primary",e==="dark"?u:c),a.style.setProperty("--sidebar-ring",e==="dark"?u:c);const[d]=c.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const s=()=>{n(a=>a==="light"?"dark":"light")},o=a=>{i(a)};return l.jsx(o4.Provider,{value:{theme:e,setTheme:n,toggleTheme:s,colorTheme:r,setColorTheme:o},children:t})}function eK(){const t=x.useContext(o4);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const tK=()=>{};var nj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new rK;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iK=function(t){const e=a4(t);return l4.encodeByteArray(e,!0)},Iy=function(t){return iK(t).replace(/\./g,"")},c4=function(t){try{return l4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=()=>sK().__FIREBASE_DEFAULTS__,aK=()=>{if(typeof process>"u"||typeof nj>"u")return;const t=nj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c4(t[1]);return e&&JSON.parse(e)},Ox=()=>{try{return tK()||oK()||aK()||lK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u4=t=>{var e,n;return(n=(e=Ox())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cK=t=>{const e=u4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d4=()=>{var t;return(t=Ox())==null?void 0:t.config},f4=t=>{var e;return(e=Ox())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Iy(JSON.stringify(n)),Iy(JSON.stringify(o)),""].join(".")}const eh={};function fK(){const t={prod:[],emulator:[]};for(const e of Object.keys(eh))eh[e]?t.emulator.push(e):t.prod.push(e);return t}function hK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rj=!1;function p4(t,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||eh[t]===e||eh[t]||rj)return;eh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=fK().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{rj=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=hK(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(y,g);const A=u();c(w,b),S.append(w,v,y,A),document.body.appendChild(S)}s?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function mK(){var e;const t=(e=Ox())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xK(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bK(){return!mK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wK(){try{return typeof indexedDB=="object"}catch{return!1}}function SK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K="FirebaseError";class ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_K,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qp.prototype.create)}}class qp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ua(i,a,r)}}function EK(t,e){return t.replace(TK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TK=/\{\$([^}]+)}/g;function CK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ij(s)&&ij(o)){if(!uc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ij(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AK(t,e){const n=new PK(t,e);return n.subscribe.bind(n)}class PK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fb),i.error===void 0&&(i.error=Fb),i.complete===void 0&&(i.complete=Fb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IK(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kK(t){return t===kl?void 0:t}function IK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const RK={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},MK=_t.INFO,DK={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},LK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bT{constructor(e){this.name=e,this._logLevel=MK,this._logHandler=LK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const $K=(t,e)=>e.some(n=>t instanceof n);let sj,oj;function FK(){return sj||(sj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VK(){return oj||(oj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m4=new WeakMap,H1=new WeakMap,g4=new WeakMap,Vb=new WeakMap,wT=new WeakMap;function BK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&m4.set(n,t)}).catch(()=>{}),wT.set(e,t),e}function UK(t){if(H1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H1.set(t,e)}let q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return H1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zK(t){q1=t(q1)}function WK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bb(this),e,...n);return g4.set(r,e.sort?e.sort():[e]),Xa(r)}:VK().includes(t)?function(...e){return t.apply(Bb(this),e),Xa(m4.get(this))}:function(...e){return Xa(t.apply(Bb(this),e))}}function HK(t){return typeof t=="function"?WK(t):(t instanceof IDBTransaction&&UK(t),$K(t,FK())?new Proxy(t,q1):t)}function Xa(t){if(t instanceof IDBRequest)return BK(t);if(Vb.has(t))return Vb.get(t);const e=HK(t);return e!==t&&(Vb.set(t,e),wT.set(e,t)),e}const Bb=t=>wT.get(t);function qK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Xa(o.result),c.oldVersion,c.newVersion,Xa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GK=["get","getKey","getAll","getAllKeys","count"],KK=["put","add","delete","clear"],Ub=new Map;function aj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ub.get(e))return Ub.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GK.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Ub.set(e,s),s}zK(t=>({...t,get:(e,n,r)=>aj(e,n)||t.get(e,n,r),has:(e,n)=>!!aj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const G1="@firebase/app",lj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new bT("@firebase/app"),QK="@firebase/app-compat",JK="@firebase/analytics-compat",ZK="@firebase/analytics",eY="@firebase/app-check-compat",tY="@firebase/app-check",nY="@firebase/auth",rY="@firebase/auth-compat",iY="@firebase/database",sY="@firebase/data-connect",oY="@firebase/database-compat",aY="@firebase/functions",lY="@firebase/functions-compat",cY="@firebase/installations",uY="@firebase/installations-compat",dY="@firebase/messaging",fY="@firebase/messaging-compat",hY="@firebase/performance",pY="@firebase/performance-compat",mY="@firebase/remote-config",gY="@firebase/remote-config-compat",yY="@firebase/storage",vY="@firebase/storage-compat",xY="@firebase/firestore",bY="@firebase/ai",wY="@firebase/firestore-compat",SY="firebase",_Y="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="[DEFAULT]",EY={[G1]:"fire-core",[QK]:"fire-core-compat",[ZK]:"fire-analytics",[JK]:"fire-analytics-compat",[tY]:"fire-app-check",[eY]:"fire-app-check-compat",[nY]:"fire-auth",[rY]:"fire-auth-compat",[iY]:"fire-rtdb",[sY]:"fire-data-connect",[oY]:"fire-rtdb-compat",[aY]:"fire-fn",[lY]:"fire-fn-compat",[cY]:"fire-iid",[uY]:"fire-iid-compat",[dY]:"fire-fcm",[fY]:"fire-fcm-compat",[hY]:"fire-perf",[pY]:"fire-perf-compat",[mY]:"fire-rc",[gY]:"fire-rc-compat",[yY]:"fire-gcs",[vY]:"fire-gcs-compat",[xY]:"fire-fst",[wY]:"fire-fst-compat",[bY]:"fire-vertex","fire-js":"fire-js",[SY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map,TY=new Map,Y1=new Map;function cj(t,e){try{t.container.addComponent(e)}catch(n){ta.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yu(t){const e=t.name;if(Y1.has(e))return ta.debug(`There were multiple attempts to register component ${e}.`),!1;Y1.set(e,t);for(const n of Oy.values())cj(n,t);for(const n of TY.values())cj(n,t);return!0}function ST(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function As(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new qp("app","Firebase",CY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=_Y;function y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:K1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=d4()),!n)throw Qa.create("no-options");const s=Oy.get(i);if(s){if(uc(n,s.options)&&uc(r,s.config))return s;throw Qa.create("duplicate-app",{appName:i})}const o=new OK(i);for(const c of Y1.values())o.addComponent(c);const a=new AY(n,r,o);return Oy.set(i,a),a}function v4(t=K1){const e=Oy.get(t);if(!e&&t===K1&&d4())return y4();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=EY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ta.warn(o.join(" "));return}Yu(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY="firebase-heartbeat-database",NY=1,$h="firebase-heartbeat-store";let zb=null;function x4(){return zb||(zb=qK(PY,NY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($h)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),zb}async function jY(t){try{const n=(await x4()).transaction($h),r=await n.objectStore($h).get(b4(t));return await n.done,r}catch(e){if(e instanceof ua)ta.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ta.warn(n.message)}}}async function uj(t,e){try{const r=(await x4()).transaction($h,"readwrite");await r.objectStore($h).put(e,b4(t)),await r.done}catch(n){if(n instanceof ua)ta.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ta.warn(r.message)}}}function b4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=1024,IY=30;class OY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>IY){const o=DY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ta.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dj(),{heartbeatsToSend:r,unsentEntries:i}=RY(this._heartbeatsCache.heartbeats),s=Iy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ta.warn(n),""}}}function dj(){return new Date().toISOString().substring(0,10)}function RY(t,e=kY){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wK()?SK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fj(t){return Iy(JSON.stringify({version:2,heartbeats:t})).length}function DY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t){Yu(new dc("platform-logger",e=>new YK(e),"PRIVATE")),Yu(new dc("heartbeat",e=>new OY(e),"PRIVATE")),Ja(G1,lj,t),Ja(G1,lj,"esm2020"),Ja("fire-js","")}LY("");var $Y="firebase",FY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja($Y,FY,"app");function w4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VY=w4,S4=new qp("auth","Firebase",w4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new bT("@firebase/auth");function BY(t,...e){Ry.logLevel<=_t.WARN&&Ry.warn(`Auth (${Dd}): ${t}`,...e)}function Lg(t,...e){Ry.logLevel<=_t.ERROR&&Ry.error(`Auth (${Dd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,...e){throw ET(t,...e)}function Ms(t,...e){return ET(t,...e)}function _T(t,e,n){const r={...VY(),[e]:n};return new qp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return _T(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yo(t,"argument-error"),_T(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ET(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S4.create(t,...e)}function ct(t,e,...n){if(!t)throw ET(e,...n)}function Vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function na(t,e){t||Vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zY(){return hj()==="http:"||hj()==="https:"}function hj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zY()||yK()||"connection"in navigator)?navigator.onLine:!0}function HY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.shortDelay=e,this.longDelay=n,na(n>e,"Short delay should be less than long delay!"),this.isMobile=pK()||vK()}get(){return WY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e){na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KY=new Kp(3e4,6e4);function CT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ld(t,e,n,r,i={}){return E4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gp({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return gK()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Md(t.emulatorConfig.host)&&(u.credentials="include"),_4.fetch()(await T4(t,t.config.apiHost,n,a),u)})}async function E4(t,e,n){t._canInitEmulator=!1;const r={...qY,...e};try{const i=new XY(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hm(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _T(t,d,u);yo(t,d)}}catch(i){if(i instanceof ua)throw i;yo(t,"network-request-failed",{message:String(i)})}}async function YY(t,e,n,r,i={}){const s=await Ld(t,e,n,r,i);return"mfaPendingCredential"in s&&yo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function T4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?TT(t.config,i):`${t.config.apiScheme}://${i}`;return GY.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class XY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),KY.get())})}}function Hm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(t,e){return Ld(t,"POST","/v1/accounts:delete",e)}async function My(t,e){return Ld(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JY(t,e=!1){const n=ss(t),r=await n.getIdToken(e),i=AT(r);ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:th(Wb(i.auth_time)),issuedAtTime:th(Wb(i.iat)),expirationTime:th(Wb(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wb(t){return Number(t)*1e3}function AT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=c4(n);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pj(t){const e=AT(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ua&&ZY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Fh(t,My(e,{idToken:n}));ct(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?C4(i.providerUserInfo):[],o=nX(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Q1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function tX(t){const e=ss(t);await Dy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function C4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(t,e){const n=await E4(t,{},async()=>{const r=Gp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await T4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Md(t.emulatorConfig.host)&&(c.credentials="include"),_4.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iX(t,e){return Ld(t,"POST","/v2/accounts:revokeToken",CT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=pj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rX(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xu;return r&&(ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new eX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JY(this,e)}reload(){return tX(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await Fh(this,QY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:v,stsTokenManager:g}=n;ct(f&&g,e,"internal-error");const y=xu.fromJSON(this.name,g);ct(typeof f=="string",e,"internal-error"),_a(r,e.name),_a(i,e.name),ct(typeof h=="boolean",e,"internal-error"),ct(typeof m=="boolean",e,"internal-error"),_a(s,e.name),_a(o,e.name),_a(a,e.name),_a(c,e.name),_a(u,e.name),_a(d,e.name);const b=new Ns({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:y,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(b.providerData=v.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new xu;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ct(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?C4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new xu;a.updateFromIdToken(r);const c=new Ns({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Q1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Map;function Bo(t){na(t instanceof Function,"Expected a class definition");let e=mj.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A4.type="NONE";const gj=A4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e,n){return`firebase:${t}:${e}:${n}`}class bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$g(this.userKey,i.apiKey,s),this.fullPersistenceKey=$g("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await My(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bu(Bo(gj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Bo(gj);const o=$g(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await My(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ns._fromGetAccountInfoResponse(e,h,d)}else f=Ns._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new bu(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O4(e))return"Blackberry";if(R4(e))return"Webos";if(N4(e))return"Safari";if((e.includes("chrome/")||j4(e))&&!e.includes("edge/"))return"Chrome";if(I4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P4(t=Hr()){return/firefox\//i.test(t)}function N4(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j4(t=Hr()){return/crios\//i.test(t)}function k4(t=Hr()){return/iemobile/i.test(t)}function I4(t=Hr()){return/android/i.test(t)}function O4(t=Hr()){return/blackberry/i.test(t)}function R4(t=Hr()){return/webos/i.test(t)}function PT(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sX(t=Hr()){var e;return PT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function oX(){return xK()&&document.documentMode===10}function M4(t=Hr()){return PT(t)||I4(t)||R4(t)||O4(t)||/windows phone/i.test(t)||k4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e=[]){let n;switch(t){case"Browser":n=yj(Hr());break;case"Worker":n=`${yj(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(t,e={}){return Ld(t,"GET","/v2/passwordPolicy",CT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=6;class uX{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vj(this),this.idTokenSubscription=new vj(this),this.beforeStateQueue=new aX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await bu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await My(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(As(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(Jl(this));const n=e?ss(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lX(this),n=new uX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bo(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await bu.create(this,[Bo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&BY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rx(t){return ss(t)}class vj{constructor(e){this.auth=e,this.observer=null,this.addObserver=AK(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fX(t){NT=t}function hX(t){return NT.loadJS(t)}function pX(){return NT.gapiScript}function mX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t,e){const n=ST(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uc(s,e??{}))return i;yo(i,"already-initialized")}return n.initialize({options:e})}function yX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vX(t,e,n){const r=Rx(t);ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=L4(e),{host:o,port:a}=xX(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ct(uc(u,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Md(o)?(h4(`${s}//${o}${c}`),p4("Auth",!0)):bX()}function L4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xX(t){const e=L4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xj(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xj(o)}}}function xj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,n){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e){return YY(t,"POST","/v1/accounts:signInWithIdp",CT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX="http://localhost";class fc extends $4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new fc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wu(e,n)}buildRequest(){const e={requestUri:wX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends jT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Yp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Yp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Yp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.GITHUB_SIGN_IN_METHOD="github.com";ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Yp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),o=bj(r);return new Xu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bj(r);return new Xu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends ua{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ly.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ly(e,n,r,i)}}function F4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ly._fromErrorAndOperation(t,s,e,r):s})}async function SX(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _X(t,e,n=!1){const{auth:r}=t;if(As(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const s=await Fh(t,F4(r,i,e,t),n);ct(s.idToken,r,"internal-error");const o=AT(s.idToken);ct(o,r,"internal-error");const{sub:a}=o;return ct(t.uid===a,r,"user-mismatch"),Xu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EX(t,e,n=!1){if(As(t.app))return Promise.reject(Jl(t));const r="signIn",i=await F4(t,r,e),s=await Xu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function TX(t,e,n,r){return ss(t).onIdTokenChanged(e,n,r)}function CX(t,e,n){return ss(t).beforeAuthStateChanged(e,n)}function AX(t,e,n,r){return ss(t).onAuthStateChanged(e,n,r)}function PX(t){return ss(t).signOut()}const $y="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($y,"1"),this.storage.removeItem($y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=1e3,jX=10;class B4 extends V4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B4.type="LOCAL";const kX=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends V4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U4.type="SESSION";const z4=U4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await IX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=kT("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return window}function RX(t){lo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){return typeof lo().WorkerGlobalScope<"u"&&typeof lo().importScripts=="function"}async function MX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LX(){return W4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebaseLocalStorageDb",$X=1,Fy="firebaseLocalStorage",q4="fbase_key";class Xp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dx(t,e){return t.transaction([Fy],e?"readwrite":"readonly").objectStore(Fy)}function FX(){const t=indexedDB.deleteDatabase(H4);return new Xp(t).toPromise()}function J1(){const t=indexedDB.open(H4,$X);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fy,{keyPath:q4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fy)?e(r):(r.close(),await FX(),e(await J1()))})})}async function wj(t,e,n){const r=Dx(t,!0).put({[q4]:e,value:n});return new Xp(r).toPromise()}async function VX(t,e){const n=Dx(t,!1).get(e),r=await new Xp(n).toPromise();return r===void 0?null:r.value}function Sj(t,e){const n=Dx(t,!0).delete(e);return new Xp(n).toPromise()}const BX=800,UX=3;class G4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mx._getInstance(LX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MX(),!this.activeServiceWorker)return;this.sender=new OX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J1();return await wj(e,$y,"1"),await Sj(e,$y),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Dx(i,!1).getAll();return new Xp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G4.type="LOCAL";const zX=G4;new Kp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e){return e?Bo(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends $4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WX(t){return EX(t.auth,new IT(t),t.bypassAuthState)}function HX(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),_X(n,new IT(t),t.bypassAuthState)}async function qX(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),SX(n,new IT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WX;case"linkViaPopup":case"linkViaRedirect":return qX;case"reauthViaPopup":case"reauthViaRedirect":return HX;default:yo(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=new Kp(2e3,1e4);async function X4(t,e,n){if(As(t.app))return Promise.reject(Ms(t,"operation-not-supported-in-this-environment"));const r=Rx(t);UY(t,e,jT);const i=K4(r,n);return new Vl(r,"signInViaPopup",e,i).executeNotNull()}class Vl extends Y4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=kT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GX.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX="pendingRedirect",Fg=new Map;class YX extends Y4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fg.get(this.auth._key());if(!e){try{const r=await XX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fg.set(this.auth._key(),e)}return this.bypassAuthState||Fg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XX(t,e){const n=ZX(e),r=JX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QX(t,e){Fg.set(t._key(),e)}function JX(t){return Bo(t._redirectPersistence)}function ZX(t){return $g(KX,t.config.apiKey,t.name)}async function eQ(t,e,n=!1){if(As(t.app))return Promise.reject(Jl(t));const r=Rx(t),i=K4(r,e),o=await new YX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=10*60*1e3;class nQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Q4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(_j(e))}saveEventToCache(e){this.cachedEventUids.add(_j(e)),this.lastProcessedEventTime=Date.now()}}function _j(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iQ(t,e={}){return Ld(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oQ=/^https?/;async function aQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iQ(t);for(const n of e)try{if(lQ(n))return}catch{}yo(t,"unauthorized-domain")}function lQ(t){const e=X1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oQ.test(n))return!1;if(sQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=new Kp(3e4,6e4);function Ej(){const t=lo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uQ(t){return new Promise((e,n)=>{var i,s,o;function r(){Ej(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ej(),n(Ms(t,"network-request-failed"))},timeout:cQ.get()})}if((s=(i=lo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=lo().gapi)!=null&&o.load)r();else{const a=mX("iframefcb");return lo()[a]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},hX(`${pX()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vg=null,e})}let Vg=null;function dQ(t){return Vg=Vg||uQ(t),Vg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=new Kp(5e3,15e3),hQ="__/auth/iframe",pQ="emulator/auth/iframe",mQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yQ(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TT(e,pQ):`https://${t.config.authDomain}/${hQ}`,r={apiKey:e.apiKey,appName:t.name,v:Dd},i=gQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gp(r).slice(1)}`}async function vQ(t){const e=await dQ(t),n=lo().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:yQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mQ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ms(t,"network-request-failed"),a=lo().setTimeout(()=>{s(o)},fQ.get());function c(){lo().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bQ=500,wQ=600,SQ="_blank",_Q="http://localhost";class Tj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EQ(t,e,n,r=bQ,i=wQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...xQ,width:r.toString(),height:i.toString(),top:s,left:o},u=Hr().toLowerCase();n&&(a=j4(u)?SQ:n),P4(u)&&(e=e||_Q,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(sX(u)&&a!=="_self")return TQ(e||"",a),new Tj(null);const f=window.open(e||"",a,d);ct(f,t,"popup-blocked");try{f.focus()}catch{}return new Tj(f)}function TQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ="__/auth/handler",AQ="emulator/auth/handler",PQ=encodeURIComponent("fac");async function Cj(t,e,n,r,i,s){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dd,eventId:i};if(e instanceof jT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Yp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${PQ}=${encodeURIComponent(c)}`:"";return`${NQ(t)}?${Gp(a).slice(1)}${u}`}function NQ({config:t}){return t.emulator?TT(t,AQ):`https://${t.authDomain}/${CQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="webStorageSupport";class jQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z4,this._completeRedirectFn=eQ,this._overrideRedirectResult=QX}async _openPopup(e,n,r,i){var o;na((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Cj(e,n,r,X1(),i);return EQ(e,s,kT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cj(e,n,r,X1(),i);return RX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(na(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vQ(e),r=new nQ(e);return n.register("authEvent",i=>(ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hb,{type:Hb},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Hb];s!==void 0&&n(!!s),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M4()||N4()||PT()}}const kQ=jQ;var Aj="@firebase/auth",Pj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RQ(t){Yu(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D4(t)},u=new dX(r,i,s,c);return yX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new dc("auth-internal",e=>{const n=Rx(e.getProvider("auth").getImmediate());return(r=>new IQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(Aj,Pj,OQ(t)),Ja(Aj,Pj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=5*60,DQ=f4("authIdTokenMaxAge")||MQ;let Nj=null;const LQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DQ)return;const i=n==null?void 0:n.token;Nj!==i&&(Nj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $Q(t=v4()){const e=ST(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gX(t,{popupRedirectResolver:kQ,persistence:[zX,kX,z4]}),r=f4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=LQ(s.toString());CX(n,o,()=>o(n.currentUser)),TX(n,a=>o(a))}}const i=u4("auth");return i&&vX(n,`http://${i}`),n}function FQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RQ("Browser");var jj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,J4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function P(){}P.prototype=T.prototype,_.F=T.prototype,_.prototype=new P,_.prototype.constructor=_,_.D=function(I,j,O){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return T.prototype[j].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,P){P||(P=0);const I=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)I[j]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(j=0;j<16;++j)I[j]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=_.g[0],P=_.g[1],j=_.g[2];let O=_.g[3],R;R=T+(O^P&(j^O))+I[0]+3614090360&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[2]+606105819&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[3]+3250441966&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[4]+4118548399&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[6]+2821735955&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[7]+4249261313&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[8]+1770035416&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[10]+4294925233&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[11]+2304563134&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[12]+1804603682&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[14]+2792965006&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[15]+1236535329&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(j^O&(P^j))+I[1]+4129170786&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[11]+643717713&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[0]+3921069994&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[5]+3593408605&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[15]+3634488961&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[4]+3889429448&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[9]+568446438&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[3]+4107603335&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[8]+1163531501&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[13]+2850285829&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[7]+1735328473&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[12]+2368359562&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(P^j^O)+I[5]+4294588738&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[11]+1839030562&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[14]+4259657740&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[1]+2763975236&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[7]+4139469664&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[10]+3200236656&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[13]+681279174&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[3]+3572445317&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[6]+76029189&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[9]+3654602809&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[15]+530742520&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[2]+3299628645&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(j^(P|~O))+I[0]+4096336452&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[14]+2878612391&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[5]+4237533241&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[12]+1700485571&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[10]+4293915773&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[1]+2240044497&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[8]+1873313359&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[6]+2734768916&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[13]+1309151649&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[4]+4149444226&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[2]+718787259&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const P=T-this.blockSize,I=this.C;let j=this.h,O=0;for(;O<T;){if(j==0)for(;O<=P;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<T;)if(I[j++]=_.charCodeAt(O++),j==this.blockSize){i(this,I),j=0;break}}else for(;O<T;)if(I[j++]=_[O++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var P=_.length-8;P<_.length;++P)_[P]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)_[T++]=this.g[P]>>>I&255;return _};function s(_,T){var P=a;return Object.prototype.hasOwnProperty.call(P,_)?P[_]:P[_]=T(_)}function o(_,T){this.h=T;const P=[];let I=!0;for(let j=_.length-1;j>=0;j--){const O=_[j]|0;I&&O==T||(P[j]=O,I=!1)}this.g=P}var a={};function c(_){return-128<=_&&_<128?s(_,function(T){return new o([T|0],T<0?-1:0)}):new o([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return y(u(-_));const T=[];let P=1;for(let I=0;_>=P;I++)T[I]=_/P|0,P*=4294967296;return new o(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return y(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(T,8));let I=f;for(let O=0;O<_.length;O+=8){var j=Math.min(8,_.length-O);const R=parseInt(_.substring(O,O+j),T);j<8?(j=u(Math.pow(T,j)),I=I.j(j).add(u(R))):(I=I.j(P),I=I.add(u(R)))}return I}var f=c(0),h=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let _=0,T=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);_+=(I>=0?I:4294967296+I)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(v(this))return"0";if(g(this))return"-"+y(this).toString(_);const T=u(Math.pow(_,6));var P=this;let I="";for(;;){const j=A(P,T).g;P=b(P,j.j(T));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(_);if(P=j,v(P))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function v(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=b(this,_),g(_)?-1:v(_)?0:1};function y(_){const T=_.g.length,P=[];for(let I=0;I<T;I++)P[I]=~_.g[I];return new o(P,~_.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),P=[];let I=0;for(let j=0;j<=T;j++){let O=I+(this.i(j)&65535)+(_.i(j)&65535),R=(O>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);I=R>>>16,O&=65535,R&=65535,P[j]=R<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(_,T){return _.add(y(T))}t.j=function(_){if(v(this)||v(_))return f;if(g(this))return g(_)?y(this).j(y(_)):y(y(this).j(_));if(g(_))return y(this.j(y(_)));if(this.l(m)<0&&_.l(m)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,P=[];for(var I=0;I<2*T;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let j=0;j<_.g.length;j++){const O=this.i(I)>>>16,R=this.i(I)&65535,F=_.i(j)>>>16,B=_.i(j)&65535;P[2*I+2*j]+=R*B,w(P,2*I+2*j),P[2*I+2*j+1]+=O*B,w(P,2*I+2*j+1),P[2*I+2*j+1]+=R*F,w(P,2*I+2*j+1),P[2*I+2*j+2]+=O*F,w(P,2*I+2*j+2)}for(_=0;_<T;_++)P[_]=P[2*_+1]<<16|P[2*_];for(_=T;_<2*T;_++)P[_]=0;return new o(P,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function A(_,T){if(v(T))throw Error("division by zero");if(v(_))return new S(f,f);if(g(_))return T=A(y(_),T),new S(y(T.g),y(T.h));if(g(T))return T=A(_,y(T)),new S(y(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=h,I=T;I.l(_)<=0;)P=E(P),I=E(I);var j=N(P,1),O=N(I,1);for(I=N(I,2),P=N(P,2);!v(I);){var R=O.add(I);R.l(_)<=0&&(j=j.add(P),O=R),I=N(I,1),P=N(P,1)}return T=b(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(P=Math.max(1,Math.floor(_.m()/T.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=u(P),R=O.j(T);g(R)||R.l(_)>0;)P-=I,O=u(P),R=O.j(T);v(O)&&(O=h),j=j.add(O),_=b(_,R)}return new S(j,_)}t.B=function(_){return A(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)&_.i(I);return new o(P,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)|_.i(I);return new o(P,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)^_.i(I);return new o(P,this.h^_.h)};function E(_){const T=_.g.length+1,P=[];for(let I=0;I<T;I++)P[I]=_.i(I)<<1|_.i(I-1)>>>31;return new o(P,_.h)}function N(_,T){const P=T>>5;T%=32;const I=_.g.length-P,j=[];for(let O=0;O<I;O++)j[O]=T>0?_.i(O+P)>>>T|_.i(O+P+1)<<32-T:_.i(O+P);return new o(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Za=o}).apply(typeof jj<"u"?jj:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z4,Lf,e3,Bg,Z1,t3,n3,r3;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var C=0;C<p.length;++C){var k=p[C];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,C){if(C)e:{var k=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var X=p[D];if(!(X in k))break e;k=k[X]}p=p[p.length-1],D=k[p],C=C(D),C!=D&&C!=null&&e(k,p,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(C){var k=[],D;for(D in C)Object.prototype.hasOwnProperty.call(C,D)&&k.push([D,C[D]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function c(p,C,k){return p.call.apply(p.bind,arguments)}function u(p,C,k){return u=c,u.apply(null,arguments)}function d(p,C){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,C){function k(){}k.prototype=C.prototype,p.Z=C.prototype,p.prototype=new k,p.prototype.constructor=p,p.Ob=function(D,X,ee){for(var Ne=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Ne[vt-2]=arguments[vt];return C.prototype[X].apply(D,Ne)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const C=p.length;if(C>0){const k=Array(C);for(let D=0;D<C;D++)k[D]=p[D];return k}return[]}function v(p,C){for(let D=1;D<arguments.length;D++){const X=arguments[D];var k=typeof X;if(k=k!="object"?k:X?Array.isArray(X)?"array":k:"null",k=="array"||k=="object"&&typeof X.length=="number"){k=p.length||0;const ee=X.length||0;p.length=k+ee;for(let Ne=0;Ne<ee;Ne++)p[k+Ne]=X[Ne]}else p.push(X)}}class g{constructor(C,k){this.i=C,this.j=k,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(p){o.setTimeout(()=>{throw p},0)}function b(){var p=_;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class w{constructor(){this.h=this.g=null}add(C,k){const D=S.get();D.set(C,k),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new A,p=>p.reset());class A{constructor(){this.next=this.g=this.h=null}set(C,k){this.h=C,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let E,N=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(P)}};function P(){for(var p;p=b();){try{p.h.call(p.g)}catch(k){y(k)}var C=S;C.j(p),C.h<100&&(C.h++,p.next=C.g,C.g=p)}N=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};o.addEventListener("test",k,C),o.removeEventListener("test",k,C)}catch{}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function F(p,C){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,C)}f(F,j),F.prototype.init=function(p,C){const k=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget,C||(k=="mouseover"?C=p.fromElement:k=="mouseout"&&(C=p.toElement)),this.relatedTarget=C,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,C,k,D,X){this.listener=p,this.proxy=null,this.src=C,this.type=k,this.capture=!!D,this.ha=X,this.key=++U,this.da=this.fa=!1}function $(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function z(p,C,k){for(const D in p)C.call(k,p[D],D,p)}function ne(p,C){for(const k in p)C.call(void 0,p[k],k,p)}function se(p){const C={};for(const k in p)C[k]=p[k];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,C){let k,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(k in D)p[k]=D[k];for(let ee=0;ee<Q.length;ee++)k=Q[ee],Object.prototype.hasOwnProperty.call(D,k)&&(p[k]=D[k])}}function ue(p){this.src=p,this.g={},this.h=0}ue.prototype.add=function(p,C,k,D,X){const ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);const Ne=tt(p,C,D,X);return Ne>-1?(C=p[Ne],k||(C.fa=!1)):(C=new W(C,this.src,ee,!!D,X),C.fa=k,p.push(C)),C};function Ce(p,C){const k=C.type;if(k in p.g){var D=p.g[k],X=Array.prototype.indexOf.call(D,C,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(D,X,1),ee&&($(C),p.g[k].length==0&&(delete p.g[k],p.h--))}}function tt(p,C,k,D){for(let X=0;X<p.length;++X){const ee=p[X];if(!ee.da&&ee.listener==C&&ee.capture==!!k&&ee.ha==D)return X}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),je={};function ae(p,C,k,D,X){if(Array.isArray(C)){for(let ee=0;ee<C.length;ee++)ae(p,C[ee],k,D,X);return null}return k=gt(k),p&&p[B]?p.J(C,k,a(D)?!!D.capture:!!D,X):de(p,C,k,!1,D,X)}function de(p,C,k,D,X,ee){if(!C)throw Error("Invalid event type");const Ne=a(X)?!!X.capture:!!X;let vt=Ke(p);if(vt||(p[xe]=vt=new ue(p)),k=vt.add(C,k,D,Ne,ee),k.proxy)return k;if(D=Y(),k.proxy=D,D.src=p,D.listener=k,p.addEventListener)O||(X=Ne),X===void 0&&(X=!1),p.addEventListener(C.toString(),D,X);else if(p.attachEvent)p.attachEvent(Ee(C.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Y(){function p(k){return C.call(p.src,p.listener,k)}const C=nt;return p}function V(p,C,k,D,X){if(Array.isArray(C))for(var ee=0;ee<C.length;ee++)V(p,C[ee],k,D,X);else D=a(D)?!!D.capture:!!D,k=gt(k),p&&p[B]?(p=p.i,ee=String(C).toString(),ee in p.g&&(C=p.g[ee],k=tt(C,k,D,X),k>-1&&($(C[k]),Array.prototype.splice.call(C,k,1),C.length==0&&(delete p.g[ee],p.h--)))):p&&(p=Ke(p))&&(C=p.g[C.toString()],p=-1,C&&(p=tt(C,k,D,X)),(k=p>-1?C[p]:null)&&Se(k))}function Se(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[B])Ce(C.i,p);else{var k=p.type,D=p.proxy;C.removeEventListener?C.removeEventListener(k,D,p.capture):C.detachEvent?C.detachEvent(Ee(k),D):C.addListener&&C.removeListener&&C.removeListener(D),(k=Ke(C))?(Ce(k,p),k.h==0&&(k.src=null,C[xe]=null)):$(p)}}}function Ee(p){return p in je?je[p]:je[p]="on"+p}function nt(p,C){if(p.da)p=!0;else{C=new F(C,this);const k=p.listener,D=p.ha||p.src;p.fa&&Se(p),p=k.call(D,C)}return p}function Ke(p){return p=p[xe],p instanceof ue?p:null}var rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gt(p){return typeof p=="function"?p:(p[rt]||(p[rt]=function(C){return p.handleEvent(C)}),p[rt])}function Pe(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}f(Pe,I),Pe.prototype[B]=!0,Pe.prototype.removeEventListener=function(p,C,k,D){V(this,p,C,k,D)};function Je(p,C){var k,D=p.G;if(D)for(k=[];D;D=D.G)k.push(D);if(p=p.M,D=C.type||C,typeof C=="string")C=new j(C,p);else if(C instanceof j)C.target=C.target||p;else{var X=C;C=new j(D,p),ge(C,X)}X=!0;let ee,Ne;if(k)for(Ne=k.length-1;Ne>=0;Ne--)ee=C.g=k[Ne],X=Ze(ee,D,!0,C)&&X;if(ee=C.g=p,X=Ze(ee,D,!0,C)&&X,X=Ze(ee,D,!1,C)&&X,k)for(Ne=0;Ne<k.length;Ne++)ee=C.g=k[Ne],X=Ze(ee,D,!1,C)&&X}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var p=this.i;for(const C in p.g){const k=p.g[C];for(let D=0;D<k.length;D++)$(k[D]);delete p.g[C],p.h--}}this.G=null},Pe.prototype.J=function(p,C,k,D){return this.i.add(String(p),C,!1,k,D)},Pe.prototype.K=function(p,C,k,D){return this.i.add(String(p),C,!0,k,D)};function Ze(p,C,k,D){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();let X=!0;for(let ee=0;ee<C.length;++ee){const Ne=C[ee];if(Ne&&!Ne.da&&Ne.capture==k){const vt=Ne.listener,Kn=Ne.ha||Ne.src;Ne.fa&&Ce(p.i,Ne),X=vt.call(Kn,D)!==!1&&X}}return X&&!D.defaultPrevented}function Ie(p,C){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(p,C||0)}function Ut(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,Ut(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class gn extends I{constructor(C,k){super(),this.m=C,this.l=k,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(p){I.call(this),this.h=p,this.g={}}f(fn,I);var kn=[];function qr(p){z(p.g,function(C,k){this.g.hasOwnProperty(k)&&Se(C)},p),p.g={}}fn.prototype.N=function(){fn.Z.N.call(this),qr(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=o.JSON.stringify,yn=o.JSON.parse,qt=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function hn(){}function Ft(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gr(){j.call(this,"d")}f(Gr,j);function yr(){j.call(this,"c")}f(yr,j);var Nr={},ti=null;function Gt(){return ti=ti||new Pe}Nr.Ia="serverreachability";function zt(p){j.call(this,Nr.Ia,p)}f(zt,j);function vr(p){const C=Gt();Je(C,new zt(C))}Nr.STAT_EVENT="statevent";function Wn(p,C){j.call(this,Nr.STAT_EVENT,p),this.stat=C}f(Wn,j);function Kt(p){const C=Gt();Je(C,new Wn(C,p))}Nr.Ja="timingevent";function Hn(p,C){j.call(this,Nr.Ja,p),this.size=C}f(Hn,j);function qn(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},C)}function vn(){this.g=!0}vn.prototype.ua=function(){this.g=!1};function ds(p,C,k,D,X,ee){p.info(function(){if(p.g)if(ee){var Ne="",vt=ee.split("&");for(let Xt=0;Xt<vt.length;Xt++){var Kn=vt[Xt].split("=");if(Kn.length>1){const ar=Kn[0];Kn=Kn[1];const Ws=ar.split("_");Ne=Ws.length>=2&&Ws[1]=="type"?Ne+(ar+"="+Kn+"&"):Ne+(ar+"=redacted&")}}}else Ne=null;else Ne=ee;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+C+`
`+k+`
`+Ne})}function Fi(p,C,k,D,X,ee,Ne){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+C+`
`+k+`
`+ee+" "+Ne})}function ni(p,C,k,D){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+ri(p,k)+(D?" "+D:"")})}function To(p,C){p.info(function(){return"TIMEOUT: "+C})}vn.prototype.info=function(){};function ri(p,C){if(!p.g)return C;if(!C)return null;try{const ee=JSON.parse(C);if(ee){for(p=0;p<ee.length;p++)if(Array.isArray(ee[p])){var k=ee[p];if(!(k.length<2)){var D=k[1];if(Array.isArray(D)&&!(D.length<1)){var X=D[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Ne=1;Ne<D.length;Ne++)D[Ne]=""}}}}return nn(ee)}catch{return C}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ii;function jr(){}f(jr,hn),jr.prototype.g=function(){return new XMLHttpRequest},ii=new jr;function gi(p){return encodeURIComponent(String(p))}function ma(p){var C=1;p=p.split(":");const k=[];for(;C>0&&p.length;)k.push(p.shift()),C--;return p.length&&k.push(p.join(":")),k}function kr(p,C,k,D){this.j=p,this.i=C,this.l=k,this.S=D||1,this.V=new fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}var Co={},Bi={};function Ln(p,C,k){p.M=1,p.A=te(K(C)),p.u=k,p.R=!0,ir(p,null)}function ir(p,C){p.F=Date.now(),Be(p),p.B=K(p.A);var k=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),af(k.i,"t",D),p.C=0,k=p.j.L,p.h=new ga,p.g=aP(p.j,k?C:null,!p.u),p.P>0&&(p.O=new gn(u(p.Y,p,p.g),p.P)),C=p.V,k=p.g,D=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(kn[0]=X.toString()),X=kn);for(let ee=0;ee<X.length;ee++){const Ne=ae(k,X[ee],D||C.handleEvent,!1,C.h||C);if(!Ne)break;C.g[Ne.key]=Ne}C=p.J?se(p.J):{},p.u?(p.v||(p.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,C)):(p.v="GET",p.g.ea(p.B,p.v,null,C)),vr(),ds(p.i,p.v,p.B,p.l,p.S,p.u)}kr.prototype.ba=function(p){p=p.target;const C=this.O;C&&Po(p)==3?C.j():this.Y(p)},kr.prototype.Y=function(p){try{if(p==this.g)e:{const vt=Po(this.g),Kn=this.g.ya(),Xt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||lf(this.g)))){this.K||vt!=4||Kn==7||(Kn==8||Xt<=0?vr(3):vr(2)),q(this);var C=this.g.ca();this.X=C;var k=H(this);if(this.o=C==200,Fi(this.i,this.v,this.B,this.l,this.S,vt,C),this.o){if(this.U&&!this.L){t:{if(this.g){var D,X=this.g;if((D=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var ee=D;break t}}ee=null}if(p=ee)ni(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pe(this,p);else{this.o=!1,this.m=3,Kt(12),Re(this),Te(this);break e}}if(this.R){p=!0;let ar;for(;!this.K&&this.C<k.length;)if(ar=Oe(this,k),ar==Bi){vt==4&&(this.m=4,Kt(14),p=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Co){this.m=4,Kt(15),ni(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else ni(this.i,this.l,ar,null),pe(this,ar);if(re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||k.length!=0||this.h.h||(this.m=1,Kt(16),p=!1),this.o=this.o&&p,!p)ni(this.i,this.l,k,"[Invalid Chunked Response]"),Re(this),Te(this);else if(k.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),tb(Ne),Ne.P=!0,Kt(11))}}else ni(this.i,this.l,k,null),pe(this,k);vt==4&&Re(this),this.o&&!this.K&&(vt==4?rP(this.j,this):(this.o=!1,Be(this)))}else _l(this.g),C==400&&k.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Re(this),Te(this)}}}catch{}finally{}};function H(p){if(!re(p))return p.g.la();const C=lf(p.g);if(C==="")return"";let k="";const D=C.length,X=Po(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Re(p),Te(p),"";p.h.i=new o.TextDecoder}for(let ee=0;ee<D;ee++)p.h.h=!0,k+=p.h.i.decode(C[ee],{stream:!(X&&ee==D-1)});return C.length=0,p.h.g+=k,p.C=0,p.h.g}function re(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Oe(p,C){var k=p.C,D=C.indexOf(`
`,k);return D==-1?Bi:(k=Number(C.substring(k,D)),isNaN(k)?Co:(D+=1,D+k>C.length?Bi:(C=C.slice(D,D+k),p.C=D+k,C)))}kr.prototype.cancel=function(){this.K=!0,Re(this)};function Be(p){p.T=Date.now()+p.H,Le(p,p.H)}function Le(p,C){if(p.D!=null)throw Error("WatchDog timer not null");p.D=qn(u(p.aa,p),C)}function q(p){p.D&&(o.clearTimeout(p.D),p.D=null)}kr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(To(this.i,this.B),this.M!=2&&(vr(),Kt(17)),Re(this),this.m=2,Te(this)):Le(this,this.T-p)};function Te(p){p.j.I==0||p.K||rP(p.j,p)}function Re(p){q(p);var C=p.O;C&&typeof C.dispose=="function"&&C.dispose(),p.O=null,qr(p.V),p.g&&(C=p.g,p.g=null,C.abort(),C.dispose())}function pe(p,C){try{var k=p.j;if(k.I!=0&&(k.g==p||Pt(k.h,p))){if(!p.L&&Pt(k.h,p)&&k.I==3){try{var D=k.Ba.g.parse(C)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<p.F)vm(k),El(k);else break e;eb(k),Kt(18)}}else k.xa=X[1],0<k.xa-k.K&&X[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=qn(u(k.Va,k),6e3));it(k.h)<=1&&k.ta&&(k.ta=void 0)}else Tl(k,11)}else if((p.L||k.g==p)&&vm(k),!R(C))for(X=k.Ba.g.parse(C),C=0;C<X.length;C++){let Xt=X[C];const ar=Xt[0];if(!(ar<=k.K))if(k.K=ar,Xt=Xt[1],k.I==2)if(Xt[0]=="c"){k.M=Xt[1],k.ba=Xt[2];const Ws=Xt[3];Ws!=null&&(k.ka=Ws,k.j.info("VER="+k.ka));const Cl=Xt[4];Cl!=null&&(k.za=Cl,k.j.info("SVER="+k.za));const va=Xt[5];va!=null&&typeof va=="number"&&va>0&&(D=1.5*va,k.O=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const xa=p.g;if(xa){const bm=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bm){var ee=D.h;ee.g||bm.indexOf("spdy")==-1&&bm.indexOf("quic")==-1&&bm.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Rt(ee,ee.h),ee.h=null))}if(D.G){const nb=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;nb&&(D.wa=nb,le(D.J,D.G,nb))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-p.F,k.j.info("Handshake RTT: "+k.T+"ms")),D=k;var Ne=p;if(D.na=oP(D,D.L?D.ba:null,D.W),Ne.L){sr(D.h,Ne);var vt=Ne,Kn=D.O;Kn&&(vt.H=Kn),vt.D&&(q(vt),Be(vt)),D.g=Ne}else tP(D);k.i.length>0&&ym(k)}else Xt[0]!="stop"&&Xt[0]!="close"||Tl(k,7);else k.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Tl(k,7):cf(k):Xt[0]!="noop"&&k.l&&k.l.qa(Xt),k.A=0)}}vr(4)}catch{}}var we=class{constructor(p,C){this.g=p,this.map=C}};function ve(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ye(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function it(p){return p.h?1:p.g?p.g.size:0}function Pt(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function Rt(p,C){p.g?p.g.add(C):p.h=C}function sr(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}ve.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function or(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const k of p.g.values())C=C.concat(k.G);return C}return m(p.i)}var kt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(p,C){if(p){p=p.split("&");for(let k=0;k<p.length;k++){const D=p[k].indexOf("=");let X,ee=null;D>=0?(X=p[k].substring(0,D),ee=p[k].substring(D+1)):X=p[k],C(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function L(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;p instanceof L?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,Z(this,p.u),this.h=p.h,ce(this,Zt(p.i)),this.m=p.m):p&&(C=String(p).match(kt))?(this.l=!1,J(this,C[1]||"",!0),this.o=ye(C[2]||""),this.g=ye(C[3]||"",!0),Z(this,C[4]),this.h=ye(C[5]||"",!0),ce(this,C[6]||"",!0),this.m=ye(C[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}L.prototype.toString=function(){const p=[];var C=this.j;C&&p.push(Ae(C,Me,!0),":");var k=this.g;return(k||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Ae(C,Me,!0),"@"),p.push(gi(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&p.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Ae(k,k.charAt(0)=="/"?rn:pt,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Ae(k,Ui)),p.join("")},L.prototype.resolve=function(p){const C=K(this);let k=!!p.j;k?J(C,p.j):k=!!p.o,k?C.o=p.o:k=!!p.g,k?C.g=p.g:k=p.u!=null;var D=p.h;if(k)Z(C,p.u);else if(k=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var X=C.h.lastIndexOf("/");X!=-1&&(D=C.h.slice(0,X+1)+D)}if(X=D,X==".."||X==".")D="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){D=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let Ne=0;Ne<X.length;){const vt=X[Ne++];vt=="."?D&&Ne==X.length&&ee.push(""):vt==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&Ne==X.length&&ee.push("")):(ee.push(vt),D=!0)}D=ee.join("/")}else D=X}return k?C.h=D:k=p.i.toString()!=="",k?ce(C,Zt(p.i)):k=!!p.m,k&&(C.m=p.m),C};function K(p){return new L(p)}function J(p,C,k){p.j=k?ye(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function Z(p,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);p.u=C}else p.u=null}function ce(p,C,k){C instanceof xr?(p.i=C,J0(p.i,p.l)):(k||(C=Ae(C,Gn)),p.i=new xr(C,p.l))}function le(p,C,k){p.i.set(C,k)}function te(p){return le(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ye(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ae(p,C,k){return typeof p=="string"?(p=encodeURI(p).replace(C,_e),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function _e(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Me=/[#\/\?@]/g,pt=/[#\?:]/g,rn=/[#\?]/g,Gn=/[#\?@]/g,Ui=/#/g;function xr(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function yi(p){p.g||(p.g=new Map,p.h=0,p.i&&M(p.i,function(C,k){p.add(decodeURIComponent(C.replace(/\+/g," ")),k)}))}t=xr.prototype,t.add=function(p,C){yi(this),this.i=null,p=si(this,p);let k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(C),this.h+=1,this};function Ao(p,C){yi(p),C=si(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function sf(p,C){return yi(p),C=si(p,C),p.g.has(C)}t.forEach=function(p,C){yi(this),this.g.forEach(function(k,D){k.forEach(function(X){p.call(C,X,D,this)},this)},this)};function of(p,C){yi(p);let k=[];if(typeof C=="string")sf(p,C)&&(k=k.concat(p.g.get(si(p,C))));else for(p=Array.from(p.g.values()),C=0;C<p.length;C++)k=k.concat(p[C]);return k}t.set=function(p,C){return yi(this),this.i=null,p=si(this,p),sf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},t.get=function(p,C){return p?(p=of(this,p),p.length>0?String(p[0]):C):C};function af(p,C,k){Ao(p,C),k.length>0&&(p.i=null,p.g.set(si(p,C),m(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(let D=0;D<C.length;D++){var k=C[D];const X=gi(k);k=of(this,k);for(let ee=0;ee<k.length;ee++){let Ne=X;k[ee]!==""&&(Ne+="="+gi(k[ee])),p.push(Ne)}}return this.i=p.join("&")};function Zt(p){const C=new xr;return C.i=p.i,p.g&&(C.g=new Map(p.g),C.h=p.h),C}function si(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function J0(p,C){C&&!p.j&&(yi(p),p.i=null,p.g.forEach(function(k,D){const X=D.toLowerCase();D!=X&&(Ao(this,D),af(this,X,k))},p)),p.j=C}function Z0(p,C){const k=new vn;if(o.Image){const D=new Image;D.onload=d(hs,k,"TestLoadImage: loaded",!0,C,D),D.onerror=d(hs,k,"TestLoadImage: error",!1,C,D),D.onabort=d(hs,k,"TestLoadImage: abort",!1,C,D),D.ontimeout=d(hs,k,"TestLoadImage: timeout",!1,C,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else C(!1)}function pm(p,C){const k=new vn,D=new AbortController,X=setTimeout(()=>{D.abort(),hs(k,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:D.signal}).then(ee=>{clearTimeout(X),ee.ok?hs(k,"TestPingServer: ok",!0,C):hs(k,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(X),hs(k,"TestPingServer: error",!1,C)})}function hs(p,C,k,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(k)}catch{}}function mm(){this.g=new qt}function Mt(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Mt,hn),Mt.prototype.g=function(){return new xn(this.i,this.h)};function xn(p,C){Pe.call(this),this.H=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(xn,Pe),t=xn.prototype,t.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=C,this.readyState=1,vi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(C.body=p),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ps(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ps(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?oi(this):vi(this),this.readyState==3&&ps(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,oi(this))},t.Na=function(p){this.g&&(this.response=p,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,vi(p)}t.setRequestHeader=function(p,C){this.A.append(p,C)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var k=C.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=C.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function xi(p){let C="";return z(p,function(k,D){C+=D,C+=":",C+=k,C+=`\r
`}),C}function Yt(p,C,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=xi(k),typeof p=="string"?k!=null&&gi(k):le(p,C,k))}function Xe(p){Pe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Xe,Pe);var yt=/^https?$/i,ms=["POST","PUT"];t=Xe.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,C,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ii.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(ee){br(this,ee);return}if(p=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)k.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())k.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(ms,C,void 0)>=0)||D||X||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ne]of k)this.g.setRequestHeader(ee,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ee){br(this,ee)}};function br(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.o=5,Ir(p),ya(p)}function Ir(p){p.A||(p.A=!0,Je(p,"complete"),Je(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Je(this,"complete"),Je(this,"abort"),ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ai(this):this.Xa())},t.Xa=function(){ai(this)};function ai(p){if(p.h&&typeof s<"u"){if(p.v&&Po(p)==4)setTimeout(p.Ca.bind(p),0);else if(Je(p,"readystatechange"),Po(p)==4){p.h=!1;try{const ee=p.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var k;if(!(k=C)){var D;if(D=ee===0){let Ne=String(p.D).match(kt)[1]||null;!Ne&&o.self&&o.self.location&&(Ne=o.self.location.protocol.slice(0,-1)),D=!yt.test(Ne?Ne.toLowerCase():"")}k=D}if(k)Je(p,"complete"),Je(p,"success");else{p.o=6;try{var X=Po(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ir(p)}}finally{ya(p)}}}}function ya(p,C){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const k=p.g;p.g=null,C||Je(p,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Po(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Po(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),yn(C)}};function lf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _l(p){const C={};p=(p.g&&Po(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(R(p[D]))continue;var k=ma(p[D]);const X=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=C[X]||[];C[X]=ee,ee.push(k)}ne(C,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(p,C,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||C}function gm(p){this.za=0,this.i=[],this.j=new vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zs("baseRetryDelayMs",5e3,p),this.Za=zs("retryDelaySeedMs",1e4,p),this.Ta=zs("forwardChannelMaxRetries",2,p),this.va=zs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new ve(p&&p.concurrentRequestLimit),this.Ba=new mm,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gm.prototype,t.ka=8,t.I=1,t.connect=function(p,C,k,D){Kt(0),this.W=p,this.H=C||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.J=oP(this,null,this.W),ym(this)};function cf(p){if(JA(p),p.I==3){var C=p.V++,k=K(p.J);if(le(k,"SID",p.M),le(k,"RID",C),le(k,"TYPE","terminate"),uf(p,k),C=new kr(p,p.j,C),C.M=2,C.A=te(K(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=C.A,k=!0),k||(C.g=aP(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Be(C)}sP(p)}function El(p){p.g&&(tb(p),p.g.cancel(),p.g=null)}function JA(p){El(p),p.v&&(o.clearTimeout(p.v),p.v=null),vm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function ym(p){if(!Ye(p.h)&&!p.m){p.m=!0;var C=p.Ea;E||T(),N||(E(),N=!0),_.add(C,p),p.D=0}}function H9(p,C){return it(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=C.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=qn(u(p.Ea,p,C),iP(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new kr(this,this.j,p);let ee=this.o;if(this.U&&(ee?(ee=se(ee),ge(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var C=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(C+=D,C>4096){C=k;break e}if(C===4096||k===this.i.length-1){C=k+1;break e}}C=1e3}else C=1e3;C=eP(this,X,C),k=K(this.J),le(k,"RID",p),le(k,"CVER",22),this.G&&le(k,"X-HTTP-Session-Id",this.G),uf(this,k),ee&&(this.R?C="headers="+gi(xi(ee))+"&"+C:this.u&&Yt(k,this.u,ee)),Rt(this.h,X),this.Ra&&le(k,"TYPE","init"),this.S?(le(k,"$req",C),le(k,"SID","null"),X.U=!0,Ln(X,k,null)):Ln(X,k,C),this.I=2}}else this.I==3&&(p?ZA(this,p):this.i.length==0||Ye(this.h)||ZA(this))};function ZA(p,C){var k;C?k=C.l:k=p.V++;const D=K(p.J);le(D,"SID",p.M),le(D,"RID",k),le(D,"AID",p.K),uf(p,D),p.u&&p.o&&Yt(D,p.u,p.o),k=new kr(p,p.j,k,p.D+1),p.u===null&&(k.J=p.o),C&&(p.i=C.G.concat(p.i)),C=eP(p,k,1e3),k.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Rt(p.h,k),Ln(k,D,C)}function uf(p,C){p.H&&z(p.H,function(k,D){le(C,D,k)}),p.l&&z({},function(k,D){le(C,D,k)})}function eP(p,C,k){k=Math.min(p.i.length,k);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var X=p.i;let vt=-1;for(;;){const Kn=["count="+k];vt==-1?k>0?(vt=X[0].g,Kn.push("ofs="+vt)):vt=0:Kn.push("ofs="+vt);let Xt=!0;for(let ar=0;ar<k;ar++){var ee=X[ar].g;const Ws=X[ar].map;if(ee-=vt,ee<0)vt=Math.max(0,X[ar].g-100),Xt=!1;else try{ee="req"+ee+"_"||"";try{var Ne=Ws instanceof Map?Ws:Object.entries(Ws);for(const[Cl,va]of Ne){let xa=va;a(va)&&(xa=nn(va)),Kn.push(ee+Cl+"="+encodeURIComponent(xa))}}catch(Cl){throw Kn.push(ee+"type="+encodeURIComponent("_badmap")),Cl}}catch{D&&D(Ws)}}if(Xt){Ne=Kn.join("&");break e}}Ne=void 0}return p=p.i.splice(0,k),C.G=p,Ne}function tP(p){if(!p.g&&!p.v){p.Y=1;var C=p.Da;E||T(),N||(E(),N=!0),_.add(C,p),p.A=0}}function eb(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=qn(u(p.Da,p),iP(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,nP(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=qn(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),El(this),nP(this))};function tb(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function nP(p){p.g=new kr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var C=K(p.na);le(C,"RID","rpc"),le(C,"SID",p.M),le(C,"AID",p.K),le(C,"CI",p.F?"0":"1"),!p.F&&p.ia&&le(C,"TO",p.ia),le(C,"TYPE","xmlhttp"),uf(p,C),p.u&&p.o&&Yt(C,p.u,p.o),p.O&&(p.g.H=p.O);var k=p.g;p=p.ba,k.M=1,k.A=te(K(C)),k.u=null,k.R=!0,ir(k,p)}t.Va=function(){this.C!=null&&(this.C=null,El(this),eb(this),Kt(19))};function vm(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function rP(p,C){var k=null;if(p.g==C){vm(p),tb(p),p.g=null;var D=2}else if(Pt(p.h,C))k=C.G,sr(p.h,C),D=1;else return;if(p.I!=0){if(C.o)if(D==1){k=C.u?C.u.length:0,C=Date.now()-C.F;var X=p.D;D=Gt(),Je(D,new Hn(D,k)),ym(p)}else tP(p);else if(X=C.m,X==3||X==0&&C.X>0||!(D==1&&H9(p,C)||D==2&&eb(p)))switch(k&&k.length>0&&(C=p.h,C.i=C.i.concat(k)),X){case 1:Tl(p,5);break;case 4:Tl(p,10);break;case 3:Tl(p,6);break;default:Tl(p,2)}}}function iP(p,C){let k=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(k*=2),k*C}function Tl(p,C){if(p.j.info("Error code "+C),C==2){var k=u(p.bb,p),D=p.Ua;const X=!D;D=new L(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||J(D,"https"),te(D),X?Z0(D.toString(),k):pm(D.toString(),k)}else Kt(2);p.I=0,p.l&&p.l.pa(C),sP(p),JA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function sP(p){if(p.I=0,p.ja=[],p.l){const C=or(p.h);(C.length!=0||p.i.length!=0)&&(v(p.ja,C),v(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function oP(p,C,k){var D=k instanceof L?K(k):new L(k);if(D.g!="")C&&(D.g=C+"."+D.g),Z(D,D.u);else{var X=o.location;D=X.protocol,C=C?C+"."+X.hostname:X.hostname,X=+X.port;const ee=new L(null);D&&J(ee,D),C&&(ee.g=C),X&&Z(ee,X),k&&(ee.h=k),D=ee}return k=p.G,C=p.wa,k&&C&&le(D,k,C),le(D,"VER",p.ka),uf(p,D),D}function aP(p,C,k){if(C&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Aa&&!p.ma?new Xe(new Mt({ab:k})):new Xe(p.ma),C.Fa(p.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lP(){}t=lP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xm(){}xm.prototype.g=function(p,C){return new bi(p,C)};function bi(p,C){Pe.call(this),this.g=new gm(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(p?p["X-WebChannel-Client-Profile"]=C.sa:p={"X-WebChannel-Client-Profile":C.sa}),this.g.U=p,(p=C&&C.Qb)&&!R(p)&&(this.g.u=p),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.G=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new Oc(this)}f(bi,Pe),bi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bi.prototype.close=function(){cf(this.g)},bi.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.v&&(k={},k.__data__=nn(p),p=k);C.i.push(new we(C.Ya++,p)),C.I==3&&ym(C)},bi.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,bi.Z.N.call(this)};function cP(p){Gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const k in C){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}f(cP,Gr);function uP(){yr.call(this),this.status=1}f(uP,yr);function Oc(p){this.g=p}f(Oc,lP),Oc.prototype.ra=function(){Je(this.g,"a")},Oc.prototype.qa=function(p){Je(this.g,new cP(p))},Oc.prototype.pa=function(p){Je(this.g,new uP)},Oc.prototype.oa=function(){Je(this.g,"b")},xm.prototype.createWebChannel=xm.prototype.g,bi.prototype.send=bi.prototype.o,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,r3=function(){return new xm},n3=function(){return Gt()},t3=Nr,Z1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Bg=fs,Vi.COMPLETE="complete",e3=Vi,Ft.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Lf=Ft,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Z4=Xe}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const kj="@firebase/firestore",Ij="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new bT("@firebase/firestore");function Uc(){return hc.logLevel}function De(t,...e){if(hc.logLevel<=_t.DEBUG){const n=e.map(OT);hc.debug(`Firestore (${$d}): ${t}`,...n)}}function ra(t,...e){if(hc.logLevel<=_t.ERROR){const n=e.map(OT);hc.error(`Firestore (${$d}): ${t}`,...n)}}function Qu(t,...e){if(hc.logLevel<=_t.WARN){const n=e.map(OT);hc.warn(`Firestore (${$d}): ${t}`,...n)}}function OT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i3(t,r,n)}function i3(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ra(r),new Error(r)}function $t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||i3(e,i,r)}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class BQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UQ{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new el;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new el,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new el)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new s3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new Fr(e)}}class zQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Oj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Oj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function eS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return qb(i)===qb(s)?Tt(i,s):qb(i)?1:-1}return Tt(t.length,e.length)}const GQ=55296,KQ=57343;function qb(t){const e=t.charCodeAt(0);return e>=GQ&&e<=KQ}function Ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="__name__";class Ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&lt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ys.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Tt(e.length,n.length)}static compareSegments(e,n){const r=Ys.isNumericId(e),i=Ys.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ys.extractNumericId(e).compare(Ys.extractNumericId(n)):eS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class Sn extends Ys{construct(e,n,r){return new Sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const YQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Ys{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return YQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rj}static keyField(){return new Er([Rj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Qe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Qe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(Sn.fromString(e))}static fromName(e){return new st(Sn.fromString(e).popFirst(5))}static empty(){return new st(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Sn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e,n){if(!n)throw new Qe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QQ(t,e,n,r){if(e===!0&&r===!0)throw new Qe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mj(t){if(!st.isDocumentKey(t))throw new Qe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function MT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt(12329,{type:typeof t})}function Vh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MT(t);throw new Qe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qp(t,e){if(!o3(t))throw new Qe(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Qe(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=-62135596800,Lj=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lj);return new un(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dj)throw new Qe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lj}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qp(e,un._jsonSchema))return new un(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}un._jsonSchemaVersion="firestore/timestamp/1.0",un._jsonSchema={type:Un("string",un._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static fromTimestamp(e){return new dt(e)}static min(){return new dt(new un(0,0))}static max(){return new dt(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function JQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new ll(i,st.empty(),e)}function ZQ(t){return new ll(t.readTime,t.key,Bh)}class ll{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(dt.min(),st.empty(),Bh)}static max(){return new ll(dt.max(),st.empty(),Bh)}}function eJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=st.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==tJ)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new fe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=-1;function $x(t){return t==null}function Vy(t){return t===0&&1/t==-1/0}function iJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Vy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="";function sJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$j(e)),e=oJ(t.get(n),e);return $j(e)}function oJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case a3:n+="";break;default:n+=s}}return n}function $j(t){return t+a3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gm(this.root,e,this.comparator,!0)}}class Gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=s??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _r(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vj(this.data.getIterator())}getIteratorFrom(e){return new Vj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class Vj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new js([])}unionWith(e){let n=new nr(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c3("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const aJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=aJ.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="server_timestamp",d3="__type__",f3="__previous_value__",h3="__local_write_time__";function LT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[d3])==null?void 0:r.stringValue)===u3}function Fx(t){const e=t.mapValue.fields[f3];return LT(e)?Fx(e):e}function Uh(t){const e=cl(t.mapValue.fields[h3].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,n,r,i,s,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const By="(default)";class zh{constructor(e,n){this.projectId=e,this.database=n||By}static empty(){return new zh("","")}get isDefaultDatabase(){return this.database===By}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="__type__",m3="__max__",Km={mapValue:{fields:{__type__:{stringValue:m3}}}},g3="__vector__",Uy="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LT(t)?4:uJ(t)?9007199254740991:cJ(t)?10:11:lt(28295,{value:t})}function vo(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uh(t).isEqual(Uh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=cl(i.timestampValue),a=cl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ul(i.bytesValue).isEqual(ul(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return In(i.geoPointValue.latitude)===In(s.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return In(i.integerValue)===In(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=In(i.doubleValue),a=In(s.doubleValue);return o===a?Vy(o)===Vy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fj(o)!==Fj(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!vo(o[c],a[c])))return!1;return!0}(t,e);default:return lt(52216,{left:t})}}function Wh(t,e){return(t.values||[]).find(n=>vo(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=dl(t),r=dl(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=In(s.integerValue||s.doubleValue),c=In(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Bj(t.timestampValue,e.timestampValue);case 4:return Bj(Uh(t),Uh(e));case 5:return eS(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ul(s),c=ul(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Tt(a[u],c[u]);if(d!==0)return d}return Tt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Tt(In(s.latitude),In(o.latitude));return a!==0?a:Tt(In(s.longitude),In(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Uj(t.arrayValue,e.arrayValue);case 10:return function(s,o){var h,m,v,g;const a=s.fields||{},c=o.fields||{},u=(h=a[Uy])==null?void 0:h.arrayValue,d=(m=c[Uy])==null?void 0:m.arrayValue,f=Tt(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Uj(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Km.mapValue&&o===Km.mapValue)return 0;if(s===Km.mapValue)return 1;if(o===Km.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=eS(c[f],d[f]);if(h!==0)return h;const m=Zu(a[c[f]],u[d[f]]);if(m!==0)return m}return Tt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw lt(23264,{he:n})}}function Bj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=cl(t),r=cl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function Uj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zu(n[i],r[i]);if(s)return s}return Tt(n.length,r.length)}function ed(t){return tS(t)}function tS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ul(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return st.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=tS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${tS(n.fields[o])}`;return i+"}"}(t.mapValue):lt(61005,{value:t})}function Ug(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fx(t);return e?16+Ug(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ug(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(s,o)=>{i+=s.length+Ug(o)}),i}(t.mapValue);default:throw lt(13486,{value:t})}}function nS(t){return!!t&&"integerValue"in t}function $T(t){return!!t&&"arrayValue"in t}function zj(t){return!!t&&"nullValue"in t}function Wj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zg(t){return!!t&&"mapValue"in t}function cJ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[p3])==null?void 0:r.stringValue)===g3}function nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return{...t}}function uJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yi(nh(this.value))}}function y3(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new Er([n]);if(zg(r)){const s=y3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,dt.min(),dt.min(),dt.min(),Yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,dt.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,dt.min(),dt.min(),Yi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,dt.min(),dt.min(),Yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.position=e,this.inclusive=n}}function Hj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=Zu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n="asc"){this.field=e,this.dir=n}}function dJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class Jn extends v3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hJ(e,n,r):n==="array-contains"?new gJ(e,r):n==="in"?new yJ(e,r):n==="not-in"?new vJ(e,r):n==="array-contains-any"?new xJ(e,r):new Jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pJ(e,r):new mJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zu(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xo extends v3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xo(e,n)}matches(e){return x3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x3(t){return t.op==="and"}function b3(t){return fJ(t)&&x3(t)}function fJ(t){for(const e of t.filters)if(e instanceof xo)return!1;return!0}function rS(t){if(t instanceof Jn)return t.field.canonicalString()+t.op.toString()+ed(t.value);if(b3(t))return t.filters.map(e=>rS(e)).join(",");{const e=t.filters.map(n=>rS(n)).join(",");return`${t.op}(${e})`}}function w3(t,e){return t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.field.isEqual(i.field)&&vo(r.value,i.value)}(t,e):t instanceof xo?function(r,i){return i instanceof xo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&w3(o,i.filters[a]),!0):!1}(t,e):void lt(19439)}function S3(t){return t instanceof Jn?function(n){return`${n.field.canonicalString()} ${n.op} ${ed(n.value)}`}(t):t instanceof xo?function(n){return n.op.toString()+" {"+n.getFilters().map(S3).join(" ,")+"}"}(t):"Filter"}class hJ extends Jn{constructor(e,n,r){super(e,n,r),this.key=st.fromName(r.referenceValue)}matches(e){const n=st.comparator(e.key,this.key);return this.matchesComparison(n)}}class pJ extends Jn{constructor(e,n){super(e,"in",n),this.keys=_3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mJ extends Jn{constructor(e,n){super(e,"not-in",n),this.keys=_3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>st.fromName(r.referenceValue))}class gJ extends Jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $T(n)&&Wh(n.arrayValue,this.value)}}class yJ extends Jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class vJ extends Jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wh(this.value.arrayValue,n)}}class xJ extends Jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$T(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Gj(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bJ(t,e,n,r,i,s,o)}function FT(t){const e=ft(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ed(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ed(r)).join(",")),e.Te=n}return e.Te}function VT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qj(t.startAt,e.startAt)&&qj(t.endAt,e.endAt)}function iS(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wJ(t,e,n,r,i,s,o,a){return new Vx(t,e,n,r,i,s,o,a)}function BT(t){return new Vx(t)}function Kj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SJ(t){return t.collectionGroup!==null}function rh(t){const e=ft(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nr(Er.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Wy(s,r))}),n.has(Er.keyField().canonicalString())||e.Ie.push(new Wy(Er.keyField(),r))}return e.Ie}function co(t){const e=ft(t);return e.Ee||(e.Ee=_J(e,rh(t))),e.Ee}function _J(t,e){if(t.limitType==="F")return Gj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wy(i.field,s)});const n=t.endAt?new zy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zy(t.startAt.position,t.startAt.inclusive):null;return Gj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sS(t,e,n){return new Vx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bx(t,e){return VT(co(t),co(e))&&t.limitType===e.limitType}function E3(t){return`${FT(co(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S3(i)).join(", ")}]`),$x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ed(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ed(i)).join(",")),`Target(${r})`}(co(t))}; limitType=${t.limitType})`}function Ux(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):st.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of rh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=Hj(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,rh(r),i)||r.endAt&&!function(o,a,c){const u=Hj(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,rh(r),i))}(t,e)}function EJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T3(t){return(e,n)=>{let r=!1;for(const i of rh(t)){const s=TJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TJ(t,e,n){const r=t.field.isKeyField()?st.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Zu(c,u):lt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=new Cn(st.comparator);function ia(){return CJ}const C3=new Cn(st.comparator);function $f(...t){let e=C3;for(const n of t)e=e.insert(n.key,n);return e}function A3(t){let e=C3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return ih()}function P3(){return ih()}function ih(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const AJ=new Cn(st.comparator),PJ=new nr(st.comparator);function Ct(...t){let e=PJ;for(const n of t)e=e.add(n);return e}const NJ=new nr(Tt);function jJ(){return NJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vy(e)?"-0":e}}function N3(t){return{integerValue:""+t}}function kJ(t,e){return iJ(e)?N3(e):UT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this._=void 0}}function IJ(t,e,n){return t instanceof Hh?function(i,s){const o={fields:{[d3]:{stringValue:u3},[h3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&LT(s)&&(s=Fx(s)),s&&(o.fields[f3]=s),{mapValue:o}}(n,e):t instanceof qh?k3(t,e):t instanceof Gh?I3(t,e):function(i,s){const o=j3(i,s),a=Yj(o)+Yj(i.Ae);return nS(o)&&nS(i.Ae)?N3(a):UT(i.serializer,a)}(t,e)}function OJ(t,e,n){return t instanceof qh?k3(t,e):t instanceof Gh?I3(t,e):n}function j3(t,e){return t instanceof Hy?function(r){return nS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hh extends zx{}class qh extends zx{constructor(e){super(),this.elements=e}}function k3(t,e){const n=O3(e);for(const r of t.elements)n.some(i=>vo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gh extends zx{constructor(e){super(),this.elements=e}}function I3(t,e){let n=O3(e);for(const r of t.elements)n=n.filter(i=>!vo(i,r));return{arrayValue:{values:n}}}class Hy extends zx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yj(t){return In(t.integerValue||t.doubleValue)}function O3(t){return $T(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,n){this.field=e,this.transform=n}}function MJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qh&&i instanceof qh||r instanceof Gh&&i instanceof Gh?Ju(r.elements,i.elements,vo):r instanceof Hy&&i instanceof Hy?vo(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh}(t.transform,e.transform)}class DJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ho{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wx{}function R3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D3(t.key,Ho.none()):new Jp(t.key,t.data,Ho.none());{const n=t.data,r=Yi.empty();let i=new nr(Er.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ac(t.key,r,new js(i.toArray()),Ho.none())}}function LJ(t,e,n){t instanceof Jp?function(i,s,o){const a=i.value.clone(),c=Qj(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,s,o){if(!Wg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Qj(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(M3(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sh(t,e,n,r){return t instanceof Jp?function(s,o,a,c){if(!Wg(s.precondition,o))return a;const u=s.value.clone(),d=Jj(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(s,o,a,c){if(!Wg(s.precondition,o))return a;const u=Jj(s.fieldTransforms,c,o),d=o.data;return d.setAll(M3(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Wg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $J(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=j3(r.transform,i||null);s!=null&&(n===null&&(n=Yi.empty()),n.set(r.field,s))}return n||null}function Xj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(s,o)=>MJ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jp extends Wx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends Wx{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qj(t,e,n){const r=new Map;$t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OJ(o,a,n[i]))}return r}function Jj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IJ(s,o,e))}return r}class D3 extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FJ extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=R3(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(n,r)=>Xj(n,r))&&Ju(this.baseMutations,e.baseMutations,(n,r)=>Xj(n,r))}}class zT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return AJ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Nt;function zJ(t){switch(t){case me.OK:return lt(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return lt(15467,{code:t})}}function L3(t){if(t===void 0)return ra("GRPC error has no .code"),me.UNKNOWN;switch(t){case $n.OK:return me.OK;case $n.CANCELLED:return me.CANCELLED;case $n.UNKNOWN:return me.UNKNOWN;case $n.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case $n.INTERNAL:return me.INTERNAL;case $n.UNAVAILABLE:return me.UNAVAILABLE;case $n.UNAUTHENTICATED:return me.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case $n.NOT_FOUND:return me.NOT_FOUND;case $n.ALREADY_EXISTS:return me.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return me.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case $n.ABORTED:return me.ABORTED;case $n.OUT_OF_RANGE:return me.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return me.UNIMPLEMENTED;case $n.DATA_LOSS:return me.DATA_LOSS;default:return lt(39323,{code:t})}}(Nt=$n||($n={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=new Za([4294967295,4294967295],0);function Zj(t){const e=WJ().encode(t),n=new J4;return n.update(e),new Uint8Array(n.digest())}function e2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class WT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ff(`Invalid padding: ${n}`);if(r<0)throw new Ff(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ff(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ff(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(HJ)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zj(e),[r,i]=e2(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new WT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Zj(e),[r,i]=e2(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hx(dt.min(),i,new Cn(Tt),ia(),Ct())}}class Zp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zp(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $3{constructor(e,n){this.targetId=e,this.Ce=n}}class F3{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t2{constructor(){this.ve=0,this.Fe=n2(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),n=Ct(),r=Ct();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:lt(38017,{changeType:s})}}),new Zp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=n2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.Je=Ym(),this.He=Ym(),this.Ye=new Cn(Tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(iS(s))if(r===0){const o=new st(s.path);this.et(n,o,Ur.newNoDocument(o,dt.min()))}else $t(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ul(r).toUint8Array()}catch(c){if(c instanceof c3)return Qu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new WT(o,i,s)}catch(c){return Qu(c instanceof Ff?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&iS(a.target)){const c=new st(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ur.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Ct();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Hx(e,n,this.Ye,this.je,r);return this.je=ia(),this.Je=Ym(),this.He=Ym(),this.Ye=new Cn(Tt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nr(Tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nr(Tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t2),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ym(){return new Cn(st.comparator)}function n2(){return new Cn(st.comparator)}const GJ={asc:"ASCENDING",desc:"DESCENDING"},KJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YJ={and:"AND",or:"OR"};class XJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oS(t,e){return t.useProto3Json||$x(e)?e:{value:e}}function qy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QJ(t,e){return qy(t,e.toTimestamp())}function uo(t){return $t(!!t,49232),dt.fromTimestamp(function(n){const r=cl(n);return new un(r.seconds,r.nanos)}(t))}function HT(t,e){return aS(t,e).canonicalString()}function aS(t,e){const n=function(i){return new Sn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function B3(t){const e=Sn.fromString(t);return $t(q3(e),10190,{key:e.toString()}),e}function lS(t,e){return HT(t.databaseId,e.path)}function Gb(t,e){const n=B3(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new st(z3(n))}function U3(t,e){return HT(t.databaseId,e)}function JJ(t){const e=B3(t);return e.length===4?Sn.emptyPath():z3(e)}function cS(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z3(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r2(t,e,n){return{name:lS(t,e),fields:n.value.mapValue.fields}}function ZJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($t(d===void 0||typeof d=="string",58123),Pr.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?me.UNKNOWN:L3(u.code);return new Qe(d,u.message||"")}(o);n=new F3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gb(t,r.document.name),s=uo(r.document.updateTime),o=r.document.createTime?uo(r.document.createTime):dt.min(),a=new Yi({mapValue:{fields:r.document.fields}}),c=Ur.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Hg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gb(t,r.document),s=r.readTime?uo(r.readTime):dt.min(),o=Ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gb(t,r.document),s=r.removedTargetIds||[];n=new Hg([],s,i,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UJ(i,s),a=r.targetId;n=new $3(a,o)}}return n}function eZ(t,e){let n;if(e instanceof Jp)n={update:r2(t,e.key,e.value)};else if(e instanceof D3)n={delete:lS(t,e.key)};else if(e instanceof Ac)n={update:r2(t,e.key,e.data),updateMask:cZ(e.fieldMask)};else{if(!(e instanceof FJ))return lt(16599,{Vt:e.type});n={verify:lS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hy)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw lt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt(27497)}(t,e.precondition)),n}function tZ(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?uo(i.updateTime):uo(s);return o.isEqual(dt.min())&&(o=uo(s)),new DJ(o,i.transformResults||[])}(n,e))):[]}function nZ(t,e){return{documents:[U3(t,e.path)]}}function rZ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U3(t,i);const s=function(u){if(u.length!==0)return H3(xo.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Wc(h.field),direction:oZ(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=oS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function iZ(t){let e=JJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=W3(f);return h instanceof xo&&b3(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new Wy(Hc(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$x(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new zy(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new zy(m,h)}(n.endAt)),wJ(e,i,o,s,a,"F",c,u)}function sZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function W3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hc(n.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hc(n.unaryFilter.field);return Jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hc(n.unaryFilter.field);return Jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hc(n.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jn.create(Hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xo.create(n.compositeFilter.filters.map(r=>W3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(n.compositeFilter.op))}(t):lt(30097,{filter:t})}function oZ(t){return GJ[t]}function aZ(t){return KJ[t]}function lZ(t){return YJ[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function Hc(t){return Er.fromServerFormat(t.fieldPath)}function H3(t){return t instanceof Jn?function(n){if(n.op==="=="){if(Wj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NAN"}};if(zj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NAN"}};if(zj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(n.field),op:aZ(n.op),value:n.value}}}(t):t instanceof xo?function(n){const r=n.getFilters().map(i=>H3(i));return r.length===1?r[0]:{compositeFilter:{op:lZ(n.op),filters:r}}}(t):lt(54877,{filter:t})}function cZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function q3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i,s=dt.min(),o=dt.min(),a=Pr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.yt=e}}function dZ(t){const e=iZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.Cn=new hZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ll.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class hZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(Sn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G3=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(G3,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new td(0)}static cr(){return new td(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="LruGarbageCollector",pZ=1048576;function o2([t,e],[n,r]){const i=Tt(t,n);return i===0?Tt(e,r):i}class mZ{constructor(e){this.Ir=e,this.buffer=new nr(o2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(s2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vd(n)?De(s2,"Ignoring IndexedDB error during garbage collection: ",n):await Fd(n)}await this.Vr(3e5)})}}class yZ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Lx.ce);const r=new mZ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(i2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i2):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Uc()<=_t.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function vZ(t,e){return new yZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sh(r.mutation,i,js.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$f();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ia();const o=ih(),a=function(){return ih()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ac)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),sh(d.mutation,u,d.mutation.getFieldMask(),un.now())):o.set(u.key,js.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new bZ(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new Cn((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||js.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||Ct()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=P3();d.forEach(h=>{if(!s.has(h)){const m=R3(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Bl());let a=Bh,c=s;return o.next(u=>fe.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ct())).next(d=>({batchId:a,changes:A3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new st(n)).next(r=>{let i=$f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$f();return this.indexManager.getCollectionParents(e,s).next(a=>fe.forEach(a,c=>{const u=function(f,h){return new Vx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ur.newInvalidDocument(d)))});let a=$f();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&sh(d.mutation,u,js.empty(),un.now()),Ux(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:dZ(i.bundledQuery),readTime:uo(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(){this.overlays=new Cn(st.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return fe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),s=n.length+1,o=new st(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Cn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Bl(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bl(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BJ(n,r));let s=this.qr.get(n);s===void 0&&(s=Ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.Qr=new nr(cr.$r),this.Ur=new nr(cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new cr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new st(new Sn([])),r=new cr(n,e),i=new cr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new st(new Sn([])),r=new cr(n,e),i=new cr(n,e+1);let s=Ct();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return st.comparator(e.key,n.key)||Tt(e.Yr,n.Yr)}static Kr(e,n){return Tt(e.Yr,n.Yr)||st.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nr(cr.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VJ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?DT:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cr(n,0),i=new cr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(Tt);return n.forEach(i=>{const s=new cr(i,0),o=new cr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;st.isDocumentKey(s)||(s=s.child(""));const o=new cr(new st(s),0);let a=new nr(Tt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),fe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,i=>{const s=new cr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new cr(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.ri=e,this.docs=function(){return new Cn(st.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=ia();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ur.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ia();const o=n.path,a=new st(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eJ(ZQ(d),r)<=0||(i.has(d.key)||Ux(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){lt(9500)}ii(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AZ(this)}getSize(e){return fe.resolve(this.size)}}class AZ extends xZ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.persistence=e,this.si=new Cc(n=>FT(n),VT),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.oi=0,this._i=new qT,this.targetCount=0,this.ai=td.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new td(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lx(0),this.li=!1,this.li=!0,this.hi=new EZ,this.referenceDelegate=e(this),this.Pi=new PZ(this),this.indexManager=new fZ,this.remoteDocumentCache=function(i){return new CZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uZ(n),this.Ii=new SZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _Z,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new NZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return fe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class NZ extends nJ{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Ri=new qT,this.Vi=null}static mi(e){return new GT(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,r=>{const i=st.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,dt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gy{constructor(e,n){this.persistence=e,this.pi=new Cc(r=>sJ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vZ(this,n)}static mi(e,n){return new Gy(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return fe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,dt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ug(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return bK()?8:rJ(Hr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jZ;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Uc()<=_t.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Uc()<=_t.DEBUG&&De("QueryEngine","Query:",zc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Uc()<=_t.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(n))):fe.resolve())}ys(e,n){if(Kj(n))return fe.resolve(null);let r=co(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sS(n,null,"F"),r=co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ct(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,sS(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return Kj(n)||i.isEqual(dt.min())?fe.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?fe.resolve(null):(Uc()<=_t.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zc(n)),this.vs(e,o,n,JQ(i,Bh)).next(a=>a))})}Ds(e,n){let r=new nr(T3(e));return n.forEach((i,s)=>{Ux(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Uc()<=_t.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",zc(n)),this.ps.getDocumentsMatchingQuery(e,n,ll.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LocalStore",IZ=3e8;class OZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cn(Tt),this.xs=new Cc(s=>FT(s),VT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function RZ(t,e,n,r){return new OZ(t,e,n,r)}async function Y3(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ct();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function MZ(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,h=f.keys();let m=fe.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(g=>{const y=u.docVersions.get(v);$t(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ct();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function X3(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DZ(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Pr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=IZ?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(s,m))});let c=ia(),u=Ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(LZ(s,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(dt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return fe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function LZ(t,e,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ia();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(dt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):De(YT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function $Z(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FZ(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,fe.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Va(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function uS(t,e,n){const r=ft(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vd(o))throw o;De(YT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function a2(t,e,n){const r=ft(t);let i=dt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ft(c),h=f.xs.get(d);return h!==void 0?fe.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,o,co(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:dt.min(),n?s:Ct())).next(a=>(VZ(r,EJ(e),a),{documents:a,Qs:s})))}function VZ(t,e,n){let r=t.Os.get(e)||dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class l2{constructor(){this.activeTargetIds=jJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BZ{constructor(){this.Mo=new l2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="ConnectivityMonitor";class u2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(c2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(c2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm=null;function dS(){return Xm===null?Xm=function(){return 268435456+Math.round(2147483648*Math.random())}():Xm++,"0x"+Xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="RestConnection",zZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===By?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=dS(),a=this.zo(e,n.toUriEncodedString());De(Kb,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),d=Md(u);return this.Jo(e,a,c,r,d).then(f=>(De(Kb,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Qu(Kb,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=zZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class qZ extends WZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=dS();return new Promise((a,c)=>{const u=new Z4;u.setWithCredentials(!0),u.listenOnce(e3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bg.NO_ERROR:const f=u.getResponseJson();De(Dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Bg.TIMEOUT:De(Dr,`RPC '${e}' ${o} timed out`),c(new Qe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:const h=u.getStatus();if(De(Dr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(v.status);c(new Qe(g,v.message))}else c(new Qe(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Qe(me.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{De(Dr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);De(Dr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=dS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r3(),a=n3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");De(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let h=!1,m=!1;const v=new HZ({Yo:y=>{m?De(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(De(Dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),De(Dr,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,w)=>{y.listen(b,S=>{try{w(S)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,Lf.EventType.OPEN,()=>{m||(De(Dr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(f,Lf.EventType.CLOSE,()=>{m||(m=!0,De(Dr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),g(f,Lf.EventType.ERROR,y=>{m||(m=!0,Qu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new Qe(me.UNAVAILABLE,"The operation could not be completed")))}),g(f,Lf.EventType.MESSAGE,y=>{var b;if(!m){const w=y.data[0];$t(!!w,16349);const S=w,A=(S==null?void 0:S.error)||((b=S[0])==null?void 0:b.error);if(A){De(Dr,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let N=function(P){const I=$n[P];if(I!==void 0)return L3(I)}(E),_=A.message;N===void 0&&(N=me.INTERNAL,_="Unknown error status: "+E+" with message "+A.message),m=!0,v.a_(new Qe(N,_)),f.close()}else De(Dr,`RPC '${e}' stream ${i} received:`,w),v.u_(w)}}),g(a,t3.STAT_EVENT,y=>{y.stat===Z1.PROXY?De(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Z1.NOPROXY&&De(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return new XJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="PersistentStream";class J3{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Qe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return De(d2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(De(d2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GZ extends J3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZJ(this.serializer,e),r=function(s){if(!("targetChange"in s))return dt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?uo(o.readTime):dt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cS(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=iS(c)?{documents:nZ(s,c)}:{query:rZ(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=V3(s,o.resumeToken);const u=oS(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(dt.min())>0){a.readTime=qy(s,o.snapshotVersion.toTimestamp());const u=oS(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=sZ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cS(this.serializer),n.removeTarget=e,this.q_(n)}}class KZ extends J3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tZ(e.writeResults,e.commitTime),r=uo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eZ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{}class XZ extends YZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Qe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,aS(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(me.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,aS(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(me.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class JZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pc(this)&&(De(pc,"Restarting streams for network reachability change."),await async function(c){const u=ft(c);u.Ea.add(4),await em(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Gx(u)}(this))})}),this.Ra=new QZ(r,i)}}async function Gx(t){if(Pc(t))for(const e of t.da)await e(!0)}async function em(t){for(const e of t.da)await e(!1)}function Z3(t,e){const n=ft(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ZT(n)?JT(n):Bd(n).O_()&&QT(n,e))}function XT(t,e){const n=ft(t),r=Bd(n);n.Ia.delete(e),r.O_()&&e5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pc(n)&&n.Ra.set("Unknown"))}function QT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bd(t).Y_(e)}function e5(t,e){t.Va.Ue(e),Bd(t).Z_(e)}function JT(t){t.Va=new qJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bd(t).start(),t.Ra.ua()}function ZT(t){return Pc(t)&&!Bd(t).x_()&&t.Ia.size>0}function Pc(t){return ft(t).Ea.size===0}function t5(t){t.Va=void 0}async function ZZ(t){t.Ra.set("Online")}async function eee(t){t.Ia.forEach((e,n)=>{QT(t,e)})}async function tee(t,e){t5(t),ZT(t)?(t.Ra.ha(e),JT(t)):t.Ra.set("Unknown")}async function nee(t,e,n){if(t.Ra.set("Online"),e instanceof F3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){De(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ky(t,r)}else if(e instanceof Hg?t.Va.Ze(e):e instanceof $3?t.Va.st(e):t.Va.tt(e),!n.isEqual(dt.min()))try{const r=await X3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(Pr.EMPTY_BYTE_STRING,d.snapshotVersion)),e5(s,c);const f=new Va(d.target,c,u,d.sequenceNumber);QT(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){De(pc,"Failed to raise snapshot:",r),await Ky(t,r)}}async function Ky(t,e,n){if(!Vd(e))throw e;t.Ea.add(1),await em(t),t.Ra.set("Offline"),n||(n=()=>X3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gx(t)})}function n5(t,e){return e().catch(n=>Ky(t,n,e))}async function Kx(t){const e=ft(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:DT;for(;ree(e);)try{const i=await $Z(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iee(e,i)}catch(i){await Ky(e,i)}r5(e)&&i5(e)}function ree(t){return Pc(t)&&t.Ta.length<10}function iee(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function r5(t){return Pc(t)&&!fl(t).x_()&&t.Ta.length>0}function i5(t){fl(t).start()}async function see(t){fl(t).ra()}async function oee(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function aee(t,e,n){const r=t.Ta.shift(),i=zT.from(r,e,n);await n5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kx(t)}async function lee(t,e){e&&fl(t).X_&&await async function(r,i){if(function(o){return zJ(o)&&o!==me.ABORTED}(i.code)){const s=r.Ta.shift();fl(r).B_(),await n5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kx(r)}}(t,e),r5(t)&&i5(t)}async function f2(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),De(pc,"RemoteStore received new credentials");const r=Pc(n);n.Ea.add(3),await em(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gx(n)}async function cee(t,e){const n=ft(t);e?(n.Ea.delete(2),await Gx(n)):e||(n.Ea.add(2),await em(n),n.Ra.set("Unknown"))}function Bd(t){return t.ma||(t.ma=function(n,r,i){const s=ft(n);return s.sa(),new GZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ZZ.bind(null,t),t_:eee.bind(null,t),r_:tee.bind(null,t),H_:nee.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ZT(t)?JT(t):t.Ra.set("Unknown")):(await t.ma.stop(),t5(t))})),t.ma}function fl(t){return t.fa||(t.fa=function(n,r,i){const s=ft(n);return s.sa(),new KZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:see.bind(null,t),r_:lee.bind(null,t),ta:oee.bind(null,t),na:aee.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Kx(t)):(await t.fa.stop(),t.Ta.length>0&&(De(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tC(t,e){if(ra("AsyncQueue",`${e}: ${t}`),Vd(t))return new Qe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=$f(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.ga=new Cn(st.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class nd{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nd(e,n,Su.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dee{constructor(){this.queries=p2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=p2(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Qe(me.ABORTED,"Firestore shutting down"))}}function p2(){return new Cc(t=>E3(t),Bx)}async function fee(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new uee,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=tC(o,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&nC(n)}async function hee(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pee(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&nC(n)}function mee(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function nC(t){t.Ca.forEach(e=>{e.next()})}var fS,m2;(m2=fS||(fS={})).Ma="default",m2.Cache="cache";class gee{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.key=e}}class o5{constructor(e){this.key=e}}class yee{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=T3(e),this.tu=new Su(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new h2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Ux(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),y=!0):this.su(h,m)||(r.track({type:2,doc:m}),y=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),y=!0):h&&!m&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(m?(o=o.add(m),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(m,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:y})}};return g(m)-g(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new nd(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new o5(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new s5(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rC="SyncEngine";class vee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xee{constructor(e){this.key=e,this.hu=!1}}class bee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cc(a=>E3(a),Bx),this.Iu=new Map,this.Eu=new Set,this.du=new Cn(st.comparator),this.Au=new Map,this.Ru=new qT,this.Vu={},this.mu=new Map,this.fu=td.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wee(t,e,n=!0){const r=f5(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await a5(r,e,n,!0),i}async function See(t,e){const n=f5(t);await a5(n,e,!0,!1)}async function a5(t,e,n,r){const i=await FZ(t.localStore,co(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await _ee(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Z3(t.remoteStore,i),a}async function _ee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,y,b,w){let S=y.view.ru(b);S.Cs&&(S=await a2(g.localStore,y.query,!1).then(({documents:_})=>y.view.ru(_,S)));const A=w&&w.targetChanges.get(y.targetId),E=w&&w.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(S,g.isPrimaryClient,A,E);return y2(g,y.targetId,N.au),N.snapshot}(t,f,h,m);const s=await a2(t.localStore,e,!0),o=new yee(e,s.Qs),a=o.ru(s.documents),c=Zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);y2(t,n,u.au);const d=new vee(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Eee(t,e,n){const r=ft(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Bx(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&XT(r.remoteStore,i.targetId),hS(r,i.targetId)}).catch(Fd)):(hS(r,i.targetId),await uS(r.localStore,i.targetId,!0))}async function Tee(t,e){const n=ft(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),XT(n.remoteStore,r.targetId))}async function Cee(t,e,n){const r=Oee(t);try{const i=await function(o,a){const c=ft(o),u=un.now(),d=a.reduce((m,v)=>m.add(v.key),Ct());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ia(),g=Ct();return c.Ns.getEntries(m,d).next(y=>{v=y,v.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{f=y;const b=[];for(const w of a){const S=$J(w,f.get(w.key).overlayedDocument);S!=null&&b.push(new Ac(w.key,S,y3(S.value.mapValue),Ho.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:A3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Cn(Tt)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await tm(r,i.changes),await Kx(r.remoteStore)}catch(i){const s=tC(i,"Failed to persist write");n.reject(s)}}async function l5(t,e){const n=ft(t);try{const r=await DZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?$t(o.hu,14607):i.removedDocuments.size>0&&($t(o.hu,42227),o.hu=!1))}),await tm(n,r,e)}catch(r){await Fd(r)}}function g2(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ft(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&nC(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Aee(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Cn(st.comparator);o=o.insert(s,Ur.newNoDocument(s,dt.min()));const a=Ct().add(s),c=new Hx(dt.min(),new Map,new Cn(Tt),o,a);await l5(r,c),r.du=r.du.remove(s),r.Au.delete(e),iC(r)}else await uS(r.localStore,e,!1).then(()=>hS(r,e,n)).catch(Fd)}async function Pee(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await MZ(n.localStore,e);u5(n,r,null),c5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tm(n,i)}catch(i){await Fd(i)}}async function Nee(t,e,n){const r=ft(t);try{const i=await function(o,a){const c=ft(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);u5(r,e,n),c5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tm(r,i)}catch(i){await Fd(i)}}function c5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function u5(t,e,n){const r=ft(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||d5(t,r)})}function d5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(XT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iC(t))}function y2(t,e,n){for(const r of n)r instanceof s5?(t.Ru.addReference(r.key,e),jee(t,r)):r instanceof o5?(De(rC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||d5(t,r.key)):lt(19791,{wu:r})}function jee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(rC,"New document in limbo: "+n),t.Eu.add(r),iC(t))}function iC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new st(Sn.fromString(e)),r=t.fu.next();t.Au.set(r,new xee(n)),t.du=t.du.insert(n,r),Z3(t.remoteStore,new Va(co(BT(n.path)),r,"TargetPurposeLimboResolution",Lx.ce))}}async function tm(t,e,n){const r=ft(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=KT.As(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const d=ft(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,h=>fe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>fe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Vd(f))throw f;De(YT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,s))}async function kee(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){De(rC,"User change. New user:",e.toKey());const r=await Y3(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new Qe(me.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tm(n,r.Ls)}}function Iee(t,e){const n=ft(t),r=n.Au.get(e);if(r&&r.hu)return Ct().add(r.key);{let i=Ct();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function f5(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aee.bind(null,e),e.Pu.H_=pee.bind(null,e.eventManager),e.Pu.yu=mee.bind(null,e.eventManager),e}function Oee(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nee.bind(null,e),e}class Yy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RZ(this.persistence,new kZ,e.initialUser,this.serializer)}Cu(e){return new K3(GT.mi,this.serializer)}Du(e){return new BZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yy.provider={build:()=>new Yy};class Ree extends Yy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof Gy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gZ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new K3(r=>Gy.mi(r,n),this.serializer)}}class pS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kee.bind(null,this.syncEngine),await cee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dee}()}createDatastore(e){const n=qx(e.databaseInfo.databaseId),r=function(s){return new qZ(s)}(e.databaseInfo);return function(s,o,a,c){return new XZ(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new JZ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>g2(this.syncEngine,n,0),function(){return u2.v()?new u2:new UZ}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){const f=new bee(i,s,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ft(i);De(pc,"RemoteStore shutting down."),s.Ea.add(5),await em(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pS.provider={build:()=>new pS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class Dee{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{De(hl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(De(hl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress(),De(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Y3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lee(t);De(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>f2(e.remoteStore,i)),t._onlineComponents=e}async function Lee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(hl,"Using user provided OfflineComponentProvider");try{await Xb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qu("Error using user provided cache. Falling back to memory cache: "+n),await Xb(t,new Yy)}}else De(hl,"Using default OfflineComponentProvider"),await Xb(t,new Ree(void 0));return t._offlineComponents}async function h5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(hl,"Using user provided OnlineComponentProvider"),await v2(t,t._uninitializedComponentsProvider._online)):(De(hl,"Using default OnlineComponentProvider"),await v2(t,new pS))),t._onlineComponents}function $ee(t){return h5(t).then(e=>e.syncEngine)}async function Fee(t){const e=await h5(t),n=e.eventManager;return n.onListen=wee.bind(null,e.syncEngine),n.onUnlisten=Eee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=See.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tee.bind(null,e.syncEngine),n}function Vee(t,e,n={}){const r=new el;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new Mee({next:h=>{d.Nu(),o.enqueueAndForget(()=>hee(s,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new Qe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new Qe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new gee(BT(a.path),d,{includeMetadataChanges:!0,qa:!0});return fee(s,f)}(await Fee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firestore.googleapis.com",b2=!0;class w2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m5,this.ssl=b2}else this.host=e.host,this.ssl=e.ssl??b2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pZ)throw new Qe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VQ;switch(r.type){case"firstParty":return new WQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x2.get(n);r&&(De("ComponentProvider","Removing Datastore"),x2.delete(n),r.terminate())}(this),Promise.resolve()}}function Bee(t,e,n,r={}){var u;t=Vh(t,sC);const i=Md(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(h4(`https://${a}`),p4("Firestore",!0)),s.host!==m5&&s.host!==a&&Qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!uc(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fr.MOCK_USER;else{d=dK(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Qe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fr(h)}t._authCredentials=new BQ(new s3(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oC(this.firestore,e,this._query)}}class hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}toJSON(){return{type:hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qp(n,hr._jsonSchema))return new hr(e,r||null,new st(Sn.fromString(n.referencePath)))}}hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:Un("string",hr._jsonSchemaVersion),referencePath:Un("string")};class Kh extends oC{constructor(e,n,r){super(e,n,BT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new st(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function g5(t,e,...n){if(t=ss(t),arguments.length===1&&(e=RT.newId()),XQ("doc","path",e),t instanceof sC){const r=Sn.fromString(e,...n);return Mj(r),new hr(t,null,new st(r))}{if(!(t instanceof hr||t instanceof Kh))throw new Qe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sn.fromString(e,...n));return Mj(r),new hr(t.firestore,t instanceof Kh?t.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="AsyncQueue";class _2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q3(this,"async_queue_retry"),this._c=()=>{const r=Yb();r&&De(S2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new el;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vd(e))throw e;De(S2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",E2(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=eC.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&lt(47125,{Pc:E2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class aC extends sC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _2(e),this._firestoreClient=void 0,await e}}}function Uee(t,e){const n=typeof t=="object"?t:v4(),r=typeof t=="string"?t:By,i=ST(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cK("firestore");s&&Bee(i,...s)}return i}function y5(t){if(t._terminated)throw new Qe(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zee(t),t._firestoreClient}function zee(t){var r,i,s;const e=t._freezeSettings(),n=function(a,c,u,d){return new lJ(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,p5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Dee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(Pr.fromBase64String(e))}catch(n){throw new Qe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xi(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qp(e,Xi._jsonSchema))return Xi.fromBase64String(e.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:Un("string",Xi._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fo._jsonSchemaVersion}}static fromJSON(e){if(Qp(e,fo._jsonSchema))return new fo(e.latitude,e.longitude)}}fo._jsonSchemaVersion="firestore/geoPoint/1.0",fo._jsonSchema={type:Un("string",fo._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qp(e,ho._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ho(e.vectorValues);throw new Qe(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:Un("string",ho._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=/^__.*__$/;class Hee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jp(e,this.data,n,this.fieldTransforms)}}function v5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:t})}}class uC{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v5(this.Ac)&&Wee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qx(e)}Cc(e,n,r,i=!1){return new uC({Ac:e,methodName:n,Dc:r,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gee(t){const e=t._freezeSettings(),n=qx(t._databaseId);return new qee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kee(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);S5("Data must be an object, but it was:",o,r);const a=b5(r,o);let c,u;if(s.merge)c=new js(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Yee(e,f,n);if(!o.contains(h))throw new Qe(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Qee(d,h)||d.push(h)}c=new js(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Hee(new Yi(a),c,u)}class dC extends cC{_toFieldTransform(e){return new RJ(e.path,new Hh)}isEqual(e){return e instanceof dC}}function x5(t,e){if(w5(t=ss(t)))return S5("Unsupported field value:",e,t),b5(t,e);if(t instanceof cC)return function(r,i){if(!v5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=x5(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ss(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=un.fromDate(r);return{timestampValue:qy(i.serializer,s)}}if(r instanceof un){const s=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qy(i.serializer,s)}}if(r instanceof fo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xi)return{bytesValue:V3(i.serializer,r._byteString)};if(r instanceof hr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:HT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ho)return function(o,a){return{mapValue:{fields:{[p3]:{stringValue:g3},[Uy]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return UT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${MT(r)}`)}(t,e)}function b5(t,e){const n={};return l3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const s=x5(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof fo||t instanceof Xi||t instanceof hr||t instanceof cC||t instanceof ho)}function S5(t,e,n){if(!w5(n)||!o3(n)){const r=MT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Yee(t,e,n){if((e=ss(e))instanceof lC)return e._internalPath;if(typeof e=="string")return _5(t,e);throw Xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xee=new RegExp("[~\\*/\\[\\]]");function _5(t,e,n){if(e.search(Xee)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lC(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Qe(me.INVALID_ARGUMENT,a+t+c)}function Qee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jee extends E5{data(){return super.data()}}function T5(t,e){return typeof e=="string"?_5(t,e):e instanceof lC?e._internalPath:e._delegate._internalPath}class Zee{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Uy].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>In(o.doubleValue));return new ho(n)}convertGeoPoint(e){return new fo(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}convertTimestamp(e){const n=cl(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sn.fromString(e);$t(q3(r),9688,{name:e});const i=new zh(r.get(1),r.get(3)),s=new st(r.popFirst(5));return i.isEqual(n)||ra(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends E5{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Un("string",Zl._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class qg extends Zl{data(e={}){return super.data(e)}}class oh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qg(this._firestore,this._userDataWriter,r.key,r,new Vf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new qg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new qg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tte(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=RT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(t){t=Vh(t,hr);const e=Vh(t.firestore,aC);return Vee(y5(e),t._key).then(n=>ote(e,t,n))}oh._jsonSchemaVersion="firestore/querySnapshot/1.0",oh._jsonSchema={type:Un("string",oh._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class rte extends Zee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function ite(t,e,n){t=Vh(t,hr);const r=Vh(t.firestore,aC),i=ete(t.converter,e,n);return ste(r,[Kee(Gee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ho.none())])}function ste(t,e){return function(r,i){const s=new el;return r.asyncQueue.enqueueAndForget(async()=>Cee(await $ee(r),i,s)),s.promise}(y5(t),e)}function ote(t,e,n){const r=n.docs.get(e._key),i=new rte(t);return new Zl(t,i,e._key,r,new Vf(n.hasPendingWrites,n.fromCache),e.converter)}function ate(){return new dC("serverTimestamp")}(function(e,n=!0){(function(i){$d=i})(Dd),Yu(new dc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new aC(new UQ(r.getProvider("auth-internal")),new HQ(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ja(kj,Ij,e),Ja(kj,Ij,"esm2020")})();const lte={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},C5=y4(lte),Yx=$Q(C5),A5=Uee(C5),cte=new Lo,ute=new Do;async function dte(){try{return(await X4(Yx,cte)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function fte(){try{return(await X4(Yx,ute)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function hte(){try{await PX(Yx)}catch(t){console.error("Sign-out error:",t)}}function pte(t){return AX(Yx,t)}async function T2(t){try{const e=await nte(g5(A5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function mte(t,e,n){try{return await ite(g5(A5,"users",t),{isPro:e,promoCode:n||null,updatedAt:ate()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const Qb="cuemaster_analytics_consent",Jb="cuemaster_analytics_events",Qm="cuemaster_analytics_sessions",Jm="cuemaster_analytics_stats",Zb="cuemaster_first_launch_complete",Zm=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class gte{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.userEmail=null,this.loadConsent(),this.loadEvents()}setUserEmail(e){this.userEmail=e}loadConsent(){try{const e=localStorage.getItem(Qb);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(Jb);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(Jb,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(Qm);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(Qm,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(Zb)}markFirstLaunchComplete(){localStorage.setItem(Zb,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Qb,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:Zm(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var o;if(!this.consent.usageStats&&e!=="consent_updated")return;const s={id:Zm(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((o=this.currentSession)==null?void 0:o.id)||"no-session"};this.events.push(s),this.currentSession&&this.currentSession.events.push(s),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(Jm,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const s=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(s+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const s=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(s+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const s=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(s+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break;case"luck":n==="coin_flip"?(i.skillMetrics.luck.totalFlips++,r===1?i.skillMetrics.luck.headsCount++:i.skillMetrics.luck.tailsCount++):n==="session_complete"&&i.skillMetrics.luck.sessionsPlayed++;break}localStorage.setItem(Jm,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(Jm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0},luck:{totalFlips:0,headsCount:0,tailsCount:0,sessionsPlayed:0}}}}getSessions(){try{const e=localStorage.getItem(Qm);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(Jb),localStorage.removeItem(Qm),localStorage.removeItem(Jm)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Qb),localStorage.removeItem(Zb)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=Zm()+Zm(),localStorage.setItem(e,n)),n}getDeviceInfo(){const e=navigator.userAgent;let n="desktop";/Mobi|Android/i.test(e)?n="mobile":/Tablet|iPad/i.test(e)&&(n="tablet");let r="unknown";e.includes("Firefox")?r="Firefox":e.includes("Edg")?r="Edge":e.includes("Chrome")?r="Chrome":e.includes("Safari")?r="Safari":(e.includes("Opera")||e.includes("OPR"))&&(r="Opera");const i=`${window.screen.width}x${window.screen.height}`,s=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";return{deviceType:n,browser:r,screenSize:i,country:s}}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={userId:this.getAnonymousId(),userEmail:this.userEmail||null,timestamp:new Date().toISOString(),device:this.getDeviceInfo(),totalSessions:e.totalSessions,totalTimeMs:e.totalTimeMs,moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),s=`${r}?action=submit&data=${i}`,o=await fetch(s,{method:"GET"});return o.ok?(await o.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const ht=new gte,P5=x.createContext(null);function Ud(){const t=x.useContext(P5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function yte(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(!0),c=async()=>{if(t){const m=await T2(t.uid);r(m.isPro),s(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(m),s(v)}};return x.useEffect(()=>{const m=pte(async v=>{if(e(v),ht.setUserEmail((v==null?void 0:v.email)||null),v){const g=await T2(v.uid);r(g.isPro),s(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(g),s(y)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:o,signInWithGoogle:async()=>{a(!0),await dte(),a(!1)},signInWithFacebook:async()=>{a(!0),await fte(),a(!1)},signOut:async()=>{await hte(),r(!1)},refreshProStatus:c,unlockPro:async m=>{if(t){const v=await mte(t.uid,!0,m);return v&&(r(!0),s(m||null)),v}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),s(m||null),!0}}}function vte({children:t}){const e=yte();return l.jsx(P5.Provider,{value:e,children:t})}const Gg=[{id:"en",name:"English",nativeName:"English",flag:""},{id:"es",name:"Spanish",nativeName:"Espaol",flag:""},{id:"tl",name:"Filipino",nativeName:"Filipino",flag:""},{id:"de",name:"German",nativeName:"Deutsch",flag:""},{id:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{id:"ja",name:"Japanese",nativeName:"",flag:""},{id:"zh",name:"Chinese",nativeName:"",flag:""}],N5=x.createContext(void 0),C2="cuemaster-language";function xte({children:t}){const[e,n]=x.useState(()=>{const i=localStorage.getItem(C2);return i&&Gg.find(o=>o.id===i)||Gg[0]}),r=i=>{n(i),localStorage.setItem(C2,i.id)};return l.jsx(N5.Provider,{value:{language:e,setLanguage:r},children:t})}function bte(){const t=x.useContext(N5);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}const A2="cuemaster_app_settings",ew={wakeLockEnabled:!0,soundEnabled:!0,hapticEnabled:!1},fC=x.createContext(null);function hC(){const t=x.useContext(fC);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}function wte(){const[t,e]=x.useState(()=>{try{const i=localStorage.getItem(A2);if(i)return{...ew,...JSON.parse(i)}}catch(i){console.error("Failed to parse settings:",i)}return ew});x.useEffect(()=>{localStorage.setItem(A2,JSON.stringify(t))},[t]);const n=x.useCallback(i=>{e(s=>({...s,...i}))},[]),r=x.useCallback(()=>{e(ew)},[]);return{settings:t,updateSettings:n,resetSettings:r,SettingsContext:fC}}function Ste({children:t}){const{settings:e,updateSettings:n,resetSettings:r}=wte();return l.jsx(fC.Provider,{value:{settings:e,updateSettings:n,resetSettings:r},children:t})}const ot=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ot.displayName="Card";const _te=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));_te.displayName="CardHeader";const Ete=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ete.displayName="CardTitle";const Tte=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Tte.displayName="CardDescription";const j5=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));j5.displayName="CardContent";const Cte=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Cte.displayName="CardFooter";function Ate({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:s,disabled:o=!1,proFeature:a=!1,isProUser:c=!1,showAccent:u=!0}){const d=u||a&&c;return l.jsx(ot,{className:`p-6 ${o?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${d?"border-l-[3px] border-l-primary":""}`}`,onClick:o?void 0:i,"data-testid":s,children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${o?"bg-muted/50":"bg-primary/10"}`,children:t}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${o?"text-muted-foreground/60":"text-primary"}`,children:n}),l.jsx("h3",{className:`text-xl font-bold mb-1 ${o?"text-muted-foreground":"text-foreground"}`,children:e}),l.jsx("p",{className:`text-sm ${o?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),o&&l.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function Pte(){const[t,e]=x.useState(null),{toast:n}=jd(),r="0.9.7.145",i=()=>{const o=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(o)},s=()=>{t&&(clearTimeout(t),e(null))};return l.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:s,onMouseLeave:s,onTouchStart:i,onTouchEnd:s,"data-testid":"text-version",children:["v",r]})}var tw="focusScope.autoFocusOnMount",nw="focusScope.autoFocusOnUnmount",P2={bubbles:!1,cancelable:!0},Nte="FocusScope",pC=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=x.useState(null),u=Rn(i),d=Rn(s),f=x.useRef(null),h=bt(e,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const A=S.target;a.contains(A)?f.current=A:Ta(f.current,{select:!0})},y=function(S){if(m.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Ta(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ta(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){j2.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(tw,P2);a.addEventListener(tw,u),a.dispatchEvent(b),b.defaultPrevented||(jte(Mte(k5(a)),{select:!0}),document.activeElement===g&&Ta(a))}return()=>{a.removeEventListener(tw,u),setTimeout(()=>{const b=new CustomEvent(nw,P2);a.addEventListener(nw,d),a.dispatchEvent(b),b.defaultPrevented||Ta(g??document.body,{select:!0}),a.removeEventListener(nw,d),j2.remove(m)},0)}}},[a,u,d,m]);const v=x.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const w=g.currentTarget,[S,A]=kte(w);S&&A?!g.shiftKey&&b===A?(g.preventDefault(),n&&Ta(S,{select:!0})):g.shiftKey&&b===S&&(g.preventDefault(),n&&Ta(A,{select:!0})):b===w&&g.preventDefault()}},[n,r,m.paused]);return l.jsx(et.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});pC.displayName=Nte;function jte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ta(r,{select:e}),document.activeElement!==n)return}function kte(t){const e=k5(t),n=N2(e,t),r=N2(e.reverse(),t);return[n,r]}function k5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function N2(t,e){for(const n of t)if(!Ite(n,{upTo:e}))return n}function Ite(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ote(t){return t instanceof HTMLInputElement&&"select"in t}function Ta(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ote(t)&&e&&t.select()}}var j2=Rte();function Rte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=k2(t,e),t.unshift(e)},remove(e){var n;t=k2(t,e),(n=t[0])==null||n.resume()}}}function k2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mte(t){return t.filter(e=>e.tagName!=="A")}var rw=0;function I5(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I2()),document.body.insertAdjacentElement("beforeend",t[1]??I2()),rw++,()=>{rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rw--}},[])}function I2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var no=function(){return no=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},no.apply(this,arguments)};function O5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Kg="right-scroll-bar-position",Yg="width-before-scroll-bar",Lte="with-scroll-bars-hidden",$te="--removed-body-scroll-bar-size";function iw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Fte(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Vte=typeof window<"u"?x.useLayoutEffect:x.useEffect,O2=new WeakMap;function Bte(t,e){var n=Fte(null,function(r){return t.forEach(function(i){return iw(i,r)})});return Vte(function(){var r=O2.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||iw(a,null)}),s.forEach(function(a){i.has(a)||iw(a,o)})}O2.set(n,t)},[t]),n}function Ute(t){return t}function zte(t,e){e===void 0&&(e=Ute);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Wte(t){t===void 0&&(t={});var e=zte(null);return e.options=no({async:!0,ssr:!1},t),e}var R5=function(t){var e=t.sideCar,n=O5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,no({},n))};R5.isSideCarExport=!0;function Hte(t,e){return t.useMedium(e),R5}var M5=Wte(),sw=function(){},Xx=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:sw,onWheelCapture:sw,onTouchMoveCapture:sw}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,w=t.gapMode,S=O5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,E=Bte([n,e]),N=no(no({},S),i);return x.createElement(x.Fragment,null,d&&x.createElement(A,{sideCar:M5,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(a),no(no({},N),{ref:E})):x.createElement(b,no({},N,{className:c,ref:E}),a))});Xx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xx.classNames={fullWidth:Yg,zeroRight:Kg};var qte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qte();return e&&t.setAttribute("nonce",e),t}function Kte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Yte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Xte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Gte())&&(Kte(e,n),Yte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Qte=function(){var t=Xte();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},D5=function(){var t=Qte(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Jte={left:0,top:0,right:0,gap:0},ow=function(t){return parseInt(t||"",10)||0},Zte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ow(n),ow(r),ow(i)]},ene=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jte;var e=Zte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tne=D5(),_u="data-scroll-locked",nne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_u,`] {
    `).concat($te,": ").concat(a,`px;
  }
`)},R2=function(){var t=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(t)?t:0},rne=function(){x.useEffect(function(){return document.body.setAttribute(_u,(R2()+1).toString()),function(){var t=R2()-1;t<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,t.toString())}},[])},ine=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;rne();var s=x.useMemo(function(){return ene(i)},[i]);return x.createElement(tne,{styles:nne(s,!e,i,n?"":"!important")})},mS=!1;if(typeof window<"u")try{var eg=Object.defineProperty({},"passive",{get:function(){return mS=!0,!0}});window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{mS=!1}var Mc=mS?{passive:!1}:!1,sne=function(t){return t.tagName==="TEXTAREA"},L5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sne(t)&&n[e]==="visible")},one=function(t){return L5(t,"overflowY")},ane=function(t){return L5(t,"overflowX")},M2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=$5(t,r);if(i){var s=F5(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$5=function(t,e){return t==="v"?one(e):ane(e)},F5=function(t,e){return t==="v"?lne(e):cne(e)},une=function(t,e){return t==="h"&&e==="rtl"?-1:1},dne=function(t,e,n,r,i){var s=une(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=F5(t,a),v=m[0],g=m[1],y=m[2],b=g-y-s*v;(v||b)&&$5(t,a)&&(f+=b,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},tg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},D2=function(t){return[t.deltaX,t.deltaY]},L2=function(t){return t&&"current"in t?t.current:t},fne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pne=0,Dc=[];function mne(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(pne++)[0],s=x.useState(D5)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Dte([t.lockRef.current],(t.shards||[]).map(L2),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=tg(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-b[0],A="deltaY"in g?g.deltaY:w[1]-b[1],E,N=g.target,_=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in g&&_==="h"&&N.type==="range")return!1;var T=M2(_,N);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=M2(_,N)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||A)&&(r.current=E),!E)return!0;var P=r.current||E;return dne(P,y,g,P==="h"?S:A,!0)},[]),c=x.useCallback(function(g){var y=g;if(!(!Dc.length||Dc[Dc.length-1]!==s)){var b="deltaY"in y?D2(y):tg(y),w=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&fne(E.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(L2).filter(Boolean).filter(function(E){return E.contains(y.target)}),A=S.length>0?a(y,S[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(g,y,b,w){var S={name:g,delta:y,target:b,should:w,shadowParent:gne(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=x.useCallback(function(g){n.current=tg(g),r.current=void 0},[]),f=x.useCallback(function(g){u(g.type,D2(g),g.target,a(g,t.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,tg(g),g.target,a(g,t.lockRef.current))},[]);x.useEffect(function(){return Dc.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Mc),document.addEventListener("touchmove",c,Mc),document.addEventListener("touchstart",d,Mc),function(){Dc=Dc.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Mc),document.removeEventListener("touchmove",c,Mc),document.removeEventListener("touchstart",d,Mc)}},[]);var m=t.removeScrollBar,v=t.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:hne(i)}):null,m?x.createElement(ine,{gapMode:t.gapMode}):null)}function gne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yne=Hte(M5,mne);var mC=x.forwardRef(function(t,e){return x.createElement(Xx,no({},t,{ref:e,sideCar:yne}))});mC.classNames=Xx.classNames;var vne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lc=new WeakMap,ng=new WeakMap,rg={},aw=0,V5=function(t){return t&&(t.host||V5(t.parentNode))},xne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=V5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bne=function(t,e,n,r){var i=xne(e,Array.isArray(t)?t:[t]);rg[n]||(rg[n]=new WeakMap);var s=rg[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Lc.get(h)||0)+1,y=(s.get(h)||0)+1;Lc.set(h,g),s.set(h,y),o.push(h),g===1&&v&&ng.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),a.clear(),aw++,function(){o.forEach(function(f){var h=Lc.get(f)-1,m=s.get(f)-1;Lc.set(f,h),s.set(f,m),h||(ng.has(f)||f.removeAttribute(r),ng.delete(f)),m||f.removeAttribute(n)}),aw--,aw||(Lc=new WeakMap,Lc=new WeakMap,ng=new WeakMap,rg={})}},B5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=vne(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),bne(r,i,n,"aria-hidden")):function(){return null}},gC="Dialog",[U5,_2e]=$i(gC),[wne,Bs]=U5(gC),z5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=x.useRef(null),c=x.useRef(null),[u=!1,d]=$s({prop:r,defaultProp:i,onChange:s});return l.jsx(wne,{scope:e,triggerRef:a,contentRef:c,contentId:oo(),titleId:oo(),descriptionId:oo(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};z5.displayName=gC;var W5="DialogTrigger",H5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(W5,n),s=bt(e,i.triggerRef);return l.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xC(i.open),...r,ref:s,onClick:Fe(t.onClick,i.onOpenToggle)})});H5.displayName=W5;var yC="DialogPortal",[Sne,q5]=U5(yC,{forceMount:void 0}),G5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Bs(yC,e);return l.jsx(Sne,{scope:e,forceMount:n,children:x.Children.map(r,o=>l.jsx(as,{present:n||s.open,children:l.jsx(Sx,{asChild:!0,container:i,children:o})}))})};G5.displayName=yC;var Qy="DialogOverlay",K5=x.forwardRef((t,e)=>{const n=q5(Qy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bs(Qy,t.__scopeDialog);return s.modal?l.jsx(as,{present:r||s.open,children:l.jsx(Ene,{...i,ref:e})}):null});K5.displayName=Qy;var _ne=qu("DialogOverlay.RemoveScroll"),Ene=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(Qy,n);return l.jsx(mC,{as:_ne,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(et.div,{"data-state":xC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",Y5=x.forwardRef((t,e)=>{const n=q5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bs(mc,t.__scopeDialog);return l.jsx(as,{present:r||s.open,children:s.modal?l.jsx(Tne,{...i,ref:e}):l.jsx(Cne,{...i,ref:e})})});Y5.displayName=mc;var Tne=x.forwardRef((t,e)=>{const n=Bs(mc,t.__scopeDialog),r=x.useRef(null),i=bt(e,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return B5(s)},[]),l.jsx(X5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,s=>s.preventDefault())})}),Cne=x.forwardRef((t,e)=>{const n=Bs(mc,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return l.jsx(X5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),X5=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Bs(mc,n),c=x.useRef(null),u=bt(e,c);return I5(),l.jsxs(l.Fragment,{children:[l.jsx(pC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(zp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xC(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Ane,{titleId:a.titleId}),l.jsx(Nne,{contentRef:c,descriptionId:a.descriptionId})]})]})}),vC="DialogTitle",Q5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(vC,n);return l.jsx(et.h2,{id:i.titleId,...r,ref:e})});Q5.displayName=vC;var J5="DialogDescription",Z5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(J5,n);return l.jsx(et.p,{id:i.descriptionId,...r,ref:e})});Z5.displayName=J5;var eF="DialogClose",tF=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(eF,n);return l.jsx(et.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,()=>i.onOpenChange(!1))})});tF.displayName=eF;function xC(t){return t?"open":"closed"}var nF="DialogTitleWarning",[E2e,rF]=CW(nF,{contentName:mc,titleName:vC,docsSlug:"dialog"}),Ane=({titleId:t})=>{const e=rF(nF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Pne="DialogDescriptionWarning",Nne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rF(Pne).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},jne=z5,kne=H5,Ine=G5,iF=K5,sF=Y5,oF=Q5,aF=Z5,One=tF;const Zn=jne,Rne=kne,Mne=Ine,lF=x.forwardRef(({className:t,...e},n)=>l.jsx(iF,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lF.displayName=iF.displayName;const Bn=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Mne,{children:[l.jsx(lF,{}),l.jsxs(sF,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(One,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Cx,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bn.displayName=sF.displayName;const Mn=({className:t,...e})=>l.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mn.displayName="DialogHeader";const jn=x.forwardRef(({className:t,...e},n)=>l.jsx(oF,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));jn.displayName=oF.displayName;const ks=x.forwardRef(({className:t,...e},n)=>l.jsx(aF,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));ks.displayName=aF.displayName;const Dne=Tx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ie=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?PW:"button";return l.jsx(o,{className:ut(Dne({variant:e,size:n,className:t})),ref:s,...i})});ie.displayName="Button";function bC(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wC="Switch",[Lne,T2e]=$i(wC),[$ne,Fne]=Lne(wC),cF=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=x.useState(null),v=bt(e,S=>m(S)),g=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b=!1,w]=$s({prop:i,defaultProp:s,onChange:u});return l.jsxs($ne,{scope:n,checked:b,disabled:a,children:[l.jsx(et.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":fF(b),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onClick:Fe(t.onClick,S=>{w(A=>!A),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&l.jsx(Vne,{control:h,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});cF.displayName=wC;var uF="SwitchThumb",dF=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Fne(uF,n);return l.jsx(et.span,{"data-state":fF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});dF.displayName=uF;var Vne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=x.useRef(null),o=bC(n),a=gT(e);return x.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fF(t){return t?"checked":"unchecked"}var hF=cF,Bne=dF;const Vr=x.forwardRef(({className:t,...e},n)=>l.jsx(hF,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(Bne,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vr.displayName=hF.displayName;function Une({open:t,onComplete:e}){const[n,r]=x.useState(0),[i,s]=x.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),o=()=>{ht.setConsent(i),ht.markFirstLaunchComplete(),ht.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const u={usageStats:!0,skillMetrics:!0,benchmarking:!0};s(u),ht.setConsent(u),ht.markFirstLaunchComplete(),ht.track("consent_updated","home","accept_all",{consent:u}),e()},c=()=>{const u={usageStats:!1,skillMetrics:!1,benchmarking:!1};ht.setConsent(u),ht.markFirstLaunchComplete(),e()};return l.jsx(Zn,{open:t,onOpenChange:()=>{},children:l.jsxs(Bn,{className:"max-w-md",onPointerDownOutside:u=>u.preventDefault(),children:[n===0&&l.jsxs(l.Fragment,{children:[l.jsxs(Mn,{children:[l.jsxs(jn,{className:"text-xl flex items-center gap-2",children:[l.jsx(Ty,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),l.jsx(ks,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Which tools you use and for how long"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Mh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Your skill metrics to show personal progress"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Fl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),l.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(ie,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),l.jsxs(ie,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",l.jsx(h$,{className:"w-4 h-4 ml-1"})]}),l.jsx(ie,{variant:"ghost",onClick:c,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&l.jsxs(l.Fragment,{children:[l.jsxs(Mn,{children:[l.jsx(jn,{className:"text-xl",children:"Customize Your Preferences"}),l.jsx(ks,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lc,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),l.jsx(Vr,{checked:i.usageStats,onCheckedChange:u=>s(d=>({...d,usageStats:u})),"data-testid":"switch-usage-stats"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mh,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),l.jsx(Vr,{checked:i.skillMetrics,onCheckedChange:u=>s(d=>({...d,skillMetrics:u})),"data-testid":"switch-skill-metrics"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fl,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&l.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),l.jsx(Vr,{checked:i.benchmarking,onCheckedChange:u=>s(d=>({...d,benchmarking:u,usageStats:u?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),l.jsx(ie,{onClick:o,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const pF=x.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));pF.displayName="Textarea";function Yh(t,[e,n]){return Math.min(n,Math.max(e,t))}var zne=x.createContext(void 0);function zd(t){const e=x.useContext(zne);return t||e||"ltr"}var Wne=[" ","Enter","ArrowUp","ArrowDown"],Hne=[" ","Enter"],nm="Select",[Qx,Jx,qne]=Up(nm),[Wd,C2e]=$i(nm,[qne,jx]),Zx=jx(),[Gne,yl]=Wd(nm),[Kne,Yne]=Wd(nm),mF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,g=Zx(e),[y,b]=x.useState(null),[w,S]=x.useState(null),[A,E]=x.useState(!1),N=zd(u),[_=!1,T]=$s({prop:r,defaultProp:i,onChange:s}),[P,I]=$s({prop:o,defaultProp:a,onChange:c}),j=x.useRef(null),O=y?v||!!y.closest("form"):!0,[R,F]=x.useState(new Set),B=Array.from(R).map(U=>U.props.value).join(";");return l.jsx(OG,{...g,children:l.jsxs(Gne,{required:m,scope:e,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:oo(),value:P,onValueChange:I,open:_,onOpenChange:T,dir:N,triggerPointerDownPosRef:j,disabled:h,children:[l.jsx(Qx.Provider,{scope:e,children:l.jsx(Kne,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{F(W=>new Set(W).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{F(W=>{const $=new Set(W);return $.delete(U),$})},[]),children:n})}),O?l.jsxs(VF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:U=>I(U.target.value),disabled:h,form:v,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};mF.displayName=nm;var gF="SelectTrigger",yF=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Zx(n),o=yl(gF,n),a=o.disabled||r,c=bt(e,o.onTriggerChange),u=Jx(n),d=x.useRef("touch"),[f,h,m]=BF(g=>{const y=u().filter(S=>!S.disabled),b=y.find(S=>S.value===o.value),w=UF(y,g,b);w!==void 0&&o.onValueChange(w.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Y$,{asChild:!0,...s,children:l.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":FF(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Fe(i.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Fe(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&Wne.includes(g.key)&&(v(),g.preventDefault())})})})});yF.displayName=gF;var vF="SelectValue",xF=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=yl(vF,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=bt(e,c.onValueNodeChange);return mr(()=>{u(d)},[u,d]),l.jsx(et.span,{...a,ref:f,style:{pointerEvents:"none"},children:FF(c.value)?l.jsx(l.Fragment,{children:o}):s})});xF.displayName=vF;var Xne="SelectIcon",bF=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});bF.displayName=Xne;var Qne="SelectPortal",wF=t=>l.jsx(Sx,{asChild:!0,...t});wF.displayName=Qne;var gc="SelectContent",SF=x.forwardRef((t,e)=>{const n=yl(gc,t.__scopeSelect),[r,i]=x.useState();if(mr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ec.createPortal(l.jsx(_F,{scope:t.__scopeSelect,children:l.jsx(Qx.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(EF,{...t,ref:e})});SF.displayName=gc;var vs=10,[_F,vl]=Wd(gc),Jne="SelectContentImpl",Zne=qu("SelectContent.RemoveScroll"),EF=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...b}=t,w=yl(gc,n),[S,A]=x.useState(null),[E,N]=x.useState(null),_=bt(e,xe=>A(xe)),[T,P]=x.useState(null),[I,j]=x.useState(null),O=Jx(n),[R,F]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(S)return B5(S)},[S]),I5();const U=x.useCallback(xe=>{const[je,...ae]=O().map(V=>V.ref.current),[de]=ae.slice(-1),Y=document.activeElement;for(const V of xe)if(V===Y||(V==null||V.scrollIntoView({block:"nearest"}),V===je&&E&&(E.scrollTop=0),V===de&&E&&(E.scrollTop=E.scrollHeight),V==null||V.focus(),document.activeElement!==Y))return},[O,E]),W=x.useCallback(()=>U([T,S]),[U,T,S]);x.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:$,triggerPointerDownPosRef:z}=w;x.useEffect(()=>{if(S){let xe={x:0,y:0};const je=de=>{var Y,V;xe={x:Math.abs(Math.round(de.pageX)-(((Y=z.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(de.pageY)-(((V=z.current)==null?void 0:V.y)??0))}},ae=de=>{xe.x<=10&&xe.y<=10?de.preventDefault():S.contains(de.target)||$(!1),document.removeEventListener("pointermove",je),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ae,{capture:!0})}}},[S,$,z]),x.useEffect(()=>{const xe=()=>$(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[$]);const[ne,se]=BF(xe=>{const je=O().filter(Y=>!Y.disabled),ae=je.find(Y=>Y.ref.current===document.activeElement),de=UF(je,xe,ae);de&&setTimeout(()=>de.ref.current.focus())}),Q=x.useCallback((xe,je,ae)=>{const de=!B.current&&!ae;(w.value!==void 0&&w.value===je||de)&&(P(xe),de&&(B.current=!0))},[w.value]),ge=x.useCallback(()=>S==null?void 0:S.focus(),[S]),ue=x.useCallback((xe,je,ae)=>{const de=!B.current&&!ae;(w.value!==void 0&&w.value===je||de)&&j(xe)},[w.value]),Ce=r==="popper"?gS:TF,tt=Ce===gS?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return l.jsx(_F,{scope:n,content:S,viewport:E,onViewportChange:N,itemRefCallback:Q,selectedItem:T,onItemLeave:ge,itemTextRefCallback:ue,focusSelectedItem:W,selectedItemText:I,position:r,isPositioned:R,searchRef:ne,children:l.jsx(mC,{as:Zne,allowPinchZoom:!0,children:l.jsx(pC,{asChild:!0,trapped:w.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Fe(i,xe=>{var je;(je=w.trigger)==null||je.focus({preventScroll:!0}),xe.preventDefault()}),children:l.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Ce,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:xe=>xe.preventDefault(),...b,...tt,onPlaced:()=>F(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Fe(b.onKeyDown,xe=>{const je=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!je&&xe.key.length===1&&se(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let de=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Y=xe.target,V=de.indexOf(Y);de=de.slice(V+1)}setTimeout(()=>U(de)),xe.preventDefault()}})})})})})})});EF.displayName=Jne;var ere="SelectItemAlignedPosition",TF=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=yl(gc,n),o=vl(gc,n),[a,c]=x.useState(null),[u,d]=x.useState(null),f=bt(e,_=>d(_)),h=Jx(n),m=x.useRef(!1),v=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,S=x.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&g&&y&&b){const _=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(s.dir!=="rtl"){const Y=I.left-T.left,V=P.left-Y,Se=_.left-V,Ee=_.width+Se,nt=Math.max(Ee,T.width),Ke=window.innerWidth-vs,rt=Yh(V,[vs,Math.max(vs,Ke-nt)]);a.style.minWidth=Ee+"px",a.style.left=rt+"px"}else{const Y=T.right-I.right,V=window.innerWidth-P.right-Y,Se=window.innerWidth-_.right-V,Ee=_.width+Se,nt=Math.max(Ee,T.width),Ke=window.innerWidth-vs,rt=Yh(V,[vs,Math.max(vs,Ke-nt)]);a.style.minWidth=Ee+"px",a.style.right=rt+"px"}const j=h(),O=window.innerHeight-vs*2,R=g.scrollHeight,F=window.getComputedStyle(u),B=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),W=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),z=B+U+R+$+W,ne=Math.min(y.offsetHeight*5,z),se=window.getComputedStyle(g),Q=parseInt(se.paddingTop,10),ge=parseInt(se.paddingBottom,10),ue=_.top+_.height/2-vs,Ce=O-ue,tt=y.offsetHeight/2,xe=y.offsetTop+tt,je=B+U+xe,ae=z-je;if(je<=ue){const Y=j.length>0&&y===j[j.length-1].ref.current;a.style.bottom="0px";const V=u.clientHeight-g.offsetTop-g.offsetHeight,Se=Math.max(Ce,tt+(Y?ge:0)+V+W),Ee=je+Se;a.style.height=Ee+"px"}else{const Y=j.length>0&&y===j[0].ref.current;a.style.top="0px";const Se=Math.max(ue,B+g.offsetTop+(Y?Q:0)+tt)+ae;a.style.height=Se+"px",g.scrollTop=je-ue+g.offsetTop}a.style.margin=`${vs}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,u,g,y,b,s.dir,r]);mr(()=>S(),[S]);const[A,E]=x.useState();mr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(_=>{_&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return l.jsx(nre,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(et.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TF.displayName=ere;var tre="SelectPopperPosition",gS=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vs,...s}=t,o=Zx(n);return l.jsx(X$,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gS.displayName=tre;var[nre,SC]=Wd(gc,{}),yS="SelectViewport",CF=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=vl(yS,n),o=SC(yS,n),a=bt(e,s.onViewportChange),c=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Qx.Slot,{scope:n,children:l.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-vs*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(g,y);if(b<v){const w=b+m,S=Math.min(v,w),A=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CF.displayName=yS;var AF="SelectGroup",[rre,ire]=Wd(AF),sre=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=oo();return l.jsx(rre,{scope:n,id:i,children:l.jsx(et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});sre.displayName=AF;var PF="SelectLabel",NF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ire(PF,n);return l.jsx(et.div,{id:i.id,...r,ref:e})});NF.displayName=PF;var Jy="SelectItem",[ore,jF]=Wd(Jy),kF=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=yl(Jy,n),c=vl(Jy,n),u=a.value===r,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),v=bt(e,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,r,i)}),g=oo(),y=x.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(ore,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:x.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Qx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(et.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Fe(o.onFocus,()=>m(!0)),onBlur:Fe(o.onBlur,()=>m(!1)),onClick:Fe(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Fe(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Fe(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Fe(o.onPointerMove,w=>{var S;y.current=w.pointerType,i?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Fe(o.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(Hne.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});kF.displayName=Jy;var Bf="SelectItemText",IF=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=yl(Bf,n),a=vl(Bf,n),c=jF(Bf,n),u=Yne(Bf,n),[d,f]=x.useState(null),h=bt(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return mr(()=>(g(v),()=>y(v)),[g,y,v]),l.jsxs(l.Fragment,{children:[l.jsx(et.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ec.createPortal(s.children,o.valueNode):null]})});IF.displayName=Bf;var OF="SelectItemIndicator",RF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jF(OF,n).isSelected?l.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});RF.displayName=OF;var vS="SelectScrollUpButton",MF=x.forwardRef((t,e)=>{const n=vl(vS,t.__scopeSelect),r=SC(vS,t.__scopeSelect),[i,s]=x.useState(!1),o=bt(e,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(LF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});MF.displayName=vS;var xS="SelectScrollDownButton",DF=x.forwardRef((t,e)=>{const n=vl(xS,t.__scopeSelect),r=SC(xS,t.__scopeSelect),[i,s]=x.useState(!1),o=bt(e,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(LF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});DF.displayName=xS;var LF=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=vl("SelectScrollButton",n),o=x.useRef(null),a=Jx(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),mr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),are="SelectSeparator",$F=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});$F.displayName=are;var bS="SelectArrow",lre=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zx(n),s=yl(bS,n),o=vl(bS,n);return s.open&&o.position==="popper"?l.jsx(Q$,{...i,...r,ref:e}):null});lre.displayName=bS;function FF(t){return t===""||t===void 0}var VF=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),s=bt(e,i),o=bC(n);return x.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(kd,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});VF.displayName="BubbleSelect";function BF(t){const e=Rn(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function UF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=cre(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function cre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ure=mF,zF=yF,dre=xF,fre=bF,hre=wF,WF=SF,pre=CF,HF=NF,qF=kF,mre=IF,gre=RF,GF=MF,KF=DF,YF=$F;const XF=ure,QF=dre,_C=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(zF,{ref:r,className:ut("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(fre,{asChild:!0,children:l.jsx(Rh,{className:"h-4 w-4 opacity-50"})})]}));_C.displayName=zF.displayName;const JF=x.forwardRef(({className:t,...e},n)=>l.jsx(GF,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(bH,{className:"h-4 w-4"})}));JF.displayName=GF.displayName;const ZF=x.forwardRef(({className:t,...e},n)=>l.jsx(KF,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Rh,{className:"h-4 w-4"})}));ZF.displayName=KF.displayName;const EC=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(hre,{children:l.jsxs(WF,{ref:i,className:ut("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(JF,{}),l.jsx(pre,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(ZF,{})]})}));EC.displayName=WF.displayName;const yre=x.forwardRef(({className:t,...e},n)=>l.jsx(HF,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yre.displayName=HF.displayName;const lr=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(qF,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gre,{children:l.jsx(sT,{className:"h-4 w-4"})})}),l.jsx(mre,{children:e})]}));lr.displayName=qF.displayName;const vre=x.forwardRef(({className:t,...e},n)=>l.jsx(YF,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));vre.displayName=YF.displayName;const xre=[{value:"Tempo - Shot Clock",label:"Tempo (Shot Clock)"},{value:"Velocity - Break Speed",label:"Velocity (Break Speed)"},{value:"TrueLevel - Table Leveler",label:"TrueLevel (Table Gauge)"},{value:"Vectors - Cueing Emulator",label:"Vectors (Cueing Emulator)"},{value:"General",label:"General / App Overall"}],bre="https://docs.google.com/forms/d/e/1FAIpQLSfA64X9IVCaRX89t-QKUDEuHw46QaPiFDvu393OfU36ztNUUg/formResponse",ig={tool:"entry.1706378579",rating:"entry.1128723298",comments:"entry.1061902",email:"entry.1137876909"};function wre(){const{promoCode:t,user:e}=Ud(),{toast:n}=jd(),[r,i]=x.useState(!1),[s,o]=x.useState(""),[a,c]=x.useState(0),[u,d]=x.useState(""),[f,h]=x.useState(!1),m=x.useRef(null);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const g=async()=>{if(!s||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const y=new FormData;y.append(ig.tool,s),y.append(ig.rating,String(a)),y.append(ig.comments,u),y.append(ig.email,(e==null?void 0:e.email)||"anonymous"),await fetch(bre,{method:"POST",mode:"no-cors",body:y}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),o(""),c(0),d("")}catch(y){console.error("Feedback error:",y),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(ie,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:l.jsx(BN,{className:"w-6 h-6"})}),l.jsx(Zn,{open:r,onOpenChange:i,children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsxs(Mn,{children:[l.jsxs(jn,{className:"flex items-center gap-2",children:[l.jsx(BN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),l.jsx(ks,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),l.jsxs(XF,{value:s,onValueChange:o,children:[l.jsx(_C,{"data-testid":"select-feedback-tool",children:l.jsx(QF,{placeholder:"Select a tool"})}),l.jsx(EC,{children:xre.map(y=>l.jsx(lr,{value:y.value,children:y.label},y.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),l.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(y=>l.jsx("button",{onClick:()=>c(y),className:"p-1 transition-colors","data-testid":`button-star-${y}`,children:l.jsx(VH,{className:`w-8 h-8 ${y<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),l.jsx(pF,{placeholder:"What's working? What could be better?",value:u,onChange:y=>d(y.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),l.jsxs(ie,{onClick:g,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[f?l.jsx(PH,{className:"w-4 h-4 animate-spin"}):l.jsx(FH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})}),l.jsx("iframe",{ref:m,name:"hidden_iframe",className:"hidden",title:"form-target"})]})}function TC({open:t,onComplete:e,pages:n,toolName:r}){const[i,s]=x.useState(0),o=x.useRef(0),a=x.useRef(0),c=n[i],u=h=>{o.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,v=h.changedTouches[0].clientY,g=m-o.current,y=v-a.current;Math.abs(g)>Math.abs(y)&&Math.abs(g)>50&&(g>0&&i>0?s(b=>b-1):g<0&&i<n.length-1&&s(b=>b+1))},f=()=>{s(0),e()};return l.jsx(Zn,{open:t,onOpenChange:h=>{h||f()},children:l.jsxs(Bn,{className:"max-w-md [&>button]:hidden",onTouchStart:u,onTouchEnd:d,"aria-describedby":void 0,onInteractOutside:h=>h.preventDefault(),onEscapeKeyDown:h=>h.preventDefault(),children:[l.jsx(kd,{children:l.jsxs(jn,{children:[r," Tutorial"]})}),l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),l.jsx("h2",{className:"text-xl font-bold",children:c.title})]}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:l.jsx(Cx,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"min-h-[200px]",children:c.content}),l.jsxs("div",{className:"flex items-center justify-between mt-6",children:[l.jsxs(ie,{variant:"ghost",onClick:()=>s(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[l.jsx(xH,{className:"w-4 h-4 mr-1"}),"Back"]}),l.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>l.jsx("button",{onClick:()=>s(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?l.jsxs(ie,{onClick:()=>s(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",l.jsx(h$,{className:"w-4 h-4 ml-1"})]}):l.jsx(ie,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})]})})}const Sre=Tx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function eV({className:t,variant:e,...n}){return l.jsx("div",{className:ut(Sre({variant:e}),t),...n})}var _re="Label",tV=x.forwardRef((t,e)=>l.jsx(et.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tV.displayName=_re;var nV=tV;const Ere=Tx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=x.forwardRef(({className:t,...e},n)=>l.jsx(nV,{ref:n,className:ut(Ere(),t),...e}));Ht.displayName=nV.displayName;var lw="rovingFocusGroup.onEntryFocus",Tre={bubbles:!1,cancelable:!0},e0="RovingFocusGroup",[wS,rV,Cre]=Up(e0),[Are,iV]=$i(e0,[Cre]),[Pre,Nre]=Are(e0),sV=x.forwardRef((t,e)=>l.jsx(wS.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(wS.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(jre,{...t,ref:e})})}));sV.displayName=e0;var jre=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=x.useRef(null),m=bt(e,h),v=zd(s),[g=null,y]=$s({prop:o,defaultProp:a,onChange:c}),[b,w]=x.useState(!1),S=Rn(u),A=rV(n),E=x.useRef(!1),[N,_]=x.useState(0);return x.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(lw,S),()=>T.removeEventListener(lw,S)},[S]),l.jsx(Pre,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(T=>y(T),[y]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:x.useCallback(()=>_(T=>T-1),[]),children:l.jsx(et.div,{tabIndex:b||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{E.current=!0}),onFocus:Fe(t.onFocus,T=>{const P=!E.current;if(T.target===T.currentTarget&&P&&!b){const I=new CustomEvent(lw,Tre);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const j=A().filter(U=>U.focusable),O=j.find(U=>U.active),R=j.find(U=>U.id===g),B=[O,R,...j].filter(Boolean).map(U=>U.ref.current);lV(B,d)}}E.current=!1}),onBlur:Fe(t.onBlur,()=>w(!1))})})}),oV="RovingFocusGroupItem",aV=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=oo(),c=s||a,u=Nre(oV,n),d=u.currentTabStopId===c,f=rV(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return x.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),l.jsx(wS.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(et.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Fe(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Fe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Fe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=Ore(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=u.loop?Rre(b,w+1):b.slice(w+1)}setTimeout(()=>lV(b))}})})})});aV.displayName=oV;var kre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ire(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ore(t,e,n){const r=Ire(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kre[r]}function lV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Rre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mre=sV,Dre=aV,CC="Tabs",[Lre,A2e]=$i(CC,[iV]),cV=iV(),[$re,AC]=Lre(CC),uV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=zd(a),[f,h]=$s({prop:r,onChange:i,defaultProp:s});return l.jsx($re,{scope:n,baseId:oo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(et.div,{dir:d,"data-orientation":o,...u,ref:e})})});uV.displayName=CC;var dV="TabsList",fV=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=AC(dV,n),o=cV(n);return l.jsx(Mre,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(et.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});fV.displayName=dV;var hV="TabsTrigger",pV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=AC(hV,n),a=cV(n),c=yV(o.baseId,r),u=vV(o.baseId,r),d=r===o.value;return l.jsx(Dre,{asChild:!0,...a,focusable:!i,active:d,children:l.jsx(et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Fe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});pV.displayName=hV;var mV="TabsContent",gV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=AC(mV,n),c=yV(a.baseId,r),u=vV(a.baseId,r),d=r===a.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(as,{present:i||d,children:({present:h})=>l.jsx(et.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});gV.displayName=mV;function yV(t,e){return`${t}-trigger-${e}`}function vV(t,e){return`${t}-content-${e}`}var Fre=uV,xV=fV,bV=pV,wV=gV;const SV=Fre,PC=x.forwardRef(({className:t,...e},n)=>l.jsx(xV,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));PC.displayName=xV.displayName;const ah=x.forwardRef(({className:t,...e},n)=>l.jsx(bV,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ah.displayName=bV.displayName;const lh=x.forwardRef(({className:t,...e},n)=>l.jsx(wV,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));lh.displayName=wV.displayName;var NC="Collapsible",[Vre,_V]=$i(NC),[Bre,jC]=Vre(NC),EV=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c=!1,u]=$s({prop:r,defaultProp:i,onChange:o});return l.jsx(Bre,{scope:n,disabled:s,contentId:oo(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:l.jsx(et.div,{"data-state":RC(c),"data-disabled":s?"":void 0,...a,ref:e})})});EV.displayName=NC;var TV="CollapsibleTrigger",kC=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=jC(TV,n);return l.jsx(et.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":RC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Fe(t.onClick,i.onOpenToggle)})});kC.displayName=TV;var IC="CollapsibleContent",OC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=jC(IC,t.__scopeCollapsible);return l.jsx(as,{present:n||i.open,children:({present:s})=>l.jsx(Ure,{...r,ref:e,present:s})})});OC.displayName=IC;var Ure=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=jC(IC,n),[a,c]=x.useState(r),u=x.useRef(null),d=bt(e,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,g=o.open||a,y=x.useRef(g),b=x.useRef(void 0);return x.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),mr(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,y.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[o.open,r]),l.jsx(et.div,{"data-state":RC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:g&&i})});function RC(t){return t?"open":"closed"}var CV=EV,zre=kC,Wre=OC,da="Accordion",Hre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[MC,qre,Gre]=Up(da),[t0,P2e]=$i(da,[Gre,_V]),DC=_V(),AV=G.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return l.jsx(MC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(Qre,{...s,ref:e}):l.jsx(Xre,{...i,ref:e})})});AV.displayName=da;var[PV,Kre]=t0(da),[NV,Yre]=t0(da,{collapsible:!1}),Xre=G.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,c]=$s({prop:n,defaultProp:r,onChange:i});return l.jsx(PV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:G.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(NV,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(jV,{...o,ref:e})})})}),Qre=G.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=$s({prop:n,defaultProp:r,onChange:i}),c=G.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=G.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return l.jsx(PV,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(NV,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(jV,{...s,ref:e})})})}),[Jre,n0]=t0(da),jV=G.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=G.useRef(null),c=bt(a,e),u=qre(n),f=zd(i)==="ltr",h=Fe(t.onKeyDown,m=>{var T;if(!Hre.includes(m.key))return;const v=m.target,g=u().filter(P=>{var I;return!((I=P.ref.current)!=null&&I.disabled)}),y=g.findIndex(P=>P.ref.current===v),b=g.length;if(y===-1)return;m.preventDefault();let w=y;const S=0,A=b-1,E=()=>{w=y+1,w>A&&(w=S)},N=()=>{w=y-1,w<S&&(w=A)};switch(m.key){case"Home":w=S;break;case"End":w=A;break;case"ArrowRight":s==="horizontal"&&(f?E():N());break;case"ArrowDown":s==="vertical"&&E();break;case"ArrowLeft":s==="horizontal"&&(f?N():E());break;case"ArrowUp":s==="vertical"&&N();break}const _=w%b;(T=g[_].ref.current)==null||T.focus()});return l.jsx(Jre,{scope:n,disabled:r,direction:i,orientation:s,children:l.jsx(MC.Slot,{scope:n,children:l.jsx(et.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:h})})})}),Zy="AccordionItem",[Zre,LC]=t0(Zy),kV=G.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=n0(Zy,n),o=Kre(Zy,n),a=DC(n),c=oo(),u=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return l.jsx(Zre,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(CV,{"data-orientation":s.orientation,"data-state":LV(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});kV.displayName=Zy;var IV="AccordionHeader",OV=G.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=LC(IV,n);return l.jsx(et.h3,{"data-orientation":i.orientation,"data-state":LV(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});OV.displayName=IV;var SS="AccordionTrigger",RV=G.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=LC(SS,n),o=Yre(SS,n),a=DC(n);return l.jsx(MC.ItemSlot,{scope:n,children:l.jsx(zre,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});RV.displayName=SS;var MV="AccordionContent",DV=G.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=LC(MV,n),o=DC(n);return l.jsx(Wre,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});DV.displayName=MV;function LV(t){return t?"open":"closed"}var eie=AV,tie=kV,nie=OV,$V=RV,FV=DV;const Eu=eie,Ai=x.forwardRef(({className:t,...e},n)=>l.jsx(tie,{ref:n,className:ut("border-b",t),...e}));Ai.displayName="AccordionItem";const Pi=x.forwardRef(({className:t,children:e,...n},r)=>l.jsx(nie,{className:"flex",children:l.jsxs($V,{ref:r,className:ut("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(Rh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Pi.displayName=$V.displayName;const Ni=x.forwardRef(({className:t,children:e,...n},r)=>l.jsx(FV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:ut("pb-4 pt-0",t),children:e})}));Ni.displayName=FV.displayName;const $2="cuemaster_module_usage",rie=5;function iie(t){const[e,n]=x.useState({});x.useEffect(()=>{if(t)try{const o=localStorage.getItem($2);o&&n(JSON.parse(o))}catch{console.warn("Failed to load module usage")}},[t]);const r=x.useCallback(o=>{t&&n(a=>{const c={...a,[o]:(a[o]||0)+1};try{localStorage.setItem($2,JSON.stringify(c))}catch{console.warn("Failed to save module usage")}return c})},[t]),i=x.useCallback(o=>{if(!t)return o;const a=o.map(u=>({module:u,count:e[u.id]||0}));return a.some(u=>u.count>=rie)?a.sort((u,d)=>d.count-u.count).map(u=>u.module):o},[t,e]),s=x.useCallback(o=>e[o]||0,[e]);return{trackUsage:r,sortModules:i,getUsageCount:s,usage:e}}function F2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),l.jsx("circle",{cx:"24",cy:"24",r:"16"}),l.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),l.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function V2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),l.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),l.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),l.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),l.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),l.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),l.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function B2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),l.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),l.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function U2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"10"}),l.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),l.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),l.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),l.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),l.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),l.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),l.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),l.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),l.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}function sie({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"18"}),l.jsx("circle",{cx:"24",cy:"24",r:"14",strokeWidth:"1.5"}),l.jsx("path",{d:"M24 10 L24 14",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M24 34 L24 38",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M10 24 L14 24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M34 24 L38 24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("text",{x:"24",y:"28",textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:"currentColor",stroke:"none",children:"?"})]})}const z2="cuemaster_dev_mode";function oie(){const{promoCode:t}=Ud();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?l.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(f$,{className:"w-5 h-5 text-amber-500"}),l.jsxs("div",{children:[l.jsx(eV,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function aie(){var de;const[,t]=wo(),[e,n]=x.useState(!1),[r,i]=x.useState(!1),{theme:s,toggleTheme:o,colorTheme:a,setColorTheme:c}=eK(),{user:u,isPro:d,promoCode:f,signInWithGoogle:h,signOut:m}=Ud(),{language:v,setLanguage:g}=bte(),{settings:y,updateSettings:b}=hC(),{trackUsage:w,sortModules:S}=iie(!!u),[A,E]=x.useState(!1),[N,_]=x.useState(0),T=x.useRef(null),P=x.useRef(0),[I,j]=x.useState(!1),[O,R]=x.useState(ht.getConsent()),[F,B]=x.useState(!1),[U,W]=x.useState(!1),[$,z]=x.useState(!1),[ne,se]=x.useState(!1),Q=x.useMemo(()=>[{id:"vectors",icon:l.jsx(U2,{}),title:"Vectors",route:"/cue-emulator",description:"Test spin, angles, and speed before you ever pull the trigger.",testId:"card-cue-emulator",proFeature:!0},{id:"truelevel",icon:l.jsx(V2,{}),title:"TrueLevel",route:"/table-level",description:"Verify your battlefield. No excuses, no hidden slopes.",testId:"card-table-level",proFeature:!0},{id:"tempo",icon:l.jsx(F2,{}),title:"Tempo",route:"/shot-clock",description:"Own the pace of play  solo drills or match pressure, on a clock.",testId:"card-shot-clock",proFeature:!0},{id:"velocity",icon:l.jsx(B2,{}),title:"Velocity",route:"/break-speed",description:"Dial in raw power with break speed you can actually measure.",testId:"card-break-speed",proFeature:!0},{id:"luck",icon:l.jsx(sie,{}),title:"Luck",route:"/coin-flip",description:"Fair coin flip for lag decisions. True 50/50  no disputes.",testId:"card-coin-flip",proFeature:!1}],[]),ge=x.useMemo(()=>S(Q),[Q,S]),ue=Y=>{w(Y.id),t(Y.route)},Ce=()=>{["cuemaster-velocity-v1","cuemaster-tempo-presets","cuemaster-truelevel-presets","cuemaster-vectors-presets"].forEach(V=>localStorage.removeItem(V)),W(!1),n(!1),window.location.reload()},tt=()=>{Object.keys(localStorage).filter(V=>V.startsWith("cuemaster")).forEach(V=>localStorage.removeItem(V)),localStorage.removeItem("cuemaster_module_usage"),localStorage.removeItem("cuemaster_app_settings"),ht.clearAllData(),se(!1),n(!1),window.location.reload()},xe="cuemaster_main_tutorial_complete",je=[{title:"Welcome!",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-primary mb-1",children:"CueMaster Suite"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"by Promethean Games"})]}),l.jsx("p",{className:"text-muted-foreground",children:"Built by players, for players. Whether you're grinding league nights, preparing for tournament play, or just looking to level up your practice sessions, we've got you covered."}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Five tools, one mission. Choose your next fundamental, log the reps, and watch your edge take shape."})]})},{title:"Tempo: Shot Clock",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(F2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Tempo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Professional Shot Timer"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Tournament-grade shot clock with solo, two-player, and Scotch Doubles modes. Track shot times, extensions, and timeouts across your practice or match sessions."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Full-screen jumbo timer with tap-to-pause"}),l.jsx("li",{children:" Dynamic color warnings as time expires"}),l.jsx("li",{children:" Session stats: avg shot time, extensions used"}),l.jsx("li",{children:" Session history for performance tracking"})]})]})},{title:"Velocity: Break Speed",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(B2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Velocity"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Break-Speed Analyzer"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Microphone-based break speed detection with pool hall-optimized audio processing. Position your cue and rack, then let the app calculate your break velocity."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Interactive table with draggable cue positioning"}),l.jsx("li",{children:" 8-ball and 9-ball rack configurations"}),l.jsx("li",{children:' MPH display or "Shark Mode" percentage'}),l.jsx("li",{children:" Save and compare your best breaks"})]})]})},{title:"Vectors: Cue Emulator",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(U2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Vectors"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics-Based Shot Simulator"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"High-resolution pool table canvas with realistic physics. Place balls, aim with precision, and visualize trajectories with full English control."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Ghost ball targeting with cut angle display"}),l.jsx("li",{children:" Draw, follow, and side spin visualization"}),l.jsx("li",{children:" Adjustable table size and felt speed"}),l.jsx("li",{children:" Practice courses for skill development"})]})]})},{title:"TrueLevel: Table Gauge",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(V2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: TrueLevel"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital Bubble Level"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Transform your device into a precision level gauge using built-in orientation sensors. Quickly verify table levelness before practice or competition."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Real-time bubble indicator visualization"}),l.jsx("li",{children:" Calibration system for accurate readings"}),l.jsx("li",{children:" Location presets: Home, League, Tournament"}),l.jsx("li",{children:" Works on mobile devices and tablets"})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg mt-2",children:l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Ready to play? Tap ",l.jsx("strong",{className:"text-foreground",children:"Got It"})," to get started!"]})})]})}];x.useEffect(()=>{localStorage.getItem(z2)==="true"&&E(!0),ht.isFirstLaunch()&&j(!0),localStorage.getItem(xe)||setTimeout(()=>B(!0),500)},[]);const ae=Y=>{if(Y.type==="click"&&P.current>Date.now()-300||(Y.type==="touchend"&&(P.current=Date.now(),Y.preventDefault()),A))return;const V=N+1;_(V),T.current&&clearTimeout(T.current),V>=7?(E(!0),localStorage.setItem(z2,"true"),_(0)):T.current=setTimeout(()=>_(0),2e3)};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[l.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),l.jsxs("p",{className:`text-sm font-light ${d?(f==null?void 0:f.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(f==null?void 0:f.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",d&&" Pro"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{onClick:ae,onTouchEnd:ae,className:"cursor-default select-none touch-manipulation mr-2",children:l.jsx(Pte,{})}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:l.jsx(lc,{className:"w-5 h-5 text-primary"})}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>i(!0),"data-testid":"button-profile",children:l.jsx(_H,{className:"w-5 h-5 text-primary"})}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:l.jsx(aT,{className:"w-5 h-5 text-primary"})})]})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[u&&l.jsx("div",{className:"mb-4 text-center",children:l.jsxs("p",{className:"text-lg text-muted-foreground",children:["Welcome back, ",l.jsx("span",{className:"text-foreground font-medium",children:((de=u.displayName)==null?void 0:de.split(" ")[0])||"Player"}),"!"]})}),l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),l.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),l.jsx("div",{className:"space-y-4",children:ge.map(Y=>l.jsx(Ate,{icon:Y.icon,title:Y.title,subtitle:"CueMaster",description:Y.description,onClick:()=>ue(Y),testId:Y.testId,proFeature:Y.proFeature,isProUser:d,showAccent:!0},Y.id))})]})}),l.jsx("footer",{className:"py-4 px-6 text-center border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),l.jsx(Zn,{open:e,onOpenChange:n,children:l.jsxs(Bn,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsx(Mn,{className:"flex-shrink-0",children:l.jsx(jn,{children:"Settings"})}),l.jsxs(SV,{defaultValue:"appearance",className:"flex-1 min-h-0 flex flex-col",children:[l.jsx(PC,{className:"w-full flex-shrink-0",children:l.jsxs(ah,{value:"appearance",className:"flex-1","data-testid":"tab-appearance",children:[l.jsx(zN,{className:"w-4 h-4 mr-1"}),"Theme"]})}),l.jsxs(lh,{value:"appearance",className:"flex-1 overflow-y-auto mt-4 space-y-6 pb-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[s==="dark"?l.jsx(DH,{className:"w-4 h-4"}):l.jsx(BH,{className:"w-4 h-4"}),"Theme Mode"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:s==="dark"?"Dark":"Light"}),l.jsx(Vr,{id:"theme-toggle",checked:s==="dark",onCheckedChange:o,"data-testid":"switch-theme"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"sound-toggle",className:"flex items-center gap-2",children:[l.jsx(zH,{className:"w-4 h-4"}),"Sound Effects"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.soundEnabled?"On":"Off"}),l.jsx(Vr,{id:"sound-toggle",checked:y.soundEnabled,onCheckedChange:Y=>b({soundEnabled:Y}),"data-testid":"switch-sound"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"wakelock-toggle",className:"flex items-center gap-2",children:[l.jsx(g$,{className:"w-4 h-4"}),"Keep Screen On"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.wakeLockEnabled?"On":"Off"}),l.jsx(Vr,{id:"wakelock-toggle",checked:y.wakeLockEnabled,onCheckedChange:Y=>b({wakeLockEnabled:Y}),"data-testid":"switch-wakelock"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"haptic-toggle",className:"flex items-center gap-2",children:[l.jsx(UH,{className:"w-4 h-4"}),"Haptic Feedback"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.hapticEnabled?"On":"Off"}),l.jsx(Vr,{id:"haptic-toggle",checked:y.hapticEnabled,onCheckedChange:Y=>b({hapticEnabled:Y}),"data-testid":"switch-haptic"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Ht,{className:"flex items-center gap-2",children:[l.jsx(zN,{className:"w-4 h-4"}),"Accent Color"]}),l.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:Dg.map(Y=>l.jsx("button",{onClick:()=>c(Y),className:`relative aspect-square rounded-lg transition-all ${a.id===Y.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${Y.primary})`},title:Y.name,"data-testid":`button-color-${Y.id}`,children:a.id===Y.id&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},Y.id))}),l.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",a.name]})]}),l.jsxs("div",{className:"pt-4 border-t space-y-3",children:[l.jsxs(ie,{variant:"outline",className:"w-full",onClick:()=>{n(!1),setTimeout(()=>B(!0),200)},"data-testid":"button-view-tutorial",children:[l.jsx(Wp,{className:"w-4 h-4 mr-2"}),"View App Tutorial"]}),l.jsxs(ie,{variant:"outline",className:"w-full",onClick:()=>W(!0),"data-testid":"button-reset-presets",children:[l.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Reset Presets"]}),l.jsxs(ie,{variant:"destructive",className:"w-full",onClick:()=>z(!0),"data-testid":"button-factory-reset",children:[l.jsx(Cy,{className:"w-4 h-4 mr-2"}),"Clear All Data (Factory Reset)"]})]})]})]})]})}),l.jsx(Zn,{open:U,onOpenChange:W,children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsx(Mn,{children:l.jsxs(jn,{className:"flex items-center gap-2",children:[l.jsx(Ey,{className:"w-5 h-5 text-primary"}),"Reset Presets?"]})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This will reset all saved presets in Velocity, Tempo, TrueLevel, and Vectors to their default values. Your analytics and settings will not be affected."}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(ie,{variant:"outline",className:"flex-1",onClick:()=>W(!1),"data-testid":"button-cancel-reset-presets",children:"Cancel"}),l.jsx(ie,{variant:"default",className:"flex-1",onClick:Ce,"data-testid":"button-confirm-reset-presets",children:"Reset Presets"})]})]})}),l.jsx(Zn,{open:$,onOpenChange:z,children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsx(Mn,{children:l.jsxs(jn,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(Ay,{className:"w-5 h-5"}),"Factory Reset?"]})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This will permanently delete ALL your data including presets, analytics, settings, and usage history. This action cannot be undone."}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(ie,{variant:"outline",className:"flex-1",onClick:()=>z(!1),"data-testid":"button-cancel-factory-reset-1",children:"Cancel"}),l.jsx(ie,{variant:"destructive",className:"flex-1",onClick:()=>{z(!1),se(!0)},"data-testid":"button-continue-factory-reset",children:"Continue"})]})]})}),l.jsx(Zn,{open:ne,onOpenChange:se,children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsx(Mn,{children:l.jsxs(jn,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(Ay,{className:"w-5 h-5"}),"Are You Absolutely Sure?"]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"This is your final warning. You are about to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Delete all saved presets and configurations"}),l.jsx("li",{children:"Clear all analytics and usage history"}),l.jsx("li",{children:"Reset all settings to default"}),l.jsx("li",{children:"Remove tutorial completion status"})]}),l.jsx("p",{className:"text-sm text-destructive font-semibold",children:"This cannot be undone!"})]}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(ie,{variant:"outline",className:"flex-1",onClick:()=>se(!1),"data-testid":"button-cancel-factory-reset-2",children:"Cancel"}),l.jsx(ie,{variant:"destructive",className:"flex-1",onClick:tt,"data-testid":"button-confirm-factory-reset",children:"Yes, Delete Everything"})]})]})}),l.jsx(Zn,{open:r,onOpenChange:i,children:l.jsxs(Bn,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsx(Mn,{className:"flex-shrink-0",children:l.jsx(jn,{children:"Profile"})}),l.jsxs("div",{className:"space-y-4 mt-2 flex-1 overflow-y-auto pb-4",children:[l.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-primary/20":"bg-muted"}`,children:l.jsx(Rg,{className:`w-6 h-6 ${u?"text-primary":"text-muted-foreground"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:u?u.displayName||u.email||"Signed In":"Guest User"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:u?u.email:"Not signed in"})]})]}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:u?l.jsxs(l.Fragment,{children:[l.jsx(SH,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):l.jsxs(l.Fragment,{children:[l.jsx(EH,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),l.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[l.jsx(Ht,{className:"text-sm font-medium",children:"Pro Status"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(f$,{className:`w-5 h-5 ${d?"text-primary":"text-muted-foreground"}`}),l.jsx("span",{className:d?"font-medium":"text-muted-foreground",children:d?"Pro Unlocked":"Free Version"})]}),d&&f&&l.jsx(eV,{variant:"outline",className:f.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":f.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:f.toUpperCase()})]}),d&&l.jsx("p",{className:"text-xs text-muted-foreground",children:u?"Pro status synced to your account":"Pro status stored locally on this device"})]}),l.jsxs(Eu,{type:"single",collapsible:!0,className:"w-full",defaultValue:"language",children:[l.jsxs(Ai,{value:"language",className:"border rounded-lg px-4",children:[l.jsx(Pi,{className:"hover:no-underline py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(CH,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-sm",children:"Language"}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",v.name,")"]})]})}),l.jsx(Ni,{className:"pb-4",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gg.map(Y=>l.jsxs("button",{onClick:()=>g(Y),className:`flex items-center gap-2 p-2 rounded-lg border transition-all text-left ${v.id===Y.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,"data-testid":`button-lang-${Y.id}`,children:[l.jsx("span",{className:"text-lg",children:Y.flag}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:Y.name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Y.nativeName})]}),v.id===Y.id&&l.jsx(sT,{className:"w-4 h-4 text-primary flex-shrink-0"})]},Y.id))})})]}),l.jsxs(Ai,{value:"privacy",className:"border rounded-lg px-4 mt-2",children:[l.jsx(Pi,{className:"hover:no-underline py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ty,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-sm",children:"Privacy"})]})}),l.jsxs(Ni,{className:"pb-4 space-y-4",children:[l.jsx(oie,{}),l.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ht,{className:"text-xs font-medium text-muted-foreground",children:"Data Collection"}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use"})]}),l.jsx(Vr,{checked:O.usageStats,onCheckedChange:Y=>{const V={...O,usageStats:Y};R(V),ht.setConsent(V)},"data-testid":"switch-profile-usage"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data"})]}),l.jsx(Vr,{checked:O.skillMetrics,onCheckedChange:Y=>{const V={...O,skillMetrics:Y};R(V),ht.setConsent(V)},"data-testid":"switch-profile-skills"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Anonymous comparison"})]}),l.jsx(Vr,{checked:O.benchmarking,onCheckedChange:Y=>{const V={...O,benchmarking:Y,usageStats:Y?!0:O.usageStats};R(V),ht.setConsent(V)},"data-testid":"switch-profile-benchmark"})]})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsx(Ht,{className:"text-xs font-medium text-muted-foreground",children:"Data Management"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const Y=ht.exportData(),V=new Blob([Y],{type:"application/json"}),Se=URL.createObjectURL(V),Ee=document.createElement("a");Ee.href=Se,Ee.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,Ee.click(),URL.revokeObjectURL(Se)},"data-testid":"button-export-data",children:[l.jsx(p$,{className:"w-4 h-4 mr-2"}),"Export"]}),l.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&ht.deleteAllData()},"data-testid":"button-delete-data",children:[l.jsx(Cy,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]})]})]}),l.jsx("div",{className:"space-y-2",children:u?l.jsxs(ie,{variant:"outline",className:"w-full",onClick:async()=>{await m()},"data-testid":"button-sign-out",children:[l.jsx(jH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),l.jsxs(ie,{variant:"outline",className:"w-full",onClick:async()=>{await h()},"data-testid":"button-sign-in-google",children:[l.jsx($1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[l.jsx("p",{children:"App Version: v0.9.7.127"}),u&&l.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]})]})}),l.jsx(Une,{open:I,onComplete:()=>{j(!1),R(ht.getConsent())}}),l.jsx(wre,{}),l.jsx(TC,{open:F,onComplete:()=>{B(!1),localStorage.setItem(xe,"true")},pages:je,toolName:"CueMaster Suite"})]})}const W2=CV,H2=kC,q2=OC,fr=x.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ut("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fr.displayName="Input";function lie(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var $C="ScrollArea",[VV,N2e]=$i($C),[cie,ls]=VV($C),BV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,w]=x.useState(0),[S,A]=x.useState(0),[E,N]=x.useState(!1),[_,T]=x.useState(!1),P=bt(e,j=>c(j)),I=zd(i);return l.jsx(cie,{scope:n,type:r,dir:I,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:A,children:l.jsx(et.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});BV.displayName=$C;var UV="ScrollAreaViewport",zV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ls(UV,n),a=x.useRef(null),c=bt(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(et.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});zV.displayName=UV;var _o="ScrollAreaScrollbar",FC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(_o,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return x.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?l.jsx(uie,{...r,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(die,{...r,ref:e,forceMount:n}):i.type==="auto"?l.jsx(WV,{...r,ref:e,forceMount:n}):i.type==="always"?l.jsx(VC,{...r,ref:e}):null});FC.displayName=_o;var uie=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(_o,t.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(as,{present:n||s,children:l.jsx(WV,{"data-state":s?"visible":"hidden",...r,ref:e})})}),die=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(_o,t.__scopeScrollArea),s=t.orientation==="horizontal",o=i0(()=>c("SCROLL_END"),100),[a,c]=lie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),x.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,o]),l.jsx(as,{present:n||a!=="hidden",children:l.jsx(VC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Fe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Fe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WV=x.forwardRef((t,e)=>{const n=ls(_o,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=x.useState(!1),a=t.orientation==="horizontal",c=i0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return rd(n.viewport,c),rd(n.content,c),l.jsx(as,{present:r||s,children:l.jsx(VC,{"data-state":s?"visible":"hidden",...i,ref:e})})}),VC=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ls(_o,t.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[a,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=YV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return yie(h,o.current,a,m)}return n==="horizontal"?l.jsx(fie,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=G2(h,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?l.jsx(hie,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=G2(h,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),fie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ls(_o,t.__scopeScrollArea),[o,a]=x.useState(),c=x.useRef(null),u=bt(e,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(qV,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),QV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:tv(o.paddingLeft),paddingEnd:tv(o.paddingRight)}})}})}),hie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ls(_o,t.__scopeScrollArea),[o,a]=x.useState(),c=x.useRef(null),u=bt(e,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(qV,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),QV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:tv(o.paddingTop),paddingEnd:tv(o.paddingBottom)}})}})}),[pie,HV]=VV(_o),qV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=ls(_o,n),[v,g]=x.useState(null),y=bt(e,P=>g(P)),b=x.useRef(null),w=x.useRef(""),S=m.viewport,A=r.content-r.viewport,E=Rn(d),N=Rn(c),_=i0(f,10);function T(P){if(b.current){const I=P.clientX-b.current.left,j=P.clientY-b.current.top;u({x:I,y:j})}}return x.useEffect(()=>{const P=I=>{const j=I.target;(v==null?void 0:v.contains(j))&&E(I,A)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[S,v,A,E]),x.useEffect(N,[r,N]),rd(v,_),rd(m.content,_),l.jsx(pie,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Rn(s),onThumbPointerUp:Rn(o),onThumbPositionChange:N,onThumbPointerDown:Rn(a),children:l.jsx(et.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Fe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Fe(t.onPointerMove,T),onPointerUp:Fe(t.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),ev="ScrollAreaThumb",GV=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=HV(ev,t.__scopeScrollArea);return l.jsx(as,{present:n||i.hasThumb,children:l.jsx(mie,{ref:e,...r})})}),mie=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ls(ev,n),o=HV(ev,n),{onThumbPositionChange:a}=o,c=bt(e,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=i0(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=vie(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,a]),l.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Fe(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:Fe(t.onPointerUp,o.onThumbPointerUp)})});GV.displayName=ev;var BC="ScrollAreaCorner",KV=x.forwardRef((t,e)=>{const n=ls(BC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(gie,{...t,ref:e}):null});KV.displayName=BC;var gie=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ls(BC,n),[s,o]=x.useState(0),[a,c]=x.useState(0),u=!!(s&&a);return rd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),rd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?l.jsx(et.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tv(t){return t?parseInt(t,10):0}function YV(t,e){const n=t/e;return isNaN(n)?0:n}function r0(t){const e=YV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function yie(t,e,n,r="ltr"){const i=r0(n),s=i/2,o=e||s,a=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return XV([c,u],f)(t)}function G2(t,e,n="ltr"){const r=r0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Yh(t,c);return XV([0,o],[0,a])(u)}function XV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function QV(t,e){return t>0&&t<e}var vie=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function i0(t,e){const n=Rn(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function rd(t,e){const n=Rn(e);mr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var JV=BV,xie=zV,bie=KV;const ZV=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(JV,{ref:r,className:ut("relative overflow-hidden",t),...n,children:[l.jsx(xie,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(e6,{}),l.jsx(bie,{})]}));ZV.displayName=JV.displayName;const e6=x.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(FC,{ref:r,orientation:e,className:ut("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(GV,{className:"relative flex-1 rounded-full bg-border"})}));e6.displayName=FC.displayName;const wie=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Sie(t){return wie.includes(t.toUpperCase().trim())}function id({className:t=""}){return l.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:l.jsx($l,{className:"w-3 h-3"})})}function Xg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:s,isLoading:o}=Ud(),[a,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(!1),[m,v]=x.useState(!1),g=async w=>{if(w.preventDefault(),!Sie(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await s(a);h(!1),S?v(!0):d("Failed to unlock. Please try again.")},y=()=>{m?window.location.reload():e(!1)},b=[{icon:Mh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:_y,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:v$,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:TH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:WN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:$l,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return l.jsx(Zn,{open:t,onOpenChange:y,children:l.jsx(Bn,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?l.jsxs(l.Fragment,{children:[l.jsxs(Mn,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:l.jsx(WN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),l.jsx(jn,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),l.jsx(ks,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),l.jsx(ZV,{className:"flex-1 max-h-[300px] pr-4",children:l.jsxs("div",{className:"space-y-3 py-2",children:[l.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),b.map((w,S)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[l.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:l.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-sm",children:w.title}),l.jsx(sT,{className:"w-3 h-3 text-green-500"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),l.jsxs(ie,{onClick:y,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Let's Go!"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Mn,{children:[l.jsxs(jn,{className:"flex items-center gap-2",children:[l.jsx($l,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),l.jsx(ks,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ie,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:o,"data-testid":"button-google-signin",children:[l.jsx($1,{className:"w-4 h-4"}),"Sign in with Google"]}),l.jsxs(ie,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:o,"data-testid":"button-facebook-signin",children:[l.jsx($1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&l.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(fr,{placeholder:"Enter promo code",value:a,onChange:w=>{c(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),u&&l.jsx("p",{className:"text-sm text-destructive mt-2",children:u})]}),l.jsxs(ie,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[l.jsx($l,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function nv({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[s,o]=x.useState(!1),{isPro:a}=Ud();if(a||!e)return l.jsx(l.Fragment,{children:t});const c=()=>{i?i():o(!0)};return r==="badge"?l.jsxs("div",{className:"relative",children:[t,l.jsx("div",{className:"absolute top-1 right-1",children:l.jsx(id,{})}),l.jsx(Xg,{open:s,onOpenChange:o})]}):r==="overlay"?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[l.jsx(L1,{className:"w-8 h-8 text-muted-foreground mb-2"}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),l.jsxs(ie,{size:"sm",onClick:c,className:"gap-1","data-testid":"button-upgrade-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),l.jsx(Xg,{open:s,onOpenChange:o})]}):l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[l.jsx(L1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),l.jsxs(ie,{size:"sm",onClick:c,className:"gap-1","data-testid":"button-upgrade-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Upgrade"]})]})}),l.jsx(Xg,{open:s,onOpenChange:o})]})}function _ie({children:t,isLocked:e=!0,onClick:n,...r}){const[i,s]=x.useState(!1),{isPro:o}=Ud();if(o||!e)return l.jsx(ie,{onClick:n,...r,children:t});const a=c=>{c.preventDefault(),s(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs(ie,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,l.jsx("span",{className:"absolute -top-1 -right-1",children:l.jsx(id,{})})]}),l.jsx(Xg,{open:i,onOpenChange:s})]})}function t6(t=!1){const{settings:e}=hC(),[n,r]=x.useState(!1),i=x.useRef(null),s=x.useCallback(async()=>{if(e.wakeLockEnabled&&"wakeLock"in navigator)try{i.current=await navigator.wakeLock.request("screen"),r(!0),i.current.addEventListener("release",()=>{r(!1)})}catch(a){console.error("Wake Lock error:",a),r(!1)}},[e.wakeLockEnabled]),o=x.useCallback(async()=>{if(i.current)try{await i.current.release(),i.current=null,r(!1)}catch(a){console.error("Wake Lock release error:",a)}},[]);return x.useEffect(()=>(t&&e.wakeLockEnabled?s():o(),()=>{o()}),[t,e.wakeLockEnabled,s,o]),x.useEffect(()=>{if(!t||!e.wakeLockEnabled)return;const a=()=>{document.visibilityState==="visible"&&t&&e.wakeLockEnabled&&s()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[t,e.wakeLockEnabled,s]),{isLocked:n,requestWakeLock:s,releaseWakeLock:o}}const $c=["mph","kph","m/s","ft/s"],Qg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},K2=Object.keys(Qg),Gs=(t,e,n)=>Math.min(n,Math.max(e,t)),Eie=.0254,eo=2.25,jo=eo/2,n6="cuemaster-velocity-v1";function Tie(){try{const t=localStorage.getItem(n6);return t?JSON.parse(t):null}catch{return null}}function Cie(t){try{localStorage.setItem(n6,JSON.stringify(t))}catch{}}function Aie(t,e,n){const r=3*n/4,i=e/2,s=[];if(t==="8"){const o=[1,2,3,4,5];for(let a=0;a<o.length;a++){const c=o[a],u=r+a*eo,d=(c-1)*eo;for(let f=0;f<c;f++)s.push({x:i-d/2+f*eo,y:u,row:a,idx:f,n:c})}}else{const o=[1,2,3,2,1];for(let a=0;a<o.length;a++){const c=o[a],u=r+a*eo,d=(c-1)*eo;for(let f=0;f<c;f++)s.push({x:i-d/2+f*eo,y:u,row:a,idx:f,n:c})}}return s}function Pie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function Nie({x0:t,y0:e,dx:n,dy:r,W:i,L:s}){const o=[];r>0&&o.push((s-e)/r),n<0&&o.push((0-t)/n),n>0&&o.push((i-t)/n);const a=Math.min(...o.filter(c=>c>0));return isFinite(a)?a:null}function jie(){var Le;const[,t]=wo(),{toast:e}=jd(),[n,r]=x.useState("record"),[i,s]=x.useState(3),o=K2[i]||"9' (tournament)",a=Qg[o],c=a.W,u=a.L,[d,f]=x.useState("9"),[h,m]=x.useState(!0),[v,g]=x.useState("mph"),[y,b]=x.useState(!1),w=()=>{const q=$c.indexOf(v);g($c[(q+1)%$c.length])},[S,A]=x.useState({x:25,y:20}),[E,N]=x.useState({x:c/2,y:3*u/4-eo}),[_,T]=x.useState(null),[P,I]=x.useState(null),[j,O]=x.useState(!1);t6(j);const[R,F]=x.useState(null),[B,U]=x.useState(null),[W,$]=x.useState(null),[z,ne]=x.useState([]),[se,Q]=x.useState(!1),[ge,ue]=x.useState(!1),[Ce,tt]=x.useState(1),[xe,je]=x.useState(!1),[ae,de]=x.useState([null,null,null,null,null]),[Y,V]=x.useState({open:!1,kind:null,index:null}),[Se,Ee]=x.useState(!1),[nt,Ke]=x.useState(!1),[rt,gt]=x.useState([]),[Pe,Je]=x.useState(!1),[Ze,Ie]=x.useState(""),[Ut,gn]=x.useState(""),[fn,kn]=x.useState(!1),[qr,nn]=x.useState(0),[yn,qt]=x.useState(!1),[hn,Ft]=x.useState([]),[qe,Gr]=x.useState(null),[yr,Nr]=x.useState(0),ti=x.useRef(null),Gt=x.useRef(null),zt=x.useRef(null),vr=x.useRef(!1);x.useEffect(()=>(ht.startSession("velocity"),()=>{ht.endSession()}),[]),x.useEffect(()=>{const q=Tie();q?(s(q.presetIndex??3),A(q.cue||{x:25,y:20}),N(q.ghost||{x:c/2,y:3*u/4-eo}),g(q.unit||"mph"),ne(q.history||[]),f(q.variant||"9"),m(q.snap??!0),de(q.breakSlots||[null,null,null,null,null]),gt(q.leaderboard||[]),gn(q.storedInitials||""),q.tutorialDone||ue(!0)):ue(!0)},[]),x.useEffect(()=>{Cie({presetIndex:i,cue:S,ghost:E,unit:v,history:z,variant:d,snap:h,breakSlots:ae,leaderboard:rt,storedInitials:Ut,tutorialDone:!0})},[i,S,E,v,z,d,h,ae,rt,Ut]),x.useEffect(()=>{const q=setInterval(()=>{nn(Te=>(Te+1)%$c.length)},4e3);return()=>clearInterval(q)},[]),x.useEffect(()=>{A(q=>({x:Gs(q.x,0,c),y:Gs(q.y,0,u/4)})),N(q=>({x:Gs(q.x,0,c),y:Gs(q.y,jo,u-jo)}))},[c,u]);const Wn=x.useMemo(()=>Aie(d,c,u),[d,c,u]),Kt=x.useCallback((q,Te)=>{const Re=Te.x-q.x,pe=Te.y-q.y,we=Math.hypot(Re,pe);if(!we)return null;const ve=Re/we,Ye=pe/we,it=eo;let Pt=1/0,Rt=null,sr=null;for(let or=0;or<Wn.length;or++){const kt=Wn[or],M=kt.x-q.x,L=kt.y-q.y,K=M*ve+L*Ye;if(K<=0)continue;const J=q.x+ve*K,Z=q.y+Ye*K,ce=Math.hypot(kt.x-J,kt.y-Z);if(ce>it)continue;const le=Math.sqrt(it*it-ce*ce),te=K-le;te<=0||te<Pt&&(Pt=te,Rt={x:q.x+ve*te,y:q.y+Ye*te},sr=or)}return Rt?{point:Rt,index:sr}:null},[Wn]),Hn=x.useCallback((q=S,Te=E)=>{const Re=Te.x-q.x,pe=Te.y-q.y,we=Math.hypot(Re,pe);return pe<=0||we<=0?null:we},[S,E]),qn=x.useMemo(()=>{const q=Hn();if(!q)return!1;const Te=(E.x-S.x)/q,Re=(E.y-S.y)/q,pe=Nie({x0:S.x,y0:S.y,dx:Te,dy:Re,W:c,L:u});return!pe||q<=pe+1e-6},[S,E,c,u,Hn]),vn=x.useMemo(()=>{const q=Hn();return{dCG:q?q.toFixed(2):""}},[Hn]),ds=q=>{switch(v){case"ft/s":return(q*3.28084).toFixed(2);case"m/s":return q.toFixed(2);case"kph":return(q*3.6).toFixed(2);default:return(q*2.23693629).toFixed(2)}},Fi=q=>{switch(v){case"ft/s":return(q*1.46667).toFixed(2);case"m/s":return(q*.44704).toFixed(2);case"kph":return(q*1.60934).toFixed(2);default:return q.toFixed(2)}},ni=(q,Te)=>{switch(Te){case"ft/s":return(q*1.46667).toFixed(2);case"m/s":return(q*.44704).toFixed(2);case"kph":return(q*1.60934).toFixed(2);default:return q.toFixed(2)}},To=(q,Te,Re=!1)=>{const pe=q.toUpperCase().slice(0,3),we=Math.min(100,Math.round(Te/25*100)),ve={initials:pe,mph:Te,percentage:we,ts:Date.now()};gt(Ye=>[...Ye,ve].sort((Pt,Rt)=>Rt.percentage-Pt.percentage).slice(0,1e3)),pe.length===3&&gn(pe),kn(!1),Ie(""),Re||e({title:"Added to Leaderboard",description:`${pe} - ${we}%`})},ri=x.useRef([]),[fs,Vi]=x.useState(0),[ii,jr]=x.useState(null),gi=3e3,ma=48e3,kr=(q,Te=!1)=>{if(q.length<20)return Te&&console.log("[DEBUG] Not enough samples:",q.length),null;const Re=2,pe=[];for(let te=0;te<q.length;te++){let ye=0,Ae=0;for(let _e=Math.max(0,te-Re);_e<=Math.min(q.length-1,te+Re);_e++)ye+=q[_e].amplitude*q[_e].amplitude,Ae++;pe.push({time:q[te].time,amplitude:Math.sqrt(ye/Ae)})}let we=0;for(let te=0;te<pe.length;te++)pe[te].amplitude>we&&(we=pe[te].amplitude);if(Te&&console.log("[DEBUG] Max amplitude (smoothed):",we.toFixed(4)),we<.08)return Te&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const ve=80,Ye=450,it=120;let Pt=0,Rt=pe[0].amplitude;for(let te=0;te<pe.length&&!(pe[te].time>80);te++)pe[te].amplitude>Rt&&(Rt=pe[te].amplitude,Pt=te);const sr=pe[Pt].time;Te&&console.log("[DEBUG] First peak at",sr.toFixed(1),"ms, amp:",Rt.toFixed(4));const or=te=>Rt*Math.exp(-te/it),kt=.75;let M=-1,L=1/0,K=-1;for(let te=Pt+1;te<pe.length;te++){const ye=pe[te].time-sr;if(ye<25)continue;if(ye>200)break;const Ae=or(ye),_e=Ae*kt,Me=te>0&&te<pe.length-1&&pe[te].amplitude<=pe[te-1].amplitude&&pe[te].amplitude<=pe[te+1].amplitude;(pe[te].amplitude<_e||Me&&pe[te].amplitude<Ae)&&pe[te].amplitude<L&&(L=pe[te].amplitude,M=te,K=pe[te].time)}if(M===-1){Te&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let te=Rt;for(let ye=Pt+1;ye<pe.length;ye++){const Ae=pe[ye].time-sr;if(!(Ae<25)){if(Ae>200)break;pe[ye].amplitude<te&&(te=pe[ye].amplitude,M=ye,K=pe[ye].time,L=te)}}M!==-1&&L>Rt*.8&&(Te&&console.log("[DEBUG] Valley not deep enough (only",((1-L/Rt)*100).toFixed(1),"% drop)"),M=-1)}if(M===-1)return Te&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(Te){const te=or(K-sr);console.log("[DEBUG] Valley at",K.toFixed(1),"ms, amp:",L.toFixed(4),"(expected decay:",te.toFixed(4),", ratio:",(L/te).toFixed(2),")")}let J=-1,Z=0;const ce=1.3;for(let te=M+1;te<pe.length;te++){const ye=pe[te].time-sr;if(!(ye<ve)){if(ye>Ye)break;pe[te].amplitude>L*ce&&pe[te].amplitude>Z&&(Z=pe[te].amplitude,J=te)}}if(Te&&(J!==-1?console.log("[DEBUG] Second peak at",pe[J].time.toFixed(1),"ms, amp:",Z.toFixed(4),"(",((Z/L-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",ve,"-",Ye,"ms window")),J===-1||Z<we*.1)return Te&&console.log("[DEBUG] Second peak too weak or not found (need >",(we*.1).toFixed(4),")"),null;const le=te=>{let ye=0,Ae=1/0;for(let _e=0;_e<q.length;_e++){const Me=Math.abs(q[_e].time-te);Me<Ae&&(Ae=Me,ye=_e)}return q[ye]};return{first:le(pe[Pt].time),second:le(pe[J].time),valleyTime:K,valleyAmp:L,expectedDecayAtValley:or(K-sr),decayTau:it}},ga=async()=>{const q={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:ma}},Te=await navigator.mediaDevices.getUserMedia(q),Re=new AudioContext({sampleRate:ma});Re.state==="suspended"&&await Re.resume();const pe=Re.createMediaStreamSource(Te),we=Re.createBiquadFilter();we.type="highpass",we.frequency.value=150;const ve=Re.createBiquadFilter();ve.type="lowpass",ve.frequency.value=8e3;const Ye=Re.createAnalyser();Ye.fftSize=2048,pe.connect(we),we.connect(ve),ve.connect(Ye);const it=new Float32Array(Ye.fftSize);ri.current=[];let Pt=null,Rt=null;const sr=.15,or=()=>{if(!vr.current)return;Ye.getFloatTimeDomainData(it);let kt=0;for(let L=0;L<it.length;L++)kt=Math.max(kt,Math.abs(it[L]));const M=performance.now();if(Nr(kt),Pt===null&&kt>sr&&(Pt=M,Rt=M,jr("Recording break..."),yn&&console.log("[DEBUG] Recording triggered at amplitude:",kt.toFixed(4))),Pt!==null){ri.current.push({time:M-Pt,amplitude:kt});const L=M-Rt;if(Vi(Math.min(100,L/gi*100)),L>=gi){vr.current=!1,jr("Analyzing audio..."),yn&&Ft([...ri.current]);const K=kr(ri.current,yn);if(yn&&Gr(K?{first:K.first,second:K.second,valleyTime:K.valleyTime,valleyAmp:K.valleyAmp,expectedDecayAtValley:K.expectedDecayAtValley,decayTau:K.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),K){const J=(K.second.time-K.first.time)/1e3;if(J>=.08&&J<=.45)F(K.first.time/1e3),U(K.second.time/1e3),jr(`Found peaks: ${J.toFixed(4)}s apart`);else{const Z=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 80-450ms)`;zt.current&&(zt.current.stream.getTracks().forEach(ce=>ce.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Vi(0),jr(null),Gt.current&&clearTimeout(Gt.current),e({title:"Detection failed",description:Z,variant:"destructive"})}}else zt.current&&(zt.current.stream.getTracks().forEach(J=>J.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Vi(0),jr(null),Gt.current&&clearTimeout(Gt.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(or)};return requestAnimationFrame(or),{audioCtx:Re,stream:Te}},Co=async()=>{if(!Hn()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}$(null),F(null),U(null),Vi(0),jr(null),O(!0);try{vr.current=!0,zt.current=await ga(),Gt.current&&clearTimeout(Gt.current),Gt.current=setTimeout(()=>{Bi(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(Te){console.error(Te),O(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},Bi=()=>{vr.current=!1,zt.current&&(zt.current.stream.getTracks().forEach(q=>q.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Vi(0),jr(null),Gt.current&&clearTimeout(Gt.current)};x.useEffect(()=>{if(R!==null&&B!==null&&j){const q=Hn()||0,Te=q*Eie,Re=Math.max(.1,B-R),pe=Te/Re,we=pe*2.23693629,ve=Math.min(45,Math.max(5,we)),Ye={raw_mps:pe,mph:Number(ve.toFixed(2)),distanceIn:Number(q.toFixed(1)),deltaT:Number(Re.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:c,L:u},variant:d};ne(it=>[Ye,...it].slice(0,500)),$(Ye),O(!1),Bi(),Q(!0),n==="shark"&&Ut.length===3&&To(Ut,Ye.mph,!0),ht.trackSkillMetric("velocity","break_speed",Ye.mph,{distanceIn:Ye.distanceIn,variant:Ye.variant})}},[R,B,j,S,E,c,u,d,Hn,n,Ut]);const Ln=(q,Te,Re)=>{const pe=Te/Re,ve=Math.round(q/pe)*pe;return Math.abs(q-ve)<=.35&&h?ve:q},ir=()=>{const Te=Math.min(typeof window<"u"?window.innerWidth-48:400,500),pe=Math.min(Te/c,400/u),we=c*pe,ve=u*pe,Ye=S.x*pe+8,it=ve-S.y*pe+8,Pt=E.x*pe+8,Rt=ve-E.y*pe+8,sr=kt=>{var J;kt.preventDefault(),Ke(!0);const M=(J=ti.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const L=Z=>{const ce={x:Z.clientX-M.left,y:Z.clientY-M.top};let le=(ce.x-8)/pe,te=(ve-(ce.y-8))/pe;le=Gs(Ln(le,c,8),0,c),te=Gs(Ln(te,u,8),jo,u-jo);const Ae=Kt(S,{x:le,y:te});if(Ae&&Ae.point){const{point:_e,index:Me}=Ae,pt=Gs(_e.x,0,c),rn=Gs(_e.y,jo,u-jo);N({x:pt,y:rn}),T({x:pt,y:rn,index:Me}),I(Me)}else _&&(N({x:_.x,y:_.y}),I(_.index??null))},K=()=>{Ke(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})},or=kt=>{var J;kt.preventDefault(),Ee(!0);const M=(J=ti.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const L=Z=>{const ce={x:Z.clientX-M.left,y:Z.clientY-M.top};let le=(ce.x-8)/pe,te=(ve-(ce.y-8))/pe;le=Gs(Ln(le,c,8),0,c),te=Gs(Ln(te,u,8),0,u/4),A({x:le,y:te})},K=()=>{Ee(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})};return l.jsxs("svg",{ref:ti,width:we+8*2,height:ve+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[l.jsx("rect",{x:8,y:8,width:we,height:ve,fill:"#03C04A",stroke:qn?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(kt,M)=>(M+1)/8*we+8).map((kt,M)=>l.jsx("line",{x1:kt,x2:kt,y1:8,y2:8+ve,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+M)),Array.from({length:7},(kt,M)=>(M+1)/8*ve+8).map((kt,M)=>l.jsx("line",{x1:8,x2:8+we,y1:kt,y2:kt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+M)),l.jsx("line",{x1:Ye,y1:it,x2:Pt,y2:Rt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Wn.map((kt,M)=>{const L=kt.x*pe+8,K=ve-kt.y*pe+8,J=M===P;return l.jsx("circle",{cx:L,cy:K,r:jo*pe,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},M)}),nt&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:8,y1:Rt,x2:8+we,y2:Rt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),l.jsx("line",{x1:Pt,y1:8,x2:Pt,y2:8+ve,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),Se&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:8,y1:it,x2:8+we,y2:it,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),l.jsx("line",{x1:Ye,y1:8,x2:Ye,y2:8+ve,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),l.jsx("circle",{cx:Pt,cy:Rt,r:jo*pe,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:sr,style:{cursor:"grab"}}),l.jsx("circle",{cx:Ye,cy:it,r:jo*pe,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:or,style:{cursor:"grab"}})]})},H=x.useMemo(()=>Pie(z),[z]),re=q=>V({open:!0,kind:"load",index:q}),Oe=q=>V({open:!0,kind:"save",index:q}),Be=({i:q})=>{const Te=!!ae[q],Re=x.useRef(null),pe=()=>{Re.current=setTimeout(()=>{Oe(q),Re.current=null},520)},we=()=>{Re.current&&(clearTimeout(Re.current),re(q),Re.current=null)};return l.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Te?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:pe,onPointerUp:we,onPointerLeave:()=>Re.current&&clearTimeout(Re.current),"data-testid":`button-slot-${q+1}`,children:["Slot ",q+1]})};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>ue(!0),"data-testid":"button-help",children:l.jsx(Wp,{className:"w-5 h-5"})}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>je(!0),"data-testid":"button-settings",children:l.jsx(aT,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-4",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs(SV,{value:n,onValueChange:r,className:"w-full",children:[l.jsxs(PC,{className:"grid w-full grid-cols-3",children:[l.jsx(ah,{value:"record","data-testid":"tab-record",children:"Record"}),l.jsx(ah,{value:"stats","data-testid":"tab-stats",children:"Stats"}),l.jsxs(ah,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",l.jsx(id,{})]})]}),l.jsxs(lh,{value:"record",className:"space-y-3 mt-3",children:[l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"text-center mb-3",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),l.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[W?ds(W.raw_mps):"--.--.",l.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:v})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),l.jsx(ie,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?Bi:Co,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:ii||"Waiting for sound..."}),l.jsxs("span",{className:"font-mono text-primary",children:[Math.round(fs),"%"]})]}),l.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${fs}%`}})}),yn&&l.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[l.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),l.jsx("span",{className:"text-green-400 font-mono",children:yr.toFixed(4)})]}),l.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-50 ${yr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,yr*100)}%`}})}),l.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),yn&&hn.length>0&&!j&&l.jsxs(ot,{className:"p-3 bg-black/80 border-green-500/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const q={samples:hn,peaks:qe,timestamp:new Date().toISOString(),settings:{presetKey:o,variant:d,snap:h}},Te=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),Re=URL.createObjectURL(Te),pe=document.createElement("a");pe.href=Re,pe.download=`break-audio-${Date.now()}.json`,pe.click(),URL.revokeObjectURL(Re),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),l.jsx(ie,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{Ft([]),Gr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),l.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[l.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",hn.length," | Duration: ",hn.length>0?(hn[hn.length-1].time/1e3).toFixed(2):0,"s"]}),l.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[l.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(q=>l.jsxs("g",{children:[l.jsx("line",{x1:`${q/3e3*100}%`,y1:"0",x2:`${q/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),l.jsxs("text",{x:`${q/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[q,"ms"]})]},q)),l.jsx("polyline",{points:hn.slice(0,500).map((q,Te)=>{const Re=Te/500*100,pe=40-q.amplitude*35;return`${Re}%,${pe}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(qe==null?void 0:qe.first)&&l.jsx("circle",{cx:`${qe.first.time/3e3*100}%`,cy:40-qe.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(qe==null?void 0:qe.second)&&l.jsx("circle",{cx:`${qe.second.time/3e3*100}%`,cy:40-qe.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(qe==null?void 0:qe.valleyTime)&&qe.valleyTime>0&&qe.valleyAmp&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:`${qe.valleyTime/3e3*100}%`,y1:"0",x2:`${qe.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),l.jsx("circle",{cx:`${qe.valleyTime/3e3*100}%`,cy:40-qe.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),l.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[l.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),l.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),l.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[l.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[l.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),qe!=null&&qe.first?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",qe.first.time.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",qe.first.amplitude.toFixed(4)]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]}),l.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[l.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),qe!=null&&qe.valleyTime&&qe.valleyAmp?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",qe.valleyTime.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",qe.valleyAmp.toFixed(4)]}),qe.expectedDecayAtValley&&l.jsxs("div",{className:"text-[9px]",children:["Expected: ",qe.expectedDecayAtValley.toFixed(4)]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]}),l.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[l.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),qe!=null&&qe.second?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",qe.second.time.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",qe.second.amplitude.toFixed(4)]}),l.jsxs("div",{children:["T: ",(qe.second.time-(((Le=qe.first)==null?void 0:Le.time)||0)).toFixed(1),"ms"]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),l.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[l.jsxs("div",{children:["Decay tau: ",(qe==null?void 0:qe.decayTau)||120,"ms (reverb tolerance)"]}),l.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),l.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),l.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),l.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),l.jsx(ot,{className:"p-3",children:l.jsxs(W2,{open:y,onOpenChange:b,children:[l.jsxs(H2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[vn.dCG,'"  ',d,"-ball"]})]}),l.jsx(Rh,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),l.jsxs(q2,{className:"pt-2",children:[l.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(q=>l.jsxs(ie,{variant:d===q?"default":"outline",size:"sm",onClick:()=>f(q),"data-testid":`button-variant-${q}`,children:[q,"-ball"]},q))}),l.jsx(ir,{}),!qn&&l.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),l.jsx(nv,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",children:["Presets ",l.jsx(id,{})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(q=>l.jsx(Be,{i:q},q))})]})})]}),l.jsx(lh,{value:"stats",className:"space-y-3 mt-3",children:l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),l.jsx("div",{className:"text-lg font-bold",children:H?Fi(H.high):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),l.jsx("div",{className:"text-lg font-bold",children:H?Fi(H.avg):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),l.jsx("div",{className:"text-lg font-bold",children:H?Fi(H.low):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[z.length," breaks recorded"]}),z.length>0&&l.jsxs(ie,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>ne([]),"data-testid":"button-clear-history",children:[l.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),l.jsx(lh,{value:"shark",className:"space-y-3 mt-3",children:l.jsxs(nv,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),l.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:v})]}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),l.jsx("stop",{offset:"50%",stopColor:"#eab308"}),l.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),l.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),l.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,W?W.mph/25*100:0)*2.2} 220`}),(()=>{const Re=(-180+Math.min(100,W?W.mph/25*100:0)/100*180)*Math.PI/180,pe=90,we=90,ve=55,Ye=pe+ve*Math.cos(Re),it=we+ve*Math.sin(Re);return l.jsxs("g",{children:[l.jsx("line",{x1:pe,y1:we,x2:Ye,y2:it,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:pe,cy:we,r:"6",fill:"hsl(var(--foreground))"})]})})(),l.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[W?Math.min(100,Math.round(W.mph/25*100)):0,"%"]})]})}),l.jsx(ie,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?Bi:Co,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),l.jsx(ot,{className:"p-3",children:l.jsxs(W2,{open:y,onOpenChange:b,children:[l.jsxs(H2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[vn.dCG,'"  ',d,"-ball"]})]}),l.jsx(Rh,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),l.jsx(q2,{className:"pt-2",children:l.jsx(ir,{})})]})}),W&&l.jsxs(ie,{variant:"outline",className:"w-full",onClick:()=>kn(!0),"data-testid":"button-add-to-leaderboard",children:[l.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),l.jsx(ot,{className:"p-3",children:l.jsx(Eu,{type:"single",collapsible:!0,value:Pe?"leaderboard":"",onValueChange:q=>Je(q==="leaderboard"),children:l.jsxs(Ai,{value:"leaderboard",className:"border-none",children:[l.jsx(Pi,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mo,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",rt.length,")"]})]})}),l.jsxs(Ni,{children:[rt.length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):l.jsx("div",{className:"max-h-64 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-card",children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),l.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),l.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),l.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:l.jsx("span",{className:"text-primary",children:$c[qr]})})]})}),l.jsx("tbody",{children:rt.map((q,Te)=>l.jsxs("tr",{className:`border-b border-border/50 ${Te<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Te}`,children:[l.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Te===0&&l.jsx("span",{className:"text-yellow-500",children:""}),Te===1&&l.jsx("span",{className:"text-gray-400",children:""}),Te===2&&l.jsx("span",{className:"text-amber-600",children:""}),Te>2&&Te+1]}),l.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:q.initials}),l.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[q.percentage,"%"]}),l.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ni(q.mph,$c[qr])})]},`${q.initials}-${q.ts}`))})]})}),rt.length>0&&l.jsx(ie,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&gt([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),l.jsx(Zn,{open:ge,onOpenChange:ue,children:l.jsxs(Bn,{className:"max-w-md",children:[l.jsx(Mn,{children:l.jsx(jn,{children:"Welcome to CueMaster: Velocity"})}),l.jsxs("div",{className:"space-y-4",children:[Ce===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",l.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",l.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),l.jsx(ie,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),Ce===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",l.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",l.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),Ce===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",l.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),Ce===4&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),l.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",l.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>tt(q=>Math.max(1,q-1)),disabled:Ce===1,children:"Back"}),l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>tt(q=>Math.min(4,q+1)),disabled:Ce===4,children:"Next"})]}),l.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(q=>l.jsx("div",{className:`w-2 h-2 rounded-full ${q===Ce?"bg-primary":"bg-muted"}`},q))}),l.jsx(ie,{size:"sm",onClick:()=>ue(!1),children:Ce===4?"Finish":"Skip"})]})]})}),l.jsx(Zn,{open:se,onOpenChange:Q,children:l.jsxs(Bn,{className:"max-w-md",children:[l.jsx(Mn,{children:l.jsx(jn,{children:"Confirm First Contact"})}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),l.jsx(ir,{}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(ie,{variant:"outline",onClick:()=>Q(!1),children:"Looks Right"}),l.jsx(ie,{onClick:()=>Q(!1),children:"Confirm"})]})]})}),l.jsx(Zn,{open:Y.open,onOpenChange:q=>V({...Y,open:q}),children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsx(Mn,{children:l.jsx(jn,{children:Y.kind==="load"?"Load Preset":"Save Preset"})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Y.kind==="load"?ae[Y.index]?"Load this saved break setup?":"This slot is empty.":ae[Y.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(ie,{variant:"outline",onClick:()=>V({open:!1,kind:null,index:null}),children:"Cancel"}),l.jsx(ie,{onClick:()=>{if(Y.kind==="load"){const q=ae[Y.index];q&&(A(q.cue),N(q.ghost),f(q.variant),s(q.presetIndex),m(q.snap),e({title:"Preset loaded"}))}else{const q={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};de(Te=>{const Re=[...Te];return Re[Y.index]=q,Re}),e({title:"Preset saved"})}V({open:!1,kind:null,index:null})},disabled:Y.kind==="load"&&!ae[Y.index],children:Y.kind==="load"?"Load":ae[Y.index]?"Overwrite":"Save"})]})]})}),l.jsx(Zn,{open:xe,onOpenChange:je,children:l.jsxs(Bn,{className:"max-w-md",children:[l.jsx(Mn,{children:l.jsx(jn,{children:"Settings"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ht,{children:"Snap to Grid"}),l.jsx(Vr,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"mb-2 block",children:"Table Size"}),l.jsx("div",{className:"space-y-1",children:K2.map((q,Te)=>l.jsxs("button",{onClick:()=>s(Te),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Te===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Te}`,children:[l.jsx("span",{className:"font-medium",children:q}),l.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Qg[q].W,"",Qg[q].L," in"]})]},q))})]}),l.jsx(ie,{variant:"outline",className:"w-full",onClick:()=>ue(!0),children:"Open Tutorial"}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{children:[l.jsx(Ht,{children:"Debug Mode"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),l.jsx(Vr,{checked:yn,onCheckedChange:qt,"data-testid":"switch-debug"})]})]})]})}),l.jsx(Zn,{open:fn,onOpenChange:kn,children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsxs(Mn,{children:[l.jsx(jn,{children:"Enter Your Initials"}),l.jsx(ks,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Ht,{htmlFor:"initials",children:"Initials (3 letters)"}),l.jsx(fr,{id:"initials",value:Ze,onChange:q=>Ie(q.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),W&&l.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),l.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(W.mph/25*100)),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.mph.toFixed(2)," mph"]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ie,{variant:"outline",onClick:()=>kn(!1),children:"Cancel"}),l.jsxs(ie,{onClick:()=>W&&To(Ze,W.mph),disabled:Ze.length!==3,"data-testid":"button-submit-initials",children:[l.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var kie=Array.isArray,mi=kie,Iie=typeof Sm=="object"&&Sm&&Sm.Object===Object&&Sm,r6=Iie,Oie=r6,Rie=typeof self=="object"&&self&&self.Object===Object&&self,Mie=Oie||Rie||Function("return this")(),Eo=Mie,Die=Eo,Lie=Die.Symbol,rm=Lie,Y2=rm,i6=Object.prototype,$ie=i6.hasOwnProperty,Fie=i6.toString,Sf=Y2?Y2.toStringTag:void 0;function Vie(t){var e=$ie.call(t,Sf),n=t[Sf];try{t[Sf]=void 0;var r=!0}catch{}var i=Fie.call(t);return r&&(e?t[Sf]=n:delete t[Sf]),i}var Bie=Vie,Uie=Object.prototype,zie=Uie.toString;function Wie(t){return zie.call(t)}var Hie=Wie,X2=rm,qie=Bie,Gie=Hie,Kie="[object Null]",Yie="[object Undefined]",Q2=X2?X2.toStringTag:void 0;function Xie(t){return t==null?t===void 0?Yie:Kie:Q2&&Q2 in Object(t)?qie(t):Gie(t)}var fa=Xie;function Qie(t){return t!=null&&typeof t=="object"}var ha=Qie,Jie=fa,Zie=ha,ese="[object Symbol]";function tse(t){return typeof t=="symbol"||Zie(t)&&Jie(t)==ese}var Hd=tse,nse=mi,rse=Hd,ise=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sse=/^\w*$/;function ose(t,e){if(nse(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||rse(t)?!0:sse.test(t)||!ise.test(t)||e!=null&&t in Object(e)}var UC=ose;function ase(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xl=ase;const qd=Jt(xl);var lse=fa,cse=xl,use="[object AsyncFunction]",dse="[object Function]",fse="[object GeneratorFunction]",hse="[object Proxy]";function pse(t){if(!cse(t))return!1;var e=lse(t);return e==dse||e==fse||e==use||e==hse}var zC=pse;const Et=Jt(zC);var mse=Eo,gse=mse["__core-js_shared__"],yse=gse,cw=yse,J2=function(){var t=/[^.]+$/.exec(cw&&cw.keys&&cw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vse(t){return!!J2&&J2 in t}var xse=vse,bse=Function.prototype,wse=bse.toString;function Sse(t){if(t!=null){try{return wse.call(t)}catch{}try{return t+""}catch{}}return""}var s6=Sse,_se=zC,Ese=xse,Tse=xl,Cse=s6,Ase=/[\\^$.*+?()[\]{}|]/g,Pse=/^\[object .+?Constructor\]$/,Nse=Function.prototype,jse=Object.prototype,kse=Nse.toString,Ise=jse.hasOwnProperty,Ose=RegExp("^"+kse.call(Ise).replace(Ase,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rse(t){if(!Tse(t)||Ese(t))return!1;var e=_se(t)?Ose:Pse;return e.test(Cse(t))}var Mse=Rse;function Dse(t,e){return t==null?void 0:t[e]}var Lse=Dse,$se=Mse,Fse=Lse;function Vse(t,e){var n=Fse(t,e);return $se(n)?n:void 0}var Nc=Vse,Bse=Nc,Use=Bse(Object,"create"),s0=Use,Z2=s0;function zse(){this.__data__=Z2?Z2(null):{},this.size=0}var Wse=zse;function Hse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qse=Hse,Gse=s0,Kse="__lodash_hash_undefined__",Yse=Object.prototype,Xse=Yse.hasOwnProperty;function Qse(t){var e=this.__data__;if(Gse){var n=e[t];return n===Kse?void 0:n}return Xse.call(e,t)?e[t]:void 0}var Jse=Qse,Zse=s0,eoe=Object.prototype,toe=eoe.hasOwnProperty;function noe(t){var e=this.__data__;return Zse?e[t]!==void 0:toe.call(e,t)}var roe=noe,ioe=s0,soe="__lodash_hash_undefined__";function ooe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ioe&&e===void 0?soe:e,this}var aoe=ooe,loe=Wse,coe=qse,uoe=Jse,doe=roe,foe=aoe;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=loe;Gd.prototype.delete=coe;Gd.prototype.get=uoe;Gd.prototype.has=doe;Gd.prototype.set=foe;var hoe=Gd;function poe(){this.__data__=[],this.size=0}var moe=poe;function goe(t,e){return t===e||t!==t&&e!==e}var WC=goe,yoe=WC;function voe(t,e){for(var n=t.length;n--;)if(yoe(t[n][0],e))return n;return-1}var o0=voe,xoe=o0,boe=Array.prototype,woe=boe.splice;function Soe(t){var e=this.__data__,n=xoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():woe.call(e,n,1),--this.size,!0}var _oe=Soe,Eoe=o0;function Toe(t){var e=this.__data__,n=Eoe(e,t);return n<0?void 0:e[n][1]}var Coe=Toe,Aoe=o0;function Poe(t){return Aoe(this.__data__,t)>-1}var Noe=Poe,joe=o0;function koe(t,e){var n=this.__data__,r=joe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Ioe=koe,Ooe=moe,Roe=_oe,Moe=Coe,Doe=Noe,Loe=Ioe;function Kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kd.prototype.clear=Ooe;Kd.prototype.delete=Roe;Kd.prototype.get=Moe;Kd.prototype.has=Doe;Kd.prototype.set=Loe;var a0=Kd,$oe=Nc,Foe=Eo,Voe=$oe(Foe,"Map"),HC=Voe,ek=hoe,Boe=a0,Uoe=HC;function zoe(){this.size=0,this.__data__={hash:new ek,map:new(Uoe||Boe),string:new ek}}var Woe=zoe;function Hoe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var qoe=Hoe,Goe=qoe;function Koe(t,e){var n=t.__data__;return Goe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var l0=Koe,Yoe=l0;function Xoe(t){var e=Yoe(this,t).delete(t);return this.size-=e?1:0,e}var Qoe=Xoe,Joe=l0;function Zoe(t){return Joe(this,t).get(t)}var eae=Zoe,tae=l0;function nae(t){return tae(this,t).has(t)}var rae=nae,iae=l0;function sae(t,e){var n=iae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oae=sae,aae=Woe,lae=Qoe,cae=eae,uae=rae,dae=oae;function Yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yd.prototype.clear=aae;Yd.prototype.delete=lae;Yd.prototype.get=cae;Yd.prototype.has=uae;Yd.prototype.set=dae;var qC=Yd,o6=qC,fae="Expected a function";function GC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fae);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(GC.Cache||o6),n}GC.Cache=o6;var a6=GC;const hae=Jt(a6);var pae=a6,mae=500;function gae(t){var e=pae(t,function(r){return n.size===mae&&n.clear(),r}),n=e.cache;return e}var yae=gae,vae=yae,xae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bae=/\\(\\)?/g,wae=vae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xae,function(n,r,i,s){e.push(i?s.replace(bae,"$1"):r||n)}),e}),Sae=wae;function _ae(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var KC=_ae,tk=rm,Eae=KC,Tae=mi,Cae=Hd,Aae=1/0,nk=tk?tk.prototype:void 0,rk=nk?nk.toString:void 0;function l6(t){if(typeof t=="string")return t;if(Tae(t))return Eae(t,l6)+"";if(Cae(t))return rk?rk.call(t):"";var e=t+"";return e=="0"&&1/t==-Aae?"-0":e}var Pae=l6,Nae=Pae;function jae(t){return t==null?"":Nae(t)}var c6=jae,kae=mi,Iae=UC,Oae=Sae,Rae=c6;function Mae(t,e){return kae(t)?t:Iae(t,e)?[t]:Oae(Rae(t))}var u6=Mae,Dae=Hd,Lae=1/0;function $ae(t){if(typeof t=="string"||Dae(t))return t;var e=t+"";return e=="0"&&1/t==-Lae?"-0":e}var c0=$ae,Fae=u6,Vae=c0;function Bae(t,e){e=Fae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Vae(e[n++])];return n&&n==r?t:void 0}var YC=Bae,Uae=YC;function zae(t,e,n){var r=t==null?void 0:Uae(t,e);return r===void 0?n:r}var d6=zae;const ts=Jt(d6);function Wae(t){return t==null}var Hae=Wae;const wt=Jt(Hae);var qae=fa,Gae=mi,Kae=ha,Yae="[object String]";function Xae(t){return typeof t=="string"||!Gae(t)&&Kae(t)&&qae(t)==Yae}var Qae=Xae;const yc=Jt(Qae);var f6={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=Symbol.for("react.element"),QC=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),Jae=Symbol.for("react.server_context"),m0=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),Zae=Symbol.for("react.offscreen"),h6;h6=Symbol.for("react.module.reference");function cs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XC:switch(t=t.type,t){case u0:case f0:case d0:case g0:case y0:return t;default:switch(t=t&&t.$$typeof,t){case Jae:case p0:case m0:case x0:case v0:case h0:return t;default:return e}}case QC:return e}}}Bt.ContextConsumer=p0;Bt.ContextProvider=h0;Bt.Element=XC;Bt.ForwardRef=m0;Bt.Fragment=u0;Bt.Lazy=x0;Bt.Memo=v0;Bt.Portal=QC;Bt.Profiler=f0;Bt.StrictMode=d0;Bt.Suspense=g0;Bt.SuspenseList=y0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return cs(t)===p0};Bt.isContextProvider=function(t){return cs(t)===h0};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XC};Bt.isForwardRef=function(t){return cs(t)===m0};Bt.isFragment=function(t){return cs(t)===u0};Bt.isLazy=function(t){return cs(t)===x0};Bt.isMemo=function(t){return cs(t)===v0};Bt.isPortal=function(t){return cs(t)===QC};Bt.isProfiler=function(t){return cs(t)===f0};Bt.isStrictMode=function(t){return cs(t)===d0};Bt.isSuspense=function(t){return cs(t)===g0};Bt.isSuspenseList=function(t){return cs(t)===y0};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u0||t===f0||t===d0||t===g0||t===y0||t===Zae||typeof t=="object"&&t!==null&&(t.$$typeof===x0||t.$$typeof===v0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===m0||t.$$typeof===h6||t.getModuleId!==void 0)};Bt.typeOf=cs;f6.exports=Bt;var ele=f6.exports,tle=fa,nle=ha,rle="[object Number]";function ile(t){return typeof t=="number"||nle(t)&&tle(t)==rle}var p6=ile;const sle=Jt(p6);var ole=p6;function ale(t){return ole(t)&&t!=+t}var lle=ale;const im=Jt(lle);var Is=function(e){return e===0?0:e>0?1:-1},Ul=function(e){return yc(e)&&e.indexOf("%")===e.length-1},ke=function(e){return sle(e)&&!im(e)},cle=function(e){return wt(e)},tr=function(e){return ke(e)||yc(e)},ule=0,sm=function(e){var n=++ule;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!yc(e))return r;var s;if(Ul(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return im(s)&&(s=r),i&&s>n&&(s=n),s},qc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},dle=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Cs=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function rv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ts(r,e))===n})}var fle=function(e,n){return ke(e)&&ke(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function _S(t){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(t)}var hle=["viewBox","children"],ple=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],uw={svg:hle,polygon:ik,polyline:ik},JC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!qd(r))return null;var i={};return Object.keys(r).forEach(function(s){JC.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},mle=function(e,n,r){return function(i){return e(n,r,i),null}},sv=function(e,n,r){if(!qd(e)||_S(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];JC.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=mle(o,n,r))}),i},gle=["children"],yle=["children"];function sk(t,e){if(t==null)return{};var n=vle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ES(t){"@babel/helpers - typeof";return ES=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ES(t)}var ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ak=null,dw=null,ZC=function t(e){if(e===ak&&Array.isArray(dw))return dw;var n=[];return x.Children.forEach(e,function(r){wt(r)||(ele.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),dw=n,ak=e,n};function ns(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return qo(i)}):r=[qo(e)],ZC(t).forEach(function(i){var s=ts(i,"type.displayName")||ts(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ti(t,e){var n=ns(t,e);return n&&n[0]}var lk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},xle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ble=function(e){return e&&e.type&&yc(e.type)&&xle.indexOf(e.type)>=0},wle=function(e){return e&&ES(e)==="object"&&"clipDot"in e},Sle=function(e,n,r,i){var s,o=(s=uw==null?void 0:uw[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Et(e)&&(i&&o.includes(n)||ple.includes(n))||r&&JC.includes(n)},jt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!qd(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Sle((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},TS=function t(e,n){if(e===n)return!0;var r=x.Children.count(e);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ck(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!ck(s,o))return!1}return!0},ck=function(e,n){if(wt(e)&&wt(n))return!0;if(!wt(e)&&!wt(n)){var r=e.props||{},i=r.children,s=sk(r,gle),o=n.props||{},a=o.children,c=sk(o,yle);return i&&a?Tu(s,c)&&TS(i,a):!i&&!a?Tu(s,c):!1}return!1},uk=function(e,n){var r=[],i={};return ZC(e).forEach(function(s,o){if(ble(s))r.push(s);else if(s){var a=qo(s.type),c=n[a]||{},u=c.handler,d=c.once;if(u&&(!d||!i[a])){var f=u(s,a,o);r.push(f),i[a]=!0}}}),r},_le=function(e){var n=e&&e.type;return n&&ok[n]?ok[n]:null},Ele=function(e,n){return ZC(n).indexOf(e)},Tle=["children","width","height","viewBox","className","style","title","desc"];function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(this,arguments)}function Cle(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=Cle(t,Tle),d=i||{width:n,height:r,x:0,y:0},f=At("recharts-surface",s);return G.createElement("svg",CS({},jt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),G.createElement("title",null,a),G.createElement("desc",null,c),e)}var Ple=["children","className"];function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function Nle(t,e){if(t==null)return{};var n=jle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dn=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=Nle(t,Ple),s=At("recharts-layer",r);return G.createElement("g",PS({className:s},jt(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function kle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Ile=kle,Ole=Ile;function Rle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ole(t,e,n)}var Mle=Rle,Dle="\\ud800-\\udfff",Lle="\\u0300-\\u036f",$le="\\ufe20-\\ufe2f",Fle="\\u20d0-\\u20ff",Vle=Lle+$le+Fle,Ble="\\ufe0e\\ufe0f",Ule="\\u200d",zle=RegExp("["+Ule+Dle+Vle+Ble+"]");function Wle(t){return zle.test(t)}var m6=Wle;function Hle(t){return t.split("")}var qle=Hle,g6="\\ud800-\\udfff",Gle="\\u0300-\\u036f",Kle="\\ufe20-\\ufe2f",Yle="\\u20d0-\\u20ff",Xle=Gle+Kle+Yle,Qle="\\ufe0e\\ufe0f",Jle="["+g6+"]",NS="["+Xle+"]",jS="\\ud83c[\\udffb-\\udfff]",Zle="(?:"+NS+"|"+jS+")",y6="[^"+g6+"]",v6="(?:\\ud83c[\\udde6-\\uddff]){2}",x6="[\\ud800-\\udbff][\\udc00-\\udfff]",ece="\\u200d",b6=Zle+"?",w6="["+Qle+"]?",tce="(?:"+ece+"(?:"+[y6,v6,x6].join("|")+")"+w6+b6+")*",nce=w6+b6+tce,rce="(?:"+[y6+NS+"?",NS,v6,x6,Jle].join("|")+")",ice=RegExp(jS+"(?="+jS+")|"+rce+nce,"g");function sce(t){return t.match(ice)||[]}var oce=sce,ace=qle,lce=m6,cce=oce;function uce(t){return lce(t)?cce(t):ace(t)}var dce=uce,fce=Mle,hce=m6,pce=dce,mce=c6;function gce(t){return function(e){e=mce(e);var n=hce(e)?pce(e):void 0,r=n?n[0]:e.charAt(0),i=n?fce(n,1).join(""):e.slice(1);return r[t]()+i}}var yce=gce,vce=yce,xce=vce("toUpperCase"),bce=xce;const b0=Jt(bce);function en(t){return function(){return t}}const S6=Math.cos,ov=Math.sin,Us=Math.sqrt,av=Math.PI,w0=2*av,kS=Math.PI,IS=2*kS,Il=1e-6,wce=IS-Il;function _6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_6:Sce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=r-e,u=i-n,d=o-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Il)if(!(Math.abs(f*c-u*d)>Il)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,v=i-a,g=c*c+u*u,y=m*m+v*v,b=Math.sqrt(g),w=Math.sqrt(h),S=s*Math.tan((kS-Math.acos((g+h-y)/(2*b*w)))/2),A=S/w,E=S/b;Math.abs(A-1)>Il&&this._append`L${e+A*d},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Il||Math.abs(this._y1-d)>Il)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%IS+IS),h>wce?this._append`A${r},${r},0,1,${f},${e-a},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Il&&this._append`A${r},${r},0,${+(h>=kS)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ce(e)}function tA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function S0(t){return new E6(t)}function T6(t){return t[0]}function C6(t){return t[1]}function A6(t,e){var n=en(!0),r=null,i=S0,s=null,o=eA(a);t=typeof t=="function"?t:t===void 0?T6:en(t),e=typeof e=="function"?e:e===void 0?C6:en(e);function a(c){var u,d=(c=tA(c)).length,f,h=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:en(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:en(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),a):r},a}function sg(t,e,n){var r=null,i=en(!0),s=null,o=S0,a=null,c=eA(u);t=typeof t=="function"?t:t===void 0?T6:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?C6:en(+n);function u(f){var h,m,v,g=(f=tA(f)).length,y,b=!1,w,S=new Array(g),A=new Array(g);for(s==null&&(a=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===b)if(b=!b)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=m;--v)a.point(S[v],A[v]);a.lineEnd(),a.areaEnd()}b&&(S[h]=+t(y,h,f),A[h]=+e(y,h,f),a.point(r?+r(y,h,f):S[h],n?+n(y,h,f):A[h]))}if(w)return a=null,w+""||null}function d(){return A6().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:en(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:en(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:en(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),u):s},u}class P6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ece(t){return new P6(t,!0)}function Tce(t){return new P6(t,!1)}const nA={draw(t,e){const n=Us(e/av);t.moveTo(n,0),t.arc(0,0,n,0,w0)}},Cce={draw(t,e){const n=Us(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},N6=Us(1/3),Ace=N6*2,Pce={draw(t,e){const n=Us(e/Ace),r=n*N6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nce={draw(t,e){const n=Us(e),r=-n/2;t.rect(r,r,n,n)}},jce=.8908130915292852,j6=ov(av/10)/ov(7*av/10),kce=ov(w0/10)*j6,Ice=-S6(w0/10)*j6,Oce={draw(t,e){const n=Us(e*jce),r=kce*n,i=Ice*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=w0*s/5,a=S6(o),c=ov(o);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},fw=Us(3),Rce={draw(t,e){const n=-Us(e/(fw*3));t.moveTo(0,n*2),t.lineTo(-fw*n,-n),t.lineTo(fw*n,-n),t.closePath()}},zi=-.5,Wi=Us(3)/2,OS=1/Us(12),Mce=(OS/2+1)*3,Dce={draw(t,e){const n=Us(e/Mce),r=n/2,i=n*OS,s=r,o=n*OS+n,a=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(zi*r-Wi*i,Wi*r+zi*i),t.lineTo(zi*s-Wi*o,Wi*s+zi*o),t.lineTo(zi*a-Wi*c,Wi*a+zi*c),t.lineTo(zi*r+Wi*i,zi*i-Wi*r),t.lineTo(zi*s+Wi*o,zi*o-Wi*s),t.lineTo(zi*a+Wi*c,zi*c-Wi*a),t.closePath()}};function Lce(t,e){let n=null,r=eA(i);t=typeof t=="function"?t:en(t||nA),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:en(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:en(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function lv(){}function cv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k6(t){this._context=t}k6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ce(t){return new k6(t)}function I6(t){this._context=t}I6.prototype={areaStart:lv,areaEnd:lv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fce(t){return new I6(t)}function O6(t){this._context=t}O6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vce(t){return new O6(t)}function R6(t){this._context=t}R6.prototype={areaStart:lv,areaEnd:lv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bce(t){return new R6(t)}function dk(t){return t<0?-1:1}function fk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(dk(s)+dk(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function hk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hw(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function uv(t){this._context=t}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hw(this,this._t0,hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hw(this,hk(this,n=fk(this,t,e)),n);break;default:hw(this,this._t0,n=fk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function M6(t){this._context=new D6(t)}(M6.prototype=Object.create(uv.prototype)).point=function(t,e){uv.prototype.point.call(this,e,t)};function D6(t){this._context=t}D6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Uce(t){return new uv(t)}function zce(t){return new M6(t)}function L6(t){this._context=t}L6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pk(t),i=pk(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pk(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Wce(t){return new L6(t)}function _0(t,e){this._context=t,this._t=e}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hce(t){return new _0(t,.5)}function qce(t){return new _0(t,0)}function Gce(t){return new _0(t,1)}function sd(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function RS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Kce(t,e){return t[e]}function Yce(t){const e=[];return e.key=t,e}function Xce(){var t=en([]),e=RS,n=sd,r=Kce;function i(s){var o=Array.from(t.apply(this,arguments),Yce),a,c=o.length,u=-1,d;for(const f of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+r(f,o[a].key,u,s)]).data=f;for(a=0,d=tA(e(o));a<c;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:en(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:en(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?RS:typeof s=="function"?s:en(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??sd,i):n},i}function Qce(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}sd(t,e)}}function Jce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}sd(t,e)}}function Zce(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,c=0,u=0;a<o;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<a;++v){var g=t[e[v]],y=g[r][1]||0,b=g[r-1][1]||0;m+=y-b}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,sd(t,e)}}function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}var eue=["type","size","sizeType"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return Xh(e)=="symbol"?e:e+""}function rue(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iue(t,e){if(t==null)return{};var n=sue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $6={symbolCircle:nA,symbolCross:Cce,symbolDiamond:Pce,symbolSquare:Nce,symbolStar:Oce,symbolTriangle:Rce,symbolWye:Dce},oue=Math.PI/180,aue=function(e){var n="symbol".concat(b0(e));return $6[n]||nA},lue=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cue=function(e,n){$6["symbol".concat(b0(e))]=n},rA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=iue(e,eue),u=gk(gk({},c),{},{type:r,size:s,sizeType:a}),d=function(){var y=aue(r),b=Lce().type(y).size(lue(s,a,r));return b()},f=u.className,h=u.cx,m=u.cy,v=jt(u,!0);return h===+h&&m===+m&&s===+s?G.createElement("path",MS({},v,{className:At("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};rA.registerSymbol=cue;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(this,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V6(r.key),r)}}function hue(t,e,n){return e&&fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=dv(e),mue(t,F6()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function mue(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(t)}function gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F6=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LS(t,e)}function Qh(t,e,n){return e=V6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6(t){var e=vue(t,"string");return od(e)=="symbol"?e:e+""}function vue(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hi=32,iA=function(t){function e(){return due(this,e),pue(this,e,arguments)}return yue(e,t),hue(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Hi/2,o=Hi/6,a=Hi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Hi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Hi,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hi/8,"h").concat(Hi,"v").concat(Hi*3/4,"h").concat(-Hi,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var u=uue({},r);return delete u.legendIcon,G.cloneElement(r.legendIcon,u)}return G.createElement(rA,{fill:c,cx:s,cy:s,size:Hi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Hi,height:Hi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var g=m.formatter||c,y=At(Qh(Qh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Et(m.value)?null:m.value;ec(!Et(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return G.createElement("li",DS({className:y,style:f,key:"legend-item-".concat(v)},sv(r.props,m,v)),G.createElement(AS,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,m,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(x.PureComponent);Qh(iA,"displayName","Legend");Qh(iA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xue=a0;function bue(){this.__data__=new xue,this.size=0}var wue=bue;function Sue(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _ue=Sue;function Eue(t){return this.__data__.get(t)}var Tue=Eue;function Cue(t){return this.__data__.has(t)}var Aue=Cue,Pue=a0,Nue=HC,jue=qC,kue=200;function Iue(t,e){var n=this.__data__;if(n instanceof Pue){var r=n.__data__;if(!Nue||r.length<kue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jue(r)}return n.set(t,e),this.size=n.size,this}var Oue=Iue,Rue=a0,Mue=wue,Due=_ue,Lue=Tue,$ue=Aue,Fue=Oue;function Xd(t){var e=this.__data__=new Rue(t);this.size=e.size}Xd.prototype.clear=Mue;Xd.prototype.delete=Due;Xd.prototype.get=Lue;Xd.prototype.has=$ue;Xd.prototype.set=Fue;var B6=Xd,Vue="__lodash_hash_undefined__";function Bue(t){return this.__data__.set(t,Vue),this}var Uue=Bue;function zue(t){return this.__data__.has(t)}var Wue=zue,Hue=qC,que=Uue,Gue=Wue;function fv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hue;++e<n;)this.add(t[e])}fv.prototype.add=fv.prototype.push=que;fv.prototype.has=Gue;var U6=fv;function Kue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var z6=Kue;function Yue(t,e){return t.has(e)}var W6=Yue,Xue=U6,Que=z6,Jue=W6,Zue=1,ede=2;function tde(t,e,n,r,i,s){var o=n&Zue,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&ede?new Xue:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],g=e[f];if(r)var y=o?r(g,v,f,e,t,s):r(v,g,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Que(e,function(b,w){if(!Jue(m,w)&&(v===b||i(v,b,n,r,s)))return m.push(w)})){h=!1;break}}else if(!(v===g||i(v,g,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var H6=tde,nde=Eo,rde=nde.Uint8Array,ide=rde;function sde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ode=sde;function ade(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var sA=ade,vk=rm,xk=ide,lde=WC,cde=H6,ude=ode,dde=sA,fde=1,hde=2,pde="[object Boolean]",mde="[object Date]",gde="[object Error]",yde="[object Map]",vde="[object Number]",xde="[object RegExp]",bde="[object Set]",wde="[object String]",Sde="[object Symbol]",_de="[object ArrayBuffer]",Ede="[object DataView]",bk=vk?vk.prototype:void 0,pw=bk?bk.valueOf:void 0;function Tde(t,e,n,r,i,s,o){switch(n){case Ede:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _de:return!(t.byteLength!=e.byteLength||!s(new xk(t),new xk(e)));case pde:case mde:case vde:return lde(+t,+e);case gde:return t.name==e.name&&t.message==e.message;case xde:case wde:return t==e+"";case yde:var a=ude;case bde:var c=r&fde;if(a||(a=dde),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=hde,o.set(t,e);var d=cde(a(t),a(e),r,i,s,o);return o.delete(t),d;case Sde:if(pw)return pw.call(t)==pw.call(e)}return!1}var Cde=Tde;function Ade(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var q6=Ade,Pde=q6,Nde=mi;function jde(t,e,n){var r=e(t);return Nde(t)?r:Pde(r,n(t))}var kde=jde;function Ide(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Ode=Ide;function Rde(){return[]}var Mde=Rde,Dde=Ode,Lde=Mde,$de=Object.prototype,Fde=$de.propertyIsEnumerable,wk=Object.getOwnPropertySymbols,Vde=wk?function(t){return t==null?[]:(t=Object(t),Dde(wk(t),function(e){return Fde.call(t,e)}))}:Lde,Bde=Vde;function Ude(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zde=Ude,Wde=fa,Hde=ha,qde="[object Arguments]";function Gde(t){return Hde(t)&&Wde(t)==qde}var Kde=Gde,Sk=Kde,Yde=ha,G6=Object.prototype,Xde=G6.hasOwnProperty,Qde=G6.propertyIsEnumerable,Jde=Sk(function(){return arguments}())?Sk:function(t){return Yde(t)&&Xde.call(t,"callee")&&!Qde.call(t,"callee")},oA=Jde,hv={exports:{}};function Zde(){return!1}var efe=Zde;hv.exports;(function(t,e){var n=Eo,r=efe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(hv,hv.exports);var K6=hv.exports,tfe=9007199254740991,nfe=/^(?:0|[1-9]\d*)$/;function rfe(t,e){var n=typeof t;return e=e??tfe,!!e&&(n=="number"||n!="symbol"&&nfe.test(t))&&t>-1&&t%1==0&&t<e}var aA=rfe,ife=9007199254740991;function sfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ife}var lA=sfe,ofe=fa,afe=lA,lfe=ha,cfe="[object Arguments]",ufe="[object Array]",dfe="[object Boolean]",ffe="[object Date]",hfe="[object Error]",pfe="[object Function]",mfe="[object Map]",gfe="[object Number]",yfe="[object Object]",vfe="[object RegExp]",xfe="[object Set]",bfe="[object String]",wfe="[object WeakMap]",Sfe="[object ArrayBuffer]",_fe="[object DataView]",Efe="[object Float32Array]",Tfe="[object Float64Array]",Cfe="[object Int8Array]",Afe="[object Int16Array]",Pfe="[object Int32Array]",Nfe="[object Uint8Array]",jfe="[object Uint8ClampedArray]",kfe="[object Uint16Array]",Ife="[object Uint32Array]",ln={};ln[Efe]=ln[Tfe]=ln[Cfe]=ln[Afe]=ln[Pfe]=ln[Nfe]=ln[jfe]=ln[kfe]=ln[Ife]=!0;ln[cfe]=ln[ufe]=ln[Sfe]=ln[dfe]=ln[_fe]=ln[ffe]=ln[hfe]=ln[pfe]=ln[mfe]=ln[gfe]=ln[yfe]=ln[vfe]=ln[xfe]=ln[bfe]=ln[wfe]=!1;function Ofe(t){return lfe(t)&&afe(t.length)&&!!ln[ofe(t)]}var Rfe=Ofe;function Mfe(t){return function(e){return t(e)}}var Y6=Mfe,pv={exports:{}};pv.exports;(function(t,e){var n=r6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(pv,pv.exports);var Dfe=pv.exports,Lfe=Rfe,$fe=Y6,_k=Dfe,Ek=_k&&_k.isTypedArray,Ffe=Ek?$fe(Ek):Lfe,X6=Ffe,Vfe=zde,Bfe=oA,Ufe=mi,zfe=K6,Wfe=aA,Hfe=X6,qfe=Object.prototype,Gfe=qfe.hasOwnProperty;function Kfe(t,e){var n=Ufe(t),r=!n&&Bfe(t),i=!n&&!r&&zfe(t),s=!n&&!r&&!i&&Hfe(t),o=n||r||i||s,a=o?Vfe(t.length,String):[],c=a.length;for(var u in t)(e||Gfe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wfe(u,c)))&&a.push(u);return a}var Yfe=Kfe,Xfe=Object.prototype;function Qfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xfe;return t===n}var Jfe=Qfe;function Zfe(t,e){return function(n){return t(e(n))}}var Q6=Zfe,ehe=Q6,the=ehe(Object.keys,Object),nhe=the,rhe=Jfe,ihe=nhe,she=Object.prototype,ohe=she.hasOwnProperty;function ahe(t){if(!rhe(t))return ihe(t);var e=[];for(var n in Object(t))ohe.call(t,n)&&n!="constructor"&&e.push(n);return e}var lhe=ahe,che=zC,uhe=lA;function dhe(t){return t!=null&&uhe(t.length)&&!che(t)}var E0=dhe,fhe=Yfe,hhe=lhe,phe=E0;function mhe(t){return phe(t)?fhe(t):hhe(t)}var cA=mhe,ghe=kde,yhe=Bde,vhe=cA;function xhe(t){return ghe(t,vhe,yhe)}var bhe=xhe,Tk=bhe,whe=1,She=Object.prototype,_he=She.hasOwnProperty;function Ehe(t,e,n,r,i,s){var o=n&whe,a=Tk(t),c=a.length,u=Tk(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=a[f];if(!(o?h in e:_he.call(e,h)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<c;){h=a[f];var b=t[h],w=e[h];if(r)var S=o?r(w,b,h,e,t,s):r(b,w,h,t,e,s);if(!(S===void 0?b===w||i(b,w,n,r,s):S)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(g=!1)}return s.delete(t),s.delete(e),g}var The=Ehe,Che=Nc,Ahe=Eo,Phe=Che(Ahe,"DataView"),Nhe=Phe,jhe=Nc,khe=Eo,Ihe=jhe(khe,"Promise"),Ohe=Ihe,Rhe=Nc,Mhe=Eo,Dhe=Rhe(Mhe,"Set"),J6=Dhe,Lhe=Nc,$he=Eo,Fhe=Lhe($he,"WeakMap"),Vhe=Fhe,$S=Nhe,FS=HC,VS=Ohe,BS=J6,US=Vhe,Z6=fa,Qd=s6,Ck="[object Map]",Bhe="[object Object]",Ak="[object Promise]",Pk="[object Set]",Nk="[object WeakMap]",jk="[object DataView]",Uhe=Qd($S),zhe=Qd(FS),Whe=Qd(VS),Hhe=Qd(BS),qhe=Qd(US),Ol=Z6;($S&&Ol(new $S(new ArrayBuffer(1)))!=jk||FS&&Ol(new FS)!=Ck||VS&&Ol(VS.resolve())!=Ak||BS&&Ol(new BS)!=Pk||US&&Ol(new US)!=Nk)&&(Ol=function(t){var e=Z6(t),n=e==Bhe?t.constructor:void 0,r=n?Qd(n):"";if(r)switch(r){case Uhe:return jk;case zhe:return Ck;case Whe:return Ak;case Hhe:return Pk;case qhe:return Nk}return e});var Ghe=Ol,mw=B6,Khe=H6,Yhe=Cde,Xhe=The,kk=Ghe,Ik=mi,Ok=K6,Qhe=X6,Jhe=1,Rk="[object Arguments]",Mk="[object Array]",og="[object Object]",Zhe=Object.prototype,Dk=Zhe.hasOwnProperty;function epe(t,e,n,r,i,s){var o=Ik(t),a=Ik(e),c=o?Mk:kk(t),u=a?Mk:kk(e);c=c==Rk?og:c,u=u==Rk?og:u;var d=c==og,f=u==og,h=c==u;if(h&&Ok(t)){if(!Ok(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new mw),o||Qhe(t)?Khe(t,e,n,r,i,s):Yhe(t,e,c,n,r,i,s);if(!(n&Jhe)){var m=d&&Dk.call(t,"__wrapped__"),v=f&&Dk.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,y=v?e.value():e;return s||(s=new mw),i(g,y,n,r,s)}}return h?(s||(s=new mw),Xhe(t,e,n,r,i,s)):!1}var tpe=epe,npe=tpe,Lk=ha;function eB(t,e,n,r,i){return t===e?!0:t==null||e==null||!Lk(t)&&!Lk(e)?t!==t&&e!==e:npe(t,e,n,r,eB,i)}var uA=eB,rpe=B6,ipe=uA,spe=1,ope=2;function ape(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var c=a[0],u=t[c],d=a[1];if(o&&a[2]){if(u===void 0&&!(c in t))return!1}else{var f=new rpe;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?ipe(d,u,spe|ope,r,f):h))return!1}}return!0}var lpe=ape,cpe=xl;function upe(t){return t===t&&!cpe(t)}var tB=upe,dpe=tB,fpe=cA;function hpe(t){for(var e=fpe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dpe(i)]}return e}var ppe=hpe;function mpe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nB=mpe,gpe=lpe,ype=ppe,vpe=nB;function xpe(t){var e=ype(t);return e.length==1&&e[0][2]?vpe(e[0][0],e[0][1]):function(n){return n===t||gpe(n,t,e)}}var bpe=xpe;function wpe(t,e){return t!=null&&e in Object(t)}var Spe=wpe,_pe=u6,Epe=oA,Tpe=mi,Cpe=aA,Ape=lA,Ppe=c0;function Npe(t,e,n){e=_pe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Ppe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Ape(i)&&Cpe(o,i)&&(Tpe(t)||Epe(t)))}var jpe=Npe,kpe=Spe,Ipe=jpe;function Ope(t,e){return t!=null&&Ipe(t,e,kpe)}var Rpe=Ope,Mpe=uA,Dpe=d6,Lpe=Rpe,$pe=UC,Fpe=tB,Vpe=nB,Bpe=c0,Upe=1,zpe=2;function Wpe(t,e){return $pe(t)&&Fpe(e)?Vpe(Bpe(t),e):function(n){var r=Dpe(n,t);return r===void 0&&r===e?Lpe(n,t):Mpe(e,r,Upe|zpe)}}var Hpe=Wpe;function qpe(t){return t}var Jd=qpe;function Gpe(t){return function(e){return e==null?void 0:e[t]}}var Kpe=Gpe,Ype=YC;function Xpe(t){return function(e){return Ype(e,t)}}var Qpe=Xpe,Jpe=Kpe,Zpe=Qpe,eme=UC,tme=c0;function nme(t){return eme(t)?Jpe(tme(t)):Zpe(t)}var rme=nme,ime=bpe,sme=Hpe,ome=Jd,ame=mi,lme=rme;function cme(t){return typeof t=="function"?t:t==null?ome:typeof t=="object"?ame(t)?sme(t[0],t[1]):ime(t):lme(t)}var Zd=cme;function ume(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var dme=ume;function fme(t){return t!==t}var hme=fme;function pme(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mme=pme,gme=dme,yme=hme,vme=mme;function xme(t,e,n){return e===e?vme(t,e,n):gme(t,yme,n)}var bme=xme,wme=bme;function Sme(t,e){var n=t==null?0:t.length;return!!n&&wme(t,e,0)>-1}var _me=Sme;function Eme(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Tme=Eme;function Cme(){}var Ame=Cme,gw=J6,Pme=Ame,Nme=sA,jme=1/0,kme=gw&&1/Nme(new gw([,-0]))[1]==jme?function(t){return new gw(t)}:Pme,Ime=kme,Ome=U6,Rme=_me,Mme=Tme,Dme=W6,Lme=Ime,$me=sA,Fme=200;function Vme(t,e,n){var r=-1,i=Rme,s=t.length,o=!0,a=[],c=a;if(n)o=!1,i=Mme;else if(s>=Fme){var u=e?null:Lme(t);if(u)return $me(u);o=!1,i=Dme,c=new Ome}else c=e?[]:a;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),a.push(d)}else i(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var Bme=Vme,Ume=Zd,zme=Bme;function Wme(t,e){return t&&t.length?zme(t,Ume(e)):[]}var Hme=Wme;const $k=Jt(Hme);function rB(t,e,n){return e===!0?$k(t,n):Et(e)?$k(t,e):t}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var qme=["ref"];function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function Kme(t,e,n){return e&&Vk(t.prototype,e),n&&Vk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,n){return e=mv(e),Xme(t,iB()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function T0(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=Zme(t,"string");return ad(e)=="symbol"?e:e+""}function Zme(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t,e){if(t==null)return{};var n=tge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nge(t){return t.value}function rge(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=ege(e,qme);return G.createElement(iA,n)}var Bk=1,Cu=function(t){function e(){var n;Gme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yme(this,e,[].concat(i)),T0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Jme(e,t),Kme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Bk||Math.abs(i.height-this.lastBoundingBox.height)>Bk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ko(ko({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=ko(ko({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},rge(s,ko(ko({},this.props),{},{payload:rB(d,u,nge)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ko(ko({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);T0(Cu,"displayName","Legend");T0(Cu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uk=rm,ige=oA,sge=mi,zk=Uk?Uk.isConcatSpreadable:void 0;function oge(t){return sge(t)||ige(t)||!!(zk&&t&&t[zk])}var age=oge,lge=q6,cge=age;function oB(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=cge),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?oB(a,e-1,n,r,i):lge(i,a):r||(i[i.length]=a)}return i}var aB=oB;function uge(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(n(s[c],c,s)===!1)break}return e}}var dge=uge,fge=dge,hge=fge(),pge=hge,mge=pge,gge=cA;function yge(t,e){return t&&mge(t,e,gge)}var lB=yge,vge=E0;function xge(t,e){return function(n,r){if(n==null)return n;if(!vge(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var bge=xge,wge=lB,Sge=bge,_ge=Sge(wge),dA=_ge,Ege=dA,Tge=E0;function Cge(t,e){var n=-1,r=Tge(t)?Array(t.length):[];return Ege(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var cB=Cge;function Age(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Pge=Age,Wk=Hd;function Nge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Wk(t),o=e!==void 0,a=e===null,c=e===e,u=Wk(e);if(!a&&!u&&!s&&t>e||s&&o&&c&&!a&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!c)return-1}return 0}var jge=Nge,kge=jge;function Ige(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var c=kge(i[r],s[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Oge=Ige,yw=KC,Rge=YC,Mge=Zd,Dge=cB,Lge=Pge,$ge=Y6,Fge=Oge,Vge=Jd,Bge=mi;function Uge(t,e,n){e.length?e=yw(e,function(s){return Bge(s)?function(o){return Rge(o,s.length===1?s[0]:s)}:s}):e=[Vge];var r=-1;e=yw(e,$ge(Mge));var i=Dge(t,function(s,o,a){var c=yw(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return Lge(i,function(s,o){return Fge(s,o,n)})}var zge=Uge;function Wge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Hge=Wge,qge=Hge,Hk=Math.max;function Gge(t,e,n){return e=Hk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Hk(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),qge(t,this,a)}}var Kge=Gge;function Yge(t){return function(){return t}}var Xge=Yge,Qge=Nc,Jge=function(){try{var t=Qge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uB=Jge,Zge=Xge,qk=uB,eye=Jd,tye=qk?function(t,e){return qk(t,"toString",{configurable:!0,enumerable:!1,value:Zge(e),writable:!0})}:eye,nye=tye,rye=800,iye=16,sye=Date.now;function oye(t){var e=0,n=0;return function(){var r=sye(),i=iye-(r-n);if(n=r,i>0){if(++e>=rye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aye=oye,lye=nye,cye=aye,uye=cye(lye),dye=uye,fye=Jd,hye=Kge,pye=dye;function mye(t,e){return pye(hye(t,e,fye),t+"")}var gye=mye,yye=WC,vye=E0,xye=aA,bye=xl;function wye(t,e,n){if(!bye(n))return!1;var r=typeof e;return(r=="number"?vye(n)&&xye(e,n.length):r=="string"&&e in n)?yye(n[e],t):!1}var C0=wye,Sye=aB,_ye=zge,Eye=gye,Gk=C0,Tye=Eye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Gk(t,e[0],e[1])?e=[]:n>2&&Gk(e[0],e[1],e[2])&&(e=[e[0]]),_ye(t,Sye(e,1),[])}),Cye=Tye;const fA=Jt(Cye);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function Aye(t,e){return kye(t)||jye(t,e)||Nye(t,e)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){if(t){if(typeof t=="string")return Kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,e)}}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kye(t){if(Array.isArray(t))return t}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iye(t,e,n){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=Rye(t,"string");return Jh(e)=="symbol"?e:e+""}function Rye(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mye(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var Dye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,y=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,S=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?fA(d,h):d).map(function(F,B){if(F.type==="none")return null;var U=vw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),W=F.formatter||f||Mye,$=F.value,z=F.name,ne=$,se=z;if(W&&ne!=null&&se!=null){var Q=W($,z,F,B,d);if(Array.isArray(Q)){var ge=Aye(Q,2);ne=ge[0],se=ge[1]}else ne=Q}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},tr(se)?G.createElement("span",{className:"recharts-tooltip-item-name"},se):null,tr(se)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ne),G.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},A=vw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=vw({margin:0},u),N=!wt(g),_=N?g:"",T=At("recharts-default-tooltip",m),P=At("recharts-tooltip-label",v);N&&y&&d!==void 0&&d!==null&&(_=y(g,d));var I=w?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",WS({className:T,style:A},I),G.createElement("p",{className:P,style:E},G.isValidElement(_)?_:"".concat(_)),S())};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function ag(t,e,n){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lye(t){var e=$ye(t,"string");return Zh(e)=="symbol"?e:e+""}function $ye(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _f="recharts-tooltip-wrapper",Fye={visibility:"hidden"};function Vye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return At(_f,ag(ag(ag(ag({},"".concat(_f,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(_f,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(_f,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(_f,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function Xk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ke(s[r]))return s[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+a,g=c[r]+u;return v>g?Math.max(d,c[r]):Math.max(f,c[r])}function Bye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Uye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=Xk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Xk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Bye({translateX:d,translateY:f,useTranslate3d:a})):u=Fye,{cssProperties:u,cssClasses:Vye({translateX:d,translateY:f,coordinate:n})}}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){qS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function Hye(t,e,n){return e&&Wye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qye(t,e,n){return e=gv(e),Gye(t,dB()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Gye(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kye(t)}function Kye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function qS(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=Xye(t,"string");return ld(e)=="symbol"?e:e+""}function Xye(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zk=1,Qye=function(t){function e(){var n;zye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=qye(this,e,[].concat(i)),qS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Yye(e,t),Hye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Zk||Math.abs(r.height-this.state.lastBoundingBox.height)>Zk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,S=Uye({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),A=S.cssClasses,E=S.cssProperties,N=Jk(Jk({transition:h&&s?"transform ".concat(a,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return G.createElement("div",{tabIndex:-1,className:A,style:N,ref:function(T){r.wrapperNode=T}},u)}}])}(x.PureComponent),Jye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Go={isSsr:Jye(),get:function(e){return Go[e]},set:function(e,n){if(typeof e=="string")Go[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Go[i]=e[i]})}}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){hA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function tve(t,e,n){return e&&eve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nve(t,e,n){return e=yv(e),rve(t,hB()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function rve(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ive(t)}function ive(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GS(t,e)}function hA(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=ove(t,"string");return cd(e)=="symbol"?e:e+""}function ove(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ave(t){return t.dataKey}function lve(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(Dye,e)}var Xs=function(t){function e(){return Zye(this,e),nve(this,e,arguments)}return sve(e,t),tve(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,y=i.position,b=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,E=v??[];f&&E.length&&(E=rB(v.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,ave));var N=E.length>0;return G.createElement(Qye,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:b,useTranslate3d:w,viewBox:S,wrapperStyle:A},lve(u,tI(tI({},this.props),{},{payload:E})))}}])}(x.PureComponent);hA(Xs,"displayName","Tooltip");hA(Xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Go.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cve=Eo,uve=function(){return cve.Date.now()},dve=uve,fve=/\s/;function hve(t){for(var e=t.length;e--&&fve.test(t.charAt(e)););return e}var pve=hve,mve=pve,gve=/^\s+/;function yve(t){return t&&t.slice(0,mve(t)+1).replace(gve,"")}var vve=yve,xve=vve,nI=xl,bve=Hd,rI=NaN,wve=/^[-+]0x[0-9a-f]+$/i,Sve=/^0b[01]+$/i,_ve=/^0o[0-7]+$/i,Eve=parseInt;function Tve(t){if(typeof t=="number")return t;if(bve(t))return rI;if(nI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xve(t);var n=Sve.test(t);return n||_ve.test(t)?Eve(t.slice(2),n?2:8):wve.test(t)?rI:+t}var mB=Tve,Cve=xl,xw=dve,iI=mB,Ave="Expected a function",Pve=Math.max,Nve=Math.min;function jve(t,e,n){var r,i,s,o,a,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Ave);e=iI(e)||0,Cve(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Pve(iI(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(N){var _=r,T=i;return r=i=void 0,u=N,o=t.apply(T,_),o}function v(N){return u=N,a=setTimeout(b,e),d?m(N):o}function g(N){var _=N-c,T=N-u,P=e-_;return f?Nve(P,s-T):P}function y(N){var _=N-c,T=N-u;return c===void 0||_>=e||_<0||f&&T>=s}function b(){var N=xw();if(y(N))return w(N);a=setTimeout(b,g(N))}function w(N){return a=void 0,h&&r?m(N):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function A(){return a===void 0?o:w(xw())}function E(){var N=xw(),_=y(N);if(r=arguments,i=this,c=N,_){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(b,e),m(c)}return a===void 0&&(a=setTimeout(b,e)),o}return E.cancel=S,E.flush=A,E}var kve=jve,Ive=kve,Ove=xl,Rve="Expected a function";function Mve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Rve);return Ove(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ive(t,e,{leading:r,maxWait:e,trailing:i})}var Dve=Mve;const gB=Jt(Dve);function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return e=$ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=Fve(t,"string");return ep(e)=="symbol"?e:e+""}function Fve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vve(t,e){return Wve(t)||zve(t,e)||Uve(t,e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uve(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Wve(t){if(Array.isArray(t))return t}var Hve=x.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,y=t.id,b=t.className,w=t.onResize,S=t.style,A=S===void 0?{}:S,E=x.useRef(null),N=x.useRef();N.current=w,x.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=x.useState({containerWidth:i.width,containerHeight:i.height}),T=Vve(_,2),P=T[0],I=T[1],j=x.useCallback(function(R,F){I(function(B){var U=Math.round(R),W=Math.round(F);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);x.useEffect(function(){var R=function(z){var ne,se=z[0].contentRect,Q=se.width,ge=se.height;j(Q,ge),(ne=N.current)===null||ne===void 0||ne.call(N,Q,ge)};g>0&&(R=gB(R,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),B=E.current.getBoundingClientRect(),U=B.width,W=B.height;return j(U,W),F.observe(E.current),function(){F.disconnect()}},[j,g]);var O=x.useMemo(function(){var R=P.containerWidth,F=P.containerHeight;if(R<0||F<0)return null;ec(Ul(o)||Ul(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ul(o)?R:o,U=Ul(c)?F:c;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),ec(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,c,d,f,n);var W=!Array.isArray(m)&&qo(m.type).endsWith("Chart");return G.Children.map(m,function($){return G.isValidElement($)?x.cloneElement($,lg({width:B,height:U},W?{style:lg({height:"100%",width:"100%",maxHeight:U,maxWidth:B},$.props.style)}:{})):$})},[n,m,c,h,f,d,P,o]);return G.createElement("div",{id:y?"".concat(y):void 0,className:At("recharts-responsive-container",b),style:lg(lg({},A),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),yB=function(e){return null};yB.displayName="Cell";function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Gve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Kve(t,"string");return tp(e)=="symbol"?e:e+""}function Kve(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fc={widthCache:{},cacheCount:0},Yve=2e3,Xve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lI="recharts_measurement_span";function Qve(t){var e=KS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ch=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Go.isSsr)return{width:0,height:0};var r=Qve(n),i=JSON.stringify({text:e,copyStyle:r});if(Fc.widthCache[i])return Fc.widthCache[i];try{var s=document.getElementById(lI);s||(s=document.createElement("span"),s.setAttribute("id",lI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=KS(KS({},Xve),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return Fc.widthCache[i]=c,++Fc.cacheCount>Yve&&(Fc.cacheCount=0,Fc.widthCache={}),c}catch{return{width:0,height:0}}},Jve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function vv(t,e){return nxe(t)||txe(t,e)||exe(t,e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(t,e){if(t){if(typeof t=="string")return cI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(t,e)}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function txe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nxe(t){if(Array.isArray(t))return t}function rxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sxe(r.key),r)}}function ixe(t,e,n){return e&&uI(t.prototype,e),n&&uI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sxe(t){var e=oxe(t,"string");return np(e)=="symbol"?e:e+""}function oxe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,axe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cxe=Object.keys(vB),lu="NaN";function uxe(t,e){return t*vB[e]}var cg=function(){function t(e,n){rxe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!axe.test(n)&&(this.num=NaN,this.unit=""),cxe.includes(n)&&(this.num=uxe(e,n),this.unit="px")}return ixe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lxe.exec(n))!==null&&r!==void 0?r:[],s=vv(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function xB(t){if(t.includes(lu))return lu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=dI.exec(e))!==null&&n!==void 0?n:[],i=vv(r,4),s=i[1],o=i[2],a=i[3],c=cg.parse(s??""),u=cg.parse(a??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return lu;e=e.replace(dI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=fI.exec(e))!==null&&f!==void 0?f:[],m=vv(h,4),v=m[1],g=m[2],y=m[3],b=cg.parse(v??""),w=cg.parse(y??""),S=g==="+"?b.add(w):b.subtract(w);if(S.isNaN())return lu;e=e.replace(fI,S.toString())}return e}var hI=/\(([^()]*)\)/;function dxe(t){for(var e=t;e.includes("(");){var n=hI.exec(e),r=vv(n,2),i=r[1];e=e.replace(hI,xB(i))}return e}function fxe(t){var e=t.replace(/\s+/g,"");return e=dxe(e),e=xB(e),e}function hxe(t){try{return fxe(t)}catch{return lu}}function bw(t){var e=hxe(t.slice(5,-1));return e===lu?"":e}var pxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mxe=["dx","dy","angle","className","breakAll"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function pI(t,e){if(t==null)return{};var n=gxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mI(t,e){return bxe(t)||xxe(t,e)||vxe(t,e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function bxe(t){if(Array.isArray(t))return t}var bB=/[ \f\n\r\t\v\u2028\u2029]+/,wB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];wt(n)||(r?s=n.toString().split(""):s=n.toString().split(bB));var o=s.map(function(c){return{word:c,width:ch(c,i).width}}),a=r?0:ch("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},wxe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,d=ke(o),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var $=W.word,z=W.width,ne=U[U.length-1];if(ne&&(i==null||s||ne.width+z+r<Number(i)))ne.words.push($),ne.width+=z+r;else{var se={words:[$],width:z};U.push(se)}return U},[])},m=h(n),v=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",y=function(B){var U=f.slice(0,B),W=wB({breakAll:u,style:c,children:U+g}).wordsWithComputedWidth,$=h(W),z=$.length>o||v($).width>Number(i);return[z,$]},b=0,w=f.length-1,S=0,A;b<=w&&S<=f.length-1;){var E=Math.floor((b+w)/2),N=E-1,_=y(N),T=mI(_,2),P=T[0],I=T[1],j=y(E),O=mI(j,1),R=O[0];if(!P&&!R&&(b=E+1),P&&R&&(w=E-1),!P&&R){A=I;break}S++}return A||m},yI=function(e){var n=wt(e)?[]:e.toString().split(bB);return[{words:n}]},Sxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Go.isSsr){var c,u,d=wB({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return yI(i);return wxe({breakAll:o,children:i,maxLines:a,style:s},c,u,n,r)}return yI(i)},vI="#808080",xv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,y=e.fill,b=y===void 0?vI:y,w=pI(e,pxe),S=x.useMemo(function(){return Sxe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,E=w.dy,N=w.angle,_=w.className,T=w.breakAll,P=pI(w,mxe);if(!tr(r)||!tr(s))return null;var I=r+(ke(A)?A:0),j=s+(ke(E)?E:0),O;switch(g){case"start":O=bw("calc(".concat(u,")"));break;case"middle":O=bw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:O=bw("calc(".concat(S.length-1," * -").concat(a,")"));break}var R=[];if(f){var F=S[0].width,B=w.width;R.push("scale(".concat((ke(B)?B/F:1)/F,")"))}return N&&R.push("rotate(".concat(N,", ").concat(I,", ").concat(j,")")),R.length&&(P.transform=R.join(" ")),G.createElement("text",YS({},jt(P,!0),{x:I,y:j,className:At("recharts-text",_),textAnchor:m,fill:b.includes("url")?vI:b}),S.map(function(U,W){var $=U.words.join(T?"":" ");return G.createElement("tspan",{x:I,dy:W===0?O:a,key:"".concat($,"-").concat(W)},$)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _xe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pA(t){let e,n,r;t.length!==2?(e=tl,n=(a,c)=>tl(t(a),c),r=(a,c)=>t(a)-c):(e=t===tl||t===_xe?t:Exe,n=t,r=t);function i(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(a,c,u=0,d=a.length){const f=i(a,c,u,d-1);return f>u&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:o,right:s}}function Exe(){return 0}function SB(t){return t===null?NaN:+t}function*Txe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cxe=pA(tl),om=Cxe.right;pA(SB).center;class xI extends Map{constructor(e,n=Nxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bI(this,e))}has(e){return super.has(bI(this,e))}set(e,n){return super.set(Axe(this,e),n)}delete(e){return super.delete(Pxe(this,e))}}function bI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Axe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Pxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Nxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jxe(t=tl){if(t===tl)return _B;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _B(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kxe=Math.sqrt(50),Ixe=Math.sqrt(10),Oxe=Math.sqrt(2);function bv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=kxe?10:s>=Ixe?5:s>=Oxe?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?bv(t,e,n*2):[a,c,u]}function XS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?bv(e,t,n):bv(t,e,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function QS(t,e,n){return e=+e,t=+t,n=+n,bv(t,e,n)[2]}function JS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?QS(e,t,n):QS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_B:jxe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));EB(t,e,m,v,i)}const s=t[e];let o=n,a=r;for(Ef(t,n,e),i(t[r],s)>0&&Ef(t,n,r);o<a;){for(Ef(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Ef(t,n,a):(++a,Ef(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Ef(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rxe(t,e,n){if(t=Float64Array.from(Txe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return SI(t);if(e>=1)return wI(t);var r,i=(r-1)*e,s=Math.floor(i),o=wI(EB(t,s).subarray(0,s+1)),a=SI(t.subarray(s+1));return o+(a-o)*(i-s)}}function Mxe(t,e,n=SB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Dxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ZS=Symbol("implicit");function mA(){var t=new xI,e=[],n=[],r=ZS;function i(s){let o=t.get(s);if(o===void 0){if(r!==ZS)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new xI;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return mA(e,n).unknown(r)},us.apply(i,arguments),i}function rp(){var t=mA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,g=m?r:i;s=(g-v)/Math.max(1,h-c+u*2),a&&(s=Math.floor(s)),v+=(g-v-s*(h-c))*d,o=s*(1-c),a&&(v=Math.round(v),o=Math.round(o));var y=Dxe(h).map(function(b){return v+s*b});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return rp(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(d)},us.apply(f(),arguments)}function TB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TB(e())},t}function uh(){return TB(rp.apply(null,arguments).paddingInner(1))}function gA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function am(){}var ip=.7,wv=1/ip,Au="\\s*([+-]?\\d+)\\s*",sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lxe=/^#([0-9a-f]{3,8})$/,$xe=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),Fxe=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),Vxe=new RegExp(`^rgba\\(${Au},${Au},${Au},${sp}\\)$`),Bxe=new RegExp(`^rgba\\(${po},${po},${po},${sp}\\)$`),Uxe=new RegExp(`^hsl\\(${sp},${po},${po}\\)$`),zxe=new RegExp(`^hsla\\(${sp},${po},${po},${sp}\\)$`),_I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gA(am,op,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EI,formatHex:EI,formatHex8:Wxe,formatHsl:Hxe,formatRgb:TI,toString:TI});function EI(){return this.rgb().formatHex()}function Wxe(){return this.rgb().formatHex8()}function Hxe(){return AB(this).formatHsl()}function TI(){return this.rgb().formatRgb()}function op(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?CI(e):n===3?new di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ug(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ug(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$xe.exec(t))?new di(e[1],e[2],e[3],1):(e=Fxe.exec(t))?new di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vxe.exec(t))?ug(e[1],e[2],e[3],e[4]):(e=Bxe.exec(t))?ug(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uxe.exec(t))?NI(e[1],e[2]/100,e[3]/100,1):(e=zxe.exec(t))?NI(e[1],e[2]/100,e[3]/100,e[4]):_I.hasOwnProperty(t)?CI(_I[t]):t==="transparent"?new di(NaN,NaN,NaN,0):null}function CI(t){return new di(t>>16&255,t>>8&255,t&255,1)}function ug(t,e,n,r){return r<=0&&(t=e=n=NaN),new di(t,e,n,r)}function qxe(t){return t instanceof am||(t=op(t)),t?(t=t.rgb(),new di(t.r,t.g,t.b,t.opacity)):new di}function e_(t,e,n,r){return arguments.length===1?qxe(t):new di(t,e,n,r??1)}function di(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gA(di,e_,CB(am,{brighter(t){return t=t==null?wv:Math.pow(wv,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new di(tc(this.r),tc(this.g),tc(this.b),Sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AI,formatHex:AI,formatHex8:Gxe,formatRgb:PI,toString:PI}));function AI(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function Gxe(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function PI(){const t=Sv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function Sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function NI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ps(t,e,n,r)}function AB(t){if(t instanceof Ps)return new Ps(t.h,t.s,t.l,t.opacity);if(t instanceof am||(t=op(t)),!t)return new Ps;if(t instanceof Ps)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Ps(o,a,c,t.opacity)}function Kxe(t,e,n,r){return arguments.length===1?AB(t):new Ps(t,e,n,r??1)}function Ps(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gA(Ps,Kxe,CB(am,{brighter(t){return t=t==null?wv:Math.pow(wv,t),new Ps(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new Ps(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new di(ww(t>=240?t-240:t+120,i,r),ww(t,i,r),ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ps(jI(this.h),dg(this.s),dg(this.l),Sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sv(this.opacity);return`${t===1?"hsl(":"hsla("}${jI(this.h)}, ${dg(this.s)*100}%, ${dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jI(t){return t=(t||0)%360,t<0?t+360:t}function dg(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yA=t=>()=>t;function Yxe(t,e){return function(n){return t+n*e}}function Xxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qxe(t){return(t=+t)==1?PB:function(e,n){return n-e?Xxe(e,n,t):yA(isNaN(e)?n:e)}}function PB(t,e){var n=e-t;return n?Yxe(t,n):yA(isNaN(t)?e:t)}const kI=function t(e){var n=Qxe(e);function r(i,s){var o=n((i=e_(i)).r,(s=e_(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=PB(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Jxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Zxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function e0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=ef(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function t0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _v(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var t_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sw=new RegExp(t_.source,"g");function r0e(t){return function(){return t}}function i0e(t){return function(e){return t(e)+""}}function s0e(t,e){var n=t_.lastIndex=Sw.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=t_.exec(t))&&(i=Sw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:_v(r,i)})),n=Sw.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?i0e(c[0].x):r0e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?yA(e):(n==="number"?_v:n==="string"?(r=op(e))?(e=r,kI):s0e:e instanceof op?kI:e instanceof Date?t0e:Zxe(e)?Jxe:Array.isArray(e)?e0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n0e:_v)(t,e)}function vA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function o0e(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function a0e(t){return function(){return t}}function Ev(t){return+t}var II=[0,1];function Qr(t){return t}function n_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:a0e(isNaN(e)?NaN:.5)}function l0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function c0e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=n_(i,r),s=n(o,s)):(r=n_(r,i),s=n(s,o)),function(a){return s(r(a))}}function u0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=n_(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=om(t,a,1,r)-1;return s[c](i[c](a))}}function lm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function A0(){var t=II,e=II,n=ef,r,i,s,o=Qr,a,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Qr&&(o=l0e(t[0],t[h-1])),a=h>2?u0e:c0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),_v)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ev),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=vA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qr,d()):o!==Qr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,i=m,d()}}function xA(){return A0()(Qr,Qr)}function d0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ud(t){return t=Tv(Math.abs(t)),t?t[1]:NaN}function f0e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function h0e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var p0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(t){if(!(e=p0e.exec(t)))throw new Error("invalid format: "+t);var e;return new bA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ap.prototype=bA.prototype;function bA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NB;function g0e(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(NB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Tv(t,Math.max(0,e+s-1))[0]}function OI(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OI(t*100,e),r:OI,s:g0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function MI(t){return t}var DI=Array.prototype.map,LI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y0e(t){var e=t.grouping===void 0||t.thousands===void 0?MI:f0e(DI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?MI:h0e(DI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ap(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,b=f.width,w=f.comma,S=f.precision,A=f.trim,E=f.type;E==="n"?(w=!0,E="g"):RI[E]||(S===void 0&&(S=12),A=!0,E="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?o:"",T=RI[E],P=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(j){var O=N,R=_,F,B,U;if(E==="c")R=T(j)+R,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?c:T(Math.abs(j),S),A&&(j=m0e(j)),W&&+j==0&&v!=="+"&&(W=!1),O=(W?v==="("?v:a:v==="-"||v==="("?"":v)+O,R=(E==="s"?LI[8+NB/3]:"")+R+(W&&v==="("?")":""),P){for(F=-1,B=j.length;++F<B;)if(U=j.charCodeAt(F),48>U||U>57){R=(U===46?i+j.slice(F+1):j.slice(F))+R,j=j.slice(0,F);break}}}w&&!y&&(j=e(j,1/0));var $=O.length+j.length+R.length,z=$<b?new Array(b-$+1).join(h):"";switch(w&&y&&(j=e(z+j,z.length?b-R.length:1/0),z=""),m){case"<":j=O+j+R+z;break;case"=":j=O+z+j+R;break;case"^":j=z.slice(0,$=z.length>>1)+O+j+R+z.slice($);break;default:j=z+O+j+R;break}return s(j)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=ap(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ud(h)/3)))*3,g=Math.pow(10,-v),y=LI[8+v/3];return function(b){return m(g*b)+y}}return{format:u,formatPrefix:d}}var fg,wA,jB;v0e({thousands:",",grouping:[3],currency:["$",""]});function v0e(t){return fg=y0e(t),wA=fg.format,jB=fg.formatPrefix,fg}function x0e(t){return Math.max(0,-ud(Math.abs(t)))}function b0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ud(e)/3)))*3-ud(Math.abs(t)))}function w0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ud(e)-ud(t))+1}function kB(t,e,n,r){var i=JS(t,e,n),s;switch(r=ap(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=b0e(i,o))&&(r.precision=s),jB(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=w0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=x0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return wA(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return XS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],c,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=QS(o,a,n),u===c)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Cv(){var t=xA();return t.copy=function(){return lm(t,Cv())},us.apply(t,arguments),bl(t)}function IB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ev),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return IB(t).unknown(e)},t=arguments.length?Array.from(t,Ev):[0,1],bl(n)}function OB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function $I(t){return Math.log(t)}function FI(t){return Math.exp(t)}function S0e(t){return-Math.log(-t)}function _0e(t){return-Math.exp(-t)}function E0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T0e(t){return t===10?E0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function C0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VI(t){return(e,n)=>-t(-e,n)}function SA(t){const e=t($I,FI),n=e.domain;let r=10,i,s;function o(){return i=C0e(r),s=T0e(r),n()[0]<0?(i=VI(i),s=VI(s),t(S0e,_0e)):t($I,FI),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,g;const y=a==null?10:+a;let b=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<y&&(b=XS(u,d,y))}else b=XS(h,m,Math.min(m-h,y)).map(s);return f?b.reverse():b},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ap(c)).precision==null&&(c.trim=!0),c=wA(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(OB(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function RB(){const t=SA(A0()).domain([1,10]);return t.copy=()=>lm(t,RB()).base(t.base()),us.apply(t,arguments),t}function BI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _A(t){var e=1,n=t(BI(e),UI(e));return n.constant=function(r){return arguments.length?t(BI(e=+r),UI(e)):e},bl(n)}function MB(){var t=_A(A0());return t.copy=function(){return lm(t,MB()).constant(t.constant())},us.apply(t,arguments)}function zI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function A0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P0e(t){return t<0?-t*t:t*t}function EA(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(A0e,P0e):t(zI(n),zI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function TA(){var t=EA(A0());return t.copy=function(){return lm(t,TA()).exponent(t.exponent())},us.apply(t,arguments),t}function N0e(){return TA.apply(null,arguments).exponent(.5)}function WI(t){return Math.sign(t)*t*t}function j0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DB(){var t=xA(),e=[0,1],n=!1,r;function i(s){var o=j0e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(WI(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ev)).map(WI)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},us.apply(i,arguments),bl(i)}function LB(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Mxe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[om(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(tl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return LB().domain(t).range(e).unknown(r)},us.apply(s,arguments)}function $B(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[om(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $B().domain([t,e]).range(i).unknown(s)},us.apply(bl(o),arguments)}function FB(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[om(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return FB().domain(t).range(e).unknown(n)},us.apply(i,arguments)}const _w=new Date,Ew=new Date;function rr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>rr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(_w.setTime(+s),Ew.setTime(+o),t(_w),t(Ew),Math.floor(n(_w,Ew))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Av=rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Av);Av.range;const Uo=1e3,Ji=Uo*60,zo=Ji*60,sa=zo*24,CA=sa*7,HI=sa*30,Tw=sa*365,Wl=rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());Wl.range;const AA=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getMinutes());AA.range;const PA=rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCMinutes());PA.range;const NA=rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*Ji)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());NA.range;const jA=rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());jA.range;const cm=rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ji)/sa,t=>t.getDate()-1);cm.range;const P0=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>t.getUTCDate()-1);P0.range;const VB=rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sa,t=>Math.floor(t/sa));VB.range;function jc(t){return rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ji)/CA)}const N0=jc(0),Pv=jc(1),k0e=jc(2),I0e=jc(3),dd=jc(4),O0e=jc(5),R0e=jc(6);N0.range;Pv.range;k0e.range;I0e.range;dd.range;O0e.range;R0e.range;function kc(t){return rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/CA)}const j0=kc(0),Nv=kc(1),M0e=kc(2),D0e=kc(3),fd=kc(4),L0e=kc(5),$0e=kc(6);j0.range;Nv.range;M0e.range;D0e.range;fd.range;L0e.range;$0e.range;const kA=rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kA.range;const IA=rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IA.range;const oa=rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});oa.range;const aa=rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});aa.range;function BB(t,e,n,r,i,s){const o=[[Wl,1,Uo],[Wl,5,5*Uo],[Wl,15,15*Uo],[Wl,30,30*Uo],[s,1,Ji],[s,5,5*Ji],[s,15,15*Ji],[s,30,30*Ji],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,sa],[r,2,2*sa],[n,1,CA],[e,1,HI],[e,3,3*HI],[t,1,Tw]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=pA(([,,y])=>y).right(o,h);if(m===o.length)return t.every(JS(u/Tw,d/Tw,f));if(m===0)return Av.every(Math.max(JS(u,d,f),1));const[v,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(g)}return[a,c]}const[F0e,V0e]=BB(aa,IA,j0,VB,jA,PA),[B0e,U0e]=BB(oa,kA,N0,cm,NA,AA);function Cw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function z0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=Cf(i),d=Af(i),f=Cf(s),h=Af(s),m=Cf(o),v=Af(o),g=Cf(a),y=Af(a),b=Cf(c),w=Af(c),S={a:W,A:$,b:z,B:ne,c:null,d:QI,e:QI,f:fbe,g:Sbe,G:Ebe,H:cbe,I:ube,j:dbe,L:UB,m:hbe,M:pbe,p:se,q:Q,Q:eO,s:tO,S:mbe,u:gbe,U:ybe,V:vbe,w:xbe,W:bbe,x:null,X:null,y:wbe,Y:_be,Z:Tbe,"%":ZI},A={a:ge,A:ue,b:Ce,B:tt,c:null,d:JI,e:JI,f:Nbe,g:Fbe,G:Bbe,H:Cbe,I:Abe,j:Pbe,L:WB,m:jbe,M:kbe,p:xe,q:je,Q:eO,s:tO,S:Ibe,u:Obe,U:Rbe,V:Mbe,w:Dbe,W:Lbe,x:null,X:null,y:$be,Y:Vbe,Z:Ube,"%":ZI},E={a:I,A:j,b:O,B:R,c:F,d:YI,e:YI,f:sbe,g:KI,G:GI,H:XI,I:XI,j:tbe,L:ibe,m:ebe,M:nbe,p:P,q:Z0e,Q:abe,s:lbe,S:rbe,u:K0e,U:Y0e,V:X0e,w:G0e,W:Q0e,x:B,X:U,y:KI,Y:GI,Z:J0e,"%":obe};S.x=N(n,S),S.X=N(r,S),S.c=N(e,S),A.x=N(n,A),A.X=N(r,A),A.c=N(e,A);function N(ae,de){return function(Y){var V=[],Se=-1,Ee=0,nt=ae.length,Ke,rt,gt;for(Y instanceof Date||(Y=new Date(+Y));++Se<nt;)ae.charCodeAt(Se)===37&&(V.push(ae.slice(Ee,Se)),(rt=qI[Ke=ae.charAt(++Se)])!=null?Ke=ae.charAt(++Se):rt=Ke==="e"?" ":"0",(gt=de[Ke])&&(Ke=gt(Y,rt)),V.push(Ke),Ee=Se+1);return V.push(ae.slice(Ee,Se)),V.join("")}}function _(ae,de){return function(Y){var V=Tf(1900,void 0,1),Se=T(V,ae,Y+="",0),Ee,nt;if(Se!=Y.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(de&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Ee=Aw(Tf(V.y,0,1)),nt=Ee.getUTCDay(),Ee=nt>4||nt===0?Nv.ceil(Ee):Nv(Ee),Ee=P0.offset(Ee,(V.V-1)*7),V.y=Ee.getUTCFullYear(),V.m=Ee.getUTCMonth(),V.d=Ee.getUTCDate()+(V.w+6)%7):(Ee=Cw(Tf(V.y,0,1)),nt=Ee.getDay(),Ee=nt>4||nt===0?Pv.ceil(Ee):Pv(Ee),Ee=cm.offset(Ee,(V.V-1)*7),V.y=Ee.getFullYear(),V.m=Ee.getMonth(),V.d=Ee.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),nt="Z"in V?Aw(Tf(V.y,0,1)).getUTCDay():Cw(Tf(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(nt+5)%7:V.w+V.U*7-(nt+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Aw(V)):Cw(V)}}function T(ae,de,Y,V){for(var Se=0,Ee=de.length,nt=Y.length,Ke,rt;Se<Ee;){if(V>=nt)return-1;if(Ke=de.charCodeAt(Se++),Ke===37){if(Ke=de.charAt(Se++),rt=E[Ke in qI?de.charAt(Se++):Ke],!rt||(V=rt(ae,Y,V))<0)return-1}else if(Ke!=Y.charCodeAt(V++))return-1}return V}function P(ae,de,Y){var V=u.exec(de.slice(Y));return V?(ae.p=d.get(V[0].toLowerCase()),Y+V[0].length):-1}function I(ae,de,Y){var V=m.exec(de.slice(Y));return V?(ae.w=v.get(V[0].toLowerCase()),Y+V[0].length):-1}function j(ae,de,Y){var V=f.exec(de.slice(Y));return V?(ae.w=h.get(V[0].toLowerCase()),Y+V[0].length):-1}function O(ae,de,Y){var V=b.exec(de.slice(Y));return V?(ae.m=w.get(V[0].toLowerCase()),Y+V[0].length):-1}function R(ae,de,Y){var V=g.exec(de.slice(Y));return V?(ae.m=y.get(V[0].toLowerCase()),Y+V[0].length):-1}function F(ae,de,Y){return T(ae,e,de,Y)}function B(ae,de,Y){return T(ae,n,de,Y)}function U(ae,de,Y){return T(ae,r,de,Y)}function W(ae){return o[ae.getDay()]}function $(ae){return s[ae.getDay()]}function z(ae){return c[ae.getMonth()]}function ne(ae){return a[ae.getMonth()]}function se(ae){return i[+(ae.getHours()>=12)]}function Q(ae){return 1+~~(ae.getMonth()/3)}function ge(ae){return o[ae.getUTCDay()]}function ue(ae){return s[ae.getUTCDay()]}function Ce(ae){return c[ae.getUTCMonth()]}function tt(ae){return a[ae.getUTCMonth()]}function xe(ae){return i[+(ae.getUTCHours()>=12)]}function je(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var de=N(ae+="",S);return de.toString=function(){return ae},de},parse:function(ae){var de=_(ae+="",!1);return de.toString=function(){return ae},de},utcFormat:function(ae){var de=N(ae+="",A);return de.toString=function(){return ae},de},utcParse:function(ae){var de=_(ae+="",!0);return de.toString=function(){return ae},de}}}var qI={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,W0e=/^%/,H0e=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function q0e(t){return t.replace(H0e,"\\$&")}function Cf(t){return new RegExp("^(?:"+t.map(q0e).join("|")+")","i")}function Af(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function G0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function K0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Y0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function X0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Q0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function GI(t,e,n){var r=gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function KI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ebe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function YI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tbe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function XI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nbe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rbe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ibe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sbe(t,e,n){var r=gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function obe(t,e,n){var r=W0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function abe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lbe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QI(t,e){return Ot(t.getDate(),e,2)}function cbe(t,e){return Ot(t.getHours(),e,2)}function ube(t,e){return Ot(t.getHours()%12||12,e,2)}function dbe(t,e){return Ot(1+cm.count(oa(t),t),e,3)}function UB(t,e){return Ot(t.getMilliseconds(),e,3)}function fbe(t,e){return UB(t,e)+"000"}function hbe(t,e){return Ot(t.getMonth()+1,e,2)}function pbe(t,e){return Ot(t.getMinutes(),e,2)}function mbe(t,e){return Ot(t.getSeconds(),e,2)}function gbe(t){var e=t.getDay();return e===0?7:e}function ybe(t,e){return Ot(N0.count(oa(t)-1,t),e,2)}function zB(t){var e=t.getDay();return e>=4||e===0?dd(t):dd.ceil(t)}function vbe(t,e){return t=zB(t),Ot(dd.count(oa(t),t)+(oa(t).getDay()===4),e,2)}function xbe(t){return t.getDay()}function bbe(t,e){return Ot(Pv.count(oa(t)-1,t),e,2)}function wbe(t,e){return Ot(t.getFullYear()%100,e,2)}function Sbe(t,e){return t=zB(t),Ot(t.getFullYear()%100,e,2)}function _be(t,e){return Ot(t.getFullYear()%1e4,e,4)}function Ebe(t,e){var n=t.getDay();return t=n>=4||n===0?dd(t):dd.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function Tbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function JI(t,e){return Ot(t.getUTCDate(),e,2)}function Cbe(t,e){return Ot(t.getUTCHours(),e,2)}function Abe(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function Pbe(t,e){return Ot(1+P0.count(aa(t),t),e,3)}function WB(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function Nbe(t,e){return WB(t,e)+"000"}function jbe(t,e){return Ot(t.getUTCMonth()+1,e,2)}function kbe(t,e){return Ot(t.getUTCMinutes(),e,2)}function Ibe(t,e){return Ot(t.getUTCSeconds(),e,2)}function Obe(t){var e=t.getUTCDay();return e===0?7:e}function Rbe(t,e){return Ot(j0.count(aa(t)-1,t),e,2)}function HB(t){var e=t.getUTCDay();return e>=4||e===0?fd(t):fd.ceil(t)}function Mbe(t,e){return t=HB(t),Ot(fd.count(aa(t),t)+(aa(t).getUTCDay()===4),e,2)}function Dbe(t){return t.getUTCDay()}function Lbe(t,e){return Ot(Nv.count(aa(t)-1,t),e,2)}function $be(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function Fbe(t,e){return t=HB(t),Ot(t.getUTCFullYear()%100,e,2)}function Vbe(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function Bbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fd(t):fd.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function Ube(){return"+0000"}function ZI(){return"%"}function eO(t){return+t}function tO(t){return Math.floor(+t/1e3)}var Vc,qB,GB;zbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zbe(t){return Vc=z0e(t),qB=Vc.format,Vc.parse,GB=Vc.utcFormat,Vc.utcParse,Vc}function Wbe(t){return new Date(t)}function Hbe(t){return t instanceof Date?+t:+new Date(+t)}function OA(t,e,n,r,i,s,o,a,c,u){var d=xA(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),w=u("%b %d"),S=u("%B"),A=u("%Y");function E(N){return(c(N)<N?m:a(N)<N?v:o(N)<N?g:s(N)<N?y:r(N)<N?i(N)<N?b:w:n(N)<N?S:A)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Hbe)):h().map(Wbe)},d.ticks=function(N){var _=h();return t(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?E:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=e(_[0],_[_.length-1],N??10)),N?h(OB(_,N)):d},d.copy=function(){return lm(d,OA(t,e,n,r,i,s,o,a,c,u))},d}function qbe(){return us.apply(OA(B0e,U0e,oa,kA,N0,cm,NA,AA,Wl,qB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gbe(){return us.apply(OA(F0e,V0e,aa,IA,j0,P0,jA,PA,Wl,GB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k0(){var t=0,e=1,n,r,i,s,o=Qr,a=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(ef),u.rangeRound=d(vA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KB(){var t=bl(k0()(Qr));return t.copy=function(){return wl(t,KB())},pa.apply(t,arguments)}function YB(){var t=SA(k0()).domain([1,10]);return t.copy=function(){return wl(t,YB()).base(t.base())},pa.apply(t,arguments)}function XB(){var t=_A(k0());return t.copy=function(){return wl(t,XB()).constant(t.constant())},pa.apply(t,arguments)}function RA(){var t=EA(k0());return t.copy=function(){return wl(t,RA()).exponent(t.exponent())},pa.apply(t,arguments)}function Kbe(){return RA.apply(null,arguments).exponent(.5)}function QB(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((om(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Rxe(t,s/r))},n.copy=function(){return QB(e).domain(t)},pa.apply(n,arguments)}function I0(){var t=0,e=.5,n=1,r=1,i,s,o,a,c,u=Qr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(r*g<r*s?a:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),s=d(e=+e),o=d(n=+n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var b,w,S;return arguments.length?([b,w,S]=y,u=o0e(g,[b,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=v(ef),m.rangeRound=v(vA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),s=g(e),o=g(n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function JB(){var t=bl(I0()(Qr));return t.copy=function(){return wl(t,JB())},pa.apply(t,arguments)}function ZB(){var t=SA(I0()).domain([.1,1,10]);return t.copy=function(){return wl(t,ZB()).base(t.base())},pa.apply(t,arguments)}function eU(){var t=_A(I0());return t.copy=function(){return wl(t,eU()).constant(t.constant())},pa.apply(t,arguments)}function MA(){var t=EA(I0());return t.copy=function(){return wl(t,MA()).exponent(t.exponent())},pa.apply(t,arguments)}function Ybe(){return MA.apply(null,arguments).exponent(.5)}const nO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rp,scaleDiverging:JB,scaleDivergingLog:ZB,scaleDivergingPow:MA,scaleDivergingSqrt:Ybe,scaleDivergingSymlog:eU,scaleIdentity:IB,scaleImplicit:ZS,scaleLinear:Cv,scaleLog:RB,scaleOrdinal:mA,scalePoint:uh,scalePow:TA,scaleQuantile:LB,scaleQuantize:$B,scaleRadial:DB,scaleSequential:KB,scaleSequentialLog:YB,scaleSequentialPow:RA,scaleSequentialQuantile:QB,scaleSequentialSqrt:Kbe,scaleSequentialSymlog:XB,scaleSqrt:N0e,scaleSymlog:MB,scaleThreshold:FB,scaleTime:qbe,scaleUtc:Gbe,tickFormat:kB},Symbol.toStringTag,{value:"Module"}));var Xbe=Hd;function Qbe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Xbe(o):n(o,a)))var a=o,c=s}return c}var tU=Qbe;function Jbe(t,e){return t>e}var Zbe=Jbe,ewe=tU,twe=Zbe,nwe=Jd;function rwe(t){return t&&t.length?ewe(t,nwe,twe):void 0}var iwe=rwe;const O0=Jt(iwe);function swe(t,e){return t<e}var owe=swe,awe=tU,lwe=owe,cwe=Jd;function uwe(t){return t&&t.length?awe(t,cwe,lwe):void 0}var dwe=uwe;const R0=Jt(dwe);var fwe=KC,hwe=Zd,pwe=cB,mwe=mi;function gwe(t,e){var n=mwe(t)?fwe:pwe;return n(t,hwe(e))}var ywe=gwe,vwe=aB,xwe=ywe;function bwe(t,e){return vwe(xwe(t,e),1)}var wwe=bwe;const Swe=Jt(wwe);var _we=uA;function Ewe(t,e){return _we(t,e)}var Twe=Ewe;const M0=Jt(Twe);var tf=1e9,Cwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LA,mn=!0,os="[DecimalError] ",nc=os+"Invalid argument: ",DA=os+"Exponent out of range: ",nf=Math.floor,Rl=Math.pow,Awe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ji,ur=1e7,cn=7,nU=9007199254740991,jv=nf(nU/cn),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*cn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return Ko(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return Qt(Ko(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return zn(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ji))throw Error(os+"NaN");if(n.s<1)throw Error(os+(n.s?"NaN":"-Infinity"));return n.eq(ji)?new r(0):(mn=!1,e=Ko(lp(n,s),lp(t,s),s),mn=!0,Qt(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sU(e,t):rU(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(os+"NaN");return n.s?(mn=!1,e=Ko(n,t,0,1).times(t),mn=!0,n.minus(e)):Qt(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return iU(this)};Ve.naturalLogarithm=Ve.ln=function(){return lp(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rU(e,t):sU(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=zn(i)+1,r=i.d.length-1,n=r*cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(os+"NaN")}for(t=zn(a),mn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ro(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Ko(a,s,o+2)).times(.5),ro(s.d).slice(0,o)===(e=ro(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Qt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return mn=!0,Qt(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,s,o,a,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+m[r]*h[i-r-1]+e,s[i--]=a%ur|0,e=a/ur|0;s[i]=(s[i]+e)%ur|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,mn?Qt(t,f.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,tf),e===void 0?e=r.rounding:bo(e,0,8),Qt(n,t+zn(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(bo(t,0,tf),e===void 0?e=i.rounding:bo(e,0,8),r=Qt(new i(r),t+1,e),n=xc(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?xc(i):(bo(t,0,tf),e===void 0?e=s.rounding:bo(e,0,8),r=Qt(new s(i),t+zn(i)+1,e),n=xc(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return Qt(new e(t),zn(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ji);if(a=new c(a),!a.s){if(t.s<1)throw Error(os+"Infinity");return a}if(a.eq(ji))return a;if(r=c.precision,t.eq(ji))return Qt(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=d<0?-d:d)<=nU){for(i=new c(ji),e=Math.ceil(r/cn+4),mn=!1;n%2&&(i=i.times(a),iO(i.d,e)),n=nf(n/2),n!==0;)a=a.times(a),iO(a.d,e);return mn=!0,t.s<0?new c(ji).div(i):Qt(i,r)}}else if(s<0)throw Error(os+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,mn=!1,i=t.times(lp(a,r+u)),mn=!0,i=iU(i),i.s=s,i};Ve.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zn(i),r=xc(i,n<=s.toExpNeg||n>=s.toExpPos)):(bo(t,1,tf),e===void 0?e=s.rounding:bo(e,0,8),i=Qt(new s(i),t,e),n=zn(i),r=xc(i,t<=n||n<=s.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,tf),e===void 0?e=r.rounding:bo(e,0,8)),Qt(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function rU(t,e){var n,r,i,s,o,a,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),mn?Qt(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,a=u.length):(r=u,i=o,a=c.length),o=Math.ceil(f/cn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ur|0,c[s]%=ur;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,mn?Qt(e,f):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function ro(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=cn-r.length,n&&(s+=Pa(n)),s+=r;o=t[e],r=o+"",n=cn-r.length,n&&(s+=Pa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ko=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%ur|0,o=s/ur|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ur+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,c,u,d,f,h,m,v,g,y,b,w,S,A,E,N,_,T,P=r.constructor,I=r.s==i.s?1:-1,j=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(os+"Division by zero");for(c=r.e-i.e,_=O.length,E=j.length,m=new P(I),v=m.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--c,s==null?w=s=P.precision:o?w=s+(zn(r)-zn(i))+1:w=s,w<0)return new P(0);if(w=w/cn+2|0,u=0,_==1)for(d=0,O=O[0],w++;(u<E||d)&&w--;u++)S=d*ur+(j[u]||0),v[u]=S/O|0,d=S%O|0;else{for(d=ur/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),_=O.length,E=j.length),A=_,g=j.slice(0,_),y=g.length;y<_;)g[y++]=0;T=O.slice(),T.unshift(0),N=O[0],O[1]>=ur/2&&++N;do d=0,a=e(O,g,_,y),a<0?(b=g[0],_!=y&&(b=b*ur+(g[1]||0)),d=b/N|0,d>1?(d>=ur&&(d=ur-1),f=t(O,d),h=f.length,y=g.length,a=e(f,g,h,y),a==1&&(d--,n(f,_<h?T:O,h))):(d==0&&(a=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),a==-1&&(y=g.length,a=e(O,g,_,y),a<1&&(d++,n(g,_<y?T:O,y))),y=g.length):a===0&&(d++,g=[0]),v[u++]=d,a&&g[0]?g[y++]=j[A]||0:(g=[j[A]],y=1);while((A++<E||g[0]!==void 0)&&w--)}return v[0]||v.shift(),m.e=c,Qt(m,o?s+zn(m)+1:s)}}();function iU(t,e){var n,r,i,s,o,a,c=0,u=0,d=t.constructor,f=d.precision;if(zn(t)>16)throw Error(DA+zn(t));if(!t.s)return new d(ji);for(e==null?(mn=!1,a=f):a=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Rl(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new d(ji),d.precision=a;;){if(i=Qt(i.times(t),a),n=n.times(++c),o=s.plus(Ko(i,n,a)),ro(o.d).slice(0,a)===ro(s.d).slice(0,a)){for(;u--;)s=Qt(s.times(s),a);return d.precision=f,e==null?(mn=!0,Qt(s,f)):s}s=o}}function zn(t){for(var e=t.e*cn,n=t.d[0];n>=10;n/=10)e++;return e}function Pw(t,e,n){if(e>t.LN10.sd())throw mn=!0,n&&(t.precision=n),Error(os+"LN10 precision limit exceeded");return Qt(new t(t.LN10),e)}function Pa(t){for(var e="";t--;)e+="0";return e}function lp(t,e){var n,r,i,s,o,a,c,u,d,f=1,h=10,m=t,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(os+(m.s?"NaN":"-Infinity"));if(m.eq(ji))return new g(0);if(e==null?(mn=!1,u=y):u=e,m.eq(10))return e==null&&(mn=!0),Pw(g,u);if(u+=h,g.precision=u,n=ro(v),r=n.charAt(0),s=zn(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ro(m.d),r=n.charAt(0),f++;s=zn(m),r>1?(m=new g("0."+n),s++):m=new g(r+"."+n.slice(1))}else return c=Pw(g,u+2,y).times(s+""),m=lp(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=y,e==null?(mn=!0,Qt(m,y)):m;for(a=o=m=Ko(m.minus(ji),m.plus(ji),u),d=Qt(m.times(m),u),i=3;;){if(o=Qt(o.times(d),u),c=a.plus(Ko(o,new g(i),u)),ro(c.d).slice(0,u)===ro(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(Pw(g,u+2,y).times(s+""))),a=Ko(a,new g(f),u),g.precision=y,e==null?(mn=!0,Qt(a,y)):a;a=c,i+=2}}function rO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/cn),t.d=[],r=(n+1)%cn,n<0&&(r+=cn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=cn;r<i;)t.d.push(+e.slice(r,r+=cn));e=e.slice(r),r=cn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mn&&(t.e>jv||t.e<-jv))throw Error(DA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Qt(t,e,n){var r,i,s,o,a,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=cn,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/cn),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=cn,i=r-cn+o}if(n!==void 0&&(s=Rl(10,o-i-1),a=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/Rl(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=zn(t),f.length=1,e=e-s-1,f[0]=Rl(10,(cn-e%cn)%cn),t.e=nf(-e/cn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Rl(10,cn-r),f[d]=i>0?(u/Rl(10,o-i)%Rl(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ur&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ur)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(mn&&(t.e>jv||t.e<-jv))throw Error(DA+zn(t));return t}function sU(t,e){var n,r,i,s,o,a,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),mn?Qt(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,a=f.length):(n=f,r=u,a=c.length),i=Math.max(Math.ceil(m/cn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),a=c.length,i=f.length-a;i>0;--i)c[a++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ur-1;--c[s],c[i]+=ur}c[i]-=f[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,mn?Qt(e,m):e):new h(0)}function xc(t,e,n){var r,i=zn(t),s=ro(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Pa(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Pa(-i-1)+s,n&&(r=n-o)>0&&(s+=Pa(r))):i>=o?(s+=Pa(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Pa(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Pa(r))),t.s<0?"-"+s:s}function iO(t,e){if(t.length>e)return t.length=e,!0}function oU(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return rO(o,s.toString())}else if(typeof s!="string")throw Error(nc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Awe.test(s))rO(o,s);else throw Error(nc+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oU,i.config=i.set=Pwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Pwe(t){if(!t||typeof t!="object")throw Error(os+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var LA=oU(Cwe);ji=new LA(1);const Wt=LA;function Nwe(t){return Owe(t)||Iwe(t)||kwe(t)||jwe()}function jwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function Iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Owe(t){if(Array.isArray(t))return r_(t)}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rwe=function(e){return e},aU={"@@functional/placeholder":!0},lU=function(e){return e===aU},sO=function(e){return function n(){return arguments.length===0||arguments.length===1&&lU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Mwe=function t(e,n){return e===1?n:sO(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==aU}).length;return o>=e?n.apply(void 0,i):t(e-o,sO(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var d=i.map(function(f){return lU(f)?c.shift():f});return n.apply(void 0,Nwe(d).concat(c))}))})},D0=function(e){return Mwe(e.length,e)},i_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Dwe=D0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Lwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Rwe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},s_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,c){return a===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function $we(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function Fwe(t,e,n){for(var r=new Wt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Vwe=D0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Bwe=D0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Uwe=D0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const L0={rangeStep:Fwe,getDigitCount:$we,interpolateNumber:Vwe,uninterpolateNumber:Bwe,uninterpolateTruncation:Uwe};function o_(t){return Hwe(t)||Wwe(t)||uU(t)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hwe(t){if(Array.isArray(t))return a_(t)}function cp(t,e){return Kwe(t)||Gwe(t,e)||uU(t,e)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uU(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Kwe(t){if(Array.isArray(t))return t}function dU(t){var e=cp(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function fU(t,e,n){if(t.lte(0))return new Wt(0);var r=L0.getDigitCount(t.toNumber()),i=new Wt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Wt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=a.mul(i);return e?c:new Wt(Math.ceil(c))}function Ywe(t,e,n){var r=1,i=new Wt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Wt(10).pow(L0.getDigitCount(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var o=Math.floor((e-1)/2),a=Lwe(Dwe(function(c){return i.add(new Wt(c-o).mul(r)).toNumber()}),i_);return a(0,e)}function hU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var s=fU(new Wt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Wt(0):(o=new Wt(t).add(e).div(2),o=o.sub(new Wt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Wt(e).sub(o).div(s).toNumber()),u=a+c+1;return u>n?hU(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new Wt(a).mul(s)),tickMax:o.add(new Wt(c).mul(s))})}function Xwe(t){var e=cp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=dU([n,r]),c=cp(a,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(o_(i_(0,i-1).map(function(){return 1/0}))):[].concat(o_(i_(0,i-1).map(function(){return-1/0})),[d]);return n>r?s_(f):f}if(u===d)return Ywe(u,i,s);var h=hU(u,d,o,s),m=h.step,v=h.tickMin,g=h.tickMax,y=L0.rangeStep(v,g.add(new Wt(.1).mul(m)),m);return n>r?s_(y):y}function Qwe(t,e){var n=cp(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dU([r,i]),a=cp(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=fU(new Wt(u).sub(c).div(d-1),s,0),h=[].concat(o_(L0.rangeStep(new Wt(c),new Wt(u).sub(new Wt(.99).mul(f)),f)),[u]);return r>i?s_(h):h}var Jwe=cU(Xwe),Zwe=cU(Qwe),e1e="Invariant failed";function bc(t,e){throw new Error(e1e)}var t1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function n1e(t,e){return o1e(t)||s1e(t,e)||i1e(t,e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(t,e){if(t){if(typeof t=="string")return oO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function o1e(t){if(Array.isArray(t))return t}function a1e(t,e){if(t==null)return{};var n=l1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gU(r.key),r)}}function d1e(t,e,n){return e&&u1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1e(t,e,n){return e=Iv(e),h1e(t,pU()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function h1e(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(t)}function p1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function mU(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=g1e(t,"string");return hd(e)=="symbol"?e:e+""}function g1e(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var um=function(t){function e(){return c1e(this,e),f1e(this,e,arguments)}return m1e(e,t),d1e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=a1e(r,t1e),m=jt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var v=c.map(function(g){var y=u(g,a),b=y.x,w=y.y,S=y.value,A=y.errorVal;if(!A)return null;var E=[],N,_;if(Array.isArray(A)){var T=n1e(A,2);N=T[0],_=T[1]}else N=_=A;if(s==="vertical"){var P=d.scale,I=w+i,j=I+o,O=I-o,R=P(S-N),F=P(S+_);E.push({x1:F,y1:j,x2:F,y2:O}),E.push({x1:R,y1:I,x2:F,y2:I}),E.push({x1:R,y1:j,x2:R,y2:O})}else if(s==="horizontal"){var B=f.scale,U=b+i,W=U-o,$=U+o,z=B(S-N),ne=B(S+_);E.push({x1:W,y1:ne,x2:$,y2:ne}),E.push({x1:U,y1:z,x2:U,y2:ne}),E.push({x1:W,y1:z,x2:$,y2:z})}return G.createElement(Dn,kv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},m),E.map(function(se){return G.createElement("line",kv({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return G.createElement(Dn,{className:"recharts-errorBars"},v)}}])}(G.Component);mU(um,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mU(um,"displayName","ErrorBar");function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=x1e(t,"string");return up(e)=="symbol"?e:e+""}function x1e(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ti(n,Cu);if(!o)return null;var a=Cu.defaultProps,c=a!==void 0?Al(Al({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Al(Al({},h),f.props):{},v=m.dataKey,g=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||y||"square",color:$A(f),value:g||v,payload:m}}),Al(Al(Al({},c),Cu.getWithHeight(o,i)),{},{payload:u,item:o})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function lO(t){return _1e(t)||S1e(t)||w1e(t)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function S1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _1e(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pu(t,e,n){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1e(t){var e=T1e(t,"string");return dp(e)=="symbol"?e:e+""}function T1e(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mi(t,e,n){return wt(t)||wt(e)?n:tr(e)?ts(t,e,n):Et(e)?e(t):n}function dh(t,e,n,r){var i=Swe(t,function(a){return Mi(a,e)});if(n==="number"){var s=i.filter(function(a){return ke(a)||parseFloat(a)});return s.length?[R0(s),O0(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!wt(a)}):i;return o.map(function(a){return tr(a)||a instanceof Date?a:""})}var C1e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Is(f-d)!==Is(h-f)){var v=[];if(Is(h-f)===Is(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},$A=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Nn(Nn({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},A1e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var d=s[a[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,y=v.cateAxisId,b=g.filter(function(_){return qo(_.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,S=w!==void 0?Nn(Nn({},w),b[0].props):b[0].props,A=S.barSize,E=S[y];o[E]||(o[E]=[]);var N=wt(A)?n:A;o[E].push({item:b[0],stackList:b.slice(1),barSize:wt(N)?void 0:vc(N,r,0)})}}return o},P1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=vc(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,v=o.reduce(function(A,E){return A+E.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=c*m);var g=(i-v)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(A,E){var N={item:E.item,position:{offset:y.offset+y.size+u,size:h?m:E.barSize}},_=[].concat(lO(A),[N]);return y=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:y})}),_},f)}else{var b=vc(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=o.reduce(function(A,E,N){var _=[].concat(lO(A),[{item:E.item,position:{offset:b+(w+u)*N+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},N1e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,c=o-(a.left||0)-(a.right||0),u=yU({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&ke(e[m]))return Nn(Nn({},e),{},Pu({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&ke(e[v]))return Nn(Nn({},e),{},Pu({},v,e[v]+(h||0)))}return e},j1e=function(e,n,r){return wt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vU=function(e,n,r,i,s){var o=n.props.children,a=ns(o,um).filter(function(u){return j1e(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Mi(d,r);if(wt(f))return u;var h=Array.isArray(f)?[R0(f),O0(f)]:[f,f],m=c.reduce(function(v,g){var y=Mi(d,g,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},k1e=function(e,n,r,i,s){var o=n.map(function(a){return vU(e,a,r,s,i)}).filter(function(a){return!wt(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},xU=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&vU(e,c,u,i)||dh(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,c.push(u[d]));return c},[])},bU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Hl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Is(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!im(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Nw=new WeakMap,hg=function(e,n){if(typeof n!="function")return e;Nw.has(e)||Nw.set(e,new WeakMap);var r=Nw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},I1e=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:rp(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Cv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uh(),realScaleType:"point"}:s==="category"?{scale:rp(),realScaleType:"band"}:{scale:Cv(),realScaleType:"linear"};if(yc(i)){var c="scale".concat(b0(i));return{scale:(nO[c]||uh)(),realScaleType:nO[c]?c:"point"}}return Et(i)?{scale:i}:{scale:uh(),realScaleType:"point"}},uO=1e-4,O1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-uO,o=Math.max(i[0],i[1])+uO,a=e(n[0]),c=e(n[r-1]);(a<s||a>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},R1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},M1e=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(s[0]=r),(!ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},D1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var c=im(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1])}},L1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=im(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},$1e={sign:D1e,expand:Qce,none:sd,silhouette:Jce,wiggle:Zce,positive:L1e},F1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=$1e[r],o=Xce().keys(i).value(function(a,c){return+Mi(a,c,0)}).order(RS).offset(s);return o(e)},V1e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,c={},u=a.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Nn(Nn({},h.type.defaultProps),h.props):h.props,g=v.stackId,y=v.hide;if(y)return f;var b=v[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(tr(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[sm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Nn(Nn({},f),{},Pu({},b,w))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var b=m.stackGroups[y];return Nn(Nn({},g),{},Pu({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:F1e(e,b.items,s)}))},v)}return Nn(Nn({},f),{},Pu({},h,m))},d)},B1e=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Jwe(u,s,a);return e.domain([R0(d),O0(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=Zwe(f,s,a);return{niceTicks:h}}return null};function dO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wt(i[e.dataKey])){var a=rv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Mi(i,wt(o)?e.dataKey:o);return wt(c)?null:e.scale(c)}var fO=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=Mi(o,n.dataKey,n.domain[a]);return wt(c)?null:n.scale(c)-s/2+i},U1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},z1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Nn(Nn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(tr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},W1e=function(e){return e.reduce(function(n,r){return[R0(r.concat([n[0]]).filter(ke)),O0(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},wU=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,d){var f=W1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u_=function(e,n,r){if(Et(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(hO.test(e[0])){var s=+hO.exec(e[0])[1];i[0]=n[0]-s}else Et(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(pO.test(e[1])){var o=+pO.exec(e[1])[1];i[1]=n[1]+o}else Et(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ov=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=fA(n,function(f){return f.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],d=s[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},mO=function(e,n,r){return!e||!e.length||M0(e,ts(r,"type.defaultProps.domain"))?n:e},SU=function(e,n){var r=e.type.defaultProps?Nn(Nn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Nn(Nn({},jt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:$A(e),value:Mi(n,i),type:c,payload:n,chartType:u,hide:d})};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){H1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e,n){return e=q1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q1e(t){var e=G1e(t,"string");return fp(e)=="symbol"?e:e+""}function G1e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rv=Math.PI/180,K1e=function(e){return e*180/Math.PI},Tr=function(e,n,r,i){return{x:e+Math.cos(-Rv*i)*r,y:n+Math.sin(-Rv*i)*r}},Y1e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},X1e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=Y1e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(r-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:K1e(u),angleInRadian:u}},Q1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},J1e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},vO=function(e,n){var r=e.x,i=e.y,s=X1e({x:r,y:i},n),o=s.radius,a=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Q1e(n),f=d.startAngle,h=d.endAngle,m=a,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?yO(yO({},n),{},{radius:o,angle:J1e(m,n)}):null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var Z1e=["offset"];function eSe(t){return iSe(t)||rSe(t)||nSe(t)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iSe(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sSe(t,e){if(t==null)return{};var n=oSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return hp(e)=="symbol"?e:e+""}function cSe(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}var uSe=function(e){var n=e.value,r=e.formatter,i=wt(e.children)?n:e.children;return Et(r)?r(i):i},dSe=function(e,n){var r=Is(n-e),i=Math.min(Math.abs(n-e),360);return r*i},fSe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+h)/2,b=dSe(m,v),w=b>=0?1:-1,S,A;i==="insideStart"?(S=m+w*o,A=g):i==="insideEnd"?(S=v-w*o,A=!g):i==="end"&&(S=v+w*o,A=g),A=b<=0?A:!A;var E=Tr(u,d,y,S),N=Tr(u,d,y,S+(A?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(N.x,",").concat(N.y),T=wt(e.id)?sm("recharts-radial-line-"):e.id;return G.createElement("text",pp({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),G.createElement("defs",null,G.createElement("path",{id:T,d:_})),G.createElement("textPath",{xlinkHref:"#".concat(T)},n))},hSe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var m=Tr(o,a,u+r,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=Tr(o,a,y,h),w=b.x,S=b.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pSe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,y=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var S={x:a+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return Xn(Xn({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var A={x:a+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Xn(Xn({},A),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var E={x:a-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Xn(Xn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(s==="right"){var N={x:a+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Xn(Xn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return s==="insideLeft"?Xn({x:a+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},_):s==="insideRight"?Xn({x:a+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):s==="insideTop"?Xn({x:a+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},_):s==="insideBottom"?Xn({x:a+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):s==="insideTopLeft"?Xn({x:a+y,y:c+h,textAnchor:w,verticalAnchor:v},_):s==="insideTopRight"?Xn({x:a+u-y,y:c+h,textAnchor:b,verticalAnchor:v},_):s==="insideBottomLeft"?Xn({x:a+y,y:c+d-h,textAnchor:w,verticalAnchor:m},_):s==="insideBottomRight"?Xn({x:a+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},_):qd(s)&&(ke(s.x)||Ul(s.x))&&(ke(s.y)||Ul(s.y))?Xn({x:a+vc(s.x,u),y:c+vc(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):Xn({x:a+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},mSe=function(e){return"cx"in e&&ke(e.cx)};function zr(t){var e=t.offset,n=e===void 0?5:e,r=sSe(t,Z1e),i=Xn({offset:n},r),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||wt(a)&&wt(c)&&!x.isValidElement(u)&&!Et(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var m;if(Et(u)){if(m=x.createElement(u,i),x.isValidElement(m))return m}else m=uSe(i);var v=mSe(s),g=jt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return fSe(i,m,g);var y=v?hSe(i):pSe(i);return G.createElement(xv,pp({className:At("recharts-label",f)},g,y,{breakAll:h}),m)}zr.displayName="Label";var _U=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,g=e.width,y=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ke(g)&&ke(y)){if(ke(f)&&ke(h))return{x:f,y:h,width:g,height:y};if(ke(m)&&ke(v))return{x:m,y:v,width:g,height:y}}return ke(f)&&ke(h)?{x:f,y:h,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},gSe=function(e,n){return e?e===!0?G.createElement(zr,{key:"label-implicit",viewBox:n}):tr(e)?G.createElement(zr,{key:"label-implicit",viewBox:n,value:e}):x.isValidElement(e)?e.type===zr?x.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):Et(e)?G.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):qd(e)?G.createElement(zr,pp({viewBox:n},e,{key:"label-implicit"})):null:null},ySe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=_U(e),o=ns(i,zr).map(function(c,u){return x.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=gSe(e.label,n||s);return[a].concat(eSe(o))};zr.parseViewBox=_U;zr.renderCallByParent=ySe;function vSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var xSe=vSe;const bSe=Jt(xSe);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var wSe=["valueAccessor"],SSe=["data","dataKey","clockWise","id","textBreakAll"];function _Se(t){return ASe(t)||CSe(t)||TSe(t)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TSe(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function CSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ASe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NSe(t){var e=jSe(t,"string");return mp(e)=="symbol"?e:e+""}function jSe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SO(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ISe=function(e){return Array.isArray(e.value)?bSe(e.value):e.value};function nl(t){var e=t.valueAccessor,n=e===void 0?ISe:e,r=SO(t,wSe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,c=r.textBreakAll,u=SO(r,SSe);return!i||!i.length?null:G.createElement(Dn,{className:"recharts-label-list"},i.map(function(d,f){var h=wt(s)?n(d,f):Mi(d&&d.payload,s),m=wt(a)?{}:{id:"".concat(a,"-").concat(f)};return G.createElement(zr,Mv({},jt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:zr.parseViewBox(wt(o)?d:wO(wO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}nl.displayName="LabelList";function OSe(t,e){return t?t===!0?G.createElement(nl,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Et(t)?G.createElement(nl,{key:"labelList-implicit",data:e,content:t}):qd(t)?G.createElement(nl,Mv({data:e},t,{key:"labelList-implicit"})):null:null}function RSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ns(r,nl).map(function(o,a){return x.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=OSe(t.label,e);return[s].concat(_Se(i))}nl.renderCallByParent=RSe;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){MSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e,n){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DSe(t){var e=LSe(t,"string");return gp(e)=="symbol"?e:e+""}function LSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Se=function(e,n){var r=Is(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},pg=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(a?1:-1)+i,f=Math.asin(c/d)/Rv,h=u?s:s+o*f,m=Tr(n,r,d,h),v=Tr(n,r,i,h),g=u?s-o*f:s,y=Tr(n,r,d*Math.cos(f*Rv),g);return{center:m,circleTangency:v,lineTangency:y,theta:f}},EU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=$Se(o,a),u=o+c,d=Tr(n,r,s,o),f=Tr(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Tr(n,r,i,o),v=Tr(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},FSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Is(d-u),h=pg({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,y=pg({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,w=y.lineTangency,S=y.theta,A=c?Math.abs(u-d):Math.abs(u-d)-g-S;if(A<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):EU({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=pg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,T=N.lineTangency,P=N.theta,I=pg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=I.circleTangency,O=I.lineTangency,R=I.theta,F=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(F<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},VSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TU=function(e){var n=EO(EO({},VSe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var m=At("recharts-sector",h),v=o-s,g=vc(a,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=FSe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=EU({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),G.createElement("path",h_({},jt(n,!0),{className:m,d:y,role:"img"}))};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){BSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BSe(t,e,n){return e=USe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function USe(t){var e=zSe(t,"string");return yp(e)=="symbol"?e:e+""}function zSe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AO={curveBasisClosed:Fce,curveBasisOpen:Vce,curveBasis:$ce,curveBumpX:Ece,curveBumpY:Tce,curveLinearClosed:Bce,curveLinear:S0,curveMonotoneX:Uce,curveMonotoneY:zce,curveNatural:Wce,curveStep:Hce,curveStepAfter:Gce,curveStepBefore:qce},mg=function(e){return e.x===+e.x&&e.y===+e.y},Pf=function(e){return e.x},Nf=function(e){return e.y},WSe=function(e,n){if(Et(e))return e;var r="curve".concat(b0(e));return(r==="curveMonotone"||r==="curveBump")&&n?AO["".concat(r).concat(n==="vertical"?"Y":"X")]:AO[r]||S0},HSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=WSe(r,a),f=u?s.filter(function(g){return mg(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return mg(g)}):o,v=f.map(function(g,y){return CO(CO({},g),{},{base:m[y]})});return a==="vertical"?h=sg().y(Nf).x1(Pf).x0(function(g){return g.base.x}):h=sg().x(Pf).y1(Nf).y0(function(g){return g.base.y}),h.defined(mg).curve(d),h(v)}return a==="vertical"&&ke(o)?h=sg().y(Nf).x1(Pf).x0(o):ke(o)?h=sg().x(Pf).y1(Nf).y0(o):h=A6().x(Pf).y(Nf),h.defined(mg).curve(d),h(f)},m_=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?HSe(e):i;return x.createElement("path",p_({},jt(e,!1),iv(e),{className:At("recharts-curve",n),d:o,ref:s}))},CU={exports:{}},qSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GSe=qSe,KSe=GSe;function AU(){}function PU(){}PU.resetWarningCache=AU;var YSe=function(){function t(r,i,s,o,a,c){if(c!==KSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PU,resetWarningCache:AU};return n.PropTypes=n,n};CU.exports=YSe();var XSe=CU.exports;const Lt=Jt(XSe);var QSe=Object.getOwnPropertyNames,JSe=Object.getOwnPropertySymbols,ZSe=Object.prototype.hasOwnProperty;function PO(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function gg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function NO(t){return QSe(t).concat(JSe(t))}var e_e=Object.hasOwn||function(t,e){return ZSe.call(t,e)};function Ic(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var t_e="__v",n_e="__o",r_e="_owner",jO=Object.getOwnPropertyDescriptor,kO=Object.keys;function i_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function s_e(t,e){return Ic(t.getTime(),e.getTime())}function o_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function a_e(t,e){return t===e}function IO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=o.value,m=a.value;if(n.equals(h[0],m[0],c,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var l_e=Ic;function c_e(t,e,n){var r=kO(t),i=r.length;if(kO(e).length!==i)return!1;for(;i-- >0;)if(!NU(t,e,n,r[i]))return!1;return!0}function jf(t,e,n){var r=NO(t),i=r.length;if(NO(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!NU(t,e,n,s)||(o=jO(t,s),a=jO(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function u_e(t,e){return Ic(t.valueOf(),e.valueOf())}function d_e(t,e){return t.source===e.source&&t.flags===e.flags}function OO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(a=c.next())&&!a.done;){if(!i[d]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function f_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function h_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NU(t,e,n,r){return(r===r_e||r===n_e||r===t_e)&&(t.$$typeof||e.$$typeof)?!0:e_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var p_e="[object Arguments]",m_e="[object Boolean]",g_e="[object Date]",y_e="[object Error]",v_e="[object Map]",x_e="[object Number]",b_e="[object Object]",w_e="[object RegExp]",S_e="[object Set]",__e="[object String]",E_e="[object URL]",T_e=Array.isArray,RO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,MO=Object.assign,C_e=Object.prototype.toString.call.bind(Object.prototype.toString);function A_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,y):b==="function"?i(v,g,y):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(v,g,y);if(T_e(v))return e(v,g,y);if(RO!=null&&RO(v))return f(v,g,y);if(w===Date)return n(v,g,y);if(w===RegExp)return u(v,g,y);if(w===Map)return s(v,g,y);if(w===Set)return d(v,g,y);var S=C_e(v);return S===g_e?n(v,g,y):S===w_e?u(v,g,y):S===v_e?s(v,g,y):S===S_e?d(v,g,y):S===b_e?typeof v.then!="function"&&typeof g.then!="function"&&a(v,g,y):S===E_e?h(v,g,y):S===y_e?r(v,g,y):S===p_e?a(v,g,y):S===m_e||S===x_e||S===__e?c(v,g,y):!1}}function P_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?jf:i_e,areDatesEqual:s_e,areErrorsEqual:o_e,areFunctionsEqual:a_e,areMapsEqual:r?PO(IO,jf):IO,areNumbersEqual:l_e,areObjectsEqual:r?jf:c_e,arePrimitiveWrappersEqual:u_e,areRegExpsEqual:d_e,areSetsEqual:r?PO(OO,jf):OO,areTypedArraysEqual:r?jf:f_e,areUrlsEqual:h_e};if(n&&(i=MO({},i,n(i))),e){var s=gg(i.areArraysEqual),o=gg(i.areMapsEqual),a=gg(i.areObjectsEqual),c=gg(i.areSetsEqual);i=MO({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function N_e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function j_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var k_e=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:function(){return Ic}});Sl({strict:!0,createInternalComparator:function(){return Ic}});Sl({circular:!0,createInternalComparator:function(){return Ic}});Sl({circular:!0,createInternalComparator:function(){return Ic},strict:!0});function Sl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=P_e(t),c=A_e(a),u=r?r(c):N_e(c);return j_e({circular:n,comparator:c,createState:i,equals:u,strict:o})}function I_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):I_e(i)};requestAnimationFrame(r)}function g_(t){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(t)}function O_e(t){return L_e(t)||D_e(t)||M_e(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L_e(t){if(Array.isArray(t))return t}function $_e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=O_e(o),c=a[0],u=a.slice(1);if(typeof c=="number"){DO(i.bind(null,u),c);return}i(c),DO(i.bind(null,u));return}g_(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){jU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jU(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=V_e(t,"string");return vp(e)==="symbol"?e:String(e)}function V_e(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},U_e=function(e){return e},z_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fh=function(e,n){return Object.keys(n).reduce(function(r,i){return FO(FO({},r),{},jU({},i,e(i,n[i])))},{})},VO=function(e,n,r){return e.map(function(i){return"".concat(z_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function W_e(t,e){return G_e(t)||q_e(t,e)||kU(t,e)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function G_e(t){if(Array.isArray(t))return t}function K_e(t){return Q_e(t)||X_e(t)||kU(t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function X_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q_e(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dv=1e-4,IU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},OU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},BO=function(e,n){return function(r){var i=IU(e,n);return OU(i,r)}},J_e=function(e,n){return function(r){var i=IU(e,n),s=[].concat(K_e(i.map(function(o,a){return o*a}).slice(1)),[0]);return OU(s,r)}},UO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=W_e(u,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var f=BO(i,o),h=BO(s,a),m=J_e(i,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,S=w,A=0;A<8;++A){var E=f(S)-w,N=m(S);if(Math.abs(E-w)<Dv||N<Dv)return h(S);S=v(S-E/N)}return h(S)};return g.isStepper=!1,g},Z_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,v=h*s,g=h+(m-v)*a/1e3,y=h*a/1e3+d;return Math.abs(y-f)<Dv&&Math.abs(g)<Dv?[f,0]:[y,g]};return c.isStepper=!0,c.dt=a,c},eEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UO(i);case"spring":return Z_e();default:if(i.split("(")[0]==="cubic-bezier")return UO(i)}return typeof i=="function"?i:null};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function zO(t){return rEe(t)||nEe(t)||RU(t)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rEe(t){if(Array.isArray(t))return x_(t)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){v_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=sEe(t,"string");return xp(e)==="symbol"?e:String(e)}function sEe(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oEe(t,e){return cEe(t)||lEe(t,e)||RU(t,e)||aEe()}function aEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(t,e){if(t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cEe(t){if(Array.isArray(t))return t}var Lv=function(e,n,r){return e+(n-e)*r},b_=function(e){var n=e.from,r=e.to;return n!==r},uEe=function t(e,n,r){var i=fh(function(s,o){if(b_(o)){var a=e(o.from,o.to,o.velocity),c=oEe(a,2),u=c[0],d=c[1];return wr(wr({},o),{},{from:u,velocity:d})}return o},n);return r<1?fh(function(s,o){return b_(o)?wr(wr({},o),{},{velocity:Lv(o.velocity,i[s].velocity,r),from:Lv(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const dEe=function(t,e,n,r,i){var s=B_e(t,e),o=s.reduce(function(y,b){return wr(wr({},y),{},v_({},b,[t[b],e[b]]))},{}),a=s.reduce(function(y,b){return wr(wr({},y),{},v_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fh(function(b,w){return w.from},a)},m=function(){return!Object.values(a).filter(b_).length},v=function(b){u||(u=b);var w=b-u,S=w/n.dt;a=uEe(n,a,S),i(wr(wr(wr({},t),e),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var w=(b-d)/r,S=fh(function(E,N){return Lv.apply(void 0,zO(N).concat([n(w)]))},o);if(i(wr(wr(wr({},t),e),S)),w<1)c=requestAnimationFrame(f);else{var A=fh(function(E,N){return Lv.apply(void 0,zO(N).concat([n(1)]))},o);i(wr(wr(wr({},t),e),A))}};return f=n.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}var fEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hEe(t,e){if(t==null)return{};var n=pEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jw(t){return vEe(t)||yEe(t)||gEe(t)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function yEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vEe(t){if(Array.isArray(t))return w_(t)}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){Uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uf(t,e,n){return e=MU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MU(r.key),r)}}function wEe(t,e,n){return e&&bEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MU(t){var e=SEe(t,"string");return pd(e)==="symbol"?e:String(e)}function SEe(t,e){if(pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function EEe(t){var e=TEe();return function(){var r=$v(t),i;if(e){var s=$v(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return __(this,i)}}function __(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_(t)}function E_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}var la=function(t){_Ee(n,t);var e=EEe(n);function n(r,i){var s;xEe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(E_(s)),s.changeStyle=s.changeStyle.bind(E_(s)),!a||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),__(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},__(s);s.state={style:c?Uf({},c,u):u}}else s.state={style:{}};return s}return wEe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(a){if(!o){var m={style:c?Uf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(k_e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:i.to;if(this.state&&h){var y={style:c?Uf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(ys(ys({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=dEe(o,a,eEe(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,b){if(b===0)return g;var w=y.duration,S=y.easing,A=S===void 0?"ease":S,E=y.style,N=y.properties,_=y.onAnimationEnd,T=b>0?o[b-1]:y,P=N||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(jw(g),[s.runJSAnimation.bind(s,{from:T.style,to:E,duration:w,easing:A}),w]);var I=VO(P,w,A),j=ys(ys(ys({},T.style),E),{},{transition:I});return[].concat(jw(g),[j,w,_]).filter(U_e)};return this.manager.start([c].concat(jw(o.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$_e());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Uf({},a,c):c,y=VO(Object.keys(g),o,u);v.start([d,s,ys(ys({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hEe(i,fEe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||u===0||o<=0)return s;var f=function(m){var v=m.props,g=v.style,y=g===void 0?{}:g,b=v.className,w=x.cloneElement(m,ys(ys({},c),{},{style:ys(ys({},y),d),className:b}));return w};return u===1?f(x.Children.only(s)):G.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),n}(x.PureComponent);la.displayName="Animate";la.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};la.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function CEe(t,e){return jEe(t)||NEe(t,e)||PEe(t,e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(t,e){if(t){if(typeof t=="string")return qO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qO(t,e)}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jEe(t){if(Array.isArray(t))return t}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){kEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kEe(t,e,n){return e=IEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IEe(t){var e=OEe(t,"string");return bp(e)=="symbol"?e:e+""}function OEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YO=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},REe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),d=Math.max(s,s+a),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},MEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FA=function(e){var n=KO(KO({},MEe),e),r=x.useRef(),i=x.useState(-1),s=CEe(i,2),o=s[0],a=s[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=At("recharts-rectangle",m);return w?G.createElement(la,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:w},function(A){var E=A.width,N=A.height,_=A.x,T=A.y;return G.createElement(la,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:v},G.createElement("path",Fv({},jt(n,!0),{className:S,d:YO(_,T,E,N,h),ref:r})))}):G.createElement("path",Fv({},jt(n,!0),{className:S,d:YO(c,u,d,f,h)}))};function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}var VA=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=At("recharts-dot",s);return n===+n&&r===+r&&i===+i?x.createElement("circle",T_({},jt(e,!1),iv(e),{className:o,cx:n,cy:r,r:i})):null};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}var DEe=["x","y","top","left","width","height","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){$Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ee(t,e,n){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FEe(t){var e=VEe(t,"string");return wp(e)=="symbol"?e:e+""}function VEe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){if(t==null)return{};var n=UEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zEe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},WEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,g=BEe(e,DEe),y=LEe({x:r,y:s,top:a,left:u,width:f,height:m},g);return!ke(r)||!ke(s)||!ke(f)||!ke(m)||!ke(a)||!ke(u)?null:G.createElement("path",C_({},jt(y,!0),{className:At("recharts-cross",v),d:zEe(r,s,f,m,a,u)}))},HEe=Q6,qEe=HEe(Object.getPrototypeOf,Object),GEe=qEe,KEe=fa,YEe=GEe,XEe=ha,QEe="[object Object]",JEe=Function.prototype,ZEe=Object.prototype,DU=JEe.toString,eTe=ZEe.hasOwnProperty,tTe=DU.call(Object);function nTe(t){if(!XEe(t)||KEe(t)!=QEe)return!1;var e=YEe(t);if(e===null)return!0;var n=eTe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DU.call(n)==tTe}var rTe=nTe;const iTe=Jt(rTe);var sTe=fa,oTe=ha,aTe="[object Boolean]";function lTe(t){return t===!0||t===!1||oTe(t)&&sTe(t)==aTe}var cTe=lTe;const uTe=Jt(cTe);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function dTe(t,e){return mTe(t)||pTe(t,e)||hTe(t,e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mTe(t){if(Array.isArray(t))return t}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=vTe(t,"string");return Sp(e)=="symbol"?e:e+""}function vTe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eR=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},xTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bTe=function(e){var n=ZO(ZO({},xTe),e),r=x.useRef(),i=x.useState(-1),s=dTe(i,2),o=s[0],a=s[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=At("recharts-trapezoid",m);return b?G.createElement(la,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(S){var A=S.upperWidth,E=S.lowerWidth,N=S.height,_=S.x,T=S.y;return G.createElement(la,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},G.createElement("path",Vv({},jt(n,!0),{className:w,d:eR(_,T,A,E,N),ref:r})))}):G.createElement("g",null,G.createElement("path",Vv({},jt(n,!0),{className:w,d:eR(c,u,d,f,h)})))},wTe=["option","shapeType","propTransformer","activeClassName","isActive"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function STe(t,e){if(t==null)return{};var n=_Te(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){ETe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ETe(t,e,n){return e=TTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TTe(t){var e=CTe(t,"string");return _p(e)=="symbol"?e:e+""}function CTe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ATe(t,e){return Bv(Bv({},e),t)}function PTe(t,e){return t==="symbols"}function nR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(FA,n);case"trapezoid":return G.createElement(bTe,n);case"sector":return G.createElement(TU,n);case"symbols":if(PTe(e))return G.createElement(rA,n);break;default:return null}}function NTe(t){return x.isValidElement(t)?t.props:t}function jTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ATe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=STe(t,wTe),u;if(x.isValidElement(e))u=x.cloneElement(e,Bv(Bv({},c),NTe(e)));else if(Et(e))u=e(c);else if(iTe(e)&&!uTe(e)){var d=i(e,c);u=G.createElement(nR,{shapeType:n,elementProps:d})}else{var f=c;u=G.createElement(nR,{shapeType:n,elementProps:f})}return a?G.createElement(Dn,{className:o},u):u}function $0(t,e){return e!=null&&"trapezoids"in t.props}function F0(t,e){return e!=null&&"sectors"in t.props}function Ep(t,e){return e!=null&&"points"in t.props}function kTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function ITe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function OTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function RTe(t,e){var n;return $0(t,e)?n=kTe:F0(t,e)?n=ITe:Ep(t,e)&&(n=OTe),n}function MTe(t,e){var n;return $0(t,e)?n="trapezoids":F0(t,e)?n="sectors":Ep(t,e)&&(n="points"),n}function DTe(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(F0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ep(t,e)?e.payload:{}}function LTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=MTe(n,e),s=DTe(n,e),o=r.filter(function(c,u){var d=M0(s,c),f=n.props[i].filter(function(v){var g=RTe(n,e);return g(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),a=r.indexOf(o[o.length-1]);return a}var $Te=Math.ceil,FTe=Math.max;function VTe(t,e,n,r){for(var i=-1,s=FTe($Te((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var BTe=VTe,UTe=mB,rR=1/0,zTe=17976931348623157e292;function WTe(t){if(!t)return t===0?t:0;if(t=UTe(t),t===rR||t===-rR){var e=t<0?-1:1;return e*zTe}return t===t?t:0}var HTe=WTe,qTe=BTe,GTe=C0,kw=HTe;function KTe(t){return function(e,n,r){return r&&typeof r!="number"&&GTe(e,n,r)&&(n=r=void 0),e=kw(e),n===void 0?(n=e,e=0):n=kw(n),r=r===void 0?e<n?1:-1:kw(r),qTe(e,n,r,t)}}var YTe=KTe,XTe=YTe,QTe=XTe(),JTe=QTe;const Uv=Jt(JTe);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){LU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LU(t,e,n){return e=ZTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZTe(t){var e=eCe(t,"string");return Tp(e)=="symbol"?e:e+""}function eCe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tCe=["Webkit","Moz","O","ms"],nCe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=tCe.reduce(function(s,o){return sR(sR({},s),{},LU({},o+r,n))},{});return i[e]=n,i};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FU(r.key),r)}}function iCe(t,e,n){return e&&aR(t.prototype,e),n&&aR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sCe(t,e,n){return e=Wv(e),oCe(t,$U()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function oCe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aCe(t)}function aCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function lCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function Si(t,e,n){return e=FU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){var e=cCe(t,"string");return md(e)=="symbol"?e:e+""}function cCe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uCe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=uh().domain(Uv(0,c)).range([s,s+o-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},lR=function(e){return e.changedTouches&&!!e.changedTouches.length},gd=function(t){function e(n){var r;return rCe(this,e),r=sCe(this,e,[n]),Si(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Si(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Si(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Si(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Si(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Si(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Si(r,"handleSlideDragStart",function(i){var s=lR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lCe(e,t),iCe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),m=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Mi(s[r],a,r);return Et(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=r.pageX-s;g>0?g=Math.min(g,u+d-f-a,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-a));var y=this.getIndex({startX:o+g,endX:a+g});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:o+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=lR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),b[o]=u+w;var S=this.getIndex(b),A=S.startIndex,E=S.endIndex,N=function(){var T=y.length-1;return o==="startX"&&(a>c?A%g===0:E%g===0)||a<c&&E===T||o==="endX"&&(a>c?E%g===0:A%g===0)||a>c&&E===T};this.setState(Si(Si({},o,u+w),"brushMoveStartX",r.pageX),function(){v&&N()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Si({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.fill,u=r.stroke;return G.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.data,u=r.children,d=r.padding,f=x.Children.only(u);return f?G.cloneElement(f,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,y=c.endIndex,b=Math.max(r,this.props.x),w=Iw(Iw({},jt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),S=m||"Min value: ".concat((s=v[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return G.createElement(Dn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return G.createElement(Dn,{className:"recharts-brush-texts"},G.createElement(xv,zv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+a/2},v),this.getTextOfTick(i)),G.createElement(xv,zv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ke(a)||!ke(c)||!ke(u)||!ke(d)||u<=0||d<=0)return null;var S=At("recharts-brush",s),A=G.Children.count(o)===1,E=nCe("userSelect","none");return G.createElement(Dn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,c=r.stroke,u=Math.floor(s+a/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):Et(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Iw({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?uCe({data:s,width:o,x:a,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);r[c]>i?a=c:o=c}return i>=r[a]?a:o}}])}(x.PureComponent);Si(gd,"displayName","Brush");Si(gd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dCe=dA;function fCe(t,e){var n;return dCe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var hCe=fCe,pCe=z6,mCe=Zd,gCe=hCe,yCe=mi,vCe=C0;function xCe(t,e,n){var r=yCe(t)?pCe:gCe;return n&&vCe(t,e,n)&&(e=void 0),r(t,mCe(e))}var bCe=xCe;const wCe=Jt(bCe);var mo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},cR=uB;function SCe(t,e,n){e=="__proto__"&&cR?cR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _Ce=SCe,ECe=_Ce,TCe=lB,CCe=Zd;function ACe(t,e){var n={};return e=CCe(e),TCe(t,function(r,i,s){ECe(n,i,e(r,i,s))}),n}var PCe=ACe;const NCe=Jt(PCe);function jCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var kCe=jCe,ICe=dA;function OCe(t,e){var n=!0;return ICe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var RCe=OCe,MCe=kCe,DCe=RCe,LCe=Zd,$Ce=mi,FCe=C0;function VCe(t,e,n){var r=$Ce(t)?MCe:DCe;return n&&FCe(t,e,n)&&(e=void 0),r(t,LCe(e))}var BCe=VCe;const UCe=Jt(BCe);var zCe=["x","y"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){WCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WCe(t,e,n){return e=HCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HCe(t){var e=qCe(t,"string");return Cp(e)=="symbol"?e:e+""}function qCe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GCe(t,e){if(t==null)return{};var n=KCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YCe(t,e){var n=t.x,r=t.y,i=GCe(t,zCe),s="".concat(n),o=parseInt(s,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return kf(kf(kf(kf(kf({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function dR(t){return G.createElement(jTe,P_({shapeType:"rectangle",propTransformer:YCe,activeClassName:"recharts-active-bar"},t))}var XCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ke(r)||cle(r);return s?e(r,i):(s||bc(),n)}},QCe=["value","background"],VU;function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function JCe(t,e){if(t==null)return{};var n=ZCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function tAe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nAe(t,e,n){return e=qv(e),rAe(t,BU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function rAe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iAe(t)}function iAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function sAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function Ba(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=oAe(t,"string");return yd(e)=="symbol"?e:e+""}function oAe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=function(t){function e(){var n;eAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nAe(this,e,[].concat(i)),Ba(n,"state",{isAnimationFinished:!1}),Ba(n,"id",sm("recharts-bar-")),Ba(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ba(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return sAe(e,t),tAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,d=jt(this.props,!1);return r&&r.map(function(f,h){var m=h===c,v=m?u:o,g=Fn(Fn(Fn({},d),f),{},{isActive:m,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Dn,Hv({className:"recharts-bar-rectangle"},sv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),G.createElement(dR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return G.createElement(la,{begin:c,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=s.map(function(y,b){var w=h&&h[b];if(w){var S=Cs(w.x,y.x),A=Cs(w.y,y.y),E=Cs(w.width,y.width),N=Cs(w.height,y.height);return Fn(Fn({},y),{},{x:S(v),y:A(v),width:E(v),height:N(v)})}if(o==="horizontal"){var _=Cs(0,y.height),T=_(v);return Fn(Fn({},y),{},{y:y.y+y.height-T,height:T})}var P=Cs(0,y.width),I=P(v);return Fn(Fn({},y),{},{width:I})});return G.createElement(Dn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!M0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=jt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=JCe(u,QCe);if(!f)return null;var m=Fn(Fn(Fn(Fn(Fn({},h),{},{fill:"#eee"},f),c),sv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return G.createElement(dR,Hv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ns(d,um);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Mi(y,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(Dn,v,f.map(function(g){return G.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,g=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=At("recharts-bar",o),w=a&&a.allowDataOverflow,S=c&&c.allowDataOverflow,A=w||S,E=wt(g)?this.id:g;return G.createElement(Dn,{className:b},w||S?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(E)},G.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,G.createElement(Dn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!m||y)&&nl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);VU=dm;Ba(dm,"displayName","Bar");Ba(dm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Go.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ba(dm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=R1e(r,n);if(!m)return null;var v=e.layout,g=n.type.defaultProps,y=g!==void 0?Fn(Fn({},g),n.props):n.props,b=y.dataKey,w=y.children,S=y.minPointSize,A=v==="horizontal"?o:s,E=u?A.scale.domain():null,N=U1e({numericAxis:A}),_=ns(w,yB),T=f.map(function(P,I){var j,O,R,F,B,U;u?j=M1e(u[d+I],E):(j=Mi(P,b),Array.isArray(j)||(j=[N,j]));var W=XCe(S,VU.defaultProps.minPointSize)(j[1],I);if(v==="horizontal"){var $,z=[o.scale(j[0]),o.scale(j[1])],ne=z[0],se=z[1];O=fO({axis:s,ticks:a,bandSize:i,offset:m.offset,entry:P,index:I}),R=($=se??ne)!==null&&$!==void 0?$:void 0,F=m.size;var Q=ne-se;if(B=Number.isNaN(Q)?0:Q,U={x:O,y:o.y,width:F,height:o.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ge=Is(B||W)*(Math.abs(W)-Math.abs(B));R-=ge,B+=ge}}else{var ue=[s.scale(j[0]),s.scale(j[1])],Ce=ue[0],tt=ue[1];if(O=Ce,R=fO({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:P,index:I}),F=tt-Ce,B=m.size,U={x:s.x,y:R,width:s.width,height:B},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var xe=Is(F||W)*(Math.abs(W)-Math.abs(F));F+=xe}}return Fn(Fn(Fn({},P),{},{x:O,y:R,width:F,height:B,value:u?j:j[1],payload:P,background:U},_&&_[I]&&_[I].props),{},{tooltipPayload:[SU(n,P)],tooltipPosition:{x:O+F/2,y:R+B/2}})});return Fn({data:T,layout:v},h)});function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function aAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zU(r.key),r)}}function lAe(t,e,n){return e&&pR(t.prototype,e),n&&pR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0(t,e,n){return e=zU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zU(t){var e=cAe(t,"string");return Ap(e)=="symbol"?e:e+""}function cAe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uAe=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ti(u,dm);return d.reduce(function(m,v){var g=n[v],y=g.orientation,b=g.domain,w=g.padding,S=w===void 0?{}:w,A=g.mirror,E=g.reversed,N="".concat(y).concat(A?"Mirror":""),_,T,P,I,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],R=1/0,F=g.categoricalDomain.sort(fle);if(F.forEach(function(ue,Ce){Ce>0&&(R=Math.min((ue||0)-(F[Ce-1]||0),R))}),Number.isFinite(R)){var B=R/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=B*U/2),g.padding==="no-gap"){var W=vc(e.barCategoryGap,B*U),$=B*U/2;_=$-W-($-W)/U*W}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var z=I1e(g,s,h),ne=z.scale,se=z.realScaleType;ne.domain(b).range(T),O1e(ne);var Q=B1e(ne,_s(_s({},g),{},{realScaleType:se}));i==="xAxis"?(j=y==="top"&&!A||y==="bottom"&&A,P=r.left,I=f[N]-j*g.height):i==="yAxis"&&(j=y==="left"&&!A||y==="right"&&A,P=f[N]-j*g.width,I=r.top);var ge=_s(_s(_s({},g),Q),{},{realScaleType:se,x:P,y:I,scale:ne,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ge.bandSize=Ov(ge,Q),!g.hide&&i==="xAxis"?f[N]+=(j?-1:1)*ge.height:g.hide||(f[N]+=(j?-1:1)*ge.width),_s(_s({},m),{},V0({},v,ge))},{})},WU=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},dAe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return WU({x:n,y:r},{x:i,y:s})},HU=function(){function t(e){aAe(this,t),this.scale=e}return lAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();V0(HU,"EPS",1e-4);var BA=function(e){var n=Object.keys(e).reduce(function(r,i){return _s(_s({},r),{},V0({},i,HU.create(e[i])))},{});return _s(_s({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return NCe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return UCe(i,function(s,o){return n[o].isInRange(s)})}})};function fAe(t){return(t%180+180)%180}var hAe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=fAe(i),o=s*Math.PI/180,a=Math.atan(r/n),c=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},pAe=hae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qU=x.createContext(void 0),GU=x.createContext(void 0),KU=x.createContext(void 0),mAe=x.createContext({}),YU=x.createContext(void 0),XU=x.createContext(0),QU=x.createContext(0),gR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,d=pAe(s);return G.createElement(qU.Provider,{value:r},G.createElement(GU.Provider,{value:i},G.createElement(mAe.Provider,{value:s},G.createElement(KU.Provider,{value:d},G.createElement(YU.Provider,{value:o},G.createElement(XU.Provider,{value:u},G.createElement(QU.Provider,{value:c},a)))))))},gAe=function(){return x.useContext(YU)},JU=function(e){var n=x.useContext(qU);n==null&&bc();var r=n[e];return r==null&&bc(),r},ZU=function(e){var n=x.useContext(GU);n==null&&bc();var r=n[e];return r==null&&bc(),r},yAe=function(){var e=x.useContext(KU);return e},e9=function(){return x.useContext(QU)},t9=function(){return x.useContext(XU)};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,n){return e=Gv(e),SAe(t,n9()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function EAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){UA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UA(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=TAe(t,"string");return vd(e)=="symbol"?e:e+""}function TAe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CAe(t,e){return jAe(t)||NAe(t,e)||PAe(t,e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(t,e){if(t){if(typeof t=="string")return xR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(t,e)}}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jAe(t){if(Array.isArray(t))return t}function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}var kAe=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):Et(e)?r=e(n):r=G.createElement("line",k_({},n,{className:"recharts-reference-line-line"})),r},IAe=function(e,n,r,i,s,o,a,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(r){var v=u.y,g=e.y.apply(v,{position:o});if(mo(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(n){var b=u.x,w=e.x.apply(b,{position:o});if(mo(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var A=u.segment,E=A.map(function(N){return e.apply(N,{position:o})});return mo(u,"discard")&&wCe(E,function(N){return!e.isInRange(N)})?null:E}return null};function OAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=gAe(),d=JU(i),f=ZU(s),h=yAe();if(!u||!h)return null;ec(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=BA({x:d.scale,y:f.scale}),v=tr(e),g=tr(n),y=r&&r.length===2,b=IAe(m,v,g,y,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=CAe(b,2),S=w[0],A=S.x,E=S.y,N=w[1],_=N.x,T=N.y,P=mo(t,"hidden")?"url(#".concat(u,")"):void 0,I=vR(vR({clipPath:P},jt(t,!0)),{},{x1:A,y1:E,x2:_,y2:T});return G.createElement(Dn,{className:At("recharts-reference-line",a)},kAe(o,I),zr.renderCallByParent(t,dAe({x1:A,y1:E,x2:_,y2:T})))}var zA=function(t){function e(){return vAe(this,e),wAe(this,e,arguments)}return EAe(e,t),bAe(e,[{key:"render",value:function(){return G.createElement(OAe,this.props)}}])}(G.Component);UA(zA,"displayName","ReferenceLine");UA(zA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function DAe(t,e,n){return e&&MAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LAe(t,e,n){return e=Kv(e),$Ae(t,i9()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function $Ae(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(t)}function FAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function VAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function B0(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=BAe(t,"string");return xd(e)=="symbol"?e:e+""}function BAe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UAe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=BA({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return mo(e,"discard")&&!o.isInRange(a)?null:a},U0=function(t){function e(){return RAe(this,e),LAe(this,e,arguments)}return VAe(e,t),DAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,c=r.clipPathId,u=tr(i),d=tr(s);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=UAe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,y=v.className,b=mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=wR(wR({clipPath:b},jt(this.props,!0)),{},{cx:h,cy:m});return G.createElement(Dn,{className:At("recharts-reference-dot",y)},e.renderDot(g,w),zr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(G.Component);B0(U0,"displayName","ReferenceDot");B0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B0(U0,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):Et(t)?n=t(e):n=G.createElement(VA,I_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a9(r.key),r)}}function HAe(t,e,n){return e&&WAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qAe(t,e,n){return e=Yv(e),GAe(t,o9()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function GAe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KAe(t)}function KAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function YAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function z0(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=XAe(t,"string");return bd(e)=="symbol"?e:e+""}function XAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QAe=function(e,n,r,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=BA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return mo(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:WU(m,v)},W0=function(t){function e(){return zAe(this,e),qAe(this,e,arguments)}return YAe(e,t),HAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ec(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tr(i),h=tr(s),m=tr(o),v=tr(a),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var y=QAe(f,h,m,v,this.props);if(!y&&!g)return null;var b=mo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return G.createElement(Dn,{className:At("recharts-reference-area",c)},e.renderRect(g,_R(_R({clipPath:b},jt(this.props,!0)),y)),zr.renderCallByParent(this.props,y))}}])}(G.Component);z0(W0,"displayName","ReferenceArea");z0(W0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z0(W0,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):Et(t)?n=t(e):n=G.createElement(FA,R_({},e,{className:"recharts-reference-area-rect"})),n});function l9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function JAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hAe(r,n)}function ZAe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function Xv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ePe(t,e){return l9(t,e+1)}function tPe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,c=0,u=1,d=o,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:l9(r,u)};var g=c,y,b=function(){return y===void 0&&(y=n(v,g)),y},w=v.coordinate,S=c===0||Xv(t,w,b,d,a);S||(c=0,d=o,u+=1),S&&(d=w+t*(b()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){nPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nPe(t,e,n){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rPe(t){var e=iPe(t,"string");return Pp(e)=="symbol"?e:e+""}function iPe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sPe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(h){var m=s[h],v,g=function(){return v===void 0&&(v=n(m,h)),v};if(h===o-1){var y=t*(m.coordinate+t*g()/2-c);s[h]=m=$r($r({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else s[h]=m=$r($r({},m),{},{tickCoord:m.coordinate});var b=Xv(t,m.tickCoord,g,a,c);b&&(c=m.tickCoord-t*(g()/2+i),s[h]=$r($r({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function oPe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);o[a-1]=d=$r($r({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Xv(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),o[a-1]=$r($r({},d),{},{isShow:!0}))}for(var v=s?a-1:a,g=function(w){var S=o[w],A,E=function(){return A===void 0&&(A=n(S,w)),A};if(w===0){var N=t*(S.coordinate-t*E()/2-c);o[w]=S=$r($r({},S),{},{tickCoord:N<0?S.coordinate-N*t:S.coordinate})}else o[w]=S=$r($r({},S),{},{tickCoord:S.coordinate});var _=Xv(t,S.tickCoord,E,c,u);_&&(c=S.tickCoord+t*(E()/2+i),o[w]=$r($r({},S),{},{isShow:!0}))},y=0;y<v;y++)g(y);return o}function aPe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ke(c)||Go.isSsr)return ePe(i,typeof c=="number"&&ke(c)?c:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?ch(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,A){var E=Et(u)?u(S.value,A):S.value;return m==="width"?JAe(ch(E,{fontSize:e,letterSpacing:n}),v,f):ch(E,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Is(i[1].coordinate-i[0].coordinate):1,b=ZAe(s,y,m);return c==="equidistantPreserveStart"?tPe(y,b,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=oPe(y,b,g,i,o,c==="preserveStartEnd"):h=sPe(y,b,g,i,o),h.filter(function(w){return w.isShow}))}var lPe=["viewBox"],cPe=["viewBox"],uPe=["ticks"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){WA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e){if(t==null)return{};var n=dPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u9(r.key),r)}}function hPe(t,e,n){return e&&CR(t.prototype,e),n&&CR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pPe(t,e,n){return e=Qv(e),mPe(t,c9()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function mPe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(t)}function gPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function yPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function WA(t,e,n){return e=u9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t){var e=vPe(t,"string");return wd(e)=="symbol"?e:e+""}function vPe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H0=function(t){function e(n){var r;return fPe(this,e),r=pPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yPe(e,t),hPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Ow(r,lPe),a=this.props,c=a.viewBox,u=Ow(a,cPe);return!Tu(s,c)||!Tu(o,u)||!Tu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,g,y,b,w,S=f?-1:1,A=r.tickSize||d,E=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,y=o+ +!f*c,g=y-S*A,w=g-S*h,b=E;break;case"left":g=y=r.coordinate,v=s+ +!f*a,m=v-S*A,b=m-S*h,w=E;break;case"right":g=y=r.coordinate,v=s+ +f*a,m=v+S*A,b=m+S*h,w=E;break;default:m=v=r.coordinate,y=o+ +f*c,g=y+S*A,w=g+S*h,b=E;break}return{line:{x1:m,y1:g,x2:v,y2:y},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Yn(Yn(Yn({},jt(this.props,!1)),jt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Yn(Yn({},f),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Yn(Yn({},f),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+a})}return G.createElement("line",cu({},f,{className:At("recharts-cartesian-axis-line",ts(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=aPe(Yn(Yn({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=jt(this.props,!1),b=jt(d,!1),w=Yn(Yn({},y),{},{fill:"none"},jt(c,!1)),S=m.map(function(A,E){var N=o.getTickLineCoord(A),_=N.line,T=N.tick,P=Yn(Yn(Yn(Yn({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:u},b),T),{},{index:E,payload:A,visibleTicksCount:m.length,tickFormatter:f});return G.createElement(Dn,cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},sv(o.props,A,E)),c&&G.createElement("line",cu({},w,_,{className:At("recharts-cartesian-axis-tick-line",ts(c,"className"))})),d&&e.renderTickItem(d,P,"".concat(Et(f)?f(A.value,E):A.value).concat(h||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Ow(f,uPe),v=h;return Et(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||a<=0||!v||!v.length?null:G.createElement(Dn,{className:At("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=At(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?o=G.cloneElement(r,Yn(Yn({},i),{},{className:a})):Et(r)?o=r(Yn(Yn({},i),{},{className:a})):o=G.createElement(xv,cu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);WA(H0,"displayName","CartesianAxis");WA(H0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xPe=["type","layout","connectNulls","ref"],bPe=["key"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function AR(t,e){if(t==null)return{};var n=wPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bc(t){return TPe(t)||EPe(t)||_Pe(t)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return L_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(t,e)}}function EPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TPe(t){if(Array.isArray(t))return L_(t)}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f9(r.key),r)}}function APe(t,e,n){return e&&NR(t.prototype,e),n&&NR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PPe(t,e,n){return e=Jv(e),NPe(t,d9()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function NPe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function kPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Es(t,e,n){return e=f9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f9(t){var e=IPe(t,"string");return Sd(e)=="symbol"?e:e+""}function IPe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=function(t){function e(){var n;CPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=PPe(this,e,[].concat(i)),Es(n,"state",{isAnimationFinished:!0,totalLength:0}),Es(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),Es(n,"getStrokeDasharray",function(o,a,c){var u=c.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/u),f=o%u,h=a-o,m=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>f){m=[].concat(Bc(c.slice(0,v)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Bc(e.repeat(c,d)),Bc(m),y).map(function(b){return"".concat(b,"px")}).join(", ")}),Es(n,"id",sm("recharts-line-")),Es(n,"pathRef",function(o){n.mainCurve=o}),Es(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Es(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return kPe(e,t),APe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ns(d,um);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Mi(g.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(Dn,m,f.map(function(v){return G.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,c=a.dot,u=a.points,d=a.dataKey,f=jt(this.props,!1),h=jt(c,!0),m=u.map(function(g,y){var b=wi(wi(wi({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return G.createElement(Dn,hh({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,c=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=AR(a,xPe),h=wi(wi(wi({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return G.createElement(m_,hh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,g=o.width,y=o.height,b=this.state,w=b.prevPoints,S=b.totalLength;return G.createElement(la,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(w){var N=w.length/a.length,_=a.map(function(O,R){var F=Math.floor(R*N);if(w[F]){var B=w[F],U=Cs(B.x,O.x),W=Cs(B.y,O.y);return wi(wi({},O),{},{x:U(E),y:W(E)})}if(v){var $=Cs(g*2,O.x),z=Cs(y/2,O.y);return wi(wi({},O),{},{x:$(E),y:z(E)})}return wi(wi({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(_,r,i)}var T=Cs(0,S),P=T(E),I;if(c){var j="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});I=s.getStrokeDasharray(P,S,j)}else I=s.generateSimpleStrokeDasharray(S,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return a&&o&&o.length&&(!u&&d>0||!M0(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,g=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=a.length===1,S=At("recharts-line",c),A=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,N=A||E,_=wt(y)?this.id:y,T=(r=jt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,I=P===void 0?3:P,j=T.strokeWidth,O=j===void 0?2:j,R=wle(o)?o:{},F=R.clipDot,B=F===void 0?!0:F,U=I*2+O;return G.createElement(Dn,{className:S},A||E?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(_)},G.createElement("rect",{x:A?h:h-m/2,y:E?f:f-v/2,width:A?m:m*2,height:E?v:v*2})),!B&&G.createElement("clipPath",{id:"clipPath-dots-".concat(_)},G.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:v+U}))):null,!w&&this.renderCurve(N,_),this.renderErrorBar(N,_),(w||o)&&this.renderDots(N,B,_),(!g||b)&&nl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Bc(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Bc(o),Bc(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(G.isValidElement(r))s=G.cloneElement(r,i);else if(Et(r))s=r(i);else{var o=i.key,a=AR(i,bPe),c=At("recharts-line-dot",typeof r!="boolean"?r.className:"");s=G.createElement(VA,hh({key:o},a,{className:c}))}return s}}])}(x.PureComponent);Es(fm,"displayName","Line");Es(fm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Go.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Es(fm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,m){var v=Mi(h,o);return d==="horizontal"?{x:dO({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:wt(v)?null:r.scale(v),value:v,payload:h}:{x:wt(v)?null:n.scale(v),y:dO({axis:r,ticks:s,bandSize:a,entry:h,index:m}),value:v,payload:h}});return wi({points:f,layout:d},u)});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function OPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m9(r.key),r)}}function MPe(t,e,n){return e&&RPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DPe(t,e,n){return e=Zv(e),LPe(t,h9()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function LPe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Pe(t)}function $Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h9=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function p9(t,e,n){return e=m9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m9(t){var e=VPe(t,"string");return _d(e)=="symbol"?e:e+""}function VPe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function BPe(t){var e=t.xAxisId,n=e9(),r=t9(),i=JU(e);return i==null?null:x.createElement(H0,V_({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Hl(o,!0)}}))}var q0=function(t){function e(){return OPe(this,e),DPe(this,e,arguments)}return FPe(e,t),MPe(e,[{key:"render",value:function(){return x.createElement(BPe,this.props)}}])}(x.Component);p9(q0,"displayName","XAxis");p9(q0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function UPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v9(r.key),r)}}function WPe(t,e,n){return e&&zPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HPe(t,e,n){return e=ex(e),qPe(t,g9()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function qPe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GPe(t)}function GPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function KPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function y9(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=YPe(t,"string");return Ed(e)=="symbol"?e:e+""}function YPe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}var XPe=function(e){var n=e.yAxisId,r=e9(),i=t9(),s=ZU(n);return s==null?null:x.createElement(H0,U_({},s,{className:At("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Hl(a,!0)}}))},G0=function(t){function e(){return UPe(this,e),HPe(this,e,arguments)}return KPe(e,t),WPe(e,[{key:"render",value:function(){return x.createElement(XPe,this.props)}}])}(x.Component);y9(G0,"displayName","YAxis");y9(G0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jR(t){return eNe(t)||ZPe(t)||JPe(t)||QPe()}function QPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function ZPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eNe(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W_=function(e,n,r,i,s){var o=ns(e,zA),a=ns(e,U0),c=[].concat(jR(o),jR(a)),u=ns(e,W0),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===r&&mo(y.props,"extendDomain")&&ke(y.props[f])){var b=y.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===r&&mo(y.props,"extendDomain")&&ke(y.props[m])&&ke(y.props[v])){var b=y.props[m],w=y.props[v];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,y){return ke(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},x9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,m,v){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,w,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];y.fn.apply(y.context,w)}else{var A=y.length,E;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),b){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];y[S].fn.apply(y[S].context,w)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(x9);var tNe=x9.exports;const nNe=Jt(tNe);var Rw=new nNe,Mw="recharts.syncMouseEvents";function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function rNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function sNe(t,e,n){return e&&iNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dw(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=oNe(t,"string");return Np(e)=="symbol"?e:e+""}function oNe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aNe=function(){function t(){rNe(this,t),Dw(this,"activeIndex",0),Dw(this,"coordinateList",[]),Dw(this,"layout","horizontal")}return sNe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lNe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function cNe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function w9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Tr(e,n,r,i),a=Tr(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function uNe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Tr(a,c,u,f),m=Tr(a,c,d,f);r=h.x,i=h.y,s=m.x,o=m.y}else return w9(e);return[{x:r,y:i},{x:s,y:o}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){dNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dNe(t,e,n){return e=fNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fNe(t){var e=hNe(t,"string");return jp(e)=="symbol"?e:e+""}function hNe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pNe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,g=m_;if(h==="ScatterChart")v=o,g=WEe;else if(h==="BarChart")v=cNe(f,o,c,d),g=FA;else if(f==="radial"){var y=w9(o),b=y.cx,w=y.cy,S=y.radius,A=y.startAngle,E=y.endAngle;v={cx:b,cy:w,startAngle:A,endAngle:E,innerRadius:S,outerRadius:S},g=TU}else v={points:uNe(f,o,c)},g=m_;var N=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},c),v),jt(m,!1)),{},{payload:a,payloadIndex:u,className:At("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var mNe=["item"],gNe=["children","className","width","height","style","compact","title","desc"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function IR(t,e){return xNe(t)||vNe(t,e)||_9(t,e)||yNe()}function yNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xNe(t){if(Array.isArray(t))return t}function OR(t,e){if(t==null)return{};var n=bNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E9(r.key),r)}}function _Ne(t,e,n){return e&&SNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ENe(t,e,n){return e=tx(e),TNe(t,S9()?Reflect.construct(e,n||[],tx(t).constructor):e.apply(t,n))}function TNe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CNe(t)}function CNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function Cd(t){return jNe(t)||NNe(t)||_9(t)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function NNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jNe(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function at(t,e,n){return e=E9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E9(t){var e=kNe(t,"string");return Td(e)=="symbol"?e:e+""}function kNe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var INe={xAxis:["bottom","top"],yAxis:["left","right"]},ONe={width:"100%",height:"100%"},T9={x:0,y:0};function vg(t){return t}var RNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},MNe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return oe(oe(oe({},i),Tr(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return oe(oe(oe({},i),Tr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return T9},K0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(Cd(a),Cd(u)):a},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function C9(t){return t==="number"?[0,"auto"]:void 0}var G_=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=K0(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?a:f;h=rv(m,o.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Cd(c),[SU(u,h)]):c},[])},MR=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=RNe(s,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=C1e(o,a,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=G_(e,n,d,f),m=MNe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},DNe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=bU(d,s);return r.reduce(function(v,g){var y,b=g.type.defaultProps!==void 0?oe(oe({},g.type.defaultProps),g.props):g.props,w=b.type,S=b.dataKey,A=b.allowDataOverflow,E=b.allowDuplicatedCategory,N=b.scale,_=b.ticks,T=b.includeHidden,P=b[o];if(v[P])return v;var I=K0(e.data,{graphicalItems:i.filter(function(Q){var ge,ue=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o];return ue===P}),dataStartIndex:c,dataEndIndex:u}),j=I.length,O,R,F;lNe(b.domain,A,w)&&(O=u_(b.domain,null,A),m&&(w==="number"||N!=="auto")&&(F=dh(I,S,"category")));var B=C9(w);if(!O||O.length===0){var U,W=(U=b.domain)!==null&&U!==void 0?U:B;if(S){if(O=dh(I,S,w),w==="category"&&m){var $=dle(O);E&&$?(R=O,O=Uv(0,j)):E||(O=mO(W,O,g).reduce(function(Q,ge){return Q.indexOf(ge)>=0?Q:[].concat(Cd(Q),[ge])},[]))}else if(w==="category")E?O=O.filter(function(Q){return Q!==""&&!wt(Q)}):O=mO(W,O,g).reduce(function(Q,ge){return Q.indexOf(ge)>=0||ge===""||wt(ge)?Q:[].concat(Cd(Q),[ge])},[]);else if(w==="number"){var z=k1e(I,i.filter(function(Q){var ge,ue,Ce=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o],tt="hide"in Q.props?Q.props.hide:(ue=Q.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return Ce===P&&(T||!tt)}),S,s,d);z&&(O=z)}m&&(w==="number"||N!=="auto")&&(F=dh(I,S,"category"))}else m?O=Uv(0,j):a&&a[P]&&a[P].hasStack&&w==="number"?O=h==="expand"?[0,1]:wU(a[P].stackGroups,c,u):O=xU(I,i.filter(function(Q){var ge=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ue="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ge===P&&(T||!ue)}),w,d,!0);if(w==="number")O=W_(f,O,P,s,_),W&&(O=u_(W,O,A));else if(w==="category"&&W){var ne=W,se=O.every(function(Q){return ne.indexOf(Q)>=0});se&&(O=ne)}}return oe(oe({},v),{},at({},P,oe(oe({},b),{},{axisType:s,domain:O,categoricalDomain:F,duplicateDomain:R,originalDomain:(y=b.domain)!==null&&y!==void 0?y:B,isCategorical:m,layout:d})))},{})},LNe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=K0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=bU(d,s),g=-1;return r.reduce(function(y,b){var w=b.type.defaultProps!==void 0?oe(oe({},b.type.defaultProps),b.props):b.props,S=w[o],A=C9("number");if(!y[S]){g++;var E;return v?E=Uv(0,m):a&&a[S]&&a[S].hasStack?(E=wU(a[S].stackGroups,c,u),E=W_(f,E,S,s)):(E=u_(A,xU(h,r.filter(function(N){var _,T,P=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],I="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===S&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=W_(f,E,S,s)),oe(oe({},y),{},at({},S,oe(oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ts(INe,"".concat(s,".").concat(g%2),null),domain:E,originalDomain:A,isCategorical:v,layout:d})))}return y},{})},$Ne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ns(d,s),m={};return h&&h.length?m=DNe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=LNe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),m},FNe=function(e){var n=qc(e),r=Hl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ov(n,r)}},DR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ti(n,gd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},VNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=qo(n&&n.type);return r&&r.indexOf("Bar")>=0})},LR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BNe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ti(f,gd),v=Ti(f,Cu),g=Object.keys(c).reduce(function(E,N){var _=c[N],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},at({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,N){var _=o[N],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},at({},T,ts(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=oe(oe({},y),g),w=b.bottom;m&&(b.bottom+=m.props.height||gd.defaultProps.height),v&&n&&(b=N1e(b,i,r,n));var S=u-b.left-b.right,A=d-b.top-b.bottom;return oe(oe({brushBottom:w},b),{},{width:Math.max(S,0),height:Math.max(A,0)})},UNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,w){var S=w.graphicalItems,A=w.stackGroups,E=w.offset,N=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,P=b.barSize,I=b.layout,j=b.barGap,O=b.barCategoryGap,R=b.maxBarSize,F=LR(I),B=F.numericAxisName,U=F.cateAxisName,W=VNe(S),$=[];return S.forEach(function(z,ne){var se=K0(b.data,{graphicalItems:[z],dataStartIndex:_,dataEndIndex:T}),Q=z.type.defaultProps!==void 0?oe(oe({},z.type.defaultProps),z.props):z.props,ge=Q.dataKey,ue=Q.maxBarSize,Ce=Q["".concat(B,"Id")],tt=Q["".concat(U,"Id")],xe={},je=c.reduce(function(Ze,Ie){var Ut=w["".concat(Ie.axisType,"Map")],gn=Q["".concat(Ie.axisType,"Id")];Ut&&Ut[gn]||Ie.axisType==="zAxis"||bc();var fn=Ut[gn];return oe(oe({},Ze),{},at(at({},Ie.axisType,fn),"".concat(Ie.axisType,"Ticks"),Hl(fn)))},xe),ae=je[U],de=je["".concat(U,"Ticks")],Y=A&&A[Ce]&&A[Ce].hasStack&&z1e(z,A[Ce].stackGroups),V=qo(z.type).indexOf("Bar")>=0,Se=Ov(ae,de),Ee=[],nt=W&&A1e({barSize:P,stackGroups:A,totalSize:UNe(je,U)});if(V){var Ke,rt,gt=wt(ue)?R:ue,Pe=(Ke=(rt=Ov(ae,de,!0))!==null&&rt!==void 0?rt:gt)!==null&&Ke!==void 0?Ke:0;Ee=P1e({barGap:j,barCategoryGap:O,bandSize:Pe!==Se?Pe:Se,sizeList:nt[tt],maxBarSize:gt}),Pe!==Se&&(Ee=Ee.map(function(Ze){return oe(oe({},Ze),{},{position:oe(oe({},Ze.position),{},{offset:Ze.position.offset-Pe/2})})}))}var Je=z&&z.type&&z.type.getComposedData;Je&&$.push({props:oe(oe({},Je(oe(oe({},je),{},{displayedData:se,props:b,dataKey:ge,item:z,bandSize:Se,barPosition:Ee,offset:E,stackedData:Y,layout:I,dataStartIndex:_,dataEndIndex:T}))),{},at(at(at({key:z.key||"item-".concat(ne)},B,je[B]),U,je[U]),"animationId",N)),childIndex:Ele(z,b.children),item:z})}),$},m=function(b,w){var S=b.props,A=b.dataStartIndex,E=b.dataEndIndex,N=b.updateId;if(!lk({props:S}))return null;var _=S.children,T=S.layout,P=S.stackOffset,I=S.data,j=S.reverseStackOrder,O=LR(T),R=O.numericAxisName,F=O.cateAxisName,B=ns(_,r),U=V1e(I,B,"".concat(R,"Id"),"".concat(F,"Id"),P,j),W=c.reduce(function(Q,ge){var ue="".concat(ge.axisType,"Map");return oe(oe({},Q),{},at({},ue,$Ne(S,oe(oe({},ge),{},{graphicalItems:B,stackGroups:ge.axisType===R&&U,dataStartIndex:A,dataEndIndex:E}))))},{}),$=BNe(oe(oe({},W),{},{props:S,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(Q){W[Q]=d(S,W[Q],$,Q.replace("Map",""),n)});var z=W["".concat(F,"Map")],ne=FNe(z),se=h(S,oe(oe({},W),{},{dataStartIndex:A,dataEndIndex:E,updateId:N,graphicalItems:B,stackGroups:U,offset:$}));return oe(oe({formattedGraphicalItems:se,graphicalItems:B,offset:$,stackGroups:U},ne),W)},v=function(y){function b(w){var S,A,E;return wNe(this,b),E=ENe(this,b,[w]),at(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(E,"accessibilityManager",new aNe),at(E,"handleLegendBBoxUpdate",function(N){if(N){var _=E.state,T=_.dataStartIndex,P=_.dataEndIndex,I=_.updateId;E.setState(oe({legendBBox:N},m({props:E.props,dataStartIndex:T,dataEndIndex:P,updateId:I},oe(oe({},E.state),{},{legendBBox:N}))))}}),at(E,"handleReceiveSyncEvent",function(N,_,T){if(E.props.syncId===N){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),at(E,"handleBrushChange",function(N){var _=N.startIndex,T=N.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return oe({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),at(E,"handleMouseEnter",function(N){var _=E.getMouseInfo(N);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseEnter;Et(P)&&P(T,N)}}),at(E,"triggeredAfterMouseMove",function(N){var _=E.getMouseInfo(N),T=_?oe(oe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseMove;Et(P)&&P(T,N)}),at(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),at(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),at(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),at(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;Et(T)&&T(_,N)}),at(E,"handleOuterEvent",function(N){var _=_le(N),T=ts(E.props,"".concat(_));if(_&&Et(T)){var P,I;/.*touch.*/i.test(_)?I=E.getMouseInfo(N.changedTouches[0]):I=E.getMouseInfo(N),T((P=I)!==null&&P!==void 0?P:{},N)}}),at(E,"handleClick",function(N){var _=E.getMouseInfo(N);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onClick;Et(P)&&P(T,N)}}),at(E,"handleMouseDown",function(N){var _=E.props.onMouseDown;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleMouseUp",function(N){var _=E.props.onMouseUp;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),at(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),at(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),at(E,"handleDoubleClick",function(N){var _=E.props.onDoubleClick;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleContextMenu",function(N){var _=E.props.onContextMenu;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&Rw.emit(Mw,E.props.syncId,N,E.eventEmitterSymbol)}),at(E,"applySyncEvent",function(N){var _=E.props,T=_.layout,P=_.syncMethod,I=E.state.updateId,j=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(oe({dataStartIndex:j,dataEndIndex:O},m({props:E.props,dataStartIndex:j,dataEndIndex:O,updateId:I},E.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,F=N.chartY,B=N.activeTooltipIndex,U=E.state,W=U.offset,$=U.tooltipTicks;if(!W)return;if(typeof P=="function")B=P($,N);else if(P==="value"){B=-1;for(var z=0;z<$.length;z++)if($[z].value===N.activeLabel){B=z;break}}var ne=oe(oe({},W),{},{x:W.left,y:W.top}),se=Math.min(R,ne.x+ne.width),Q=Math.min(F,ne.y+ne.height),ge=$[B]&&$[B].value,ue=G_(E.state,E.props.data,B),Ce=$[B]?{x:T==="horizontal"?$[B].coordinate:se,y:T==="horizontal"?Q:$[B].coordinate}:T9;E.setState(oe(oe({},N),{},{activeLabel:ge,activeCoordinate:Ce,activePayload:ue,activeTooltipIndex:B}))}else E.setState(N)}),at(E,"renderCursor",function(N){var _,T=E.state,P=T.isTooltipActive,I=T.activeCoordinate,j=T.activePayload,O=T.offset,R=T.activeTooltipIndex,F=T.tooltipAxisBandSize,B=E.getTooltipEventType(),U=(_=N.props.active)!==null&&_!==void 0?_:P,W=E.props.layout,$=N.key||"_recharts-cursor";return G.createElement(pNe,{key:$,activeCoordinate:I,activePayload:j,activeTooltipIndex:R,chartName:n,element:N,isActive:U,layout:W,offset:O,tooltipAxisBandSize:F,tooltipEventType:B})}),at(E,"renderPolarAxis",function(N,_,T){var P=ts(N,"type.axisType"),I=ts(E.state,"".concat(P,"Map")),j=N.type.defaultProps,O=j!==void 0?oe(oe({},j),N.props):N.props,R=I&&I[O["".concat(P,"Id")]];return x.cloneElement(N,oe(oe({},R),{},{className:At(P,R.className),key:N.key||"".concat(_,"-").concat(T),ticks:Hl(R,!0)}))}),at(E,"renderPolarGrid",function(N){var _=N.props,T=_.radialLines,P=_.polarAngles,I=_.polarRadius,j=E.state,O=j.radiusAxisMap,R=j.angleAxisMap,F=qc(O),B=qc(R),U=B.cx,W=B.cy,$=B.innerRadius,z=B.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(P)?P:Hl(B,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(I)?I:Hl(F,!0).map(function(ne){return ne.coordinate}),cx:U,cy:W,innerRadius:$,outerRadius:z,key:N.key||"polar-grid",radialLines:T})}),at(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,_=E.props,T=_.children,P=_.width,I=_.height,j=E.props.margin||{},O=P-(j.left||0)-(j.right||0),R=yU({children:T,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!R)return null;var F=R.item,B=OR(R,mNe);return x.cloneElement(F,oe(oe({},B),{},{chartWidth:P,chartHeight:I,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),at(E,"renderTooltip",function(){var N,_=E.props,T=_.children,P=_.accessibilityLayer,I=Ti(T,Xs);if(!I)return null;var j=E.state,O=j.isTooltipActive,R=j.activeCoordinate,F=j.activePayload,B=j.activeLabel,U=j.offset,W=(N=I.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(I,{viewBox:oe(oe({},U),{},{x:U.left,y:U.top}),active:W,label:B,payload:W?F:[],coordinate:R,accessibilityLayer:P})}),at(E,"renderBrush",function(N){var _=E.props,T=_.margin,P=_.data,I=E.state,j=I.offset,O=I.dataStartIndex,R=I.dataEndIndex,F=I.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:hg(E.handleBrushChange,N.props.onChange),data:P,x:ke(N.props.x)?N.props.x:j.left,y:ke(N.props.y)?N.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:ke(N.props.width)?N.props.width:j.width,startIndex:O,endIndex:R,updateId:"brush-".concat(F)})}),at(E,"renderReferenceElement",function(N,_,T){if(!N)return null;var P=E,I=P.clipPathId,j=E.state,O=j.xAxisMap,R=j.yAxisMap,F=j.offset,B=N.type.defaultProps||{},U=N.props,W=U.xAxisId,$=W===void 0?B.xAxisId:W,z=U.yAxisId,ne=z===void 0?B.yAxisId:z;return x.cloneElement(N,{key:N.key||"".concat(_,"-").concat(T),xAxis:O[$],yAxis:R[ne],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:I})}),at(E,"renderActivePoints",function(N){var _=N.item,T=N.activePoint,P=N.basePoint,I=N.childIndex,j=N.isRange,O=[],R=_.props.key,F=_.item.type.defaultProps!==void 0?oe(oe({},_.item.type.defaultProps),_.item.props):_.item.props,B=F.activeDot,U=F.dataKey,W=oe(oe({index:I,dataKey:U,cx:T.x,cy:T.y,r:4,fill:$A(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},jt(B,!1)),iv(B));return O.push(b.renderActiveDot(B,W,"".concat(R,"-activePoint-").concat(I))),P?O.push(b.renderActiveDot(B,oe(oe({},W),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(I))):j&&O.push(null),O}),at(E,"renderGraphicChild",function(N,_,T){var P=E.filterFormatItem(N,_,T);if(!P)return null;var I=E.getTooltipEventType(),j=E.state,O=j.isTooltipActive,R=j.tooltipAxis,F=j.activeTooltipIndex,B=j.activeLabel,U=E.props.children,W=Ti(U,Xs),$=P.props,z=$.points,ne=$.isRange,se=$.baseLine,Q=P.item.type.defaultProps!==void 0?oe(oe({},P.item.type.defaultProps),P.item.props):P.item.props,ge=Q.activeDot,ue=Q.hide,Ce=Q.activeBar,tt=Q.activeShape,xe=!!(!ue&&O&&W&&(ge||Ce||tt)),je={};I!=="axis"&&W&&W.props.trigger==="click"?je={onClick:hg(E.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(je={onMouseLeave:hg(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:hg(E.handleItemMouseEnter,N.props.onMouseEnter)});var ae=x.cloneElement(N,oe(oe({},P.props),je));function de(Ie){return typeof R.dataKey=="function"?R.dataKey(Ie.payload):null}if(xe)if(F>=0){var Y,V;if(R.dataKey&&!R.allowDuplicatedCategory){var Se=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());Y=rv(z,Se,B),V=ne&&se&&rv(se,Se,B)}else Y=z==null?void 0:z[F],V=ne&&se&&se[F];if(tt||Ce){var Ee=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[x.cloneElement(N,oe(oe(oe({},P.props),je),{},{activeIndex:Ee})),null,null]}if(!wt(Y))return[ae].concat(Cd(E.renderActivePoints({item:P,activePoint:Y,basePoint:V,childIndex:F,isRange:ne})))}else{var nt,Ke=(nt=E.getItemByXY(E.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:ae},rt=Ke.graphicalItem,gt=rt.item,Pe=gt===void 0?N:gt,Je=rt.childIndex,Ze=oe(oe(oe({},P.props),je),{},{activeIndex:Je});return[x.cloneElement(Pe,Ze),null,null]}return ne?[ae,null,null]:[ae,null]}),at(E,"renderCustomized",function(N,_,T){return x.cloneElement(N,oe(oe({key:"recharts-customized-".concat(T)},E.props),E.state))}),at(E,"renderMap",{CartesianGrid:{handler:vg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:vg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:vg},YAxis:{handler:vg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:sm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=gB(E.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return ANe(b,y),_Ne(b,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,E=S.data,N=S.height,_=S.layout,T=Ti(A,Xs);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,j=G_(this.state,E,P,I),O=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+N)/2,F=_==="horizontal",B=F?{x:O,y:R}:{y:O,x:R},U=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});U&&(B=oe(oe({},B),U.props.points[P].tooltipPosition),j=U.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:I,activePayload:j,activeCoordinate:B};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(S){TS([Ti(S.children,Xs)],[Ti(this.props.children,Xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ti(this.props.children,Xs);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return a.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),N=Jve(E),_={chartX:Math.round(S.pageX-N.left),chartY:Math.round(S.pageY-N.top)},T=E.width/A.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,T);if(!P)return null;var I=this.state,j=I.xAxisMap,O=I.yAxisMap,R=this.getTooltipEventType(),F=MR(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&j&&O){var B=qc(j).scale,U=qc(O).scale,W=B&&B.invert?B.invert(_.chartX):null,$=U&&U.invert?U.invert(_.chartY):null;return oe(oe({},_),{},{xValue:W,yValue:$},F)}return F?oe(oe({},_),F):null}},{key:"inRange",value:function(S,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=S/E,T=A/E;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,I=_>=P.left&&_<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return I?{x:_,y:T}:null}var j=this.state,O=j.angleAxisMap,R=j.radiusAxisMap;if(O&&R){var F=qc(O);return vO({x:_,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),E=Ti(S,Xs),N={};E&&A==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=iv(this.props,this.handleOuterEvent);return oe(oe({},_),N)}},{key:"addListener",value:function(){Rw.on(Mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rw.removeListener(Mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,E){for(var N=this.state.formattedGraphicalItems,_=0,T=N.length;_<T;_++){var P=N[_];if(P.item===S||P.props.key===S.key||A===qo(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,E=A.left,N=A.top,_=A.height,T=A.width;return G.createElement("defs",null,G.createElement("clipPath",{id:S},G.createElement("rect",{x:E,y:N,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,E){var N=IR(E,2),_=N[0],T=N[1];return oe(oe({},A),{},at({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,E){var N=IR(E,2),_=N[0],T=N[1];return oe(oe({},A),{},at({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,E=A.formattedGraphicalItems,N=A.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var P=E[_],I=P.props,j=P.item,O=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,R=qo(j.type);if(R==="Bar"){var F=(I.data||[]).find(function($){return REe(S,$)});if(F)return{graphicalItem:P,payload:F}}else if(R==="RadialBar"){var B=(I.data||[]).find(function($){return vO(S,$)});if(B)return{graphicalItem:P,payload:B}}else if($0(P,N)||F0(P,N)||Ep(P,N)){var U=LTe({graphicalItem:P,activeTooltipItem:N,itemData:O.data}),W=O.activeIndex===void 0?U:O.activeIndex;return{graphicalItem:oe(oe({},P),{},{childIndex:W}),payload:Ep(P,N)?O.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!lk(this))return null;var A=this.props,E=A.children,N=A.className,_=A.width,T=A.height,P=A.style,I=A.compact,j=A.title,O=A.desc,R=OR(A,gNe),F=jt(R,!1);if(I)return G.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(AS,uu({},F,{width:_,height:T,title:j,desc:O}),this.renderClipPath(),uk(E,this.renderMap)));if(this.props.accessibilityLayer){var B,U;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},F.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return G.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",uu({className:At("recharts-wrapper",N),style:oe({position:"relative",cursor:"default",width:_,height:T},P)},W,{ref:function(z){S.container=z}}),G.createElement(AS,uu({},F,{width:_,height:T,title:j,desc:O,style:ONe}),this.renderClipPath(),uk(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);at(v,"displayName",n),at(v,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(v,"getDerivedStateFromProps",function(y,b){var w=y.dataKey,S=y.data,A=y.children,E=y.width,N=y.height,_=y.layout,T=y.stackOffset,P=y.margin,I=b.dataStartIndex,j=b.dataEndIndex;if(b.updateId===void 0){var O=DR(y);return oe(oe(oe({},O),{},{updateId:0},m(oe(oe({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(w!==b.prevDataKey||S!==b.prevData||E!==b.prevWidth||N!==b.prevHeight||_!==b.prevLayout||T!==b.prevStackOffset||!Tu(P,b.prevMargin)){var R=DR(y),F={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=oe(oe({},MR(b,S,_)),{},{updateId:b.updateId+1}),U=oe(oe(oe({},R),F),B);return oe(oe(oe({},U),m(oe({props:y},U),b)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(!TS(A,b.prevChildren)){var W,$,z,ne,se=Ti(A,gd),Q=se&&(W=($=se.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:I,ge=se&&(z=(ne=se.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&z!==void 0?z:j,ue=Q!==I||ge!==j,Ce=!wt(S),tt=Ce&&!ue?b.updateId:b.updateId+1;return oe(oe({updateId:tt},m(oe(oe({props:y},b),{},{updateId:tt,dataStartIndex:Q,dataEndIndex:ge}),b)),{},{prevChildren:A,dataStartIndex:Q,dataEndIndex:ge})}return null}),at(v,"renderActiveDot",function(y,b,w){var S;return x.isValidElement(y)?S=x.cloneElement(y,b):Et(y)?S=y(b):S=G.createElement(VA,b),G.createElement(Dn,{className:"recharts-active-dot",key:w},S)});var g=x.forwardRef(function(b,w){return G.createElement(v,uu({},b,{ref:w}))});return g.displayName=v.displayName,g},WNe=zNe({chartName:"LineChart",GraphicalChild:fm,axisComponents:[{axisType:"xAxis",AxisComp:q0},{axisType:"yAxis",AxisComp:G0}],formatAxisMap:uAe});function HNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function $R(t){return HNe(t)||Array.isArray(t)}function qNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function HA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],c=e[o];return typeof a=="function"?`${a}`==`${c}`:!$R(a)||!$R(c)?a===c:HA(a,c)})}function FR(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function GNe(t,e){if(t.length!==e.length)return!1;const n=FR(t),r=FR(e);return n.every((i,s)=>{const o=r[s];return HA(i,o)})}function qA(t){return typeof t=="number"}function K_(t){return typeof t=="string"}function Y0(t){return typeof t=="boolean"}function VR(t){return Object.prototype.toString.call(t)==="[object Object]"}function _n(t){return Math.abs(t)}function GA(t){return Math.sign(t)}function ph(t,e){return _n(t-e)}function KNe(t,e){if(t===0||e===0||_n(t)<=_n(e))return 0;const n=ph(_n(t),_n(e));return _n(n/t)}function YNe(t){return Math.round(t*100)/100}function kp(t){return Ip(t).map(Number)}function Ds(t){return t[hm(t)]}function hm(t){return Math.max(0,t.length-1)}function KA(t,e){return e===hm(t)}function BR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Ip(t){return Object.keys(t)}function A9(t,e){return[t,e].reduce((n,r)=>(Ip(r).forEach(i=>{const s=n[i],o=r[i],a=VR(s)&&VR(o);n[i]=a?A9(s,o):o}),n),{})}function Y_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function XNe(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(c){return s(c)/2}function s(c){return e-c}function o(c,u){return K_(t)?n[t](c):t(e,c,u)}return{measure:o}}function Op(){let t=[];function e(i,s,o,a={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(s,o,a),c=()=>i.removeEventListener(s,o,a);else{const u=i;u.addListener(o),c=()=>u.removeListener(o)}return t.push(c),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function QNe(t,e,n,r){const i=Op(),s=1e3/60;let o=null,a=0,c=0;function u(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){m(),i.clear()}function f(y){if(!c)return;o||(o=y,n(),n());const b=y-o;for(o=y,a+=b;a>=s;)n(),a-=s;const w=a/s;r(w),c&&(c=e.requestAnimationFrame(f))}function h(){c||(c=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(c),o=null,a=0,c=0}function v(){o=null,a=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function JNe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),c=f();function u(v){const{height:g,width:y}=v;return r?g:y}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:c,measureSize:u,direction:h}}function wc(t=0,e=0){const n=_n(t-e);function r(u){return u<t}function i(u){return u>e}function s(u){return r(u)||i(u)}function o(u){return s(u)?r(u)?t:e:u}function a(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function P9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let s=o(e);function o(h){return n?_n((i+h)%i):r(h)}function a(){return s}function c(h){return s=o(h),f}function u(h){return d().set(a()+h)}function d(){return P9(t,a(),n)}const f={get:a,set:c,add:u,clone:d};return f}function ZNe(t,e,n,r,i,s,o,a,c,u,d,f,h,m,v,g,y,b,w){const{cross:S,direction:A}=t,E=["INPUT","SELECT","TEXTAREA"],N={passive:!1},_=Op(),T=Op(),P=wc(50,225).constrain(m.measure(20)),I={mouse:300,touch:400},j={mouse:500,touch:600},O=v?43:25;let R=!1,F=0,B=0,U=!1,W=!1,$=!1,z=!1;function ne(V){if(!w)return;function Se(nt){(Y0(w)||w(V,nt))&&tt(nt)}const Ee=e;_.add(Ee,"dragstart",nt=>nt.preventDefault(),N).add(Ee,"touchmove",()=>{},N).add(Ee,"touchend",()=>{}).add(Ee,"touchstart",Se).add(Ee,"mousedown",Se).add(Ee,"touchcancel",je).add(Ee,"contextmenu",je).add(Ee,"click",ae,!0)}function se(){_.clear(),T.clear()}function Q(){const V=z?n:e;T.add(V,"touchmove",xe,N).add(V,"touchend",je).add(V,"mousemove",xe,N).add(V,"mouseup",je)}function ge(V){const Se=V.nodeName||"";return E.includes(Se)}function ue(){return(v?j:I)[z?"mouse":"touch"]}function Ce(V,Se){const Ee=f.add(GA(V)*-1),nt=d.byDistance(V,!v).distance;return v||_n(V)<P?nt:y&&Se?nt*.5:d.byIndex(Ee.get(),0).distance}function tt(V){const Se=Y_(V,r);z=Se,$=v&&Se&&!V.buttons&&R,R=ph(i.get(),o.get())>=2,!(Se&&V.button!==0)&&(ge(V.target)||(U=!0,s.pointerDown(V),u.useFriction(0).useDuration(0),i.set(o),Q(),F=s.readPoint(V),B=s.readPoint(V,S),h.emit("pointerDown")))}function xe(V){if(!Y_(V,r)&&V.touches.length>=2)return je(V);const Ee=s.readPoint(V),nt=s.readPoint(V,S),Ke=ph(Ee,F),rt=ph(nt,B);if(!W&&!z&&(!V.cancelable||(W=Ke>rt,!W)))return je(V);const gt=s.pointerMove(V);Ke>g&&($=!0),u.useFriction(.3).useDuration(.75),a.start(),i.add(A(gt)),V.preventDefault()}function je(V){const Ee=d.byDistance(0,!1).index!==f.get(),nt=s.pointerUp(V)*ue(),Ke=Ce(A(nt),Ee),rt=KNe(nt,Ke),gt=O-10*rt,Pe=b+rt/50;W=!1,U=!1,T.clear(),u.useDuration(gt).useFriction(Pe),c.distance(Ke,!v),z=!1,h.emit("pointerUp")}function ae(V){$&&(V.stopPropagation(),V.preventDefault(),$=!1)}function de(){return U}return{init:ne,destroy:se,pointerDown:de}}function eje(t,e){let r,i;function s(f){return f.timeStamp}function o(f,h){const v=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(Y_(f,e)?f:f.touches[0])[v]}function a(f){return r=f,i=f,o(f)}function c(f){const h=o(f)-o(i),m=s(f)-s(r)>170;return i=f,m&&(r=f),h}function u(f){if(!r||!i)return 0;const h=o(i)-o(r),m=s(f)-s(r),v=s(f)-s(i)>170,g=h/m;return m&&!v&&_n(g)>.1?g:0}return{pointerDown:a,pointerMove:c,pointerUp:u,readPoint:o}}function tje(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function nje(t){function e(r){return t*(r/100)}return{measure:e}}function rje(t,e,n,r,i,s,o){const a=[t].concat(r);let c,u,d=[],f=!1;function h(y){return i.measureSize(o.measure(y))}function m(y){if(!s)return;u=h(t),d=r.map(h);function b(w){for(const S of w){if(f)return;const A=S.target===t,E=r.indexOf(S.target),N=A?u:d[E],_=h(A?t:r[E]);if(_n(_-N)>=.5){y.reInit(),e.emit("resize");break}}}c=new ResizeObserver(w=>{(Y0(s)||s(y,w))&&b(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>c.observe(w))})}function v(){f=!0,c&&c.disconnect()}return{init:m,destroy:v}}function ije(t,e,n,r,i,s){let o=0,a=0,c=i,u=s,d=t.get(),f=0;function h(){const N=r.get()-t.get(),_=!c;let T=0;return _?(o=0,n.set(r),t.set(r),T=N):(n.set(t),o+=N/c,o*=u,d+=o,t.add(o),T=d-f),a=GA(T),f=d,E}function m(){const N=r.get()-e.get();return _n(N)<.001}function v(){return c}function g(){return a}function y(){return o}function b(){return S(i)}function w(){return A(s)}function S(N){return c=N,E}function A(N){return u=N,E}const E={direction:g,duration:v,velocity:y,seek:h,settled:m,useBaseFriction:w,useBaseDuration:b,useFriction:A,useDuration:S};return E}function sje(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=wc(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",g=_n(t[v]-e.get()),y=n.get()-e.get(),b=a.constrain(g/o);n.subtract(y*b),!m&&_n(y)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function oje(t,e,n,r,i){const s=wc(-e+t,0),o=f(),a=d(),c=h();function u(v,g){return ph(v,g)<=1}function d(){const v=o[0],g=Ds(o),y=o.lastIndexOf(v),b=o.indexOf(g)+1;return wc(y,b)}function f(){return n.map((v,g)=>{const{min:y,max:b}=s,w=s.constrain(v),S=!g,A=KA(n,g);return S?b:A||u(y,w)?y:u(b,w)?b:w}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:g}=a;return o.slice(v,g)}return{snapsContained:c,scrollContainLimit:a}}function aje(t,e,n){const r=e[0],i=n?r-t:Ds(e);return{limit:wc(i,r)}}function lje(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:c}=wc(s,o);function u(h){return h===1?c(n.get()):h===-1?a(n.get()):!1}function d(h){if(!u(h))return;const m=t*(h*-1);r.forEach(v=>v.add(m))}return{loop:d}}function cje(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function uje(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,c=f().map(e.measure),u=h(),d=m();function f(){return a(r).map(g=>Ds(g)[o]-g[0][s]).map(_n)}function h(){return r.map(g=>n[s]-g[s]).map(g=>-_n(g))}function m(){return a(u).map(g=>g[0]).map((g,y)=>g+c[y])}return{snaps:u,snapsAligned:d}}function dje(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:c}=r,u=d();function d(){const h=o(s),m=!t||e==="keepSnaps";return n.length===1?[s]:m?h:h.slice(a,c).map((v,g,y)=>{const b=!g,w=KA(y,g);if(b){const S=Ds(y[0])+1;return BR(S)}if(w){const S=hm(s)-Ds(y)[0]+1;return BR(S,Ds(y)[0])}return v})}return{slideRegistry:u}}function fje(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function c(v){return v.concat().sort((g,y)=>_n(g)-_n(y))[0]}function u(v){const g=t?o(v):a(v),y=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>_n(w.diff)-_n(S.diff)),{index:b}=y[0];return{index:b,distance:g}}function d(v,g){const y=[v,v+n,v-n];if(!t)return v;if(!g)return c(y);const b=y.filter(w=>GA(w)===g);return b.length?c(b):Ds(y)-n}function f(v,g){const y=e[v]-i.get(),b=d(y,g);return{index:v,distance:b}}function h(v,g){const y=i.get()+v,{index:b,distance:w}=u(y),S=!t&&s(y);if(!g||S)return{index:b,distance:v};const A=e[b]-w,E=v+d(A,0);return{index:b,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function hje(t,e,n,r,i,s,o){function a(f){const h=f.distance,m=f.index!==e.get();s.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function c(f,h){const m=i.byDistance(f,h);a(m)}function u(f,h){const m=e.clone().set(f),v=i.byIndex(m.get(),h);a(v)}return{distance:c,index:u}}function pje(t,e,n,r,i,s,o,a){const c={passive:!0,capture:!0};let u=0;function d(m){if(!a)return;function v(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));qA(w)&&(i.useDuration(0),r.index(w,0),o.emit("slideFocus"))}s.add(document,"keydown",f,!1),e.forEach((g,y)=>{s.add(g,"focus",b=>{(Y0(a)||a(m,b))&&v(y)},c)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function zf(t){let e=t;function n(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function s(c){e-=o(c)}function o(c){return qA(c)?c:c.get()}return{get:n,set:r,add:i,subtract:s}}function N9(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(s)return;const m=YNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function u(h){s=!h}function d(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function mje(t,e,n,r,i,s,o,a,c){const d=kp(i),f=kp(i).reverse(),h=b().concat(w());function m(_,T){return _.reduce((P,I)=>P-i[I],T)}function v(_,T){return _.reduce((P,I)=>m(P,T)>0?P.concat([I]):P,[])}function g(_){return s.map((T,P)=>({start:T-r[P]+.5+_,end:T+e-.5+_}))}function y(_,T,P){const I=g(T);return _.map(j=>{const O=P?0:-n,R=P?n:0,F=P?"end":"start",B=I[j][F];return{index:j,loopPoint:B,slideLocation:zf(-1),translate:N9(t,c[j]),target:()=>a.get()>B?O:R}})}function b(){const _=o[0],T=v(f,_);return y(T,n,!1)}function w(){const _=e-o[0]-1,T=v(d,_);return y(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(P=>P!==_);return m(T,e)<=.1})}function A(){h.forEach(_=>{const{target:T,translate:P,slideLocation:I}=_,j=T();j!==I.get()&&(P.to(j),I.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:A,loopPoints:h}}function gje(t,e,n){let r,i=!1;function s(c){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(Y0(n)||n(c,d))&&u(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function yje(t,e,n,r){const i={};let s=null,o=null,a,c=!1;function u(){a=new IntersectionObserver(v=>{c||(v.forEach(g=>{const y=e.indexOf(g.target);i[y]=g}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),c=!0}function f(v){return Ip(i).reduce((g,y)=>{const b=parseInt(y),{isIntersecting:w}=i[b];return(v&&w||!v&&!w)&&g.push(b),g},[])}function h(v=!0){if(v&&s)return s;if(!v&&o)return o;const g=f(v);return v&&(s=g),v||(o=g),g}return{init:u,destroy:d,get:h}}function vje(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:c}=t,u=n[0]&&i,d=v(),f=g(),h=n.map(o),m=y();function v(){if(!u)return 0;const w=n[0];return _n(e[a]-w[a])}function g(){if(!u)return 0;const w=s.getComputedStyle(Ds(r));return parseFloat(w.getPropertyValue(`margin-${c}`))}function y(){return n.map((w,S,A)=>{const E=!S,N=KA(A,S);return E?h[S]+d:N?h[S]+f:A[S+1][a]-w[a]}).map(_n)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function xje(t,e,n,r,i,s,o,a,c){const{startEdge:u,endEdge:d,direction:f}=t,h=qA(n);function m(b,w){return kp(b).filter(S=>S%w===0).map(S=>b.slice(S,S+w))}function v(b){return b.length?kp(b).reduce((w,S,A)=>{const E=Ds(w)||0,N=E===0,_=S===hm(b),T=i[u]-s[E][u],P=i[u]-s[S][d],I=!r&&N?f(o):0,j=!r&&_?f(a):0,O=_n(P-j-(T+I));return A&&O>e+c&&w.push(S),_&&w.push(b.length),w},[]).map((w,S,A)=>{const E=Math.max(A[S-1]||0);return b.slice(E,w)}):[]}function g(b){return h?m(b,n):v(b)}return{groupSlides:g}}function bje(t,e,n,r,i,s,o){const{align:a,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:v,inViewThreshold:g,slidesToScroll:y,skipSnaps:b,containScroll:w,watchResize:S,watchSlides:A,watchDrag:E,watchFocus:N}=s,_=2,T=tje(),P=T.measure(e),I=n.map(T.measure),j=JNe(c,u),O=j.measureSize(P),R=nje(O),F=XNe(a,O),B=!f&&!!w,U=f||!!w,{slideSizes:W,slideSizesWithGaps:$,startGap:z,endGap:ne}=vje(j,P,I,n,U,i),se=xje(j,O,y,f,P,I,z,ne,_),{snaps:Q,snapsAligned:ge}=uje(j,F,P,I,se),ue=-Ds(Q)+Ds($),{snapsContained:Ce,scrollContainLimit:tt}=oje(O,ue,ge,w,_),xe=B?Ce:ge,{limit:je}=aje(ue,xe,f),ae=P9(hm(xe),d,f),de=ae.clone(),Y=kp(n),V=({dragHandler:qt,scrollBody:hn,scrollBounds:Ft,options:{loop:qe}})=>{qe||Ft.constrain(qt.pointerDown()),hn.seek()},Se=({scrollBody:qt,translate:hn,location:Ft,offsetLocation:qe,previousLocation:Gr,scrollLooper:yr,slideLooper:Nr,dragHandler:ti,animation:Gt,eventHandler:zt,scrollBounds:vr,options:{loop:Wn}},Kt)=>{const Hn=qt.settled(),qn=!vr.shouldConstrain(),vn=Wn?Hn:Hn&&qn,ds=vn&&!ti.pointerDown();ds&&Gt.stop();const Fi=Ft.get()*Kt+Gr.get()*(1-Kt);qe.set(Fi),Wn&&(yr.loop(qt.direction()),Nr.loop()),hn.to(qe.get()),ds&&zt.emit("settle"),vn||zt.emit("scroll")},Ee=QNe(r,i,()=>V(yn),qt=>Se(yn,qt)),nt=.68,Ke=xe[ae.get()],rt=zf(Ke),gt=zf(Ke),Pe=zf(Ke),Je=zf(Ke),Ze=ije(rt,Pe,gt,Je,h,nt),Ie=fje(f,xe,ue,je,Je),Ut=hje(Ee,ae,de,Ze,Ie,Je,o),gn=cje(je),fn=Op(),kn=yje(e,n,o,g),{slideRegistry:qr}=dje(B,w,xe,tt,se,Y),nn=pje(t,n,qr,Ut,Ze,fn,o,N),yn={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:I,animation:Ee,axis:j,dragHandler:ZNe(j,t,r,i,Je,eje(j,i),rt,Ee,Ut,Ze,Ie,ae,o,R,m,v,b,nt,E),eventStore:fn,percentOfView:R,index:ae,indexPrevious:de,limit:je,location:rt,offsetLocation:Pe,previousLocation:gt,options:s,resizeHandler:rje(e,o,i,n,j,S,T),scrollBody:Ze,scrollBounds:sje(je,Pe,Je,Ze,R),scrollLooper:lje(ue,je,Pe,[rt,Pe,gt,Je]),scrollProgress:gn,scrollSnapList:xe.map(gn.get),scrollSnaps:xe,scrollTarget:Ie,scrollTo:Ut,slideLooper:mje(j,O,ue,W,$,Q,xe,Pe,n),slideFocus:nn,slidesHandler:gje(e,o,A),slidesInView:kn,slideIndexes:Y,slideRegistry:qr,slidesToScroll:se,target:Je,translate:N9(j,e)};return yn}function wje(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function i(u){return r(u).forEach(d=>d(e,u)),c}function s(u,d){return t[u]=r(u).concat([d]),c}function o(u,d){return t[u]=r(u).filter(f=>f!==d),c}function a(){t={}}const c={init:n,emit:i,off:o,on:s,clear:a};return c}const Sje={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function _je(t){function e(s,o){return A9(s,o||{})}function n(s){const o=s.breakpoints||{},a=Ip(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>e(c,u),{});return e(s,a)}function r(s){return s.map(o=>Ip(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Eje(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function nx(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=_je(i),o=Eje(s),a=Op(),c=wje(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=s,{on:h,off:m,emit:v}=c,g=j;let y=!1,b,w=u(Sje,nx.globalOptions),S=u(w),A=[],E,N,_;function T(){const{container:Y,slides:V}=S;N=(K_(Y)?t.querySelector(Y):Y)||t.children[0];const Ee=K_(V)?N.querySelectorAll(V):V;_=[].slice.call(Ee||N.children)}function P(Y){const V=bje(t,N,_,r,i,Y,c);if(Y.loop&&!V.slideLooper.canLoop()){const Se=Object.assign({},Y,{loop:!1});return P(Se)}return V}function I(Y,V){y||(w=u(w,Y),S=d(w),A=V||A,T(),b=P(S),f([w,...A.map(({options:Se})=>Se)]).forEach(Se=>a.add(Se,"change",j)),S.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(de),b.eventHandler.init(de),b.resizeHandler.init(de),b.slidesHandler.init(de),b.options.loop&&b.slideLooper.loop(),N.offsetParent&&_.length&&b.dragHandler.init(de),E=o.init(de,A)))}function j(Y,V){const Se=se();O(),I(u({startIndex:Se},Y),V),c.emit("reInit")}function O(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),a.clear()}function R(){y||(y=!0,a.clear(),O(),c.emit("destroy"),c.clear())}function F(Y,V,Se){!S.active||y||(b.scrollBody.useBaseFriction().useDuration(V===!0?0:S.duration),b.scrollTo.index(Y,Se||0))}function B(Y){const V=b.index.add(1).get();F(V,Y,-1)}function U(Y){const V=b.index.add(-1).get();F(V,Y,1)}function W(){return b.index.add(1).get()!==se()}function $(){return b.index.add(-1).get()!==se()}function z(){return b.scrollSnapList}function ne(){return b.scrollProgress.get(b.offsetLocation.get())}function se(){return b.index.get()}function Q(){return b.indexPrevious.get()}function ge(){return b.slidesInView.get()}function ue(){return b.slidesInView.get(!1)}function Ce(){return E}function tt(){return b}function xe(){return t}function je(){return N}function ae(){return _}const de={canScrollNext:W,canScrollPrev:$,containerNode:je,internalEngine:tt,destroy:R,off:m,on:h,emit:v,plugins:Ce,previousScrollSnap:Q,reInit:g,rootNode:xe,scrollNext:B,scrollPrev:U,scrollProgress:ne,scrollSnapList:z,scrollTo:F,selectedScrollSnap:se,slideNodes:ae,slidesInView:ge,slidesNotInView:ue};return I(e,n),setTimeout(()=>c.emit("init"),0),de}nx.globalOptions=void 0;function YA(t={},e=[]){const n=x.useRef(t),r=x.useRef(e),[i,s]=x.useState(),[o,a]=x.useState(),c=x.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return x.useEffect(()=>{HA(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{GNe(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{if(qNe()&&o){nx.globalOptions=YA.globalOptions;const u=nx(o,n.current,r.current);return s(u),()=>u.destroy()}else s(void 0)},[o,s]),[a,i]}YA.globalOptions=void 0;const j9=x.createContext(null);function X0(){const t=x.useContext(j9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const X_=x.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[c,u]=YA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=x.useState(!1),[h,m]=x.useState(!1),v=x.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=x.useCallback(()=>{u==null||u.scrollPrev()},[u]),y=x.useCallback(()=>{u==null||u.scrollNext()},[u]),b=x.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),y())},[g,y]);return x.useEffect(()=>{!u||!n||n(u)},[u,n]),x.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),l.jsx(j9.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:y,canScrollPrev:d,canScrollNext:h},children:l.jsx("div",{ref:a,onKeyDownCapture:b,className:ut("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});X_.displayName="Carousel";const Q_=x.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=X0();return l.jsx("div",{ref:r,className:"overflow-hidden",children:l.jsx("div",{ref:n,className:ut("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Q_.displayName="CarouselContent";const J_=x.forwardRef(({className:t,...e},n)=>{const{orientation:r}=X0();return l.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ut("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});J_.displayName="CarouselItem";const Z_=x.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=X0();return l.jsxs(ie,{ref:i,variant:e,size:n,className:ut("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[l.jsx(es,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Z_.displayName="CarouselPrevious";const eE=x.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=X0();return l.jsxs(ie,{ref:i,variant:e,size:n,className:ut("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[l.jsx(vH,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Next slide"})]})});eE.displayName="CarouselNext";function Tje({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:s}){const o=t/e*100,a=()=>t===0?"bg-black":o>60?"bg-gradient-to-b from-green-500 to-green-700":o>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":o>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",c=()=>t===0?"text-red-500":"text-white",u=()=>o<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return l.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:s,"data-testid":"display-timer",type:"button",children:[n&&l.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),l.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${c()} ${u()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[l.jsx(au,{className:"w-5 h-5 md:w-6 md:h-6"}),l.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[l.jsx(m$,{className:"w-4 h-4 md:w-5 md:h-5"}),l.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&l.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&l.jsxs("div",{className:"flex flex-col items-center mt-2",children:[l.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[l.jsx(au,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const UR="shotclock_tutorial_seen",Lw="shotclock_sessions",xg="shotclock_paused_session";function Cje(){var Ln,ir;const[,t]=wo(),{settings:e}=hC(),[n,r]=x.useState("setup"),[i,s]=x.useState("solo"),[o,a]=x.useState([{name:"Player 1",extensions:0}]),[c,u]=x.useState(0),[d,f]=x.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[h,m]=x.useState(0),[v,g]=x.useState(0),[y,b]=x.useState(30),[w,S]=x.useState(30),[A,E]=x.useState(30),[N,_]=x.useState(!1),[T,P]=x.useState(!1),[I]=x.useState(3),[j]=x.useState(15),[O,R]=x.useState(!0),[F,B]=x.useState(!1),[U,W]=x.useState([]),[$,z]=x.useState(1),ne=x.useRef(null),se=x.useRef(null),[Q,ge]=x.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),ue=x.useRef(0),Ce=x.useRef(0),tt=x.useRef(0),[xe,je]=x.useState(!1),[ae,de]=x.useState(!1),[Y,V]=x.useState([]),[Se,Ee]=x.useState(1),[nt,Ke]=x.useState(!1);t6(n==="playing"||n==="paused"),x.useEffect(()=>{(()=>{try{const re=localStorage.getItem(Lw);re&&W(JSON.parse(re))}catch(re){console.error("Failed to load saved sessions:",re)}})()},[]),x.useEffect(()=>(ht.startSession("tempo"),()=>{tt.current>0&&ht.trackSkillMetric("tempo","session_complete",1),ht.endSession()}),[]),x.useEffect(()=>{const H=localStorage.getItem(xg);if(H)try{const re=JSON.parse(H);(re.gameMode==="paused"||re.gameMode==="playing")&&(r("paused"),s(re.playerMode),a(re.players),u(re.currentPlayerIndex),b(re.duration),E(re.timeRemaining),P(re.isInExtension),R(re.soloAutoRestart),ge({...re.sessionStats,shotEvents:re.sessionStats.shotEvents||[]}),Ce.current=re.accumulatedShotTime||0,re.teams&&f(re.teams),re.currentTeamIndex!==void 0&&m(re.currentTeamIndex),re.currentPartnerIndex!==void 0&&g(re.currentPartnerIndex))}catch{localStorage.removeItem(xg)}},[]),x.useEffect(()=>{localStorage.getItem(UR)||B(!0)},[]);const rt=x.useCallback((H=800,re=.3,Oe=1)=>{if(!e.soundEnabled)return;se.current||(se.current=new AudioContext);const Be=se.current;for(let Le=0;Le<Oe;Le++)setTimeout(()=>{const q=Be.createOscillator(),Te=Be.createGain();q.connect(Te),Te.connect(Be.destination),q.frequency.value=H,Te.gain.value=.4,Te.gain.exponentialRampToValueAtTime(.01,Be.currentTime+re),q.start(Be.currentTime),q.stop(Be.currentTime+re)},Le*150)},[e.soundEnabled]),gt=x.useCallback(()=>{rt(600,.15,1)},[rt]),Pe=x.useCallback(()=>{rt(400,.5,3)},[rt]),Je=x.useCallback(()=>{rt(1e3,.2,2)},[rt]);x.useEffect(()=>(N&&A>0?ne.current=setInterval(()=>{E(H=>{if(H<=6&&H>1&&gt(),H<=1){if(Pe(),P(!1),i==="solo"&&O){let re=Ce.current/1e3;ue.current>0&&(re+=(Date.now()-ue.current)/1e3),re<=0&&(re=y),tt.current++,ht.trackSkillMetric("tempo","shot_time",re),ge(Oe=>{var Le;const Be={shotIndex:Oe.shotCount,duration:Math.max(0,re),playerName:((Le=o[0])==null?void 0:Le.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...Oe,shotCount:Oe.shotCount+1,shotDurations:[...Oe.shotDurations,Math.max(0,re)],shotEvents:[...Oe.shotEvents||[],Be]}}),Ce.current=0,setTimeout(()=>{Je(),E(y),_(!0),ue.current=Date.now()},1500)}else ge(re=>({...re,timeouts:re.timeouts+1})),_(!1);return 0}return H-1})},1e3):ne.current&&clearInterval(ne.current),()=>{ne.current&&clearInterval(ne.current)}),[N,A,i,O,y,gt,Pe,Je]);const Ze=o[c],Ie=d[h];i==="scotch-doubles"?Ie==null||Ie.players[v]:Ze==null||Ze.name;const Ut=()=>{A===0&&(E(y),P(!1)),ue.current===0&&(ue.current=Date.now()),_(!0)},gn=()=>{ue.current>0&&(Ce.current+=Date.now()-ue.current),ue.current=0,_(!1)},fn=x.useCallback(()=>{const H={gameMode:"paused",playerMode:i,players:o,currentPlayerIndex:c,duration:y,timeRemaining:A,isInExtension:T,soloAutoRestart:O,sessionStats:Q,accumulatedShotTime:Ce.current,teams:d,currentTeamIndex:h,currentPartnerIndex:v};localStorage.setItem(xg,JSON.stringify(H))},[i,o,c,y,A,T,O,Q,d,h,v]),kn=()=>{localStorage.removeItem(xg)},qr=()=>{ue.current>0&&(Ce.current+=Date.now()-ue.current),ue.current=0,_(!1),r("paused")};x.useEffect(()=>{n==="paused"&&fn()},[n,fn]);const nn=()=>{r("playing"),A>0&&(ue.current=Date.now(),_(!0))},yn=()=>{_(!1),r("paused"),fn(),t("/")};x.useEffect(()=>{const H=()=>{document.hidden&&n==="playing"&&N&&(ue.current>0&&(Ce.current+=Date.now()-ue.current),ue.current=0,_(!1),r("paused"))};return document.addEventListener("visibilitychange",H),()=>{document.removeEventListener("visibilitychange",H)}},[n,N]);const qt=()=>{_(!1),Ke(!0)},hn=H=>{var Oe;let re=Ce.current/1e3;if(ue.current>0&&(re+=(Date.now()-ue.current)/1e3),re>0){tt.current++,ht.trackSkillMetric("tempo","shot_time",re),ht.trackSkillMetric("tempo","turn_end_count",1);const Be={shotIndex:Q.shotCount,duration:Math.max(0,re),playerName:i==="scotch-doubles"?(Ie==null?void 0:Ie.players[v])||"Unknown":i==="two-player"?(Ze==null?void 0:Ze.name)||"Unknown":((Oe=o[0])==null?void 0:Oe.name)||"Player 1",teamName:i==="scotch-doubles"?Ie==null?void 0:Ie.name:void 0,timestamp:Date.now(),eventType:H};ge(Le=>({...Le,shotCount:Le.shotCount+1,shotDurations:[...Le.shotDurations,Math.max(0,re)],shotEvents:[...Le.shotEvents||[],Be]}))}E(y),P(!1),Ce.current=0},Ft=()=>{Ke(!1),hn("turn_end"),i==="two-player"?u(H=>(H+1)%o.length):i==="scotch-doubles"&&(m(H=>(H+1)%d.length),g(0)),ue.current=Date.now(),setTimeout(()=>_(!0),100)},qe=()=>{Ke(!1);const H=zt(),re=i==="scotch-doubles"?(Ie==null?void 0:Ie.name)||"Team 1":(Ze==null?void 0:Ze.name)||"Player 1",Oe=i==="scotch-doubles"?"team":"player";ge(Be=>{var pe;const Le={...Be};let q=[...Be.shotEvents||[]];H&&(q.push(H),Le.shotDurations=[...Be.shotDurations,H.duration],Le.shotCount=Be.shotCount+1);const Re={rackNumber:(((pe=Be.rackResults)==null?void 0:pe.length)||0)+1,winner:re,winnerType:Oe,shotEvents:q,timestamp:Date.now()};return Le.rackResults=[...Be.rackResults||[],Re],Le.shotEvents=[],Le}),Ee(Be=>Be+1),Ce.current=0,ue.current=0,E(y),P(!1),_(!1),i==="scotch-doubles"?f(Be=>Be.map(Le=>({...Le,extensions:0}))):a(Be=>Be.map(Le=>({...Le,extensions:0})))},Gr=()=>{var Be,Le;Ke(!1);const H=zt();let re,Oe;if(i==="scotch-doubles"){const q=(h+1)%d.length;re=((Be=d[q])==null?void 0:Be.name)||"Team 2",Oe="team"}else if(i==="two-player"){const q=(c+1)%o.length;re=((Le=o[q])==null?void 0:Le.name)||"Player 2",Oe="player"}else re="Opponent",Oe="player";ge(q=>{var ve;const Te={...q};let Re=[...q.shotEvents||[]];H&&(Re.push(H),Te.shotDurations=[...q.shotDurations,H.duration],Te.shotCount=q.shotCount+1);const we={rackNumber:(((ve=q.rackResults)==null?void 0:ve.length)||0)+1,winner:re,winnerType:Oe,shotEvents:Re,timestamp:Date.now()};return Te.rackResults=[...q.rackResults||[],we],Te.shotEvents=[],Te}),Ee(q=>q+1),Ce.current=0,ue.current=0,E(y),P(!1),_(!1),i==="scotch-doubles"?f(q=>q.map(Te=>({...Te,extensions:0}))):a(q=>q.map(Te=>({...Te,extensions:0})))},yr=()=>{let H=Ce.current/1e3;if(ue.current>0&&(H+=(Date.now()-ue.current)/1e3),H>0){tt.current++,ht.trackSkillMetric("tempo","shot_time",H);const re={shotIndex:Q.shotCount,duration:Math.max(0,H),playerName:(Ie==null?void 0:Ie.players[v])||"Unknown",teamName:Ie==null?void 0:Ie.name,timestamp:Date.now(),eventType:"stroke"};ge(Oe=>({...Oe,shotCount:Oe.shotCount+1,shotDurations:[...Oe.shotDurations,Math.max(0,H)],shotEvents:[...Oe.shotEvents||[],re]}))}_(!1),E(y),P(!1),Ce.current=0,g(re=>(re+1)%2),ue.current=Date.now(),setTimeout(()=>_(!0),100)},Nr=()=>{i==="scotch-doubles"?Ie&&Ie.extensions<I&&(E(H=>H+j),P(!0),f(H=>H.map((re,Oe)=>Oe===h?{...re,extensions:re.extensions+1}:re)),ge(H=>({...H,totalExtensions:H.totalExtensions+1}))):Ze&&Ze.extensions<I&&(E(H=>H+j),P(!0),a(H=>H.map((re,Oe)=>Oe===c?{...re,extensions:re.extensions+1}:re)),ge(H=>({...H,totalExtensions:H.totalExtensions+1})))},ti=H=>{const re=localStorage.getItem(Lw),Oe=re?JSON.parse(re):[],Be={id:Date.now().toString(),date:new Date().toISOString(),stats:H};Oe.unshift(Be),Oe.length>20&&Oe.pop(),localStorage.setItem(Lw,JSON.stringify(Oe)),W(Oe)},Gt=()=>{_(!1),je(!0)},zt=()=>{var re;let H=Ce.current/1e3;return ue.current>0&&(H+=(Date.now()-ue.current)/1e3),H>0&&A<y&&A>0?{shotIndex:Q.shotCount,duration:Math.max(0,H),playerName:i==="scotch-doubles"?(Ie==null?void 0:Ie.players[v])||"Unknown":i==="two-player"?(Ze==null?void 0:Ze.name)||"Unknown":((re=o[0])==null?void 0:re.name)||"Player 1",teamName:i==="scotch-doubles"?Ie==null?void 0:Ie.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},vr=(H,re)=>{const Oe=zt(),Be={rackNumber:Se,winner:H,winnerType:re,shotEvents:Y,timestamp:Date.now()};ge(Le=>{const q={...Le};return Oe&&(q.shotDurations=[...Le.shotDurations,Oe.duration],q.shotCount=Le.shotCount+1,q.shotEvents=[...Le.shotEvents||[],Oe]),q.rackResults=[...Le.rackResults||[],Be],q}),Ee(Le=>Le+1),V([]),de(!1),Ce.current=0,ue.current=0,E(y),P(!1),_(!1)},Wn=()=>{je(!1),kn();const H={...Q,endTime:Date.now(),duration:y,playerMode:i,playerNames:o.map(Oe=>Oe.name)},re=zt();re&&(H.shotDurations=[...H.shotDurations,re.duration],H.shotCount+=1,H.shotEvents=[...H.shotEvents||[],re]),Ce.current=0,ue.current=0,ge(H),ti(H),Ee(1),V([]),r("summary")},Kt=()=>{kn(),E(y),P(!1),a(H=>H.map(re=>({...re,extensions:0}))),f(H=>H.map(re=>({...re,extensions:0}))),u(0),m(0),g(0),ge({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),ue.current=0,Ce.current=0,Ee(1),V([]),r("setup")},Hn=()=>{je(!1),_(!0),ue.current=Date.now()},qn=()=>{var H;return i==="scotch-doubles"?d.map(re=>({name:re.name,type:"team"})):i==="two-player"?o.map(re=>({name:re.name,type:"player"})):[{name:((H=o[0])==null?void 0:H.name)||"Player 1",type:"player"}]},vn=H=>{b(H),E(H),S(H)},ds=()=>{b(w),E(w)},Fi=()=>{var re,Oe,Be,Le,q,Te,Re,pe,we,ve,Ye,it;kn(),tt.current=0,i==="two-player"?a([{name:((re=o[0])==null?void 0:re.name)||"Player 1",extensions:0},{name:((Oe=o[1])==null?void 0:Oe.name)||"Player 2",extensions:0}]):i==="scotch-doubles"?(f(Pt=>Pt.map(Rt=>({...Rt,extensions:0}))),m(0),g(0)):a([{name:((Be=o[0])==null?void 0:Be.name)||"Player 1",extensions:0}]),u(0),E(y),P(!1),Ce.current=0;let H;i==="scotch-doubles"?H=[`${(Le=d[0])==null?void 0:Le.name}: ${(q=d[0])==null?void 0:q.players[0]}, ${(Te=d[0])==null?void 0:Te.players[1]}`,`${(Re=d[1])==null?void 0:Re.name}: ${(pe=d[1])==null?void 0:pe.players[0]}, ${(we=d[1])==null?void 0:we.players[1]}`]:i==="two-player"?H=[((ve=o[0])==null?void 0:ve.name)||"Player 1",((Ye=o[1])==null?void 0:Ye.name)||"Player 2"]:H=[((it=o[0])==null?void 0:it.name)||"Player 1"],ge({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:y,playerMode:i,playerNames:H}),ue.current=Date.now(),r("playing")},ni=(H,re)=>{a(Oe=>{const Be=[...Oe];return Be[H]||(Be[H]={name:"",extensions:0}),Be[H]={...Be[H],name:re},Be})},To=(H,re)=>{f(Oe=>{const Be=[...Oe];return Be[H]={...Be[H],name:re},Be})},ri=(H,re,Oe)=>{f(Be=>{const Le=[...Be],q=[...Le[H].players];return q[re]=Oe,Le[H]={...Le[H],players:q},Le})},fs=()=>{localStorage.setItem(UR,"true"),B(!1),z(1)},Vi=()=>Q.shotDurations.length===0?0:Q.shotDurations.reduce((re,Oe)=>re+Oe,0)/Q.shotDurations.length,ii=H=>{const re=Math.floor(H/60),Oe=Math.floor(H%60);return re>0?`${re}m ${Oe}s`:`${Oe.toFixed(1)}s`},jr=l.jsx(Zn,{open:F,onOpenChange:H=>{B(H),H||z(1)},children:l.jsxs(Bn,{className:"max-w-md",children:[l.jsxs(Mn,{children:[l.jsx(jn,{children:"Welcome to CueMaster: Tempo"}),l.jsx(ks,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),l.jsxs("div",{className:"space-y-4",children:[$===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",l.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",l.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),$===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),l.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:l.jsx(xf,{className:"w-4 h-4 text-primary"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:l.jsx(zm,{className:"w-4 h-4 text-destructive"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),$===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{children:["Background changes from ",l.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",l.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",l.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",l.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),l.jsx("li",{children:"Warning beeps in the final 5 seconds"}),l.jsx("li",{children:"Triple chime when time expires"}),l.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>z(H=>Math.max(1,H-1)),disabled:$===1,children:"Back"}),l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>z(H=>Math.min(3,H+1)),disabled:$===3,children:"Next"})]}),l.jsx("div",{className:"flex gap-1",children:[1,2,3].map(H=>l.jsx("div",{className:`w-2 h-2 rounded-full ${H===$?"bg-primary":"bg-muted"}`},H))}),l.jsx(ie,{size:"sm",onClick:fs,"data-testid":"button-complete-tutorial",children:$===3?"Finish":"Skip"})]})]})}),gi=l.jsx(Zn,{open:xe,onOpenChange:H=>{H||Hn()},children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsxs(Mn,{children:[l.jsx(jn,{children:"End Session?"}),l.jsx(ks,{className:"sr-only",children:"Confirm you want to end the session"})]}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(ie,{variant:"outline",className:"w-full",onClick:Hn,"data-testid":"button-cancel-stop",children:"Cancel"}),l.jsx(ie,{variant:"destructive",className:"w-full",onClick:Wn,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),ma=l.jsx(Zn,{open:ae,onOpenChange:H=>{H||de(!1)},children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsxs(Mn,{children:[l.jsxs(jn,{children:["Who Won Rack ",Se,"?"]}),l.jsx(ks,{className:"sr-only",children:"Select the winner of this rack"})]}),l.jsx("div",{className:"space-y-3 py-2",children:l.jsx("div",{className:"grid grid-cols-1 gap-2",children:qn().map(H=>l.jsx(ie,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>vr(H.name,H.type),"data-testid":`button-winner-${H.name.replace(/\s+/g,"-").toLowerCase()}`,children:H.name},H.name))})}),l.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{de(!1)},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),kr=()=>i==="scotch-doubles"?(Ie==null?void 0:Ie.name)||"Team 1":(Ze==null?void 0:Ze.name)||"Player 1",ga=()=>{const H=ue.current?(Date.now()-ue.current)/1e3:0;H>0&&ht.trackSkillMetric("tempo","shot_time",H),E(y),P(!1),Ke(!1),_(!0),ue.current=Date.now(),ge(re=>({...re,totalShots:re.totalShots+1,shotDurations:[...re.shotDurations,H]}))},Co=l.jsx(Zn,{open:nt,onOpenChange:H=>{H||(Ke(!1),_(!0),ue.current=Date.now())},children:l.jsxs(Bn,{className:"max-w-sm",children:[l.jsxs(Mn,{children:[l.jsx(jn,{children:i==="solo"?"Ready for Next Shot?":"Next Action"}),l.jsx(ks,{className:"sr-only",children:"Choose your next action"})]}),l.jsx("div",{className:"space-y-3 py-2",children:i==="solo"?l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Tap below when you're ready to start your next shot timer."}),l.jsx(ie,{variant:"default",className:"w-full h-auto py-4 text-lg",onClick:ga,"data-testid":"button-take-next-shot",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(au,{className:"w-6 h-6"}),l.jsx("span",{className:"font-semibold",children:"Take Next Shot"})]})})]}):l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l.jsx(ie,{variant:"outline",className:"w-full h-auto py-3",onClick:Ft,"data-testid":"button-end-turn",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(xf,{className:"w-5 h-5 text-primary flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("p",{className:"font-semibold",children:"End Turn"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:i==="scotch-doubles"?"Switch to other team":"Switch to other player"})]})]})}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx(ie,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:qe,"data-testid":"button-player-won",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(Mo,{className:"w-5 h-5 flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsxs("p",{className:"font-semibold",children:[kr()," Won"]}),l.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),l.jsx(ie,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:Gr,"data-testid":"button-player-lost",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(Mb,{className:"w-5 h-5 flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsxs("p",{className:"font-semibold",children:[kr()," Lost"]}),l.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),l.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{Ke(!1),_(!0),ue.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(n==="summary"){const H=Vi(),re=Q.endTime?(Q.endTime-Q.startTime)/1e3:0;return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:Kt,"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-home",children:l.jsx(D1,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:l.jsx(VN,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Q.playerMode==="two-player"?Q.playerNames.join(" vs "):Q.playerNames[0]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(y$,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:ii(H)})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(xf,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:Q.shotCount})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(oT,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:Q.totalExtensions})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ay,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:Q.timeouts})]})]})]}),l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),l.jsxs("span",{className:"font-medium",children:[Q.duration,"s"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),l.jsx("span",{className:"font-medium",children:ii(re)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),l.jsx("span",{className:"font-medium capitalize",children:Q.playerMode.replace("-"," ")})]})]})]}),Q.rackResults&&Q.rackResults.length>0&&l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Mo,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),l.jsx("div",{className:"space-y-2",children:Q.rackResults.map((Oe,Be)=>l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Oe.rackNumber]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mo,{className:"w-4 h-4 text-amber-500"}),l.jsx("span",{className:"font-medium text-foreground",children:Oe.winner})]})]},Be))})]}),Q.shotEvents&&Q.shotEvents.length>0&&(()=>{var pe;const Oe=Q.shotEvents.reduce((we,ve)=>(we[ve.playerName]||(we[ve.playerName]={shots:[],total:0,teamName:ve.teamName}),we[ve.playerName].shots.push(ve),we[ve.playerName].total+=ve.duration,we),{}),Be=Q.shotEvents.reduce((we,ve)=>(ve.teamName&&(we[ve.teamName]||(we[ve.teamName]={shots:[],total:0}),we[ve.teamName].shots.push(ve),we[ve.teamName].total+=ve.duration),we),{}),Le=Object.keys(Oe),q=Object.keys(Be),Re=(()=>{if(!Q.rackResults||Q.rackResults.length===0)return null;const we={},ve={};return Q.rackResults.forEach(Ye=>{Ye.shotEvents.forEach(it=>{Ye.winnerType==="team"&&it.teamName===Ye.winner||Ye.winnerType==="player"&&it.playerName===Ye.winner?(we[it.playerName]||(we[it.playerName]={wins:0,totalTime:0,shots:0}),we[it.playerName].totalTime+=it.duration,we[it.playerName].shots+=1):(ve[it.playerName]||(ve[it.playerName]={losses:0,totalTime:0,shots:0}),ve[it.playerName].totalTime+=it.duration,ve[it.playerName].shots+=1)}),Ye.winnerType==="player"&&(we[Ye.winner]||(we[Ye.winner]={wins:0,totalTime:0,shots:0}),we[Ye.winner].wins+=1)}),{winnerTotals:we,loserTotals:ve}})();return l.jsxs(l.Fragment,{children:[l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),l.jsxs(X_,{className:"w-full",opts:{align:"start",loop:Le.length>1},children:[l.jsx(Q_,{className:"-ml-2",children:Le.map(we=>{const ve=Oe[we],Ye=ve.total/ve.shots.length;return l.jsx(J_,{className:"pl-2 basis-full sm:basis-1/2",children:l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Rg,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:we})]}),ve.teamName&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:ve.teamName}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),l.jsx("p",{className:"font-bold text-primary",children:ii(Ye)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Shots"}),l.jsx("p",{className:"font-bold",children:ve.shots.length})]})]})]})},we)})}),Le.length>1&&l.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[l.jsx(Z_,{className:"static translate-y-0"}),l.jsx(eE,{className:"static translate-y-0"})]})]})]}),q.length>0&&l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:q.map(we=>{const ve=Be[we],Ye=ve.total/ve.shots.length;return l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:we}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-primary",children:ii(Ye)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ve.shots.length," shots)"]})]})]},we)})})]}),l.jsx(ot,{className:"p-6",children:l.jsx(Eu,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Ai,{value:"charts",className:"border-none",children:[l.jsx(Pi,{className:"hover:no-underline py-0",children:l.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),l.jsx(Ni,{children:l.jsxs(X_,{className:"w-full mt-4",opts:{align:"start",loop:Le.length>1},children:[l.jsx(Q_,{className:"-ml-2",children:Le.map(we=>{const ve=Oe[we],Ye=ve.shots.map((it,Pt)=>({shot:Pt+1,duration:parseFloat(it.duration.toFixed(1))}));return l.jsx(J_,{className:"pl-2 basis-full",children:l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Rg,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium text-foreground",children:we}),ve.teamName&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",ve.teamName,")"]})]}),l.jsx("div",{className:"h-40",children:l.jsx(Hve,{width:"100%",height:"100%",children:l.jsxs(WNe,{data:Ye,children:[l.jsx(q0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),l.jsx(G0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:it=>`${it}s`}),l.jsx(Xs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:it=>`Shot ${it}`,formatter:it=>[`${it}s`,"Duration"]}),l.jsx(fm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},we)})}),Le.length>1&&l.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[l.jsx(Z_,{className:"static translate-y-0"}),l.jsx(eE,{className:"static translate-y-0"})]})]})})]})})}),Re&&(((pe=Q.rackResults)==null?void 0:pe.length)??0)>0&&l.jsx(ot,{className:"p-6",children:l.jsx(Eu,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Ai,{value:"advanced",className:"border-none",children:[l.jsx(Pi,{className:"hover:no-underline py-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(F1,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),l.jsx(Ni,{children:l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Mo,{className:"w-4 h-4 text-amber-500"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(Re.winnerTotals).map(([we,ve])=>ve.shots>0&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(F1,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"font-medium text-foreground",children:we})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-green-500",children:ii(ve.totalTime/ve.shots)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ve.shots," shots)"]})]})]},we))})]}),Object.keys(Re.loserTotals).length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Mb,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(Re.loserTotals).map(([we,ve])=>ve.shots>0&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mb,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"font-medium text-foreground",children:we})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-red-500",children:ii(ve.totalTime/ve.shots)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ve.shots," shots)"]})]})]},we))})]}),q.length>0&&Q.rackResults&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Fl,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),l.jsx("div",{className:"space-y-2",children:q.map(we=>{var it,Pt;const ve=((it=Q.rackResults)==null?void 0:it.filter(Rt=>Rt.winner===we).length)||0,Ye=(((Pt=Q.rackResults)==null?void 0:Pt.length)||0)-ve;return l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:we}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-green-500 font-bold",children:[ve,"W"]}),l.jsxs("span",{className:"text-red-500 font-bold",children:[Ye,"L"]})]})]})},we)})})]})]})})]})})})]})})(),l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),l.jsxs(ie,{onClick:Kt,className:"w-full",size:"lg","data-testid":"button-new-session",children:[l.jsx(au,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(n==="paused")return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:nn,"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:l.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[l.jsxs(ot,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(m$,{className:"w-8 h-8 text-primary"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",l.jsxs("span",{className:"font-mono font-bold text-foreground",children:[A,"s"]})]}),l.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Shots"}),l.jsx("p",{className:"font-bold text-lg",children:Q.shotCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),l.jsx("p",{className:"font-bold text-lg",children:Q.totalExtensions})]})]})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ie,{onClick:nn,className:"w-full",size:"lg","data-testid":"button-resume",children:[l.jsx(au,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),l.jsxs(ie,{onClick:yn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[l.jsx(D1,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),l.jsxs(ie,{onClick:Gt,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[l.jsx(zm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(n==="setup")return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>B(!0),"data-testid":"button-tutorial",children:l.jsx(Wp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(ie,{variant:i==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("solo"),"data-testid":"button-mode-solo",children:[l.jsx(Rg,{className:"w-4 h-4 mr-2"}),"Solo"]}),l.jsxs(ie,{variant:i==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("two-player"),"data-testid":"button-mode-two-player",children:[l.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),l.jsxs(_ie,{isLocked:!0,variant:i==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[l.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),i==="scotch-doubles"&&l.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),i==="scotch-doubles"?l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),l.jsx("div",{className:"space-y-6",children:[0,1].map(H=>{var re,Oe,Be;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs(Ht,{htmlFor:`team${H+1}-name`,children:["Team ",H+1," Name"]}),l.jsx(fr,{id:`team${H+1}-name`,value:((re=d[H])==null?void 0:re.name)||"",onChange:Le=>To(H,Le.target.value),placeholder:`Team ${H+1}`,className:"mt-1","data-testid":`input-team${H+1}-name`})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:`team${H+1}-player1`,children:"Partner 1"}),l.jsx(fr,{id:`team${H+1}-player1`,value:((Oe=d[H])==null?void 0:Oe.players[0])||"",onChange:Le=>ri(H,0,Le.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${H+1}-player1`})]}),l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:`team${H+1}-player2`,children:"Partner 2"}),l.jsx(fr,{id:`team${H+1}-player2`,value:((Be=d[H])==null?void 0:Be.players[1])||"",onChange:Le=>ri(H,1,Le.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${H+1}-player2`})]})]})]},H)})})]}):l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:"player1-name",children:i==="solo"?"Your Name":"Player 1"}),l.jsx(fr,{id:"player1-name",value:((Ln=o[0])==null?void 0:Ln.name)||"",onChange:H=>ni(0,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),i==="two-player"&&l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:"player2-name",children:"Player 2"}),l.jsx(fr,{id:"player2-name",value:((ir=o[1])==null?void 0:ir.name)||"",onChange:H=>ni(1,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),l.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(H=>l.jsxs(ie,{variant:y===H?"default":"outline",onClick:()=>vn(H),"data-testid":`button-preset-${H}`,children:[H,"s"]},H))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(fr,{type:"number",min:"5",max:"300",value:w,onChange:H=>S(parseInt(H.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),l.jsx(ie,{onClick:ds,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),i==="solo"&&l.jsx(ot,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),l.jsx(Vr,{checked:O,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),l.jsxs(ie,{onClick:Fi,className:"w-full",size:"lg","data-testid":"button-start-game",children:[l.jsx(au,{className:"w-5 h-5 mr-2"}),"Start Game"]}),U.length>0&&l.jsx(Eu,{type:"single",collapsible:!0,className:"mt-4",children:l.jsxs(Ai,{value:"history",className:"border rounded-lg",children:[l.jsx(Pi,{className:"px-4 hover:no-underline","data-testid":"accordion-session-history",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(VN,{className:"w-4 h-4 text-primary"}),l.jsxs("span",{children:["Session History (",U.length,")"]})]})}),l.jsx(Ni,{className:"px-4 pb-4",children:l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:U.slice(0,10).map(H=>{const re=new Date(H.date),Oe=H.stats.shotDurations.length>0?H.stats.shotDurations.reduce((Be,Le)=>Be+Le,0)/H.stats.shotDurations.length:0;return l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("span",{className:"text-sm font-medium",children:[re.toLocaleDateString()," ",re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:H.stats.playerMode.replace("-"," ")})]}),l.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[H.stats.shotCount," shots"]}),l.jsxs("span",{children:["Avg: ",Oe.toFixed(1),"s"]}),H.stats.rackResults&&H.stats.rackResults.length>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Mo,{className:"w-3 h-3 text-amber-500"}),H.stats.rackResults.length," racks"]})]})]},H.id)})})})]})})]})}),jr]});const Bi=()=>{A===0?(E(y),P(!1),ue.current=Date.now(),_(!0)):N?gn():Ut()};return l.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex-[2] relative min-h-0",children:[l.jsx(Tje,{seconds:A,totalSeconds:y,playerName:i==="solo"?Ze==null?void 0:Ze.name:void 0,isExtension:T,isRunning:N,onClick:Bi}),l.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[l.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",Q.shotCount+1]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:qr,"data-testid":"button-pause-menu",children:l.jsx(IH,{className:"w-5 h-5"})}),l.jsxs(Zn,{children:[l.jsx(Rne,{asChild:!0,children:l.jsx(ie,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:l.jsx(aT,{className:"w-5 h-5"})})}),l.jsxs(Bn,{children:[l.jsx(Mn,{children:l.jsx(jn,{children:"Quick Settings"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(Ht,{children:"Shot Duration"}),l.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(H=>l.jsxs(ie,{variant:y===H?"default":"outline",size:"sm",onClick:()=>{vn(H),N||E(H)},"data-testid":`button-quick-${H}`,children:[H,"s"]},H))})]}),i==="solo"&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ht,{children:"Continuous Play"}),l.jsx(Vr,{checked:O,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),i==="two-player"&&l.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:l.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((H,re)=>l.jsx("button",{onClick:()=>{c!==re&&(u(re),E(y),P(!1),Je())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${c===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${re+1}`,children:H.name},re))})}),i==="scotch-doubles"&&l.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:l.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[l.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:d.map((H,re)=>l.jsx("button",{onClick:()=>{h!==re&&(m(re),g(0),E(y),P(!1),Je())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${h===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${re+1}`,children:H.name},re))}),l.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",Ie==null?void 0:Ie.players[v]]})]})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:l.jsxs("button",{onClick:Nr,disabled:i==="scotch-doubles"?((Ie==null?void 0:Ie.extensions)||0)>=I||A===0:((Ze==null?void 0:Ze.extensions)||0)>=I||A===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[l.jsxs("span",{className:"text-white font-bold text-lg",children:["+",j,"s EXTENSION"]}),l.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",i==="scotch-doubles"?(Ie==null?void 0:Ie.extensions)||0:(Ze==null?void 0:Ze.extensions)||0,"/",I," used)"]})]})})]}),i==="scotch-doubles"?l.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[l.jsxs("button",{onClick:Gt,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[l.jsx(zm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),l.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),l.jsxs("button",{onClick:yr,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[l.jsx(Fl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),l.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),l.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),l.jsxs("button",{onClick:qt,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[l.jsx(xf,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),l.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),l.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):l.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[l.jsxs("button",{onClick:Gt,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[l.jsx(zm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),l.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),l.jsxs("button",{onClick:qt,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[l.jsx(xf,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),l.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),gi,ma,Co]})}function Aje({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),s=Math.max(-40,Math.min(40,e/5*40)),o=Math.sqrt(t*t+e*e),a=o<.5;return l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute w-px h-full bg-muted"}),l.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${s}px)`,opacity:n?.5:1}})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[o.toFixed(2),""]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}const zR="tableLevel_tutorial_seen";function Pje(){const[,t]=wo(),{toast:e}=jd(),[n,r]=x.useState(0),[i,s]=x.useState(0),[o,a]=x.useState({x:0,y:0}),[c,u]=x.useState("home"),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,g]=x.useState(!1),[y,b]=x.useState(null),w=x.useRef(null),S=x.useRef(null),A=[{title:"How It Works",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),l.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),l.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[l.jsx("li",{children:"Place your device flat on a surface you know is level"}),l.jsxs("li",{children:["Tap ",l.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),l.jsx("li",{children:"Hold still for 2 seconds while it samples"}),l.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Save different calibrations for different locations:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),l.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];x.useEffect(()=>(ht.startSession("truelevel"),()=>{ht.endSession()}),[]),x.useEffect(()=>{localStorage.getItem(zR)||g(!0)},[]);const E=()=>{localStorage.setItem(zR,"true"),g(!1)};x.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const I=await DeviceOrientationEvent.requestPermission();m(I==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),x.useEffect(()=>{if(!h)return;let P=!1;const I=j=>{j.beta!==null&&j.gamma!==null&&(P||(P=!0,b(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-o.x),s(j.beta-o.y-90))};return window.addEventListener("deviceorientation",I),w.current=setTimeout(()=>{P||(b(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",I),w.current&&clearTimeout(w.current)}},[o,h,e]);const N=()=>{if(y===!1||y===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const P=[];let I=0;const j=10,O=()=>{if(S.current&&(P.push({x:S.current.gamma,y:S.current.beta-90}),I++,I>=j)){const R=P.reduce((B,U)=>B+U.x,0)/P.length,F=P.reduce((B,U)=>B+U.y,0)/P.length;a({x:R,y:F}),f(!1),localStorage.setItem(`tableLevel_${c}`,JSON.stringify({x:R,y:F})),ht.trackSkillMetric("truelevel","calibration",1,{preset:c}),e({title:"Calibration complete",description:`${c.charAt(0).toUpperCase()+c.slice(1)} calibration saved`});return}I<j&&setTimeout(O,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}O()},300)},_=P=>{u(P);const I=localStorage.getItem(`tableLevel_${P}`);I&&(a(JSON.parse(I)),ht.trackSkillMetric("truelevel","table_check",1,{preset:P}),e({title:"Preset loaded",description:`${P.charAt(0).toUpperCase()+P.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${c}`,JSON.stringify(o)),e({title:"Preset saved",description:`${c.charAt(0).toUpperCase()+c.slice(1)} calibration saved`})};return h?l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(TC,{open:v,onComplete:E,pages:A,toolName:"Table Level Gauge"}),l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:l.jsx(Wp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[y===!1&&l.jsx(ot,{className:"p-4 border-destructive bg-destructive/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ay,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[l.jsx(g$,{className:"w-4 h-4"}),l.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),y===null&&l.jsx(ot,{className:"p-4 border-muted",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Detecting orientation sensors..."})]})}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Aje,{tiltX:n,tiltY:i,isCalibrating:d})}),l.jsxs(ot,{className:"p-6",children:[l.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:["Calibration Presets",l.jsx(id,{})]}),l.jsx(nv,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:l.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[l.jsx(ie,{variant:c==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),l.jsx(ie,{variant:c==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),l.jsx(ie,{variant:c==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{className:"flex-1",onClick:N,disabled:d||y===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),l.jsx(ie,{variant:"outline",onClick:T,disabled:y===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),l.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:l.jsxs(ot,{className:"p-6 max-w-md text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),l.jsx(ie,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var k9=["PageUp","PageDown"],I9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rf="Slider",[tE,Nje,jje]=Up(rf),[R9,j2e]=$i(rf,[jje]),[kje,Q0]=R9(rf),M9=x.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...g}=t,y=x.useRef(new Set),b=x.useRef(0),S=o==="horizontal"?Ije:Oje,[A=[],E]=$s({prop:d,defaultProp:u,onChange:j=>{var R;(R=[...y.current][b.current])==null||R.focus(),f(j)}}),N=x.useRef(A);function _(j){const O=$je(A,j);I(j,O)}function T(j){I(j,b.current)}function P(){const j=N.current[b.current];A[b.current]!==j&&h(A)}function I(j,O,{commit:R}={commit:!1}){const F=Uje(s),B=zje(Math.round((j-r)/s)*s+r,F),U=Yh(B,[r,i]);E((W=[])=>{const $=Dje(W,U,O);if(Bje($,c*s)){b.current=$.indexOf(U);const z=String($)!==String(W);return z&&R&&h($),z?$:W}else return W})}return l.jsx(kje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:A,orientation:o,form:v,children:l.jsx(tE.Provider,{scope:t.__scopeSlider,children:l.jsx(tE.Slot,{scope:t.__scopeSlider,children:l.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Fe(g.onPointerDown,()=>{a||(N.current=A)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(i,A.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:O})=>{if(!a){const B=k9.includes(j.key)||j.shiftKey&&I9.includes(j.key)?10:1,U=b.current,W=A[U],$=s*B*O;I(W+$,U,{commit:!0})}}})})})})});M9.displayName=rf;var[D9,L9]=R9(rf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ije=x.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=x.useState(null),m=bt(e,S=>h(S)),v=x.useRef(void 0),g=zd(i),y=g==="ltr",b=y&&!s||!y&&s;function w(S){const A=v.current||f.getBoundingClientRect(),E=[0,A.width],_=XA(E,b?[n,r]:[r,n]);return v.current=A,_(S-A.left)}return l.jsx(D9,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:l.jsx($9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const A=w(S.clientX);o==null||o(A)},onSlideMove:S=>{const A=w(S.clientX);a==null||a(A)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:S=>{const E=O9[b?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:E?-1:1})}})})}),Oje=x.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,d=x.useRef(null),f=bt(e,d),h=x.useRef(void 0),m=!i;function v(g){const y=h.current||d.current.getBoundingClientRect(),b=[0,y.height],S=XA(b,m?[r,n]:[n,r]);return h.current=y,S(g-y.top)}return l.jsx(D9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx($9,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);s==null||s(y)},onSlideMove:g=>{const y=v(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const b=O9[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),$9=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,d=Q0(rf,n);return l.jsx(et.span,{...u,ref:e,onKeyDown:Fe(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):k9.concat(I9).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Fe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Fe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Fe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),F9="SliderTrack",V9=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Q0(F9,n);return l.jsx(et.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});V9.displayName=F9;var nE="SliderRange",B9=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Q0(nE,n),s=L9(nE,n),o=x.useRef(null),a=bt(e,o),c=i.values.length,u=i.values.map(h=>z9(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(et.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});B9.displayName=nE;var rE="SliderThumb",U9=x.forwardRef((t,e)=>{const n=Nje(t.__scopeSlider),[r,i]=x.useState(null),s=bt(e,a=>i(a)),o=x.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return l.jsx(Rje,{...t,ref:s,index:o})}),Rje=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Q0(rE,n),a=L9(rE,n),[c,u]=x.useState(null),d=bt(e,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=gT(c),m=o.values[r],v=m===void 0?0:z9(m,o.min,o.max),g=Lje(r,o.values.length),y=h==null?void 0:h[a.size],b=y?Fje(y,v,a.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[l.jsx(tE.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(et.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&l.jsx(Mje,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});U9.displayName=rE;var Mje=t=>{const{value:e,...n}=t,r=x.useRef(null),i=bC(e);return x.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[i,e]),l.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Dje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function z9(t,e,n){const s=100/(n-e)*(t-e);return Yh(s,[0,100])}function Lje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function $je(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Fje(t,e,n){const r=t/2,s=XA([0,50],[0,r]);return(r-s(e)*n)*n}function Vje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Bje(t,e){if(e>0){const n=Vje(t);return Math.min(...n)>=e}return!0}function XA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Uje(t){return(String(t).split(".")[1]||"").length}function zje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var W9=M9,Wje=V9,Hje=B9,qje=U9;const Gc=x.forwardRef(({className:t,...e},n)=>l.jsxs(W9,{ref:n,className:ut("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(Wje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Hje,{className:"absolute h-full bg-primary"})}),l.jsx(qje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Gc.displayName=W9.displayName;const WR="cueEmulator_tutorial_seen",Ge=14,an=1600,bn=800,He=24,HR=.05,qR=.2,Kc=28,Gje=(an-He*2)/8,Kje=(bn-He*2)/4,Ue=Array.from({length:9},(t,e)=>He+e*Gje),ze=Array.from({length:5},(t,e)=>He+e*Kje),If=[{x:He,y:He,angle:Math.PI/4},{x:an/2,y:He-2,angle:Math.PI/2},{x:an-He,y:He,angle:3*Math.PI/4},{x:He,y:bn-He,angle:-Math.PI/4},{x:an/2,y:bn-He+2,angle:-Math.PI/2},{x:an-He,y:bn-He,angle:-3*Math.PI/4}],Yje=Kc+Ge*.5,GR=({size:t=16})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"cueBallGradient",cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),l.jsx("stop",{offset:"50%",stopColor:"#f5f5f5"}),l.jsx("stop",{offset:"100%",stopColor:"#cccccc"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#cueBallGradient)",stroke:"#aaa",strokeWidth:"0.5"}),l.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"rgba(255,255,255,0.7)"})]}),KR=({size:t=16,color:e="#DC143C"})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:`solidBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),l.jsx("stop",{offset:"40%",stopColor:e}),l.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.5)",stopOpacity:"1"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#solidBallGradient-${e.replace("#","")})`}),l.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.5)"})]}),YR=({size:t=16,color:e="#FDB515"})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsxs("defs",{children:[l.jsxs("radialGradient",{id:`stripeBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),l.jsx("stop",{offset:"50%",stopColor:"#f8f8f8"}),l.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),l.jsx("clipPath",{id:"ballClip",children:l.jsx("circle",{cx:"12",cy:"12",r:"10"})})]}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#stripeBallGradient-${e.replace("#","")})`}),l.jsx("rect",{x:"2",y:"8",width:"20",height:"8",fill:e,clipPath:"url(#ballClip)",opacity:"0.9"}),l.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.6)"})]}),XR=({size:t=16})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"eightBallGradient",cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#4a4a4a"}),l.jsx("stop",{offset:"40%",stopColor:"#1a1a1a"}),l.jsx("stop",{offset:"100%",stopColor:"#000000"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#eightBallGradient)"}),l.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"white"}),l.jsx("text",{x:"12",y:"14",textAnchor:"middle",fontSize:"6",fontWeight:"bold",fill:"black",children:"8"}),l.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"rgba(255,255,255,0.4)"})]}),Pl={1:{name:"Solid",color:"#DC143C",type:"solid"},2:{name:"Solid",color:"#DC143C",type:"solid"},3:{name:"Solid",color:"#DC143C",type:"solid"},4:{name:"Solid",color:"#DC143C",type:"solid"},5:{name:"Solid",color:"#DC143C",type:"solid"},6:{name:"Solid",color:"#DC143C",type:"solid"},7:{name:"Solid",color:"#DC143C",type:"solid"},8:{name:"8-Ball",color:"#000000",type:"eight"},9:{name:"Stripe",color:"#FDB515",type:"stripe"},10:{name:"Stripe",color:"#FDB515",type:"stripe"},11:{name:"Stripe",color:"#FDB515",type:"stripe"},12:{name:"Stripe",color:"#FDB515",type:"stripe"},13:{name:"Stripe",color:"#FDB515",type:"stripe"},14:{name:"Stripe",color:"#FDB515",type:"stripe"},15:{name:"Stripe",color:"#FDB515",type:"stripe"}},Xje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ue[6],y:ze[2]},{x:Ue[1],y:ze[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ue[7],y:ze[1]},{x:Ue[1],y:ze[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ue[4],y:ze[1]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ue[2],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[2],y:ze[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ue[4],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[4],y:ze[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ue[7],y:ze[1]},{x:Ue[6],y:ze[2]},{x:Ue[5],y:ze[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ue[4],y:ze[1]},{x:Ue[6],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[2],y:ze[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ue[3],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[5],y:ze[1]},{x:Ue[4],y:ze[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ue[1],y:ze[1]},{x:Ue[7],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ue[3],y:ze[1]},{x:Ue[5],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[3],y:ze[3]},{x:Ue[5],y:ze[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ue[1],y:ze[1]},{x:Ue[7],y:ze[1]},{x:Ue[1],y:ze[2]},{x:Ue[7],y:ze[2]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]}};function Qje(){const[,t]=wo(),{toast:e}=jd(),n=x.useRef(null),[r,i]=x.useState(null),[s,o]=x.useState([]),[a,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(!0),[m,v]=x.useState(!1),[g,y]=x.useState(null),[b,w]=x.useState(null),[S,A]=x.useState(null),[E,N]=x.useState(.5),[_,T]=x.useState(0),[P,I]=x.useState(0),[j,O]=x.useState(.5),[R,F]=x.useState(.5),[B,U]=x.useState("9ft"),[W,$]=x.useState(!1),[z,ne]=x.useState([]),[se,Q]=x.useState(""),[ge,ue]=x.useState(null),[Ce,tt]=x.useState(null),[xe,je]=x.useState(null),[ae,de]=x.useState([null,null,null]),[Y,V]=x.useState(!1),Se=x.useRef(null),[Ee,nt]=x.useState(!1),[Ke,rt]=x.useState(0),[gt,Pe]=x.useState([]),[Je,Ze]=x.useState([]);x.useState(new Set);const Ie=x.useRef(null),Ut=x.useRef(0),[gn,fn]=x.useState(!1),[kn,qr]=x.useState(!1);x.useEffect(()=>{const M=()=>{qr(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),x.useEffect(()=>(ht.startSession("vectors"),()=>{ht.endSession()}),[]);const nn=[{title:"Ball Placement",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Place balls on the table using the control buttons:"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(GR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(KR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (1-7)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(YR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (9-15)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(XR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"8-Ball:"})," The black 8-ball (one per table)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(UN,{className:"w-5 h-5 text-muted-foreground"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Move:"})," Drag any ball to reposition it"]})]})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Snap to Grid:"})," Enable to align balls precisely on diamond intersections."]})})]})},{title:"Aiming & Shooting",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-white rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"White line:"})," Cue ball trajectory"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:l.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"rgba(255,255,0,0.2)",stroke:"#ffff00",strokeWidth:"2",strokeDasharray:"4 3"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Contact point indicator"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-cyan-400 rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Cyan line:"})," Object ball trajectory"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-red-500 rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Red line:"})," Cue ball deflection"]})]})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Shown below table (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),l.jsxs("div",{className:"flex items-center gap-3 my-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded"}),l.jsx("span",{className:"text-xs",children:"Power: 0-100%"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 50 50",className:"border border-muted rounded",children:[l.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),l.jsx("circle",{cx:"25",cy:"18",r:"4",fill:"hsl(var(--primary))"}),l.jsx("text",{x:"25",y:"45",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"English"})]}),l.jsx("span",{className:"text-xs",children:"Click to apply top/bottom spin and left/right english"})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Physics:"})," Includes spin transfer, rail cushion effects, and pocket detection."]})})]})},{title:"Table Conditions",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Customize the playing environment:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),l.jsxs("p",{className:"mt-3",children:["Use ",l.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];x.useEffect(()=>{localStorage.getItem(WR)||V(!0)},[]);const yn=()=>{localStorage.setItem(WR,"true"),V(!1)};x.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${B}`);if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3?de(L):de([null,null,null])}catch(L){console.error("Failed to load table presets:",L),de([null,null,null])}else de([null,null,null])},[B]);const qt=M=>{const L=[...ae];L[M]={clothSpeed:j,cushionQuality:R,name:`Slot ${M+1}`},de(L),localStorage.setItem(`cueEmulator_tablePresets_${B}`,JSON.stringify(L)),e({title:`Saved to Slot ${M+1} (${B})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(R*100)}%`})},hn=M=>{const L=ae[M];L?(O(L.clothSpeed),F(L.cushionQuality),e({title:`Loaded Slot ${M+1} (${B})`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},Ft=M=>{Se.current=setTimeout(()=>{qt(M),Se.current=null},600)},qe=M=>{Se.current&&(clearTimeout(Se.current),Se.current=null,hn(M))},Gr=x.useCallback(()=>.85+.1*R,[R]),yr=x.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),Nr=x.useCallback(()=>{const{lengthInches:L}=yr();return L/100},[yr]),ti=x.useCallback(()=>{const M=.3-.15*j,K=1+(1-Nr())*.3;return M*K},[j,Nr]),Gt=x.useCallback((M,L)=>{for(const K of If){const J=M-K.x,Z=L-K.y;if(Math.sqrt(J*J+Z*Z)<Yje)return!0}return!1},[]),zt=x.useCallback((M,L)=>{const K=He+Ge,J=an-He-Ge,Z=He+Ge,ce=bn-He-Ge;let le=Math.max(K,Math.min(J,M)),te=Math.max(Z,Math.min(ce,L));if(Gt(le,te)){let ye=le,Ae=te,_e=1/0;for(const Me of Ue)for(const pt of ze)if(Me>=K&&Me<=J&&pt>=Z&&pt<=ce&&!Gt(Me,pt)){const rn=Math.sqrt((M-Me)**2+(L-pt)**2);rn<_e&&(_e=rn,ye=Me,Ae=pt)}return{x:ye,y:Ae}}return{x:le,y:te}},[Gt]),vr=x.useCallback((M,L,K,J)=>{const Z=Ge*2.1;if(r&&!J&&Math.sqrt((M-r.x)**2+(L-r.y)**2)<Z)return!0;for(let ce=0;ce<s.length;ce++){if(K!==void 0&&ce===K)continue;const le=s[ce];if(Math.sqrt((M-le.x)**2+(L-le.y)**2)<Z)return!0}return!1},[r,s]),Wn=x.useCallback((M,L,K,J)=>{const Z=He+Ge,ce=an-He-Ge,le=He+Ge,te=bn-He-Ge;if(!f)return zt(M,L);const ye=[];for(const Ae of Ue)for(const _e of ze)if(Ae>=Z&&Ae<=ce&&_e>=le&&_e<=te&&!Gt(Ae,_e)){const Me=Math.sqrt((M-Ae)**2+(L-_e)**2);ye.push({x:Ae,y:_e,dist:Me})}ye.sort((Ae,_e)=>Ae.dist-_e.dist);for(const Ae of ye)if(!vr(Ae.x,Ae.y,K,J))return{x:Ae.x,y:Ae.y};return ye.length>0?{x:ye[0].x,y:ye[0].y}:zt(M,L)},[f,Gt,zt,vr]),Kt=x.useCallback(M=>{const L=s.map(K=>K.number).filter(K=>K!==void 0);if(M==="solid"){for(let K=1;K<=7;K++)if(!L.includes(K))return K}else if(M==="stripe"){for(let K=9;K<=15;K++)if(!L.includes(K))return K}else if(M==="eight"&&!L.includes(8))return 8;return null},[s]),Hn=x.useCallback(()=>s.some(M=>M.number===8),[s]),qn=x.useCallback((M,L)=>{for(const K of If){const J=M-K.x,Z=L-K.y;if(Math.sqrt(J*J+Z*Z)<Kc)return!0}return!1},[]),vn=(M,L)=>{const K=L.x-M.x,J=L.y-M.y;return Math.sqrt(K*K+J*J)},ds=x.useCallback((M,L)=>{let K=null,J=1/0;for(const Z of If){const ce=Z.x-M.x,le=Z.y-M.y,te=Math.sqrt(ce*ce+le*le);if(te<Ge*2)continue;const ye=ce/te,Ae=le/te,_e=M.x-ye*(Ge*2),Me=M.y-Ae*(Ge*2),pt=_e-L.x,rn=Me-L.y,Gn=Math.sqrt(pt*pt+rn*rn);if(Gn<Ge*2)continue;const Ui=pt/Gn,xr=rn/Gn,yi=Ui*ye+xr*Ae,Ao=Math.acos(Math.max(-1,Math.min(1,yi)))*(180/Math.PI);Ao<J&&(J=Ao,K={pocket:Z,angle:Ao,ghostBall:{x:_e,y:Me}})}return K},[]),Fi=x.useCallback((M,L)=>{if(s.length===0)return null;const K=L.x-M.x,J=L.y-M.y,Z=Math.sqrt(K*K+J*J);if(Z<1)return null;const ce=K/Z,le=J/Z;let te=null,ye=1/0;for(const Ae of s){const _e=Ae.x-M.x,Me=Ae.y-M.y,pt=Math.sqrt(_e*_e+Me*Me),rn=_e*ce+Me*le;if(rn<=0)continue;const Gn=_e-rn*ce,Ui=Me-rn*le;Math.sqrt(Gn*Gn+Ui*Ui)<Ge*3&&pt<ye&&(ye=pt,te=Ae)}return te},[s]),ni=x.useCallback((M,L)=>{if(!m)return null;const K=Fi(M,L);if(!K)return null;const J=ds(K,M);return!J||J.angle<15?null:J.ghostBall},[m,Fi,ds]),To=x.useCallback(M=>{const L=Gr(),K=He,J=an-He,Z=He,ce=bn-He;let le=!1;return M.x-Ge<K&&(M.x=K+Ge,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,le=!0),M.x+Ge>J&&(M.x=J-Ge,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,le=!0),M.y-Ge<Z&&(M.y=Z+Ge,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,le=!0),M.y+Ge>ce&&(M.y=ce-Ge,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,le=!0),le},[Gr]),ri=x.useCallback((M,L,K,J)=>{var pm,hs,mm;if(!r)return null;const Z=K-M,ce=J-L,le=Math.sqrt(Z*Z+ce*ce);if(le<10)return null;const te=Z/le,ye=ce/le,_e=E*15,Me={x:r.x,y:r.y,vx:te*_e,vy:ye*_e,spinX:_,spinY:P},pt=s.map(Mt=>({...Mt,vx:0,vy:0,spinX:0,spinY:0})),rn=ti(),Gn=300,Ui=[{x:Me.x,y:Me.y}],xr=pt.map(()=>[]);let yi=null,Ao=null,sf=null,of=null,af=null;const Zt=[Me,...pt],si=new Array(Zt.length).fill(!1),J0=Mt=>{for(const xn of If){const ps=Mt.x-xn.x,oi=Mt.y-xn.y;if(Math.sqrt(ps*ps+oi*oi)<Kc-Ge*.3)return!0}return!1},Z0=(Mt,xn,ps)=>{const oi=xn.x-Mt.x,vi=xn.y-Mt.y,xi=Math.sqrt(oi*oi+vi*vi);if(xi>=Ge*2||xi===0)return!1;const Yt=oi/xi,Xe=vi/xi,yt=-Xe,ms=Yt,br=Mt.vx-xn.vx,Ir=Mt.vy-xn.vy,ai=br*Yt+Ir*Xe,ya=br*yt+Ir*ms;if(ai<=0)return!1;const lf=Mt.spinX*.15*Math.abs(ya)*.3;Mt.vx-=ai*Yt,Mt.vy-=ai*Xe,xn.vx+=ai*Yt*.95,xn.vy+=ai*Xe*.95,xn.vx+=lf*yt,xn.vy+=lf*ms;const _l=Math.sqrt(br*br+Ir*Ir);if(ps===0&&_l>.1){const gm=br/_l,cf=Ir/_l,El=Mt.spinY*.4;Mt.spinY!==0&&(Mt.vx+=gm*El*_l,Mt.vy+=cf*El*_l),Mt.spinY*=.3}xn.spinX+=Mt.spinX*.2,xn.spinY+=Mt.spinY*.2;const zs=Ge*2-xi;return Mt.x-=zs/2*Yt,Mt.y-=zs/2*Xe,xn.x+=zs/2*Yt,xn.y+=zs/2*Xe,!0};for(let Mt=0;Mt<Gn;Mt++){let xn=!1,ps=0;for(let Yt=0;Yt<Zt.length;Yt++){if(si[Yt])continue;const Xe=Zt[Yt],yt=Math.sqrt(Xe.vx*Xe.vx+Xe.vy*Xe.vy);yt>ps&&(ps=yt)}const oi=ps*HR*60,vi=Math.max(1,Math.ceil(oi/(Ge*.8))),xi=HR/vi;for(let Yt=0;Yt<vi;Yt++){for(let Xe=0;Xe<Zt.length;Xe++){if(si[Xe])continue;const yt=Zt[Xe],ms=Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy);if(ms>qR){xn=!0;const br=rn*9.8;if(yt.vx-=yt.vx/ms*br*xi,yt.vy-=yt.vy/ms*br*xi,yt.x+=yt.vx*xi*60,yt.y+=yt.vy*xi*60,To(yt),J0(yt)){if(Xe>0){const Ir=Xe-1,ai=((pm=s[Ir])==null?void 0:pm.number)||1,ya=((hs=Pl[ai])==null?void 0:hs.color)||"#ffffff";xr[Ir].push({x:yt.x,y:yt.y,ballIndex:Ir,color:ya})}si[Xe]=!0,yt.vx=0,yt.vy=0}}else yt.vx=0,yt.vy=0}for(let Xe=0;Xe<Zt.length;Xe++)if(!si[Xe])for(let yt=Xe+1;yt<Zt.length;yt++){if(si[yt])continue;if(Z0(Zt[Xe],Zt[yt],Xe)&&Xe===0&&!yi){yi={x:Zt[yt].x,y:Zt[yt].y},af={x:Zt[0].x,y:Zt[0].y};const br=Zt[yt].x-Zt[0].x,Ir=Zt[yt].y-Zt[0].y,ai=Math.sqrt(br*br+Ir*Ir);ai>0&&(Ao={x:Zt[0].x+br/ai*Ge,y:Zt[0].y+Ir/ai*Ge}),sf={x:Zt[yt].vx,y:Zt[yt].vy},of={x:Zt[0].vx,y:Zt[0].vy}}}}si[0]||Ui.push({x:Me.x,y:Me.y});for(let Yt=0;Yt<pt.length;Yt++){if(si[Yt+1])continue;const Xe=pt[Yt];if(Math.sqrt(Xe.vx*Xe.vx+Xe.vy*Xe.vy)>qR*.5||xr[Yt].length>0){const ms=s[Yt].number||1,br=((mm=Pl[ms])==null?void 0:mm.color)||"#ffffff";xr[Yt].push({x:Xe.x,y:Xe.y,ballIndex:Yt,color:br})}}if(!xn)break}return{path:Ui,hitBall:yi,contactPoint:Ao,objectBallDirection:sf,cueBallDeflection:of,cueBallPosAtContact:af,objectPaths:xr.filter(Mt=>Mt.length>=1)}},[r,s,E,_,P,ti,To]),fs=(M,L)=>{const K=Math.sqrt(M.x*M.x+M.y*M.y),J=Math.sqrt(L.x*L.x+L.y*L.y);if(K===0||J===0)return{angle:0,fraction:1};const Z={x:M.x/K,y:M.y/K},ce={x:L.x/J,y:L.y/J},le=Z.x*ce.x+Z.y*ce.y,te=Math.max(-1,Math.min(1,le)),ye=Math.acos(te),Ae=ye*(180/Math.PI),_e=Math.min(Ae,90),Me=Math.cos(ye);return{angle:_e,fraction:Math.max(0,Me)}},Vi=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",ii=x.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,an,bn),M.fillStyle="#1a5f3f",M.fillRect(He,He,an-He*2,bn-He*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(He,He,an-He*2,bn-He*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="eight"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const Z=He,ce=an-He,le=He,te=bn-He;for(const ye of Ue)ye>Z&&ye<ce&&(M.beginPath(),M.moveTo(ye,le),M.lineTo(ye,te),M.stroke());for(const ye of ze)ye>le&&ye<te&&(M.beginPath(),M.moveTo(Z,ye),M.lineTo(ce,ye),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ye of Ue)for(const Ae of ze)ye>Z&&ye<ce&&Ae>le&&Ae<te&&(Gt(ye,Ae)||(M.beginPath(),M.arc(ye,Ae,2,0,Math.PI*2),M.fill()))}If.forEach(Z=>{const ce=M.createRadialGradient(Z.x,Z.y,0,Z.x,Z.y,Kc);ce.addColorStop(0,"#000000"),ce.addColorStop(.7,"#1a1a1a"),ce.addColorStop(1,"#333333"),M.fillStyle=ce,M.beginPath(),M.arc(Z.x,Z.y,Kc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(Z.x,Z.y,Kc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,K=(an-He*2)/8,J=(bn-He*2)/4;for(let Z=1;Z<8;Z++){if(Z===4)continue;const ce=He+Z*K;M.beginPath(),M.moveTo(ce,He-5),M.lineTo(ce+L,He-2),M.lineTo(ce,He+1),M.lineTo(ce-L,He-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ce,bn-He+5),M.lineTo(ce+L,bn-He+2),M.lineTo(ce,bn-He-1),M.lineTo(ce-L,bn-He+2),M.closePath(),M.fill()}for(let Z=1;Z<4;Z++){const ce=He+Z*J;M.beginPath(),M.moveTo(He-5,ce),M.lineTo(He-2,ce+L),M.lineTo(He+1,ce),M.lineTo(He-2,ce-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(an-He+5,ce),M.lineTo(an-He+2,ce+L),M.lineTo(an-He-1,ce),M.lineTo(an-He+2,ce-L),M.closePath(),M.fill()}},[f,a]),jr=(M,L,K)=>{const J=Pl[K];if(!J||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ge,Ge*.8,0,0,Math.PI*2),M.fill();const Z=M.createRadialGradient(L.x-Ge*.3,L.y-Ge*.3,0,L.x,L.y,Ge);Z.addColorStop(0,"rgba(255, 255, 255, 0.7)"),Z.addColorStop(.4,J.color),Z.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=Z,M.beginPath(),M.arc(L.x,L.y,Ge,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc(L.x-Ge*.35,L.y-Ge*.35,Ge*.25,0,Math.PI*2),M.fill()},gi=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ge,Ge*.8,0,0,Math.PI*2),M.fill();const K=M.createRadialGradient(L.x-Ge*.3,L.y-Ge*.3,0,L.x,L.y,Ge);K.addColorStop(0,"rgba(255, 255, 255, 1)"),K.addColorStop(.5,"#ffffff"),K.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=K,M.beginPath(),M.arc(L.x,L.y,Ge,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-Ge*.4,L.y-Ge*.4,Ge*.3,0,Math.PI*2),M.fill()},ma=(M,L,K)=>{!isFinite(L)||!isFinite(K)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(L,K,Ge,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(L,K,Ge,0,Math.PI*2),M.fill())},kr=(M,L,K,J)=>{M.strokeStyle=J,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(He,K),M.lineTo(an-He,K),M.stroke(),M.beginPath(),M.moveTo(L,He),M.lineTo(L,bn-He),M.stroke(),M.setLineDash([]),M.strokeStyle=J,M.lineWidth=2,M.beginPath(),M.arc(L,K,Ge+4,0,Math.PI*2),M.stroke()},ga=(M,L,K,J,Z)=>{const ce=J-L,le=Z-K,te=Math.atan2(le,ce),ye=150,Ae=Ge+5,_e=L-Math.cos(te)*Ae,Me=K-Math.sin(te)*Ae,pt=L-Math.cos(te)*ye,rn=K-Math.sin(te)*ye,Gn=M.createLinearGradient(_e,Me,pt,rn);Gn.addColorStop(0,"#D2691E"),Gn.addColorStop(.5,"#8B4513"),Gn.addColorStop(1,"#654321"),M.strokeStyle=Gn,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(_e,Me),M.lineTo(pt,rn),M.stroke();const Ui=L-Math.cos(te)*(Ae-3),xr=K-Math.sin(te)*(Ae-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Ui,xr,3,0,Math.PI*2),M.fill()},Co=(M,L,K)=>{const J=Math.sqrt(K.x*K.x+K.y*K.y);if(J===0)return;const Z=K.x/J,ce=K.y/J,le=100,te=L.x+Z*le,ye=L.y+ce*le;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(te,ye),M.stroke(),M.setLineDash([]);const Ae=10,_e=Math.atan2(ce,Z);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(te,ye),M.lineTo(te-Ae*Math.cos(_e-Math.PI/6),ye-Ae*Math.sin(_e-Math.PI/6)),M.lineTo(te-Ae*Math.cos(_e+Math.PI/6),ye-Ae*Math.sin(_e+Math.PI/6)),M.closePath(),M.fill()},Bi=(M,L)=>{if(!(L.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let K=1;K<L.length;K++)M.lineTo(L[K].x,L[K].y);M.stroke()}},Ln=x.useCallback(()=>{if(g&&b&&r){const M=ni(r,b);return M?{start:g,current:M}:{start:g,current:b}}if(S&&r){const M=S.angle*Math.PI/180,L=r.x+Math.cos(M)*S.distance,K=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:K}}}return null},[g,b,S,r,ni]),ir=x.useCallback(()=>{const M=Ln();if(!M||!r)return 0;const L=M.current.x-r.x,K=M.current.y-r.y;let J=Math.atan2(K,L)*180/Math.PI;return J<0&&(J+=360),J},[Ln,r]),H=x.useCallback(()=>{const M=Ln();if(!M)return 100;const L=M.current.x-M.start.x,K=M.current.y-M.start.y;return Math.sqrt(L*L+K*K)},[Ln]),re=x.useCallback((M,L)=>{A({angle:M,distance:L})},[]),Oe=x.useCallback(()=>{if(g&&b&&r){const M=b.x-r.x,L=b.y-r.y;let K=Math.atan2(L,M)*180/Math.PI;K<0&&(K+=360);const J=Math.sqrt(M*M+L*L);A({angle:K,distance:J})}},[g,b,r]),Be=x.useCallback(()=>{const M=Ln();if(!M||W||!r)return{angle:null,fraction:null};const L=ri(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const K={x:M.current.x-r.x,y:M.current.y-r.y},J={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},Z=fs(K,J);return{angle:Z.angle,fraction:Vi(Z.fraction)}},[Ln,W,r,ri]);x.useEffect(()=>{const M=Be();tt(M.angle),je(M.fraction)},[Be]);const Le=x.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,an,bn),ii(L),Ee&&gt.length>0){const J=gt[Ke];if(J.objectBalls.forEach((Z,ce)=>{if(!Z.pocketed){const le=Je[ce];if(le!==void 0){const te={x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:le};jr(L,te,le)}}}),J.cueBall){const Z={x:J.cueBall.x,y:J.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};gi(L,Z)}return}if(W&&z.length>0&&!Ee){const J=z.filter(Z=>Z.cueBall).map(Z=>Z.cueBall);J.length>0&&(L.strokeStyle="#FFFF00",L.lineWidth=4,L.beginPath(),L.moveTo(J[0].x,J[0].y),J.forEach(Z=>L.lineTo(Z.x,Z.y)),L.stroke()),Je.forEach((Z,ce)=>{if(Z===void 0)return;const le=z.map(te=>te.objectBalls[ce]).filter(te=>te&&!te.pocketed);if(le.length>0){const te=Pl[Z];L.strokeStyle=te.color,L.lineWidth=4,L.beginPath(),L.moveTo(le[0].x,le[0].y),le.forEach(ye=>L.lineTo(ye.x,ye.y)),L.stroke()}})}const K=Ln();if(K&&!W&&r){ga(L,r.x,r.y,K.current.x,K.current.y);const J=ri(r.x,r.y,K.current.x,K.current.y);J&&(Bi(L,J.path),J.objectPaths&&J.objectPaths.length>0&&J.objectPaths.forEach(Z=>{if(Z.length>=2){const ce=Z[0].color;L.strokeStyle=ce,L.lineWidth=4,L.setLineDash([6,4]),L.beginPath(),L.moveTo(Z[0].x,Z[0].y);for(let Me=1;Me<Z.length;Me++)L.lineTo(Z[Me].x,Z[Me].y);L.stroke(),L.setLineDash([]);const le=Z[Z.length-1],te=Z[Math.max(0,Z.length-5)],ye=le.x-te.x,Ae=le.y-te.y;if(Math.sqrt(ye*ye+Ae*Ae)>5){const Me=Math.atan2(Ae,ye),pt=10;L.fillStyle=ce,L.beginPath(),L.moveTo(le.x,le.y),L.lineTo(le.x-pt*Math.cos(Me-Math.PI/6),le.y-pt*Math.sin(Me-Math.PI/6)),L.lineTo(le.x-pt*Math.cos(Me+Math.PI/6),le.y-pt*Math.sin(Me+Math.PI/6)),L.closePath(),L.fill()}}}),J.hitBall&&J.cueBallPosAtContact&&J.cueBallDeflection&&(ma(L,J.cueBallPosAtContact.x,J.cueBallPosAtContact.y),Co(L,J.cueBallPosAtContact,J.cueBallDeflection)))}s.forEach((J,Z)=>{if(J.number&&jr(L,J,J.number),u&&u.type==="object"&&u.index===Z){const ce=Pl[J.number||1];kr(L,J.x,J.y,ce.color)}}),r&&(gi(L,r),u&&u.type==="cue"&&kr(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,s,g,b,S,W,z,ri,ii,Ln,u,Ee,Ke,gt,Je,gn]);x.useEffect(()=>{Le()},[Le]),x.useEffect(()=>{if(gn){const M=setTimeout(()=>Le(),50);return()=>clearTimeout(M)}},[gn,Le]);const q=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),J=an/K.width,Z=bn/K.height,ce=(M.clientX-K.left)*J,le=(M.clientY-K.top)*Z,te=a==="cue",{x:ye,y:Ae}=Wn(ce,le,void 0,te);if(a==="cue"){if(qn(ye,Ae)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ye,y:Ae,vx:0,vy:0,spinX:0,spinY:0}),c(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(qn(ye,Ae)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const _e=Kt(a);if(_e!==null)o(Me=>[...Me,{x:ye,y:Ae,vx:0,vy:0,spinX:0,spinY:0,number:_e}]),a==="eight"&&c(null);else{const Me=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Me,variant:"destructive"})}}else if(a==="reposition"){if(r&&vn({x:ce,y:le},r)<Ge*2){d({type:"cue"});return}for(let _e=0;_e<s.length;_e++)if(vn({x:ce,y:le},s[_e])<Ge*2){d({type:"object",index:_e});return}}else if(a==="remove"){if(r&&vn({x:ce,y:le},r)<Ge*2){i(null);return}for(let _e=0;_e<s.length;_e++)if(vn({x:ce,y:le},s[_e])<Ge*2){o(pt=>pt.filter((rn,Gn)=>Gn!==_e));return}}else r&&!W&&(y({x:r.x,y:r.y}),w({x:ce,y:le}))},Te=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),J=an/K.width,Z=bn/K.height,ce=(M.clientX-K.left)*J,le=(M.clientY-K.top)*Z;if(u){const te=u.type==="cue",ye=u.type==="object"?u.index:void 0,{x:Ae,y:_e}=Wn(ce,le,ye,te);qn(Ae,_e)||(u.type==="cue"&&r?i({...r,x:Ae,y:_e}):u.type==="object"&&u.index!==void 0&&o(Me=>Me.map((pt,rn)=>rn===u.index?{...pt,x:Ae,y:_e}:pt)))}else g&&!W&&w({x:ce,y:le})},Re=()=>{u&&d(null),g&&b&&Oe(),y(null),w(null)},pe=x.useCallback((M,L)=>{const K=n.current;if(!K)return null;const J=K.getBoundingClientRect(),Z=an/J.width,ce=bn/J.height,le=(M-J.left)*Z,te=(L-J.top)*ce;return{rawX:le,rawY:te}},[]),we=x.useCallback(M=>{var ye,Ae;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=pe(L.clientX,L.clientY);if(!K)return;const{rawX:J,rawY:Z}=K,ce=a==="cue",{x:le,y:te}=Wn(J,Z,void 0,ce);if(a==="cue"){if(qn(le,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:le,y:te,vx:0,vy:0,spinX:0,spinY:0}),c(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(qn(le,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const _e=Kt(a);if(_e!==null)o(Me=>[...Me,{x:le,y:te,vx:0,vy:0,spinX:0,spinY:0,number:_e}]),a==="eight"&&c(null);else{const Me=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Me,variant:"destructive"})}}else if(a==="reposition"){if(r&&vn({x:J,y:Z},r)<Ge*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let _e=0;_e<s.length;_e++)if(vn({x:J,y:Z},s[_e])<Ge*2){d({type:"object",index:_e});const pt=s[_e].number;e({title:`Drag to reposition ${pt?(ye=Pl[pt])==null?void 0:ye.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&vn({x:J,y:Z},r)<Ge*2){i(null),e({title:"Cue ball removed"});return}for(let _e=0;_e<s.length;_e++)if(vn({x:J,y:Z},s[_e])<Ge*2){const pt=s[_e].number,rn=pt?(Ae=Pl[pt])==null?void 0:Ae.name:"ball";o(Gn=>Gn.filter((Ui,xr)=>xr!==_e)),e({title:`${rn} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(y({x:r.x,y:r.y}),w({x:J,y:Z}))},[r,s,a,W,pe,Wn,Kt,e]),ve=x.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=pe(L.clientX,L.clientY);if(!K)return;const{rawX:J,rawY:Z}=K;if(u){const ce=u.type==="cue",le=u.type==="object"?u.index:void 0,{x:te,y:ye}=Wn(J,Z,le,ce);qn(te,ye)||(u.type==="cue"&&r?i({...r,x:te,y:ye}):u.type==="object"&&u.index!==void 0&&o(Ae=>Ae.map((_e,Me)=>Me===u.index?{..._e,x:te,y:ye}:_e)))}else g&&!W&&w({x:J,y:Z})},[r,u,g,W,pe,Wn]),Ye=x.useCallback(M=>{M.preventDefault(),u&&d(null),g&&b&&Oe(),y(null),w(null)},[u,g,b,Oe,e]);x.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",we,{passive:!1}),M.addEventListener("touchmove",ve,{passive:!1}),M.addEventListener("touchend",Ye,{passive:!1}),M.addEventListener("touchcancel",Ye,{passive:!1}),()=>{M.removeEventListener("touchstart",we),M.removeEventListener("touchmove",ve),M.removeEventListener("touchend",Ye),M.removeEventListener("touchcancel",Ye)}},[we,ve,Ye]);const it=()=>{if(!se){e({title:"Please select a course first",variant:"destructive"});return}const M=Xje[se];if(!M)return;const K=(Z=>{const ce=[...Z];for(let le=ce.length-1;le>0;le--){const te=Math.floor(Math.random()*(le+1));[ce[le],ce[te]]=[ce[te],ce[le]]}return ce})(Array.from({length:15},(Z,ce)=>ce+1)),J=M.balls.map((Z,ce)=>({x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:K[ce]}));o(J),i({x:Ue[2],y:ze[2],vx:0,vy:0,spinX:0,spinY:0}),A(null),$(!1),ne([]),ue(M.name),e({title:`Loaded: ${M.name}`})},Pt=()=>{i(null),o([]),$(!1),ne([]),ue(null),Q(""),e({title:"Table cleared"})};x.useCallback(()=>{Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null),nt(!1)},[]),x.useEffect(()=>{if(!Ee||gt.length===0)return;const M=2,L=16,K=J=>{Ut.current===0&&(Ut.current=J);const Z=J-Ut.current;if(Z>=L){const ce=Math.floor(Z/L)*M,le=Math.min(Ke+ce,gt.length-1);if(rt(le),Ut.current=J,le>=gt.length-1){const te=gt[gt.length-1];te.cueBall?i(ye=>ye?{...ye,x:te.cueBall.x,y:te.cueBall.y,vx:0,vy:0}:null):i(null),o(ye=>ye.map((Ae,_e)=>{const Me=te.objectBalls[_e];return!Me||Me.pocketed?null:{...Ae,x:Me.x,y:Me.y,vx:0,vy:0}}).filter(Ae=>Ae!==null)),nt(!1),A(null);return}}Ie.current=requestAnimationFrame(K)};return Ie.current=requestAnimationFrame(K),()=>{Ie.current&&cancelAnimationFrame(Ie.current)}},[Ee,Ke,gt]);const Rt=M=>{const L=M.currentTarget.getBoundingClientRect(),K=M.clientX-L.left,J=M.clientY-L.top,Z=K/100*2-1,ce=-(J/100*2-1);T(Z),I(ce)},sr=(r?1:0)+s.length,or=Gr().toFixed(3),kt=ti().toFixed(3);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(TC,{open:Y,onComplete:yn,pages:nn,toolName:"Advanced Cueing Emulator"}),gn&&l.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),l.jsx(ie,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>fn(!1),"data-testid":"button-close-fullscreen",children:l.jsx(Cx,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:l.jsx("canvas",{ref:n,width:an,height:bn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:kn?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:q,onMouseMove:Te,onMouseUp:Re,onMouseLeave:Re,"data-testid":"canvas-fullscreen-table"})}),l.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[l.jsxs("div",{className:"flex items-center justify-between text-white",children:[l.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),l.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??ir()).toFixed(2),""]})]}),l.jsx(Gc,{value:[(S==null?void 0:S.angle)??ir()],onValueChange:([M])=>re(M,(S==null?void 0:S.distance)??H()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>re(((S==null?void 0:S.angle)??ir())-.01,(S==null?void 0:S.distance)??H()),"data-testid":"button-fullscreen-left",children:" 0.01"}),l.jsx(ie,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>re(((S==null?void 0:S.angle)??ir())+.01,(S==null?void 0:S.distance)??H()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Ce!==null||xe!==null)&&l.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:l.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[l.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",l.jsxs("span",{className:"font-mono",children:[(Ce==null?void 0:Ce.toFixed(1))??"--",""]})]}),l.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",l.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})]}),l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>fn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:l.jsx(kH,{className:"w-5 h-5"})}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>V(!0),"data-testid":"button-tutorial",children:l.jsx(Wp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("div",{className:"flex-1",children:l.jsxs(ot,{className:"p-4",children:[!gn&&l.jsx("canvas",{ref:n,width:an,height:bn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:an,touchAction:"none"},onMouseDown:q,onMouseMove:Te,onMouseUp:Re,onMouseLeave:Re,"data-testid":"canvas-billiard-table"}),(Ce!==null||xe!==null)&&l.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",l.jsxs("span",{className:"font-mono",children:[(Ce==null?void 0:Ce.toFixed(1))??"--",""]})]}),l.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",l.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})}),l.jsx("div",{className:"w-full lg:w-80",children:l.jsx(ot,{className:"p-2",children:l.jsxs(Eu,{type:"multiple",className:"w-full",children:[l.jsxs(Ai,{value:"practice-courses",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:l.jsxs("span",{className:"flex items-center gap-2",children:["Practice Courses",l.jsx(id,{})]})}),l.jsx(Ni,{className:"px-2 space-y-3",children:l.jsx(nv,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs(XF,{value:se,onValueChange:Q,children:[l.jsx(_C,{"data-testid":"select-course",children:l.jsx(QF,{placeholder:"-- Select a Course --"})}),l.jsxs(EC,{children:[l.jsx(lr,{value:"par2_01",children:"Par 2 - Course 1"}),l.jsx(lr,{value:"par2_02",children:"Par 2 - Course 2"}),l.jsx(lr,{value:"par2_03",children:"Par 2 - Course 3"}),l.jsx(lr,{value:"par3_01",children:"Par 3 - Course 1"}),l.jsx(lr,{value:"par3_02",children:"Par 3 - Course 2"}),l.jsx(lr,{value:"par3_03",children:"Par 3 - Course 3"}),l.jsx(lr,{value:"par3_04",children:"Par 3 - Course 4"}),l.jsx(lr,{value:"par4_01",children:"Par 4 - Course 1"}),l.jsx(lr,{value:"par4_02",children:"Par 4 - Course 2"}),l.jsx(lr,{value:"par4_03",children:"Par 4 - Course 3"}),l.jsx(lr,{value:"par4_04",children:"Par 4 - Course 4"}),l.jsx(lr,{value:"par4_05",children:"Par 4 - Course 5"}),l.jsx(lr,{value:"par5_01",children:"Par 5 - Course 1"}),l.jsx(lr,{value:"par5_02",children:"Par 5 - Course 2"}),l.jsx(lr,{value:"par5_03",children:"Par 5 - Course 3"}),l.jsx(lr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),l.jsx(ie,{className:"w-full",onClick:it,"data-testid":"button-load-course",children:"Load Course"}),ge&&l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",l.jsx("span",{className:"text-primary font-semibold",children:ge})]})]})})})]}),l.jsxs(Ai,{value:"ball-placement",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),l.jsxs(Ni,{className:"px-2 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(AH,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),l.jsx(Vr,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ie,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[l.jsx(GR,{size:14}),l.jsx("span",{className:"ml-1",children:"Cue"})]}),l.jsxs(ie,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[l.jsx(KR,{size:14}),l.jsx("span",{className:"ml-1",children:"Solid"})]}),l.jsxs(ie,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[l.jsx(YR,{size:14}),l.jsx("span",{className:"ml-1",children:"Stripe"})]}),l.jsxs(ie,{variant:a==="eight"?"default":"secondary",className:"flex-1",onClick:()=>{a==="eight"?c(null):Hn()||c("eight")},disabled:a!=="eight"&&Hn(),"data-testid":"button-add-eight",children:[l.jsx(XR,{size:14}),l.jsx("span",{className:"ml-1",children:"8 Ball"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ie,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[l.jsx(UN,{className:"w-4 h-4 mr-1"}),"Move"]}),l.jsxs(ie,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[l.jsx(MH,{className:"w-4 h-4 mr-1"}),"Remove"]}),l.jsxs(ie,{variant:"secondary",className:"flex-1",onClick:Pt,"data-testid":"button-clear",children:[l.jsx(Cy,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",sr]})]})]}),l.jsxs(Ai,{value:"power-aim",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Mh,{className:"w-4 h-4"}),"Power & Aim"]})}),l.jsxs(Ni,{className:"px-2 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),l.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),l.jsx(Gc,{value:[E*100],onValueChange:([M])=>N(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),l.jsxs("div",{className:"border-t border-border pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?l.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>A(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[l.jsx(NH,{className:"w-3 h-3 mr-1"}),"Clear"]}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&b?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??ir()).toFixed(2),""]})}),l.jsx(Gc,{value:[(S==null?void 0:S.angle)??ir()],onValueChange:([M])=>re(M,(S==null?void 0:S.distance)??H()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"90"}),l.jsx("span",{children:"180"}),l.jsx("span",{children:"270"}),l.jsx("span",{children:"360"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ie,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>re(((S==null?void 0:S.angle)??ir())-.1,(S==null?void 0:S.distance)??H()),"data-testid":"button-aim-left",children:" 0.10"}),l.jsx(ie,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>re(((S==null?void 0:S.angle)??ir())+.1,(S==null?void 0:S.distance)??H()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):l.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[l.jsx(L1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),l.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),l.jsxs(Ai,{value:"english-spin",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),l.jsxs(Ni,{className:"px-2 space-y-3",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Rt,"data-testid":"box-spin",children:[l.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),l.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),l.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-P)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),l.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),l.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),l.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[l.jsxs("span",{children:["x: ",_.toFixed(2)]}),l.jsxs("span",{children:["y: ",P.toFixed(2)]})]})]})]}),l.jsxs(Ai,{value:"environment",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),l.jsxs(Ni,{className:"px-2 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),l.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:yr().label})]}),l.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>l.jsx(ie,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),l.jsx(Gc,{value:[j*100],onValueChange:([M])=>O(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Slow"}),l.jsx("span",{children:"Fast"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(R*100),"%"]})]}),l.jsx(Gc,{value:[R*100],onValueChange:([M])=>F(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Dead"}),l.jsx("span",{children:"Lively"})]})]}),l.jsxs("div",{className:"pt-2 border-t border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[l.jsx($H,{className:"w-3 h-3"}),"Table Presets"]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),l.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=ae[M];return l.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>Ft(M),onMouseUp:()=>qe(M),onMouseLeave:()=>{Se.current&&(clearTimeout(Se.current),Se.current=null)},onTouchStart:()=>Ft(M),onTouchEnd:()=>qe(M),"data-testid":`button-preset-${M+1}`,children:L?l.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):l.jsx("span",{children:"--"})},M)})})]})]})]}),l.jsxs(Ai,{value:"physics",className:"border-b-0",children:[l.jsx(Pi,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),l.jsx(Ni,{className:"px-2",children:l.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[l.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),l.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:or})]}),l.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[l.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),l.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:kt})]})]})})]})]})})})]})})})]})}const $w=""+new URL("HEADS_1766274620246-I6Gelmx1.png",import.meta.url).href,QR=""+new URL("TAILS_1766274620247-BjPO4NFE.png",import.meta.url).href;function Jje(){const[,t]=wo(),[e,n]=x.useState("idle"),[r,i]=x.useState(null),[s,o]=x.useState(!1),[a,c]=x.useState(0),[u,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>(ht.startSession("luck"),()=>{ht.endSession(),f.current&&clearTimeout(f.current)}),[]);const h=()=>{n("flipping"),i(null),o(!1),d(!0);const v=Math.random()<.5?"heads":"tails",y=(4+Math.floor(Math.random()*3))*360,b=v==="heads"?y:y+180;c(b),f.current=setTimeout(()=>{i(v),n("result"),d(!1),ht.trackSkillMetric("luck","coin_flip",v==="heads"?1:0),setTimeout(()=>{o(!0)},200)},2500)},m=()=>{n("idle"),i(null),o(!1),c(0),d(!1),f.current&&(clearTimeout(f.current),f.current=null)};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-lg font-bold text-primary",children:"CueMaster: Luck"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Coin Flip"})]}),l.jsx(ie,{variant:"ghost",size:"icon",onClick:m,disabled:e==="idle","data-testid":"button-reset",children:l.jsx(Ey,{className:"w-5 h-5"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 gap-8",children:[e==="idle"&&l.jsxs("div",{className:"flex flex-col items-center gap-8",children:[l.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64",style:{perspective:"1000px"},children:l.jsx("div",{className:"w-full h-full relative",style:{transformStyle:"preserve-3d"},children:l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",style:{backfaceVisibility:"hidden"},children:l.jsx("img",{src:$w,alt:"Heads",className:"w-full h-full object-cover"})})})}),l.jsx(ie,{size:"lg",className:"text-xl px-12 py-6",onClick:h,"data-testid":"button-flip",children:"FLIP COIN"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-xs",children:"Tap to flip. The result is guaranteed 50/50  true random."})]}),e==="flipping"&&l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64",style:{perspective:"1000px"},children:l.jsxs("div",{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",transform:`rotateY(${a}deg)`,transition:u?"transform 2.5s cubic-bezier(0.25, 0.1, 0.25, 1)":"none"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden shadow-2xl",style:{backfaceVisibility:"hidden"},children:l.jsx("img",{src:$w,alt:"Heads",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:l.jsx("img",{src:QR,alt:"Tails",className:"w-full h-full object-cover"})})]})}),l.jsx("p",{className:"text-lg text-muted-foreground animate-pulse",children:"Flipping..."})]}),e==="result"&&r&&l.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-md",children:[l.jsx("div",{className:`w-full aspect-square max-w-xs md:max-w-sm transition-all duration-700 ease-out ${s?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:l.jsx("img",{src:r==="heads"?$w:QR,alt:r,className:"w-full h-full object-contain rounded-full shadow-2xl","data-testid":`img-result-${r}`})}),l.jsx("h2",{className:`text-5xl md:text-7xl font-black tracking-wider transition-all duration-700 ease-out ${s?"opacity-100 scale-100":"opacity-0 scale-75"} ${r==="heads"?"text-amber-400":"text-slate-400"}`,"data-testid":"text-result",children:r.toUpperCase()}),l.jsx(ie,{size:"lg",variant:"outline",className:"mt-4",onClick:h,"data-testid":"button-flip-again",children:"Flip Again"})]})]}),l.jsx("footer",{className:"py-4 px-6 text-center border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fair 50/50 random generation. No prediction, no pattern."})})]})}function Zje(){const[,t]=wo(),[e,n]=x.useState(null);x.useEffect(()=>{n(ht.getAggregatedStats())},[]);const r=o=>{const a=Math.floor(o/1e3),c=Math.floor(a/3600),u=Math.floor(a%3600/60),d=a%60;return c>0?`${c}h ${u}m`:u>0?`${u}m ${d}s`:`${d}s`},i=o=>o?new Date(o).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",s=e&&(e.totalSessions>0||ht.hasAnyConsent());return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!ht.hasAnyConsent()&&l.jsx(ot,{className:"p-4 bg-primary/5 border-primary/20",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),l.jsx(ie,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&l.jsxs(l.Fragment,{children:[l.jsx(ot,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:l.jsx(y$,{className:"w-8 h-8 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Mo,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),l.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const o=Math.floor(e.totalTimeMs/1e3),a=Math.floor(o/3600),c=Math.floor(o%3600/60),u=o%60;return l.jsxs(l.Fragment,{children:[a>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:u}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(_y,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(oT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(F1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),l.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([o,a])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-medium capitalize",children:o})}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},o))})]})]}),!s&&ht.hasAnyConsent()&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function e2e(){const[,t]=wo(),[e,n]=x.useState(""),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[a,c]=x.useState(null),[u,d]=x.useState(null),f=async()=>{if(e){o(!0),c(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){c("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const v=await m.json();d(v),i(!0),localStorage.setItem("admin_secret",e)}catch(m){c(m instanceof Error?m.message:"Unknown error")}finally{o(!1)}}};x.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),x.useEffect(()=>{e&&!r&&!s&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(Ty,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&l.jsx(ie,{variant:"outline",size:"icon",onClick:f,disabled:s,"data-testid":"button-refresh",children:l.jsx(LH,{className:`w-4 h-4 ${s?"animate-spin":""}`})})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ty,{className:"w-6 h-6 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("div",{children:l.jsx(fr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&l.jsx("p",{className:"text-sm text-destructive",children:a}),l.jsx(ie,{type:"submit",className:"w-full",disabled:s||!e,"data-testid":"button-authenticate",children:s?"Authenticating...":"Access Dashboard"})]})]}),r&&u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(Fl,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:u.uniqueUsers})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(lc,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:u.totalSubmissions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(_y,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:u.aggregateStats.totalSessions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(oT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:u.aggregateStats.totalTimeHours})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(Mh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsxs("p",{className:"text-lg font-bold",children:[u.aggregateStats.avgShotTime,"s"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalShots}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(v$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.avgBreakSpeed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.maxBreakSpeed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalBreaks}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(_y,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalCalibrations}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),u.recentSubmissions.length>0&&l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),l.jsx("div",{className:"space-y-2",children:u.recentSubmissions.map((m,v)=>l.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[l.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),l.jsxs("span",{children:[m.sessions," sessions"]}),l.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},v))})]}),u.totalSubmissions===0&&l.jsxs(ot,{className:"p-6 text-center",children:[l.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const t2e=.0254,n2e=.02,r2e=.005;function i2e(){const[,t]=wo(),[e,n]=x.useState(!1),[r,i]=x.useState("Click Start to begin"),[s,o]=x.useState(0),[a,c]=x.useState(.05),[u,d]=x.useState(.22),[f,h]=x.useState(0),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,w]=x.useState(null),[S,A]=x.useState(null),[E,N]=x.useState(null),[_,T]=x.useState([]),[P,I]=x.useState(0),[j,O]=x.useState(60),[R,F]=x.useState(.22),[B,U]=x.useState(2.8),[W,$]=x.useState(.06),[z,ne]=x.useState(.01),[se,Q]=x.useState(.25),[ge,ue]=x.useState(300),[Ce,tt]=x.useState(6e3),xe=x.useRef(null),je=x.useRef(null),ae=x.useRef(!1),de=x.useRef(.05),Y=x.useRef(0),V=x.useRef(null),Se=x.useCallback(Pe=>{T(Je=>[Pe,...Je].slice(0,100))},[]),Ee=async()=>{i("Requesting microphone..."),T([]),h(0),v(null),y(null),w(null),N(null),A(null),de.current=.05,Y.current=0,V.current=null;try{const Pe=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});je.current=Pe;const Je=new AudioContext({sampleRate:48e3});xe.current=Je,Je.state==="suspended"&&await Je.resume(),i(`AudioContext: ${Je.state}`);const Ze=Je.createMediaStreamSource(Pe),Ie=Je.createBiquadFilter();Ie.type="highpass",Ie.frequency.value=ge;const Ut=Je.createBiquadFilter();Ut.type="lowpass",Ut.frequency.value=Ce;const gn=Je.createAnalyser();gn.fftSize=2048,Ze.connect(Ie),Ie.connect(Ut),Ut.connect(gn),ae.current=!0,n(!0),Se({type:"info",time:0,max:0,thresh:0,floor:0});const fn=new Float32Array(gn.fftSize);let kn=0;const qr=()=>{if(!ae.current)return;kn++,kn%30===0&&(I(kn),i(`Listening (frame ${kn})`)),gn.getFloatTimeDomainData(fn);let nn=0;for(let Ft=0;Ft<fn.length;Ft++)nn=Math.max(nn,Math.abs(fn[Ft]));kn<=3&&Se({type:"debug",time:Je.currentTime,max:nn,thresh:0,floor:de.current});const yn=de.current;de.current=nn>yn?yn+n2e*(nn-yn):yn-r2e*(yn-nn),de.current=Math.max(.02,Math.min(.6,de.current));const qt=Je.currentTime,hn=Math.max(R,de.current*B);if(o(nn),c(de.current),d(hn),nn>hn&&qt-Y.current>W)if(Y.current=qt,h(Ft=>Ft+1),A(nn),V.current===null)V.current=qt,v(qt),Se({type:"tip",time:qt,max:nn,thresh:hn,floor:de.current});else{const Ft=qt-V.current;if(y(qt),w(Ft),Ft>=z&&Ft<=se){Se({type:"rack",time:qt,max:nn,thresh:hn,floor:de.current,deltaT:Ft});const yr=j*t2e/Ft*2.23693629;N(yr),V.current=null}else Se({type:"rejected",time:qt,max:nn,thresh:hn,floor:de.current,deltaT:Ft,reason:Ft<z?"too fast":"too slow"}),Ft>se&&(V.current=qt,v(qt))}requestAnimationFrame(qr)};requestAnimationFrame(qr)}catch(Pe){console.error(Pe),i(`ERROR: ${Pe.message}`),n(!1)}},nt=()=>{ae.current=!1,je.current&&je.current.getTracks().forEach(Pe=>Pe.stop()),xe.current&&xe.current.close(),n(!1),i("Stopped")},Ke=()=>{T([]),h(0),v(null),y(null),w(null),N(null),A(null)},rt=()=>{const Pe={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:R,floorMult:B,refractTime:W,minDeltaT:z,maxDeltaT:se,hpfFreq:ge,lpfFreq:Ce},peaks:_},Je=new Blob([JSON.stringify(Pe,null,2)],{type:"application/json"}),Ze=URL.createObjectURL(Je),Ie=document.createElement("a");Ie.href=Ze,Ie.download=`break-debug-${Date.now()}.json`,Ie.click(),URL.revokeObjectURL(Ze)};x.useEffect(()=>()=>{ae.current=!1,je.current&&je.current.getTracks().forEach(Pe=>Pe.stop()),xe.current&&xe.current.close()},[]);const gt=Pe=>{switch(Pe){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(ie,{onClick:e?nt:Ee,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?l.jsx(OH,{className:"w-4 h-4 mr-2"}):l.jsx(RH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),l.jsxs(ie,{variant:"secondary",onClick:Ke,"data-testid":"button-clear",children:[l.jsx(Cy,{className:"w-4 h-4 mr-2"}),"Clear"]}),l.jsxs(ie,{variant:"secondary",onClick:rt,"data-testid":"button-export",children:[l.jsx(p$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsxs(ot,{className:"p-4 bg-muted/30",children:[l.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[l.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",l.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",P]})]}),E!==null&&l.jsxs(ot,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[l.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),l.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",b==null?void 0:b.toFixed(4),"s | Distance: ",j,'"']})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Current"}),l.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[l.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(s*100,100)}%`}}),l.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${u*100}%`}})]}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:s.toFixed(3)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Floor"}),l.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Thresh"}),l.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:l.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${u*100}%`}})}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:u.toFixed(3)})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold text-primary",children:f}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold font-mono",children:(b==null?void 0:b.toFixed(4))??"-"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Distance (in)"}),l.jsx(fr,{type:"number",value:j,onChange:Pe=>O(+Pe.target.value),className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Min Threshold"}),l.jsx(fr,{type:"number",value:R,onChange:Pe=>F(+Pe.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Floor Multiplier"}),l.jsx(fr,{type:"number",value:B,onChange:Pe=>U(+Pe.target.value),step:"0.1",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Refractory (s)"}),l.jsx(fr,{type:"number",value:W,onChange:Pe=>$(+Pe.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Min Delta T (s)"}),l.jsx(fr,{type:"number",value:z,onChange:Pe=>ne(+Pe.target.value),step:"0.005",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Max Delta T (s)"}),l.jsx(fr,{type:"number",value:se,onChange:Pe=>Q(+Pe.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"HPF Freq (Hz)"}),l.jsx(fr,{type:"number",value:ge,onChange:Pe=>ue(+Pe.target.value),step:"50",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"LPF Freq (Hz)"}),l.jsx(fr,{type:"number",value:Ce,onChange:Pe=>tt(+Pe.target.value),step:"100",className:"h-8"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),l.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((Pe,Je)=>l.jsxs("div",{className:`flex justify-between ${gt(Pe.type)}`,children:[l.jsxs("span",{children:[Pe.type.toUpperCase()," @ ",Pe.time.toFixed(4),"s"]}),l.jsxs("span",{children:["max: ",Pe.max.toFixed(4)," ",Pe.deltaT?`dt: ${Pe.deltaT.toFixed(4)}`:""," ",Pe.reason||""]})]},Je))})]})]})})]})}function s2e(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(ot,{className:"w-full max-w-md mx-4",children:l.jsxs(j5,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(wH,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function o2e(){const[t,e]=wo();return t==="/"||t===""?null:l.jsx("div",{className:"fixed top-4 right-4 z-50",children:l.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-home-global",children:l.jsx(D1,{className:"w-5 h-5 text-primary"})})})}const a2e=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),l2e=t=>{window.location.hash=t},c2e=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),u2e=()=>window.location.hash.replace(/^#/,"")||"/";function d2e(){const t=x.useSyncExternalStore(c2e,u2e,()=>"/"),e=x.useCallback(n=>l2e(n),[]);return[t,e]}function f2e(){return l.jsxs(jL,{hook:a2e?d2e:void 0,children:[l.jsx(o2e,{}),l.jsxs(G7,{children:[l.jsx(qs,{path:"/",component:aie}),l.jsx(qs,{path:"/break-speed",component:jie}),l.jsx(qs,{path:"/shot-clock",component:Cje}),l.jsx(qs,{path:"/table-level",component:Pje}),l.jsx(qs,{path:"/cue-emulator",component:Qje}),l.jsx(qs,{path:"/coin-flip",component:Jje}),l.jsx(qs,{path:"/insights",component:Zje}),l.jsx(qs,{path:"/admin/analytics",component:e2e}),l.jsx(qs,{path:"/debug/audio",component:i2e}),l.jsx(qs,{component:s2e})]})]})}function h2e(){return l.jsx(yW,{client:bW,children:l.jsx(ZG,{children:l.jsx(vte,{children:l.jsx(xte,{children:l.jsx(Ste,{children:l.jsxs(QG,{children:[l.jsx(Tq,{}),l.jsx(f2e,{})]})})})})})})}const QA=t=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; font-family: monospace; color: #ff6b6b; background: #1a1a2e;">
        <h2>Error Loading App</h2>
        <pre style="white-space: pre-wrap; word-break: break-word;">${t instanceof Error?t.message+`
`+t.stack:t}</pre>
      </div>
    `)};window.onerror=(t,e,n,r,i)=>{QA(i||String(t))};window.onunhandledrejection=t=>{QA(t.reason)};try{xL(document.getElementById("root")).render(l.jsx(h2e,{}))}catch(t){QA(t)}
