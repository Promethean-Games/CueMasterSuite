var oA=t=>{throw TypeError(t)};var tb=(t,e,n)=>e.has(t)||oA("Cannot "+n);var he=(t,e,n)=>(tb(t,e,"read from private field"),n?n.call(t):e.get(t)),Mt=(t,e,n)=>e.has(t)?oA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(tb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rr=(t,e,n)=>(tb(t,e,"access private method"),n);var wm=(t,e,n,r)=>({set _(i){yt(t,e,i,n)},get _(){return he(t,e,r)}});function D9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QR={exports:{}},tx={},JR={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.element"),$9=Symbol.for("react.portal"),L9=Symbol.for("react.fragment"),F9=Symbol.for("react.strict_mode"),V9=Symbol.for("react.profiler"),B9=Symbol.for("react.provider"),U9=Symbol.for("react.context"),z9=Symbol.for("react.forward_ref"),W9=Symbol.for("react.suspense"),H9=Symbol.for("react.memo"),q9=Symbol.for("react.lazy"),sA=Symbol.iterator;function G9(t){return t===null||typeof t!="object"?null:(t=sA&&t[sA]||t["@@iterator"],typeof t=="function"?t:null)}var ZR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eM=Object.assign,tM={};function Cd(t,e,n){this.props=t,this.context=e,this.refs=tM,this.updater=n||ZR}Cd.prototype.isReactComponent={};Cd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nM(){}nM.prototype=Cd.prototype;function Z_(t,e,n){this.props=t,this.context=e,this.refs=tM,this.updater=n||ZR}var eE=Z_.prototype=new nM;eE.constructor=Z_;eM(eE,Cd.prototype);eE.isPureReactComponent=!0;var aA=Array.isArray,rM=Object.prototype.hasOwnProperty,tE={current:null},iM={key:!0,ref:!0,__self:!0,__source:!0};function oM(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)rM.call(e,r)&&!iM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Dp,type:t,key:o,ref:s,props:i,_owner:tE.current}}function K9(t,e){return{$$typeof:Dp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dp}function Y9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lA=/\/+/g;function nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y9(""+t.key):e.toString(36)}function wg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dp:case $9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+nb(s,0):r,aA(i)?(n="",t!=null&&(n=t.replace(lA,"$&/")+"/"),wg(i,e,n,"",function(u){return u})):i!=null&&(nE(i)&&(i=K9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",aA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+nb(o,a);s+=wg(o,e,n,l,i)}else if(l=G9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+nb(o,a++),s+=wg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _m(t,e,n){if(t==null)return t;var r=[],i=0;return wg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function X9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ei={current:null},Sg={transition:null},Q9={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:Sg,ReactCurrentOwner:tE};function sM(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:_m,forEach:function(t,e,n){_m(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _m(t,function(){e++}),e},toArray:function(t){return _m(t,function(e){return e})||[]},only:function(t){if(!nE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};wt.Component=Cd;wt.Fragment=L9;wt.Profiler=V9;wt.PureComponent=Z_;wt.StrictMode=F9;wt.Suspense=W9;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q9;wt.act=sM;wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eM({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=tE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rM.call(e,l)&&!iM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dp,type:t.type,key:i,ref:o,props:r,_owner:s}};wt.createContext=function(t){return t={$$typeof:U9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B9,_context:t},t.Consumer=t};wt.createElement=oM;wt.createFactory=function(t){var e=oM.bind(null,t);return e.type=t,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(t){return{$$typeof:z9,render:t}};wt.isValidElement=nE;wt.lazy=function(t){return{$$typeof:q9,_payload:{_status:-1,_result:t},_init:X9}};wt.memo=function(t,e){return{$$typeof:H9,type:t,compare:e===void 0?null:e}};wt.startTransition=function(t){var e=Sg.transition;Sg.transition={};try{t()}finally{Sg.transition=e}};wt.unstable_act=sM;wt.useCallback=function(t,e){return ei.current.useCallback(t,e)};wt.useContext=function(t){return ei.current.useContext(t)};wt.useDebugValue=function(){};wt.useDeferredValue=function(t){return ei.current.useDeferredValue(t)};wt.useEffect=function(t,e){return ei.current.useEffect(t,e)};wt.useId=function(){return ei.current.useId()};wt.useImperativeHandle=function(t,e,n){return ei.current.useImperativeHandle(t,e,n)};wt.useInsertionEffect=function(t,e){return ei.current.useInsertionEffect(t,e)};wt.useLayoutEffect=function(t,e){return ei.current.useLayoutEffect(t,e)};wt.useMemo=function(t,e){return ei.current.useMemo(t,e)};wt.useReducer=function(t,e,n){return ei.current.useReducer(t,e,n)};wt.useRef=function(t){return ei.current.useRef(t)};wt.useState=function(t){return ei.current.useState(t)};wt.useSyncExternalStore=function(t,e,n){return ei.current.useSyncExternalStore(t,e,n)};wt.useTransition=function(){return ei.current.useTransition()};wt.version="18.3.1";JR.exports=wt;var b=JR.exports;const q=Xt(b),aM=D9({__proto__:null,default:q},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J9=b,Z9=Symbol.for("react.element"),e8=Symbol.for("react.fragment"),t8=Object.prototype.hasOwnProperty,n8=J9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r8={key:!0,ref:!0,__self:!0,__source:!0};function lM(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)t8.call(e,r)&&!r8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Z9,type:t,key:o,ref:s,props:i,_owner:n8.current}}tx.Fragment=e8;tx.jsx=lM;tx.jsxs=lM;QR.exports=tx;var c=QR.exports,cM={exports:{}},Mi={},uM={exports:{}},dM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var ne=F.length;F.push(W);e:for(;0<ne;){var X=ne-1>>>1,ie=F[X];if(0<i(ie,W))F[X]=W,F[ne]=ie,ne=X;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],ne=F.pop();if(ne!==W){F[0]=ne;e:for(var X=0,ie=F.length,ce=ie>>>1;X<ce;){var be=2*(X+1)-1,ke=F[be],ot=be+1,xe=F[ot];if(0>i(ke,ne))ot<ie&&0>i(xe,ke)?(F[X]=xe,F[ot]=ne,X=ot):(F[X]=ke,F[be]=ne,X=be);else if(ot<ie&&0>i(xe,ne))F[X]=xe,F[ot]=ne,X=ot;else break e}}return W}function i(F,W){var ne=F.sortIndex-W.sortIndex;return ne!==0?ne:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function C(F){if(g=!1,S(F),!y)if(n(l)!==null)y=!0,V(E);else{var W=n(u);W!==null&&U(C,W.startTime-F)}}function E(F,W){y=!1,g&&(g=!1,x(T),T=-1),m=!0;var ne=h;try{for(S(W),f=n(l);f!==null&&(!(f.expirationTime>W)||F&&!j());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var ie=X(f.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),S(W)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var be=n(u);be!==null&&U(C,be.startTime-W),ce=!1}return ce}finally{f=null,h=ne,m=!1}}var A=!1,_=null,T=-1,N=5,k=-1;function j(){return!(t.unstable_now()-k<N)}function R(){if(_!==null){var F=t.unstable_now();k=F;var W=!0;try{W=_(!0,F)}finally{W?O():(A=!1,_=null)}}else A=!1}var O;if(typeof w=="function")O=function(){w(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=R,O=function(){B.postMessage(null)}}else O=function(){v(R,0)};function V(F){_=F,A||(A=!0,O())}function U(F,W){T=v(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,V(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ne=h;h=W;try{return F()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ne=h;h=F;try{return W()}finally{h=ne}},t.unstable_scheduleCallback=function(F,W,ne){var X=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ne+ie,F={id:d++,callback:W,priorityLevel:F,startTime:ne,expirationTime:ie,sortIndex:-1},ne>X?(F.sortIndex=ne,e(u,F),n(l)===null&&F===n(u)&&(g?(x(T),T=-1):g=!0,U(C,ne-X))):(F.sortIndex=ie,e(l,F),y||m||(y=!0,V(E))),F},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(F){var W=h;return function(){var ne=h;h=W;try{return F.apply(this,arguments)}finally{h=ne}}}})(dM);uM.exports=dM;var i8=uM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o8=b,Oi=i8;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fM=new Set,ph={};function Sc(t,e){Lu(t,e),Lu(t+"Capture",e)}function Lu(t,e){for(ph[t]=e,t=0;t<e.length;t++)fM.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,s8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cA={},uA={};function a8(t){return Mw.call(uA,t)?!0:Mw.call(cA,t)?!1:s8.test(t)?uA[t]=!0:(cA[t]=!0,!1)}function l8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c8(t,e,n,r){if(e===null||typeof e>"u"||l8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var rE=/[\-:]([a-z])/g;function iE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rE,iE);Pr[e]=new ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rE,iE);Pr[e]=new ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rE,iE);Pr[e]=new ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new ti(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function oE(t,e,n,r){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c8(e,n,i,r)&&(n=null),r||i===null?a8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ca=o8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Em=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),Lw=Symbol.for("react.suspense_list"),lE=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),mM=Symbol.for("react.offscreen"),dA=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=dA&&t[dA]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,rb;function kf(t){if(rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var ib=!1;function ob(t,e){if(!t||ib)return"";ib=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ib=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kf(t):""}function u8(t){switch(t.tag){case 5:return kf(t.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return t=ob(t.type,!1),t;case 11:return t=ob(t.type.render,!1),t;case 1:return t=ob(t.type,!0),t;default:return""}}function Fw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xc:return"Fragment";case Yc:return"Portal";case Dw:return"Profiler";case sE:return"StrictMode";case $w:return"Suspense";case Lw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pM:return(t.displayName||"Context")+".Consumer";case hM:return(t._context.displayName||"Context")+".Provider";case aE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lE:return e=t.displayName||null,e!==null?e:Fw(t.type)||"Memo";case Ta:e=t._payload,t=t._init;try{return Fw(t(e))}catch{}}return null}function d8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fw(e);case 8:return e===sE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f8(t){var e=gM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=f8(t))}function yM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vw(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vM(t,e){e=e.checked,e!=null&&oE(t,"checked",e,!1)}function Bw(t,e){vM(t,e);var n=nl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uw(t,e.type,nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uw(t,e,n){(e!=="number"||Zg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Of=Array.isArray;function uu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Of(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nl(n)}}function xM(t,e){var n=nl(e.value),r=nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cm,wM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cm=Cm||document.createElement("div"),Cm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h8=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(t){h8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zf[e]=zf[t]})});function SM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zf.hasOwnProperty(t)&&zf[t]?(""+e).trim():e+"px"}function _M(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var p8=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(p8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function qw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gw=null;function cE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kw=null,du=null,fu=null;function gA(t){if(t=Fp(t)){if(typeof Kw!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=sx(e),Kw(t.stateNode,t.type,e))}}function EM(t){du?fu?fu.push(t):fu=[t]:du=t}function TM(){if(du){var t=du,e=fu;if(fu=du=null,gA(t),e)for(t=0;t<e.length;t++)gA(e[t])}}function CM(t,e){return t(e)}function PM(){}var sb=!1;function AM(t,e,n){if(sb)return t(e,n);sb=!0;try{return CM(t,e,n)}finally{sb=!1,(du!==null||fu!==null)&&(PM(),TM())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=sx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var Yw=!1;if(Ys)try{var df={};Object.defineProperty(df,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{Yw=!1}function m8(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Wf=!1,ey=null,ty=!1,Xw=null,g8={onError:function(t){Wf=!0,ey=t}};function y8(t,e,n,r,i,o,s,a,l){Wf=!1,ey=null,m8.apply(g8,arguments)}function v8(t,e,n,r,i,o,s,a,l){if(y8.apply(this,arguments),Wf){if(Wf){var u=ey;Wf=!1,ey=null}else throw Error(ve(198));ty||(ty=!0,Xw=u)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yA(t){if(_c(t)!==t)throw Error(ve(188))}function x8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yA(i),t;if(o===r)return yA(i),e;o=o.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function jM(t){return t=x8(t),t!==null?IM(t):null}function IM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IM(t);if(e!==null)return e;t=t.sibling}return null}var kM=Oi.unstable_scheduleCallback,vA=Oi.unstable_cancelCallback,b8=Oi.unstable_shouldYield,w8=Oi.unstable_requestPaint,On=Oi.unstable_now,S8=Oi.unstable_getCurrentPriorityLevel,uE=Oi.unstable_ImmediatePriority,OM=Oi.unstable_UserBlockingPriority,ny=Oi.unstable_NormalPriority,_8=Oi.unstable_LowPriority,RM=Oi.unstable_IdlePriority,nx=null,os=null;function E8(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(nx,t,void 0,(t.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:P8,T8=Math.log,C8=Math.LN2;function P8(t){return t>>>=0,t===0?32:31-(T8(t)/C8|0)|0}var Pm=64,Am=4194304;function Rf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ry(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Rf(a):(o&=s,o!==0&&(r=Rf(o)))}else s=n&~i,s!==0?r=Rf(s):o!==0&&(r=Rf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ko(e),i=1<<n,r|=t[n],e&=~i;return r}function A8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ko(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=A8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MM(){var t=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),t}function ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $p(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ko(e),t[e]=n}function j8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ko(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ko(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function DM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $M,fE,LM,FM,VM,Jw=!1,Nm=[],Ba=null,Ua=null,za=null,yh=new Map,vh=new Map,Aa=[],I8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xA(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function ff(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Fp(e),e!==null&&fE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k8(t,e,n,r,i){switch(e){case"focusin":return Ba=ff(Ba,t,e,n,r,i),!0;case"dragenter":return Ua=ff(Ua,t,e,n,r,i),!0;case"mouseover":return za=ff(za,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yh.set(o,ff(yh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vh.set(o,ff(vh.get(o)||null,t,e,n,r,i)),!0}return!1}function BM(t){var e=Ml(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=NM(n),e!==null){t.blockedOn=e,VM(t.priority,function(){LM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _g(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gw=r,n.target.dispatchEvent(r),Gw=null}else return e=Fp(n),e!==null&&fE(e),t.blockedOn=n,!1;e.shift()}return!0}function bA(t,e,n){_g(t)&&n.delete(e)}function O8(){Jw=!1,Ba!==null&&_g(Ba)&&(Ba=null),Ua!==null&&_g(Ua)&&(Ua=null),za!==null&&_g(za)&&(za=null),yh.forEach(bA),vh.forEach(bA)}function hf(t,e){t.blockedOn===e&&(t.blockedOn=null,Jw||(Jw=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,O8)))}function xh(t){function e(i){return hf(i,t)}if(0<Nm.length){hf(Nm[0],t);for(var n=1;n<Nm.length;n++){var r=Nm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ba!==null&&hf(Ba,t),Ua!==null&&hf(Ua,t),za!==null&&hf(za,t),yh.forEach(e),vh.forEach(e),n=0;n<Aa.length;n++)r=Aa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)BM(n),n.blockedOn===null&&Aa.shift()}var hu=ca.ReactCurrentBatchConfig,iy=!0;function R8(t,e,n,r){var i=Vt,o=hu.transition;hu.transition=null;try{Vt=1,hE(t,e,n,r)}finally{Vt=i,hu.transition=o}}function M8(t,e,n,r){var i=Vt,o=hu.transition;hu.transition=null;try{Vt=4,hE(t,e,n,r)}finally{Vt=i,hu.transition=o}}function hE(t,e,n,r){if(iy){var i=Zw(t,e,n,r);if(i===null)yb(t,e,r,oy,n),xA(t,r);else if(k8(i,t,e,n,r))r.stopPropagation();else if(xA(t,r),e&4&&-1<I8.indexOf(t)){for(;i!==null;){var o=Fp(i);if(o!==null&&$M(o),o=Zw(t,e,n,r),o===null&&yb(t,e,r,oy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yb(t,e,r,null,n)}}var oy=null;function Zw(t,e,n,r){if(oy=null,t=cE(r),t=Ml(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oy=t,null}function UM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S8()){case uE:return 1;case OM:return 4;case ny:case _8:return 16;case RM:return 536870912;default:return 16}default:return 16}}var $a=null,pE=null,Eg=null;function zM(){if(Eg)return Eg;var t,e=pE,n=e.length,r,i="value"in $a?$a.value:$a.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Eg=i.slice(t,1<r?1-r:void 0)}function Tg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jm(){return!0}function wA(){return!1}function Di(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jm:wA,this.isPropagationStopped=wA,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),e}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mE=Di(Pd),Lp=Cn({},Pd,{view:0,detail:0}),D8=Di(Lp),lb,cb,pf,rx=Cn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pf&&(pf&&t.type==="mousemove"?(lb=t.screenX-pf.screenX,cb=t.screenY-pf.screenY):cb=lb=0,pf=t),lb)},movementY:function(t){return"movementY"in t?t.movementY:cb}}),SA=Di(rx),$8=Cn({},rx,{dataTransfer:0}),L8=Di($8),F8=Cn({},Lp,{relatedTarget:0}),ub=Di(F8),V8=Cn({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),B8=Di(V8),U8=Cn({},Pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z8=Di(U8),W8=Cn({},Pd,{data:0}),_A=Di(W8),H8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G8[t])?!!e[t]:!1}function gE(){return K8}var Y8=Cn({},Lp,{key:function(t){if(t.key){var e=H8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gE,charCode:function(t){return t.type==="keypress"?Tg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X8=Di(Y8),Q8=Cn({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EA=Di(Q8),J8=Cn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gE}),Z8=Di(J8),ez=Cn({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),tz=Di(ez),nz=Cn({},rx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rz=Di(nz),iz=[9,13,27,32],yE=Ys&&"CompositionEvent"in window,Hf=null;Ys&&"documentMode"in document&&(Hf=document.documentMode);var oz=Ys&&"TextEvent"in window&&!Hf,WM=Ys&&(!yE||Hf&&8<Hf&&11>=Hf),TA=" ",CA=!1;function HM(t,e){switch(t){case"keyup":return iz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qc=!1;function sz(t,e){switch(t){case"compositionend":return qM(e);case"keypress":return e.which!==32?null:(CA=!0,TA);case"textInput":return t=e.data,t===TA&&CA?null:t;default:return null}}function az(t,e){if(Qc)return t==="compositionend"||!yE&&HM(t,e)?(t=zM(),Eg=pE=$a=null,Qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WM&&e.locale!=="ko"?null:e.data;default:return null}}var lz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lz[t.type]:e==="textarea"}function GM(t,e,n,r){EM(r),e=sy(e,"onChange"),0<e.length&&(n=new mE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qf=null,bh=null;function cz(t){iD(t,0)}function ix(t){var e=eu(t);if(yM(e))return t}function uz(t,e){if(t==="change")return e}var KM=!1;if(Ys){var db;if(Ys){var fb="oninput"in document;if(!fb){var AA=document.createElement("div");AA.setAttribute("oninput","return;"),fb=typeof AA.oninput=="function"}db=fb}else db=!1;KM=db&&(!document.documentMode||9<document.documentMode)}function NA(){qf&&(qf.detachEvent("onpropertychange",YM),bh=qf=null)}function YM(t){if(t.propertyName==="value"&&ix(bh)){var e=[];GM(e,bh,t,cE(t)),AM(cz,e)}}function dz(t,e,n){t==="focusin"?(NA(),qf=e,bh=n,qf.attachEvent("onpropertychange",YM)):t==="focusout"&&NA()}function fz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ix(bh)}function hz(t,e){if(t==="click")return ix(e)}function pz(t,e){if(t==="input"||t==="change")return ix(e)}function mz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $o=typeof Object.is=="function"?Object.is:mz;function wh(t,e){if($o(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mw.call(e,i)||!$o(t[i],e[i]))return!1}return!0}function jA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IA(t,e){var n=jA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jA(n)}}function XM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QM(){for(var t=window,e=Zg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zg(t.document)}return e}function vE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gz(t){var e=QM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XM(n.ownerDocument.documentElement,n)){if(r!==null&&vE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IA(n,o);var s=IA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yz=Ys&&"documentMode"in document&&11>=document.documentMode,Jc=null,e1=null,Gf=null,t1=!1;function kA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t1||Jc==null||Jc!==Zg(r)||(r=Jc,"selectionStart"in r&&vE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gf&&wh(Gf,r)||(Gf=r,r=sy(e1,"onSelect"),0<r.length&&(e=new mE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jc)))}function Im(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zc={animationend:Im("Animation","AnimationEnd"),animationiteration:Im("Animation","AnimationIteration"),animationstart:Im("Animation","AnimationStart"),transitionend:Im("Transition","TransitionEnd")},hb={},JM={};Ys&&(JM=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function ox(t){if(hb[t])return hb[t];if(!Zc[t])return t;var e=Zc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JM)return hb[t]=e[n];return t}var ZM=ox("animationend"),eD=ox("animationiteration"),tD=ox("animationstart"),nD=ox("transitionend"),rD=new Map,OA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(t,e){rD.set(t,e),Sc(e,[t])}for(var pb=0;pb<OA.length;pb++){var mb=OA[pb],vz=mb.toLowerCase(),xz=mb[0].toUpperCase()+mb.slice(1);hl(vz,"on"+xz)}hl(ZM,"onAnimationEnd");hl(eD,"onAnimationIteration");hl(tD,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(nD,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mf));function RA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,v8(r,e,void 0,t),t.currentTarget=null}function iD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;RA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;RA(i,a,u),o=l}}}if(ty)throw t=Xw,ty=!1,Xw=null,t}function ln(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||(oD(e,t,2,!1),n.add(r))}function gb(t,e,n){var r=0;e&&(r|=4),oD(n,t,r,e)}var km="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[km]){t[km]=!0,fM.forEach(function(n){n!=="selectionchange"&&(bz.has(n)||gb(n,!1,t),gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[km]||(e[km]=!0,gb("selectionchange",!1,e))}}function oD(t,e,n,r){switch(UM(e)){case 1:var i=R8;break;case 4:i=M8;break;default:i=hE}n=i.bind(null,e,n,t),i=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ml(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}AM(function(){var u=o,d=cE(n),f=[];e:{var h=rD.get(t);if(h!==void 0){var m=mE,y=t;switch(t){case"keypress":if(Tg(n)===0)break e;case"keydown":case"keyup":m=X8;break;case"focusin":y="focus",m=ub;break;case"focusout":y="blur",m=ub;break;case"beforeblur":case"afterblur":m=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=SA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=L8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Z8;break;case ZM:case eD:case tD:m=B8;break;case nD:m=tz;break;case"scroll":m=D8;break;case"wheel":m=rz;break;case"copy":case"cut":case"paste":m=z8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EA}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,x!==null&&(C=gh(w,x),C!=null&&g.push(_h(w,C,S)))),v)break;w=w.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Gw&&(y=n.relatedTarget||n.fromElement)&&(Ml(y)||y[Xs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ml(y):null,y!==null&&(v=_c(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=SA,C="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=EA,C="onPointerLeave",x="onPointerEnter",w="pointer"),v=m==null?h:eu(m),S=y==null?h:eu(y),h=new g(C,w+"leave",m,n,d),h.target=v,h.relatedTarget=S,C=null,Ml(d)===u&&(g=new g(x,w+"enter",y,n,d),g.target=S,g.relatedTarget=v,C=g),v=C,m&&y)t:{for(g=m,x=y,w=0,S=g;S;S=Rc(S))w++;for(S=0,C=x;C;C=Rc(C))S++;for(;0<w-S;)g=Rc(g),w--;for(;0<S-w;)x=Rc(x),S--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=Rc(g),x=Rc(x)}g=null}else g=null;m!==null&&MA(f,h,m,g,!1),y!==null&&v!==null&&MA(f,v,y,g,!0)}}e:{if(h=u?eu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=uz;else if(PA(h))if(KM)E=pz;else{E=fz;var A=dz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=hz);if(E&&(E=E(t,u))){GM(f,E,n,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(A=u?eu(u):window,t){case"focusin":(PA(A)||A.contentEditable==="true")&&(Jc=A,e1=u,Gf=null);break;case"focusout":Gf=e1=Jc=null;break;case"mousedown":t1=!0;break;case"contextmenu":case"mouseup":case"dragend":t1=!1,kA(f,n,d);break;case"selectionchange":if(yz)break;case"keydown":case"keyup":kA(f,n,d)}var _;if(yE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qc?HM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(WM&&n.locale!=="ko"&&(Qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qc&&(_=zM()):($a=d,pE="value"in $a?$a.value:$a.textContent,Qc=!0)),A=sy(u,T),0<A.length&&(T=new _A(T,t,null,n,d),f.push({event:T,listeners:A}),_?T.data=_:(_=qM(n),_!==null&&(T.data=_)))),(_=oz?sz(t,n):az(t,n))&&(u=sy(u,"onBeforeInput"),0<u.length&&(d=new _A("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}iD(f,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gh(t,n),o!=null&&r.unshift(_h(t,o,i)),o=gh(t,e),o!=null&&r.push(_h(t,o,i))),t=t.return}return r}function Rc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function MA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gh(n,o),l!=null&&s.unshift(_h(n,l,a))):i||(l=gh(n,o),l!=null&&s.push(_h(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var wz=/\r\n?/g,Sz=/\u0000|\uFFFD/g;function DA(t){return(typeof t=="string"?t:""+t).replace(wz,`
`).replace(Sz,"")}function Om(t,e,n){if(e=DA(e),DA(t)!==e&&n)throw Error(ve(425))}function ay(){}var n1=null,r1=null;function i1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o1=typeof setTimeout=="function"?setTimeout:void 0,_z=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,Ez=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(t){return $A.resolve(null).then(t).catch(Tz)}:o1;function Tz(t){setTimeout(function(){throw t})}function vb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xh(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ad=Math.random().toString(36).slice(2),ns="__reactFiber$"+Ad,Eh="__reactProps$"+Ad,Xs="__reactContainer$"+Ad,s1="__reactEvents$"+Ad,Cz="__reactListeners$"+Ad,Pz="__reactHandles$"+Ad;function Ml(t){var e=t[ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xs]||n[ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LA(t);t!==null;){if(n=t[ns])return n;t=LA(t)}return e}t=n,n=t.parentNode}return null}function Fp(t){return t=t[ns]||t[Xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function sx(t){return t[Eh]||null}var a1=[],tu=-1;function pl(t){return{current:t}}function hn(t){0>tu||(t.current=a1[tu],a1[tu]=null,tu--)}function nn(t,e){tu++,a1[tu]=t.current,t.current=e}var rl={},Hr=pl(rl),ci=pl(!1),rc=rl;function Fu(t,e){var n=t.type.contextTypes;if(!n)return rl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function ly(){hn(ci),hn(Hr)}function FA(t,e,n){if(Hr.current!==rl)throw Error(ve(168));nn(Hr,e),nn(ci,n)}function sD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,d8(t)||"Unknown",i));return Cn({},n,r)}function cy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rl,rc=Hr.current,nn(Hr,t),nn(ci,ci.current),!0}function VA(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=sD(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,hn(ci),hn(Hr),nn(Hr,t)):hn(ci),nn(ci,n)}var Rs=null,ax=!1,xb=!1;function aD(t){Rs===null?Rs=[t]:Rs.push(t)}function Az(t){ax=!0,aD(t)}function ml(){if(!xb&&Rs!==null){xb=!0;var t=0,e=Vt;try{var n=Rs;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rs=null,ax=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(t+1)),kM(uE,ml),i}finally{Vt=e,xb=!1}}return null}var nu=[],ru=0,uy=null,dy=0,zi=[],Wi=0,ic=null,Ls=1,Fs="";function Nl(t,e){nu[ru++]=dy,nu[ru++]=uy,uy=t,dy=e}function lD(t,e,n){zi[Wi++]=Ls,zi[Wi++]=Fs,zi[Wi++]=ic,ic=t;var r=Ls;t=Fs;var i=32-ko(r)-1;r&=~(1<<i),n+=1;var o=32-ko(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ls=1<<32-ko(e)+i|n<<i|r,Fs=o+t}else Ls=1<<o|n<<i|r,Fs=t}function xE(t){t.return!==null&&(Nl(t,1),lD(t,1,0))}function bE(t){for(;t===uy;)uy=nu[--ru],nu[ru]=null,dy=nu[--ru],nu[ru]=null;for(;t===ic;)ic=zi[--Wi],zi[Wi]=null,Fs=zi[--Wi],zi[Wi]=null,Ls=zi[--Wi],zi[Wi]=null}var Ii=null,Ni=null,vn=!1,wo=null;function cD(t,e){var n=Gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ii=t,Ni=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ii=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:Ls,overflow:Fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ii=t,Ni=null,!0):!1;default:return!1}}function l1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c1(t){if(vn){var e=Ni;if(e){var n=e;if(!BA(t,e)){if(l1(t))throw Error(ve(418));e=Wa(n.nextSibling);var r=Ii;e&&BA(t,e)?cD(r,n):(t.flags=t.flags&-4097|2,vn=!1,Ii=t)}}else{if(l1(t))throw Error(ve(418));t.flags=t.flags&-4097|2,vn=!1,Ii=t}}}function UA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ii=t}function Rm(t){if(t!==Ii)return!1;if(!vn)return UA(t),vn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i1(t.type,t.memoizedProps)),e&&(e=Ni)){if(l1(t))throw uD(),Error(ve(418));for(;e;)cD(t,e),e=Wa(e.nextSibling)}if(UA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ni=Wa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=Ii?Wa(t.stateNode.nextSibling):null;return!0}function uD(){for(var t=Ni;t;)t=Wa(t.nextSibling)}function Vu(){Ni=Ii=null,vn=!1}function wE(t){wo===null?wo=[t]:wo.push(t)}var Nz=ca.ReactCurrentBatchConfig;function mf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Mm(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zA(t){var e=t._init;return e(t._payload)}function dD(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ka(x,w),x.index=0,x.sibling=null,x}function o(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,C){return w===null||w.tag!==6?(w=Cb(S,x.mode,C),w.return=x,w):(w=i(w,S),w.return=x,w)}function l(x,w,S,C){var E=S.type;return E===Xc?d(x,w,S.props.children,C,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&zA(E)===w.type)?(C=i(w,S.props),C.ref=mf(x,w,S),C.return=x,C):(C=kg(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,C)}function u(x,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Pb(S,x.mode,C),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function d(x,w,S,C,E){return w===null||w.tag!==7?(w=Ql(S,x.mode,C,E),w.return=x,w):(w=i(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cb(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Em:return S=kg(w.type,w.key,w.props,null,x.mode,S),S.ref=mf(x,null,w),S.return=x,S;case Yc:return w=Pb(w,x.mode,S),w.return=x,w;case Ta:var C=w._init;return f(x,C(w._payload),S)}if(Of(w)||uf(w))return w=Ql(w,x.mode,S,null),w.return=x,w;Mm(x,w)}return null}function h(x,w,S,C){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(x,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Em:return S.key===E?l(x,w,S,C):null;case Yc:return S.key===E?u(x,w,S,C):null;case Ta:return E=S._init,h(x,w,E(S._payload),C)}if(Of(S)||uf(S))return E!==null?null:d(x,w,S,C,null);Mm(x,S)}return null}function m(x,w,S,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(S)||null,a(w,x,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Em:return x=x.get(C.key===null?S:C.key)||null,l(w,x,C,E);case Yc:return x=x.get(C.key===null?S:C.key)||null,u(w,x,C,E);case Ta:var A=C._init;return m(x,w,S,A(C._payload),E)}if(Of(C)||uf(C))return x=x.get(S)||null,d(w,x,C,E,null);Mm(w,C)}return null}function y(x,w,S,C){for(var E=null,A=null,_=w,T=w=0,N=null;_!==null&&T<S.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var k=h(x,_,S[T],C);if(k===null){_===null&&(_=N);break}t&&_&&k.alternate===null&&e(x,_),w=o(k,w,T),A===null?E=k:A.sibling=k,A=k,_=N}if(T===S.length)return n(x,_),vn&&Nl(x,T),E;if(_===null){for(;T<S.length;T++)_=f(x,S[T],C),_!==null&&(w=o(_,w,T),A===null?E=_:A.sibling=_,A=_);return vn&&Nl(x,T),E}for(_=r(x,_);T<S.length;T++)N=m(_,x,T,S[T],C),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),w=o(N,w,T),A===null?E=N:A.sibling=N,A=N);return t&&_.forEach(function(j){return e(x,j)}),vn&&Nl(x,T),E}function g(x,w,S,C){var E=uf(S);if(typeof E!="function")throw Error(ve(150));if(S=E.call(S),S==null)throw Error(ve(151));for(var A=E=null,_=w,T=w=0,N=null,k=S.next();_!==null&&!k.done;T++,k=S.next()){_.index>T?(N=_,_=null):N=_.sibling;var j=h(x,_,k.value,C);if(j===null){_===null&&(_=N);break}t&&_&&j.alternate===null&&e(x,_),w=o(j,w,T),A===null?E=j:A.sibling=j,A=j,_=N}if(k.done)return n(x,_),vn&&Nl(x,T),E;if(_===null){for(;!k.done;T++,k=S.next())k=f(x,k.value,C),k!==null&&(w=o(k,w,T),A===null?E=k:A.sibling=k,A=k);return vn&&Nl(x,T),E}for(_=r(x,_);!k.done;T++,k=S.next())k=m(_,x,T,k.value,C),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?T:k.key),w=o(k,w,T),A===null?E=k:A.sibling=k,A=k);return t&&_.forEach(function(R){return e(x,R)}),vn&&Nl(x,T),E}function v(x,w,S,C){if(typeof S=="object"&&S!==null&&S.type===Xc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Em:e:{for(var E=S.key,A=w;A!==null;){if(A.key===E){if(E=S.type,E===Xc){if(A.tag===7){n(x,A.sibling),w=i(A,S.props.children),w.return=x,x=w;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ta&&zA(E)===A.type){n(x,A.sibling),w=i(A,S.props),w.ref=mf(x,A,S),w.return=x,x=w;break e}n(x,A);break}else e(x,A);A=A.sibling}S.type===Xc?(w=Ql(S.props.children,x.mode,C,S.key),w.return=x,x=w):(C=kg(S.type,S.key,S.props,null,x.mode,C),C.ref=mf(x,w,S),C.return=x,x=C)}return s(x);case Yc:e:{for(A=S.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Pb(S,x.mode,C),w.return=x,x=w}return s(x);case Ta:return A=S._init,v(x,w,A(S._payload),C)}if(Of(S))return y(x,w,S,C);if(uf(S))return g(x,w,S,C);Mm(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=Cb(S,x.mode,C),w.return=x,x=w),s(x)):n(x,w)}return v}var Bu=dD(!0),fD=dD(!1),fy=pl(null),hy=null,iu=null,SE=null;function _E(){SE=iu=hy=null}function EE(t){var e=fy.current;hn(fy),t._currentValue=e}function u1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pu(t,e){hy=t,SE=iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ai=!0),t.firstContext=null)}function Ji(t){var e=t._currentValue;if(SE!==t)if(t={context:t,memoizedValue:e,next:null},iu===null){if(hy===null)throw Error(ve(308));iu=t,hy.dependencies={lanes:0,firstContext:t}}else iu=iu.next=t;return e}var Dl=null;function TE(t){Dl===null?Dl=[t]:Dl.push(t)}function hD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,TE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qs(t,r)}function Qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ca=!1;function CE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qs(t,n)}return i=r.interleaved,i===null?(e.next=e,TE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qs(t,n)}function Cg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dE(t,n)}}function WA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function py(t,e,n,r){var i=t.updateQueue;Ca=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Cn({},f,h);break e;case 2:Ca=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);sc|=s,t.lanes=s,t.memoizedState=f}}function HA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Vp={},ss=pl(Vp),Th=pl(Vp),Ch=pl(Vp);function $l(t){if(t===Vp)throw Error(ve(174));return t}function PE(t,e){switch(nn(Ch,e),nn(Th,t),nn(ss,Vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}hn(ss),nn(ss,e)}function Uu(){hn(ss),hn(Th),hn(Ch)}function mD(t){$l(Ch.current);var e=$l(ss.current),n=Ww(e,t.type);e!==n&&(nn(Th,t),nn(ss,n))}function AE(t){Th.current===t&&(hn(ss),hn(Th))}var Sn=pl(0);function my(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function NE(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var Pg=ca.ReactCurrentDispatcher,wb=ca.ReactCurrentBatchConfig,oc=0,Tn=null,Kn=null,lr=null,gy=!1,Kf=!1,Ph=0,jz=0;function Mr(){throw Error(ve(321))}function jE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$o(t[n],e[n]))return!1;return!0}function IE(t,e,n,r,i,o){if(oc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pg.current=t===null||t.memoizedState===null?Rz:Mz,t=n(r,i),Kf){o=0;do{if(Kf=!1,Ph=0,25<=o)throw Error(ve(301));o+=1,lr=Kn=null,e.updateQueue=null,Pg.current=Dz,t=n(r,i)}while(Kf)}if(Pg.current=yy,e=Kn!==null&&Kn.next!==null,oc=0,lr=Kn=Tn=null,gy=!1,e)throw Error(ve(300));return t}function kE(){var t=Ph!==0;return Ph=0,t}function Yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Tn.memoizedState=lr=t:lr=lr.next=t,lr}function Zi(){if(Kn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=lr===null?Tn.memoizedState:lr.next;if(e!==null)lr=e,Kn=t;else{if(t===null)throw Error(ve(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},lr===null?Tn.memoizedState=lr=t:lr=lr.next=t}return lr}function Ah(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=Zi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((oc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,$o(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,sc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _b(t){var e=Zi(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$o(o,e.memoizedState)||(ai=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function gD(){}function yD(t,e){var n=Tn,r=Zi(),i=e(),o=!$o(r.memoizedState,i);if(o&&(r.memoizedState=i,ai=!0),r=r.queue,OE(bD.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,Nh(9,xD.bind(null,n,r,i,e),void 0,null),fr===null)throw Error(ve(349));oc&30||vD(n,e,i)}return i}function vD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xD(t,e,n,r){e.value=n,e.getSnapshot=r,wD(e)&&SD(t)}function bD(t,e,n){return n(function(){wD(e)&&SD(t)})}function wD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$o(t,n)}catch{return!0}}function SD(t){var e=Qs(t,1);e!==null&&Oo(e,t,1,-1)}function qA(t){var e=Yo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},e.queue=t,t=t.dispatch=Oz.bind(null,Tn,t),[e.memoizedState,t]}function Nh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _D(){return Zi().memoizedState}function Ag(t,e,n,r){var i=Yo();Tn.flags|=t,i.memoizedState=Nh(1|e,n,void 0,r===void 0?null:r)}function lx(t,e,n,r){var i=Zi();r=r===void 0?null:r;var o=void 0;if(Kn!==null){var s=Kn.memoizedState;if(o=s.destroy,r!==null&&jE(r,s.deps)){i.memoizedState=Nh(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=Nh(1|e,n,o,r)}function GA(t,e){return Ag(8390656,8,t,e)}function OE(t,e){return lx(2048,8,t,e)}function ED(t,e){return lx(4,2,t,e)}function TD(t,e){return lx(4,4,t,e)}function CD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PD(t,e,n){return n=n!=null?n.concat([t]):null,lx(4,4,CD.bind(null,e,t),n)}function RE(){}function AD(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ND(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jD(t,e,n){return oc&21?($o(n,e)||(n=MM(),Tn.lanes|=n,sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ai=!0),t.memoizedState=n)}function Iz(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=wb.transition;wb.transition={};try{t(!1),e()}finally{Vt=n,wb.transition=r}}function ID(){return Zi().memoizedState}function kz(t,e,n){var r=Ga(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kD(t))OD(e,n);else if(n=hD(t,e,n,r),n!==null){var i=Zr();Oo(n,t,r,i),RD(n,e,r)}}function Oz(t,e,n){var r=Ga(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kD(t))OD(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$o(a,s)){var l=e.interleaved;l===null?(i.next=i,TE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hD(t,e,i,r),n!==null&&(i=Zr(),Oo(n,t,r,i),RD(n,e,r))}}function kD(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function OD(t,e){Kf=gy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dE(t,n)}}var yy={readContext:Ji,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Rz={readContext:Ji,useCallback:function(t,e){return Yo().memoizedState=[t,e===void 0?null:e],t},useContext:Ji,useEffect:GA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ag(4194308,4,CD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ag(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ag(4,2,t,e)},useMemo:function(t,e){var n=Yo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kz.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=Yo();return t={current:t},e.memoizedState=t},useState:qA,useDebugValue:RE,useDeferredValue:function(t){return Yo().memoizedState=t},useTransition:function(){var t=qA(!1),e=t[0];return t=Iz.bind(null,t[1]),Yo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=Yo();if(vn){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),fr===null)throw Error(ve(349));oc&30||vD(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,GA(bD.bind(null,r,o,t),[t]),r.flags|=2048,Nh(9,xD.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Yo(),e=fr.identifierPrefix;if(vn){var n=Fs,r=Ls;n=(r&~(1<<32-ko(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ph++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mz={readContext:Ji,useCallback:AD,useContext:Ji,useEffect:OE,useImperativeHandle:PD,useInsertionEffect:ED,useLayoutEffect:TD,useMemo:ND,useReducer:Sb,useRef:_D,useState:function(){return Sb(Ah)},useDebugValue:RE,useDeferredValue:function(t){var e=Zi();return jD(e,Kn.memoizedState,t)},useTransition:function(){var t=Sb(Ah)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:ID,unstable_isNewReconciler:!1},Dz={readContext:Ji,useCallback:AD,useContext:Ji,useEffect:OE,useImperativeHandle:PD,useInsertionEffect:ED,useLayoutEffect:TD,useMemo:ND,useReducer:_b,useRef:_D,useState:function(){return _b(Ah)},useDebugValue:RE,useDeferredValue:function(t){var e=Zi();return Kn===null?e.memoizedState=t:jD(e,Kn.memoizedState,t)},useTransition:function(){var t=_b(Ah)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:ID,unstable_isNewReconciler:!1};function mo(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function d1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cx={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ga(t),o=Ws(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ha(t,o,i),e!==null&&(Oo(e,t,i,r),Cg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ga(t),o=Ws(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ha(t,o,i),e!==null&&(Oo(e,t,i,r),Cg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zr(),r=Ga(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ha(t,i,r),e!==null&&(Oo(e,t,r,n),Cg(e,t,r))}};function KA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,o):!0}function MD(t,e,n){var r=!1,i=rl,o=e.contextType;return typeof o=="object"&&o!==null?o=Ji(o):(i=ui(e)?rc:Hr.current,r=e.contextTypes,o=(r=r!=null)?Fu(t,i):rl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function YA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cx.enqueueReplaceState(e,e.state,null)}function f1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},CE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ji(o):(o=ui(e)?rc:Hr.current,i.context=Fu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cx.enqueueReplaceState(i,i.state,null),py(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zu(t,e){try{var n="",r=e;do n+=u8(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Eb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function h1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $z=typeof WeakMap=="function"?WeakMap:Map;function DD(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xy||(xy=!0,_1=r),h1(t,e)},n}function $D(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){h1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){h1(t,e),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function XA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $z;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Qz.bind(null,t,e,n),e.then(t,t))}function QA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Ha(n,e,1))),n.lanes|=1),t)}var Lz=ca.ReactCurrentOwner,ai=!1;function Xr(t,e,n,r){e.child=t===null?fD(e,null,n,r):Bu(e,t.child,n,r)}function ZA(t,e,n,r,i){n=n.render;var o=e.ref;return pu(e,i),r=IE(t,e,n,r,o,i),n=kE(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(vn&&n&&xE(e),e.flags|=1,Xr(t,e,r,i),e.child)}function eN(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!UE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,LD(t,e,o,r,i)):(t=kg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(s,r)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=Ka(o,r),t.ref=e.ref,t.return=e,e.child=t}function LD(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wh(o,r)&&t.ref===e.ref)if(ai=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ai=!0);else return e.lanes=t.lanes,Js(t,e,i)}return p1(t,e,n,r,i)}function FD(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(su,Ti),Ti|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(su,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nn(su,Ti),Ti|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nn(su,Ti),Ti|=r;return Xr(t,e,i,n),e.child}function VD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function p1(t,e,n,r,i){var o=ui(n)?rc:Hr.current;return o=Fu(e,o),pu(e,i),n=IE(t,e,n,r,o,i),r=kE(),t!==null&&!ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(vn&&r&&xE(e),e.flags|=1,Xr(t,e,n,i),e.child)}function tN(t,e,n,r,i){if(ui(n)){var o=!0;cy(e)}else o=!1;if(pu(e,i),e.stateNode===null)Ng(t,e),MD(e,n,r),f1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ji(u):(u=ui(n)?rc:Hr.current,u=Fu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&YA(e,s,r,u),Ca=!1;var h=e.memoizedState;s.state=h,py(e,r,s,i),l=e.memoizedState,a!==r||h!==l||ci.current||Ca?(typeof d=="function"&&(d1(e,n,d,r),l=e.memoizedState),(a=Ca||KA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,pD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mo(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ji(l):(l=ui(n)?rc:Hr.current,l=Fu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&YA(e,s,r,l),Ca=!1,h=e.memoizedState,s.state=h,py(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||ci.current||Ca?(typeof m=="function"&&(d1(e,n,m,r),y=e.memoizedState),(u=Ca||KA(e,n,u,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return m1(t,e,n,r,o,i)}function m1(t,e,n,r,i,o){VD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&VA(e,n,!1),Js(t,e,o);r=e.stateNode,Lz.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Bu(e,t.child,null,o),e.child=Bu(e,null,a,o)):Xr(t,e,a,o),e.memoizedState=r.state,i&&VA(e,n,!0),e.child}function BD(t){var e=t.stateNode;e.pendingContext?FA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FA(t,e.context,!1),PE(t,e.containerInfo)}function nN(t,e,n,r,i){return Vu(),wE(i),e.flags|=256,Xr(t,e,n,r),e.child}var g1={dehydrated:null,treeContext:null,retryLane:0};function y1(t){return{baseLanes:t,cachePool:null,transitions:null}}function UD(t,e,n){var r=e.pendingProps,i=Sn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nn(Sn,i&1),t===null)return c1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fx(s,r,0,null),t=Ql(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=y1(n),e.memoizedState=g1,t):ME(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fz(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ka(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ka(a,o):(o=Ql(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?y1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=g1,r}return o=t.child,t=o.sibling,r=Ka(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ME(t,e){return e=fx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dm(t,e,n,r){return r!==null&&wE(r),Bu(e,t.child,null,n),t=ME(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fz(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Eb(Error(ve(422))),Dm(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fx({mode:"visible",children:r.children},i,0,null),o=Ql(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Bu(e,t.child,null,s),e.child.memoizedState=y1(s),e.memoizedState=g1,o);if(!(e.mode&1))return Dm(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ve(419)),r=Eb(o,r,void 0),Dm(t,e,s,r)}if(a=(s&t.childLanes)!==0,ai||a){if(r=fr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qs(t,i),Oo(r,t,i,-1))}return BE(),r=Eb(Error(ve(421))),Dm(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Jz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ni=Wa(i.nextSibling),Ii=e,vn=!0,wo=null,t!==null&&(zi[Wi++]=Ls,zi[Wi++]=Fs,zi[Wi++]=ic,Ls=t.id,Fs=t.overflow,ic=e),e=ME(e,r.children),e.flags|=4096,e)}function rN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u1(t.return,e,n)}function Tb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rN(t,n,e);else if(t.tag===19)rN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&my(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&my(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tb(e,!0,n,null,o);break;case"together":Tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ng(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Ka(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ka(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vz(t,e,n){switch(e.tag){case 3:BD(e),Vu();break;case 5:mD(e);break;case 1:ui(e.type)&&cy(e);break;case 4:PE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nn(fy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?UD(t,e,n):(nn(Sn,Sn.current&1),t=Js(t,e,n),t!==null?t.sibling:null);nn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,FD(t,e,n)}return Js(t,e,n)}var WD,v1,HD,qD;WD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};v1=function(){};HD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$l(ss.current);var o=null;switch(n){case"input":i=Vw(t,i),r=Vw(t,r),o=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),o=[];break;case"textarea":i=zw(t,i),r=zw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ay)}Hw(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ph.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ph.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ln("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};qD=function(t,e,n,r){n!==r&&(e.flags|=4)};function gf(t,e){if(!vn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bz(t,e,n){var r=e.pendingProps;switch(bE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return ui(e.type)&&ly(),Dr(e),null;case 3:return r=e.stateNode,Uu(),hn(ci),hn(Hr),NE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(C1(wo),wo=null))),v1(t,e),Dr(e),null;case 5:AE(e);var i=$l(Ch.current);if(n=e.type,t!==null&&e.stateNode!=null)HD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Dr(e),null}if(t=$l(ss.current),Rm(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ns]=e,r[Eh]=o,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<Mf.length;i++)ln(Mf[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":fA(r,o),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ln("invalid",r);break;case"textarea":pA(r,o),ln("invalid",r)}Hw(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Om(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ln("scroll",r)}switch(n){case"input":Tm(r),hA(r,o,!0);break;case"textarea":Tm(r),mA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ay)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ns]=e,t[Eh]=r,WD(t,e,!1,!1),e.stateNode=t;e:{switch(s=qw(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mf.length;i++)ln(Mf[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":fA(t,r),i=Vw(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),ln("invalid",t);break;case"textarea":pA(t,r),i=zw(t,r),ln("invalid",t);break;default:i=r}Hw(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_M(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ph.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ln("scroll",t):l!=null&&oE(t,o,l,s))}switch(n){case"input":Tm(t),hA(t,r,!1);break;case"textarea":Tm(t),mA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?uu(t,!!r.multiple,o,!1):r.defaultValue!=null&&uu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ay)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)qD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=$l(Ch.current),$l(ss.current),Rm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ns]=e,(o=r.nodeValue!==n)&&(t=Ii,t!==null))switch(t.tag){case 3:Om(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Om(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=e,e.stateNode=r}return Dr(e),null;case 13:if(hn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vn&&Ni!==null&&e.mode&1&&!(e.flags&128))uD(),Vu(),e.flags|=98560,o=!1;else if(o=Rm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ve(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));o[ns]=e}else Vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),o=!1}else wo!==null&&(C1(wo),wo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?Qn===0&&(Qn=3):BE())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return Uu(),v1(t,e),t===null&&Sh(e.stateNode.containerInfo),Dr(e),null;case 10:return EE(e.type._context),Dr(e),null;case 17:return ui(e.type)&&ly(),Dr(e),null;case 19:if(hn(Sn),o=e.memoizedState,o===null)return Dr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)gf(o,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=my(t),s!==null){for(e.flags|=128,gf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nn(Sn,Sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&On()>Wu&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304)}else{if(!r)if(t=my(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vn)return Dr(e),null}else 2*On()-o.renderingStartTime>Wu&&n!==1073741824&&(e.flags|=128,r=!0,gf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=On(),e.sibling=null,n=Sn.current,nn(Sn,r?n&1|2:n&1),e):(Dr(e),null);case 22:case 23:return VE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ti&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function Uz(t,e){switch(bE(e),e.tag){case 1:return ui(e.type)&&ly(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uu(),hn(ci),hn(Hr),NE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AE(e),null;case 13:if(hn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(Sn),null;case 4:return Uu(),null;case 10:return EE(e.type._context),null;case 22:case 23:return VE(),null;case 24:return null;default:return null}}var $m=!1,Br=!1,zz=typeof WeakSet=="function"?WeakSet:Set,Le=null;function ou(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(t,e,r)}else n.current=null}function x1(t,e,n){try{n()}catch(r){jn(t,e,r)}}var iN=!1;function Wz(t,e){if(n1=iy,t=QM(),vE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(r1={focusedElem:t,selectionRange:n},iy=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:mo(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(C){jn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return y=iN,iN=!1,y}function Yf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&x1(e,n,o)}i=i.next}while(i!==r)}}function ux(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function b1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GD(t){var e=t.alternate;e!==null&&(t.alternate=null,GD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ns],delete e[Eh],delete e[s1],delete e[Cz],delete e[Pz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KD(t){return t.tag===5||t.tag===3||t.tag===4}function oN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ay));else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}function S1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(S1(t,e,n),t=t.sibling;t!==null;)S1(t,e,n),t=t.sibling}var wr=null,vo=!1;function xa(t,e,n){for(n=n.child;n!==null;)YD(t,e,n),n=n.sibling}function YD(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(nx,n)}catch{}switch(n.tag){case 5:Br||ou(n,e);case 6:var r=wr,i=vo;wr=null,xa(t,e,n),wr=r,vo=i,wr!==null&&(vo?(t=wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(vo?(t=wr,n=n.stateNode,t.nodeType===8?vb(t.parentNode,n):t.nodeType===1&&vb(t,n),xh(t)):vb(wr,n.stateNode));break;case 4:r=wr,i=vo,wr=n.stateNode.containerInfo,vo=!0,xa(t,e,n),wr=r,vo=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&x1(n,e,s),i=i.next}while(i!==r)}xa(t,e,n);break;case 1:if(!Br&&(ou(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jn(n,e,a)}xa(t,e,n);break;case 21:xa(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,xa(t,e,n),Br=r):xa(t,e,n);break;default:xa(t,e,n)}}function sN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zz),e.forEach(function(r){var i=Zz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wr=a.stateNode,vo=!1;break e;case 3:wr=a.stateNode.containerInfo,vo=!0;break e;case 4:wr=a.stateNode.containerInfo,vo=!0;break e}a=a.return}if(wr===null)throw Error(ve(160));YD(o,s,i),wr=null,vo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XD(e,t),e=e.sibling}function XD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fo(e,t),Go(t),r&4){try{Yf(3,t,t.return),ux(3,t)}catch(g){jn(t,t.return,g)}try{Yf(5,t,t.return)}catch(g){jn(t,t.return,g)}}break;case 1:fo(e,t),Go(t),r&512&&n!==null&&ou(n,n.return);break;case 5:if(fo(e,t),Go(t),r&512&&n!==null&&ou(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(g){jn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vM(i,o),qw(a,s);var u=qw(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?_M(i,f):d==="dangerouslySetInnerHTML"?wM(i,f):d==="children"?mh(i,f):oE(i,d,f,u)}switch(a){case"input":Bw(i,o);break;case"textarea":xM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?uu(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?uu(i,!!o.multiple,o.defaultValue,!0):uu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eh]=o}catch(g){jn(t,t.return,g)}}break;case 6:if(fo(e,t),Go(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){jn(t,t.return,g)}}break;case 3:if(fo(e,t),Go(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(g){jn(t,t.return,g)}break;case 4:fo(e,t),Go(t);break;case 13:fo(e,t),Go(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(LE=On())),r&4&&sN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(u=Br)||d,fo(e,t),Br=u):fo(e,t),Go(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Le=t,d=t.child;d!==null;){for(f=Le=d;Le!==null;){switch(h=Le,m=h.child,h.tag){case 0:case 11:case 14:case 15:Yf(4,h,h.return);break;case 1:ou(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){jn(r,n,g)}}break;case 5:ou(h,h.return);break;case 22:if(h.memoizedState!==null){lN(f);continue}}m!==null?(m.return=h,Le=m):lN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SM("display",s))}catch(g){jn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){jn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fo(e,t),Go(t),r&4&&sN(t);break;case 21:break;default:fo(e,t),Go(t)}}function Go(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KD(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var o=oN(t);S1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=oN(t);w1(t,a,s);break;default:throw Error(ve(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hz(t,e,n){Le=t,QD(t)}function QD(t,e,n){for(var r=(t.mode&1)!==0;Le!==null;){var i=Le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$m;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=$m;var u=Br;if($m=s,(Br=l)&&!u)for(Le=i;Le!==null;)s=Le,l=s.child,s.tag===22&&s.memoizedState!==null?cN(i):l!==null?(l.return=s,Le=l):cN(i);for(;o!==null;)Le=o,QD(o),o=o.sibling;Le=i,$m=a,Br=u}aN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Le=o):aN(t)}}function aN(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||ux(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&HA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Br||e.flags&512&&b1(e)}catch(h){jn(e,e.return,h)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function lN(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function cN(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ux(4,e)}catch(l){jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var o=e.return;try{b1(e)}catch(l){jn(e,o,l)}break;case 5:var s=e.return;try{b1(e)}catch(l){jn(e,s,l)}}}catch(l){jn(e,e.return,l)}if(e===t){Le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Le=a;break}Le=e.return}}var qz=Math.ceil,vy=ca.ReactCurrentDispatcher,DE=ca.ReactCurrentOwner,Yi=ca.ReactCurrentBatchConfig,It=0,fr=null,Vn=null,Cr=0,Ti=0,su=pl(0),Qn=0,jh=null,sc=0,dx=0,$E=0,Xf=null,si=null,LE=0,Wu=1/0,Os=null,xy=!1,_1=null,qa=null,Lm=!1,La=null,by=0,Qf=0,E1=null,jg=-1,Ig=0;function Zr(){return It&6?On():jg!==-1?jg:jg=On()}function Ga(t){return t.mode&1?It&2&&Cr!==0?Cr&-Cr:Nz.transition!==null?(Ig===0&&(Ig=MM()),Ig):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:UM(t.type)),t):1}function Oo(t,e,n,r){if(50<Qf)throw Qf=0,E1=null,Error(ve(185));$p(t,n,r),(!(It&2)||t!==fr)&&(t===fr&&(!(It&2)&&(dx|=n),Qn===4&&Na(t,Cr)),di(t,r),n===1&&It===0&&!(e.mode&1)&&(Wu=On()+500,ax&&ml()))}function di(t,e){var n=t.callbackNode;N8(t,e);var r=ry(t,t===fr?Cr:0);if(r===0)n!==null&&vA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vA(n),e===1)t.tag===0?Az(uN.bind(null,t)):aD(uN.bind(null,t)),Ez(function(){!(It&6)&&ml()}),n=null;else{switch(DM(r)){case 1:n=uE;break;case 4:n=OM;break;case 16:n=ny;break;case 536870912:n=RM;break;default:n=ny}n=o$(n,JD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JD(t,e){if(jg=-1,Ig=0,It&6)throw Error(ve(327));var n=t.callbackNode;if(mu()&&t.callbackNode!==n)return null;var r=ry(t,t===fr?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wy(t,r);else{e=r;var i=It;It|=2;var o=e$();(fr!==t||Cr!==e)&&(Os=null,Wu=On()+500,Xl(t,e));do try{Yz();break}catch(a){ZD(t,a)}while(!0);_E(),vy.current=o,It=i,Vn!==null?e=0:(fr=null,Cr=0,e=Qn)}if(e!==0){if(e===2&&(i=Qw(t),i!==0&&(r=i,e=T1(t,i))),e===1)throw n=jh,Xl(t,0),Na(t,r),di(t,On()),n;if(e===6)Na(t,r);else{if(i=t.current.alternate,!(r&30)&&!Gz(i)&&(e=wy(t,r),e===2&&(o=Qw(t),o!==0&&(r=o,e=T1(t,o))),e===1))throw n=jh,Xl(t,0),Na(t,r),di(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:jl(t,si,Os);break;case 3:if(Na(t,r),(r&130023424)===r&&(e=LE+500-On(),10<e)){if(ry(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=o1(jl.bind(null,t,si,Os),e);break}jl(t,si,Os);break;case 4:if(Na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ko(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qz(r/1960))-r,10<r){t.timeoutHandle=o1(jl.bind(null,t,si,Os),r);break}jl(t,si,Os);break;case 5:jl(t,si,Os);break;default:throw Error(ve(329))}}}return di(t,On()),t.callbackNode===n?JD.bind(null,t):null}function T1(t,e){var n=Xf;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=wy(t,e),t!==2&&(e=si,si=n,e!==null&&C1(e)),t}function C1(t){si===null?si=t:si.push.apply(si,t)}function Gz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$o(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~$E,e&=~dx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ko(e),r=1<<n;t[n]=-1,e&=~r}}function uN(t){if(It&6)throw Error(ve(327));mu();var e=ry(t,0);if(!(e&1))return di(t,On()),null;var n=wy(t,e);if(t.tag!==0&&n===2){var r=Qw(t);r!==0&&(e=r,n=T1(t,r))}if(n===1)throw n=jh,Xl(t,0),Na(t,e),di(t,On()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,si,Os),di(t,On()),null}function FE(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(Wu=On()+500,ax&&ml())}}function ac(t){La!==null&&La.tag===0&&!(It&6)&&mu();var e=It;It|=1;var n=Yi.transition,r=Vt;try{if(Yi.transition=null,Vt=1,t)return t()}finally{Vt=r,Yi.transition=n,It=e,!(It&6)&&ml()}}function VE(){Ti=su.current,hn(su)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_z(n)),Vn!==null)for(n=Vn.return;n!==null;){var r=n;switch(bE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ly();break;case 3:Uu(),hn(ci),hn(Hr),NE();break;case 5:AE(r);break;case 4:Uu();break;case 13:hn(Sn);break;case 19:hn(Sn);break;case 10:EE(r.type._context);break;case 22:case 23:VE()}n=n.return}if(fr=t,Vn=t=Ka(t.current,null),Cr=Ti=e,Qn=0,jh=null,$E=dx=sc=0,si=Xf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Dl=null}return t}function ZD(t,e){do{var n=Vn;try{if(_E(),Pg.current=yy,gy){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gy=!1}if(oc=0,lr=Kn=Tn=null,Kf=!1,Ph=0,DE.current=null,n===null||n.return===null){Qn=1,jh=e,Vn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=QA(s);if(m!==null){m.flags&=-257,JA(m,s,a,o,e),m.mode&1&&XA(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){XA(o,u,e),BE();break e}l=Error(ve(426))}}else if(vn&&a.mode&1){var v=QA(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JA(v,s,a,o,e),wE(zu(l,a));break e}}o=l=zu(l,a),Qn!==4&&(Qn=2),Xf===null?Xf=[o]:Xf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=DD(o,l,e);WA(o,x);break e;case 1:a=l;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qa===null||!qa.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=$D(o,a,e);WA(o,C);break e}}o=o.return}while(o!==null)}n$(n)}catch(E){e=E,Vn===n&&n!==null&&(Vn=n=n.return);continue}break}while(!0)}function e$(){var t=vy.current;return vy.current=yy,t===null?yy:t}function BE(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),fr===null||!(sc&268435455)&&!(dx&268435455)||Na(fr,Cr)}function wy(t,e){var n=It;It|=2;var r=e$();(fr!==t||Cr!==e)&&(Os=null,Xl(t,e));do try{Kz();break}catch(i){ZD(t,i)}while(!0);if(_E(),It=n,vy.current=r,Vn!==null)throw Error(ve(261));return fr=null,Cr=0,Qn}function Kz(){for(;Vn!==null;)t$(Vn)}function Yz(){for(;Vn!==null&&!b8();)t$(Vn)}function t$(t){var e=i$(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?n$(t):Vn=e,DE.current=null}function n$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Uz(n,e),n!==null){n.flags&=32767,Vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,Vn=null;return}}else if(n=Bz(n,e,Ti),n!==null){Vn=n;return}if(e=e.sibling,e!==null){Vn=e;return}Vn=e=t}while(e!==null);Qn===0&&(Qn=5)}function jl(t,e,n){var r=Vt,i=Yi.transition;try{Yi.transition=null,Vt=1,Xz(t,e,n,r)}finally{Yi.transition=i,Vt=r}return null}function Xz(t,e,n,r){do mu();while(La!==null);if(It&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(j8(t,o),t===fr&&(Vn=fr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lm||(Lm=!0,o$(ny,function(){return mu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yi.transition,Yi.transition=null;var s=Vt;Vt=1;var a=It;It|=4,DE.current=null,Wz(t,n),XD(n,t),gz(r1),iy=!!n1,r1=n1=null,t.current=n,Hz(n),w8(),It=a,Vt=s,Yi.transition=o}else t.current=n;if(Lm&&(Lm=!1,La=t,by=i),o=t.pendingLanes,o===0&&(qa=null),E8(n.stateNode),di(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xy)throw xy=!1,t=_1,_1=null,t;return by&1&&t.tag!==0&&mu(),o=t.pendingLanes,o&1?t===E1?Qf++:(Qf=0,E1=t):Qf=0,ml(),null}function mu(){if(La!==null){var t=DM(by),e=Yi.transition,n=Vt;try{if(Yi.transition=null,Vt=16>t?16:t,La===null)var r=!1;else{if(t=La,La=null,by=0,It&6)throw Error(ve(331));var i=It;for(It|=4,Le=t.current;Le!==null;){var o=Le,s=o.child;if(Le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Le=u;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Yf(8,d,o)}var f=d.child;if(f!==null)f.return=d,Le=f;else for(;Le!==null;){d=Le;var h=d.sibling,m=d.return;if(GD(d),d===u){Le=null;break}if(h!==null){h.return=m,Le=h;break}Le=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Le=s;else e:for(;Le!==null;){if(o=Le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Le=x;break e}Le=o.return}}var w=t.current;for(Le=w;Le!==null;){s=Le;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Le=S;else e:for(s=w;Le!==null;){if(a=Le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ux(9,a)}}catch(E){jn(a,a.return,E)}if(a===s){Le=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Le=C;break e}Le=a.return}}if(It=i,ml(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(nx,t)}catch{}r=!0}return r}finally{Vt=n,Yi.transition=e}}return!1}function dN(t,e,n){e=zu(n,e),e=DD(t,e,1),t=Ha(t,e,1),e=Zr(),t!==null&&($p(t,1,e),di(t,e))}function jn(t,e,n){if(t.tag===3)dN(t,t,n);else for(;e!==null;){if(e.tag===3){dN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){t=zu(n,t),t=$D(e,t,1),e=Ha(e,t,1),t=Zr(),e!==null&&($p(e,1,t),di(e,t));break}}e=e.return}}function Qz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zr(),t.pingedLanes|=t.suspendedLanes&n,fr===t&&(Cr&n)===n&&(Qn===4||Qn===3&&(Cr&130023424)===Cr&&500>On()-LE?Xl(t,0):$E|=n),di(t,e)}function r$(t,e){e===0&&(t.mode&1?(e=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):e=1);var n=Zr();t=Qs(t,e),t!==null&&($p(t,e,n),di(t,n))}function Jz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r$(t,n)}function Zz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),r$(t,n)}var i$;i$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ci.current)ai=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ai=!1,Vz(t,e,n);ai=!!(t.flags&131072)}else ai=!1,vn&&e.flags&1048576&&lD(e,dy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ng(t,e),t=e.pendingProps;var i=Fu(e,Hr.current);pu(e,n),i=IE(null,e,r,t,i,n);var o=kE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(o=!0,cy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CE(e),i.updater=cx,e.stateNode=i,i._reactInternals=e,f1(e,r,t,n),e=m1(null,e,r,!0,o,n)):(e.tag=0,vn&&o&&xE(e),Xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ng(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=t7(r),t=mo(r,t),i){case 0:e=p1(null,e,r,t,n);break e;case 1:e=tN(null,e,r,t,n);break e;case 11:e=ZA(null,e,r,t,n);break e;case 14:e=eN(null,e,r,mo(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),p1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),tN(t,e,r,i,n);case 3:e:{if(BD(e),t===null)throw Error(ve(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pD(t,e),py(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zu(Error(ve(423)),e),e=nN(t,e,r,n,i);break e}else if(r!==i){i=zu(Error(ve(424)),e),e=nN(t,e,r,n,i);break e}else for(Ni=Wa(e.stateNode.containerInfo.firstChild),Ii=e,vn=!0,wo=null,n=fD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===i){e=Js(t,e,n);break e}Xr(t,e,r,n)}e=e.child}return e;case 5:return mD(e),t===null&&c1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,i1(r,i)?s=null:o!==null&&i1(r,o)&&(e.flags|=32),VD(t,e),Xr(t,e,s,n),e.child;case 6:return t===null&&c1(e),null;case 13:return UD(t,e,n);case 4:return PE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bu(e,null,r,n):Xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),ZA(t,e,r,i,n);case 7:return Xr(t,e,e.pendingProps,n),e.child;case 8:return Xr(t,e,e.pendingProps.children,n),e.child;case 12:return Xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nn(fy,r._currentValue),r._currentValue=s,o!==null)if($o(o.value,s)){if(o.children===i.children&&!ci.current){e=Js(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ws(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),u1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ve(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),u1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pu(e,n),i=Ji(i),r=r(i),e.flags|=1,Xr(t,e,r,n),e.child;case 14:return r=e.type,i=mo(r,e.pendingProps),i=mo(r.type,i),eN(t,e,r,i,n);case 15:return LD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),Ng(t,e),e.tag=1,ui(r)?(t=!0,cy(e)):t=!1,pu(e,n),MD(e,r,i),f1(e,r,i,n),m1(null,e,r,!0,t,n);case 19:return zD(t,e,n);case 22:return FD(t,e,n)}throw Error(ve(156,e.tag))};function o$(t,e){return kM(t,e)}function e7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,n,r){return new e7(t,e,n,r)}function UE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t7(t){if(typeof t=="function")return UE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aE)return 11;if(t===lE)return 14}return 2}function Ka(t,e){var n=t.alternate;return n===null?(n=Gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")UE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Xc:return Ql(n.children,i,o,e);case sE:s=8,i|=8;break;case Dw:return t=Gi(12,n,e,i|2),t.elementType=Dw,t.lanes=o,t;case $w:return t=Gi(13,n,e,i),t.elementType=$w,t.lanes=o,t;case Lw:return t=Gi(19,n,e,i),t.elementType=Lw,t.lanes=o,t;case mM:return fx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hM:s=10;break e;case pM:s=9;break e;case aE:s=11;break e;case lE:s=14;break e;case Ta:s=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=Gi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ql(t,e,n,r){return t=Gi(7,t,r,e),t.lanes=n,t}function fx(t,e,n,r){return t=Gi(22,t,r,e),t.elementType=mM,t.lanes=n,t.stateNode={isHidden:!1},t}function Cb(t,e,n){return t=Gi(6,t,null,e),t.lanes=n,t}function Pb(t,e,n){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zE(t,e,n,r,i,o,s,a,l){return t=new n7(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},CE(o),t}function r7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function s$(t){if(!t)return rl;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(ui(n))return sD(t,n,e)}return e}function a$(t,e,n,r,i,o,s,a,l){return t=zE(n,r,!0,t,i,o,s,a,l),t.context=s$(null),n=t.current,r=Zr(),i=Ga(n),o=Ws(r,i),o.callback=e??null,Ha(n,o,i),t.current.lanes=i,$p(t,i,r),di(t,r),t}function hx(t,e,n,r){var i=e.current,o=Zr(),s=Ga(i);return n=s$(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ha(i,e,s),t!==null&&(Oo(t,i,s,o),Cg(t,i,s)),s}function Sy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WE(t,e){fN(t,e),(t=t.alternate)&&fN(t,e)}function i7(){return null}var l$=typeof reportError=="function"?reportError:function(t){console.error(t)};function HE(t){this._internalRoot=t}px.prototype.render=HE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));hx(t,e,null,null)};px.prototype.unmount=HE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){hx(null,t,null,null)}),e[Xs]=null}};function px(t){this._internalRoot=t}px.prototype.unstable_scheduleHydration=function(t){if(t){var e=FM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Aa.length&&e!==0&&e<Aa[n].priority;n++);Aa.splice(n,0,t),n===0&&BM(t)}};function qE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hN(){}function o7(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Sy(s);o.call(u)}}var s=a$(e,r,t,0,null,!1,!1,"",hN);return t._reactRootContainer=s,t[Xs]=s.current,Sh(t.nodeType===8?t.parentNode:t),ac(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Sy(l);a.call(u)}}var l=zE(t,0,!1,null,null,!1,!1,"",hN);return t._reactRootContainer=l,t[Xs]=l.current,Sh(t.nodeType===8?t.parentNode:t),ac(function(){hx(e,l,n,r)}),l}function gx(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sy(s);a.call(l)}}hx(e,s,t,i)}else s=o7(n,e,t,i,r);return Sy(s)}$M=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rf(e.pendingLanes);n!==0&&(dE(e,n|1),di(e,On()),!(It&6)&&(Wu=On()+500,ml()))}break;case 13:ac(function(){var r=Qs(t,1);if(r!==null){var i=Zr();Oo(r,t,1,i)}}),WE(t,1)}};fE=function(t){if(t.tag===13){var e=Qs(t,134217728);if(e!==null){var n=Zr();Oo(e,t,134217728,n)}WE(t,134217728)}};LM=function(t){if(t.tag===13){var e=Ga(t),n=Qs(t,e);if(n!==null){var r=Zr();Oo(n,t,e,r)}WE(t,e)}};FM=function(){return Vt};VM=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Kw=function(t,e,n){switch(e){case"input":if(Bw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sx(r);if(!i)throw Error(ve(90));yM(r),Bw(r,i)}}}break;case"textarea":xM(t,n);break;case"select":e=n.value,e!=null&&uu(t,!!n.multiple,e,!1)}};CM=FE;PM=ac;var s7={usingClientEntryPoint:!1,Events:[Fp,eu,sx,EM,TM,FE]},yf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a7={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jM(t),t===null?null:t.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||i7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{nx=Fm.inject(a7),os=Fm}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s7;Mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qE(e))throw Error(ve(200));return r7(t,e,null,n)};Mi.createRoot=function(t,e){if(!qE(t))throw Error(ve(299));var n=!1,r="",i=l$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zE(t,1,!1,null,null,n,!1,r,i),t[Xs]=e.current,Sh(t.nodeType===8?t.parentNode:t),new HE(e)};Mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=jM(e),t=t===null?null:t.stateNode,t};Mi.flushSync=function(t){return ac(t)};Mi.hydrate=function(t,e,n){if(!mx(e))throw Error(ve(200));return gx(null,t,e,!0,n)};Mi.hydrateRoot=function(t,e,n){if(!qE(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=l$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=a$(e,null,t,1,n??null,i,!1,o,s),t[Xs]=e.current,Sh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new px(e)};Mi.render=function(t,e,n){if(!mx(e))throw Error(ve(200));return gx(null,t,e,!1,n)};Mi.unmountComponentAtNode=function(t){if(!mx(t))throw Error(ve(40));return t._reactRootContainer?(ac(function(){gx(null,null,t,!1,function(){t._reactRootContainer=null,t[Xs]=null})}),!0):!1};Mi.unstable_batchedUpdates=FE;Mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mx(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return gx(t,e,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function c$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c$)}catch(t){console.error(t)}}c$(),cM.exports=Mi;var Ec=cM.exports;const l7=Xt(Ec);var u$,pN=Ec;u$=pN.createRoot,pN.hydrateRoot;function c7(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var d$={exports:{}},f$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=b;function u7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var d7=typeof Object.is=="function"?Object.is:u7,f7=Hu.useState,h7=Hu.useEffect,p7=Hu.useLayoutEffect,m7=Hu.useDebugValue;function g7(t,e){var n=e(),r=f7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return p7(function(){i.value=n,i.getSnapshot=e,Ab(i)&&o({inst:i})},[t,n,e]),h7(function(){return Ab(i)&&o({inst:i}),t(function(){Ab(i)&&o({inst:i})})},[t]),m7(n),n}function Ab(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!d7(t,n)}catch{return!0}}function y7(t,e){return e()}var v7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y7:g7;f$.useSyncExternalStore=Hu.useSyncExternalStore!==void 0?Hu.useSyncExternalStore:v7;d$.exports=f$;var x7=d$.exports;const b7=aM.useInsertionEffect,w7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S7=w7?b.useLayoutEffect:b.useEffect,_7=b7||S7,h$=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return _7(()=>{e[0]=t}),e[1]},E7="popstate",GE="pushState",KE="replaceState",T7="hashchange",mN=[E7,GE,KE,T7],C7=t=>{for(const e of mN)addEventListener(e,t);return()=>{for(const e of mN)removeEventListener(e,t)}},p$=(t,e)=>x7.useSyncExternalStore(C7,t,e),P7=()=>location.search,A7=({ssrSearch:t=""}={})=>p$(P7,()=>t),gN=()=>location.pathname,N7=({ssrPath:t}={})=>p$(gN,t?()=>t:gN),j7=(t,{replace:e=!1,state:n=null}={})=>history[e?KE:GE](n,"",t),I7=(t={})=>[N7(t),j7],yN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yN]>"u"){for(const t of[GE,KE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,yN,{value:!0})}const k7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",m$=(t="")=>t==="/"?"":t,O7=(t,e)=>t[0]==="~"?t.slice(1):m$(e)+t,R7=(t="",e)=>k7(vN(m$(t)),vN(e)),vN=t=>{try{return decodeURI(t)}catch{return t}},g$={hook:I7,searchHook:A7,parser:c7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},y$=b.createContext(g$),Bp=()=>b.useContext(y$),v$={},x$=b.createContext(v$),M7=()=>b.useContext(x$),yx=t=>{const[e,n]=t.hook(t);return[R7(t.base,e),h$((r,i)=>n(O7(r,t.base),i))]},gl=()=>yx(Bp()),b$=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},w$=({children:t,...e})=>{var d,f;const n=Bp(),r=e.hook?g$:n;let i=r;const[o,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=o),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(i=u)}return b.createElement(y$.Provider,{value:i,children:t})},xN=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,D7=t=>{let e=b.useRef(v$),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},As=({path:t,nest:e,match:n,...r})=>{const i=Bp(),[o]=yx(i),[s,a,l]=n??b$(i.parser,t,o,e),u=D7({...M7(),...a});if(!s)return null;const d=l?b.createElement(w$,{base:l},xN(r,u)):xN(r,u);return b.createElement(x$.Provider,{value:u,children:d})};b.forwardRef((t,e)=>{const n=Bp(),[r,i]=yx(n),{to:o="",href:s=o,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,y=h$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&b.isValidElement(u)?b.cloneElement(u,{onClick:y,href:g}):b.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===s):d,children:u,ref:e})});const S$=t=>Array.isArray(t)?t.flatMap(e=>S$(e&&e.type===b.Fragment?e.props.children:e)):[t],$7=({children:t,location:e})=>{const n=Bp(),[r]=yx(n);for(const i of S$(t)){let o=0;if(b.isValidElement(i)&&(o=b$(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:o})}return null};var vx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xx=typeof window>"u"||"Deno"in globalThis;function go(){}function L7(t,e){return typeof t=="function"?t(e):t}function F7(t){return typeof t=="number"&&t>=0&&t!==1/0}function V7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bN(t,e){return typeof t=="function"?t(e):t}function B7(t,e){return typeof t=="function"?t(e):t}function wN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==YE(s,e.options))return!1}else if(!kh(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function SN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ih(e.options.mutationKey)!==Ih(o))return!1}else if(!kh(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function YE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ih)(t)}function Ih(t){return JSON.stringify(t,(e,n)=>P1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!kh(t[n],e[n])):!1}function _$(t,e){if(t===e)return t;const n=_N(t)&&_N(e);if(n||P1(t)&&P1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=_$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function _N(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P1(t){if(!EN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EN(t){return Object.prototype.toString.call(t)==="[object Object]"}function U7(t){return new Promise(e=>{setTimeout(e,t)})}function z7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_$(t,e):e}function W7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function H7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var XE=Symbol();function E$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===XE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ql,ka,Nu,zR,q7=(zR=class extends vx{constructor(){super();Mt(this,ql);Mt(this,ka);Mt(this,Nu);yt(this,Nu,e=>{if(!xx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,ka)||this.setEventListener(he(this,Nu))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,ka))==null||e.call(this),yt(this,ka,void 0))}setEventListener(e){var n;yt(this,Nu,e),(n=he(this,ka))==null||n.call(this),yt(this,ka,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){he(this,ql)!==e&&(yt(this,ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof he(this,ql)=="boolean"?he(this,ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ql=new WeakMap,ka=new WeakMap,Nu=new WeakMap,zR),T$=new q7,ju,Oa,Iu,WR,G7=(WR=class extends vx{constructor(){super();Mt(this,ju,!0);Mt(this,Oa);Mt(this,Iu);yt(this,Iu,e=>{if(!xx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Oa)||this.setEventListener(he(this,Iu))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Oa))==null||e.call(this),yt(this,Oa,void 0))}setEventListener(e){var n;yt(this,Iu,e),(n=he(this,Oa))==null||n.call(this),yt(this,Oa,e(this.setOnline.bind(this)))}setOnline(e){he(this,ju)!==e&&(yt(this,ju,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return he(this,ju)}},ju=new WeakMap,Oa=new WeakMap,Iu=new WeakMap,WR),_y=new G7;function K7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Y7(t){return Math.min(1e3*2**t,3e4)}function C$(t){return(t??"online")==="online"?_y.isOnline():!0}var P$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nb(t){return t instanceof P$}function A$(t){let e=!1,n=0,r=!1,i;const o=K7(),s=g=>{var v;r||(h(new P$(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>T$.isFocused()&&(t.networkMode==="always"||_y.isOnline())&&t.canRun(),d=()=>C$(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=x=>{(r||u())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var A;if(r)return;const w=t.retry??(xx?0:3),S=t.retryDelay??Y7,C=typeof S=="function"?S(n,x):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,(A=t.onFail)==null||A.call(t,n,x),U7(C).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function X7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Qr=X7(),Gl,HR,N$=(HR=class{constructor(){Mt(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F7(this.gcTime)&&yt(this,Gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xx?1/0:5*60*1e3))}clearGcTimeout(){he(this,Gl)&&(clearTimeout(he(this,Gl)),yt(this,Gl,void 0))}},Gl=new WeakMap,HR),ku,Ou,Ui,Lr,Rp,Kl,yo,ks,qR,Q7=(qR=class extends N${constructor(n){super();Mt(this,yo);Mt(this,ku);Mt(this,Ou);Mt(this,Ui);Mt(this,Lr);Mt(this,Rp);Mt(this,Kl);yt(this,Kl,!1),yt(this,Rp,n.defaultOptions),this.setOptions(n.options),this.observers=[],yt(this,Ui,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,yt(this,ku,Z7(this.options)),this.state=n.state??he(this,ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=he(this,Lr))==null?void 0:n.promise}setOptions(n){this.options={...he(this,Rp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Ui).remove(this)}setData(n,r){const i=z7(this.state.data,n,this.options);return Rr(this,yo,ks).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Rr(this,yo,ks).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=he(this,Lr))==null?void 0:i.promise;return(o=he(this,Lr))==null||o.cancel(n),r?r.then(go).catch(go):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,ku))}isActive(){return this.observers.some(n=>B7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!V7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),he(this,Ui).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(he(this,Lr)&&(he(this,Kl)?he(this,Lr).cancel({revert:!0}):he(this,Lr).cancelRetry()),this.scheduleGc()),he(this,Ui).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rr(this,yo,ks).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,Lr))return he(this,Lr).continueRetry(),he(this,Lr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(yt(this,Kl,!0),i.signal)})},s=()=>{const h=E$(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),yt(this,Kl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(u=this.options.behavior)==null||u.onFetch(a,this),yt(this,Ou,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Rr(this,yo,ks).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,g,v;Nb(h)&&h.silent||Rr(this,yo,ks).call(this,{type:"error",error:h}),Nb(h)||((y=(m=he(this,Ui).config).onError)==null||y.call(m,h,this),(v=(g=he(this,Ui).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return yt(this,Lr,A$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,y,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=he(this,Ui).config).onSuccess)==null||y.call(m,h,this),(v=(g=he(this,Ui).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Rr(this,yo,ks).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Rr(this,yo,ks).call(this,{type:"pause"})},onContinue:()=>{Rr(this,yo,ks).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,Lr).start()}},ku=new WeakMap,Ou=new WeakMap,Ui=new WeakMap,Lr=new WeakMap,Rp=new WeakMap,Kl=new WeakMap,yo=new WeakSet,ks=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...J7(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Nb(o)&&o.revert&&he(this,Ou)?{...he(this,Ou),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Qr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),he(this,Ui).notify({query:this,type:"updated",action:n})})},qR);function J7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Z7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jo,GR,eW=(GR=class extends vx{constructor(e={}){super();Mt(this,Jo);this.config=e,yt(this,Jo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??YE(i,n);let s=this.get(o);return s||(s=new Q7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){he(this,Jo).has(e.queryHash)||(he(this,Jo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=he(this,Jo).get(e.queryHash);n&&(e.destroy(),n===e&&he(this,Jo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,Jo).get(e)}getAll(){return[...he(this,Jo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>wN(e,r)):n}notify(e){Qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jo=new WeakMap,GR),Zo,Yr,Yl,es,_a,KR,tW=(KR=class extends N${constructor(n){super();Mt(this,es);Mt(this,Zo);Mt(this,Yr);Mt(this,Yl);this.mutationId=n.mutationId,yt(this,Yr,n.mutationCache),yt(this,Zo,[]),this.state=n.state||nW(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){he(this,Zo).includes(n)||(he(this,Zo).push(n),this.clearGcTimeout(),he(this,Yr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){yt(this,Zo,he(this,Zo).filter(r=>r!==n)),this.scheduleGc(),he(this,Yr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){he(this,Zo).length||(this.state.status==="pending"?this.scheduleGc():he(this,Yr).remove(this))}continue(){var n;return((n=he(this,Yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,A,_,T;yt(this,Yl,A$({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Rr(this,es,_a).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Rr(this,es,_a).call(this,{type:"pause"})},onContinue:()=>{Rr(this,es,_a).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Yr).canRun(this)}));const r=this.state.status==="pending",i=!he(this,Yl).canStart();try{if(!r){Rr(this,es,_a).call(this,{type:"pending",variables:n,isPaused:i}),await((s=(o=he(this,Yr).config).onMutate)==null?void 0:s.call(o,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Rr(this,es,_a).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await he(this,Yl).start();return await((d=(u=he(this,Yr).config).onSuccess)==null?void 0:d.call(u,N,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,n,this.state.context)),await((y=(m=he(this,Yr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,n,this.state.context)),Rr(this,es,_a).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(x=he(this,Yr).config).onError)==null?void 0:w.call(x,N,n,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,N,n,this.state.context)),await((A=(E=he(this,Yr).config).onSettled)==null?void 0:A.call(E,void 0,N,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,N,n,this.state.context)),N}finally{Rr(this,es,_a).call(this,{type:"error",error:N})}}finally{he(this,Yr).runNext(this)}}},Zo=new WeakMap,Yr=new WeakMap,Yl=new WeakMap,es=new WeakSet,_a=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qr.batch(()=>{he(this,Zo).forEach(i=>{i.onMutationUpdate(n)}),he(this,Yr).notify({mutation:this,type:"updated",action:n})})},KR);function nW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ei,Mp,YR,rW=(YR=class extends vx{constructor(e={}){super();Mt(this,Ei);Mt(this,Mp);this.config=e,yt(this,Ei,new Map),yt(this,Mp,Date.now())}build(e,n,r){const i=new tW({mutationCache:this,mutationId:++wm(this,Mp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vm(e),r=he(this,Ei).get(n)??[];r.push(e),he(this,Ei).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vm(e);if(he(this,Ei).has(n)){const i=(r=he(this,Ei).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?he(this,Ei).delete(n):he(this,Ei).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=he(this,Ei).get(Vm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=he(this,Ei).get(Vm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...he(this,Ei).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SN(n,r))}findAll(e={}){return this.getAll().filter(n=>SN(e,n))}notify(e){Qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qr.batch(()=>Promise.all(e.map(n=>n.continue().catch(go))))}},Ei=new WeakMap,Mp=new WeakMap,YR);function Vm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TN(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=E$(e.options,e.fetchOptions),w=async(S,C,E)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const A={queryKey:e.queryKey,pageParam:C,direction:E?"backward":"forward",meta:e.options.meta};v(A);const _=await x(A),{maxPages:T}=e.options,N=E?H7:W7;return{pages:N(S.pages,_,T),pageParams:N(S.pageParams,C,T)}};if(i&&o.length){const S=i==="backward",C=S?iW:CN,E={pages:o,pageParams:s},A=C(r,E);a=await w(E,A,S)}else{const S=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:CN(r,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function CN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nn,Ra,Ma,Ru,Mu,Da,Du,$u,XR,oW=(XR=class{constructor(t={}){Mt(this,Nn);Mt(this,Ra);Mt(this,Ma);Mt(this,Ru);Mt(this,Mu);Mt(this,Da);Mt(this,Du);Mt(this,$u);yt(this,Nn,t.queryCache||new eW),yt(this,Ra,t.mutationCache||new rW),yt(this,Ma,t.defaultOptions||{}),yt(this,Ru,new Map),yt(this,Mu,new Map),yt(this,Da,0)}mount(){wm(this,Da)._++,he(this,Da)===1&&(yt(this,Du,T$.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Nn).onFocus())})),yt(this,$u,_y.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Nn).onOnline())})))}unmount(){var t,e;wm(this,Da)._--,he(this,Da)===0&&((t=he(this,Du))==null||t.call(this),yt(this,Du,void 0),(e=he(this,$u))==null||e.call(this),yt(this,$u,void 0))}isFetching(t){return he(this,Nn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return he(this,Ra).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Nn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=he(this,Nn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(bN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return he(this,Nn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=he(this,Nn).get(r.queryHash),o=i==null?void 0:i.state.data,s=L7(e,o);if(s!==void 0)return he(this,Nn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Qr.batch(()=>he(this,Nn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Nn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=he(this,Nn);Qr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=he(this,Nn),r={type:"active",...t};return Qr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Qr.batch(()=>he(this,Nn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(go).catch(go)}invalidateQueries(t={},e={}){return Qr.batch(()=>{if(he(this,Nn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Qr.batch(()=>he(this,Nn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(go)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(go)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=he(this,Nn).build(this,e);return n.isStaleByTime(bN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(go).catch(go)}fetchInfiniteQuery(t){return t.behavior=TN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(go).catch(go)}ensureInfiniteQueryData(t){return t.behavior=TN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _y.isOnline()?he(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Nn)}getMutationCache(){return he(this,Ra)}getDefaultOptions(){return he(this,Ma)}setDefaultOptions(t){yt(this,Ma,t)}setQueryDefaults(t,e){he(this,Ru).set(Ih(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...he(this,Ru).values()];let n={};return e.forEach(r=>{kh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){he(this,Mu).set(Ih(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...he(this,Mu).values()];let n={};return e.forEach(r=>{kh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...he(this,Ma).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===XE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...he(this,Ma).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){he(this,Nn).clear(),he(this,Ra).clear()}},Nn=new WeakMap,Ra=new WeakMap,Ma=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,Da=new WeakMap,Du=new WeakMap,$u=new WeakMap,XR),sW=b.createContext(void 0),aW=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(sW.Provider,{value:t,children:e}));async function lW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const cW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await lW(n),await n.json())},uW=new oW({defaultOptions:{queries:{queryFn:cW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),dW=1,fW=1e6;let jb=0;function hW(){return jb=(jb+1)%Number.MAX_SAFE_INTEGER,jb.toString()}const Ib=new Map,PN=t=>{if(Ib.has(t))return;const e=setTimeout(()=>{Ib.delete(t),Jf({type:"REMOVE_TOAST",toastId:t})},fW);Ib.set(t,e)},pW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,dW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?PN(n):t.toasts.forEach(r=>{PN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Og=[];let Rg={toasts:[]};function Jf(t){Rg=pW(Rg,t),Og.forEach(e=>{e(Rg)})}function mW({...t}){const e=hW(),n=i=>Jf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Jf({type:"DISMISS_TOAST",toastId:e});return Jf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Nd(){const[t,e]=b.useState(Rg);return b.useEffect(()=>(Og.push(e),()=>{const n=Og.indexOf(e);n>-1&&Og.splice(n,1)}),[t]),{...t,toast:mW,dismiss:n=>Jf({type:"DISMISS_TOAST",toastId:n})}}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function AN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j$(...t){return e=>{let n=!1;const r=t.map(i=>{const o=AN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():AN(t[i],null)}}}}function vt(...t){return b.useCallback(j$(...t),t)}function gW(t,e){const n=b.createContext(e),r=o=>{const{children:s,...a}=o,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=b.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function $i(t,e=[]){let n=[];function r(o,s){const a=b.createContext(s),l=n.length;n=[...n,s];const u=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=b.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:v,children:m})};u.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,y=b.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(s=>b.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,yW(i,...e)]}function yW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function qu(t){const e=xW(t),n=b.forwardRef((r,i)=>{const{children:o,...s}=r,a=b.Children.toArray(o),l=a.find(wW);if(l){const u=l.props.children,d=a.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...s,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var vW=qu("Slot");function xW(t){const e=b.forwardRef((n,r)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const s=_W(i),a=SW(o,i.props);return i.type!==b.Fragment&&(a.ref=r?j$(r,s):s),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var I$=Symbol("radix.slottable");function bW(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=I$,e}function wW(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===I$}function SW(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function _W(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Up(t){const e=t+"CollectionProvider",[n,r]=$i(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:x}=g,w=q.useRef(null),S=q.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:S,collectionRef:w,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=qu(a),u=q.forwardRef((g,v)=>{const{scope:x,children:w}=g,S=o(a,x),C=vt(v,S.collectionRef);return c.jsx(l,{ref:C,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=qu(d),m=q.forwardRef((g,v)=>{const{scope:x,children:w,...S}=g,C=q.useRef(null),E=vt(v,C),A=o(d,x);return q.useEffect(()=>(A.itemMap.set(C,{ref:C,...S}),()=>void A.itemMap.delete(C))),c.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return q.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,_)=>S.indexOf(A.ref.current)-S.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}var EW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ze=EW.reduce((t,e)=>{const n=qu(`Primitive.${e}`),r=b.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k$(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function Rn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var CW="DismissableLayer",A1="dismissableLayer.update",PW="dismissableLayer.pointerDownOutside",AW="dismissableLayer.focusOutside",NN,O$=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,u=b.useContext(O$),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),y=vt(e,_=>f(_)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,E=jW(_=>{const T=_.target,N=[...u.branches].some(k=>k.contains(T));!C||N||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())},h),A=IW(_=>{const T=_.target;[...u.branches].some(k=>k.contains(T))||(o==null||o(_),s==null||s(_),_.defaultPrevented||a==null||a())},h);return TW(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=NN)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jN())},[d,u]),b.useEffect(()=>{const _=()=>m({});return document.addEventListener(A1,_),()=>document.removeEventListener(A1,_)},[]),c.jsx(Ze.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,E.onPointerDownCapture)})});zp.displayName=CW;var NW="DismissableLayerBranch",R$=b.forwardRef((t,e)=>{const n=b.useContext(O$),r=b.useRef(null),i=vt(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(Ze.div,{...t,ref:i})});R$.displayName=NW;function jW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){M$(PW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function IW(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&M$(AW,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jN(){const t=new CustomEvent(A1);document.dispatchEvent(t)}function M$(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k$(i,o):i.dispatchEvent(o)}var kW=zp,OW=R$,hr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},RW="Portal",bx=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=b.useState(!1);hr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?l7.createPortal(c.jsx(Ze.div,{...r,ref:e}),s):null});bx.displayName=RW;function MW(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var no=t=>{const{present:e,children:n}=t,r=DW(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=vt(r.ref,$W(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};no.displayName="Presence";function DW(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),o=b.useRef("none"),s=t?"mounted":"unmounted",[a,l]=MW(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Bm(r.current);o.current=a==="mounted"?u:"none"},[a]),hr(()=>{const u=r.current,d=i.current;if(d!==t){const h=o.current,m=Bm(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),hr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Bm(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=Bm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bm(t){return(t==null?void 0:t.animationName)||"none"}function $W(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=LW({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Rn(n),l=b.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[o,t,i,a]);return[s,l]}function LW({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),o=Rn(e);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var FW="VisuallyHidden",jd=b.forwardRef((t,e)=>c.jsx(Ze.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jd.displayName=FW;var VW=jd,QE="ToastProvider",[JE,BW,UW]=Up("Toast"),[D$,e2e]=$i("Toast",[UW]),[zW,wx]=D$(QE),$$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${QE}\`. Expected non-empty \`string\`.`),c.jsx(JE.Provider,{scope:e,children:c.jsx(zW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};$$.displayName=QE;var L$="ToastViewport",WW=["F8"],N1="toast.viewportPause",j1="toast.viewportResume",F$=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=WW,label:i="Notifications ({hotkey})",...o}=t,s=wx(L$,n),a=BW(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=vt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;b.useEffect(()=>{const v=x=>{var S;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,x=f.current;if(y&&v&&x){const w=()=>{if(!s.isClosePausedRef.current){const A=new CustomEvent(N1);x.dispatchEvent(A),s.isClosePausedRef.current=!0}},S=()=>{if(s.isClosePausedRef.current){const A=new CustomEvent(j1);x.dispatchEvent(A),s.isClosePausedRef.current=!1}},C=A=>{!v.contains(A.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",w),v.addEventListener("focusout",C),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,s.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=a().map(S=>{const C=S.ref.current,E=[C,...rH(C)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var E,A,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(E=u.current)==null||E.focus();return}const R=g({tabbingDirection:N?"backwards":"forwards"}),O=R.findIndex(L=>L===T);kb(R.slice(O+1))?w.preventDefault():N?(A=u.current)==null||A.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),c.jsxs(OW,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(I1,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});kb(v)}}),c.jsx(JE.Slot,{scope:n,children:c.jsx(Ze.ol,{tabIndex:-1,...o,ref:h})}),y&&c.jsx(I1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});kb(v)}})]})});F$.displayName=L$;var V$="ToastFocusProxy",I1=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=wx(V$,n);return c.jsx(jd,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const a=s.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});I1.displayName=V$;var Sx="Toast",HW="toast.swipeStart",qW="toast.swipeMove",GW="toast.swipeCancel",KW="toast.swipeEnd",B$=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Lo({prop:r,defaultProp:i,onChange:o});return c.jsx(no,{present:n||a,children:c.jsx(QW,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Rn(t.onPause),onResume:Rn(t.onResume),onSwipeStart:Fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});B$.displayName=Sx;var[YW,XW]=D$(Sx,{onClose(){}}),QW=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=wx(Sx,n),[v,x]=b.useState(null),w=vt(e,L=>x(L)),S=b.useRef(null),C=b.useRef(null),E=i||g.duration,A=b.useRef(0),_=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:k}=g,j=Rn(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),s()}),R=b.useCallback(L=>{!L||L===1/0||(window.clearTimeout(T.current),A.current=new Date().getTime(),T.current=window.setTimeout(j,L))},[j]);b.useEffect(()=>{const L=g.viewport;if(L){const B=()=>{R(_.current),u==null||u()},V=()=>{const U=new Date().getTime()-A.current;_.current=_.current-U,window.clearTimeout(T.current),l==null||l()};return L.addEventListener(N1,V),L.addEventListener(j1,B),()=>{L.removeEventListener(N1,V),L.removeEventListener(j1,B)}}},[g.viewport,E,l,u,R]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(E)},[o,E,g.isClosePausedRef,R]),b.useEffect(()=>(N(),()=>k()),[N,k]);const O=b.useMemo(()=>v?K$(v):null,[v]);return g.viewport?c.jsxs(c.Fragment,{children:[O&&c.jsx(JW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),c.jsx(YW,{scope:n,onClose:j,children:Ec.createPortal(c.jsx(JE.ItemSlot,{scope:n,children:c.jsx(kW,{asChild:!0,onEscapeKeyDown:Fe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Fe(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Fe(t.onPointerDown,L=>{L.button===0&&(S.current={x:L.clientX,y:L.clientY})}),onPointerMove:Fe(t.onPointerMove,L=>{if(!S.current)return;const B=L.clientX-S.current.x,V=L.clientY-S.current.y,U=!!C.current,F=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=F?W(0,B):0,X=F?0:W(0,V),ie=L.pointerType==="touch"?10:2,ce={x:ne,y:X},be={originalEvent:L,delta:ce};U?(C.current=ce,Um(qW,f,be,{discrete:!1})):IN(ce,g.swipeDirection,ie)?(C.current=ce,Um(HW,d,be,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(B)>ie||Math.abs(V)>ie)&&(S.current=null)}),onPointerUp:Fe(t.onPointerUp,L=>{const B=C.current,V=L.target;if(V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),C.current=null,S.current=null,B){const U=L.currentTarget,F={originalEvent:L,delta:B};IN(B,g.swipeDirection,g.swipeThreshold)?Um(KW,m,F,{discrete:!0}):Um(GW,h,F,{discrete:!0}),U.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),JW=t=>{const{__scopeToast:e,children:n,...r}=t,i=wx(Sx,e),[o,s]=b.useState(!1),[a,l]=b.useState(!1);return tH(()=>s(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(bx,{asChild:!0,children:c.jsx(jd,{...r,children:o&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},ZW="ToastTitle",U$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ze.div,{...r,ref:e})});U$.displayName=ZW;var eH="ToastDescription",z$=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ze.div,{...r,ref:e})});z$.displayName=eH;var W$="ToastAction",H$=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(G$,{altText:n,asChild:!0,children:c.jsx(ZE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${W$}\`. Expected non-empty \`string\`.`),null)});H$.displayName=W$;var q$="ToastClose",ZE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=XW(q$,n);return c.jsx(G$,{asChild:!0,children:c.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,i.onClose)})})});ZE.displayName=q$;var G$=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return c.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function K$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),nH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...K$(r))}}),e}function Um(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k$(i,o):i.dispatchEvent(o)}var IN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function tH(t=()=>{}){const e=Rn(t);hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function nH(t){return t.nodeType===t.ELEMENT_NODE}function rH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var iH=$$,Y$=F$,X$=B$,Q$=U$,J$=z$,Z$=H$,eL=ZE;function tL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tL(t))&&(r&&(r+=" "),r+=e);return r}const kN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ON=Pt,_x=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ON(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=kN(d)||kN(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,f,h]:u},[]);return ON(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nL=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...sH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nL("lucide",i),...a},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(aH,{ref:o,iconNode:e,className:nL(`lucide-${oH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=qe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=qe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=qe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=qe("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=qe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iT="-",MH=t=>{const e=$H(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(iT);return a[0]===""&&a.length!==1&&a.shift(),uL(a,e)||DH(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},uL=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?uL(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(iT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},FN=/^\[(.+)\]$/,DH=t=>{if(FN.test(t)){const e=FN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$H=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return FH(Object.entries(t.classGroups),n).forEach(([o,s])=>{M1(s,r,o,e)}),r},M1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:VN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(LH(i)){M1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{M1(s,VN(e,o),n,r)})})},VN=(t,e)=>{let n=t;return e.split(iT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LH=t=>t.isThemeGetter,FH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,VH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},dL="!",BH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let u=0,d=0,f;for(let v=0;v<a.length;v++){let x=a[v];if(u===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(dL),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},UH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zH=t=>({cache:VH(t.cacheSize),parseClassName:BH(t),...MH(t)}),WH=/\s+/,HH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(WH);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const v=UH(d).join(":"),x=f?v+dL:v,w=x+g;if(o.includes(w))continue;o.push(w);const S=i(g,y);for(let C=0;C<S.length;++C){const E=S[C];o.push(x+E)}a=u+(a.length>0?" "+a:a)}return a};function qH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fL(e))&&(r&&(r+=" "),r+=n);return r}const fL=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fL(t[r]))&&(n&&(n+=" "),n+=e);return n};function GH(t,...e){let n,r,i,o=s;function s(l){const u=e.reduce((d,f)=>f(d),t());return n=zH(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=HH(l,n);return i(l,d),d}return function(){return o(qH.apply(null,arguments))}}const an=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hL=/^\[(?:([a-z-]+):)?(.+)\]$/i,KH=/^\d+\/\d+$/,YH=new Set(["px","full","screen"]),XH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=t=>gu(t)||YH.has(t)||KH.test(t),ba=t=>Id(t,"length",lq),gu=t=>!!t&&!Number.isNaN(Number(t)),Rb=t=>Id(t,"number",gu),xf=t=>!!t&&Number.isInteger(Number(t)),tq=t=>t.endsWith("%")&&gu(t.slice(0,-1)),ht=t=>hL.test(t),wa=t=>XH.test(t),nq=new Set(["length","size","percentage"]),rq=t=>Id(t,nq,pL),iq=t=>Id(t,"position",pL),oq=new Set(["image","url"]),sq=t=>Id(t,oq,uq),aq=t=>Id(t,"",cq),bf=()=>!0,Id=(t,e,n)=>{const r=hL.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lq=t=>QH.test(t)&&!JH.test(t),pL=()=>!1,cq=t=>ZH.test(t),uq=t=>eq.test(t),dq=()=>{const t=an("colors"),e=an("spacing"),n=an("blur"),r=an("brightness"),i=an("borderColor"),o=an("borderRadius"),s=an("borderSpacing"),a=an("borderWidth"),l=an("contrast"),u=an("grayscale"),d=an("hueRotate"),f=an("invert"),h=an("gap"),m=an("gradientColorStops"),y=an("gradientColorStopPositions"),g=an("inset"),v=an("margin"),x=an("opacity"),w=an("padding"),S=an("saturate"),C=an("scale"),E=an("sepia"),A=an("skew"),_=an("space"),T=an("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ht,e],R=()=>[ht,e],O=()=>["",Ns,ba],L=()=>["auto",gu,ht],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ht],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[gu,ht];return{cacheSize:500,separator:":",theme:{colors:[bf],spacing:[Ns,ba],blur:["none","",wa,ht],brightness:X(),borderColor:[t],borderRadius:["none","","full",wa,ht],borderSpacing:R(),borderWidth:O(),contrast:X(),grayscale:W(),hueRotate:X(),invert:W(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[tq,ba],inset:j(),margin:j(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:W(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ht]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xf,ht]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",xf,ht]}],"grid-cols":[{"grid-cols":[bf]}],"col-start-end":[{col:["auto",{span:["full",xf,ht]},ht]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[bf]}],"row-start-end":[{row:["auto",{span:[xf,ht]},ht]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rb]}],"font-family":[{font:[bf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",gu,Rb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,ba]}],"underline-offset":[{"underline-offset":["auto",Ns,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),iq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ns,ht]}],"outline-w":[{outline:[Ns,ba]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ns,ba]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wa,aq]}],"shadow-color":[{shadow:[bf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wa,ht]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[xf,ht]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ns,ba,Rb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fq=GH(dq);function lt(...t){return fq(Pt(t))}const hq=iH,mL=b.forwardRef(({className:t,...e},n)=>c.jsx(Y$,{ref:n,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));mL.displayName=Y$.displayName;const pq=_x("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gL=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(X$,{ref:r,className:lt(pq({variant:e}),t),...n}));gL.displayName=X$.displayName;const mq=b.forwardRef(({className:t,...e},n)=>c.jsx(Z$,{ref:n,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mq.displayName=Z$.displayName;const yL=b.forwardRef(({className:t,...e},n)=>c.jsx(eL,{ref:n,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Ex,{className:"h-4 w-4"})}));yL.displayName=eL.displayName;const vL=b.forwardRef(({className:t,...e},n)=>c.jsx(Q$,{ref:n,className:lt("text-sm font-semibold",t),...e}));vL.displayName=Q$.displayName;const xL=b.forwardRef(({className:t,...e},n)=>c.jsx(J$,{ref:n,className:lt("text-sm opacity-90",t),...e}));xL.displayName=J$.displayName;function gq(){const{toasts:t}=Nd();return c.jsxs(hq,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return c.jsxs(gL,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(vL,{children:n}),r&&c.jsx(xL,{children:r})]}),i,c.jsx(yL,{})]},e)}),c.jsx(mL,{})]})}var yq=aM[" useId ".trim().toString()]||(()=>{}),vq=0;function as(t){const[e,n]=b.useState(yq());return hr(()=>{n(r=>r??String(vq++))},[t]),e?`radix-${e}`:""}const xq=["top","right","bottom","left"],il=Math.min,Pi=Math.max,Ty=Math.round,Wm=Math.floor,ls=t=>({x:t,y:t}),bq={left:"right",right:"left",bottom:"top",top:"bottom"},wq={start:"end",end:"start"};function D1(t,e,n){return Pi(t,il(e,n))}function Zs(t,e){return typeof t=="function"?t(e):t}function ea(t){return t.split("-")[0]}function kd(t){return t.split("-")[1]}function oT(t){return t==="x"?"y":"x"}function sT(t){return t==="y"?"height":"width"}function ol(t){return["top","bottom"].includes(ea(t))?"y":"x"}function aT(t){return oT(ol(t))}function Sq(t,e,n){n===void 0&&(n=!1);const r=kd(t),i=aT(t),o=sT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Cy(s)),[s,Cy(s)]}function _q(t){const e=Cy(t);return[$1(t),e,$1(e)]}function $1(t){return t.replace(/start|end/g,e=>wq[e])}function Eq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Tq(t,e,n,r){const i=kd(t);let o=Eq(ea(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map($1)))),o}function Cy(t){return t.replace(/left|right|bottom|top/g,e=>bq[e])}function Cq(t){return{top:0,right:0,bottom:0,left:0,...t}}function bL(t){return typeof t!="number"?Cq(t):{top:t,right:t,bottom:t,left:t}}function Py(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BN(t,e,n){let{reference:r,floating:i}=t;const o=ol(e),s=aT(e),a=sT(s),l=ea(e),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(kd(e)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const Pq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=BN(u,r,l),h=r,m={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:w,y:S,data:C,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[v]:{...m[v],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=BN(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Dh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Zs(e,t),y=bL(m),v=a[h?f==="floating"?"reference":"floating":f],x=Py(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Py(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(x.top-E.top+y.top)/C.y,bottom:(E.bottom-x.bottom+y.bottom)/C.y,left:(x.left-E.left+y.left)/C.x,right:(E.right-x.right+y.right)/C.x}}const Aq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Zs(t,e)||{};if(u==null)return{};const f=bL(d),h={x:n,y:r},m=aT(i),y=sT(m),g=await s.getDimensions(u),v=m==="y",x=v?"top":"left",w=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=o.reference[y]+o.reference[m]-h[m]-o.floating[y],E=h[m]-o.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let _=A?A[S]:0;(!_||!await(s.isElement==null?void 0:s.isElement(A)))&&(_=a.floating[S]||o.floating[y]);const T=C/2-E/2,N=_/2-g[y]/2-1,k=il(f[x],N),j=il(f[w],N),R=k,O=_-g[y]-j,L=_/2-g[y]/2+T,B=D1(R,L,O),V=!l.arrow&&kd(i)!=null&&L!==B&&o.reference[y]/2-(L<R?k:j)-g[y]/2<0,U=V?L<R?L-R:L-O:0;return{[m]:h[m]+U,data:{[m]:B,centerOffset:L-B-U,...V&&{alignmentOffset:U}},reset:V}}}),Nq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Zs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ea(i),w=ol(a),S=ea(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[Cy(a)]:_q(a)),A=y!=="none";!h&&A&&E.push(...Tq(a,g,y,C));const _=[a,...E],T=await Dh(e,v),N=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[x]),f){const L=Sq(i,s,C);N.push(T[L[0]],T[L[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every(L=>L<=0)){var j,R;const L=(((j=o.flip)==null?void 0:j.index)||0)+1,B=_[L];if(B)return{data:{index:L,overflows:k},reset:{placement:B}};let V=(R=k.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(m){case"bestFit":{var O;const U=(O=k.filter(F=>{if(A){const W=ol(F.placement);return W===w||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,ne)=>W+ne,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:O[0];U&&(V=U);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function UN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zN(t){return xq.some(e=>t[e]>=0)}const jq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Zs(t,e);switch(r){case"referenceHidden":{const o=await Dh(e,{...i,elementContext:"reference"}),s=UN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:zN(s)}}}case"escaped":{const o=await Dh(e,{...i,altBoundary:!0}),s=UN(o,n.floating);return{data:{escapedOffsets:s,escaped:zN(s)}}}default:return{}}}}};async function Iq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ea(n),a=kd(n),l=ol(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Zs(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const kq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Iq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Oq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Zs(t,e),u={x:n,y:r},d=await Dh(e,l),f=ol(ea(i)),h=oT(f);let m=u[h],y=u[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[v],S=m-d[x];m=D1(w,m,S)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],S=y-d[x];y=D1(w,y,S)}const g=a.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},Rq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Zs(t,e),d={x:n,y:r},f=ol(i),h=oT(f);let m=d[h],y=d[f];const g=Zs(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=o.reference[h]-o.floating[S]+v.mainAxis,E=o.reference[h]+o.reference[S]-v.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var x,w;const S=h==="y"?"width":"height",C=["top","left"].includes(ea(i)),E=o.reference[f]-o.floating[S]+(C&&((x=s.offset)==null?void 0:x[f])||0)+(C?0:v.crossAxis),A=o.reference[f]+o.reference[S]+(C?0:((w=s.offset)==null?void 0:w[f])||0)-(C?v.crossAxis:0);y<E?y=E:y>A&&(y=A)}return{[h]:m,[f]:y}}}},Mq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...u}=Zs(t,e),d=await Dh(e,u),f=ea(i),h=kd(i),m=ol(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=y-d.left-d.right,C=il(g-d[v],w),E=il(y-d[x],S),A=!e.middlewareData.shift;let _=C,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),A&&!h){const k=Pi(d.left,0),j=Pi(d.right,0),R=Pi(d.top,0),O=Pi(d.bottom,0);m?T=y-2*(k!==0||j!==0?k+j:Pi(d.left,d.right)):_=g-2*(R!==0||O!==0?R+O:Pi(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:_});const N=await s.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Tx(){return typeof window<"u"}function Od(t){return wL(t)?(t.nodeName||"").toLowerCase():"#document"}function ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ws(t){var e;return(e=(wL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wL(t){return Tx()?t instanceof Node||t instanceof ki(t).Node:!1}function Fo(t){return Tx()?t instanceof Element||t instanceof ki(t).Element:!1}function gs(t){return Tx()?t instanceof HTMLElement||t instanceof ki(t).HTMLElement:!1}function WN(t){return!Tx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ki(t).ShadowRoot}function Hp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Dq(t){return["table","td","th"].includes(Od(t))}function Cx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lT(t){const e=cT(),n=Fo(t)?Vo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $q(t){let e=sl(t);for(;gs(e)&&!Gu(e);){if(lT(e))return e;if(Cx(e))return null;e=sl(e)}return null}function cT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gu(t){return["html","body","#document"].includes(Od(t))}function Vo(t){return ki(t).getComputedStyle(t)}function Px(t){return Fo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sl(t){if(Od(t)==="html")return t;const e=t.assignedSlot||t.parentNode||WN(t)&&t.host||ws(t);return WN(e)?e.host:e}function SL(t){const e=sl(t);return Gu(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&Hp(e)?e:SL(e)}function $h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=SL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=ki(i);if(o){const a=L1(s);return e.concat(s,s.visualViewport||[],Hp(i)?i:[],a&&n?$h(a):[])}return e.concat(i,$h(i,[],n))}function L1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _L(t){const e=Vo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gs(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ty(n)!==o||Ty(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function uT(t){return Fo(t)?t:t.contextElement}function yu(t){const e=uT(t);if(!gs(e))return ls(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=_L(e);let s=(o?Ty(n.width):n.width)/r,a=(o?Ty(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Lq=ls(0);function EL(t){const e=ki(t);return!cT()||!e.visualViewport?Lq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ki(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=uT(t);let s=ls(1);e&&(r?Fo(r)&&(s=yu(r)):s=yu(t));const a=Fq(o,n,r)?EL(o):ls(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=ki(o),m=r&&Fo(r)?ki(r):r;let y=h,g=L1(y);for(;g&&r&&m!==y;){const v=yu(g),x=g.getBoundingClientRect(),w=Vo(g),S=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,C=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=S,u+=C,y=ki(g),g=L1(y)}}return Py({width:d,height:f,x:l,y:u})}function dT(t,e){const n=Px(t).scrollLeft;return e?e.left+n:cc(ws(t)).left+n}function TL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:dT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Vq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ws(r),a=e?Cx(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ls(1);const d=ls(0),f=gs(r);if((f||!f&&!o)&&((Od(r)!=="body"||Hp(s))&&(l=Px(r)),gs(r))){const m=cc(r);u=yu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?TL(s,l,!0):ls(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function Bq(t){return Array.from(t.getClientRects())}function Uq(t){const e=ws(t),n=Px(t),r=t.ownerDocument.body,i=Pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+dT(t);const a=-n.scrollTop;return Vo(r).direction==="rtl"&&(s+=Pi(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function zq(t,e){const n=ki(t),r=ws(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=cT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Wq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=gs(t)?yu(t):ls(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function HN(t,e,n){let r;if(e==="viewport")r=zq(t,n);else if(e==="document")r=Uq(ws(t));else if(Fo(e))r=Wq(e,n);else{const i=EL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Py(r)}function CL(t,e){const n=sl(t);return n===e||!Fo(n)||Gu(n)?!1:Vo(n).position==="fixed"||CL(n,e)}function Hq(t,e){const n=e.get(t);if(n)return n;let r=$h(t,[],!1).filter(a=>Fo(a)&&Od(a)!=="body"),i=null;const o=Vo(t).position==="fixed";let s=o?sl(t):t;for(;Fo(s)&&!Gu(s);){const a=Vo(s),l=lT(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hp(s)&&!l&&CL(t,s))?r=r.filter(d=>d!==s):i=a,s=sl(s)}return e.set(t,r),r}function qq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Cx(e)?[]:Hq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=HN(e,d,i);return u.top=Pi(f.top,u.top),u.right=il(f.right,u.right),u.bottom=il(f.bottom,u.bottom),u.left=Pi(f.left,u.left),u},HN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Gq(t){const{width:e,height:n}=_L(t);return{width:e,height:n}}function Kq(t,e,n){const r=gs(e),i=ws(e),o=n==="fixed",s=cc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=ls(0);if(r||!r&&!o)if((Od(e)!=="body"||Hp(i))&&(a=Px(e)),r){const h=cc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=dT(i));const u=i&&!r&&!o?TL(i,a):ls(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Mb(t){return Vo(t).position==="static"}function qN(t,e){if(!gs(t)||Vo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ws(t)===n&&(n=n.ownerDocument.body),n}function PL(t,e){const n=ki(t);if(Cx(t))return n;if(!gs(t)){let i=sl(t);for(;i&&!Gu(i);){if(Fo(i)&&!Mb(i))return i;i=sl(i)}return n}let r=qN(t,e);for(;r&&Dq(r)&&Mb(r);)r=qN(r,e);return r&&Gu(r)&&Mb(r)&&!lT(r)?n:r||$q(t)||n}const Yq=async function(t){const e=this.getOffsetParent||PL,n=this.getDimensions,r=await n(t.floating);return{reference:Kq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xq(t){return Vo(t).direction==="rtl"}const Qq={convertOffsetParentRelativeRectToViewportRelativeRect:Vq,getDocumentElement:ws,getClippingRect:qq,getOffsetParent:PL,getElementRects:Yq,getClientRects:Bq,getDimensions:Gq,getScale:yu,isElement:Fo,isRTL:Xq};function AL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Jq(t,e){let n=null,r;const i=ws(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const y=Wm(f),g=Wm(i.clientWidth-(d+h)),v=Wm(i.clientHeight-(f+m)),x=Wm(d),S={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Pi(0,il(1,l))||1};let C=!0;function E(A){const _=A[0].intersectionRatio;if(_!==l){if(!C)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!AL(u,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return s(!0),o}function Zq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=uT(t),d=i||o?[...u?$h(u):[],...$h(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&a?Jq(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,g=l?cc(t):null;l&&v();function v(){const x=cc(t);g&&!AL(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const eG=kq,tG=Oq,nG=Nq,rG=Mq,iG=jq,GN=Aq,oG=Rq,sG=(t,e,n)=>{const r=new Map,i={platform:Qq,...n},o={...i.platform,_c:r};return Pq(t,e,{...i,platform:o})};var Dg=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Ay(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ay(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Ay(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function NL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KN(t,e){const n=NL(t);return Math.round(e*n)/n}function Db(t){const e=b.useRef(t);return Dg(()=>{e.current=t}),e}function aG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);Ay(h,r)||m(r);const[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(F=>{F!==A.current&&(A.current=F,g(F))},[]),S=b.useCallback(F=>{F!==_.current&&(_.current=F,x(F))},[]),C=o||y,E=s||v,A=b.useRef(null),_=b.useRef(null),T=b.useRef(d),N=l!=null,k=Db(l),j=Db(i),R=Db(u),O=b.useCallback(()=>{if(!A.current||!_.current)return;const F={placement:e,strategy:n,middleware:h};j.current&&(F.platform=j.current),sG(A.current,_.current,F).then(W=>{const ne={...W,isPositioned:R.current!==!1};L.current&&!Ay(T.current,ne)&&(T.current=ne,Ec.flushSync(()=>{f(ne)}))})},[h,e,n,j,R]);Dg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const L=b.useRef(!1);Dg(()=>(L.current=!0,()=>{L.current=!1}),[]),Dg(()=>{if(C&&(A.current=C),E&&(_.current=E),C&&E){if(k.current)return k.current(C,E,O);O()}},[C,E,O,k,N]);const B=b.useMemo(()=>({reference:A,floating:_,setReference:w,setFloating:S}),[w,S]),V=b.useMemo(()=>({reference:C,floating:E}),[C,E]),U=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!V.floating)return F;const W=KN(V.floating,d.x),ne=KN(V.floating,d.y);return a?{...F,transform:"translate("+W+"px, "+ne+"px)",...NL(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ne}},[n,a,V.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:B,elements:V,floatingStyles:U}),[d,O,B,V,U])}const lG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?GN({element:r.current,padding:i}).fn(n):{}:r?GN({element:r,padding:i}).fn(n):{}}}},cG=(t,e)=>({...eG(t),options:[t,e]}),uG=(t,e)=>({...tG(t),options:[t,e]}),dG=(t,e)=>({...oG(t),options:[t,e]}),fG=(t,e)=>({...nG(t),options:[t,e]}),hG=(t,e)=>({...rG(t),options:[t,e]}),pG=(t,e)=>({...iG(t),options:[t,e]}),mG=(t,e)=>({...lG(t),options:[t,e]});var gG="Arrow",jL=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return c.jsx(Ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});jL.displayName=gG;var yG=jL;function fT(t){const[e,n]=b.useState(void 0);return hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hT="Popper",[IL,Ax]=$i(hT),[vG,kL]=IL(hT),OL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return c.jsx(vG,{scope:e,anchor:r,onAnchorChange:i,children:n})};OL.displayName=hT;var RL="PopperAnchor",ML=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=kL(RL,n),s=b.useRef(null),a=vt(e,s);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:c.jsx(Ze.div,{...i,ref:a})});ML.displayName=RL;var pT="PopperContent",[xG,bG]=IL(pT),DL=b.forwardRef((t,e)=>{var xe,je,se,pe,le,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=kL(pT,n),[x,w]=b.useState(null),S=vt(e,we=>w(we)),[C,E]=b.useState(null),A=fT(C),_=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,N=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],R=j.length>0,O={padding:k,boundary:j.filter(SG),altBoundary:R},{refs:L,floatingStyles:B,placement:V,isPositioned:U,middlewareData:F}=aG({strategy:"fixed",placement:N,whileElementsMounted:(...we)=>Zq(...we,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[cG({mainAxis:i+T,alignmentAxis:s}),l&&uG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dG():void 0,...O}),l&&fG({...O}),hG({...O,apply:({elements:we,rects:Te,availableWidth:Ye,availableHeight:Xe})=>{const{width:st,height:pt}=Te.reference,_e=we.floating.style;_e.setProperty("--radix-popper-available-width",`${Ye}px`),_e.setProperty("--radix-popper-available-height",`${Xe}px`),_e.setProperty("--radix-popper-anchor-width",`${st}px`),_e.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),C&&mG({element:C,padding:a}),_G({arrowWidth:_,arrowHeight:T}),h&&pG({strategy:"referenceHidden",...O})]}),[W,ne]=FL(V),X=Rn(y);hr(()=>{U&&(X==null||X())},[U,X]);const ie=(xe=F.arrow)==null?void 0:xe.x,ce=(je=F.arrow)==null?void 0:je.y,be=((se=F.arrow)==null?void 0:se.centerOffset)!==0,[ke,ot]=b.useState();return hr(()=>{x&&ot(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(pe=F.transformOrigin)==null?void 0:pe.x,(le=F.transformOrigin)==null?void 0:le.y].join(" "),...((z=F.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(xG,{scope:n,placedSide:W,onArrowChange:E,arrowX:ie,arrowY:ce,shouldHideArrow:be,children:c.jsx(Ze.div,{"data-side":W,"data-align":ne,...g,ref:S,style:{...g.style,animation:U?void 0:"none"}})})})});DL.displayName=pT;var $L="PopperArrow",wG={top:"bottom",right:"left",bottom:"top",left:"right"},LL=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=bG($L,r),s=wG[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(yG,{...i,ref:n,style:{...i.style,display:"block"}})})});LL.displayName=$L;function SG(t){return t!==null}var _G=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=FL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=s?f:`${h}px`,g=`${-l}px`):u==="top"?(y=s?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=s?f:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:y,y:g}}}});function FL(t){const[e,n="center"]=t.split("-");return[e,n]}var EG=OL,VL=ML,BL=DL,UL=LL,[Nx,t2e]=$i("Tooltip",[Ax]),mT=Ax(),zL="TooltipProvider",TG=700,YN="tooltip.open",[CG,WL]=Nx(zL),HL=t=>{const{__scopeTooltip:e,delayDuration:n=TG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(CG,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};HL.displayName=zL;var qL="Tooltip",[n2e,jx]=Nx(qL),F1="TooltipTrigger",PG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=jx(F1,n),o=WL(F1,n),s=mT(n),a=b.useRef(null),l=vt(e,a,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(VL,{asChild:!0,...s,children:c.jsx(Ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Fe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Fe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Fe(t.onBlur,i.onClose),onClick:Fe(t.onClick,i.onClose)})})});PG.displayName=F1;var AG="TooltipPortal",[r2e,NG]=Nx(AG,{forceMount:void 0}),Ku="TooltipContent",GL=b.forwardRef((t,e)=>{const n=NG(Ku,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=jx(Ku,t.__scopeTooltip);return c.jsx(no,{present:r||s.open,children:s.disableHoverableContent?c.jsx(KL,{side:i,...o,ref:e}):c.jsx(jG,{side:i,...o,ref:e})})}),jG=b.forwardRef((t,e)=>{const n=jx(Ku,t.__scopeTooltip),r=WL(Ku,t.__scopeTooltip),i=b.useRef(null),o=vt(e,i),[s,a]=b.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=MG(x,v.getBoundingClientRect()),S=DG(x,w),C=$G(g.getBoundingClientRect()),E=FG([...S,...C]);a(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),b.useEffect(()=>{if(s){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),S=!LG(x,s);w?h():S&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,u,h]),c.jsx(KL,{...t,ref:o})}),[IG,kG]=Nx(qL,{isInside:!1}),OG=bW("TooltipContent"),KL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=jx(Ku,n),u=mT(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(YN,d),()=>document.removeEventListener(YN,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(BL,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(OG,{children:r}),c.jsx(IG,{scope:n,isInside:!0,children:c.jsx(VW,{id:l.contentId,role:"tooltip",children:i||r})})]})})});GL.displayName=Ku;var YL="TooltipArrow",RG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mT(n);return kG(YL,n).isInside?null:c.jsx(UL,{...i,...r,ref:e})});RG.displayName=YL;function MG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function DG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $G(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function LG(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,u=e[s].x,d=e[s].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function FG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),VG(e)}function VG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var BG=HL,XL=GL;const UG=BG,zG=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(XL,{ref:r,sideOffset:e,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));zG.displayName=XL.displayName;const $g=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],QL=b.createContext(void 0);function WG({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=b.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&$g.find(u=>u.id===a)||$g[0]});b.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),b.useEffect(()=>{const a=document.documentElement,l=r.primary,u=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?u:l),a.style.setProperty("--sidebar-ring",e==="dark"?u:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return c.jsx(QL.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function HG(){const t=b.useContext(QL);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const qG=()=>{};var XN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new KG;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YG=function(t){const e=JL(t);return ZL.encodeByteArray(e,!0)},Ny=function(t){return YG(t).replace(/\./g,"")},e4=function(t){try{return ZL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=()=>XG().__FIREBASE_DEFAULTS__,JG=()=>{if(typeof process>"u"||typeof XN>"u")return;const t=XN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&e4(t[1]);return e&&JSON.parse(e)},Ix=()=>{try{return qG()||QG()||JG()||ZG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},t4=t=>{var e,n;return(n=(e=Ix())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eK=t=>{const e=t4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},n4=()=>{var t;return(t=Ix())==null?void 0:t.config},r4=t=>{var e;return(e=Ix())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ny(JSON.stringify(n)),Ny(JSON.stringify(s)),""].join(".")}const eh={};function rK(){const t={prod:[],emulator:[]};for(const e of Object.keys(eh))eh[e]?t.emulator.push(e):t.prod.push(e);return t}function iK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QN=!1;function o4(t,e){if(typeof window>"u"||typeof document>"u"||!Rd(window.location.host)||eh[t]===e||eh[t]||QN)return;eh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=rK().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{QN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=iK(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(v,g);const C=u();l(w,x),S.append(w,y,v,C),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function sK(){var e;const t=(e=Ix())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uK(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dK(){return!sK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fK(){try{return typeof indexedDB=="object"}catch{return!1}}function hK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK="FirebaseError";class ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pK,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qp.prototype.create)}}class qp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ua(i,a,r)}}function mK(t,e){return t.replace(gK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gK=/\{\$([^}]+)}/g;function yK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(JN(o)&&JN(s)){if(!uc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vK(t,e){const n=new xK(t,e);return n.subscribe.bind(n)}class xK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$b),i.error===void 0&&(i.error=$b),i.complete===void 0&&(i.complete=$b);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $b(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_K(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SK(t){return t===Il?void 0:t}function _K(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(St||(St={}));const TK={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},CK=St.INFO,PK={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},AK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gT{constructor(e){this.name=e,this._logLevel=CK,this._logHandler=AK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const NK=(t,e)=>e.some(n=>t instanceof n);let ZN,ej;function jK(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IK(){return ej||(ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s4=new WeakMap,V1=new WeakMap,a4=new WeakMap,Lb=new WeakMap,yT=new WeakMap;function kK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ya(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&s4.set(n,t)}).catch(()=>{}),yT.set(e,t),e}function OK(t){if(V1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});V1.set(t,e)}let B1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RK(t){B1=t(B1)}function MK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fb(this),e,...n);return a4.set(r,e.sort?e.sort():[e]),Ya(r)}:IK().includes(t)?function(...e){return t.apply(Fb(this),e),Ya(s4.get(this))}:function(...e){return Ya(t.apply(Fb(this),e))}}function DK(t){return typeof t=="function"?MK(t):(t instanceof IDBTransaction&&OK(t),NK(t,jK())?new Proxy(t,B1):t)}function Ya(t){if(t instanceof IDBRequest)return kK(t);if(Lb.has(t))return Lb.get(t);const e=DK(t);return e!==t&&(Lb.set(t,e),yT.set(e,t)),e}const Fb=t=>yT.get(t);function $K(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ya(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ya(s.result),l.oldVersion,l.newVersion,Ya(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LK=["get","getKey","getAll","getAllKeys","count"],FK=["put","add","delete","clear"],Vb=new Map;function tj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vb.get(e))return Vb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vb.set(e,o),o}RK(t=>({...t,get:(e,n,r)=>tj(e,n)||t.get(e,n,r),has:(e,n)=>!!tj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U1="@firebase/app",nj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new gT("@firebase/app"),UK="@firebase/app-compat",zK="@firebase/analytics-compat",WK="@firebase/analytics",HK="@firebase/app-check-compat",qK="@firebase/app-check",GK="@firebase/auth",KK="@firebase/auth-compat",YK="@firebase/database",XK="@firebase/data-connect",QK="@firebase/database-compat",JK="@firebase/functions",ZK="@firebase/functions-compat",eY="@firebase/installations",tY="@firebase/installations-compat",nY="@firebase/messaging",rY="@firebase/messaging-compat",iY="@firebase/performance",oY="@firebase/performance-compat",sY="@firebase/remote-config",aY="@firebase/remote-config-compat",lY="@firebase/storage",cY="@firebase/storage-compat",uY="@firebase/firestore",dY="@firebase/ai",fY="@firebase/firestore-compat",hY="firebase",pY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="[DEFAULT]",mY={[U1]:"fire-core",[UK]:"fire-core-compat",[WK]:"fire-analytics",[zK]:"fire-analytics-compat",[qK]:"fire-app-check",[HK]:"fire-app-check-compat",[GK]:"fire-auth",[KK]:"fire-auth-compat",[YK]:"fire-rtdb",[XK]:"fire-data-connect",[QK]:"fire-rtdb-compat",[JK]:"fire-fn",[ZK]:"fire-fn-compat",[eY]:"fire-iid",[tY]:"fire-iid-compat",[nY]:"fire-fcm",[rY]:"fire-fcm-compat",[iY]:"fire-perf",[oY]:"fire-perf-compat",[sY]:"fire-rc",[aY]:"fire-rc-compat",[lY]:"fire-gcs",[cY]:"fire-gcs-compat",[uY]:"fire-fst",[fY]:"fire-fst-compat",[dY]:"fire-vertex","fire-js":"fire-js",[hY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map,gY=new Map,W1=new Map;function rj(t,e){try{t.container.addComponent(e)}catch(n){ta.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yu(t){const e=t.name;if(W1.has(e))return ta.debug(`There were multiple attempts to register component ${e}.`),!1;W1.set(e,t);for(const n of jy.values())rj(n,t);for(const n of gY.values())rj(n,t);return!0}function vT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Co(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new qp("app","Firebase",yY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=pY;function l4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:z1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xa.create("bad-app-name",{appName:String(i)});if(n||(n=n4()),!n)throw Xa.create("no-options");const o=jy.get(i);if(o){if(uc(n,o.options)&&uc(r,o.config))return o;throw Xa.create("duplicate-app",{appName:i})}const s=new EK(i);for(const l of W1.values())s.addComponent(l);const a=new vY(n,r,s);return jy.set(i,a),a}function c4(t=z1){const e=jy.get(t);if(!e&&t===z1&&n4())return l4();if(!e)throw Xa.create("no-app",{appName:t});return e}function Qa(t,e,n){let r=mY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ta.warn(s.join(" "));return}Yu(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="firebase-heartbeat-database",bY=1,Lh="firebase-heartbeat-store";let Bb=null;function u4(){return Bb||(Bb=$K(xY,bY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xa.create("idb-open",{originalErrorMessage:t.message})})),Bb}async function wY(t){try{const n=(await u4()).transaction(Lh),r=await n.objectStore(Lh).get(d4(t));return await n.done,r}catch(e){if(e instanceof ua)ta.warn(e.message);else{const n=Xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ta.warn(n.message)}}}async function ij(t,e){try{const r=(await u4()).transaction(Lh,"readwrite");await r.objectStore(Lh).put(e,d4(t)),await r.done}catch(n){if(n instanceof ua)ta.warn(n.message);else{const r=Xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ta.warn(r.message)}}}function d4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=1024,_Y=30;class EY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_Y){const s=PY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ta.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oj(),{heartbeatsToSend:r,unsentEntries:i}=TY(this._heartbeatsCache.heartbeats),o=Ny(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ta.warn(n),""}}}function oj(){return new Date().toISOString().substring(0,10)}function TY(t,e=SY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sj(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fK()?hK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ij(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sj(t){return Ny(JSON.stringify({version:2,heartbeats:t})).length}function PY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(t){Yu(new dc("platform-logger",e=>new VK(e),"PRIVATE")),Yu(new dc("heartbeat",e=>new EY(e),"PRIVATE")),Qa(U1,nj,t),Qa(U1,nj,"esm2020"),Qa("fire-js","")}AY("");var NY="firebase",jY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(NY,jY,"app");function f4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IY=f4,h4=new qp("auth","Firebase",f4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new gT("@firebase/auth");function kY(t,...e){Iy.logLevel<=St.WARN&&Iy.warn(`Auth (${Md}): ${t}`,...e)}function Lg(t,...e){Iy.logLevel<=St.ERROR&&Iy.error(`Auth (${Md}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw bT(t,...e)}function Mo(t,...e){return bT(t,...e)}function xT(t,e,n){const r={...IY(),[e]:n};return new qp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(t,"argument-error"),xT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h4.create(t,...e)}function at(t,e,...n){if(!t)throw bT(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function na(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RY(){return aj()==="http:"||aj()==="https:"}function aj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RY()||lK()||"connection"in navigator)?navigator.onLine:!0}function DY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.shortDelay=e,this.longDelay=n,na(n>e,"Short delay should be less than long delay!"),this.isMobile=oK()||cK()}get(){return MY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FY=new Kp(3e4,6e4);function ST(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dd(t,e,n,r,i={}){return m4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Gp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return aK()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rd(t.emulatorConfig.host)&&(u.credentials="include"),p4.fetch()(await g4(t,t.config.apiHost,n,a),u)})}async function m4(t,e,n){t._canInitEmulator=!1;const r={...$Y,...e};try{const i=new BY(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Hm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hm(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xT(t,d,u);ys(t,d)}}catch(i){if(i instanceof ua)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function VY(t,e,n,r,i={}){const o=await Dd(t,e,n,r,i);return"mfaPendingCredential"in o&&ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function g4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?wT(t.config,i):`${t.config.apiScheme}://${i}`;return LY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class BY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mo(this.auth,"network-request-failed")),FY.get())})}}function Hm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,e){return Dd(t,"POST","/v1/accounts:delete",e)}async function ky(t,e){return Dd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zY(t,e=!1){const n=eo(t),r=await n.getIdToken(e),i=_T(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:th(Ub(i.auth_time)),issuedAtTime:th(Ub(i.iat)),expirationTime:th(Ub(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ub(t){return Number(t)*1e3}function _T(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=e4(n);return i?JSON.parse(i):(Lg("Failed to decode base64 JWT payload"),null)}catch(i){return Lg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lj(t){const e=_T(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ua&&WY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Fh(t,ky(e,{idToken:n}));at(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?y4(i.providerUserInfo):[],s=GY(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new q1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function qY(t){const e=eo(t);await Oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY(t,e){const n=await m4(t,{},async()=>{const r=Gp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await g4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Rd(t.emulatorConfig.host)&&(l.credentials="include"),p4.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YY(t,e){return Dd(t,"POST","/v2/accounts:revokeToken",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=lj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await KY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new vu;return r&&(at(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(at(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vu,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ao{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new HY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new q1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zY(this,e)}reload(){return qY(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Co(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await Fh(this,UY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;at(f&&g,e,"internal-error");const v=vu.fromJSON(this.name,g);at(typeof f=="string",e,"internal-error"),Sa(r,e.name),Sa(i,e.name),at(typeof h=="boolean",e,"internal-error"),at(typeof m=="boolean",e,"internal-error"),Sa(o,e.name),Sa(s,e.name),Sa(a,e.name),Sa(l,e.name),Sa(u,e.name),Sa(d,e.name);const x=new Ao({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:v,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new vu;i.updateFromServerResponse(n);const o=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?y4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new vu;a.updateFromIdToken(r);const l=new Ao({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new q1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Map;function Bs(t){na(t instanceof Function,"Expected a class definition");let e=cj.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v4.type="NONE";const uj=v4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ky(this.auth,{idToken:e}).catch(()=>{});return n?Ao._fromGetAccountInfoResponse(this.auth,n,e):null}return Ao._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Bs(uj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Bs(uj);const s=Fg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await ky(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ao._fromGetAccountInfoResponse(e,h,d)}else f=Ao._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new xu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new xu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E4(e))return"Blackberry";if(T4(e))return"Webos";if(b4(e))return"Safari";if((e.includes("chrome/")||w4(e))&&!e.includes("edge/"))return"Chrome";if(_4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x4(t=qr()){return/firefox\//i.test(t)}function b4(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w4(t=qr()){return/crios\//i.test(t)}function S4(t=qr()){return/iemobile/i.test(t)}function _4(t=qr()){return/android/i.test(t)}function E4(t=qr()){return/blackberry/i.test(t)}function T4(t=qr()){return/webos/i.test(t)}function ET(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XY(t=qr()){var e;return ET(t)&&!!((e=window.navigator)!=null&&e.standalone)}function QY(){return uK()&&document.documentMode===10}function C4(t=qr()){return ET(t)||_4(t)||T4(t)||E4(t)||/windows phone/i.test(t)||S4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e=[]){let n;switch(t){case"Browser":n=dj(qr());break;case"Worker":n=`${dj(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Md}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e={}){return Dd(t,"GET","/v2/passwordPolicy",ST(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=6;class tX{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fj(this),this.idTokenSubscription=new fj(this),this.beforeStateQueue=new JY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ky(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Co(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Co(this.app))return Promise.reject(Jl(this));const n=e?eo(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Co(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Co(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZY(this),n=new tX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Co(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kx(t){return eo(t)}class fj{constructor(e){this.auth=e,this.observer=null,this.addObserver=vK(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rX(t){TT=t}function iX(t){return TT.loadJS(t)}function oX(){return TT.gapiScript}function sX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t,e){const n=vT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function lX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cX(t,e,n){const r=kx(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=A4(e),{host:s,port:a}=uX(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(uc(u,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Rd(s)?(i4(`${o}//${s}${l}`),o4("Auth",!0)):dX()}function A4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uX(t){const e=A4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hj(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hj(s)}}}function hj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e){return VY(t,"POST","/v1/accounts:signInWithIdp",ST(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX="http://localhost";class fc extends N4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new fc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bu(e,n)}buildRequest(){const e={requestUri:fX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Yp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Yp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Yp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Yp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ao._fromIdTokenResponse(e,r,i),s=pj(r);return new Xu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pj(r);return new Xu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends ua{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ry.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ry(e,n,r,i)}}function j4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,o,e,r):o})}async function hX(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pX(t,e,n=!1){const{auth:r}=t;if(Co(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const o=await Fh(t,j4(r,i,e,t),n);at(o.idToken,r,"internal-error");const s=_T(o.idToken);at(s,r,"internal-error");const{sub:a}=s;return at(t.uid===a,r,"user-mismatch"),Xu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mX(t,e,n=!1){if(Co(t.app))return Promise.reject(Jl(t));const r="signIn",i=await j4(t,r,e),o=await Xu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function gX(t,e,n,r){return eo(t).onIdTokenChanged(e,n,r)}function yX(t,e,n){return eo(t).beforeAuthStateChanged(e,n)}function vX(t,e,n,r){return eo(t).onAuthStateChanged(e,n,r)}function xX(t){return eo(t).signOut()}const My="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(My,"1"),this.storage.removeItem(My),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=1e3,wX=10;class k4 extends I4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);QY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k4.type="LOCAL";const SX=k4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends I4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O4.type="SESSION";const R4=O4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ox(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await _X(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ox.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=PT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function TX(t){cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function CX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function AX(){return M4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firebaseLocalStorageDb",NX=1,Dy="firebaseLocalStorage",$4="fbase_key";class Xp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rx(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function jX(){const t=indexedDB.deleteDatabase(D4);return new Xp(t).toPromise()}function G1(){const t=indexedDB.open(D4,NX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:$4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await jX(),e(await G1()))})})}async function mj(t,e,n){const r=Rx(t,!0).put({[$4]:e,value:n});return new Xp(r).toPromise()}async function IX(t,e){const n=Rx(t,!1).get(e),r=await new Xp(n).toPromise();return r===void 0?null:r.value}function gj(t,e){const n=Rx(t,!0).delete(e);return new Xp(n).toPromise()}const kX=800,OX=3;class L4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ox._getInstance(AX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await CX(),!this.activeServiceWorker)return;this.sender=new EX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G1();return await mj(e,My,"1"),await gj(e,My),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Rx(i,!1).getAll();return new Xp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L4.type="LOCAL";const RX=L4;new Kp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e){return e?Bs(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends N4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MX(t){return mX(t.auth,new AT(t),t.bypassAuthState)}function DX(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),pX(n,new AT(t),t.bypassAuthState)}async function $X(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),hX(n,new AT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MX;case"linkViaPopup":case"linkViaRedirect":return $X;case"reauthViaPopup":case"reauthViaRedirect":return DX;default:ys(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=new Kp(2e3,1e4);async function B4(t,e,n){if(Co(t.app))return Promise.reject(Mo(t,"operation-not-supported-in-this-environment"));const r=kx(t);OY(t,e,CT);const i=F4(r,n);return new Vl(r,"signInViaPopup",e,i).executeNotNull()}class Vl extends V4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=PT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LX.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX="pendingRedirect",Vg=new Map;class VX extends V4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await BX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BX(t,e){const n=WX(e),r=zX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UX(t,e){Vg.set(t._key(),e)}function zX(t){return Bs(t._redirectPersistence)}function WX(t){return Fg(FX,t.config.apiKey,t.name)}async function HX(t,e,n=!1){if(Co(t.app))return Promise.reject(Jl(t));const r=kx(t),i=F4(r,e),s=await new VX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=10*60*1e3;class GX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qX&&this.cachedEventUids.clear(),this.cachedEventUids.has(yj(e))}saveEventToCache(e){this.cachedEventUids.add(yj(e)),this.lastProcessedEventTime=Date.now()}}function yj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e={}){return Dd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QX=/^https?/;async function JX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YX(t);for(const n of e)try{if(ZX(n))return}catch{}ys(t,"unauthorized-domain")}function ZX(t){const e=H1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!QX.test(n))return!1;if(XX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=new Kp(3e4,6e4);function vj(){const t=cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tQ(t){return new Promise((e,n)=>{var i,o,s;function r(){vj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vj(),n(Mo(t,"network-request-failed"))},timeout:eQ.get()})}if((o=(i=cs().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=cs().gapi)!=null&&s.load)r();else{const a=sX("iframefcb");return cs()[a]=()=>{gapi.load?r():n(Mo(t,"network-request-failed"))},iX(`${oX()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bg=null,e})}let Bg=null;function nQ(t){return Bg=Bg||tQ(t),Bg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new Kp(5e3,15e3),iQ="__/auth/iframe",oQ="emulator/auth/iframe",sQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lQ(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wT(e,oQ):`https://${t.config.authDomain}/${iQ}`,r={apiKey:e.apiKey,appName:t.name,v:Md},i=aQ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gp(r).slice(1)}`}async function cQ(t){const e=await nQ(t),n=cs().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:lQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sQ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Mo(t,"network-request-failed"),a=cs().setTimeout(()=>{o(s)},rQ.get());function l(){cs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dQ=500,fQ=600,hQ="_blank",pQ="http://localhost";class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mQ(t,e,n,r=dQ,i=fQ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...uQ,width:r.toString(),height:i.toString(),top:o,left:s},u=qr().toLowerCase();n&&(a=w4(u)?hQ:n),x4(u)&&(e=e||pQ,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(XY(u)&&a!=="_self")return gQ(e||"",a),new xj(null);const f=window.open(e||"",a,d);at(f,t,"popup-blocked");try{f.focus()}catch{}return new xj(f)}function gQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="__/auth/handler",vQ="emulator/auth/handler",xQ=encodeURIComponent("fac");async function bj(t,e,n,r,i,o){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Md,eventId:i};if(e instanceof CT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Yp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${xQ}=${encodeURIComponent(l)}`:"";return`${bQ(t)}?${Gp(a).slice(1)}${u}`}function bQ({config:t}){return t.emulator?wT(t,vQ):`https://${t.authDomain}/${yQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="webStorageSupport";class wQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R4,this._completeRedirectFn=HX,this._overrideRedirectResult=UX}async _openPopup(e,n,r,i){var s;na((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bj(e,n,r,H1(),i);return mQ(e,o,PT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await bj(e,n,r,H1(),i);return TX(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(na(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cQ(e),r=new GX(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zb,{type:zb},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[zb];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C4()||b4()||ET()}}const SQ=wQ;var wj="@firebase/auth",Sj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TQ(t){Yu(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;at(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P4(t)},u=new nX(r,i,o,l);return lX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new dc("auth-internal",e=>{const n=kx(e.getProvider("auth").getImmediate());return(r=>new _Q(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(wj,Sj,EQ(t)),Qa(wj,Sj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=5*60,PQ=r4("authIdTokenMaxAge")||CQ;let _j=null;const AQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PQ)return;const i=n==null?void 0:n.token;_j!==i&&(_j=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NQ(t=c4()){const e=vT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aX(t,{popupRedirectResolver:SQ,persistence:[RX,SX,R4]}),r=r4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=AQ(o.toString());yX(n,s,()=>s(n.currentUser)),gX(n,a=>s(a))}}const i=t4("auth");return i&&cX(n,`http://${i}`),n}function jQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Mo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TQ("Browser");var Ej=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,z4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(k,j,R){for(var O=Array(arguments.length-2),L=2;L<arguments.length;L++)O[L-2]=arguments[L];return T.prototype[j].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const k=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)k[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;j<16;++j)k[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],j=_.g[2];let R=_.g[3],O;O=T+(R^N&(j^R))+k[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[1]+3905402710&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[2]+606105819&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[3]+3250441966&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[5]+1200080426&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[6]+2821735955&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[7]+4249261313&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[9]+2336552879&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[10]+4294925233&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[11]+2304563134&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(R^N&(j^R))+k[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=R+(j^T&(N^j))+k[13]+4254626195&4294967295,R=T+(O<<12&4294967295|O>>>20),O=j+(N^R&(T^N))+k[14]+2792965006&4294967295,j=R+(O<<17&4294967295|O>>>15),O=N+(T^j&(R^T))+k[15]+1236535329&4294967295,N=j+(O<<22&4294967295|O>>>10),O=T+(j^R&(N^j))+k[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[6]+3225465664&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[11]+643717713&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[0]+3921069994&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[10]+38016083&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[15]+3634488961&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[4]+3889429448&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[14]+3275163606&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[3]+4107603335&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[8]+1163531501&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(j^R&(N^j))+k[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=R+(N^j&(T^N))+k[2]+4243563512&4294967295,R=T+(O<<9&4294967295|O>>>23),O=j+(T^N&(R^T))+k[7]+1735328473&4294967295,j=R+(O<<14&4294967295|O>>>18),O=N+(R^T&(j^R))+k[12]+2368359562&4294967295,N=j+(O<<20&4294967295|O>>>12),O=T+(N^j^R)+k[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[8]+2272392833&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[11]+1839030562&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[14]+4259657740&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[4]+1272893353&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[7]+4139469664&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[10]+3200236656&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[0]+3936430074&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[3]+3572445317&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[6]+76029189&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(N^j^R)+k[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=R+(T^N^j)+k[12]+3873151461&4294967295,R=T+(O<<11&4294967295|O>>>21),O=j+(R^T^N)+k[15]+530742520&4294967295,j=R+(O<<16&4294967295|O>>>16),O=N+(j^R^T)+k[2]+3299628645&4294967295,N=j+(O<<23&4294967295|O>>>9),O=T+(j^(N|~R))+k[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[7]+1126891415&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[14]+2878612391&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[5]+4237533241&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[3]+2399980690&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[10]+4293915773&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[1]+2240044497&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[15]+4264355552&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[6]+2734768916&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[13]+1309151649&4294967295,N=j+(O<<21&4294967295|O>>>11),O=T+(j^(N|~R))+k[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=R+(N^(T|~j))+k[11]+3174756917&4294967295,R=T+(O<<10&4294967295|O>>>22),O=j+(T^(R|~N))+k[2]+718787259&4294967295,j=R+(O<<15&4294967295|O>>>17),O=N+(R^(j|~T))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,k=this.C;let j=this.h,R=0;for(;R<T;){if(j==0)for(;R<=N;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<T;)if(k[j++]=_.charCodeAt(R++),j==this.blockSize){i(this,k),j=0;break}}else for(;R<T;)if(k[j++]=_[R++],j==this.blockSize){i(this,k),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)_[T++]=this.g[N]>>>k&255;return _};function o(_,T){var N=a;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let k=!0;for(let j=_.length-1;j>=0;j--){const R=_[j]|0;k&&R==T||(N[j]=R,k=!1)}this.g=N}var a={};function l(_){return-128<=_&&_<128?o(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(u(-_));const T=[];let N=1;for(let k=0;_>=N;k++)T[k]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(T,8));let k=f;for(let R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R);const O=parseInt(_.substring(R,R+j),T);j<8?(j=u(Math.pow(T,j)),k=k.j(j).add(u(O))):(k=k.j(N),k=k.add(u(O)))}return k}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);_+=(k>=0?k:4294967296+k)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(g(this))return"-"+v(this).toString(_);const T=u(Math.pow(_,6));var N=this;let k="";for(;;){const j=C(N,T).g;N=x(N,j.j(T));let R=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=j,y(N))return R+k;for(;R.length<6;)R="0"+R;k=R+k}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:y(_)?0:1};function v(_){const T=_.g.length,N=[];for(let k=0;k<T;k++)N[k]=~_.g[k];return new s(N,~_.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let k=0;for(let j=0;j<=T;j++){let R=k+(this.i(j)&65535)+(_.i(j)&65535),O=(R>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);k=O>>>16,R&=65535,O&=65535,N[j]=O<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(v(T))}t.j=function(_){if(y(this)||y(_))return f;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(this.l(m)<0&&_.l(m)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var k=0;k<2*T;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<_.g.length;j++){const R=this.i(k)>>>16,O=this.i(k)&65535,L=_.i(j)>>>16,B=_.i(j)&65535;N[2*k+2*j]+=O*B,w(N,2*k+2*j),N[2*k+2*j+1]+=R*B,w(N,2*k+2*j+1),N[2*k+2*j+1]+=O*L,w(N,2*k+2*j+1),N[2*k+2*j+2]+=R*L,w(N,2*k+2*j+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function C(_,T){if(y(T))throw Error("division by zero");if(y(_))return new S(f,f);if(g(_))return T=C(v(_),T),new S(v(T.g),v(T.h));if(g(T))return T=C(_,v(T)),new S(v(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,k=T;k.l(_)<=0;)N=E(N),k=E(k);var j=A(N,1),R=A(k,1);for(k=A(k,2),N=A(N,2);!y(k);){var O=R.add(k);O.l(_)<=0&&(j=j.add(N),R=O),k=A(k,1),N=A(N,1)}return T=x(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),R=u(N),O=R.j(T);g(O)||O.l(_)>0;)N-=k,R=u(N),O=R.j(T);y(R)&&(R=h),j=j.add(R),_=x(_,O)}return new S(j,_)}t.B=function(_){return C(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)&_.i(k);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)|_.i(k);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let k=0;k<T;k++)N[k]=this.i(k)^_.i(k);return new s(N,this.h^_.h)};function E(_){const T=_.g.length+1,N=[];for(let k=0;k<T;k++)N[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(N,_.h)}function A(_,T){const N=T>>5;T%=32;const k=_.g.length-N,j=[];for(let R=0;R<k;R++)j[R]=T>0?_.i(R+N)>>>T|_.i(R+N+1)<<32-T:_.i(R+N);return new s(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z4=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ja=s}).apply(typeof Ej<"u"?Ej:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W4,Df,H4,Ug,K1,q4,G4,K4;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var P=0;P<p.length;++P){var I=p[P];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(p,P){if(P)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],D=I[p],P=P(D),P!=D&&P!=null&&e(I,p,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(P){var I=[],D;for(D in P)Object.prototype.hasOwnProperty.call(P,D)&&I.push([D,P[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function l(p,P,I){return p.call.apply(p.bind,arguments)}function u(p,P,I){return u=l,u.apply(null,arguments)}function d(p,P){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,P){function I(){}I.prototype=P.prototype,p.Z=P.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,Y,ee){for(var Ce=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Ce[gt-2]=arguments[gt];return P.prototype[Y].apply(D,Ce)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const P=p.length;if(P>0){const I=Array(P);for(let D=0;D<P;D++)I[D]=p[D];return I}return[]}function y(p,P){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var I=typeof Y;if(I=I!="object"?I:Y?Array.isArray(Y)?"array":I:"null",I=="array"||I=="object"&&typeof Y.length=="number"){I=p.length||0;const ee=Y.length||0;p.length=I+ee;for(let Ce=0;Ce<ee;Ce++)p[I+Ce]=Y[Ce]}else p.push(Y)}}class g{constructor(P,I){this.i=P,this.j=I,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function v(p){s.setTimeout(()=>{throw p},0)}function x(){var p=_;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class w{constructor(){this.h=this.g=null}add(P,I){const D=S.get();D.set(P,I),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new C,p=>p.reset());class C{constructor(){this.next=this.g=this.h=null}set(P,I){this.h=P,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let E,A=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(N)}};function N(){for(var p;p=x();){try{p.h.call(p.g)}catch(I){v(I)}var P=S;P.j(p),P.h<100&&(P.h++,p.next=P.g,P.g=p)}A=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};s.addEventListener("test",I,P),s.removeEventListener("test",I,P)}catch{}return p}();function O(p){return/^[\s\xa0]*$/.test(p)}function L(p,P){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,P)}f(L,j),L.prototype.init=function(p,P){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget,P||(I=="mouseover"?P=p.fromElement:I=="mouseout"&&(P=p.toElement)),this.relatedTarget=P,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),V=0;function U(p,P,I,D,Y){this.listener=p,this.proxy=null,this.src=P,this.type=I,this.capture=!!D,this.ha=Y,this.key=++V,this.da=this.fa=!1}function F(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function W(p,P,I){for(const D in p)P.call(I,p[D],D,p)}function ne(p,P){for(const I in p)P.call(void 0,p[I],I,p)}function X(p){const P={};for(const I in p)P[I]=p[I];return P}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(p,P){let I,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(I in D)p[I]=D[I];for(let ee=0;ee<ie.length;ee++)I=ie[ee],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,P,I,D,Y){const ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);const Ce=ot(p,P,D,Y);return Ce>-1?(P=p[Ce],I||(P.fa=!1)):(P=new U(P,this.src,ee,!!D,Y),P.fa=I,p.push(P)),P};function ke(p,P){const I=P.type;if(I in p.g){var D=p.g[I],Y=Array.prototype.indexOf.call(D,P,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(D,Y,1),ee&&(F(P),p.g[I].length==0&&(delete p.g[I],p.h--))}}function ot(p,P,I,D){for(let Y=0;Y<p.length;++Y){const ee=p[Y];if(!ee.da&&ee.listener==P&&ee.capture==!!I&&ee.ha==D)return Y}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),je={};function se(p,P,I,D,Y){if(Array.isArray(P)){for(let ee=0;ee<P.length;ee++)se(p,P[ee],I,D,Y);return null}return I=pt(I),p&&p[B]?p.J(P,I,a(D)?!!D.capture:!!D,Y):pe(p,P,I,!1,D,Y)}function pe(p,P,I,D,Y,ee){if(!P)throw Error("Invalid event type");const Ce=a(Y)?!!Y.capture:!!Y;let gt=Xe(p);if(gt||(p[xe]=gt=new be(p)),I=gt.add(P,I,D,Ce,ee),I.proxy)return I;if(D=le(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)R||(Y=Ce),Y===void 0&&(Y=!1),p.addEventListener(P.toString(),D,Y);else if(p.attachEvent)p.attachEvent(Te(P.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function le(){function p(I){return P.call(p.src,p.listener,I)}const P=Ye;return p}function z(p,P,I,D,Y){if(Array.isArray(P))for(var ee=0;ee<P.length;ee++)z(p,P[ee],I,D,Y);else D=a(D)?!!D.capture:!!D,I=pt(I),p&&p[B]?(p=p.i,ee=String(P).toString(),ee in p.g&&(P=p.g[ee],I=ot(P,I,D,Y),I>-1&&(F(P[I]),Array.prototype.splice.call(P,I,1),P.length==0&&(delete p.g[ee],p.h--)))):p&&(p=Xe(p))&&(P=p.g[P.toString()],p=-1,P&&(p=ot(P,I,D,Y)),(I=p>-1?P[p]:null)&&we(I))}function we(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[B])ke(P.i,p);else{var I=p.type,D=p.proxy;P.removeEventListener?P.removeEventListener(I,D,p.capture):P.detachEvent?P.detachEvent(Te(I),D):P.addListener&&P.removeListener&&P.removeListener(D),(I=Xe(P))?(ke(I,p),I.h==0&&(I.src=null,P[xe]=null)):F(p)}}}function Te(p){return p in je?je[p]:je[p]="on"+p}function Ye(p,P){if(p.da)p=!0;else{P=new L(P,this);const I=p.listener,D=p.ha||p.src;p.fa&&we(p),p=I.call(D,P)}return p}function Xe(p){return p=p[xe],p instanceof be?p:null}var st="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(p){return typeof p=="function"?p:(p[st]||(p[st]=function(P){return p.handleEvent(P)}),p[st])}function _e(){k.call(this),this.i=new be(this),this.M=this,this.G=null}f(_e,k),_e.prototype[B]=!0,_e.prototype.removeEventListener=function(p,P,I,D){z(this,p,P,I,D)};function Ae(p,P){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=P.type||P,typeof P=="string")P=new j(P,p);else if(P instanceof j)P.target=P.target||p;else{var Y=P;P=new j(D,p),ce(P,Y)}Y=!0;let ee,Ce;if(I)for(Ce=I.length-1;Ce>=0;Ce--)ee=P.g=I[Ce],Y=Me(ee,D,!0,P)&&Y;if(ee=P.g=p,Y=Me(ee,D,!0,P)&&Y,Y=Me(ee,D,!1,P)&&Y,I)for(Ce=0;Ce<I.length;Ce++)ee=P.g=I[Ce],Y=Me(ee,D,!1,P)&&Y}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var p=this.i;for(const P in p.g){const I=p.g[P];for(let D=0;D<I.length;D++)F(I[D]);delete p.g[P],p.h--}}this.G=null},_e.prototype.J=function(p,P,I,D){return this.i.add(String(p),P,!1,I,D)},_e.prototype.K=function(p,P,I,D){return this.i.add(String(p),P,!0,I,D)};function Me(p,P,I,D){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();let Y=!0;for(let ee=0;ee<P.length;++ee){const Ce=P[ee];if(Ce&&!Ce.da&&Ce.capture==I){const gt=Ce.listener,Hn=Ce.ha||Ce.src;Ce.fa&&ke(p.i,Ce),Y=gt.call(Hn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Ct(p,P){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:s.setTimeout(p,P||0)}function Ut(p){p.g=Ct(()=>{p.g=null,p.i&&(p.i=!1,Ut(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class rn extends k{constructor(P,I){super(),this.m=P,this.l=I,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(p){k.call(this),this.h=p,this.g={}}f(pn,k);var zn=[];function Nr(p){W(p.g,function(P,I){this.g.hasOwnProperty(I)&&we(P)},p),p.g={}}pn.prototype.N=function(){pn.Z.N.call(this),Nr(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=s.JSON.stringify,gn=s.JSON.parse,Qt=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function yn(){}function Lt(){}var Ge={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gr(){j.call(this,"d")}f(Gr,j);function mr(){j.call(this,"c")}f(mr,j);var jr={},Ir=null;function zt(){return Ir=Ir||new _e}jr.Ia="serverreachability";function on(p){j.call(this,jr.Ia,p)}f(on,j);function gr(p){const P=zt();Ae(P,new on(P))}jr.STAT_EVENT="statevent";function Dn(p,P){j.call(this,jr.STAT_EVENT,p),this.stat=P}f(Dn,j);function Ht(p){const P=zt();Ae(P,new Dn(P,p))}jr.Ja="timingevent";function tr(p,P){j.call(this,jr.Ja,p),this.size=P}f(tr,j);function $n(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},P)}function An(){this.g=!0}An.prototype.ua=function(){this.g=!1};function so(p,P,I,D,Y,ee){p.info(function(){if(p.g)if(ee){var Ce="",gt=ee.split("&");for(let Kt=0;Kt<gt.length;Kt++){var Hn=gt[Kt].split("=");if(Hn.length>1){const ir=Hn[0];Hn=Hn[1];const qo=ir.split("_");Ce=qo.length>=2&&qo[1]=="type"?Ce+(ir+"="+Hn+"&"):Ce+(ir+"=redacted&")}}}else Ce=null;else Ce=ee;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+P+`
`+I+`
`+Ce})}function hi(p,P,I,D,Y,ee,Ce){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+P+`
`+I+`
`+ee+" "+Ce})}function pi(p,P,I,D){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+mi(p,I)+(D?" "+D:"")})}function zo(p,P){p.info(function(){return"TIMEOUT: "+P})}An.prototype.info=function(){};function mi(p,P){if(!p.g)return P;if(!P)return null;try{const ee=JSON.parse(P);if(ee){for(p=0;p<ee.length;p++)if(Array.isArray(ee[p])){var I=ee[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let Ce=1;Ce<D.length;Ce++)D[Ce]=""}}}}return mn(ee)}catch{return P}}var ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Es;function kr(){}f(kr,yn),kr.prototype.g=function(){return new XMLHttpRequest},Es=new kr;function gi(p){return encodeURIComponent(String(p))}function Ts(p){var P=1;p=p.split(":");const I=[];for(;P>0&&p.length;)I.push(p.shift()),P--;return p.length&&I.push(p.join(":")),I}function Kr(p,P,I,D){this.j=p,this.i=P,this.l=I,this.S=D||1,this.V=new pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ma}function ma(){this.i=null,this.g="",this.h=!1}var Wo={},yi={};function H(p,P,I){p.M=1,p.A=te(G(P)),p.u=I,p.R=!0,re(p,null)}function re(p,P){p.F=Date.now(),tt(p),p.B=G(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),sf(I.i,"t",D),p.C=0,I=p.j.L,p.h=new ma,p.g=tA(p.j,I?P:null,!p.u),p.P>0&&(p.O=new rn(u(p.Y,p,p.g),p.P)),P=p.V,I=p.g,D=p.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(zn[0]=Y.toString()),Y=zn);for(let ee=0;ee<Y.length;ee++){const Ce=se(I,Y[ee],D||P.handleEvent,!1,P.h||P);if(!Ce)break;P.g[Ce.key]=Ce}P=p.J?X(p.J):{},p.u?(p.v||(p.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,P)):(p.v="GET",p.g.ea(p.B,p.v,null,P)),gr(),so(p.i,p.v,p.B,p.l,p.S,p.u)}Kr.prototype.ba=function(p){p=p.target;const P=this.O;P&&Ps(p)==3?P.j():this.Y(p)},Kr.prototype.Y=function(p){try{if(p==this.g)e:{const gt=Ps(this.g),Hn=this.g.ya(),Kt=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||af(this.g)))){this.K||gt!=4||Hn==7||(Hn==8||Kt<=0?gr(3):gr(2)),K(this);var P=this.g.ca();this.X=P;var I=Pe(this);if(this.o=P==200,hi(this.i,this.v,this.B,this.l,this.S,gt,P),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var ee=D;break t}}ee=null}if(p=ee)pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Q(this,p);else{this.o=!1,this.m=3,Ht(12),me(this),Ne(this);break e}}if(this.R){p=!0;let ir;for(;!this.K&&this.C<I.length;)if(ir=We(this,I),ir==yi){gt==4&&(this.m=4,Ht(14),p=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Wo){this.m=4,Ht(15),pi(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else pi(this.i,this.l,ir,null),Q(this,ir);if(De(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||I.length!=0||this.h.h||(this.m=1,Ht(16),p=!1),this.o=this.o&&p,!p)pi(this.i,this.l,I,"[Invalid Chunked Response]"),me(this),Ne(this);else if(I.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Z0(Ce),Ce.P=!0,Ht(11))}}else pi(this.i,this.l,I,null),Q(this,I);gt==4&&me(this),this.o&&!this.K&&(gt==4?QP(this.j,this):(this.o=!1,tt(this)))}else _l(this.g),P==400&&I.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),me(this),Ne(this)}}}catch{}finally{}};function Pe(p){if(!De(p))return p.g.la();const P=af(p.g);if(P==="")return"";let I="";const D=P.length,Y=Ps(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return me(p),Ne(p),"";p.h.i=new s.TextDecoder}for(let ee=0;ee<D;ee++)p.h.h=!0,I+=p.h.i.decode(P[ee],{stream:!(Y&&ee==D-1)});return P.length=0,p.h.g+=I,p.C=0,p.h.g}function De(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function We(p,P){var I=p.C,D=P.indexOf(`
`,I);return D==-1?yi:(I=Number(P.substring(I,D)),isNaN(I)?Wo:(D+=1,D+I>P.length?yi:(P=P.slice(D,D+I),p.C=D+I,P)))}Kr.prototype.cancel=function(){this.K=!0,me(this)};function tt(p){p.T=Date.now()+p.H,Ot(p,p.H)}function Ot(p,P){if(p.D!=null)throw Error("WatchDog timer not null");p.D=$n(u(p.aa,p),P)}function K(p){p.D&&(s.clearTimeout(p.D),p.D=null)}Kr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(zo(this.i,this.B),this.M!=2&&(gr(),Ht(17)),me(this),this.m=2,Ne(this)):Ot(this,this.T-p)};function Ne(p){p.j.I==0||p.K||QP(p.j,p)}function me(p){K(p);var P=p.O;P&&typeof P.dispose=="function"&&P.dispose(),p.O=null,Nr(p.V),p.g&&(P=p.g,p.g=null,P.abort(),P.dispose())}function Q(p,P){try{var I=p.j;if(I.I!=0&&(I.g==p||Jt(I.h,p))){if(!p.L&&Jt(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(P)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)vm(I),El(I);else break e;J0(I),Ht(18)}}else I.xa=Y[1],0<I.xa-I.K&&Y[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=$n(u(I.Va,I),6e3));Ft(I.h)<=1&&I.ta&&(I.ta=void 0)}else Tl(I,11)}else if((p.L||I.g==p)&&vm(I),!O(P))for(Y=I.Ba.g.parse(P),P=0;P<Y.length;P++){let Kt=Y[P];const ir=Kt[0];if(!(ir<=I.K))if(I.K=ir,Kt=Kt[1],I.I==2)if(Kt[0]=="c"){I.M=Kt[1],I.ba=Kt[2];const qo=Kt[3];qo!=null&&(I.ka=qo,I.j.info("VER="+I.ka));const Cl=Kt[4];Cl!=null&&(I.za=Cl,I.j.info("SVER="+I.za));const ya=Kt[5];ya!=null&&typeof ya=="number"&&ya>0&&(D=1.5*ya,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const va=p.g;if(va){const bm=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bm){var ee=D.h;ee.g||bm.indexOf("spdy")==-1&&bm.indexOf("quic")==-1&&bm.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(qt(ee,ee.h),ee.h=null))}if(D.G){const eb=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;eb&&(D.wa=eb,ae(D.J,D.G,eb))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var Ce=p;if(D.na=eA(D,D.L?D.ba:null,D.W),Ce.L){nr(D.h,Ce);var gt=Ce,Hn=D.O;Hn&&(gt.H=Hn),gt.D&&(K(gt),tt(gt)),D.g=Ce}else YP(D);I.i.length>0&&ym(I)}else Kt[0]!="stop"&&Kt[0]!="close"||Tl(I,7);else I.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Tl(I,7):lf(I):Kt[0]!="noop"&&I.l&&I.l.qa(Kt),I.A=0)}}gr(4)}catch{}}var Be=class{constructor(p,P){this.g=p,this.map=P}};function $e(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ut(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ft(p){return p.h?1:p.g?p.g.size:0}function Jt(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function qt(p,P){p.g?p.g.add(P):p.h=P}function nr(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}$e.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function rr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const I of p.g.values())P=P.concat(I.G);return P}return m(p.i)}var jt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(p,P){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let Y,ee=null;D>=0?(Y=p[I].substring(0,D),ee=p[I].substring(D+1)):Y=p[I],P(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function $(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;p instanceof $?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,Z(this,p.u),this.h=p.h,ue(this,Zt(p.i)),this.m=p.m):p&&(P=String(p).match(jt))?(this.l=!1,J(this,P[1]||"",!0),this.o=ye(P[2]||""),this.g=ye(P[3]||"",!0),Z(this,P[4]),this.h=ye(P[5]||"",!0),ue(this,P[6]||"",!0),this.m=ye(P[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}$.prototype.toString=function(){const p=[];var P=this.j;P&&p.push(Ee(P,Oe,!0),":");var I=this.g;return(I||P=="file")&&(p.push("//"),(P=this.o)&&p.push(Ee(P,Oe,!0),"@"),p.push(gi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Ee(I,I.charAt(0)=="/"?sn:ft,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Ee(I,Li)),p.join("")},$.prototype.resolve=function(p){const P=G(this);let I=!!p.j;I?J(P,p.j):I=!!p.o,I?P.o=p.o:I=!!p.g,I?P.g=p.g:I=p.u!=null;var D=p.h;if(I)Z(P,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=P.h.lastIndexOf("/");Y!=-1&&(D=P.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let Ce=0;Ce<Y.length;){const gt=Y[Ce++];gt=="."?D&&Ce==Y.length&&ee.push(""):gt==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&Ce==Y.length&&ee.push("")):(ee.push(gt),D=!0)}D=ee.join("/")}else D=Y}return I?P.h=D:I=p.i.toString()!=="",I?ue(P,Zt(p.i)):I=!!p.m,I&&(P.m=p.m),P};function G(p){return new $(p)}function J(p,P,I){p.j=I?ye(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function Z(p,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);p.u=P}else p.u=null}function ue(p,P,I){P instanceof vr?(p.i=P,X0(p.i,p.l)):(I||(P=Ee(P,Wn)),p.i=new vr(P,p.l))}function ae(p,P,I){p.i.set(P,I)}function te(p){return ae(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ye(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ee(p,P,I){return typeof p=="string"?(p=encodeURI(p).replace(P,Se),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Se(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Oe=/[#\/\?@]/g,ft=/[#\?:]/g,sn=/[#\?]/g,Wn=/[#\?@]/g,Li=/#/g;function vr(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function vi(p){p.g||(p.g=new Map,p.h=0,p.i&&M(p.i,function(P,I){p.add(decodeURIComponent(P.replace(/\+/g," ")),I)}))}t=vr.prototype,t.add=function(p,P){vi(this),this.i=null,p=ni(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(P),this.h+=1,this};function Cs(p,P){vi(p),P=ni(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function rf(p,P){return vi(p),P=ni(p,P),p.g.has(P)}t.forEach=function(p,P){vi(this),this.g.forEach(function(I,D){I.forEach(function(Y){p.call(P,Y,D,this)},this)},this)};function of(p,P){vi(p);let I=[];if(typeof P=="string")rf(p,P)&&(I=I.concat(p.g.get(ni(p,P))));else for(p=Array.from(p.g.values()),P=0;P<p.length;P++)I=I.concat(p[P]);return I}t.set=function(p,P){return vi(this),this.i=null,p=ni(this,p),rf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},t.get=function(p,P){return p?(p=of(this,p),p.length>0?String(p[0]):P):P};function sf(p,P,I){Cs(p,P),I.length>0&&(p.i=null,p.g.set(ni(p,P),m(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(let D=0;D<P.length;D++){var I=P[D];const Y=gi(I);I=of(this,I);for(let ee=0;ee<I.length;ee++){let Ce=Y;I[ee]!==""&&(Ce+="="+gi(I[ee])),p.push(Ce)}}return this.i=p.join("&")};function Zt(p){const P=new vr;return P.i=p.i,p.g&&(P.g=new Map(p.g),P.h=p.h),P}function ni(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function X0(p,P){P&&!p.j&&(vi(p),p.i=null,p.g.forEach(function(I,D){const Y=D.toLowerCase();D!=Y&&(Cs(this,D),sf(this,Y,I))},p)),p.j=P}function Q0(p,P){const I=new An;if(s.Image){const D=new Image;D.onload=d(lo,I,"TestLoadImage: loaded",!0,P,D),D.onerror=d(lo,I,"TestLoadImage: error",!1,P,D),D.onabort=d(lo,I,"TestLoadImage: abort",!1,P,D),D.ontimeout=d(lo,I,"TestLoadImage: timeout",!1,P,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else P(!1)}function pm(p,P){const I=new An,D=new AbortController,Y=setTimeout(()=>{D.abort(),lo(I,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:D.signal}).then(ee=>{clearTimeout(Y),ee.ok?lo(I,"TestPingServer: ok",!0,P):lo(I,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(Y),lo(I,"TestPingServer: error",!1,P)})}function lo(p,P,I,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(I)}catch{}}function mm(){this.g=new Qt}function Rt(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Rt,yn),Rt.prototype.g=function(){return new bn(this.i,this.h)};function bn(p,P){_e.call(this),this.H=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bn,_e),t=bn.prototype,t.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=P,this.readyState=1,xi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(P.body=p),(this.H||s).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;co(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function co(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?ri(this):xi(this),this.readyState==3&&co(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,ri(this))},t.Na=function(p){this.g&&(this.response=p,ri(this))},t.ga=function(){this.g&&ri(this)};function ri(p){p.readyState=4,p.l=null,p.j=null,p.B=null,xi(p)}t.setRequestHeader=function(p,P){this.A.append(p,P)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var I=P.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=P.next();return p.join(`\r
`)};function xi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function bi(p){let P="";return W(p,function(I,D){P+=D,P+=":",P+=I,P+=`\r
`}),P}function Gt(p,P,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=bi(I),typeof p=="string"?I!=null&&gi(I):ae(p,P,I))}function Qe(p){_e.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Qe,_e);var mt=/^https?$/i,uo=["POST","PUT"];t=Qe.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,P,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Es.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(ee){xr(this,ee);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)I.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())I.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(uo,P,void 0)>=0)||D||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ce]of I)this.g.setRequestHeader(ee,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ee){xr(this,ee)}};function xr(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.o=5,Or(p),ga(p)}function Or(p){p.A||(p.A=!0,Ae(p,"complete"),Ae(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ae(this,"complete"),Ae(this,"abort"),ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),Qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ii(this):this.Xa())},t.Xa=function(){ii(this)};function ii(p){if(p.h&&typeof o<"u"){if(p.v&&Ps(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ae(p,"readystatechange"),Ps(p)==4){p.h=!1;try{const ee=p.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var I;if(!(I=P)){var D;if(D=ee===0){let Ce=String(p.D).match(jt)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),D=!mt.test(Ce?Ce.toLowerCase():"")}I=D}if(I)Ae(p,"complete"),Ae(p,"success");else{p.o=6;try{var Y=Ps(p)>2?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.ca()+"]",Or(p)}}finally{ga(p)}}}}function ga(p,P){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,P||Ae(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ps(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),gn(P)}};function af(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _l(p){const P={};p=(p.g&&Ps(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=Ts(p[D]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=P[Y]||[];P[Y]=ee,ee.push(I)}ne(P,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(p,P,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||P}function gm(p){this.za=0,this.i=[],this.j=new An,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ho("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ho("baseRetryDelayMs",5e3,p),this.Za=Ho("retryDelaySeedMs",1e4,p),this.Ta=Ho("forwardChannelMaxRetries",2,p),this.va=Ho("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new $e(p&&p.concurrentRequestLimit),this.Ba=new mm,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gm.prototype,t.ka=8,t.I=1,t.connect=function(p,P,I,D){Ht(0),this.W=p,this.H=P||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=eA(this,null,this.W),ym(this)};function lf(p){if(qP(p),p.I==3){var P=p.V++,I=G(p.J);if(ae(I,"SID",p.M),ae(I,"RID",P),ae(I,"TYPE","terminate"),cf(p,I),P=new Kr(p,p.j,P),P.M=2,P.A=te(G(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(P.A.toString(),"")}catch{}!I&&s.Image&&(new Image().src=P.A,I=!0),I||(P.g=tA(P.j,null),P.g.ea(P.A)),P.F=Date.now(),tt(P)}ZP(p)}function El(p){p.g&&(Z0(p),p.g.cancel(),p.g=null)}function qP(p){El(p),p.v&&(s.clearTimeout(p.v),p.v=null),vm(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function ym(p){if(!ut(p.h)&&!p.m){p.m=!0;var P=p.Ea;E||T(),A||(E(),A=!0),_.add(P,p),p.D=0}}function M9(p,P){return Ft(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=P.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=$n(u(p.Ea,p,P),JP(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Y=new Kr(this,this.j,p);let ee=this.o;if(this.U&&(ee?(ee=X(ee),ce(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var P=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(P+=D,P>4096){P=I;break e}if(P===4096||I===this.i.length-1){P=I+1;break e}}P=1e3}else P=1e3;P=KP(this,Y,P),I=G(this.J),ae(I,"RID",p),ae(I,"CVER",22),this.G&&ae(I,"X-HTTP-Session-Id",this.G),cf(this,I),ee&&(this.R?P="headers="+gi(bi(ee))+"&"+P:this.u&&Gt(I,this.u,ee)),qt(this.h,Y),this.Ra&&ae(I,"TYPE","init"),this.S?(ae(I,"$req",P),ae(I,"SID","null"),Y.U=!0,H(Y,I,null)):H(Y,I,P),this.I=2}}else this.I==3&&(p?GP(this,p):this.i.length==0||ut(this.h)||GP(this))};function GP(p,P){var I;P?I=P.l:I=p.V++;const D=G(p.J);ae(D,"SID",p.M),ae(D,"RID",I),ae(D,"AID",p.K),cf(p,D),p.u&&p.o&&Gt(D,p.u,p.o),I=new Kr(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),P&&(p.i=P.G.concat(p.i)),P=KP(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),qt(p.h,I),H(I,D,P)}function cf(p,P){p.H&&W(p.H,function(I,D){ae(P,D,I)}),p.l&&W({},function(I,D){ae(P,D,I)})}function KP(p,P,I){I=Math.min(p.i.length,I);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var Y=p.i;let gt=-1;for(;;){const Hn=["count="+I];gt==-1?I>0?(gt=Y[0].g,Hn.push("ofs="+gt)):gt=0:Hn.push("ofs="+gt);let Kt=!0;for(let ir=0;ir<I;ir++){var ee=Y[ir].g;const qo=Y[ir].map;if(ee-=gt,ee<0)gt=Math.max(0,Y[ir].g-100),Kt=!1;else try{ee="req"+ee+"_"||"";try{var Ce=qo instanceof Map?qo:Object.entries(qo);for(const[Cl,ya]of Ce){let va=ya;a(ya)&&(va=mn(ya)),Hn.push(ee+Cl+"="+encodeURIComponent(va))}}catch(Cl){throw Hn.push(ee+"type="+encodeURIComponent("_badmap")),Cl}}catch{D&&D(qo)}}if(Kt){Ce=Hn.join("&");break e}}Ce=void 0}return p=p.i.splice(0,I),P.G=p,Ce}function YP(p){if(!p.g&&!p.v){p.Y=1;var P=p.Da;E||T(),A||(E(),A=!0),_.add(P,p),p.A=0}}function J0(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=$n(u(p.Da,p),JP(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,XP(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=$n(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),El(this),XP(this))};function Z0(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function XP(p){p.g=new Kr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var P=G(p.na);ae(P,"RID","rpc"),ae(P,"SID",p.M),ae(P,"AID",p.K),ae(P,"CI",p.F?"0":"1"),!p.F&&p.ia&&ae(P,"TO",p.ia),ae(P,"TYPE","xmlhttp"),cf(p,P),p.u&&p.o&&Gt(P,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=te(G(P)),I.u=null,I.R=!0,re(I,p)}t.Va=function(){this.C!=null&&(this.C=null,El(this),J0(this),Ht(19))};function vm(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function QP(p,P){var I=null;if(p.g==P){vm(p),Z0(p),p.g=null;var D=2}else if(Jt(p.h,P))I=P.G,nr(p.h,P),D=1;else return;if(p.I!=0){if(P.o)if(D==1){I=P.u?P.u.length:0,P=Date.now()-P.F;var Y=p.D;D=zt(),Ae(D,new tr(D,I)),ym(p)}else YP(p);else if(Y=P.m,Y==3||Y==0&&P.X>0||!(D==1&&M9(p,P)||D==2&&J0(p)))switch(I&&I.length>0&&(P=p.h,P.i=P.i.concat(I)),Y){case 1:Tl(p,5);break;case 4:Tl(p,10);break;case 3:Tl(p,6);break;default:Tl(p,2)}}}function JP(p,P){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*P}function Tl(p,P){if(p.j.info("Error code "+P),P==2){var I=u(p.bb,p),D=p.Ua;const Y=!D;D=new $(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||J(D,"https"),te(D),Y?Q0(D.toString(),I):pm(D.toString(),I)}else Ht(2);p.I=0,p.l&&p.l.pa(P),ZP(p),qP(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function ZP(p){if(p.I=0,p.ja=[],p.l){const P=rr(p.h);(P.length!=0||p.i.length!=0)&&(y(p.ja,P),y(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function eA(p,P,I){var D=I instanceof $?G(I):new $(I);if(D.g!="")P&&(D.g=P+"."+D.g),Z(D,D.u);else{var Y=s.location;D=Y.protocol,P=P?P+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new $(null);D&&J(ee,D),P&&(ee.g=P),Y&&Z(ee,Y),I&&(ee.h=I),D=ee}return I=p.G,P=p.wa,I&&P&&ae(D,I,P),ae(D,"VER",p.ka),cf(p,D),D}function tA(p,P,I){if(P&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Aa&&!p.ma?new Qe(new Rt({ab:I})):new Qe(p.ma),P.Fa(p.L),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nA(){}t=nA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xm(){}xm.prototype.g=function(p,P){return new wi(p,P)};function wi(p,P){_e.call(this),this.g=new gm(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(p?p["X-WebChannel-Client-Profile"]=P.sa:p={"X-WebChannel-Client-Profile":P.sa}),this.g.U=p,(p=P&&P.Qb)&&!O(p)&&(this.g.u=p),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!O(P)&&(this.g.G=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new Oc(this)}f(wi,_e),wi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wi.prototype.close=function(){lf(this.g)},wi.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=mn(p),p=I);P.i.push(new Be(P.Ya++,p)),P.I==3&&ym(P)},wi.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,wi.Z.N.call(this)};function rA(p){Gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const I in P){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}f(rA,Gr);function iA(){mr.call(this),this.status=1}f(iA,mr);function Oc(p){this.g=p}f(Oc,nA),Oc.prototype.ra=function(){Ae(this.g,"a")},Oc.prototype.qa=function(p){Ae(this.g,new rA(p))},Oc.prototype.pa=function(p){Ae(this.g,new iA)},Oc.prototype.oa=function(){Ae(this.g,"b")},xm.prototype.createWebChannel=xm.prototype.g,wi.prototype.send=wi.prototype.o,wi.prototype.open=wi.prototype.m,wi.prototype.close=wi.prototype.close,K4=function(){return new xm},G4=function(){return zt()},q4=jr,K1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Ug=ao,yr.COMPLETE="complete",H4=yr,Lt.EventType=Ge,Ge.OPEN="a",Ge.CLOSE="b",Ge.ERROR="c",Ge.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Df=Lt,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,W4=Qe}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const Tj="@firebase/firestore",Cj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new gT("@firebase/firestore");function Uc(){return hc.logLevel}function Re(t,...e){if(hc.logLevel<=St.DEBUG){const n=e.map(NT);hc.debug(`Firestore (${$d}): ${t}`,...n)}}function ra(t,...e){if(hc.logLevel<=St.ERROR){const n=e.map(NT);hc.error(`Firestore (${$d}): ${t}`,...n)}}function Qu(t,...e){if(hc.logLevel<=St.WARN){const n=e.map(NT);hc.warn(`Firestore (${$d}): ${t}`,...n)}}function NT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Y4(t,r,n)}function Y4(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ra(r),new Error(r)}function $t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Y4(e,i,r)}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class kQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OQ{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Za,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Za)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new X4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class RQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Co(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$Q(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function Y1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Wb(i)===Wb(o)?Et(i,o):Wb(i)?1:-1}return Et(t.length,e.length)}const LQ=55296,FQ=57343;function Wb(t){const e=t.charCodeAt(0);return e>=LQ&&e<=FQ}function Ju(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="__name__";class Xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&it(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Xo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Et(e.length,n.length)}static compareSegments(e,n){const r=Xo.isNumericId(e),i=Xo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xo.extractNumericId(e).compare(Xo.extractNumericId(n)):Y1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ja.fromString(e.substring(4,e.length-2))}}class _n extends Xo{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const VQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Xo{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return VQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Aj}static keyField(){return new _r([Aj])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Je(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Je(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(_n.fromString(e))}static fromName(e){return new et(_n.fromString(e).popFirst(5))}static empty(){return new et(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t,e,n){if(!n)throw new Je(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UQ(t,e,n,r){if(e===!0&&r===!0)throw new Je(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nj(t){if(!et.isDocumentKey(t))throw new Je(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function IT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it(12329,{type:typeof t})}function Vh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IT(t);throw new Je(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qp(t,e){if(!Q4(t))throw new Je(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Je(ge.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=-62135596800,Ij=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ij);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jj)throw new Je(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ij}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qp(e,fn._jsonSchema))return new fn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fn._jsonSchemaVersion="firestore/timestamp/1.0",fn._jsonSchema={type:Bn("string",fn._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new fn(0,0))}static max(){return new ct(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function zQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new al(i,et.empty(),e)}function WQ(t){return new al(t.readTime,t.key,Bh)}class al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new al(ct.min(),et.empty(),Bh)}static max(){return new al(ct.max(),et.empty(),Bh)}}function HQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==qQ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new fe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function KQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=-1;function Dx(t){return t==null}function $y(t){return t===0&&1/t==-1/0}function YQ(t){return typeof t=="number"&&Number.isInteger(t)&&!$y(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="";function XQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kj(e)),e=QQ(t.get(n),e);return kj(e)}function QQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case J4:n+="";break;default:n+=o}}return n}function kj(t){return t+J4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.comparator=e,this.root=n||Sr.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gm(this.root,e,this.comparator,!0)}}class Gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=o??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rj(this.data.getIterator())}getIteratorFrom(e){return new Rj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class Rj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new No([])}unionWith(e){let n=new Zn(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new No(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e3("Invalid base64 string: "+o):o}}(e);return new Ar(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const JQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=JQ.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="server_timestamp",n3="__type__",r3="__previous_value__",i3="__local_write_time__";function OT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[n3])==null?void 0:r.stringValue)===t3}function $x(t){const e=t.mapValue.fields[r3];return OT(e)?$x(e):e}function Uh(t){const e=ll(t.mapValue.fields[i3].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n,r,i,o,s,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ly="(default)";class zh{constructor(e,n){this.projectId=e,this.database=n||Ly}static empty(){return new zh("","")}get isDefaultDatabase(){return this.database===Ly}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="__type__",s3="__max__",Km={mapValue:{fields:{__type__:{stringValue:s3}}}},a3="__vector__",Fy="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OT(t)?4:tJ(t)?9007199254740991:eJ(t)?10:11:it(28295,{value:t})}function vs(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uh(t).isEqual(Uh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ll(i.timestampValue),a=ll(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cl(i.bytesValue).isEqual(cl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return kn(i.geoPointValue.latitude)===kn(o.geoPointValue.latitude)&&kn(i.geoPointValue.longitude)===kn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return kn(i.integerValue)===kn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=kn(i.doubleValue),a=kn(o.doubleValue);return s===a?$y(s)===$y(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Oj(s)!==Oj(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!vs(s[l],a[l])))return!1;return!0}(t,e);default:return it(52216,{left:t})}}function Wh(t,e){return(t.values||[]).find(n=>vs(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=kn(o.integerValue||o.doubleValue),l=kn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Mj(t.timestampValue,e.timestampValue);case 4:return Mj(Uh(t),Uh(e));case 5:return Y1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=cl(o),l=cl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Et(a[u],l[u]);if(d!==0)return d}return Et(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Et(kn(o.latitude),kn(s.latitude));return a!==0?a:Et(kn(o.longitude),kn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,y,g;const a=o.fields||{},l=s.fields||{},u=(h=a[Fy])==null?void 0:h.arrayValue,d=(m=l[Fy])==null?void 0:m.arrayValue,f=Et(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Dj(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Km.mapValue&&s===Km.mapValue)return 0;if(o===Km.mapValue)return 1;if(s===Km.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Y1(l[f],d[f]);if(h!==0)return h;const m=Zu(a[l[f]],u[d[f]]);if(m!==0)return m}return Et(l.length,d.length)}(t.mapValue,e.mapValue);default:throw it(23264,{he:n})}}function Mj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=ll(t),r=ll(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function Dj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Zu(n[i],r[i]);if(o)return o}return Et(n.length,r.length)}function ed(t){return X1(t)}function X1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=X1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${X1(n.fields[s])}`;return i+"}"}(t.mapValue):it(61005,{value:t})}function zg(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$x(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(o,s)=>{i+=o.length+zg(s)}),i}(t.mapValue);default:throw it(13486,{value:t})}}function Q1(t){return!!t&&"integerValue"in t}function RT(t){return!!t&&"arrayValue"in t}function $j(t){return!!t&&"nullValue"in t}function Lj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function eJ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[o3])==null?void 0:r.stringValue)===a3}function nh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nh(t.arrayValue.values[n]);return e}return{...t}}function tJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(n)}setAll(e){let n=_r.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hi(nh(this.value))}}function l3(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new _r([n]);if(Wg(r)){const o=l3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new No(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,ct.min(),ct.min(),ct.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,ct.min(),ct.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,ct.min(),ct.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.position=e,this.inclusive=n}}function Fj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=et.comparator(et.fromName(s.referenceValue),n.key):r=Zu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n="asc"){this.field=e,this.dir=n}}function nJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{}class Yn extends c3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iJ(e,n,r):n==="array-contains"?new aJ(e,r):n==="in"?new lJ(e,r):n==="not-in"?new cJ(e,r):n==="array-contains-any"?new uJ(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oJ(e,r):new sJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zu(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends c3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xs(e,n)}matches(e){return u3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u3(t){return t.op==="and"}function d3(t){return rJ(t)&&u3(t)}function rJ(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function J1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+ed(t.value);if(d3(t))return t.filters.map(e=>J1(e)).join(",");{const e=t.filters.map(n=>J1(n)).join(",");return`${t.op}(${e})`}}function f3(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&vs(r.value,i.value)}(t,e):t instanceof xs?function(r,i){return i instanceof xs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&f3(s,i.filters[a]),!0):!1}(t,e):void it(19439)}function h3(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${ed(n.value)}`}(t):t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(h3).join(" ,")+"}"}(t):"Filter"}class iJ extends Yn{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class oJ extends Yn{constructor(e,n){super(e,"in",n),this.keys=p3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sJ extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=p3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class aJ extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RT(n)&&Wh(n.arrayValue,this.value)}}class lJ extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class cJ extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wh(this.value.arrayValue,n)}}class uJ extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Bj(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dJ(t,e,n,r,i,o,s)}function MT(t){const e=dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ed(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ed(r)).join(",")),e.Te=n}return e.Te}function DT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vj(t.startAt,e.startAt)&&Vj(t.endAt,e.endAt)}function Z1(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fJ(t,e,n,r,i,o,s,a){return new Lx(t,e,n,r,i,o,s,a)}function $T(t){return new Lx(t)}function Uj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hJ(t){return t.collectionGroup!==null}function rh(t){const e=dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zn(_r.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new By(o,r))}),n.has(_r.keyField().canonicalString())||e.Ie.push(new By(_r.keyField(),r))}return e.Ie}function us(t){const e=dt(t);return e.Ee||(e.Ee=pJ(e,rh(t))),e.Ee}function pJ(t,e){if(t.limitType==="F")return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new By(i.field,o)});const n=t.endAt?new Vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vy(t.startAt.position,t.startAt.inclusive):null;return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eS(t,e,n){return new Lx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fx(t,e){return DT(us(t),us(e))&&t.limitType===e.limitType}function m3(t){return`${MT(us(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h3(i)).join(", ")}]`),Dx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ed(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ed(i)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function Vx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Fj(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,rh(r),i)||r.endAt&&!function(s,a,l){const u=Fj(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,rh(r),i))}(t,e)}function mJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g3(t){return(e,n)=>{let r=!1;for(const i of rh(t)){const o=gJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gJ(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Zu(l,u):it(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Z4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ=new Pn(et.comparator);function ia(){return yJ}const y3=new Pn(et.comparator);function $f(...t){let e=y3;for(const n of t)e=e.insert(n.key,n);return e}function v3(t){let e=y3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return ih()}function x3(){return ih()}function ih(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const vJ=new Pn(et.comparator),xJ=new Zn(et.comparator);function Tt(...t){let e=xJ;for(const n of t)e=e.add(n);return e}const bJ=new Zn(Et);function wJ(){return bJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(e)?"-0":e}}function b3(t){return{integerValue:""+t}}function SJ(t,e){return YQ(e)?b3(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this._=void 0}}function _J(t,e,n){return t instanceof Hh?function(i,o){const s={fields:{[n3]:{stringValue:t3},[i3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OT(o)&&(o=$x(o)),o&&(s.fields[r3]=o),{mapValue:s}}(n,e):t instanceof qh?S3(t,e):t instanceof Gh?_3(t,e):function(i,o){const s=w3(i,o),a=zj(s)+zj(i.Ae);return Q1(s)&&Q1(i.Ae)?b3(a):LT(i.serializer,a)}(t,e)}function EJ(t,e,n){return t instanceof qh?S3(t,e):t instanceof Gh?_3(t,e):n}function w3(t,e){return t instanceof Uy?function(r){return Q1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hh extends Bx{}class qh extends Bx{constructor(e){super(),this.elements=e}}function S3(t,e){const n=E3(e);for(const r of t.elements)n.some(i=>vs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gh extends Bx{constructor(e){super(),this.elements=e}}function _3(t,e){let n=E3(e);for(const r of t.elements)n=n.filter(i=>!vs(i,r));return{arrayValue:{values:n}}}class Uy extends Bx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zj(t){return kn(t.integerValue||t.doubleValue)}function E3(t){return RT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e,n){this.field=e,this.transform=n}}function CJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qh&&i instanceof qh||r instanceof Gh&&i instanceof Gh?Ju(r.elements,i.elements,vs):r instanceof Uy&&i instanceof Uy?vs(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh}(t.transform,e.transform)}class PJ{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ux{}function T3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P3(t.key,Hs.none()):new Jp(t.key,t.data,Hs.none());{const n=t.data,r=Hi.empty();let i=new Zn(_r.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Pc(t.key,r,new No(i.toArray()),Hs.none())}}function AJ(t,e,n){t instanceof Jp?function(i,o,s){const a=i.value.clone(),l=Hj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pc?function(i,o,s){if(!Hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Hj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(C3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oh(t,e,n,r){return t instanceof Jp?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=o.value.clone(),d=qj(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pc?function(o,s,a,l){if(!Hg(o.precondition,s))return a;const u=qj(o.fieldTransforms,l,s),d=s.data;return d.setAll(C3(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function NJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=w3(r.transform,i||null);o!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,o))}return n||null}function Wj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(o,s)=>CJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jp extends Ux{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pc extends Ux{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hj(t,e,n){const r=new Map;$t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EJ(s,a,n[i]))}return r}function qj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_J(o,s,e))}return r}class P3 extends Ux{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jJ extends Ux{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=T3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(n,r)=>Wj(n,r))&&Ju(this.baseMutations,e.baseMutations,(n,r)=>Wj(n,r))}}class FT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new FT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,At;function RJ(t){switch(t){case ge.OK:return it(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return it(15467,{code:t})}}function A3(t){if(t===void 0)return ra("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Ln.OK:return ge.OK;case Ln.CANCELLED:return ge.CANCELLED;case Ln.UNKNOWN:return ge.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return ge.INTERNAL;case Ln.UNAVAILABLE:return ge.UNAVAILABLE;case Ln.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ln.NOT_FOUND:return ge.NOT_FOUND;case Ln.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ln.ABORTED:return ge.ABORTED;case Ln.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ln.DATA_LOSS:return ge.DATA_LOSS;default:return it(39323,{code:t})}}(At=Ln||(Ln={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=new Ja([4294967295,4294967295],0);function Gj(t){const e=MJ().encode(t),n=new z4;return n.update(e),new Uint8Array(n.digest())}function Kj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ja([n,r],0),new Ja([i,o],0)]}class VT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(r<0)throw new Lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ja.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ja.fromNumber(r)));return i.compare(DJ)===1&&(i=new Ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gj(e),[r,i]=Kj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new VT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Gj(e),[r,i]=Kj(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zx(ct.min(),i,new Pn(Et),ia(),Tt())}}class Zp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zp(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class N3{constructor(e,n){this.targetId=e,this.Ce=n}}class j3{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Yj{constructor(){this.ve=0,this.Fe=Xj(),this.Me=Ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),n=Tt(),r=Tt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it(38017,{changeType:o})}}),new Zp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Xj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $J{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.Je=Ym(),this.He=Ym(),this.Ye=new Pn(Et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:it(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Z1(o))if(r===0){const s=new et(o.path);this.et(n,s,Ur.newNoDocument(s,ct.min()))}else $t(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=cl(r).toUint8Array()}catch(l){if(l instanceof e3)return Qu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VT(s,i,o)}catch(l){return Qu(l instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Z1(a.target)){const l=new et(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ur.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Tt();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new zx(e,n,this.Ye,this.je,r);return this.je=ia(),this.Je=Ym(),this.He=Ym(),this.Ye=new Pn(Et),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(Et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(Et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yj),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ym(){return new Pn(et.comparator)}function Xj(){return new Pn(et.comparator)}const LJ={asc:"ASCENDING",desc:"DESCENDING"},FJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VJ={and:"AND",or:"OR"};class BJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tS(t,e){return t.useProto3Json||Dx(e)?e:{value:e}}function zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UJ(t,e){return zy(t,e.toTimestamp())}function ds(t){return $t(!!t,49232),ct.fromTimestamp(function(n){const r=ll(n);return new fn(r.seconds,r.nanos)}(t))}function BT(t,e){return nS(t,e).canonicalString()}function nS(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k3(t){const e=_n.fromString(t);return $t($3(e),10190,{key:e.toString()}),e}function rS(t,e){return BT(t.databaseId,e.path)}function Hb(t,e){const n=k3(e);if(n.get(1)!==t.databaseId.projectId)throw new Je(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Je(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(R3(n))}function O3(t,e){return BT(t.databaseId,e)}function zJ(t){const e=k3(t);return e.length===4?_n.emptyPath():R3(e)}function iS(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R3(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qj(t,e,n){return{name:rS(t,e),fields:n.value.mapValue.fields}}function WJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:it(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?($t(d===void 0||typeof d=="string",58123),Ar.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ar.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?ge.UNKNOWN:A3(u.code);return new Je(d,u.message||"")}(s);n=new j3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hb(t,r.document.name),o=ds(r.document.updateTime),s=r.document.createTime?ds(r.document.createTime):ct.min(),a=new Hi({mapValue:{fields:r.document.fields}}),l=Ur.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qg(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hb(t,r.document),o=r.readTime?ds(r.readTime):ct.min(),s=Ur.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hb(t,r.document),o=r.removedTargetIds||[];n=new qg([],o,i,null)}else{if(!("filter"in e))return it(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new OJ(i,o),a=r.targetId;n=new N3(a,s)}}return n}function HJ(t,e){let n;if(e instanceof Jp)n={update:Qj(t,e.key,e.value)};else if(e instanceof P3)n={delete:rS(t,e.key)};else if(e instanceof Pc)n={update:Qj(t,e.key,e.data),updateMask:eZ(e.fieldMask)};else{if(!(e instanceof jJ))return it(16599,{Vt:e.type});n={verify:rS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw it(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:UJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:it(27497)}(t,e.precondition)),n}function qJ(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?ds(i.updateTime):ds(o);return s.isEqual(ct.min())&&(s=ds(o)),new PJ(s,i.transformResults||[])}(n,e))):[]}function GJ(t,e){return{documents:[O3(t,e.path)]}}function KJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O3(t,i);const o=function(u){if(u.length!==0)return D3(xs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Wc(h.field),direction:QJ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=tS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function YJ(t){let e=zJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=M3(f);return h instanceof xs&&d3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new By(Hc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Dx(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Vy(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Vy(m,h)}(n.endAt)),fJ(e,i,s,o,a,"F",l,u)}function XJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hc(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hc(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hc(n.unaryFilter.field);return Yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hc(n.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xs.create(n.compositeFilter.filters.map(r=>M3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it(1026)}}(n.compositeFilter.op))}(t):it(30097,{filter:t})}function QJ(t){return LJ[t]}function JJ(t){return FJ[t]}function ZJ(t){return VJ[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function Hc(t){return _r.fromServerFormat(t.fieldPath)}function D3(t){return t instanceof Yn?function(n){if(n.op==="=="){if(Lj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NAN"}};if($j(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NAN"}};if($j(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(n.field),op:JJ(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(i=>D3(i));return r.length===1?r[0]:{compositeFilter:{op:ZJ(n.op),filters:r}}}(t):it(54877,{filter:t})}function eZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,o=ct.min(),s=ct.min(),a=Ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.yt=e}}function nZ(t){const e=YJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.Cn=new iZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(al.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(al.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class iZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(_n.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L3=41943040;class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(L3,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new td(0)}static cr(){return new td(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="LruGarbageCollector",oZ=1048576;function e2([t,e],[n,r]){const i=Et(t,n);return i===0?Et(e,r):i}class sZ{constructor(e){this.Ir=e,this.buffer=new Zn(e2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();e2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Zj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fd(n)?Re(Zj,"Ignoring IndexedDB error during garbage collection: ",n):await Ld(n)}await this.Vr(3e5)})}}class lZ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Mx.ce);const r=new sZ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Jj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jj):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Uc()<=St.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function cZ(t,e){return new lZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oh(r.mutation,i,No.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$f();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ia();const s=ih(),a=function(){return ih()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Pc)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),oh(d.mutation,u,d.mutation.getFieldMask(),fn.now())):s.set(u.key,No.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>a.set(u,new dZ(d,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new Pn((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||No.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=x3();d.forEach(h=>{if(!o.has(h)){const m=T3(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):fe.resolve(Bl());let a=Bh,l=o;return s.next(u=>fe.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Tt())).next(d=>({batchId:a,changes:v3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=$f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$f();return this.indexManager.getCollectionParents(e,o).next(a=>fe.forEach(a,l=>{const u=function(f,h){return new Lx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ur.newInvalidDocument(d)))});let a=$f();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&oh(d.mutation,u,No.empty(),fn.now()),Vx(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ds(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:nZ(i.bundledQuery),readTime:ds(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(){this.overlays=new Pn(et.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),o=n.length+1,s=new et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Bl(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kJ(n,r));let o=this.qr.get(n);o===void 0&&(o=Tt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Qr=new Zn(sr.$r),this.Ur=new Zn(sr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new sr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new et(new _n([])),r=new sr(n,e),i=new sr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new et(new _n([])),r=new sr(n,e),i=new sr(n,e+1);let o=Tt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return et.comparator(e.key,n.key)||Et(e.Yr,n.Yr)}static Kr(e,n){return Et(e.Yr,n.Yr)||et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(sr.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new sr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?kT:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(Et);return n.forEach(i=>{const o=new sr(i,0),s=new sr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new sr(new et(o),0);let a=new Zn(Et);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),fe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,i=>{const o=new sr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new sr(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e){this.ri=e,this.docs=function(){return new Pn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=ia();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ur.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ia();const s=n.path,a=new et(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||HQ(WQ(d),r)<=0||(i.has(d.key)||Vx(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){it(9500)}ii(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vZ(this)}getSize(e){return fe.resolve(this.size)}}class vZ extends uZ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e){this.persistence=e,this.si=new Cc(n=>MT(n),DT),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.oi=0,this._i=new UT,this.targetCount=0,this.ai=td.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new td(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mx(0),this.li=!1,this.li=!0,this.hi=new mZ,this.referenceDelegate=e(this),this.Pi=new xZ(this),this.indexManager=new rZ,this.remoteDocumentCache=function(i){return new yZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tZ(n),this.Ii=new hZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new gZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new bZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return fe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bZ extends GQ{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Ri=new UT,this.Vi=null}static mi(e){return new zT(e)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,r=>{const i=et.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ct.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wy{constructor(e,n){this.persistence=e,this.pi=new Cc(r=>XQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cZ(this,n)}static mi(e,n){return new Wy(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return fe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ct.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Tt(),i=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new WT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dK()?8:KQ(qr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wZ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Uc()<=St.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Uc()<=St.DEBUG&&Re("QueryEngine","Query:",zc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Uc()<=St.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):fe.resolve())}ys(e,n){if(Uj(n))return fe.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eS(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,eS(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Uj(n)||i.isEqual(ct.min())?fe.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?fe.resolve(null):(Uc()<=St.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zc(n)),this.vs(e,s,n,zQ(i,Bh)).next(a=>a))})}Ds(e,n){let r=new Zn(g3(e));return n.forEach((i,o)=>{Vx(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Uc()<=St.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",zc(n)),this.ps.getDocumentsMatchingQuery(e,n,al.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LocalStore",_Z=3e8;class EZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pn(Et),this.xs=new Cc(o=>MT(o),DT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TZ(t,e,n,r){return new EZ(t,e,n,r)}async function V3(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Tt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function CZ(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=fe.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=u.docVersions.get(y);$t(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B3(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function PZ(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ar.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=_Z?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=ia(),u=Tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(AZ(o,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ct.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return fe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function AZ(t,e,n){let r=Tt(),i=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ia();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Re(HT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function NZ(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jZ(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Fa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function oS(t,e,n){const r=dt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Fd(s))throw s;Re(HT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function t2(t,e,n){const r=dt(t);let i=ct.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=dt(l),h=f.xs.get(d);return h!==void 0?fe.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,s,us(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ct.min(),n?o:Tt())).next(a=>(IZ(r,mJ(e),a),{documents:a,Qs:o})))}function IZ(t,e,n){let r=t.Os.get(e)||ct.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class n2{constructor(){this.activeTargetIds=wJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kZ{constructor(){this.Mo=new n2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new n2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="ConnectivityMonitor";class i2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(r2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(r2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm=null;function sS(){return Xm===null?Xm=function(){return 268435456+Math.round(2147483648*Math.random())}():Xm++,"0x"+Xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="RestConnection",RZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=sS(),a=this.zo(e,n.toUriEncodedString());Re(qb,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),d=Rd(u);return this.Jo(e,a,l,r,d).then(f=>(Re(qb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Qu(qb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=RZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="WebChannelConnection";class $Z extends MZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=sS();return new Promise((a,l)=>{const u=new W4;u.setWithCredentials(!0),u.listenOnce(H4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ug.NO_ERROR:const f=u.getResponseJson();Re($r,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ug.TIMEOUT:Re($r,`RPC '${e}' ${s} timed out`),l(new Je(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const h=u.getStatus();if(Re($r,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(w)>=0?w:ge.UNKNOWN}(y.status);l(new Je(g,y.message))}else l(new Je(ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Je(ge.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Re($r,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Re($r,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=sS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K4(),a=G4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Re($r,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const y=new DZ({Yo:v=>{m?Re($r,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Re($r,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Re($r,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,x,w)=>{v.listen(x,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Df.EventType.OPEN,()=>{m||(Re($r,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),g(f,Df.EventType.CLOSE,()=>{m||(m=!0,Re($r,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),g(f,Df.EventType.ERROR,v=>{m||(m=!0,Qu($r,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new Je(ge.UNAVAILABLE,"The operation could not be completed")))}),g(f,Df.EventType.MESSAGE,v=>{var x;if(!m){const w=v.data[0];$t(!!w,16349);const S=w,C=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(C){Re($r,`RPC '${e}' stream ${i} received error:`,C);const E=C.status;let A=function(N){const k=Ln[N];if(k!==void 0)return A3(k)}(E),_=C.message;A===void 0&&(A=ge.INTERNAL,_="Unknown error status: "+E+" with message "+C.message),m=!0,y.a_(new Je(A,_)),f.close()}else Re($r,`RPC '${e}' stream ${i} received:`,w),y.u_(w)}}),g(a,q4.STAT_EVENT,v=>{v.stat===K1.PROXY?Re($r,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===K1.NOPROXY&&Re($r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){return new BJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="PersistentStream";class z3{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Je(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Re(o2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Re(o2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LZ extends z3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return ct.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?ds(s.readTime):ct.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=iS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Z1(l)?{documents:GJ(o,l)}:{query:KJ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=I3(o,s.resumeToken);const u=tS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ct.min())>0){a.readTime=zy(o,s.snapshotVersion.toTimestamp());const u=tS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=iS(this.serializer),n.removeTarget=e,this.q_(n)}}class FZ extends z3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qJ(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{}class BZ extends VZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Je(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,nS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(ge.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,nS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(ge.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class UZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class zZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ac(this)&&(Re(pc,"Restarting streams for network reachability change."),await async function(l){const u=dt(l);u.Ea.add(4),await em(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Hx(u)}(this))})}),this.Ra=new UZ(r,i)}}async function Hx(t){if(Ac(t))for(const e of t.da)await e(!0)}async function em(t){for(const e of t.da)await e(!1)}function W3(t,e){const n=dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YT(n)?KT(n):Vd(n).O_()&&GT(n,e))}function qT(t,e){const n=dt(t),r=Vd(n);n.Ia.delete(e),r.O_()&&H3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ac(n)&&n.Ra.set("Unknown"))}function GT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vd(t).Y_(e)}function H3(t,e){t.Va.Ue(e),Vd(t).Z_(e)}function KT(t){t.Va=new $J({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vd(t).start(),t.Ra.ua()}function YT(t){return Ac(t)&&!Vd(t).x_()&&t.Ia.size>0}function Ac(t){return dt(t).Ea.size===0}function q3(t){t.Va=void 0}async function WZ(t){t.Ra.set("Online")}async function HZ(t){t.Ia.forEach((e,n)=>{GT(t,e)})}async function qZ(t,e){q3(t),YT(t)?(t.Ra.ha(e),KT(t)):t.Ra.set("Unknown")}async function GZ(t,e,n){if(t.Ra.set("Online"),e instanceof j3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Re(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof qg?t.Va.Ze(e):e instanceof N3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ct.min()))try{const r=await B3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Ar.EMPTY_BYTE_STRING,d.snapshotVersion)),H3(o,l);const f=new Fa(d.target,l,u,d.sequenceNumber);GT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Re(pc,"Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!Fd(e))throw e;t.Ea.add(1),await em(t),t.Ra.set("Offline"),n||(n=()=>B3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hx(t)})}function G3(t,e){return e().catch(n=>Hy(t,n,e))}async function qx(t){const e=dt(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kT;for(;KZ(e);)try{const i=await NZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,YZ(e,i)}catch(i){await Hy(e,i)}K3(e)&&Y3(e)}function KZ(t){return Ac(t)&&t.Ta.length<10}function YZ(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function K3(t){return Ac(t)&&!dl(t).x_()&&t.Ta.length>0}function Y3(t){dl(t).start()}async function XZ(t){dl(t).ra()}async function QZ(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function JZ(t,e,n){const r=t.Ta.shift(),i=FT.from(r,e,n);await G3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qx(t)}async function ZZ(t,e){e&&dl(t).X_&&await async function(r,i){if(function(s){return RJ(s)&&s!==ge.ABORTED}(i.code)){const o=r.Ta.shift();dl(r).B_(),await G3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await qx(r)}}(t,e),K3(t)&&Y3(t)}async function s2(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),Re(pc,"RemoteStore received new credentials");const r=Ac(n);n.Ea.add(3),await em(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hx(n)}async function eee(t,e){const n=dt(t);e?(n.Ea.delete(2),await Hx(n)):e||(n.Ea.add(2),await em(n),n.Ra.set("Unknown"))}function Vd(t){return t.ma||(t.ma=function(n,r,i){const o=dt(n);return o.sa(),new LZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:WZ.bind(null,t),t_:HZ.bind(null,t),r_:qZ.bind(null,t),H_:GZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),YT(t)?KT(t):t.Ra.set("Unknown")):(await t.ma.stop(),q3(t))})),t.ma}function dl(t){return t.fa||(t.fa=function(n,r,i){const o=dt(n);return o.sa(),new FZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XZ.bind(null,t),r_:ZZ.bind(null,t),ta:QZ.bind(null,t),na:JZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await qx(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new XT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QT(t,e){if(ra("AsyncQueue",`${e}: ${t}`),Fd(t))return new Je(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=$f(),this.sortedSet=new Pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ga=new Pn(et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):it(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class nd{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new nd(e,n,wu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nee{constructor(){this.queries=l2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=l2(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Je(ge.ABORTED,"Firestore shutting down"))}}function l2(){return new Cc(t=>m3(t),Fx)}async function ree(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new tee,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=QT(s,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&JT(n)}async function iee(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oee(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&JT(n)}function see(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function JT(t){t.Ca.forEach(e=>{e.next()})}var aS,c2;(c2=aS||(aS={})).Ma="default",c2.Cache="cache";class aee{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.key=e}}class Q3{constructor(e){this.key=e}}class lee{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=g3(e),this.tu=new wu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new a2,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Vx(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.su(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:v})}};return g(m)-g(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new nd(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Q3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new X3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ZT="SyncEngine";class cee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uee{constructor(e){this.key=e,this.hu=!1}}class dee{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Cc(a=>m3(a),Fx),this.Iu=new Map,this.Eu=new Set,this.du=new Pn(et.comparator),this.Au=new Map,this.Ru=new UT,this.Vu={},this.mu=new Map,this.fu=td.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fee(t,e,n=!0){const r=r5(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await J3(r,e,n,!0),i}async function hee(t,e){const n=r5(t);await J3(n,e,!0,!1)}async function J3(t,e,n,r){const i=await jZ(t.localStore,us(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await pee(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&W3(t.remoteStore,i),a}async function pee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,v,x,w){let S=v.view.ru(x);S.Cs&&(S=await t2(g.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,S)));const C=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,A=v.view.applyChanges(S,g.isPrimaryClient,C,E);return d2(g,v.targetId,A.au),A.snapshot}(t,f,h,m);const o=await t2(t.localStore,e,!0),s=new lee(e,o.Qs),a=s.ru(o.documents),l=Zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);d2(t,n,u.au);const d=new cee(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function mee(t,e,n){const r=dt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Fx(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qT(r.remoteStore,i.targetId),lS(r,i.targetId)}).catch(Ld)):(lS(r,i.targetId),await oS(r.localStore,i.targetId,!0))}async function gee(t,e){const n=dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qT(n.remoteStore,r.targetId))}async function yee(t,e,n){const r=Eee(t);try{const i=await function(s,a){const l=dt(s),u=fn.now(),d=a.reduce((m,y)=>m.add(y.key),Tt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ia(),g=Tt();return l.Ns.getEntries(m,d).next(v=>{y=v,y.forEach((x,w)=>{w.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const x=[];for(const w of a){const S=NJ(w,f.get(w.key).overlayedDocument);S!=null&&x.push(new Pc(w.key,S,l3(S.value.mapValue),Hs.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:v3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new Pn(Et)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await tm(r,i.changes),await qx(r.remoteStore)}catch(i){const o=QT(i,"Failed to persist write");n.reject(o)}}async function Z3(t,e){const n=dt(t);try{const r=await PZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?$t(s.hu,14607):i.removedDocuments.size>0&&($t(s.hu,42227),s.hu=!1))}),await tm(n,r,e)}catch(r){await Ld(r)}}function u2(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=dt(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&JT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vee(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Pn(et.comparator);s=s.insert(o,Ur.newNoDocument(o,ct.min()));const a=Tt().add(o),l=new zx(ct.min(),new Map,new Pn(Et),s,a);await Z3(r,l),r.du=r.du.remove(o),r.Au.delete(e),eC(r)}else await oS(r.localStore,e,!1).then(()=>lS(r,e,n)).catch(Ld)}async function xee(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await CZ(n.localStore,e);t5(n,r,null),e5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tm(n,i)}catch(i){await Ld(i)}}async function bee(t,e,n){const r=dt(t);try{const i=await function(s,a){const l=dt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);t5(r,e,n),e5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tm(r,i)}catch(i){await Ld(i)}}function e5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function t5(t,e,n){const r=dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||n5(t,r)})}function n5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eC(t))}function d2(t,e,n){for(const r of n)r instanceof X3?(t.Ru.addReference(r.key,e),wee(t,r)):r instanceof Q3?(Re(ZT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||n5(t,r.key)):it(19791,{wu:r})}function wee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(ZT,"New document in limbo: "+n),t.Eu.add(r),eC(t))}function eC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new et(_n.fromString(e)),r=t.fu.next();t.Au.set(r,new uee(n)),t.du=t.du.insert(n,r),W3(t.remoteStore,new Fa(us($T(n.path)),r,"TargetPurposeLimboResolution",Mx.ce))}}async function tm(t,e,n){const r=dt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=WT.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const d=dt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,h=>fe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>fe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Fd(f))throw f;Re(HT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,o))}async function See(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){Re(ZT,"User change. New user:",e.toKey());const r=await V3(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Je(ge.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tm(n,r.Ls)}}function _ee(t,e){const n=dt(t),r=n.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let i=Tt();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function r5(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_ee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vee.bind(null,e),e.Pu.H_=oee.bind(null,e.eventManager),e.Pu.yu=see.bind(null,e.eventManager),e}function Eee(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bee.bind(null,e),e}class qy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TZ(this.persistence,new SZ,e.initialUser,this.serializer)}Cu(e){return new F3(zT.mi,this.serializer)}Du(e){return new kZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qy.provider={build:()=>new qy};class Tee extends qy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof Wy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aZ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new F3(r=>Wy.mi(r,n),this.serializer)}}class cS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=See.bind(null,this.syncEngine),await eee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nee}()}createDatastore(e){const n=Wx(e.databaseInfo.databaseId),r=function(o){return new $Z(o)}(e.databaseInfo);return function(o,s,a,l){return new BZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new zZ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u2(this.syncEngine,n,0),function(){return i2.v()?new i2:new OZ}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new dee(i,o,s,a,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);Re(pc,"RemoteStore shutting down."),o.Ea.add(5),await em(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cS.provider={build:()=>new cS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="FirestoreClient";class Pee{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Re(fl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Re(fl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kb(t,e){t.asyncQueue.verifyOperationInProgress(),Re(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Aee(t);Re(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),t._onlineComponents=e}async function Aee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(fl,"Using user provided OfflineComponentProvider");try{await Kb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qu("Error using user provided cache. Falling back to memory cache: "+n),await Kb(t,new qy)}}else Re(fl,"Using default OfflineComponentProvider"),await Kb(t,new Tee(void 0));return t._offlineComponents}async function i5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(fl,"Using user provided OnlineComponentProvider"),await f2(t,t._uninitializedComponentsProvider._online)):(Re(fl,"Using default OnlineComponentProvider"),await f2(t,new cS))),t._onlineComponents}function Nee(t){return i5(t).then(e=>e.syncEngine)}async function jee(t){const e=await i5(t),n=e.eventManager;return n.onListen=fee.bind(null,e.syncEngine),n.onUnlisten=mee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gee.bind(null,e.syncEngine),n}function Iee(t,e,n={}){const r=new Za;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new Cee({next:h=>{d.Nu(),s.enqueueAndForget(()=>iee(o,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new Je(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new Je(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new aee($T(a.path),d,{includeMetadataChanges:!0,qa:!0});return ree(o,f)}(await jee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firestore.googleapis.com",p2=!0;class m2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Je(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s5,this.ssl=p2}else this.host=e.host,this.ssl=e.ssl??p2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oZ)throw new Je(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Je(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Je(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Je(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IQ;switch(r.type){case"firstParty":return new MQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h2.get(n);r&&(Re("ComponentProvider","Removing Datastore"),h2.delete(n),r.terminate())}(this),Promise.resolve()}}function kee(t,e,n,r={}){var u;t=Vh(t,tC);const i=Rd(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(i4(`https://${a}`),o4("Firestore",!0)),o.host!==s5&&o.host!==a&&Qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!uc(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vr.MOCK_USER;else{d=nK(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Je(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vr(h)}t._authCredentials=new kQ(new X4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nC(this.firestore,e,this._query)}}class dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qp(n,dr._jsonSchema))return new dr(e,r||null,new et(_n.fromString(n.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:Bn("string",dr._jsonSchemaVersion),referencePath:Bn("string")};class Kh extends nC{constructor(e,n,r){super(e,n,$T(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new et(e))}withConverter(e){return new Kh(this.firestore,e,this._path)}}function a5(t,e,...n){if(t=eo(t),arguments.length===1&&(e=jT.newId()),BQ("doc","path",e),t instanceof tC){const r=_n.fromString(e,...n);return Nj(r),new dr(t,null,new et(r))}{if(!(t instanceof dr||t instanceof Kh))throw new Je(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return Nj(r),new dr(t.firestore,t instanceof Kh?t.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="AsyncQueue";class y2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U3(this,"async_queue_retry"),this._c=()=>{const r=Gb();r&&Re(g2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Za;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fd(e))throw e;Re(g2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",v2(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&it(47125,{Pc:v2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function v2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rC extends tC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new y2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y2(e),this._firestoreClient=void 0,await e}}}function Oee(t,e){const n=typeof t=="object"?t:c4(),r=typeof t=="string"?t:Ly,i=vT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=eK("firestore");o&&kee(i,...o)}return i}function l5(t){if(t._terminated)throw new Je(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ree(t),t._firestoreClient}function Ree(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,d){return new ZQ(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,o5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Pee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Ar.fromBase64String(e))}catch(n){throw new Je(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qp(e,qi._jsonSchema))return qi.fromBase64String(e.bytes)}}qi._jsonSchemaVersion="firestore/bytes/1.0",qi._jsonSchema={type:Bn("string",qi._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Je(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(Qp(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Bn("string",fs._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qp(e,hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hs(e.vectorValues);throw new Je(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hs._jsonSchemaVersion="firestore/vectorValue/1.0",hs._jsonSchema={type:Bn("string",hs._jsonSchemaVersion),vectorValues:Bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=/^__.*__$/;class Dee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jp(e,this.data,n,this.fieldTransforms)}}function c5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:t})}}class sC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c5(this.Ac)&&Mee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $ee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wx(e)}Cc(e,n,r,i=!1){return new sC({Ac:e,methodName:n,Dc:r,path:_r.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lee(t){const e=t._freezeSettings(),n=Wx(t._databaseId);return new $ee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fee(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);h5("Data must be an object, but it was:",s,r);const a=d5(r,s);let l,u;if(o.merge)l=new No(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Vee(e,f,n);if(!s.contains(h))throw new Je(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Uee(d,h)||d.push(h)}l=new No(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Dee(new Hi(a),l,u)}class aC extends oC{_toFieldTransform(e){return new TJ(e.path,new Hh)}isEqual(e){return e instanceof aC}}function u5(t,e){if(f5(t=eo(t)))return h5("Unsupported field value:",e,t),d5(t,e);if(t instanceof oC)return function(r,i){if(!c5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=u5(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=eo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:zy(i.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,o)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:I3(i.serializer,r._byteString)};if(r instanceof dr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hs)return function(s,a){return{mapValue:{fields:{[o3]:{stringValue:a3},[Fy]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return LT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${IT(r)}`)}(t,e)}function d5(t,e){const n={};return Z4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const o=u5(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function f5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof fs||t instanceof qi||t instanceof dr||t instanceof oC||t instanceof hs)}function h5(t,e,n){if(!f5(n)||!Q4(n)){const r=IT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vee(t,e,n){if((e=eo(e))instanceof iC)return e._internalPath;if(typeof e=="string")return p5(t,e);throw Gy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bee=new RegExp("[~\\*/\\[\\]]");function p5(t,e,n){if(e.search(Bee)>=0)throw Gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iC(...e.split("."))._internalPath}catch{throw Gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Je(ge.INVALID_ARGUMENT,a+t+l)}function Uee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zee extends m5{data(){return super.data()}}function g5(t,e){return typeof e=="string"?p5(t,e):e instanceof iC?e._internalPath:e._delegate._internalPath}class Wee{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Fy].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>kn(s.doubleValue));return new hs(n)}convertGeoPoint(e){return new fs(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$x(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}convertTimestamp(e){const n=ll(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);$t($3(r),9688,{name:e});const i=new zh(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(n)||ra(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends m5{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:Bn("string",Zl._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Gg extends Zl{data(e={}){return super.data(e)}}class sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:qee(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(t){t=Vh(t,dr);const e=Vh(t.firestore,rC);return Iee(l5(e),t._key).then(n=>Qee(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:Bn("string",sh._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Kee extends Wee{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,n)}}function Yee(t,e,n){t=Vh(t,dr);const r=Vh(t.firestore,rC),i=Hee(t.converter,e,n);return Xee(r,[Fee(Lee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hs.none())])}function Xee(t,e){return function(r,i){const o=new Za;return r.asyncQueue.enqueueAndForget(async()=>yee(await Nee(r),i,o)),o.promise}(l5(t),e)}function Qee(t,e,n){const r=n.docs.get(e._key),i=new Kee(t);return new Zl(t,i,e._key,r,new Ff(n.hasPendingWrites,n.fromCache),e.converter)}function Jee(){return new aC("serverTimestamp")}(function(e,n=!0){(function(i){$d=i})(Md),Yu(new dc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new rC(new OQ(r.getProvider("auth-internal")),new DQ(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Je(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(u.options.projectId,d)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qa(Tj,Cj,e),Qa(Tj,Cj,"esm2020")})();const Zee={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},y5=l4(Zee),Gx=NQ(y5),v5=Oee(y5),ete=new $s,tte=new Ds;async function nte(){try{return(await B4(Gx,ete)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function rte(){try{return(await B4(Gx,tte)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function ite(){try{await xX(Gx)}catch(t){console.error("Sign-out error:",t)}}function ote(t){return vX(Gx,t)}async function x2(t){try{const e=await Gee(a5(v5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function ste(t,e,n){try{return await Yee(a5(v5,"users",t),{isPro:e,promoCode:n||null,updatedAt:Jee()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const Yb="cuemaster_analytics_consent",Xb="cuemaster_analytics_events",Qm="cuemaster_analytics_sessions",Jm="cuemaster_analytics_stats",Qb="cuemaster_first_launch_complete",Zm=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class ate{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.userEmail=null,this.loadConsent(),this.loadEvents()}setUserEmail(e){this.userEmail=e}loadConsent(){try{const e=localStorage.getItem(Yb);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(Xb);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(Xb,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(Qm);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(Qm,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(Qb)}markFirstLaunchComplete(){localStorage.setItem(Qb,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Yb,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:Zm(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:Zm(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(Jm,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(Jm,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(Jm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(Qm);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(Xb),localStorage.removeItem(Qm),localStorage.removeItem(Jm)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Yb),localStorage.removeItem(Qb)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=Zm()+Zm(),localStorage.setItem(e,n)),n}getDeviceInfo(){const e=navigator.userAgent;let n="desktop";/Mobi|Android/i.test(e)?n="mobile":/Tablet|iPad/i.test(e)&&(n="tablet");let r="unknown";e.includes("Firefox")?r="Firefox":e.includes("Edg")?r="Edge":e.includes("Chrome")?r="Chrome":e.includes("Safari")?r="Safari":(e.includes("Opera")||e.includes("OPR"))&&(r="Opera");const i=`${window.screen.width}x${window.screen.height}`,o=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";return{deviceType:n,browser:r,screenSize:i,country:o}}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={userId:this.getAnonymousId(),userEmail:this.userEmail||null,timestamp:new Date().toISOString(),device:this.getDeviceInfo(),totalSessions:e.totalSessions,totalTimeMs:e.totalTimeMs,moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=await fetch(o,{method:"GET"});return s.ok?(await s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const xt=new ate,x5=b.createContext(null);function Bd(){const t=b.useContext(x5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function lte(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),[i,o]=b.useState(null),[s,a]=b.useState(!0),l=async()=>{if(t){const m=await x2(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(m),o(y)}};return b.useEffect(()=>{const m=ote(async y=>{if(e(y),xt.setUserEmail((y==null?void 0:y.email)||null),y){const g=await x2(y.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(g),o(v)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:async()=>{a(!0),await nte(),a(!1)},signInWithFacebook:async()=>{a(!0),await rte(),a(!1)},signOut:async()=>{await ite(),r(!1)},refreshProStatus:l,unlockPro:async m=>{if(t){const y=await ste(t.uid,!0,m);return y&&(r(!0),o(m||null)),y}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0}}}function cte({children:t}){const e=lte();return c.jsx(x5.Provider,{value:e,children:t})}const Kg=[{id:"en",name:"English",nativeName:"English",flag:""},{id:"es",name:"Spanish",nativeName:"Espaol",flag:""},{id:"tl",name:"Filipino",nativeName:"Filipino",flag:""},{id:"de",name:"German",nativeName:"Deutsch",flag:""},{id:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{id:"ja",name:"Japanese",nativeName:"",flag:""},{id:"zh",name:"Chinese",nativeName:"",flag:""}],b5=b.createContext(void 0),b2="cuemaster-language";function ute({children:t}){const[e,n]=b.useState(()=>{const i=localStorage.getItem(b2);return i&&Kg.find(s=>s.id===i)||Kg[0]}),r=i=>{n(i),localStorage.setItem(b2,i.id)};return c.jsx(b5.Provider,{value:{language:e,setLanguage:r},children:t})}function dte(){const t=b.useContext(b5);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}const nt=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const fte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("flex flex-col space-y-1.5 p-6",t),...e}));fte.displayName="CardHeader";const hte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("text-2xl font-semibold leading-none tracking-tight",t),...e}));hte.displayName="CardTitle";const pte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));pte.displayName="CardDescription";const w5=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("p-6 pt-0",t),...e}));w5.displayName="CardContent";const mte=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:lt("flex items-center p-6 pt-0",t),...e}));mte.displayName="CardFooter";function eg({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1,proFeature:a=!1,isProUser:l=!1}){const u=a&&l;return c.jsx(nt,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${u?"border-l-[3px] border-l-primary":""}`}`,onClick:s?void 0:i,"data-testid":o,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),c.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),c.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&c.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function gte(){const[t,e]=b.useState(null),{toast:n}=Nd(),r="0.9.7.128",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return c.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var Jb="focusScope.autoFocusOnMount",Zb="focusScope.autoFocusOnUnmount",w2={bubbles:!1,cancelable:!0},yte="FocusScope",lC=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=b.useState(null),u=Rn(i),d=Rn(o),f=b.useRef(null),h=vt(e,g=>l(g)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const C=S.target;a.contains(C)?f.current=C:Ea(f.current,{select:!0})},v=function(S){if(m.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||Ea(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ea(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){_2.add(m);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Jb,w2);a.addEventListener(Jb,u),a.dispatchEvent(x),x.defaultPrevented||(vte(_te(S5(a)),{select:!0}),document.activeElement===g&&Ea(a))}return()=>{a.removeEventListener(Jb,u),setTimeout(()=>{const x=new CustomEvent(Zb,w2);a.addEventListener(Zb,d),a.dispatchEvent(x),x.defaultPrevented||Ea(g??document.body,{select:!0}),a.removeEventListener(Zb,d),_2.remove(m)},0)}}},[a,u,d,m]);const y=b.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[S,C]=xte(w);S&&C?!g.shiftKey&&x===C?(g.preventDefault(),n&&Ea(S,{select:!0})):g.shiftKey&&x===S&&(g.preventDefault(),n&&Ea(C,{select:!0})):x===w&&g.preventDefault()}},[n,r,m.paused]);return c.jsx(Ze.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});lC.displayName=yte;function vte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ea(r,{select:e}),document.activeElement!==n)return}function xte(t){const e=S5(t),n=S2(e,t),r=S2(e.reverse(),t);return[n,r]}function S5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function S2(t,e){for(const n of t)if(!bte(n,{upTo:e}))return n}function bte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wte(t){return t instanceof HTMLInputElement&&"select"in t}function Ea(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wte(t)&&e&&t.select()}}var _2=Ste();function Ste(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=E2(t,e),t.unshift(e)},remove(e){var n;t=E2(t,e),(n=t[0])==null||n.resume()}}}function E2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _te(t){return t.filter(e=>e.tagName!=="A")}var ew=0;function _5(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??T2()),document.body.insertAdjacentElement("beforeend",t[1]??T2()),ew++,()=>{ew===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ew--}},[])}function T2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rs=function(){return rs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rs.apply(this,arguments)};function E5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ete(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Yg="right-scroll-bar-position",Xg="width-before-scroll-bar",Tte="with-scroll-bars-hidden",Cte="--removed-body-scroll-bar-size";function tw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Pte(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ate=typeof window<"u"?b.useLayoutEffect:b.useEffect,C2=new WeakMap;function Nte(t,e){var n=Pte(null,function(r){return t.forEach(function(i){return tw(i,r)})});return Ate(function(){var r=C2.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||tw(a,null)}),o.forEach(function(a){i.has(a)||tw(a,s)})}C2.set(n,t)},[t]),n}function jte(t){return t}function Ite(t,e){e===void 0&&(e=jte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return i}function kte(t){t===void 0&&(t={});var e=Ite(null);return e.options=rs({async:!0,ssr:!1},t),e}var T5=function(t){var e=t.sideCar,n=E5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,rs({},n))};T5.isSideCarExport=!0;function Ote(t,e){return t.useMedium(e),T5}var C5=kte(),nw=function(){},Kx=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:nw,onWheelCapture:nw,onTouchMoveCapture:nw}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,w=t.gapMode,S=E5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=Nte([n,e]),A=rs(rs({},S),i);return b.createElement(b.Fragment,null,d&&b.createElement(C,{sideCar:C5,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?b.cloneElement(b.Children.only(a),rs(rs({},A),{ref:E})):b.createElement(x,rs({},A,{className:l,ref:E}),a))});Kx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kx.classNames={fullWidth:Xg,zeroRight:Yg};var Rte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Rte();return e&&t.setAttribute("nonce",e),t}function Dte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $te(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Lte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mte())&&(Dte(e,n),$te(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fte=function(){var t=Lte();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},P5=function(){var t=Fte(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Vte={left:0,top:0,right:0,gap:0},rw=function(t){return parseInt(t||"",10)||0},Bte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rw(n),rw(r),rw(i)]},Ute=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Vte;var e=Bte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zte=P5(),Su="data-scroll-locked",Wte=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Su,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Su,`] {
    `).concat(Cte,": ").concat(a,`px;
  }
`)},P2=function(){var t=parseInt(document.body.getAttribute(Su)||"0",10);return isFinite(t)?t:0},Hte=function(){b.useEffect(function(){return document.body.setAttribute(Su,(P2()+1).toString()),function(){var t=P2()-1;t<=0?document.body.removeAttribute(Su):document.body.setAttribute(Su,t.toString())}},[])},qte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Hte();var o=b.useMemo(function(){return Ute(i)},[i]);return b.createElement(zte,{styles:Wte(o,!e,i,n?"":"!important")})},uS=!1;if(typeof window<"u")try{var tg=Object.defineProperty({},"passive",{get:function(){return uS=!0,!0}});window.addEventListener("test",tg,tg),window.removeEventListener("test",tg,tg)}catch{uS=!1}var Mc=uS?{passive:!1}:!1,Gte=function(t){return t.tagName==="TEXTAREA"},A5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Gte(t)&&n[e]==="visible")},Kte=function(t){return A5(t,"overflowY")},Yte=function(t){return A5(t,"overflowX")},A2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=N5(t,r);if(i){var o=j5(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},N5=function(t,e){return t==="v"?Kte(e):Yte(e)},j5=function(t,e){return t==="v"?Xte(e):Qte(e)},Jte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zte=function(t,e,n,r,i){var o=Jte(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,d=s>0,f=0,h=0;do{var m=j5(t,a),y=m[0],g=m[1],v=m[2],x=g-v-o*y;(y||x)&&N5(t,a)&&(f+=x,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},ng=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},N2=function(t){return[t.deltaX,t.deltaY]},j2=function(t){return t&&"current"in t?t.current:t},ene=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nne=0,Dc=[];function rne(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(nne++)[0],o=b.useState(P5)[0],s=b.useRef(t);b.useEffect(function(){s.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Ete([t.lockRef.current],(t.shards||[]).map(j2),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=ng(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-x[0],C="deltaY"in g?g.deltaY:w[1]-x[1],E,A=g.target,_=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&_==="h"&&A.type==="range")return!1;var T=A2(_,A);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=A2(_,A)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=E),!E)return!0;var N=r.current||E;return Zte(N,v,g,N==="h"?S:C,!0)},[]),l=b.useCallback(function(g){var v=g;if(!(!Dc.length||Dc[Dc.length-1]!==o)){var x="deltaY"in v?N2(v):ng(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&ene(E.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var S=(s.current.shards||[]).map(j2).filter(Boolean).filter(function(E){return E.contains(v.target)}),C=S.length>0?a(v,S[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,w){var S={name:g,delta:v,target:x,should:w,shadowParent:ine(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=b.useCallback(function(g){n.current=ng(g),r.current=void 0},[]),f=b.useCallback(function(g){u(g.type,N2(g),g.target,a(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,ng(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return Dc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Mc),document.addEventListener("touchmove",l,Mc),document.addEventListener("touchstart",d,Mc),function(){Dc=Dc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Mc),document.removeEventListener("touchmove",l,Mc),document.removeEventListener("touchstart",d,Mc)}},[]);var m=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:tne(i)}):null,m?b.createElement(qte,{gapMode:t.gapMode}):null)}function ine(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const one=Ote(C5,rne);var cC=b.forwardRef(function(t,e){return b.createElement(Kx,rs({},t,{ref:e,sideCar:one}))});cC.classNames=Kx.classNames;var sne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$c=new WeakMap,rg=new WeakMap,ig={},iw=0,I5=function(t){return t&&(t.host||I5(t.parentNode))},ane=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=I5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lne=function(t,e,n,r){var i=ane(e,Array.isArray(t)?t:[t]);ig[n]||(ig[n]=new WeakMap);var o=ig[n],s=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=($c.get(h)||0)+1,v=(o.get(h)||0)+1;$c.set(h,g),o.set(h,v),s.push(h),g===1&&y&&rg.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),iw++,function(){s.forEach(function(f){var h=$c.get(f)-1,m=o.get(f)-1;$c.set(f,h),o.set(f,m),h||(rg.has(f)||f.removeAttribute(r),rg.delete(f)),m||f.removeAttribute(n)}),iw--,iw||($c=new WeakMap,$c=new WeakMap,rg=new WeakMap,ig={})}},k5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=sne(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),lne(r,i,n,"aria-hidden")):function(){return null}},uC="Dialog",[O5,s2e]=$i(uC),[cne,Bo]=O5(uC),R5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=b.useRef(null),l=b.useRef(null),[u=!1,d]=Lo({prop:r,defaultProp:i,onChange:o});return c.jsx(cne,{scope:e,triggerRef:a,contentRef:l,contentId:as(),titleId:as(),descriptionId:as(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};R5.displayName=uC;var M5="DialogTrigger",D5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bo(M5,n),o=vt(e,i.triggerRef);return c.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hC(i.open),...r,ref:o,onClick:Fe(t.onClick,i.onOpenToggle)})});D5.displayName=M5;var dC="DialogPortal",[une,$5]=O5(dC,{forceMount:void 0}),L5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Bo(dC,e);return c.jsx(une,{scope:e,forceMount:n,children:b.Children.map(r,s=>c.jsx(no,{present:n||o.open,children:c.jsx(bx,{asChild:!0,container:i,children:s})}))})};L5.displayName=dC;var Ky="DialogOverlay",F5=b.forwardRef((t,e)=>{const n=$5(Ky,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Bo(Ky,t.__scopeDialog);return o.modal?c.jsx(no,{present:r||o.open,children:c.jsx(fne,{...i,ref:e})}):null});F5.displayName=Ky;var dne=qu("DialogOverlay.RemoveScroll"),fne=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bo(Ky,n);return c.jsx(cC,{as:dne,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ze.div,{"data-state":hC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",V5=b.forwardRef((t,e)=>{const n=$5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Bo(mc,t.__scopeDialog);return c.jsx(no,{present:r||o.open,children:o.modal?c.jsx(hne,{...i,ref:e}):c.jsx(pne,{...i,ref:e})})});V5.displayName=mc;var hne=b.forwardRef((t,e)=>{const n=Bo(mc,t.__scopeDialog),r=b.useRef(null),i=vt(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return k5(o)},[]),c.jsx(B5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,o=>o.preventDefault())})}),pne=b.forwardRef((t,e)=>{const n=Bo(mc,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return c.jsx(B5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),B5=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Bo(mc,n),l=b.useRef(null),u=vt(e,l);return _5(),c.jsxs(c.Fragment,{children:[c.jsx(lC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:c.jsx(zp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hC(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(mne,{titleId:a.titleId}),c.jsx(yne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fC="DialogTitle",U5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bo(fC,n);return c.jsx(Ze.h2,{id:i.titleId,...r,ref:e})});U5.displayName=fC;var z5="DialogDescription",W5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bo(z5,n);return c.jsx(Ze.p,{id:i.descriptionId,...r,ref:e})});W5.displayName=z5;var H5="DialogClose",q5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bo(H5,n);return c.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,()=>i.onOpenChange(!1))})});q5.displayName=H5;function hC(t){return t?"open":"closed"}var G5="DialogTitleWarning",[a2e,K5]=gW(G5,{contentName:mc,titleName:fC,docsSlug:"dialog"}),mne=({titleId:t})=>{const e=K5(G5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gne="DialogDescriptionWarning",yne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K5(gne).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vne=R5,xne=D5,bne=L5,Y5=F5,X5=V5,Q5=U5,J5=W5,wne=q5;const Wr=vne,Sne=xne,_ne=bne,Z5=b.forwardRef(({className:t,...e},n)=>c.jsx(Y5,{ref:n,className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Z5.displayName=Y5.displayName;const Er=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(_ne,{children:[c.jsx(Z5,{}),c.jsxs(X5,{ref:r,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(wne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Ex,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Er.displayName=X5.displayName;const ur=({className:t,...e})=>c.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ur.displayName="DialogHeader";const Xn=b.forwardRef(({className:t,...e},n)=>c.jsx(Q5,{ref:n,className:lt("text-lg font-semibold leading-none tracking-tight",t),...e}));Xn.displayName=Q5.displayName;const jo=b.forwardRef(({className:t,...e},n)=>c.jsx(J5,{ref:n,className:lt("text-sm text-muted-foreground",t),...e}));jo.displayName=J5.displayName;const Ene=_x("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),de=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?vW:"button";return c.jsx(s,{className:lt(Ene({variant:e,size:n,className:t})),ref:o,...i})});de.displayName="Button";function pC(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mC="Switch",[Tne,l2e]=$i(mC),[Cne,Pne]=Tne(mC),eF=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=b.useState(null),y=vt(e,S=>m(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Lo({prop:i,defaultProp:o,onChange:u});return c.jsxs(Cne,{scope:n,checked:x,disabled:a,children:[c.jsx(Ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":rF(x),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:y,onClick:Fe(t.onClick,S=>{w(C=>!C),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&c.jsx(Ane,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});eF.displayName=mC;var tF="SwitchThumb",nF=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Pne(tF,n);return c.jsx(Ze.span,{"data-state":rF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});nF.displayName=tF;var Ane=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=b.useRef(null),s=pC(n),a=fT(e);return b.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rF(t){return t?"checked":"unchecked"}var iF=eF,Nne=nF;const ji=b.forwardRef(({className:t,...e},n)=>c.jsx(iF,{className:lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(Nne,{className:lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ji.displayName=iF.displayName;function jne({open:t,onComplete:e}){const[n,r]=b.useState(0),[i,o]=b.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{xt.setConsent(i),xt.markFirstLaunchComplete(),xt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const u={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(u),xt.setConsent(u),xt.markFirstLaunchComplete(),xt.track("consent_updated","home","accept_all",{consent:u}),e()},l=()=>{const u={usageStats:!1,skillMetrics:!1,benchmarking:!1};xt.setConsent(u),xt.markFirstLaunchComplete(),e()};return c.jsx(Wr,{open:t,onOpenChange:()=>{},children:c.jsxs(Er,{className:"max-w-md",onPointerDownOutside:u=>u.preventDefault(),children:[n===0&&c.jsxs(c.Fragment,{children:[c.jsxs(ur,{children:[c.jsxs(Xn,{className:"text-xl flex items-center gap-2",children:[c.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),c.jsx(jo,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Which tools you use and for how long"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Your skill metrics to show personal progress"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx(Fl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),c.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(de,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),c.jsxs(de,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",c.jsx(iL,{className:"w-4 h-4 ml-1"})]}),c.jsx(de,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&c.jsxs(c.Fragment,{children:[c.jsxs(ur,{children:[c.jsx(Xn,{className:"text-xl",children:"Customize Your Preferences"}),c.jsx(jo,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),c.jsx("div",{className:"space-y-4 py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lc,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),c.jsx(ji,{checked:i.usageStats,onCheckedChange:u=>o(d=>({...d,usageStats:u})),"data-testid":"switch-usage-stats"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),c.jsx(ji,{checked:i.skillMetrics,onCheckedChange:u=>o(d=>({...d,skillMetrics:u})),"data-testid":"switch-skill-metrics"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&c.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),c.jsx(ji,{checked:i.benchmarking,onCheckedChange:u=>o(d=>({...d,benchmarking:u,usageStats:u?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),c.jsx(de,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const oF=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));oF.displayName="Textarea";function Yh(t,[e,n]){return Math.min(n,Math.max(e,t))}var Ine=b.createContext(void 0);function Ud(t){const e=b.useContext(Ine);return t||e||"ltr"}var kne=[" ","Enter","ArrowUp","ArrowDown"],One=[" ","Enter"],nm="Select",[Yx,Xx,Rne]=Up(nm),[zd,c2e]=$i(nm,[Rne,Ax]),Qx=Ax(),[Mne,yl]=zd(nm),[Dne,$ne]=zd(nm),sF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Qx(e),[v,x]=b.useState(null),[w,S]=b.useState(null),[C,E]=b.useState(!1),A=Ud(u),[_=!1,T]=Lo({prop:r,defaultProp:i,onChange:o}),[N,k]=Lo({prop:s,defaultProp:a,onChange:l}),j=b.useRef(null),R=v?y||!!v.closest("form"):!0,[O,L]=b.useState(new Set),B=Array.from(O).map(V=>V.props.value).join(";");return c.jsx(EG,{...g,children:c.jsxs(Mne,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:as(),value:N,onValueChange:k,open:_,onOpenChange:T,dir:A,triggerPointerDownPosRef:j,disabled:h,children:[c.jsx(Yx.Provider,{scope:e,children:c.jsx(Dne,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{L(U=>new Set(U).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{L(U=>{const F=new Set(U);return F.delete(V),F})},[]),children:n})}),R?c.jsxs(IF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:V=>k(V.target.value),disabled:h,form:y,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},B):null]})})};sF.displayName=nm;var aF="SelectTrigger",lF=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Qx(n),s=yl(aF,n),a=s.disabled||r,l=vt(e,s.onTriggerChange),u=Xx(n),d=b.useRef("touch"),[f,h,m]=kF(g=>{const v=u().filter(S=>!S.disabled),x=v.find(S=>S.value===s.value),w=OF(v,g,x);w!==void 0&&s.onValueChange(w.value)}),y=g=>{a||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(VL,{asChild:!0,...o,children:c.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jF(s.value)?"":void 0,...i,ref:l,onClick:Fe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Fe(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Fe(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&kne.includes(g.key)&&(y(),g.preventDefault())})})})});lF.displayName=aF;var cF="SelectValue",uF=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=yl(cF,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=vt(e,l.onValueNodeChange);return hr(()=>{u(d)},[u,d]),c.jsx(Ze.span,{...a,ref:f,style:{pointerEvents:"none"},children:jF(l.value)?c.jsx(c.Fragment,{children:s}):o})});uF.displayName=cF;var Lne="SelectIcon",dF=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return c.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});dF.displayName=Lne;var Fne="SelectPortal",fF=t=>c.jsx(bx,{asChild:!0,...t});fF.displayName=Fne;var gc="SelectContent",hF=b.forwardRef((t,e)=>{const n=yl(gc,t.__scopeSelect),[r,i]=b.useState();if(hr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ec.createPortal(c.jsx(pF,{scope:t.__scopeSelect,children:c.jsx(Yx.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),o):null}return c.jsx(mF,{...t,ref:e})});hF.displayName=gc;var po=10,[pF,vl]=zd(gc),Vne="SelectContentImpl",Bne=qu("SelectContent.RemoveScroll"),mF=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,w=yl(gc,n),[S,C]=b.useState(null),[E,A]=b.useState(null),_=vt(e,xe=>C(xe)),[T,N]=b.useState(null),[k,j]=b.useState(null),R=Xx(n),[O,L]=b.useState(!1),B=b.useRef(!1);b.useEffect(()=>{if(S)return k5(S)},[S]),_5();const V=b.useCallback(xe=>{const[je,...se]=R().map(z=>z.ref.current),[pe]=se.slice(-1),le=document.activeElement;for(const z of xe)if(z===le||(z==null||z.scrollIntoView({block:"nearest"}),z===je&&E&&(E.scrollTop=0),z===pe&&E&&(E.scrollTop=E.scrollHeight),z==null||z.focus(),document.activeElement!==le))return},[R,E]),U=b.useCallback(()=>V([T,S]),[V,T,S]);b.useEffect(()=>{O&&U()},[O,U]);const{onOpenChange:F,triggerPointerDownPosRef:W}=w;b.useEffect(()=>{if(S){let xe={x:0,y:0};const je=pe=>{var le,z;xe={x:Math.abs(Math.round(pe.pageX)-(((le=W.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((z=W.current)==null?void 0:z.y)??0))}},se=pe=>{xe.x<=10&&xe.y<=10?pe.preventDefault():S.contains(pe.target)||F(!1),document.removeEventListener("pointermove",je),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",se,{capture:!0})}}},[S,F,W]),b.useEffect(()=>{const xe=()=>F(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[F]);const[ne,X]=kF(xe=>{const je=R().filter(le=>!le.disabled),se=je.find(le=>le.ref.current===document.activeElement),pe=OF(je,xe,se);pe&&setTimeout(()=>pe.ref.current.focus())}),ie=b.useCallback((xe,je,se)=>{const pe=!B.current&&!se;(w.value!==void 0&&w.value===je||pe)&&(N(xe),pe&&(B.current=!0))},[w.value]),ce=b.useCallback(()=>S==null?void 0:S.focus(),[S]),be=b.useCallback((xe,je,se)=>{const pe=!B.current&&!se;(w.value!==void 0&&w.value===je||pe)&&j(xe)},[w.value]),ke=r==="popper"?dS:gF,ot=ke===dS?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(pF,{scope:n,content:S,viewport:E,onViewportChange:A,itemRefCallback:ie,selectedItem:T,onItemLeave:ce,itemTextRefCallback:be,focusSelectedItem:U,selectedItemText:k,position:r,isPositioned:O,searchRef:ne,children:c.jsx(cC,{as:Bne,allowPinchZoom:!0,children:c.jsx(lC,{asChild:!0,trapped:w.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Fe(i,xe=>{var je;(je=w.trigger)==null||je.focus({preventScroll:!0}),xe.preventDefault()}),children:c.jsx(zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ke,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:xe=>xe.preventDefault(),...x,...ot,onPlaced:()=>L(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Fe(x.onKeyDown,xe=>{const je=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!je&&xe.key.length===1&&X(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let pe=R().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const le=xe.target,z=pe.indexOf(le);pe=pe.slice(z+1)}setTimeout(()=>V(pe)),xe.preventDefault()}})})})})})})});mF.displayName=Vne;var Une="SelectItemAlignedPosition",gF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=yl(gc,n),s=vl(gc,n),[a,l]=b.useState(null),[u,d]=b.useState(null),f=vt(e,_=>d(_)),h=Xx(n),m=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=s,S=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&x){const _=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const le=k.left-T.left,z=N.left-le,we=_.left-z,Te=_.width+we,Ye=Math.max(Te,T.width),Xe=window.innerWidth-po,st=Yh(z,[po,Math.max(po,Xe-Ye)]);a.style.minWidth=Te+"px",a.style.left=st+"px"}else{const le=T.right-k.right,z=window.innerWidth-N.right-le,we=window.innerWidth-_.right-z,Te=_.width+we,Ye=Math.max(Te,T.width),Xe=window.innerWidth-po,st=Yh(z,[po,Math.max(po,Xe-Ye)]);a.style.minWidth=Te+"px",a.style.right=st+"px"}const j=h(),R=window.innerHeight-po*2,O=g.scrollHeight,L=window.getComputedStyle(u),B=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),U=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),W=B+V+O+F+U,ne=Math.min(v.offsetHeight*5,W),X=window.getComputedStyle(g),ie=parseInt(X.paddingTop,10),ce=parseInt(X.paddingBottom,10),be=_.top+_.height/2-po,ke=R-be,ot=v.offsetHeight/2,xe=v.offsetTop+ot,je=B+V+xe,se=W-je;if(je<=be){const le=j.length>0&&v===j[j.length-1].ref.current;a.style.bottom="0px";const z=u.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(ke,ot+(le?ce:0)+z+U),Te=je+we;a.style.height=Te+"px"}else{const le=j.length>0&&v===j[0].ref.current;a.style.top="0px";const we=Math.max(be,B+g.offsetTop+(le?ie:0)+ot)+se;a.style.height=we+"px",g.scrollTop=je-be+g.offsetTop}a.style.margin=`${po}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,u,g,v,x,o.dir,r]);hr(()=>S(),[S]);const[C,E]=b.useState();hr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const A=b.useCallback(_=>{_&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return c.jsx(Wne,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(Ze.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gF.displayName=Une;var zne="SelectPopperPosition",dS=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=po,...o}=t,s=Qx(n);return c.jsx(BL,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dS.displayName=zne;var[Wne,gC]=zd(gc,{}),fS="SelectViewport",yF=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=vl(fS,n),s=gC(fS,n),a=vt(e,o.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Yx.Slot,{scope:n,children:c.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-po*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+m,S=Math.min(y,w),C=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});yF.displayName=fS;var vF="SelectGroup",[Hne,qne]=zd(vF),Gne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=as();return c.jsx(Hne,{scope:n,id:i,children:c.jsx(Ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Gne.displayName=vF;var xF="SelectLabel",bF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qne(xF,n);return c.jsx(Ze.div,{id:i.id,...r,ref:e})});bF.displayName=xF;var Yy="SelectItem",[Kne,wF]=zd(Yy),SF=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=yl(Yy,n),l=vl(Yy,n),u=a.value===r,[d,f]=b.useState(o??""),[h,m]=b.useState(!1),y=vt(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,i)}),g=as(),v=b.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Kne,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(Yx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(Ze.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:Fe(s.onFocus,()=>m(!0)),onBlur:Fe(s.onBlur,()=>m(!1)),onClick:Fe(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Fe(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Fe(s.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Fe(s.onPointerMove,w=>{var S;v.current=w.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(s.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Fe(s.onKeyDown,w=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(One.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});SF.displayName=Yy;var Vf="SelectItemText",_F=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=yl(Vf,n),a=vl(Vf,n),l=wF(Vf,n),u=$ne(Vf,n),[d,f]=b.useState(null),h=vt(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return hr(()=>(g(y),()=>v(y)),[g,v,y]),c.jsxs(c.Fragment,{children:[c.jsx(Ze.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ec.createPortal(o.children,s.valueNode):null]})});_F.displayName=Vf;var EF="SelectItemIndicator",TF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wF(EF,n).isSelected?c.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});TF.displayName=EF;var hS="SelectScrollUpButton",CF=b.forwardRef((t,e)=>{const n=vl(hS,t.__scopeSelect),r=gC(hS,t.__scopeSelect),[i,o]=b.useState(!1),s=vt(e,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(AF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});CF.displayName=hS;var pS="SelectScrollDownButton",PF=b.forwardRef((t,e)=>{const n=vl(pS,t.__scopeSelect),r=gC(pS,t.__scopeSelect),[i,o]=b.useState(!1),s=vt(e,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?c.jsx(AF,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});PF.displayName=pS;var AF=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=vl("SelectScrollButton",n),s=b.useRef(null),a=Xx(n),l=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),hr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{l()})})}),Yne="SelectSeparator",NF=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});NF.displayName=Yne;var mS="SelectArrow",Xne=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Qx(n),o=yl(mS,n),s=vl(mS,n);return o.open&&s.position==="popper"?c.jsx(UL,{...i,...r,ref:e}):null});Xne.displayName=mS;function jF(t){return t===""||t===void 0}var IF=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=b.useRef(null),o=vt(e,i),s=pC(n);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[s,n]),c.jsx(jd,{asChild:!0,children:c.jsx("select",{...r,ref:o,defaultValue:n})})});IF.displayName="BubbleSelect";function kF(t){const e=Rn(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(s=>{const a=n.current+s;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function OF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Qne(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Qne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Jne=sF,RF=lF,Zne=uF,ere=dF,tre=fF,MF=hF,nre=yF,DF=bF,$F=SF,rre=_F,ire=TF,LF=CF,FF=PF,VF=NF;const BF=Jne,UF=Zne,yC=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(RF,{ref:r,className:lt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(ere,{asChild:!0,children:c.jsx(Oh,{className:"h-4 w-4 opacity-50"})})]}));yC.displayName=RF.displayName;const zF=b.forwardRef(({className:t,...e},n)=>c.jsx(LF,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(uH,{className:"h-4 w-4"})}));zF.displayName=LF.displayName;const WF=b.forwardRef(({className:t,...e},n)=>c.jsx(FF,{ref:n,className:lt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Oh,{className:"h-4 w-4"})}));WF.displayName=FF.displayName;const vC=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>c.jsx(tre,{children:c.jsxs(MF,{ref:i,className:lt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(zF,{}),c.jsx(nre,{className:lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(WF,{})]})}));vC.displayName=MF.displayName;const ore=b.forwardRef(({className:t,...e},n)=>c.jsx(DF,{ref:n,className:lt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ore.displayName=DF.displayName;const or=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs($F,{ref:r,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ire,{children:c.jsx(eT,{className:"h-4 w-4"})})}),c.jsx(rre,{children:e})]}));or.displayName=$F.displayName;const sre=b.forwardRef(({className:t,...e},n)=>c.jsx(VF,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",t),...e}));sre.displayName=VF.displayName;const are=[{value:"Tempo - Shot Clock",label:"Tempo (Shot Clock)"},{value:"Velocity - Break Speed",label:"Velocity (Break Speed)"},{value:"TrueLevel - Table Leveler",label:"TrueLevel (Table Gauge)"},{value:"Vectors - Cueing Emulator",label:"Vectors (Cueing Emulator)"},{value:"General",label:"General / App Overall"}],lre="https://docs.google.com/forms/d/e/1FAIpQLSfA64X9IVCaRX89t-QKUDEuHw46QaPiFDvu393OfU36ztNUUg/formResponse",og={tool:"entry.1706378579",rating:"entry.1128723298",comments:"entry.1061902",email:"entry.1137876909"};function cre(){const{promoCode:t,user:e}=Bd(),{toast:n}=Nd(),[r,i]=b.useState(!1),[o,s]=b.useState(""),[a,l]=b.useState(0),[u,d]=b.useState(""),[f,h]=b.useState(!1),m=b.useRef(null);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const g=async()=>{if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const v=new FormData;v.append(og.tool,o),v.append(og.rating,String(a)),v.append(og.comments,u),v.append(og.email,(e==null?void 0:e.email)||"anonymous"),await fetch(lre,{method:"POST",mode:"no-cors",body:v}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(v){console.error("Feedback error:",v),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx(de,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:c.jsx(MN,{className:"w-6 h-6"})}),c.jsx(Wr,{open:r,onOpenChange:i,children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsxs(ur,{children:[c.jsxs(Xn,{className:"flex items-center gap-2",children:[c.jsx(MN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),c.jsx(jo,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),c.jsxs(BF,{value:o,onValueChange:s,children:[c.jsx(yC,{"data-testid":"select-feedback-tool",children:c.jsx(UF,{placeholder:"Select a tool"})}),c.jsx(vC,{children:are.map(v=>c.jsx(or,{value:v.value,children:v.label},v.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(v=>c.jsx("button",{onClick:()=>l(v),className:"p-1 transition-colors","data-testid":`button-star-${v}`,children:c.jsx(OH,{className:`w-8 h-8 ${v<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},v))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),c.jsx(oF,{placeholder:"What's working? What could be better?",value:u,onChange:v=>d(v.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),c.jsxs(de,{onClick:g,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[f?c.jsx(xH,{className:"w-4 h-4 animate-spin"}):c.jsx(IH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})}),c.jsx("iframe",{ref:m,name:"hidden_iframe",className:"hidden",title:"form-target"})]})}function xC({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=b.useState(0),s=b.useRef(0),a=b.useRef(0),l=n[i],u=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,y=h.changedTouches[0].clientY,g=m-s.current,v=y-a.current;Math.abs(g)>Math.abs(v)&&Math.abs(g)>50&&(g>0&&i>0?o(x=>x-1):g<0&&i<n.length-1&&o(x=>x+1))},f=()=>{o(0),e()};return c.jsx(Wr,{open:t,onOpenChange:h=>{h||f()},children:c.jsxs(Er,{className:"max-w-md [&>button]:hidden",onTouchStart:u,onTouchEnd:d,"aria-describedby":void 0,onInteractOutside:h=>h.preventDefault(),onEscapeKeyDown:h=>h.preventDefault(),children:[c.jsx(jd,{children:c.jsxs(Xn,{children:[r," Tutorial"]})}),c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),c.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),c.jsx(de,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:c.jsx(Ex,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"min-h-[200px]",children:l.content}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsxs(de,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[c.jsx(cH,{className:"w-4 h-4 mr-1"}),"Back"]}),c.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>c.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?c.jsxs(de,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",c.jsx(iL,{className:"w-4 h-4 ml-1"})]}):c.jsx(de,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})]})})}const ure=_x("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function HF({className:t,variant:e,...n}){return c.jsx("div",{className:lt(ure({variant:e}),t),...n})}var dre="Label",qF=b.forwardRef((t,e)=>c.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qF.displayName=dre;var GF=qF;const fre=_x("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tn=b.forwardRef(({className:t,...e},n)=>c.jsx(GF,{ref:n,className:lt(fre(),t),...e}));tn.displayName=GF.displayName;var ow="rovingFocusGroup.onEntryFocus",hre={bubbles:!1,cancelable:!0},Jx="RovingFocusGroup",[gS,KF,pre]=Up(Jx),[mre,YF]=$i(Jx,[pre]),[gre,yre]=mre(Jx),XF=b.forwardRef((t,e)=>c.jsx(gS.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(gS.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(vre,{...t,ref:e})})}));XF.displayName=Jx;var vre=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),m=vt(e,h),y=Ud(o),[g=null,v]=Lo({prop:s,defaultProp:a,onChange:l}),[x,w]=b.useState(!1),S=Rn(u),C=KF(n),E=b.useRef(!1),[A,_]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(ow,S),()=>T.removeEventListener(ow,S)},[S]),c.jsx(gre,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>_(T=>T-1),[]),children:c.jsx(Ze.div,{tabIndex:x||A===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{E.current=!0}),onFocus:Fe(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const k=new CustomEvent(ow,hre);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const j=C().filter(V=>V.focusable),R=j.find(V=>V.active),O=j.find(V=>V.id===g),B=[R,O,...j].filter(Boolean).map(V=>V.ref.current);ZF(B,d)}}E.current=!1}),onBlur:Fe(t.onBlur,()=>w(!1))})})}),QF="RovingFocusGroupItem",JF=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=as(),l=o||a,u=yre(QF,n),d=u.currentTabStopId===l,f=KF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return b.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),c.jsx(gS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:c.jsx(Ze.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Fe(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:Fe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Fe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=wre(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?Sre(x,w+1):x.slice(w+1)}setTimeout(()=>ZF(x))}})})})});JF.displayName=QF;var xre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wre(t,e,n){const r=bre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xre[r]}function ZF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Sre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _re=XF,Ere=JF,bC="Tabs",[Tre,u2e]=$i(bC,[YF]),eV=YF(),[Cre,wC]=Tre(bC),tV=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Ud(a),[f,h]=Lo({prop:r,onChange:i,defaultProp:o});return c.jsx(Cre,{scope:n,baseId:as(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:c.jsx(Ze.div,{dir:d,"data-orientation":s,...u,ref:e})})});tV.displayName=bC;var nV="TabsList",rV=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=wC(nV,n),s=eV(n);return c.jsx(_re,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(Ze.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});rV.displayName=nV;var iV="TabsTrigger",oV=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=wC(iV,n),a=eV(n),l=lV(s.baseId,r),u=cV(s.baseId,r),d=r===s.value;return c.jsx(Ere,{asChild:!0,...a,focusable:!i,active:d,children:c.jsx(Ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Fe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:Fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:Fe(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});oV.displayName=iV;var sV="TabsContent",aV=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=wC(sV,n),l=lV(a.baseId,r),u=cV(a.baseId,r),d=r===a.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(no,{present:i||d,children:({present:h})=>c.jsx(Ze.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});aV.displayName=sV;function lV(t,e){return`${t}-trigger-${e}`}function cV(t,e){return`${t}-content-${e}`}var Pre=tV,uV=rV,dV=oV,fV=aV;const hV=Pre,SC=b.forwardRef(({className:t,...e},n)=>c.jsx(uV,{ref:n,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));SC.displayName=uV.displayName;const _u=b.forwardRef(({className:t,...e},n)=>c.jsx(dV,{ref:n,className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));_u.displayName=dV.displayName;const Eu=b.forwardRef(({className:t,...e},n)=>c.jsx(fV,{ref:n,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Eu.displayName=fV.displayName;function I2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),c.jsx("circle",{cx:"24",cy:"24",r:"16"}),c.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function k2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),c.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),c.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),c.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),c.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),c.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),c.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function O2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),c.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function R2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return c.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("circle",{cx:"24",cy:"24",r:"10"}),c.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),c.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),c.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),c.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),c.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),c.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),c.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),c.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),c.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const M2="cuemaster_dev_mode";function Are(){const{promoCode:t}=Bd();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rL,{className:"w-5 h-5 text-amber-500"}),c.jsxs("div",{children:[c.jsx(HF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Nre(){var B;const[,t]=gl(),[e,n]=b.useState(!1),[r,i]=b.useState(!1),{theme:o,toggleTheme:s,colorTheme:a,setColorTheme:l}=HG(),{user:u,isPro:d,promoCode:f,signInWithGoogle:h,signOut:m}=Bd(),{language:y,setLanguage:g}=dte(),[v,x]=b.useState(!1),[w,S]=b.useState(0),C=b.useRef(null),E=b.useRef(0),[A,_]=b.useState(!1),[T,N]=b.useState(xt.getConsent()),[k,j]=b.useState(!1),R="cuemaster_main_tutorial_complete",O=[{title:"Welcome!",content:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-lg font-bold text-primary mb-1",children:"CueMaster Suite"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"by Promethean Games"})]}),c.jsx("p",{className:"text-muted-foreground",children:"Built by players, for players. Whether you're grinding league nights, preparing for tournament play, or just looking to level up your practice sessions  we've got you covered."}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Four precision tools designed to sharpen your fundamentals, track your progress, and give you the competitive edge at the table."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg text-center",children:c.jsx("p",{className:"text-xs text-muted-foreground italic",children:'"Every shot counts. Make them count for something."'})})]})},{title:"Tempo  Shot Clock",content:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(I2,{}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"CueMaster: Tempo"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Professional Shot Timer"})]})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Tournament-grade shot clock with solo, two-player, and Scotch Doubles modes. Track shot times, extensions, and timeouts across your practice or match sessions."}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Full-screen jumbo timer with tap-to-pause"}),c.jsx("li",{children:" Dynamic color warnings as time expires"}),c.jsx("li",{children:" Session stats: avg shot time, extensions used"}),c.jsx("li",{children:" Session history for performance tracking"})]})]})},{title:"Velocity  Break Speed",content:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(O2,{}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"CueMaster: Velocity"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Break-Speed Analyzer"})]})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Microphone-based break speed detection with pool hall-optimized audio processing. Position your cue and rack, then let the app calculate your break velocity."}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Interactive table with draggable cue positioning"}),c.jsx("li",{children:" 8-ball and 9-ball rack configurations"}),c.jsx("li",{children:' MPH display or "Shark Mode" percentage'}),c.jsx("li",{children:" Save and compare your best breaks"})]})]})},{title:"Vectors  Cue Emulator",content:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(R2,{}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"CueMaster: Vectors"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics-Based Shot Simulator"})]})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"High-resolution pool table canvas with realistic physics. Place balls, aim with precision, and visualize trajectories with full English control."}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Ghost ball targeting with cut angle display"}),c.jsx("li",{children:" Draw, follow, and side spin visualization"}),c.jsx("li",{children:" Adjustable table size and felt speed"}),c.jsx("li",{children:" Practice courses for skill development"})]})]})},{title:"TrueLevel  Table Gauge",content:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(k2,{}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"CueMaster: TrueLevel"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital Bubble Level"})]})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Transform your device into a precision level gauge using built-in orientation sensors. Quickly verify table levelness before practice or competition."}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Real-time bubble indicator visualization"}),c.jsx("li",{children:" Calibration system for accurate readings"}),c.jsx("li",{children:" Location presets: Home, League, Tournament"}),c.jsx("li",{children:" Works on mobile devices and tablets"})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg mt-2",children:c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Ready to play? Tap ",c.jsx("strong",{className:"text-foreground",children:"Got It"})," to get started!"]})})]})}];b.useEffect(()=>{localStorage.getItem(M2)==="true"&&x(!0),xt.isFirstLaunch()&&_(!0),localStorage.getItem(R)||setTimeout(()=>j(!0),500)},[]);const L=V=>{if(V.type==="click"&&E.current>Date.now()-300||(V.type==="touchend"&&(E.current=Date.now(),V.preventDefault()),v))return;const U=w+1;S(U),C.current&&clearTimeout(C.current),U>=7?(x(!0),localStorage.setItem(M2,"true"),S(0)):C.current=setTimeout(()=>S(0),2e3)};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[c.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[c.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),c.jsxs("p",{className:`text-sm font-light ${d?(f==null?void 0:f.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(f==null?void 0:f.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",d&&" Pro"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{onClick:L,onTouchEnd:L,className:"cursor-default select-none touch-manipulation",children:c.jsx(gte,{})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:c.jsx(lc,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>i(!0),"data-testid":"button-profile",children:c.jsx(hH,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})]})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[u&&c.jsx("div",{className:"mb-4 text-center",children:c.jsxs("p",{className:"text-lg text-muted-foreground",children:["Welcome back, ",c.jsx("span",{className:"text-foreground font-medium",children:((B=u.displayName)==null?void 0:B.split(" ")[0])||"Player"}),"!"]})}),c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),c.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(eg,{icon:c.jsx(R2,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator",proFeature:!0,isProUser:d}),c.jsx(eg,{icon:c.jsx(k2,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level",proFeature:!0,isProUser:d}),c.jsx(eg,{icon:c.jsx(I2,{}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:()=>t("/shot-clock"),testId:"card-shot-clock",proFeature:!0,isProUser:d}),c.jsx(eg,{icon:c.jsx(O2,{}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:()=>t("/break-speed"),testId:"card-break-speed",proFeature:!0,isProUser:d})]})]})}),c.jsx("footer",{className:"py-4 px-6 text-center border-t",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),c.jsx(Wr,{open:e,onOpenChange:n,children:c.jsxs(Er,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[c.jsx(ur,{className:"flex-shrink-0",children:c.jsx(Xn,{children:"Settings"})}),c.jsxs(hV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[c.jsxs(SC,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[c.jsxs(_u,{value:"appearance","data-testid":"tab-appearance",children:[c.jsx($N,{className:"w-4 h-4 mr-1"}),"Theme"]}),c.jsxs(_u,{value:"analytics","data-testid":"tab-analytics",children:[c.jsx(Rh,{className:"w-4 h-4 mr-1"}),"Privacy"]})]}),c.jsxs(Eu,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(tn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[o==="dark"?c.jsx(PH,{className:"w-4 h-4"}):c.jsx(RH,{className:"w-4 h-4"}),"Theme Mode"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:o==="dark"?"Dark":"Light"}),c.jsx(ji,{id:"theme-toggle",checked:o==="dark",onCheckedChange:s,"data-testid":"switch-theme"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(tn,{className:"flex items-center gap-2",children:[c.jsx($N,{className:"w-4 h-4"}),"Accent Color"]}),c.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:$g.map(V=>c.jsx("button",{onClick:()=>l(V),className:`relative aspect-square rounded-lg transition-all ${a.id===V.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${V.primary})`},title:V.name,"data-testid":`button-color-${V.id}`,children:a.id===V.id&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},V.id))}),c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",a.name]})]}),c.jsx("div",{className:"pt-4 border-t",children:c.jsxs(de,{variant:"outline",className:"w-full",onClick:()=>{n(!1),setTimeout(()=>j(!0),200)},"data-testid":"button-view-tutorial",children:[c.jsx(Wp,{className:"w-4 h-4 mr-2"}),"View App Tutorial"]})})]}),c.jsxs(Eu,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[c.jsx(Are,{}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rh,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Data Collection"}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),c.jsx(ji,{checked:T.usageStats,onCheckedChange:V=>{const U={...T,usageStats:V};N(U),xt.setConsent(U)},"data-testid":"switch-settings-usage"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),c.jsx(ji,{checked:T.skillMetrics,onCheckedChange:V=>{const U={...T,skillMetrics:V};N(U),xt.setConsent(U)},"data-testid":"switch-settings-skills"})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!T.usageStats&&c.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),c.jsx(ji,{checked:T.benchmarking,onCheckedChange:V=>{const U={...T,benchmarking:V,usageStats:V?!0:T.usageStats};N(U),xt.setConsent(U)},"data-testid":"switch-settings-benchmark"})]})]}),c.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Data Management"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const V=xt.exportData(),U=new Blob([V],{type:"application/json"}),F=URL.createObjectURL(U),W=document.createElement("a");W.href=F,W.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,W.click(),URL.revokeObjectURL(F)},"data-testid":"button-export-data",children:[c.jsx(oL,{className:"w-4 h-4 mr-2"}),"Export"]}),c.jsxs(de,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&xt.deleteAllData()},"data-testid":"button-delete-data",children:[c.jsx(rT,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]})]})]})}),c.jsx(Wr,{open:r,onOpenChange:i,children:c.jsxs(Er,{className:"max-w-md max-h-[85vh] overflow-auto",children:[c.jsx(ur,{children:c.jsx(Xn,{children:"Profile"})}),c.jsxs("div",{className:"space-y-4 mt-2",children:[c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-primary/20":"bg-muted"}`,children:c.jsx(Mg,{className:`w-6 h-6 ${u?"text-primary":"text-muted-foreground"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:u?u.displayName||u.email||"Signed In":"Guest User"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:u?u.email:"Not signed in"})]})]}),c.jsx("div",{className:"flex items-center gap-2 text-sm",children:u?c.jsxs(c.Fragment,{children:[c.jsx(fH,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):c.jsxs(c.Fragment,{children:[c.jsx(pH,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[c.jsx(tn,{className:"text-sm font-medium",children:"Pro Status"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rL,{className:`w-5 h-5 ${d?"text-primary":"text-muted-foreground"}`}),c.jsx("span",{className:d?"font-medium":"text-muted-foreground",children:d?"Pro Unlocked":"Free Version"})]}),d&&f&&c.jsx(HF,{variant:"outline",className:f.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":f.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:f.toUpperCase()})]}),d&&c.jsx("p",{className:"text-xs text-muted-foreground",children:u?"Pro status synced to your account":"Pro status stored locally on this device"})]}),c.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[c.jsxs(tn,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(gH,{className:"w-4 h-4"}),"Language"]}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Kg.map(V=>c.jsxs("button",{onClick:()=>g(V),className:`flex items-center gap-2 p-2 rounded-lg border transition-all text-left ${y.id===V.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,"data-testid":`button-lang-${V.id}`,children:[c.jsx("span",{className:"text-lg",children:V.flag}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:V.name}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:V.nativeName})]}),y.id===V.id&&c.jsx(eT,{className:"w-4 h-4 text-primary flex-shrink-0"})]},V.id))}),c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",y.name," (",y.nativeName,")"]})]}),c.jsx("div",{className:"space-y-2",children:u?c.jsxs(de,{variant:"outline",className:"w-full",onClick:async()=>{await m()},"data-testid":"button-sign-out",children:[c.jsx(wH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),c.jsxs(de,{variant:"outline",className:"w-full",onClick:async()=>{await h()},"data-testid":"button-sign-in-google",children:[c.jsx(O1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),c.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[c.jsx("p",{children:"App Version: v0.9.7.127"}),u&&c.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]})]})}),c.jsx(jne,{open:A,onComplete:()=>{_(!1),N(xt.getConsent())}}),c.jsx(cre,{}),c.jsx(xC,{open:k,onComplete:()=>{j(!1),localStorage.setItem(R,"true")},pages:O,toolName:"CueMaster Suite"})]})}var _C="Collapsible",[jre,pV]=$i(_C),[Ire,EC]=jre(_C),mV=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=t,[l=!1,u]=Lo({prop:r,defaultProp:i,onChange:s});return c.jsx(Ire,{scope:n,disabled:o,contentId:as(),open:l,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Ze.div,{"data-state":AC(l),"data-disabled":o?"":void 0,...a,ref:e})})});mV.displayName=_C;var gV="CollapsibleTrigger",TC=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=EC(gV,n);return c.jsx(Ze.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":AC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Fe(t.onClick,i.onOpenToggle)})});TC.displayName=gV;var CC="CollapsibleContent",PC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=EC(CC,t.__scopeCollapsible);return c.jsx(no,{present:n||i.open,children:({present:o})=>c.jsx(kre,{...r,ref:e,present:o})})});PC.displayName=CC;var kre=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,s=EC(CC,n),[a,l]=b.useState(r),u=b.useRef(null),d=vt(e,u),f=b.useRef(0),h=f.current,m=b.useRef(0),y=m.current,g=s.open||a,v=b.useRef(g),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),hr(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),l(r)}},[s.open,r]),c.jsx(Ze.div,{"data-state":AC(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function AC(t){return t?"open":"closed"}var yV=mV,Ore=TC,Rre=PC;const D2=yV,$2=TC,L2=PC,cr=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:lt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cr.displayName="Input";var da="Accordion",Mre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[NC,Dre,$re]=Up(da),[Zx,d2e]=$i(da,[$re,pV]),jC=pV(),vV=q.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return c.jsx(NC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?c.jsx(Bre,{...o,ref:e}):c.jsx(Vre,{...i,ref:e})})});vV.displayName=da;var[xV,Lre]=Zx(da),[bV,Fre]=Zx(da,{collapsible:!1}),Vre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=t,[a,l]=Lo({prop:n,defaultProp:r,onChange:i});return c.jsx(xV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:q.useCallback(()=>o&&l(""),[o,l]),children:c.jsx(bV,{scope:t.__scopeAccordion,collapsible:o,children:c.jsx(wV,{...s,ref:e})})})}),Bre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Lo({prop:n,defaultProp:r,onChange:i}),l=q.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=q.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return c.jsx(xV,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(bV,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(wV,{...o,ref:e})})})}),[Ure,e0]=Zx(da),wV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=t,a=q.useRef(null),l=vt(a,e),u=Dre(n),f=Ud(i)==="ltr",h=Fe(t.onKeyDown,m=>{var T;if(!Mre.includes(m.key))return;const y=m.target,g=u().filter(N=>{var k;return!((k=N.ref.current)!=null&&k.disabled)}),v=g.findIndex(N=>N.ref.current===y),x=g.length;if(v===-1)return;m.preventDefault();let w=v;const S=0,C=x-1,E=()=>{w=v+1,w>C&&(w=S)},A=()=>{w=v-1,w<S&&(w=C)};switch(m.key){case"Home":w=S;break;case"End":w=C;break;case"ArrowRight":o==="horizontal"&&(f?E():A());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?A():E());break;case"ArrowUp":o==="vertical"&&A();break}const _=w%x;(T=g[_].ref.current)==null||T.focus()});return c.jsx(Ure,{scope:n,disabled:r,direction:i,orientation:o,children:c.jsx(NC.Slot,{scope:n,children:c.jsx(Ze.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Xy="AccordionItem",[zre,IC]=Zx(Xy),SV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=e0(Xy,n),s=Lre(Xy,n),a=jC(n),l=as(),u=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return c.jsx(zre,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(yV,{"data-orientation":o.orientation,"data-state":AV(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});SV.displayName=Xy;var _V="AccordionHeader",EV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=e0(da,n),o=IC(_V,n);return c.jsx(Ze.h3,{"data-orientation":i.orientation,"data-state":AV(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});EV.displayName=_V;var yS="AccordionTrigger",TV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=e0(da,n),o=IC(yS,n),s=Fre(yS,n),a=jC(n);return c.jsx(NC.ItemSlot,{scope:n,children:c.jsx(Ore,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:e})})});TV.displayName=yS;var CV="AccordionContent",PV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=e0(da,n),o=IC(CV,n),s=jC(n);return c.jsx(Rre,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});PV.displayName=CV;function AV(t){return t?"open":"closed"}var Wre=vV,Hre=SV,qre=EV,NV=TV,jV=PV;const ah=Wre,So=b.forwardRef(({className:t,...e},n)=>c.jsx(Hre,{ref:n,className:lt("border-b",t),...e}));So.displayName="AccordionItem";const _o=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(qre,{className:"flex",children:c.jsxs(NV,{ref:r,className:lt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,c.jsx(Oh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_o.displayName=NV.displayName;const Eo=b.forwardRef(({className:t,children:e,...n},r)=>c.jsx(jV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:lt("pb-4 pt-0",t),children:e})}));Eo.displayName=jV.displayName;function Gre(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var kC="ScrollArea",[IV,f2e]=$i(kC),[Kre,ro]=IV(kC),kV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(0),[S,C]=b.useState(0),[E,A]=b.useState(!1),[_,T]=b.useState(!1),N=vt(e,j=>l(j)),k=Ud(i);return c.jsx(Kre,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:C,children:c.jsx(Ze.div,{dir:k,...s,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});kV.displayName=kC;var OV="ScrollAreaViewport",RV=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=ro(OV,n),a=b.useRef(null),l=vt(e,a,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RV.displayName=OV;var Ss="ScrollAreaScrollbar",OC=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(Ss,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?c.jsx(Yre,{...r,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(Xre,{...r,ref:e,forceMount:n}):i.type==="auto"?c.jsx(MV,{...r,ref:e,forceMount:n}):i.type==="always"?c.jsx(RC,{...r,ref:e}):null});OC.displayName=Ss;var Yre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(Ss,t.__scopeScrollArea),[o,s]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(no,{present:n||o,children:c.jsx(MV,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Xre=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ro(Ss,t.__scopeScrollArea),o=t.orientation==="horizontal",s=n0(()=>l("SCROLL_END"),100),[a,l]=Gre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),c.jsx(no,{present:n||a!=="hidden",children:c.jsx(RC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Fe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Fe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),MV=b.forwardRef((t,e)=>{const n=ro(Ss,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=b.useState(!1),a=t.orientation==="horizontal",l=n0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:d)}},10);return rd(n.viewport,l),rd(n.content,l),c.jsx(no,{present:r||o,children:c.jsx(RC,{"data-state":o?"visible":"hidden",...i,ref:e})})}),RC=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ro(Ss,t.__scopeScrollArea),o=b.useRef(null),s=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return nie(h,s.current,a,m)}return n==="horizontal"?c.jsx(Qre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,m=F2(h,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?c.jsx(Jre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,m=F2(h,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Qre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ro(Ss,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=vt(e,l,o.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx($V,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":t0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),UV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jy(s.paddingLeft),paddingEnd:Jy(s.paddingRight)}})}})}),Jre=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ro(Ss,t.__scopeScrollArea),[s,a]=b.useState(),l=b.useRef(null),u=vt(e,l,o.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx($V,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":t0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),UV(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jy(s.paddingTop),paddingEnd:Jy(s.paddingBottom)}})}})}),[Zre,DV]=IV(Ss),$V=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=ro(Ss,n),[y,g]=b.useState(null),v=vt(e,N=>g(N)),x=b.useRef(null),w=b.useRef(""),S=m.viewport,C=r.content-r.viewport,E=Rn(d),A=Rn(l),_=n0(f,10);function T(N){if(x.current){const k=N.clientX-x.current.left,j=N.clientY-x.current.top;u({x:k,y:j})}}return b.useEffect(()=>{const N=k=>{const j=k.target;(y==null?void 0:y.contains(j))&&E(k,C)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[S,y,C,E]),b.useEffect(A,[r,A]),rd(y,_),rd(m.content,_),c.jsx(Zre,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:Rn(o),onThumbPointerUp:Rn(s),onThumbPositionChange:A,onThumbPointerDown:Rn(a),children:c.jsx(Ze.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Fe(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:Fe(t.onPointerMove,T),onPointerUp:Fe(t.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Qy="ScrollAreaThumb",LV=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=DV(Qy,t.__scopeScrollArea);return c.jsx(no,{present:n||i.hasThumb,children:c.jsx(eie,{ref:e,...r})})}),eie=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=ro(Qy,n),s=DV(Qy,n),{onThumbPositionChange:a}=s,l=vt(e,f=>s.onThumbChange(f)),u=b.useRef(void 0),d=n0(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=rie(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),c.jsx(Ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Fe(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;s.onThumbPointerDown({x:y,y:g})}),onPointerUp:Fe(t.onPointerUp,s.onThumbPointerUp)})});LV.displayName=Qy;var MC="ScrollAreaCorner",FV=b.forwardRef((t,e)=>{const n=ro(MC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(tie,{...t,ref:e}):null});FV.displayName=MC;var tie=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ro(MC,n),[o,s]=b.useState(0),[a,l]=b.useState(0),u=!!(o&&a);return rd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),rd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?c.jsx(Ze.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jy(t){return t?parseInt(t,10):0}function VV(t,e){const n=t/e;return isNaN(n)?0:n}function t0(t){const e=VV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function nie(t,e,n,r="ltr"){const i=t0(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return BV([l,u],f)(t)}function F2(t,e,n="ltr"){const r=t0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Yh(t,l);return BV([0,s],[0,a])(u)}function BV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function UV(t,e){return t>0&&t<e}var rie=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function n0(t,e){const n=Rn(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function rd(t,e){const n=Rn(e);hr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var zV=kV,iie=RV,oie=FV;const WV=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(zV,{ref:r,className:lt("relative overflow-hidden",t),...n,children:[c.jsx(iie,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(HV,{}),c.jsx(oie,{})]}));WV.displayName=zV.displayName;const HV=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(OC,{ref:r,orientation:e,className:lt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(LV,{className:"relative flex-1 rounded-full bg-border"})}));HV.displayName=OC.displayName;const sie=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function aie(t){return sie.includes(t.toUpperCase().trim())}function Zy({className:t=""}){return c.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:c.jsx(Ll,{className:"w-3 h-3"})})}function Qg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Bd(),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(!1),[m,y]=b.useState(!1),g=async w=>{if(w.preventDefault(),!aie(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await o(a);h(!1),S?y(!0):d("Failed to unlock. Please try again.")},v=()=>{m?window.location.reload():e(!1)},x=[{icon:Mh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:Ey,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:cL,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:mH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:LN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:Ll,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return c.jsx(Wr,{open:t,onOpenChange:v,children:c.jsx(Er,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?c.jsxs(c.Fragment,{children:[c.jsxs(ur,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:c.jsx(LN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),c.jsx(Xn,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),c.jsx(jo,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),c.jsx(WV,{className:"flex-1 max-h-[300px] pr-4",children:c.jsxs("div",{className:"space-y-3 py-2",children:[c.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),x.map((w,S)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[c.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:c.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm",children:w.title}),c.jsx(eT,{className:"w-3 h-3 text-green-500"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),c.jsxs(de,{onClick:v,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Let's Go!"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(ur,{children:[c.jsxs(Xn,{className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),c.jsx(jo,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs(de,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[c.jsx(O1,{className:"w-4 h-4"}),"Sign in with Google"]}),c.jsxs(de,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[c.jsx(O1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&c.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(cr,{placeholder:"Enter promo code",value:a,onChange:w=>{l(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),u&&c.jsx("p",{className:"text-sm text-destructive mt-2",children:u})]}),c.jsxs(de,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[c.jsx(Ll,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function ev({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=b.useState(!1),{isPro:a}=Bd();if(a||!e)return c.jsx(c.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?c.jsxs("div",{className:"relative",children:[t,c.jsx("div",{className:"absolute top-1 right-1",children:c.jsx(Zy,{})}),c.jsx(Qg,{open:o,onOpenChange:s})]}):r==="overlay"?c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[c.jsx(k1,{className:"w-8 h-8 text-muted-foreground mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),c.jsxs(de,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),c.jsx(Qg,{open:o,onOpenChange:s})]}):c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:c.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[c.jsx(k1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),c.jsxs(de,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[c.jsx(Ll,{className:"w-4 h-4"}),"Upgrade"]})]})}),c.jsx(Qg,{open:o,onOpenChange:s})]})}function lie({children:t,isLocked:e=!0,onClick:n,...r}){const[i,o]=b.useState(!1),{isPro:s}=Bd();if(s||!e)return c.jsx(de,{onClick:n,...r,children:t});const a=l=>{l.preventDefault(),o(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs(de,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,c.jsx("span",{className:"absolute -top-1 -right-1",children:c.jsx(Zy,{})})]}),c.jsx(Qg,{open:i,onOpenChange:o})]})}const Lc=["mph","kph","m/s","ft/s"],Jg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},V2=Object.keys(Jg),Ko=(t,e,n)=>Math.min(n,Math.max(e,t)),cie=.0254,ts=2.25,js=ts/2,qV="cuemaster-velocity-v1";function uie(){try{const t=localStorage.getItem(qV);return t?JSON.parse(t):null}catch{return null}}function die(t){try{localStorage.setItem(qV,JSON.stringify(t))}catch{}}function fie(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*ts,d=(l-1)*ts;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ts,y:u,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],u=r+a*ts,d=(l-1)*ts;for(let f=0;f<l;f++)o.push({x:i-d/2+f*ts,y:u,row:a,idx:f,n:l})}}return o}function hie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function pie({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function mie(){var Ot;const[,t]=gl(),{toast:e}=Nd(),[n,r]=b.useState("record"),[i,o]=b.useState(3),s=V2[i]||"9' (tournament)",a=Jg[s],l=a.W,u=a.L,[d,f]=b.useState("9"),[h,m]=b.useState(!0),[y,g]=b.useState("mph"),[v,x]=b.useState(!1),w=()=>{const K=Lc.indexOf(y);g(Lc[(K+1)%Lc.length])},[S,C]=b.useState({x:25,y:20}),[E,A]=b.useState({x:l/2,y:3*u/4-ts}),[_,T]=b.useState(null),[N,k]=b.useState(null),[j,R]=b.useState(!1),[O,L]=b.useState(null),[B,V]=b.useState(null),[U,F]=b.useState(null),[W,ne]=b.useState([]),[X,ie]=b.useState(!1),[ce,be]=b.useState(!1),[ke,ot]=b.useState(1),[xe,je]=b.useState(!1),[se,pe]=b.useState([null,null,null,null,null]),[le,z]=b.useState({open:!1,kind:null,index:null}),[we,Te]=b.useState(!1),[Ye,Xe]=b.useState(!1),[st,pt]=b.useState([]),[_e,Ae]=b.useState(!1),[Me,Ct]=b.useState(""),[Ut,rn]=b.useState(""),[pn,zn]=b.useState(!1),[Nr,mn]=b.useState(0),[gn,Qt]=b.useState(!1),[yn,Lt]=b.useState([]),[Ge,Gr]=b.useState(null),[mr,jr]=b.useState(0),Ir=b.useRef(null),zt=b.useRef(null),on=b.useRef(null),gr=b.useRef(!1);b.useEffect(()=>(xt.startSession("velocity"),()=>{xt.endSession()}),[]),b.useEffect(()=>{const K=uie();K?(o(K.presetIndex??3),C(K.cue||{x:25,y:20}),A(K.ghost||{x:l/2,y:3*u/4-ts}),g(K.unit||"mph"),ne(K.history||[]),f(K.variant||"9"),m(K.snap??!0),pe(K.breakSlots||[null,null,null,null,null]),pt(K.leaderboard||[]),rn(K.storedInitials||""),K.tutorialDone||be(!0)):be(!0)},[]),b.useEffect(()=>{die({presetIndex:i,cue:S,ghost:E,unit:y,history:W,variant:d,snap:h,breakSlots:se,leaderboard:st,storedInitials:Ut,tutorialDone:!0})},[i,S,E,y,W,d,h,se,st,Ut]),b.useEffect(()=>{const K=setInterval(()=>{mn(Ne=>(Ne+1)%Lc.length)},4e3);return()=>clearInterval(K)},[]),b.useEffect(()=>{C(K=>({x:Ko(K.x,0,l),y:Ko(K.y,0,u/4)})),A(K=>({x:Ko(K.x,0,l),y:Ko(K.y,js,u-js)}))},[l,u]);const Dn=b.useMemo(()=>fie(d,l,u),[d,l,u]),Ht=b.useCallback((K,Ne)=>{const me=Ne.x-K.x,Q=Ne.y-K.y,Be=Math.hypot(me,Q);if(!Be)return null;const $e=me/Be,ut=Q/Be,Ft=ts;let Jt=1/0,qt=null,nr=null;for(let rr=0;rr<Dn.length;rr++){const jt=Dn[rr],M=jt.x-K.x,$=jt.y-K.y,G=M*$e+$*ut;if(G<=0)continue;const J=K.x+$e*G,Z=K.y+ut*G,ue=Math.hypot(jt.x-J,jt.y-Z);if(ue>Ft)continue;const ae=Math.sqrt(Ft*Ft-ue*ue),te=G-ae;te<=0||te<Jt&&(Jt=te,qt={x:K.x+$e*te,y:K.y+ut*te},nr=rr)}return qt?{point:qt,index:nr}:null},[Dn]),tr=b.useCallback((K=S,Ne=E)=>{const me=Ne.x-K.x,Q=Ne.y-K.y,Be=Math.hypot(me,Q);return Q<=0||Be<=0?null:Be},[S,E]),$n=b.useMemo(()=>{const K=tr();if(!K)return!1;const Ne=(E.x-S.x)/K,me=(E.y-S.y)/K,Q=pie({x0:S.x,y0:S.y,dx:Ne,dy:me,W:l,L:u});return!Q||K<=Q+1e-6},[S,E,l,u,tr]),An=b.useMemo(()=>{const K=tr();return{dCG:K?K.toFixed(2):""}},[tr]),so=K=>{switch(y){case"ft/s":return(K*3.28084).toFixed(2);case"m/s":return K.toFixed(2);case"kph":return(K*3.6).toFixed(2);default:return(K*2.23693629).toFixed(2)}},hi=K=>{switch(y){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},pi=(K,Ne)=>{switch(Ne){case"ft/s":return(K*1.46667).toFixed(2);case"m/s":return(K*.44704).toFixed(2);case"kph":return(K*1.60934).toFixed(2);default:return K.toFixed(2)}},zo=(K,Ne,me=!1)=>{const Q=K.toUpperCase().slice(0,3),Be=Math.min(100,Math.round(Ne/25*100)),$e={initials:Q,mph:Ne,percentage:Be,ts:Date.now()};pt(ut=>[...ut,$e].sort((Jt,qt)=>qt.percentage-Jt.percentage).slice(0,1e3)),Q.length===3&&rn(Q),zn(!1),Ct(""),me||e({title:"Added to Leaderboard",description:`${Q} - ${Be}%`})},mi=b.useRef([]),[ao,yr]=b.useState(0),[Es,kr]=b.useState(null),gi=3e3,Ts=48e3,Kr=(K,Ne=!1)=>{if(K.length<20)return Ne&&console.log("[DEBUG] Not enough samples:",K.length),null;const me=2,Q=[];for(let te=0;te<K.length;te++){let ye=0,Ee=0;for(let Se=Math.max(0,te-me);Se<=Math.min(K.length-1,te+me);Se++)ye+=K[Se].amplitude*K[Se].amplitude,Ee++;Q.push({time:K[te].time,amplitude:Math.sqrt(ye/Ee)})}let Be=0;for(let te=0;te<Q.length;te++)Q[te].amplitude>Be&&(Be=Q[te].amplitude);if(Ne&&console.log("[DEBUG] Max amplitude (smoothed):",Be.toFixed(4)),Be<.08)return Ne&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const $e=80,ut=450,Ft=120;let Jt=0,qt=Q[0].amplitude;for(let te=0;te<Q.length&&!(Q[te].time>80);te++)Q[te].amplitude>qt&&(qt=Q[te].amplitude,Jt=te);const nr=Q[Jt].time;Ne&&console.log("[DEBUG] First peak at",nr.toFixed(1),"ms, amp:",qt.toFixed(4));const rr=te=>qt*Math.exp(-te/Ft),jt=.75;let M=-1,$=1/0,G=-1;for(let te=Jt+1;te<Q.length;te++){const ye=Q[te].time-nr;if(ye<25)continue;if(ye>200)break;const Ee=rr(ye),Se=Ee*jt,Oe=te>0&&te<Q.length-1&&Q[te].amplitude<=Q[te-1].amplitude&&Q[te].amplitude<=Q[te+1].amplitude;(Q[te].amplitude<Se||Oe&&Q[te].amplitude<Ee)&&Q[te].amplitude<$&&($=Q[te].amplitude,M=te,G=Q[te].time)}if(M===-1){Ne&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let te=qt;for(let ye=Jt+1;ye<Q.length;ye++){const Ee=Q[ye].time-nr;if(!(Ee<25)){if(Ee>200)break;Q[ye].amplitude<te&&(te=Q[ye].amplitude,M=ye,G=Q[ye].time,$=te)}}M!==-1&&$>qt*.8&&(Ne&&console.log("[DEBUG] Valley not deep enough (only",((1-$/qt)*100).toFixed(1),"% drop)"),M=-1)}if(M===-1)return Ne&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(Ne){const te=rr(G-nr);console.log("[DEBUG] Valley at",G.toFixed(1),"ms, amp:",$.toFixed(4),"(expected decay:",te.toFixed(4),", ratio:",($/te).toFixed(2),")")}let J=-1,Z=0;const ue=1.3;for(let te=M+1;te<Q.length;te++){const ye=Q[te].time-nr;if(!(ye<$e)){if(ye>ut)break;Q[te].amplitude>$*ue&&Q[te].amplitude>Z&&(Z=Q[te].amplitude,J=te)}}if(Ne&&(J!==-1?console.log("[DEBUG] Second peak at",Q[J].time.toFixed(1),"ms, amp:",Z.toFixed(4),"(",((Z/$-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",$e,"-",ut,"ms window")),J===-1||Z<Be*.1)return Ne&&console.log("[DEBUG] Second peak too weak or not found (need >",(Be*.1).toFixed(4),")"),null;const ae=te=>{let ye=0,Ee=1/0;for(let Se=0;Se<K.length;Se++){const Oe=Math.abs(K[Se].time-te);Oe<Ee&&(Ee=Oe,ye=Se)}return K[ye]};return{first:ae(Q[Jt].time),second:ae(Q[J].time),valleyTime:G,valleyAmp:$,expectedDecayAtValley:rr(G-nr),decayTau:Ft}},ma=async()=>{const K={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:Ts}},Ne=await navigator.mediaDevices.getUserMedia(K),me=new AudioContext({sampleRate:Ts});me.state==="suspended"&&await me.resume();const Q=me.createMediaStreamSource(Ne),Be=me.createBiquadFilter();Be.type="highpass",Be.frequency.value=150;const $e=me.createBiquadFilter();$e.type="lowpass",$e.frequency.value=8e3;const ut=me.createAnalyser();ut.fftSize=2048,Q.connect(Be),Be.connect($e),$e.connect(ut);const Ft=new Float32Array(ut.fftSize);mi.current=[];let Jt=null,qt=null;const nr=.15,rr=()=>{if(!gr.current)return;ut.getFloatTimeDomainData(Ft);let jt=0;for(let $=0;$<Ft.length;$++)jt=Math.max(jt,Math.abs(Ft[$]));const M=performance.now();if(jr(jt),Jt===null&&jt>nr&&(Jt=M,qt=M,kr("Recording break..."),gn&&console.log("[DEBUG] Recording triggered at amplitude:",jt.toFixed(4))),Jt!==null){mi.current.push({time:M-Jt,amplitude:jt});const $=M-qt;if(yr(Math.min(100,$/gi*100)),$>=gi){gr.current=!1,kr("Analyzing audio..."),gn&&Lt([...mi.current]);const G=Kr(mi.current,gn);if(gn&&Gr(G?{first:G.first,second:G.second,valleyTime:G.valleyTime,valleyAmp:G.valleyAmp,expectedDecayAtValley:G.expectedDecayAtValley,decayTau:G.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),G){const J=(G.second.time-G.first.time)/1e3;if(J>=.08&&J<=.45)L(G.first.time/1e3),V(G.second.time/1e3),kr(`Found peaks: ${J.toFixed(4)}s apart`);else{const Z=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 80-450ms)`;on.current&&(on.current.stream.getTracks().forEach(ue=>ue.stop()),on.current.audioCtx.close(),on.current=null),R(!1),yr(0),kr(null),zt.current&&clearTimeout(zt.current),e({title:"Detection failed",description:Z,variant:"destructive"})}}else on.current&&(on.current.stream.getTracks().forEach(J=>J.stop()),on.current.audioCtx.close(),on.current=null),R(!1),yr(0),kr(null),zt.current&&clearTimeout(zt.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(rr)};return requestAnimationFrame(rr),{audioCtx:me,stream:Ne}},Wo=async()=>{if(!tr()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}F(null),L(null),V(null),yr(0),kr(null),R(!0);try{gr.current=!0,on.current=await ma(),zt.current&&clearTimeout(zt.current),zt.current=setTimeout(()=>{yi(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(Ne){console.error(Ne),R(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},yi=()=>{gr.current=!1,on.current&&(on.current.stream.getTracks().forEach(K=>K.stop()),on.current.audioCtx.close(),on.current=null),R(!1),yr(0),kr(null),zt.current&&clearTimeout(zt.current)};b.useEffect(()=>{if(O!==null&&B!==null&&j){const K=tr()||0,Ne=K*cie,me=Math.max(.1,B-O),Q=Ne/me,Be=Q*2.23693629,$e=Math.min(45,Math.max(5,Be)),ut={raw_mps:Q,mph:Number($e.toFixed(2)),distanceIn:Number(K.toFixed(1)),deltaT:Number(me.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:l,L:u},variant:d};ne(Ft=>[ut,...Ft].slice(0,500)),F(ut),R(!1),yi(),ie(!0),n==="shark"&&Ut.length===3&&zo(Ut,ut.mph,!0),xt.trackSkillMetric("velocity","break_speed",ut.mph,{distanceIn:ut.distanceIn,variant:ut.variant})}},[O,B,j,S,E,l,u,d,tr,n,Ut]);const H=(K,Ne,me)=>{const Q=Ne/me,$e=Math.round(K/Q)*Q;return Math.abs(K-$e)<=.35&&h?$e:K},re=()=>{const Ne=Math.min(typeof window<"u"?window.innerWidth-48:400,500),Q=Math.min(Ne/l,400/u),Be=l*Q,$e=u*Q,ut=S.x*Q+8,Ft=$e-S.y*Q+8,Jt=E.x*Q+8,qt=$e-E.y*Q+8,nr=jt=>{var J;jt.preventDefault(),Xe(!0);const M=(J=Ir.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const $=Z=>{const ue={x:Z.clientX-M.left,y:Z.clientY-M.top};let ae=(ue.x-8)/Q,te=($e-(ue.y-8))/Q;ae=Ko(H(ae,l,8),0,l),te=Ko(H(te,u,8),js,u-js);const Ee=Ht(S,{x:ae,y:te});if(Ee&&Ee.point){const{point:Se,index:Oe}=Ee,ft=Ko(Se.x,0,l),sn=Ko(Se.y,js,u-js);A({x:ft,y:sn}),T({x:ft,y:sn,index:Oe}),k(Oe)}else _&&(A({x:_.x,y:_.y}),k(_.index??null))},G=()=>{Xe(!1),window.removeEventListener("pointermove",$)};window.addEventListener("pointermove",$),window.addEventListener("pointerup",G,{once:!0})},rr=jt=>{var J;jt.preventDefault(),Te(!0);const M=(J=Ir.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const $=Z=>{const ue={x:Z.clientX-M.left,y:Z.clientY-M.top};let ae=(ue.x-8)/Q,te=($e-(ue.y-8))/Q;ae=Ko(H(ae,l,8),0,l),te=Ko(H(te,u,8),0,u/4),C({x:ae,y:te})},G=()=>{Te(!1),window.removeEventListener("pointermove",$)};window.addEventListener("pointermove",$),window.addEventListener("pointerup",G,{once:!0})};return c.jsxs("svg",{ref:Ir,width:Be+8*2,height:$e+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[c.jsx("rect",{x:8,y:8,width:Be,height:$e,fill:"#03C04A",stroke:$n?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(jt,M)=>(M+1)/8*Be+8).map((jt,M)=>c.jsx("line",{x1:jt,x2:jt,y1:8,y2:8+$e,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+M)),Array.from({length:7},(jt,M)=>(M+1)/8*$e+8).map((jt,M)=>c.jsx("line",{x1:8,x2:8+Be,y1:jt,y2:jt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+M)),c.jsx("line",{x1:ut,y1:Ft,x2:Jt,y2:qt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Dn.map((jt,M)=>{const $=jt.x*Q+8,G=$e-jt.y*Q+8,J=M===N;return c.jsx("circle",{cx:$,cy:G,r:js*Q,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},M)}),Ye&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:qt,x2:8+Be,y2:qt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:Jt,y1:8,x2:Jt,y2:8+$e,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),we&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:8,y1:Ft,x2:8+Be,y2:Ft,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),c.jsx("line",{x1:ut,y1:8,x2:ut,y2:8+$e,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),c.jsx("circle",{cx:Jt,cy:qt,r:js*Q,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:nr,style:{cursor:"grab"}}),c.jsx("circle",{cx:ut,cy:Ft,r:js*Q,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:rr,style:{cursor:"grab"}})]})},Pe=b.useMemo(()=>hie(W),[W]),De=K=>z({open:!0,kind:"load",index:K}),We=K=>z({open:!0,kind:"save",index:K}),tt=({i:K})=>{const Ne=!!se[K],me=b.useRef(null),Q=()=>{me.current=setTimeout(()=>{We(K),me.current=null},520)},Be=()=>{me.current&&(clearTimeout(me.current),De(K),me.current=null)};return c.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Ne?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:Q,onPointerUp:Be,onPointerLeave:()=>me.current&&clearTimeout(me.current),"data-testid":`button-slot-${K+1}`,children:["Slot ",K+1]})};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>be(!0),"data-testid":"button-help",children:c.jsx(Wp,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>je(!0),"data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-4",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(hV,{value:n,onValueChange:r,className:"w-full",children:[c.jsxs(SC,{className:"grid w-full grid-cols-3",children:[c.jsx(_u,{value:"record","data-testid":"tab-record",children:"Record"}),c.jsx(_u,{value:"stats","data-testid":"tab-stats",children:"Stats"}),c.jsxs(_u,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",c.jsx(Zy,{})]})]}),c.jsxs(Eu,{value:"record",className:"space-y-3 mt-3",children:[c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),c.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[U?so(U.raw_mps):"--.--.",c.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:y})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),c.jsx(de,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?yi:Wo,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:Es||"Waiting for sound..."}),c.jsxs("span",{className:"font-mono text-primary",children:[Math.round(ao),"%"]})]}),c.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${ao}%`}})}),gn&&c.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[c.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),c.jsx("span",{className:"text-green-400 font-mono",children:mr.toFixed(4)})]}),c.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-50 ${mr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,mr*100)}%`}})}),c.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),gn&&yn.length>0&&!j&&c.jsxs(nt,{className:"p-3 bg-black/80 border-green-500/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const K={samples:yn,peaks:Ge,timestamp:new Date().toISOString(),settings:{presetKey:s,variant:d,snap:h}},Ne=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),me=URL.createObjectURL(Ne),Q=document.createElement("a");Q.href=me,Q.download=`break-audio-${Date.now()}.json`,Q.click(),URL.revokeObjectURL(me),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),c.jsx(de,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{Lt([]),Gr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),c.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[c.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",yn.length," | Duration: ",yn.length>0?(yn[yn.length-1].time/1e3).toFixed(2):0,"s"]}),c.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[c.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(K=>c.jsxs("g",{children:[c.jsx("line",{x1:`${K/3e3*100}%`,y1:"0",x2:`${K/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),c.jsxs("text",{x:`${K/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[K,"ms"]})]},K)),c.jsx("polyline",{points:yn.slice(0,500).map((K,Ne)=>{const me=Ne/500*100,Q=40-K.amplitude*35;return`${me}%,${Q}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(Ge==null?void 0:Ge.first)&&c.jsx("circle",{cx:`${Ge.first.time/3e3*100}%`,cy:40-Ge.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.second)&&c.jsx("circle",{cx:`${Ge.second.time/3e3*100}%`,cy:40-Ge.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.valleyTime)&&Ge.valleyTime>0&&Ge.valleyAmp&&c.jsxs(c.Fragment,{children:[c.jsx("line",{x1:`${Ge.valleyTime/3e3*100}%`,y1:"0",x2:`${Ge.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),c.jsx("circle",{cx:`${Ge.valleyTime/3e3*100}%`,cy:40-Ge.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[c.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),c.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),c.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[c.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[c.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),Ge!=null&&Ge.first?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.first.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.first.amplitude.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[c.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),Ge!=null&&Ge.valleyTime&&Ge.valleyAmp?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.valleyTime.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.valleyAmp.toFixed(4)]}),Ge.expectedDecayAtValley&&c.jsxs("div",{className:"text-[9px]",children:["Expected: ",Ge.expectedDecayAtValley.toFixed(4)]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]}),c.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[c.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),Ge!=null&&Ge.second?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Time: ",Ge.second.time.toFixed(1),"ms"]}),c.jsxs("div",{children:["Amp: ",Ge.second.amplitude.toFixed(4)]}),c.jsxs("div",{children:["T: ",(Ge.second.time-(((Ot=Ge.first)==null?void 0:Ot.time)||0)).toFixed(1),"ms"]})]}):c.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),c.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[c.jsxs("div",{children:["Decay tau: ",(Ge==null?void 0:Ge.decayTau)||120,"ms (reverb tolerance)"]}),c.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),c.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),c.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),c.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),c.jsx(nt,{className:"p-3",children:c.jsxs(D2,{open:v,onOpenChange:x,children:[c.jsxs($2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[An.dCG,'"  ',d,"-ball"]})]}),c.jsx(Oh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsxs(L2,{className:"pt-2",children:[c.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(K=>c.jsxs(de,{variant:d===K?"default":"outline",size:"sm",onClick:()=>f(K),"data-testid":`button-variant-${K}`,children:[K,"-ball"]},K))}),c.jsx(re,{}),!$n&&c.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),c.jsx(ev,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-sm font-medium",children:["Presets ",c.jsx(Zy,{})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(K=>c.jsx(tt,{i:K},K))})]})})]}),c.jsx(Eu,{value:"stats",className:"space-y-3 mt-3",children:c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),c.jsx("div",{className:"text-lg font-bold",children:Pe?hi(Pe.high):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),c.jsx("div",{className:"text-lg font-bold",children:Pe?hi(Pe.avg):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]}),c.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),c.jsx("div",{className:"text-lg font-bold",children:Pe?hi(Pe.low):""}),c.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:y})]})]}),c.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[W.length," breaks recorded"]}),W.length>0&&c.jsxs(de,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>ne([]),"data-testid":"button-clear-history",children:[c.jsx(NH,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),c.jsx(Eu,{value:"shark",className:"space-y-3 mt-3",children:c.jsxs(ev,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[c.jsxs(nt,{className:"p-3",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),c.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:y})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),c.jsx("stop",{offset:"50%",stopColor:"#eab308"}),c.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),c.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,U?U.mph/25*100:0)*2.2} 220`}),(()=>{const me=(-180+Math.min(100,U?U.mph/25*100:0)/100*180)*Math.PI/180,Q=90,Be=90,$e=55,ut=Q+$e*Math.cos(me),Ft=Be+$e*Math.sin(me);return c.jsxs("g",{children:[c.jsx("line",{x1:Q,y1:Be,x2:ut,y2:Ft,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("circle",{cx:Q,cy:Be,r:"6",fill:"hsl(var(--foreground))"})]})})(),c.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[U?Math.min(100,Math.round(U.mph/25*100)):0,"%"]})]})}),c.jsx(de,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?yi:Wo,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),c.jsx(nt,{className:"p-3",children:c.jsxs(D2,{open:v,onOpenChange:x,children:[c.jsxs($2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[An.dCG,'"  ',d,"-ball"]})]}),c.jsx(Oh,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),c.jsx(L2,{className:"pt-2",children:c.jsx(re,{})})]})}),U&&c.jsxs(de,{variant:"outline",className:"w-full",onClick:()=>zn(!0),"data-testid":"button-add-to-leaderboard",children:[c.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),c.jsx(nt,{className:"p-3",children:c.jsx(ah,{type:"single",collapsible:!0,value:_e?"leaderboard":"",onValueChange:K=>Ae(K==="leaderboard"),children:c.jsxs(So,{value:"leaderboard",className:"border-none",children:[c.jsx(_o,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ms,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",st.length,")"]})]})}),c.jsxs(Eo,{children:[st.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):c.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0 bg-card",children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),c.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),c.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:c.jsx("span",{className:"text-primary",children:Lc[Nr]})})]})}),c.jsx("tbody",{children:st.map((K,Ne)=>c.jsxs("tr",{className:`border-b border-border/50 ${Ne<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Ne}`,children:[c.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Ne===0&&c.jsx("span",{className:"text-yellow-500",children:""}),Ne===1&&c.jsx("span",{className:"text-gray-400",children:""}),Ne===2&&c.jsx("span",{className:"text-amber-600",children:""}),Ne>2&&Ne+1]}),c.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:K.initials}),c.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[K.percentage,"%"]}),c.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:pi(K.mph,Lc[Nr])})]},`${K.initials}-${K.ts}`))})]})}),st.length>0&&c.jsx(de,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&pt([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),c.jsx(Wr,{open:ce,onOpenChange:be,children:c.jsxs(Er,{className:"max-w-md",children:[c.jsx(ur,{children:c.jsx(Xn,{children:"Welcome to CueMaster: Velocity"})}),c.jsxs("div",{className:"space-y-4",children:[ke===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",c.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",c.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),c.jsx(de,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),ke===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",c.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",c.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),ke===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",c.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),ke===4&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),c.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",c.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>ot(K=>Math.max(1,K-1)),disabled:ke===1,children:"Back"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>ot(K=>Math.min(4,K+1)),disabled:ke===4,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(K=>c.jsx("div",{className:`w-2 h-2 rounded-full ${K===ke?"bg-primary":"bg-muted"}`},K))}),c.jsx(de,{size:"sm",onClick:()=>be(!1),children:ke===4?"Finish":"Skip"})]})]})}),c.jsx(Wr,{open:X,onOpenChange:ie,children:c.jsxs(Er,{className:"max-w-md",children:[c.jsx(ur,{children:c.jsx(Xn,{children:"Confirm First Contact"})}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),c.jsx(re,{}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(de,{variant:"outline",onClick:()=>ie(!1),children:"Looks Right"}),c.jsx(de,{onClick:()=>ie(!1),children:"Confirm"})]})]})}),c.jsx(Wr,{open:le.open,onOpenChange:K=>z({...le,open:K}),children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsx(ur,{children:c.jsx(Xn,{children:le.kind==="load"?"Load Preset":"Save Preset"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:le.kind==="load"?se[le.index]?"Load this saved break setup?":"This slot is empty.":se[le.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(de,{variant:"outline",onClick:()=>z({open:!1,kind:null,index:null}),children:"Cancel"}),c.jsx(de,{onClick:()=>{if(le.kind==="load"){const K=se[le.index];K&&(C(K.cue),A(K.ghost),f(K.variant),o(K.presetIndex),m(K.snap),e({title:"Preset loaded"}))}else{const K={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};pe(Ne=>{const me=[...Ne];return me[le.index]=K,me}),e({title:"Preset saved"})}z({open:!1,kind:null,index:null})},disabled:le.kind==="load"&&!se[le.index],children:le.kind==="load"?"Load":se[le.index]?"Overwrite":"Save"})]})]})}),c.jsx(Wr,{open:xe,onOpenChange:je,children:c.jsxs(Er,{className:"max-w-md",children:[c.jsx(ur,{children:c.jsx(Xn,{children:"Settings"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(tn,{children:"Snap to Grid"}),c.jsx(ji,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"mb-2 block",children:"Table Size"}),c.jsx("div",{className:"space-y-1",children:V2.map((K,Ne)=>c.jsxs("button",{onClick:()=>o(Ne),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Ne===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Ne}`,children:[c.jsx("span",{className:"font-medium",children:K}),c.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Jg[K].W,"",Jg[K].L," in"]})]},K))})]}),c.jsx(de,{variant:"outline",className:"w-full",onClick:()=>be(!0),children:"Open Tutorial"}),c.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[c.jsxs("div",{children:[c.jsx(tn,{children:"Debug Mode"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),c.jsx(ji,{checked:gn,onCheckedChange:Qt,"data-testid":"switch-debug"})]})]})]})}),c.jsx(Wr,{open:pn,onOpenChange:zn,children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsxs(ur,{children:[c.jsx(Xn,{children:"Enter Your Initials"}),c.jsx(jo,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(tn,{htmlFor:"initials",children:"Initials (3 letters)"}),c.jsx(cr,{id:"initials",value:Me,onChange:K=>Ct(K.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),U&&c.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),c.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(U.mph/25*100)),"%"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[U.mph.toFixed(2)," mph"]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(de,{variant:"outline",onClick:()=>zn(!1),children:"Cancel"}),c.jsxs(de,{onClick:()=>U&&zo(Me,U.mph),disabled:Me.length!==3,"data-testid":"button-submit-initials",children:[c.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var gie=Array.isArray,fi=gie,yie=typeof Sm=="object"&&Sm&&Sm.Object===Object&&Sm,GV=yie,vie=GV,xie=typeof self=="object"&&self&&self.Object===Object&&self,bie=vie||xie||Function("return this")(),_s=bie,wie=_s,Sie=wie.Symbol,rm=Sie,B2=rm,KV=Object.prototype,_ie=KV.hasOwnProperty,Eie=KV.toString,wf=B2?B2.toStringTag:void 0;function Tie(t){var e=_ie.call(t,wf),n=t[wf];try{t[wf]=void 0;var r=!0}catch{}var i=Eie.call(t);return r&&(e?t[wf]=n:delete t[wf]),i}var Cie=Tie,Pie=Object.prototype,Aie=Pie.toString;function Nie(t){return Aie.call(t)}var jie=Nie,U2=rm,Iie=Cie,kie=jie,Oie="[object Null]",Rie="[object Undefined]",z2=U2?U2.toStringTag:void 0;function Mie(t){return t==null?t===void 0?Rie:Oie:z2&&z2 in Object(t)?Iie(t):kie(t)}var fa=Mie;function Die(t){return t!=null&&typeof t=="object"}var ha=Die,$ie=fa,Lie=ha,Fie="[object Symbol]";function Vie(t){return typeof t=="symbol"||Lie(t)&&$ie(t)==Fie}var Wd=Vie,Bie=fi,Uie=Wd,zie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wie=/^\w*$/;function Hie(t,e){if(Bie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Uie(t)?!0:Wie.test(t)||!zie.test(t)||e!=null&&t in Object(e)}var DC=Hie;function qie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xl=qie;const Hd=Xt(xl);var Gie=fa,Kie=xl,Yie="[object AsyncFunction]",Xie="[object Function]",Qie="[object GeneratorFunction]",Jie="[object Proxy]";function Zie(t){if(!Kie(t))return!1;var e=Gie(t);return e==Xie||e==Qie||e==Yie||e==Jie}var $C=Zie;const _t=Xt($C);var eoe=_s,toe=eoe["__core-js_shared__"],noe=toe,sw=noe,W2=function(){var t=/[^.]+$/.exec(sw&&sw.keys&&sw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function roe(t){return!!W2&&W2 in t}var ioe=roe,ooe=Function.prototype,soe=ooe.toString;function aoe(t){if(t!=null){try{return soe.call(t)}catch{}try{return t+""}catch{}}return""}var YV=aoe,loe=$C,coe=ioe,uoe=xl,doe=YV,foe=/[\\^$.*+?()[\]{}|]/g,hoe=/^\[object .+?Constructor\]$/,poe=Function.prototype,moe=Object.prototype,goe=poe.toString,yoe=moe.hasOwnProperty,voe=RegExp("^"+goe.call(yoe).replace(foe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xoe(t){if(!uoe(t)||coe(t))return!1;var e=loe(t)?voe:hoe;return e.test(doe(t))}var boe=xoe;function woe(t,e){return t==null?void 0:t[e]}var Soe=woe,_oe=boe,Eoe=Soe;function Toe(t,e){var n=Eoe(t,e);return _oe(n)?n:void 0}var Nc=Toe,Coe=Nc,Poe=Coe(Object,"create"),r0=Poe,H2=r0;function Aoe(){this.__data__=H2?H2(null):{},this.size=0}var Noe=Aoe;function joe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ioe=joe,koe=r0,Ooe="__lodash_hash_undefined__",Roe=Object.prototype,Moe=Roe.hasOwnProperty;function Doe(t){var e=this.__data__;if(koe){var n=e[t];return n===Ooe?void 0:n}return Moe.call(e,t)?e[t]:void 0}var $oe=Doe,Loe=r0,Foe=Object.prototype,Voe=Foe.hasOwnProperty;function Boe(t){var e=this.__data__;return Loe?e[t]!==void 0:Voe.call(e,t)}var Uoe=Boe,zoe=r0,Woe="__lodash_hash_undefined__";function Hoe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zoe&&e===void 0?Woe:e,this}var qoe=Hoe,Goe=Noe,Koe=Ioe,Yoe=$oe,Xoe=Uoe,Qoe=qoe;function qd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qd.prototype.clear=Goe;qd.prototype.delete=Koe;qd.prototype.get=Yoe;qd.prototype.has=Xoe;qd.prototype.set=Qoe;var Joe=qd;function Zoe(){this.__data__=[],this.size=0}var ese=Zoe;function tse(t,e){return t===e||t!==t&&e!==e}var LC=tse,nse=LC;function rse(t,e){for(var n=t.length;n--;)if(nse(t[n][0],e))return n;return-1}var i0=rse,ise=i0,ose=Array.prototype,sse=ose.splice;function ase(t){var e=this.__data__,n=ise(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sse.call(e,n,1),--this.size,!0}var lse=ase,cse=i0;function use(t){var e=this.__data__,n=cse(e,t);return n<0?void 0:e[n][1]}var dse=use,fse=i0;function hse(t){return fse(this.__data__,t)>-1}var pse=hse,mse=i0;function gse(t,e){var n=this.__data__,r=mse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var yse=gse,vse=ese,xse=lse,bse=dse,wse=pse,Sse=yse;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=vse;Gd.prototype.delete=xse;Gd.prototype.get=bse;Gd.prototype.has=wse;Gd.prototype.set=Sse;var o0=Gd,_se=Nc,Ese=_s,Tse=_se(Ese,"Map"),FC=Tse,q2=Joe,Cse=o0,Pse=FC;function Ase(){this.size=0,this.__data__={hash:new q2,map:new(Pse||Cse),string:new q2}}var Nse=Ase;function jse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ise=jse,kse=Ise;function Ose(t,e){var n=t.__data__;return kse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var s0=Ose,Rse=s0;function Mse(t){var e=Rse(this,t).delete(t);return this.size-=e?1:0,e}var Dse=Mse,$se=s0;function Lse(t){return $se(this,t).get(t)}var Fse=Lse,Vse=s0;function Bse(t){return Vse(this,t).has(t)}var Use=Bse,zse=s0;function Wse(t,e){var n=zse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Hse=Wse,qse=Nse,Gse=Dse,Kse=Fse,Yse=Use,Xse=Hse;function Kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kd.prototype.clear=qse;Kd.prototype.delete=Gse;Kd.prototype.get=Kse;Kd.prototype.has=Yse;Kd.prototype.set=Xse;var VC=Kd,XV=VC,Qse="Expected a function";function BC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(BC.Cache||XV),n}BC.Cache=XV;var QV=BC;const Jse=Xt(QV);var Zse=QV,eae=500;function tae(t){var e=Zse(t,function(r){return n.size===eae&&n.clear(),r}),n=e.cache;return e}var nae=tae,rae=nae,iae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oae=/\\(\\)?/g,sae=rae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iae,function(n,r,i,o){e.push(i?o.replace(oae,"$1"):r||n)}),e}),aae=sae;function lae(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UC=lae,G2=rm,cae=UC,uae=fi,dae=Wd,fae=1/0,K2=G2?G2.prototype:void 0,Y2=K2?K2.toString:void 0;function JV(t){if(typeof t=="string")return t;if(uae(t))return cae(t,JV)+"";if(dae(t))return Y2?Y2.call(t):"";var e=t+"";return e=="0"&&1/t==-fae?"-0":e}var hae=JV,pae=hae;function mae(t){return t==null?"":pae(t)}var ZV=mae,gae=fi,yae=DC,vae=aae,xae=ZV;function bae(t,e){return gae(t)?t:yae(t,e)?[t]:vae(xae(t))}var e6=bae,wae=Wd,Sae=1/0;function _ae(t){if(typeof t=="string"||wae(t))return t;var e=t+"";return e=="0"&&1/t==-Sae?"-0":e}var a0=_ae,Eae=e6,Tae=a0;function Cae(t,e){e=Eae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Tae(e[n++])];return n&&n==r?t:void 0}var zC=Cae,Pae=zC;function Aae(t,e,n){var r=t==null?void 0:Pae(t,e);return r===void 0?n:r}var t6=Aae;const Xi=Xt(t6);function Nae(t){return t==null}var jae=Nae;const bt=Xt(jae);var Iae=fa,kae=fi,Oae=ha,Rae="[object String]";function Mae(t){return typeof t=="string"||!kae(t)&&Oae(t)&&Iae(t)==Rae}var Dae=Mae;const yc=Xt(Dae);var n6={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=Symbol.for("react.element"),HC=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),$ae=Symbol.for("react.server_context"),h0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),y0=Symbol.for("react.lazy"),Lae=Symbol.for("react.offscreen"),r6;r6=Symbol.for("react.module.reference");function io(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WC:switch(t=t.type,t){case l0:case u0:case c0:case p0:case m0:return t;default:switch(t=t&&t.$$typeof,t){case $ae:case f0:case h0:case y0:case g0:case d0:return t;default:return e}}case HC:return e}}}Bt.ContextConsumer=f0;Bt.ContextProvider=d0;Bt.Element=WC;Bt.ForwardRef=h0;Bt.Fragment=l0;Bt.Lazy=y0;Bt.Memo=g0;Bt.Portal=HC;Bt.Profiler=u0;Bt.StrictMode=c0;Bt.Suspense=p0;Bt.SuspenseList=m0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return io(t)===f0};Bt.isContextProvider=function(t){return io(t)===d0};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WC};Bt.isForwardRef=function(t){return io(t)===h0};Bt.isFragment=function(t){return io(t)===l0};Bt.isLazy=function(t){return io(t)===y0};Bt.isMemo=function(t){return io(t)===g0};Bt.isPortal=function(t){return io(t)===HC};Bt.isProfiler=function(t){return io(t)===u0};Bt.isStrictMode=function(t){return io(t)===c0};Bt.isSuspense=function(t){return io(t)===p0};Bt.isSuspenseList=function(t){return io(t)===m0};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l0||t===u0||t===c0||t===p0||t===m0||t===Lae||typeof t=="object"&&t!==null&&(t.$$typeof===y0||t.$$typeof===g0||t.$$typeof===d0||t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===r6||t.getModuleId!==void 0)};Bt.typeOf=io;n6.exports=Bt;var Fae=n6.exports,Vae=fa,Bae=ha,Uae="[object Number]";function zae(t){return typeof t=="number"||Bae(t)&&Vae(t)==Uae}var i6=zae;const Wae=Xt(i6);var Hae=i6;function qae(t){return Hae(t)&&t!=+t}var Gae=qae;const im=Xt(Gae);var Io=function(e){return e===0?0:e>0?1:-1},Ul=function(e){return yc(e)&&e.indexOf("%")===e.length-1},Ie=function(e){return Wae(e)&&!im(e)},Kae=function(e){return bt(e)},Jn=function(e){return Ie(e)||yc(e)},Yae=0,om=function(e){var n=++Yae;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&!yc(e))return r;var o;if(Ul(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return im(o)&&(o=r),i&&o>n&&(o=n),o},qc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Xae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},To=function(e,n){return Ie(e)&&Ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function tv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Xi(r,e))===n})}var Qae=function(e,n){return Ie(e)&&Ie(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function vS(t){"@babel/helpers - typeof";return vS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(t)}var Jae=["viewBox","children"],Zae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X2=["points","pathLength"],aw={svg:Jae,polygon:X2,polyline:X2},qC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!Hd(r))return null;var i={};return Object.keys(r).forEach(function(o){qC.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},ele=function(e,n,r){return function(i){return e(n,r,i),null}},rv=function(e,n,r){if(!Hd(e)||vS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];qC.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=ele(s,n,r))}),i},tle=["children"],nle=["children"];function Q2(t,e){if(t==null)return{};var n=rle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xS(t){"@babel/helpers - typeof";return xS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(t)}var J2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Z2=null,lw=null,GC=function t(e){if(e===Z2&&Array.isArray(lw))return lw;var n=[];return b.Children.forEach(e,function(r){bt(r)||(Fae.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),lw=n,Z2=e,n};function Qi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return qs(i)}):r=[qs(e)],GC(t).forEach(function(i){var o=Xi(i,"type.displayName")||Xi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ci(t,e){var n=Qi(t,e);return n&&n[0]}var eI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ie(r)||r<=0||!Ie(i)||i<=0)},ile=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ole=function(e){return e&&e.type&&yc(e.type)&&ile.indexOf(e.type)>=0},sle=function(e){return e&&xS(e)==="object"&&"clipDot"in e},ale=function(e,n,r,i){var o,s=(o=aw==null?void 0:aw[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_t(e)&&(i&&s.includes(n)||Zae.includes(n))||r&&qC.includes(n)},Nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!Hd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;ale((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},bS=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return tI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!tI(o,s))return!1}return!0},tI=function(e,n){if(bt(e)&&bt(n))return!0;if(!bt(e)&&!bt(n)){var r=e.props||{},i=r.children,o=Q2(r,tle),s=n.props||{},a=s.children,l=Q2(s,nle);return i&&a?Tu(o,l)&&bS(i,a):!i&&!a?Tu(o,l):!1}return!1},nI=function(e,n){var r=[],i={};return GC(e).forEach(function(o,s){if(ole(o))r.push(o);else if(o){var a=qs(o.type),l=n[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},lle=function(e){var n=e&&e.type;return n&&J2[n]?J2[n]:null},cle=function(e,n){return GC(n).indexOf(e)},ule=["children","width","height","viewBox","className","style","title","desc"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function dle(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=dle(t,ule),d=i||{width:n,height:r,x:0,y:0},f=Pt("recharts-surface",o);return q.createElement("svg",wS({},Nt(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,a),q.createElement("desc",null,l),e)}var hle=["children","className"];function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function ple(t,e){if(t==null)return{};var n=mle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Mn=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=ple(t,hle),o=Pt("recharts-layer",r);return q.createElement("g",_S({className:o},Nt(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function gle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var yle=gle,vle=yle;function xle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:vle(t,e,n)}var ble=xle,wle="\\ud800-\\udfff",Sle="\\u0300-\\u036f",_le="\\ufe20-\\ufe2f",Ele="\\u20d0-\\u20ff",Tle=Sle+_le+Ele,Cle="\\ufe0e\\ufe0f",Ple="\\u200d",Ale=RegExp("["+Ple+wle+Tle+Cle+"]");function Nle(t){return Ale.test(t)}var o6=Nle;function jle(t){return t.split("")}var Ile=jle,s6="\\ud800-\\udfff",kle="\\u0300-\\u036f",Ole="\\ufe20-\\ufe2f",Rle="\\u20d0-\\u20ff",Mle=kle+Ole+Rle,Dle="\\ufe0e\\ufe0f",$le="["+s6+"]",ES="["+Mle+"]",TS="\\ud83c[\\udffb-\\udfff]",Lle="(?:"+ES+"|"+TS+")",a6="[^"+s6+"]",l6="(?:\\ud83c[\\udde6-\\uddff]){2}",c6="[\\ud800-\\udbff][\\udc00-\\udfff]",Fle="\\u200d",u6=Lle+"?",d6="["+Dle+"]?",Vle="(?:"+Fle+"(?:"+[a6,l6,c6].join("|")+")"+d6+u6+")*",Ble=d6+u6+Vle,Ule="(?:"+[a6+ES+"?",ES,l6,c6,$le].join("|")+")",zle=RegExp(TS+"(?="+TS+")|"+Ule+Ble,"g");function Wle(t){return t.match(zle)||[]}var Hle=Wle,qle=Ile,Gle=o6,Kle=Hle;function Yle(t){return Gle(t)?Kle(t):qle(t)}var Xle=Yle,Qle=ble,Jle=o6,Zle=Xle,ece=ZV;function tce(t){return function(e){e=ece(e);var n=Jle(e)?Zle(e):void 0,r=n?n[0]:e.charAt(0),i=n?Qle(n,1).join(""):e.slice(1);return r[t]()+i}}var nce=tce,rce=nce,ice=rce("toUpperCase"),oce=ice;const v0=Xt(oce);function en(t){return function(){return t}}const f6=Math.cos,iv=Math.sin,Uo=Math.sqrt,ov=Math.PI,x0=2*ov,CS=Math.PI,PS=2*CS,kl=1e-6,sce=PS-kl;function h6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ace(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return h6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?h6:ace(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>kl)if(!(Math.abs(f*l-u*d)>kl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-a,g=l*l+u*u,v=m*m+y*y,x=Math.sqrt(g),w=Math.sqrt(h),S=o*Math.tan((CS-Math.acos((g+h-v)/(2*x*w)))/2),C=S/w,E=S/x;Math.abs(C-1)>kl&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>kl||Math.abs(this._y1-d)>kl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%PS+PS),h>sce?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>kl&&this._append`A${r},${r},0,${+(h>=CS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lce(e)}function YC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function p6(t){this._context=t}p6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function b0(t){return new p6(t)}function m6(t){return t[0]}function g6(t){return t[1]}function y6(t,e){var n=en(!0),r=null,i=b0,o=null,s=KC(a);t=typeof t=="function"?t:t===void 0?m6:en(t),e=typeof e=="function"?e:e===void 0?g6:en(e);function a(l){var u,d=(l=YC(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:en(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:en(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:en(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function sg(t,e,n){var r=null,i=en(!0),o=null,s=b0,a=null,l=KC(u);t=typeof t=="function"?t:t===void 0?m6:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?g6:en(+n);function u(f){var h,m,y,g=(f=YC(f)).length,v,x=!1,w,S=new Array(g),C=new Array(g);for(o==null&&(a=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=m;--y)a.point(S[y],C[y]);a.lineEnd(),a.areaEnd()}x&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),a.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return y6().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:en(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:en(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:en(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class v6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function cce(t){return new v6(t,!0)}function uce(t){return new v6(t,!1)}const XC={draw(t,e){const n=Uo(e/ov);t.moveTo(n,0),t.arc(0,0,n,0,x0)}},dce={draw(t,e){const n=Uo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},x6=Uo(1/3),fce=x6*2,hce={draw(t,e){const n=Uo(e/fce),r=n*x6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pce={draw(t,e){const n=Uo(e),r=-n/2;t.rect(r,r,n,n)}},mce=.8908130915292852,b6=iv(ov/10)/iv(7*ov/10),gce=iv(x0/10)*b6,yce=-f6(x0/10)*b6,vce={draw(t,e){const n=Uo(e*mce),r=gce*n,i=yce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=x0*o/5,a=f6(s),l=iv(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},cw=Uo(3),xce={draw(t,e){const n=-Uo(e/(cw*3));t.moveTo(0,n*2),t.lineTo(-cw*n,-n),t.lineTo(cw*n,-n),t.closePath()}},Fi=-.5,Vi=Uo(3)/2,AS=1/Uo(12),bce=(AS/2+1)*3,wce={draw(t,e){const n=Uo(e/bce),r=n/2,i=n*AS,o=r,s=n*AS+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Fi*r-Vi*i,Vi*r+Fi*i),t.lineTo(Fi*o-Vi*s,Vi*o+Fi*s),t.lineTo(Fi*a-Vi*l,Vi*a+Fi*l),t.lineTo(Fi*r+Vi*i,Fi*i-Vi*r),t.lineTo(Fi*o+Vi*s,Fi*s-Vi*o),t.lineTo(Fi*a+Vi*l,Fi*l-Vi*a),t.closePath()}};function Sce(t,e){let n=null,r=KC(i);t=typeof t=="function"?t:en(t||XC),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:en(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:en(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function sv(){}function av(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function w6(t){this._context=t}w6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ce(t){return new w6(t)}function S6(t){this._context=t}S6.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ece(t){return new S6(t)}function _6(t){this._context=t}_6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tce(t){return new _6(t)}function E6(t){this._context=t}E6.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cce(t){return new E6(t)}function rI(t){return t<0?-1:1}function iI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(rI(o)+rI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function oI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uw(this,this._t0,oI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uw(this,oI(this,n=iI(this,t,e)),n);break;default:uw(this,this._t0,n=iI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function T6(t){this._context=new C6(t)}(T6.prototype=Object.create(lv.prototype)).point=function(t,e){lv.prototype.point.call(this,e,t)};function C6(t){this._context=t}C6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Pce(t){return new lv(t)}function Ace(t){return new T6(t)}function P6(t){this._context=t}P6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sI(t),i=sI(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Nce(t){return new P6(t)}function w0(t,e){this._context=t,this._t=e}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function jce(t){return new w0(t,.5)}function Ice(t){return new w0(t,0)}function kce(t){return new w0(t,1)}function id(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function NS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Oce(t,e){return t[e]}function Rce(t){const e=[];return e.key=t,e}function Mce(){var t=en([]),e=NS,n=id,r=Oce;function i(o){var s=Array.from(t.apply(this,arguments),Rce),a,l=s.length,u=-1,d;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,d=YC(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:en(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:en(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?NS:typeof o=="function"?o:en(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??id,i):n},i}function Dce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}id(t,e)}}function $ce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}id(t,e)}}function Lce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<a;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,id(t,e)}}function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}var Fce=["type","size","sizeType"];function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(this,arguments)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return e=Bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=Uce(t,"string");return Xh(e)=="symbol"?e:e+""}function Uce(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zce(t,e){if(t==null)return{};var n=Wce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var A6={symbolCircle:XC,symbolCross:dce,symbolDiamond:hce,symbolSquare:pce,symbolStar:vce,symbolTriangle:xce,symbolWye:wce},Hce=Math.PI/180,qce=function(e){var n="symbol".concat(v0(e));return A6[n]||XC},Gce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Hce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Kce=function(e,n){A6["symbol".concat(v0(e))]=n},QC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=zce(e,Fce),u=lI(lI({},l),{},{type:r,size:o,sizeType:a}),d=function(){var v=qce(r),x=Sce().type(v).size(Gce(o,a,r));return x()},f=u.className,h=u.cx,m=u.cy,y=Nt(u,!0);return h===+h&&m===+m&&o===+o?q.createElement("path",jS({},y,{className:Pt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};QC.registerSymbol=Kce;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j6(r.key),r)}}function Jce(t,e,n){return e&&Qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zce(t,e,n){return e=cv(e),eue(t,N6()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function eue(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(t)}function tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N6=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kS(t,e)}function Qh(t,e,n){return e=j6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6(t){var e=rue(t,"string");return od(e)=="symbol"?e:e+""}function rue(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bi=32,JC=function(t){function e(){return Xce(this,e),Zce(this,e,arguments)}return nue(e,t),Jce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Bi/2,s=Bi/6,a=Bi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Bi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Bi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=Yce({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(QC,{fill:l,cx:o,cy:o,size:Bi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Bi,height:Bi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=Pt(Qh(Qh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=_t(m.value)?null:m.value;ec(!_t(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return q.createElement("li",IS({className:v,style:f,key:"legend-item-".concat(y)},rv(r.props,m,y)),q.createElement(SS,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(b.PureComponent);Qh(JC,"displayName","Legend");Qh(JC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var iue=o0;function oue(){this.__data__=new iue,this.size=0}var sue=oue;function aue(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var lue=aue;function cue(t){return this.__data__.get(t)}var uue=cue;function due(t){return this.__data__.has(t)}var fue=due,hue=o0,pue=FC,mue=VC,gue=200;function yue(t,e){var n=this.__data__;if(n instanceof hue){var r=n.__data__;if(!pue||r.length<gue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mue(r)}return n.set(t,e),this.size=n.size,this}var vue=yue,xue=o0,bue=sue,wue=lue,Sue=uue,_ue=fue,Eue=vue;function Yd(t){var e=this.__data__=new xue(t);this.size=e.size}Yd.prototype.clear=bue;Yd.prototype.delete=wue;Yd.prototype.get=Sue;Yd.prototype.has=_ue;Yd.prototype.set=Eue;var I6=Yd,Tue="__lodash_hash_undefined__";function Cue(t){return this.__data__.set(t,Tue),this}var Pue=Cue;function Aue(t){return this.__data__.has(t)}var Nue=Aue,jue=VC,Iue=Pue,kue=Nue;function uv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jue;++e<n;)this.add(t[e])}uv.prototype.add=uv.prototype.push=Iue;uv.prototype.has=kue;var k6=uv;function Oue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var O6=Oue;function Rue(t,e){return t.has(e)}var R6=Rue,Mue=k6,Due=O6,$ue=R6,Lue=1,Fue=2;function Vue(t,e,n,r,i,o){var s=n&Lue,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&Fue?new Mue:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Due(e,function(x,w){if(!$ue(m,w)&&(y===x||i(y,x,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var M6=Vue,Bue=_s,Uue=Bue.Uint8Array,zue=Uue;function Wue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Hue=Wue;function que(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZC=que,uI=rm,dI=zue,Gue=LC,Kue=M6,Yue=Hue,Xue=ZC,Que=1,Jue=2,Zue="[object Boolean]",ede="[object Date]",tde="[object Error]",nde="[object Map]",rde="[object Number]",ide="[object RegExp]",ode="[object Set]",sde="[object String]",ade="[object Symbol]",lde="[object ArrayBuffer]",cde="[object DataView]",fI=uI?uI.prototype:void 0,dw=fI?fI.valueOf:void 0;function ude(t,e,n,r,i,o,s){switch(n){case cde:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lde:return!(t.byteLength!=e.byteLength||!o(new dI(t),new dI(e)));case Zue:case ede:case rde:return Gue(+t,+e);case tde:return t.name==e.name&&t.message==e.message;case ide:case sde:return t==e+"";case nde:var a=Yue;case ode:var l=r&Que;if(a||(a=Xue),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Jue,s.set(t,e);var d=Kue(a(t),a(e),r,i,o,s);return s.delete(t),d;case ade:if(dw)return dw.call(t)==dw.call(e)}return!1}var dde=ude;function fde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var D6=fde,hde=D6,pde=fi;function mde(t,e,n){var r=e(t);return pde(t)?r:hde(r,n(t))}var gde=mde;function yde(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var vde=yde;function xde(){return[]}var bde=xde,wde=vde,Sde=bde,_de=Object.prototype,Ede=_de.propertyIsEnumerable,hI=Object.getOwnPropertySymbols,Tde=hI?function(t){return t==null?[]:(t=Object(t),wde(hI(t),function(e){return Ede.call(t,e)}))}:Sde,Cde=Tde;function Pde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ade=Pde,Nde=fa,jde=ha,Ide="[object Arguments]";function kde(t){return jde(t)&&Nde(t)==Ide}var Ode=kde,pI=Ode,Rde=ha,$6=Object.prototype,Mde=$6.hasOwnProperty,Dde=$6.propertyIsEnumerable,$de=pI(function(){return arguments}())?pI:function(t){return Rde(t)&&Mde.call(t,"callee")&&!Dde.call(t,"callee")},eP=$de,dv={exports:{}};function Lde(){return!1}var Fde=Lde;dv.exports;(function(t,e){var n=_s,r=Fde,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(dv,dv.exports);var L6=dv.exports,Vde=9007199254740991,Bde=/^(?:0|[1-9]\d*)$/;function Ude(t,e){var n=typeof t;return e=e??Vde,!!e&&(n=="number"||n!="symbol"&&Bde.test(t))&&t>-1&&t%1==0&&t<e}var tP=Ude,zde=9007199254740991;function Wde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zde}var nP=Wde,Hde=fa,qde=nP,Gde=ha,Kde="[object Arguments]",Yde="[object Array]",Xde="[object Boolean]",Qde="[object Date]",Jde="[object Error]",Zde="[object Function]",efe="[object Map]",tfe="[object Number]",nfe="[object Object]",rfe="[object RegExp]",ife="[object Set]",ofe="[object String]",sfe="[object WeakMap]",afe="[object ArrayBuffer]",lfe="[object DataView]",cfe="[object Float32Array]",ufe="[object Float64Array]",dfe="[object Int8Array]",ffe="[object Int16Array]",hfe="[object Int32Array]",pfe="[object Uint8Array]",mfe="[object Uint8ClampedArray]",gfe="[object Uint16Array]",yfe="[object Uint32Array]",un={};un[cfe]=un[ufe]=un[dfe]=un[ffe]=un[hfe]=un[pfe]=un[mfe]=un[gfe]=un[yfe]=!0;un[Kde]=un[Yde]=un[afe]=un[Xde]=un[lfe]=un[Qde]=un[Jde]=un[Zde]=un[efe]=un[tfe]=un[nfe]=un[rfe]=un[ife]=un[ofe]=un[sfe]=!1;function vfe(t){return Gde(t)&&qde(t.length)&&!!un[Hde(t)]}var xfe=vfe;function bfe(t){return function(e){return t(e)}}var F6=bfe,fv={exports:{}};fv.exports;(function(t,e){var n=GV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(fv,fv.exports);var wfe=fv.exports,Sfe=xfe,_fe=F6,mI=wfe,gI=mI&&mI.isTypedArray,Efe=gI?_fe(gI):Sfe,V6=Efe,Tfe=Ade,Cfe=eP,Pfe=fi,Afe=L6,Nfe=tP,jfe=V6,Ife=Object.prototype,kfe=Ife.hasOwnProperty;function Ofe(t,e){var n=Pfe(t),r=!n&&Cfe(t),i=!n&&!r&&Afe(t),o=!n&&!r&&!i&&jfe(t),s=n||r||i||o,a=s?Tfe(t.length,String):[],l=a.length;for(var u in t)(e||kfe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Nfe(u,l)))&&a.push(u);return a}var Rfe=Ofe,Mfe=Object.prototype;function Dfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mfe;return t===n}var $fe=Dfe;function Lfe(t,e){return function(n){return t(e(n))}}var B6=Lfe,Ffe=B6,Vfe=Ffe(Object.keys,Object),Bfe=Vfe,Ufe=$fe,zfe=Bfe,Wfe=Object.prototype,Hfe=Wfe.hasOwnProperty;function qfe(t){if(!Ufe(t))return zfe(t);var e=[];for(var n in Object(t))Hfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Gfe=qfe,Kfe=$C,Yfe=nP;function Xfe(t){return t!=null&&Yfe(t.length)&&!Kfe(t)}var S0=Xfe,Qfe=Rfe,Jfe=Gfe,Zfe=S0;function ehe(t){return Zfe(t)?Qfe(t):Jfe(t)}var rP=ehe,the=gde,nhe=Cde,rhe=rP;function ihe(t){return the(t,rhe,nhe)}var ohe=ihe,yI=ohe,she=1,ahe=Object.prototype,lhe=ahe.hasOwnProperty;function che(t,e,n,r,i,o){var s=n&she,a=yI(t),l=a.length,u=yI(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:lhe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=s;++f<l;){h=a[f];var x=t[h],w=e[h];if(r)var S=s?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(S===void 0?x===w||i(x,w,n,r,o):S)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var uhe=che,dhe=Nc,fhe=_s,hhe=dhe(fhe,"DataView"),phe=hhe,mhe=Nc,ghe=_s,yhe=mhe(ghe,"Promise"),vhe=yhe,xhe=Nc,bhe=_s,whe=xhe(bhe,"Set"),U6=whe,She=Nc,_he=_s,Ehe=She(_he,"WeakMap"),The=Ehe,OS=phe,RS=FC,MS=vhe,DS=U6,$S=The,z6=fa,Xd=YV,vI="[object Map]",Che="[object Object]",xI="[object Promise]",bI="[object Set]",wI="[object WeakMap]",SI="[object DataView]",Phe=Xd(OS),Ahe=Xd(RS),Nhe=Xd(MS),jhe=Xd(DS),Ihe=Xd($S),Ol=z6;(OS&&Ol(new OS(new ArrayBuffer(1)))!=SI||RS&&Ol(new RS)!=vI||MS&&Ol(MS.resolve())!=xI||DS&&Ol(new DS)!=bI||$S&&Ol(new $S)!=wI)&&(Ol=function(t){var e=z6(t),n=e==Che?t.constructor:void 0,r=n?Xd(n):"";if(r)switch(r){case Phe:return SI;case Ahe:return vI;case Nhe:return xI;case jhe:return bI;case Ihe:return wI}return e});var khe=Ol,fw=I6,Ohe=M6,Rhe=dde,Mhe=uhe,_I=khe,EI=fi,TI=L6,Dhe=V6,$he=1,CI="[object Arguments]",PI="[object Array]",ag="[object Object]",Lhe=Object.prototype,AI=Lhe.hasOwnProperty;function Fhe(t,e,n,r,i,o){var s=EI(t),a=EI(e),l=s?PI:_I(t),u=a?PI:_I(e);l=l==CI?ag:l,u=u==CI?ag:u;var d=l==ag,f=u==ag,h=l==u;if(h&&TI(t)){if(!TI(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new fw),s||Dhe(t)?Ohe(t,e,n,r,i,o):Rhe(t,e,l,n,r,i,o);if(!(n&$he)){var m=d&&AI.call(t,"__wrapped__"),y=f&&AI.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new fw),i(g,v,n,r,o)}}return h?(o||(o=new fw),Mhe(t,e,n,r,i,o)):!1}var Vhe=Fhe,Bhe=Vhe,NI=ha;function W6(t,e,n,r,i){return t===e?!0:t==null||e==null||!NI(t)&&!NI(e)?t!==t&&e!==e:Bhe(t,e,n,r,W6,i)}var iP=W6,Uhe=I6,zhe=iP,Whe=1,Hhe=2;function qhe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Uhe;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?zhe(d,u,Whe|Hhe,r,f):h))return!1}}return!0}var Ghe=qhe,Khe=xl;function Yhe(t){return t===t&&!Khe(t)}var H6=Yhe,Xhe=H6,Qhe=rP;function Jhe(t){for(var e=Qhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xhe(i)]}return e}var Zhe=Jhe;function epe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var q6=epe,tpe=Ghe,npe=Zhe,rpe=q6;function ipe(t){var e=npe(t);return e.length==1&&e[0][2]?rpe(e[0][0],e[0][1]):function(n){return n===t||tpe(n,t,e)}}var ope=ipe;function spe(t,e){return t!=null&&e in Object(t)}var ape=spe,lpe=e6,cpe=eP,upe=fi,dpe=tP,fpe=nP,hpe=a0;function ppe(t,e,n){e=lpe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=hpe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&fpe(i)&&dpe(s,i)&&(upe(t)||cpe(t)))}var mpe=ppe,gpe=ape,ype=mpe;function vpe(t,e){return t!=null&&ype(t,e,gpe)}var xpe=vpe,bpe=iP,wpe=t6,Spe=xpe,_pe=DC,Epe=H6,Tpe=q6,Cpe=a0,Ppe=1,Ape=2;function Npe(t,e){return _pe(t)&&Epe(e)?Tpe(Cpe(t),e):function(n){var r=wpe(n,t);return r===void 0&&r===e?Spe(n,t):bpe(e,r,Ppe|Ape)}}var jpe=Npe;function Ipe(t){return t}var Qd=Ipe;function kpe(t){return function(e){return e==null?void 0:e[t]}}var Ope=kpe,Rpe=zC;function Mpe(t){return function(e){return Rpe(e,t)}}var Dpe=Mpe,$pe=Ope,Lpe=Dpe,Fpe=DC,Vpe=a0;function Bpe(t){return Fpe(t)?$pe(Vpe(t)):Lpe(t)}var Upe=Bpe,zpe=ope,Wpe=jpe,Hpe=Qd,qpe=fi,Gpe=Upe;function Kpe(t){return typeof t=="function"?t:t==null?Hpe:typeof t=="object"?qpe(t)?Wpe(t[0],t[1]):zpe(t):Gpe(t)}var Jd=Kpe;function Ype(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Xpe=Ype;function Qpe(t){return t!==t}var Jpe=Qpe;function Zpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var eme=Zpe,tme=Xpe,nme=Jpe,rme=eme;function ime(t,e,n){return e===e?rme(t,e,n):tme(t,nme,n)}var ome=ime,sme=ome;function ame(t,e){var n=t==null?0:t.length;return!!n&&sme(t,e,0)>-1}var lme=ame;function cme(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ume=cme;function dme(){}var fme=dme,hw=U6,hme=fme,pme=ZC,mme=1/0,gme=hw&&1/pme(new hw([,-0]))[1]==mme?function(t){return new hw(t)}:hme,yme=gme,vme=k6,xme=lme,bme=ume,wme=R6,Sme=yme,_me=ZC,Eme=200;function Tme(t,e,n){var r=-1,i=xme,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=bme;else if(o>=Eme){var u=e?null:Sme(t);if(u)return _me(u);s=!1,i=wme,l=new vme}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var Cme=Tme,Pme=Jd,Ame=Cme;function Nme(t,e){return t&&t.length?Ame(t,Pme(e)):[]}var jme=Nme;const jI=Xt(jme);function G6(t,e,n){return e===!0?jI(t,n):_t(e)?jI(t,e):t}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var Ime=["ref"];function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y6(r.key),r)}}function Ome(t,e,n){return e&&kI(t.prototype,e),n&&kI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,n){return e=hv(e),Mme(t,K6()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function Mme(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K6=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function $me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LS(t,e)}function _0(t,e,n){return e=Y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6(t){var e=Lme(t,"string");return sd(e)=="symbol"?e:e+""}function Lme(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fme(t,e){if(t==null)return{};var n=Vme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bme(t){return t.value}function Ume(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=Fme(e,Ime);return q.createElement(JC,n)}var OI=1,Cu=function(t){function e(){var n;kme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Rme(this,e,[].concat(i)),_0(n,"lastBoundingBox",{width:-1,height:-1}),n}return $me(e,t),Ome(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>OI||Math.abs(i.height-this.lastBoundingBox.height)>OI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Is({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Is(Is({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Is(Is({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Ume(o,Is(Is({},this.props),{},{payload:G6(d,u,Bme)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Is(Is({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);_0(Cu,"displayName","Legend");_0(Cu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RI=rm,zme=eP,Wme=fi,MI=RI?RI.isConcatSpreadable:void 0;function Hme(t){return Wme(t)||zme(t)||!!(MI&&t&&t[MI])}var qme=Hme,Gme=D6,Kme=qme;function X6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Kme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?X6(a,e-1,n,r,i):Gme(i,a):r||(i[i.length]=a)}return i}var Q6=X6;function Yme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Xme=Yme,Qme=Xme,Jme=Qme(),Zme=Jme,ege=Zme,tge=rP;function nge(t,e){return t&&ege(t,e,tge)}var J6=nge,rge=S0;function ige(t,e){return function(n,r){if(n==null)return n;if(!rge(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var oge=ige,sge=J6,age=oge,lge=age(sge),oP=lge,cge=oP,uge=S0;function dge(t,e){var n=-1,r=uge(t)?Array(t.length):[];return cge(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Z6=dge;function fge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var hge=fge,DI=Wd;function pge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=DI(t),s=e!==void 0,a=e===null,l=e===e,u=DI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var mge=pge,gge=mge;function yge(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=gge(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var vge=yge,pw=UC,xge=zC,bge=Jd,wge=Z6,Sge=hge,_ge=F6,Ege=vge,Tge=Qd,Cge=fi;function Pge(t,e,n){e.length?e=pw(e,function(o){return Cge(o)?function(s){return xge(s,o.length===1?o[0]:o)}:o}):e=[Tge];var r=-1;e=pw(e,_ge(bge));var i=wge(t,function(o,s,a){var l=pw(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Sge(i,function(o,s){return Ege(o,s,n)})}var Age=Pge;function Nge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var jge=Nge,Ige=jge,$I=Math.max;function kge(t,e,n){return e=$I(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$I(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Ige(t,this,a)}}var Oge=kge;function Rge(t){return function(){return t}}var Mge=Rge,Dge=Nc,$ge=function(){try{var t=Dge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eB=$ge,Lge=Mge,LI=eB,Fge=Qd,Vge=LI?function(t,e){return LI(t,"toString",{configurable:!0,enumerable:!1,value:Lge(e),writable:!0})}:Fge,Bge=Vge,Uge=800,zge=16,Wge=Date.now;function Hge(t){var e=0,n=0;return function(){var r=Wge(),i=zge-(r-n);if(n=r,i>0){if(++e>=Uge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qge=Hge,Gge=Bge,Kge=qge,Yge=Kge(Gge),Xge=Yge,Qge=Qd,Jge=Oge,Zge=Xge;function eye(t,e){return Zge(Jge(t,e,Qge),t+"")}var tye=eye,nye=LC,rye=S0,iye=tP,oye=xl;function sye(t,e,n){if(!oye(n))return!1;var r=typeof e;return(r=="number"?rye(n)&&iye(e,n.length):r=="string"&&e in n)?nye(n[e],t):!1}var E0=sye,aye=Q6,lye=Age,cye=tye,FI=E0,uye=cye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&FI(t,e[0],e[1])?e=[]:n>2&&FI(e[0],e[1],e[2])&&(e=[e[0]]),lye(t,aye(e,1),[])}),dye=uye;const sP=Xt(dye);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(this,arguments)}function fye(t,e){return gye(t)||mye(t,e)||pye(t,e)||hye()}function hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pye(t,e){if(t){if(typeof t=="string")return VI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VI(t,e)}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function gye(t){if(Array.isArray(t))return t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yye(t,e,n){return e=vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=xye(t,"string");return Jh(e)=="symbol"?e:e+""}function xye(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bye(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var wye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,S=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?sP(d,h):d).map(function(L,B){if(L.type==="none")return null;var V=mw({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a),U=L.formatter||f||bye,F=L.value,W=L.name,ne=F,X=W;if(U&&ne!=null&&X!=null){var ie=U(F,W,L,B,d);if(Array.isArray(ie)){var ce=fye(ie,2);ne=ce[0],X=ce[1]}else ne=ie}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:V},Jn(X)?q.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Jn(X)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},ne),q.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},C=mw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=mw({margin:0},u),A=!bt(g),_=A?g:"",T=Pt("recharts-default-tooltip",m),N=Pt("recharts-tooltip-label",y);A&&v&&d!==void 0&&d!==null&&(_=v(g,d));var k=w?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",FS({className:T,style:C},k),q.createElement("p",{className:N,style:E},q.isValidElement(_)?_:"".concat(_)),S())};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function lg(t,e,n){return e=Sye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sye(t){var e=_ye(t,"string");return Zh(e)=="symbol"?e:e+""}function _ye(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sf="recharts-tooltip-wrapper",Eye={visibility:"hidden"};function Tye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pt(Sf,lg(lg(lg(lg({},"".concat(Sf,"-right"),Ie(n)&&e&&Ie(e.x)&&n>=e.x),"".concat(Sf,"-left"),Ie(n)&&e&&Ie(e.x)&&n<e.x),"".concat(Sf,"-bottom"),Ie(r)&&e&&Ie(e.y)&&r>=e.y),"".concat(Sf,"-top"),Ie(r)&&e&&Ie(e.y)&&r<e.y))}function UI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Ie(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+a,g=l[r]+u;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function Cye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Pye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=UI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=UI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Cye({translateX:d,translateY:f,useTranslate3d:a})):u=Eye,{cssProperties:u,cssClasses:Tye({translateX:d,translateY:f,coordinate:n})}}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){BS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nB(r.key),r)}}function jye(t,e,n){return e&&Nye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iye(t,e,n){return e=pv(e),kye(t,tB()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function kye(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oye(t)}function Oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tB=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function BS(t,e,n){return e=nB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nB(t){var e=Mye(t,"string");return ad(e)=="symbol"?e:e+""}function Mye(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HI=1,Dye=function(t){function e(){var n;Aye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Iye(this,e,[].concat(i)),BS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),BS(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Rye(e,t),jye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>HI||Math.abs(r.height-this.state.lastBoundingBox.height)>HI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,S=Pye({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),C=S.cssClasses,E=S.cssProperties,A=WI(WI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return q.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(b.PureComponent),$ye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gs={isSsr:$ye(),get:function(e){return Gs[e]},set:function(e,n){if(typeof e=="string")Gs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Gs[i]=e[i]})}}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){aP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iB(r.key),r)}}function Vye(t,e,n){return e&&Fye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bye(t,e,n){return e=mv(e),Uye(t,rB()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function Uye(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zye(t)}function zye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},US(t,e)}function aP(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=Hye(t,"string");return ld(e)=="symbol"?e:e+""}function Hye(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t){return t.dataKey}function Gye(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(wye,e)}var Qo=function(t){function e(){return Lye(this,e),Bye(this,e,arguments)}return Wye(e,t),Vye(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,E=y??[];f&&E.length&&(E=G6(y.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,qye));var A=E.length>0;return q.createElement(Dye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:A,offset:m,position:v,reverseDirection:x,useTranslate3d:w,viewBox:S,wrapperStyle:C},Gye(u,GI(GI({},this.props),{},{payload:E})))}}])}(b.PureComponent);aP(Qo,"displayName","Tooltip");aP(Qo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kye=_s,Yye=function(){return Kye.Date.now()},Xye=Yye,Qye=/\s/;function Jye(t){for(var e=t.length;e--&&Qye.test(t.charAt(e)););return e}var Zye=Jye,eve=Zye,tve=/^\s+/;function nve(t){return t&&t.slice(0,eve(t)+1).replace(tve,"")}var rve=nve,ive=rve,KI=xl,ove=Wd,YI=NaN,sve=/^[-+]0x[0-9a-f]+$/i,ave=/^0b[01]+$/i,lve=/^0o[0-7]+$/i,cve=parseInt;function uve(t){if(typeof t=="number")return t;if(ove(t))return YI;if(KI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ive(t);var n=ave.test(t);return n||lve.test(t)?cve(t.slice(2),n?2:8):sve.test(t)?YI:+t}var oB=uve,dve=xl,gw=Xye,XI=oB,fve="Expected a function",hve=Math.max,pve=Math.min;function mve(t,e,n){var r,i,o,s,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(fve);e=XI(e)||0,dve(n)&&(d=!!n.leading,f="maxWait"in n,o=f?hve(XI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(A){var _=r,T=i;return r=i=void 0,u=A,s=t.apply(T,_),s}function y(A){return u=A,a=setTimeout(x,e),d?m(A):s}function g(A){var _=A-l,T=A-u,N=e-_;return f?pve(N,o-T):N}function v(A){var _=A-l,T=A-u;return l===void 0||_>=e||_<0||f&&T>=o}function x(){var A=gw();if(v(A))return w(A);a=setTimeout(x,g(A))}function w(A){return a=void 0,h&&r?m(A):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(gw())}function E(){var A=gw(),_=v(A);if(r=arguments,i=this,l=A,_){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),s}return E.cancel=S,E.flush=C,E}var gve=mve,yve=gve,vve=xl,xve="Expected a function";function bve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(xve);return vve(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),yve(t,e,{leading:r,maxWait:e,trailing:i})}var wve=bve;const sB=Xt(wve);function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e,n){return e=_ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=Eve(t,"string");return ep(e)=="symbol"?e:e+""}function Eve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tve(t,e){return Nve(t)||Ave(t,e)||Pve(t,e)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nve(t){if(Array.isArray(t))return t}var jve=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,w=t.onResize,S=t.style,C=S===void 0?{}:S,E=b.useRef(null),A=b.useRef();A.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=b.useState({containerWidth:i.width,containerHeight:i.height}),T=Tve(_,2),N=T[0],k=T[1],j=b.useCallback(function(O,L){k(function(B){var V=Math.round(O),U=Math.round(L);return B.containerWidth===V&&B.containerHeight===U?B:{containerWidth:V,containerHeight:U}})},[]);b.useEffect(function(){var O=function(W){var ne,X=W[0].contentRect,ie=X.width,ce=X.height;j(ie,ce),(ne=A.current)===null||ne===void 0||ne.call(A,ie,ce)};g>0&&(O=sB(O,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),B=E.current.getBoundingClientRect(),V=B.width,U=B.height;return j(V,U),L.observe(E.current),function(){L.disconnect()}},[j,g]);var R=b.useMemo(function(){var O=N.containerWidth,L=N.containerHeight;if(O<0||L<0)return null;ec(Ul(s)||Ul(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ul(s)?O:s,V=Ul(l)?L:l;n&&n>0&&(B?V=B/n:V&&(B=V*n),h&&V>h&&(V=h)),ec(B>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,V,s,l,d,f,n);var U=!Array.isArray(m)&&qs(m.type).endsWith("Chart");return q.Children.map(m,function(F){return q.isValidElement(F)?b.cloneElement(F,cg({width:B,height:V},U?{style:cg({height:"100%",width:"100%",maxHeight:V,maxWidth:B},F.props.style)}:{})):F})},[n,m,l,h,f,d,N,s]);return q.createElement("div",{id:v?"".concat(v):void 0,className:Pt("recharts-responsive-container",x),style:cg(cg({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},R)}),aB=function(e){return null};aB.displayName="Cell";function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ive(t,e,n){return e=kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Ove(t,"string");return tp(e)=="symbol"?e:e+""}function Ove(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fc={widthCache:{},cacheCount:0},Rve=2e3,Mve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ek="recharts_measurement_span";function Dve(t){var e=zS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var lh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gs.isSsr)return{width:0,height:0};var r=Dve(n),i=JSON.stringify({text:e,copyStyle:r});if(Fc.widthCache[i])return Fc.widthCache[i];try{var o=document.getElementById(ek);o||(o=document.createElement("span"),o.setAttribute("id",ek),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=zS(zS({},Mve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Fc.widthCache[i]=l,++Fc.cacheCount>Rve&&(Fc.cacheCount=0,Fc.widthCache={}),l}catch{return{width:0,height:0}}},$ve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function gv(t,e){return Bve(t)||Vve(t,e)||Fve(t,e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Bve(t){if(Array.isArray(t))return t}function Uve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wve(r.key),r)}}function zve(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wve(t){var e=Hve(t,"string");return np(e)=="symbol"?e:e+""}function Hve(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ik=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kve=Object.keys(lB),au="NaN";function Yve(t,e){return t*lB[e]}var ug=function(){function t(e,n){Uve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!qve.test(n)&&(this.num=NaN,this.unit=""),Kve.includes(n)&&(this.num=Yve(e,n),this.unit="px")}return zve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Gve.exec(n))!==null&&r!==void 0?r:[],o=gv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function cB(t){if(t.includes(au))return au;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rk.exec(e))!==null&&n!==void 0?n:[],i=gv(r,4),o=i[1],s=i[2],a=i[3],l=ug.parse(o??""),u=ug.parse(a??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return au;e=e.replace(rk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ik.exec(e))!==null&&f!==void 0?f:[],m=gv(h,4),y=m[1],g=m[2],v=m[3],x=ug.parse(y??""),w=ug.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return au;e=e.replace(ik,S.toString())}return e}var ok=/\(([^()]*)\)/;function Xve(t){for(var e=t;e.includes("(");){var n=ok.exec(e),r=gv(n,2),i=r[1];e=e.replace(ok,cB(i))}return e}function Qve(t){var e=t.replace(/\s+/g,"");return e=Xve(e),e=cB(e),e}function Jve(t){try{return Qve(t)}catch{return au}}function yw(t){var e=Jve(t.slice(5,-1));return e===au?"":e}var Zve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],exe=["dx","dy","angle","className","breakAll"];function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function sk(t,e){if(t==null)return{};var n=txe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function txe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ak(t,e){return oxe(t)||ixe(t,e)||rxe(t,e)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ixe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function oxe(t){if(Array.isArray(t))return t}var uB=/[ \f\n\r\t\v\u2028\u2029]+/,dB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];bt(n)||(r?o=n.toString().split(""):o=n.toString().split(uB));var s=o.map(function(l){return{word:l,width:lh(l,i).width}}),a=r?0:lh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},sxe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=Ie(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(V,U){var F=U.word,W=U.width,ne=V[V.length-1];if(ne&&(i==null||o||ne.width+W+r<Number(i)))ne.words.push(F),ne.width+=W+r;else{var X={words:[F],width:W};V.push(X)}return V},[])},m=h(n),y=function(B){return B.reduce(function(V,U){return V.width>U.width?V:U})};if(!d)return m;for(var g="",v=function(B){var V=f.slice(0,B),U=dB({breakAll:u,style:l,children:V+g}).wordsWithComputedWidth,F=h(U),W=F.length>s||y(F).width>Number(i);return[W,F]},x=0,w=f.length-1,S=0,C;x<=w&&S<=f.length-1;){var E=Math.floor((x+w)/2),A=E-1,_=v(A),T=ak(_,2),N=T[0],k=T[1],j=v(E),R=ak(j,1),O=R[0];if(!N&&!O&&(x=E+1),N&&O&&(w=E-1),!N&&O){C=k;break}S++}return C||m},ck=function(e){var n=bt(e)?[]:e.toString().split(uB);return[{words:n}]},axe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Gs.isSsr){var l,u,d=dB({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return ck(i);return sxe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return ck(i)},uk="#808080",yv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?uk:v,w=sk(e,Zve),S=b.useMemo(function(){return axe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,E=w.dy,A=w.angle,_=w.className,T=w.breakAll,N=sk(w,exe);if(!Jn(r)||!Jn(o))return null;var k=r+(Ie(C)?C:0),j=o+(Ie(E)?E:0),R;switch(g){case"start":R=yw("calc(".concat(u,")"));break;case"middle":R=yw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:R=yw("calc(".concat(S.length-1," * -").concat(a,")"));break}var O=[];if(f){var L=S[0].width,B=w.width;O.push("scale(".concat((Ie(B)?B/L:1)/L,")"))}return A&&O.push("rotate(".concat(A,", ").concat(k,", ").concat(j,")")),O.length&&(N.transform=O.join(" ")),q.createElement("text",WS({},Nt(N,!0),{x:k,y:j,className:Pt("recharts-text",_),textAnchor:m,fill:x.includes("url")?uk:x}),S.map(function(V,U){var F=V.words.join(T?"":" ");return q.createElement("tspan",{x:k,dy:U===0?R:a,key:"".concat(F,"-").concat(U)},F)}))};function el(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lP(t){let e,n,r;t.length!==2?(e=el,n=(a,l)=>el(t(a),l),r=(a,l)=>t(a)-l):(e=t===el||t===lxe?t:cxe,n=t,r=t);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(a,l,u=0,d=a.length){const f=i(a,l,u,d-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function cxe(){return 0}function fB(t){return t===null?NaN:+t}function*uxe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const dxe=lP(el),sm=dxe.right;lP(fB).center;class dk extends Map{constructor(e,n=pxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(fk(this,e))}has(e){return super.has(fk(this,e))}set(e,n){return super.set(fxe(this,e),n)}delete(e){return super.delete(hxe(this,e))}}function fk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mxe(t=el){if(t===el)return hB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gxe=Math.sqrt(50),yxe=Math.sqrt(10),vxe=Math.sqrt(2);function vv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=gxe?10:o>=yxe?5:o>=vxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?vv(t,e,n*2):[a,l,u]}function HS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?vv(e,t,n):vv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function qS(t,e,n){return e=+e,t=+t,n=+n,vv(t,e,n)[2]}function GS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?qS(e,t,n):qS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hB:mxe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));pB(t,e,m,y,i)}const o=t[e];let s=n,a=r;for(_f(t,n,e),i(t[r],o)>0&&_f(t,n,r);s<a;){for(_f(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?_f(t,n,a):(++a,_f(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function _f(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xxe(t,e,n){if(t=Float64Array.from(uxe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pk(t);if(e>=1)return hk(t);var r,i=(r-1)*e,o=Math.floor(i),s=hk(pB(t,o).subarray(0,o+1)),a=pk(t.subarray(o+1));return s+(a-s)*(i-o)}}function bxe(t,e,n=fB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function wxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const KS=Symbol("implicit");function cP(){var t=new dk,e=[],n=[],r=KS;function i(o){let s=t.get(o);if(s===void 0){if(r!==KS)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new dk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cP(e,n).unknown(r)},oo.apply(i,arguments),i}function rp(){var t=cP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var v=wxe(h).map(function(x){return y+o*x});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return rp(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},oo.apply(f(),arguments)}function mB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mB(e())},t}function ch(){return mB(rp.apply(null,arguments).paddingInner(1))}function uP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function am(){}var ip=.7,xv=1/ip,Pu="\\s*([+-]?\\d+)\\s*",op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sxe=/^#([0-9a-f]{3,8})$/,_xe=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),Exe=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),Txe=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${op}\\)$`),Cxe=new RegExp(`^rgba\\(${ps},${ps},${ps},${op}\\)$`),Pxe=new RegExp(`^hsl\\(${op},${ps},${ps}\\)$`),Axe=new RegExp(`^hsla\\(${op},${ps},${ps},${op}\\)$`),mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uP(am,sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gk,formatHex:gk,formatHex8:Nxe,formatHsl:jxe,formatRgb:yk,toString:yk});function gk(){return this.rgb().formatHex()}function Nxe(){return this.rgb().formatHex8()}function jxe(){return yB(this).formatHsl()}function yk(){return this.rgb().formatRgb()}function sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vk(e):n===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_xe.exec(t))?new li(e[1],e[2],e[3],1):(e=Exe.exec(t))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Txe.exec(t))?dg(e[1],e[2],e[3],e[4]):(e=Cxe.exec(t))?dg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pxe.exec(t))?wk(e[1],e[2]/100,e[3]/100,1):(e=Axe.exec(t))?wk(e[1],e[2]/100,e[3]/100,e[4]):mk.hasOwnProperty(t)?vk(mk[t]):t==="transparent"?new li(NaN,NaN,NaN,0):null}function vk(t){return new li(t>>16&255,t>>8&255,t&255,1)}function dg(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function Ixe(t){return t instanceof am||(t=sp(t)),t?(t=t.rgb(),new li(t.r,t.g,t.b,t.opacity)):new li}function YS(t,e,n,r){return arguments.length===1?Ixe(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uP(li,YS,gB(am,{brighter(t){return t=t==null?xv:Math.pow(xv,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(tc(this.r),tc(this.g),tc(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xk,formatHex:xk,formatHex8:kxe,formatRgb:bk,toString:bk}));function xk(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function kxe(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const t=bv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function bv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function wk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Po(t,e,n,r)}function yB(t){if(t instanceof Po)return new Po(t.h,t.s,t.l,t.opacity);if(t instanceof am||(t=sp(t)),!t)return new Po;if(t instanceof Po)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Po(s,a,l,t.opacity)}function Oxe(t,e,n,r){return arguments.length===1?yB(t):new Po(t,e,n,r??1)}function Po(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uP(Po,Oxe,gB(am,{brighter(t){return t=t==null?xv:Math.pow(xv,t),new Po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ip:Math.pow(ip,t),new Po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(vw(t>=240?t-240:t+120,i,r),vw(t,i,r),vw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Po(Sk(this.h),fg(this.s),fg(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bv(this.opacity);return`${t===1?"hsl(":"hsla("}${Sk(this.h)}, ${fg(this.s)*100}%, ${fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sk(t){return t=(t||0)%360,t<0?t+360:t}function fg(t){return Math.max(0,Math.min(1,t||0))}function vw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dP=t=>()=>t;function Rxe(t,e){return function(n){return t+n*e}}function Mxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dxe(t){return(t=+t)==1?vB:function(e,n){return n-e?Mxe(e,n,t):dP(isNaN(e)?n:e)}}function vB(t,e){var n=e-t;return n?Rxe(t,n):dP(isNaN(t)?e:t)}const _k=function t(e){var n=Dxe(e);function r(i,o){var s=n((i=YS(i)).r,(o=YS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=vB(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function $xe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Lxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Vxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var XS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xw=new RegExp(XS.source,"g");function Uxe(t){return function(){return t}}function zxe(t){return function(e){return t(e)+""}}function Wxe(t,e){var n=XS.lastIndex=xw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=XS.exec(t))&&(i=xw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:wv(r,i)})),n=xw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?zxe(l[0].x):Uxe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}function Zd(t,e){var n=typeof e,r;return e==null||n==="boolean"?dP(e):(n==="number"?wv:n==="string"?(r=sp(e))?(e=r,_k):Wxe:e instanceof sp?_k:e instanceof Date?Vxe:Lxe(e)?$xe:Array.isArray(e)?Fxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bxe:wv)(t,e)}function fP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hxe(t,e){e===void 0&&(e=t,t=Zd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function qxe(t){return function(){return t}}function Sv(t){return+t}var Ek=[0,1];function Jr(t){return t}function QS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qxe(isNaN(e)?NaN:.5)}function Gxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=QS(i,r),o=n(s,o)):(r=QS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Yxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=QS(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=sm(t,a,1,r)-1;return o[l](i[l](a))}}function lm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function T0(){var t=Ek,e=Ek,n=Zd,r,i,o,s=Jr,a,l,u;function d(){var h=Math.min(t.length,e.length);return s!==Jr&&(s=Gxe(t[0],t[h-1])),a=h>2?Yxe:Kxe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),wv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Sv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=fP,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Jr,d()):s!==Jr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function hP(){return T0()(Jr,Jr)}function Xxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _v(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cd(t){return t=_v(Math.abs(t)),t?t[1]:NaN}function Qxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Jxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(t){if(!(e=Zxe.exec(t)))throw new Error("invalid format: "+t);var e;return new pP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ap.prototype=pP.prototype;function pP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xB;function t0e(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(xB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_v(t,Math.max(0,e+o-1))[0]}function Tk(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ck={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tk(t*100,e),r:Tk,s:t0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pk(t){return t}var Ak=Array.prototype.map,Nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function n0e(t){var e=t.grouping===void 0||t.thousands===void 0?Pk:Qxe(Ak.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Pk:Jxe(Ak.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ap(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(w=!0,E="g"):Ck[E]||(S===void 0&&(S=12),C=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?s:"",T=Ck[E],N=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(j){var R=A,O=_,L,B,V;if(E==="c")O=T(j)+O,j="";else{j=+j;var U=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),S),C&&(j=e0e(j)),U&&+j==0&&y!=="+"&&(U=!1),R=(U?y==="("?y:a:y==="-"||y==="("?"":y)+R,O=(E==="s"?Nk[8+xB/3]:"")+O+(U&&y==="("?")":""),N){for(L=-1,B=j.length;++L<B;)if(V=j.charCodeAt(L),48>V||V>57){O=(V===46?i+j.slice(L+1):j.slice(L))+O,j=j.slice(0,L);break}}}w&&!v&&(j=e(j,1/0));var F=R.length+j.length+O.length,W=F<x?new Array(x-F+1).join(h):"";switch(w&&v&&(j=e(W+j,W.length?x-O.length:1/0),W=""),m){case"<":j=R+j+O+W;break;case"=":j=R+W+j+O;break;case"^":j=W.slice(0,F=W.length>>1)+R+j+O+W.slice(F);break;default:j=W+R+j+O;break}return o(j)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=ap(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,g=Math.pow(10,-y),v=Nk[8+y/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var hg,mP,bB;r0e({thousands:",",grouping:[3],currency:["$",""]});function r0e(t){return hg=n0e(t),mP=hg.format,bB=hg.formatPrefix,hg}function i0e(t){return Math.max(0,-cd(Math.abs(t)))}function o0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(e)/3)))*3-cd(Math.abs(t)))}function s0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cd(e)-cd(t))+1}function wB(t,e,n,r){var i=GS(t,e,n),o;switch(r=ap(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=o0e(i,s))&&(r.precision=o),bB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=s0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=i0e(i))&&(r.precision=o-(r.type==="%")*2);break}}return mP(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return HS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return wB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,d=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);d-- >0;){if(u=qS(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Ev(){var t=hP();return t.copy=function(){return lm(t,Ev())},oo.apply(t,arguments),bl(t)}function SB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SB(t).unknown(e)},t=arguments.length?Array.from(t,Sv):[0,1],bl(n)}function _B(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function jk(t){return Math.log(t)}function Ik(t){return Math.exp(t)}function a0e(t){return-Math.log(-t)}function l0e(t){return-Math.exp(-t)}function c0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function u0e(t){return t===10?c0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function d0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kk(t){return(e,n)=>-t(-e,n)}function gP(t){const e=t(jk,Ik),n=e.domain;let r=10,i,o;function s(){return i=d0e(r),o=u0e(r),n()[0]<0?(i=kk(i),o=kk(o),t(a0e,l0e)):t(jk,Ik),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,g;const v=a==null?10:+a;let x=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=HS(u,d,v))}else x=HS(h,m,Math.min(m-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ap(l)).precision==null&&(l.trim=!0),l=mP(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(_B(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function EB(){const t=gP(T0()).domain([1,10]);return t.copy=()=>lm(t,EB()).base(t.base()),oo.apply(t,arguments),t}function Ok(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Rk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yP(t){var e=1,n=t(Ok(e),Rk(e));return n.constant=function(r){return arguments.length?t(Ok(e=+r),Rk(e)):e},bl(n)}function TB(){var t=yP(T0());return t.copy=function(){return lm(t,TB()).constant(t.constant())},oo.apply(t,arguments)}function Mk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function f0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function h0e(t){return t<0?-t*t:t*t}function vP(t){var e=t(Jr,Jr),n=1;function r(){return n===1?t(Jr,Jr):n===.5?t(f0e,h0e):t(Mk(n),Mk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function xP(){var t=vP(T0());return t.copy=function(){return lm(t,xP()).exponent(t.exponent())},oo.apply(t,arguments),t}function p0e(){return xP.apply(null,arguments).exponent(.5)}function Dk(t){return Math.sign(t)*t*t}function m0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CB(){var t=hP(),e=[0,1],n=!1,r;function i(o){var s=m0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Dk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sv)).map(Dk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oo.apply(i,arguments),bl(i)}function PB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=bxe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[sm(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(el),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return PB().domain(t).range(e).unknown(r)},oo.apply(o,arguments)}function AB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[sm(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return AB().domain([t,e]).range(i).unknown(o)},oo.apply(bl(s),arguments)}function NB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[sm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return NB().domain(t).range(e).unknown(n)},oo.apply(i,arguments)}const bw=new Date,ww=new Date;function er(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>er(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(bw.setTime(+o),ww.setTime(+s),t(bw),t(ww),Math.floor(n(bw,ww))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Tv=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tv);Tv.range;const Us=1e3,Ki=Us*60,zs=Ki*60,oa=zs*24,bP=oa*7,$k=oa*30,Sw=oa*365,Wl=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getUTCSeconds());Wl.range;const wP=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Us)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getMinutes());wP.range;const SP=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getUTCMinutes());SP.range;const _P=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Us-t.getMinutes()*Ki)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getHours());_P.range;const EP=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getUTCHours());EP.range;const cm=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/oa,t=>t.getDate()-1);cm.range;const C0=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oa,t=>t.getUTCDate()-1);C0.range;const jB=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oa,t=>Math.floor(t/oa));jB.range;function jc(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/bP)}const P0=jc(0),Cv=jc(1),g0e=jc(2),y0e=jc(3),ud=jc(4),v0e=jc(5),x0e=jc(6);P0.range;Cv.range;g0e.range;y0e.range;ud.range;v0e.range;x0e.range;function Ic(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bP)}const A0=Ic(0),Pv=Ic(1),b0e=Ic(2),w0e=Ic(3),dd=Ic(4),S0e=Ic(5),_0e=Ic(6);A0.range;Pv.range;b0e.range;w0e.range;dd.range;S0e.range;_0e.range;const TP=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TP.range;const CP=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CP.range;const sa=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});sa.range;const aa=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});aa.range;function IB(t,e,n,r,i,o){const s=[[Wl,1,Us],[Wl,5,5*Us],[Wl,15,15*Us],[Wl,30,30*Us],[o,1,Ki],[o,5,5*Ki],[o,15,15*Ki],[o,30,30*Ki],[i,1,zs],[i,3,3*zs],[i,6,6*zs],[i,12,12*zs],[r,1,oa],[r,2,2*oa],[n,1,bP],[e,1,$k],[e,3,3*$k],[t,1,Sw]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function l(u,d,f){const h=Math.abs(d-u)/f,m=lP(([,,v])=>v).right(s,h);if(m===s.length)return t.every(GS(u/Sw,d/Sw,f));if(m===0)return Tv.every(Math.max(GS(u,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[a,l]}const[E0e,T0e]=IB(aa,CP,A0,jB,EP,SP),[C0e,P0e]=IB(sa,TP,P0,cm,_P,wP);function _w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ef(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function A0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Tf(i),d=Cf(i),f=Tf(o),h=Cf(o),m=Tf(s),y=Cf(s),g=Tf(a),v=Cf(a),x=Tf(l),w=Cf(l),S={a:U,A:F,b:W,B:ne,c:null,d:zk,e:zk,f:Q0e,g:abe,G:cbe,H:K0e,I:Y0e,j:X0e,L:kB,m:J0e,M:Z0e,p:X,q:ie,Q:qk,s:Gk,S:ebe,u:tbe,U:nbe,V:rbe,w:ibe,W:obe,x:null,X:null,y:sbe,Y:lbe,Z:ube,"%":Hk},C={a:ce,A:be,b:ke,B:ot,c:null,d:Wk,e:Wk,f:pbe,g:Ebe,G:Cbe,H:dbe,I:fbe,j:hbe,L:RB,m:mbe,M:gbe,p:xe,q:je,Q:qk,s:Gk,S:ybe,u:vbe,U:xbe,V:bbe,w:wbe,W:Sbe,x:null,X:null,y:_be,Y:Tbe,Z:Pbe,"%":Hk},E={a:k,A:j,b:R,B:O,c:L,d:Bk,e:Bk,f:W0e,g:Vk,G:Fk,H:Uk,I:Uk,j:V0e,L:z0e,m:F0e,M:B0e,p:N,q:L0e,Q:q0e,s:G0e,S:U0e,u:O0e,U:R0e,V:M0e,w:k0e,W:D0e,x:B,X:V,y:Vk,Y:Fk,Z:$0e,"%":H0e};S.x=A(n,S),S.X=A(r,S),S.c=A(e,S),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(se,pe){return function(le){var z=[],we=-1,Te=0,Ye=se.length,Xe,st,pt;for(le instanceof Date||(le=new Date(+le));++we<Ye;)se.charCodeAt(we)===37&&(z.push(se.slice(Te,we)),(st=Lk[Xe=se.charAt(++we)])!=null?Xe=se.charAt(++we):st=Xe==="e"?" ":"0",(pt=pe[Xe])&&(Xe=pt(le,st)),z.push(Xe),Te=we+1);return z.push(se.slice(Te,we)),z.join("")}}function _(se,pe){return function(le){var z=Ef(1900,void 0,1),we=T(z,se,le+="",0),Te,Ye;if(we!=le.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(pe&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Te=Ew(Ef(z.y,0,1)),Ye=Te.getUTCDay(),Te=Ye>4||Ye===0?Pv.ceil(Te):Pv(Te),Te=C0.offset(Te,(z.V-1)*7),z.y=Te.getUTCFullYear(),z.m=Te.getUTCMonth(),z.d=Te.getUTCDate()+(z.w+6)%7):(Te=_w(Ef(z.y,0,1)),Ye=Te.getDay(),Te=Ye>4||Ye===0?Cv.ceil(Te):Cv(Te),Te=cm.offset(Te,(z.V-1)*7),z.y=Te.getFullYear(),z.m=Te.getMonth(),z.d=Te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Ye="Z"in z?Ew(Ef(z.y,0,1)).getUTCDay():_w(Ef(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Ye+5)%7:z.w+z.U*7-(Ye+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Ew(z)):_w(z)}}function T(se,pe,le,z){for(var we=0,Te=pe.length,Ye=le.length,Xe,st;we<Te;){if(z>=Ye)return-1;if(Xe=pe.charCodeAt(we++),Xe===37){if(Xe=pe.charAt(we++),st=E[Xe in Lk?pe.charAt(we++):Xe],!st||(z=st(se,le,z))<0)return-1}else if(Xe!=le.charCodeAt(z++))return-1}return z}function N(se,pe,le){var z=u.exec(pe.slice(le));return z?(se.p=d.get(z[0].toLowerCase()),le+z[0].length):-1}function k(se,pe,le){var z=m.exec(pe.slice(le));return z?(se.w=y.get(z[0].toLowerCase()),le+z[0].length):-1}function j(se,pe,le){var z=f.exec(pe.slice(le));return z?(se.w=h.get(z[0].toLowerCase()),le+z[0].length):-1}function R(se,pe,le){var z=x.exec(pe.slice(le));return z?(se.m=w.get(z[0].toLowerCase()),le+z[0].length):-1}function O(se,pe,le){var z=g.exec(pe.slice(le));return z?(se.m=v.get(z[0].toLowerCase()),le+z[0].length):-1}function L(se,pe,le){return T(se,e,pe,le)}function B(se,pe,le){return T(se,n,pe,le)}function V(se,pe,le){return T(se,r,pe,le)}function U(se){return s[se.getDay()]}function F(se){return o[se.getDay()]}function W(se){return l[se.getMonth()]}function ne(se){return a[se.getMonth()]}function X(se){return i[+(se.getHours()>=12)]}function ie(se){return 1+~~(se.getMonth()/3)}function ce(se){return s[se.getUTCDay()]}function be(se){return o[se.getUTCDay()]}function ke(se){return l[se.getUTCMonth()]}function ot(se){return a[se.getUTCMonth()]}function xe(se){return i[+(se.getUTCHours()>=12)]}function je(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var pe=A(se+="",S);return pe.toString=function(){return se},pe},parse:function(se){var pe=_(se+="",!1);return pe.toString=function(){return se},pe},utcFormat:function(se){var pe=A(se+="",C);return pe.toString=function(){return se},pe},utcParse:function(se){var pe=_(se+="",!0);return pe.toString=function(){return se},pe}}}var Lk={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,N0e=/^%/,j0e=/[\\^$*+?|[\]().{}]/g;function kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function I0e(t){return t.replace(j0e,"\\$&")}function Tf(t){return new RegExp("^(?:"+t.map(I0e).join("|")+")","i")}function Cf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function k0e(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function O0e(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function R0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function M0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function D0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Vk(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function L0e(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function F0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Bk(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function V0e(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Uk(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function B0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function U0e(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function z0e(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function W0e(t,e,n){var r=pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function H0e(t,e,n){var r=N0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function q0e(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function G0e(t,e,n){var r=pr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zk(t,e){return kt(t.getDate(),e,2)}function K0e(t,e){return kt(t.getHours(),e,2)}function Y0e(t,e){return kt(t.getHours()%12||12,e,2)}function X0e(t,e){return kt(1+cm.count(sa(t),t),e,3)}function kB(t,e){return kt(t.getMilliseconds(),e,3)}function Q0e(t,e){return kB(t,e)+"000"}function J0e(t,e){return kt(t.getMonth()+1,e,2)}function Z0e(t,e){return kt(t.getMinutes(),e,2)}function ebe(t,e){return kt(t.getSeconds(),e,2)}function tbe(t){var e=t.getDay();return e===0?7:e}function nbe(t,e){return kt(P0.count(sa(t)-1,t),e,2)}function OB(t){var e=t.getDay();return e>=4||e===0?ud(t):ud.ceil(t)}function rbe(t,e){return t=OB(t),kt(ud.count(sa(t),t)+(sa(t).getDay()===4),e,2)}function ibe(t){return t.getDay()}function obe(t,e){return kt(Cv.count(sa(t)-1,t),e,2)}function sbe(t,e){return kt(t.getFullYear()%100,e,2)}function abe(t,e){return t=OB(t),kt(t.getFullYear()%100,e,2)}function lbe(t,e){return kt(t.getFullYear()%1e4,e,4)}function cbe(t,e){var n=t.getDay();return t=n>=4||n===0?ud(t):ud.ceil(t),kt(t.getFullYear()%1e4,e,4)}function ube(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kt(e/60|0,"0",2)+kt(e%60,"0",2)}function Wk(t,e){return kt(t.getUTCDate(),e,2)}function dbe(t,e){return kt(t.getUTCHours(),e,2)}function fbe(t,e){return kt(t.getUTCHours()%12||12,e,2)}function hbe(t,e){return kt(1+C0.count(aa(t),t),e,3)}function RB(t,e){return kt(t.getUTCMilliseconds(),e,3)}function pbe(t,e){return RB(t,e)+"000"}function mbe(t,e){return kt(t.getUTCMonth()+1,e,2)}function gbe(t,e){return kt(t.getUTCMinutes(),e,2)}function ybe(t,e){return kt(t.getUTCSeconds(),e,2)}function vbe(t){var e=t.getUTCDay();return e===0?7:e}function xbe(t,e){return kt(A0.count(aa(t)-1,t),e,2)}function MB(t){var e=t.getUTCDay();return e>=4||e===0?dd(t):dd.ceil(t)}function bbe(t,e){return t=MB(t),kt(dd.count(aa(t),t)+(aa(t).getUTCDay()===4),e,2)}function wbe(t){return t.getUTCDay()}function Sbe(t,e){return kt(Pv.count(aa(t)-1,t),e,2)}function _be(t,e){return kt(t.getUTCFullYear()%100,e,2)}function Ebe(t,e){return t=MB(t),kt(t.getUTCFullYear()%100,e,2)}function Tbe(t,e){return kt(t.getUTCFullYear()%1e4,e,4)}function Cbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dd(t):dd.ceil(t),kt(t.getUTCFullYear()%1e4,e,4)}function Pbe(){return"+0000"}function Hk(){return"%"}function qk(t){return+t}function Gk(t){return Math.floor(+t/1e3)}var Vc,DB,$B;Abe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Abe(t){return Vc=A0e(t),DB=Vc.format,Vc.parse,$B=Vc.utcFormat,Vc.utcParse,Vc}function Nbe(t){return new Date(t)}function jbe(t){return t instanceof Date?+t:+new Date(+t)}function PP(t,e,n,r,i,o,s,a,l,u){var d=hP(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),S=u("%B"),C=u("%Y");function E(A){return(l(A)<A?m:a(A)<A?y:s(A)<A?g:o(A)<A?v:r(A)<A?i(A)<A?x:w:n(A)<A?S:C)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,jbe)):h().map(Nbe)},d.ticks=function(A){var _=h();return t(_[0],_[_.length-1],A??10)},d.tickFormat=function(A,_){return _==null?E:u(_)},d.nice=function(A){var _=h();return(!A||typeof A.range!="function")&&(A=e(_[0],_[_.length-1],A??10)),A?h(_B(_,A)):d},d.copy=function(){return lm(d,PP(t,e,n,r,i,o,s,a,l,u))},d}function Ibe(){return oo.apply(PP(C0e,P0e,sa,TP,P0,cm,_P,wP,Wl,DB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kbe(){return oo.apply(PP(E0e,T0e,aa,CP,A0,C0,EP,SP,Wl,$B).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N0(){var t=0,e=1,n,r,i,o,s=Jr,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(Zd),u.rangeRound=d(fP),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LB(){var t=bl(N0()(Jr));return t.copy=function(){return wl(t,LB())},pa.apply(t,arguments)}function FB(){var t=gP(N0()).domain([1,10]);return t.copy=function(){return wl(t,FB()).base(t.base())},pa.apply(t,arguments)}function VB(){var t=yP(N0());return t.copy=function(){return wl(t,VB()).constant(t.constant())},pa.apply(t,arguments)}function AP(){var t=vP(N0());return t.copy=function(){return wl(t,AP()).exponent(t.exponent())},pa.apply(t,arguments)}function Obe(){return AP.apply(null,arguments).exponent(.5)}function BB(){var t=[],e=Jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((sm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(el),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>xxe(t,o/r))},n.copy=function(){return BB(e).domain(t)},pa.apply(n,arguments)}function j0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Jr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var x,w,S;return arguments.length?([x,w,S]=v,u=Hxe(g,[x,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=y(Zd),m.rangeRound=y(fP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function UB(){var t=bl(j0()(Jr));return t.copy=function(){return wl(t,UB())},pa.apply(t,arguments)}function zB(){var t=gP(j0()).domain([.1,1,10]);return t.copy=function(){return wl(t,zB()).base(t.base())},pa.apply(t,arguments)}function WB(){var t=yP(j0());return t.copy=function(){return wl(t,WB()).constant(t.constant())},pa.apply(t,arguments)}function NP(){var t=vP(j0());return t.copy=function(){return wl(t,NP()).exponent(t.exponent())},pa.apply(t,arguments)}function Rbe(){return NP.apply(null,arguments).exponent(.5)}const Kk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rp,scaleDiverging:UB,scaleDivergingLog:zB,scaleDivergingPow:NP,scaleDivergingSqrt:Rbe,scaleDivergingSymlog:WB,scaleIdentity:SB,scaleImplicit:KS,scaleLinear:Ev,scaleLog:EB,scaleOrdinal:cP,scalePoint:ch,scalePow:xP,scaleQuantile:PB,scaleQuantize:AB,scaleRadial:CB,scaleSequential:LB,scaleSequentialLog:FB,scaleSequentialPow:AP,scaleSequentialQuantile:BB,scaleSequentialSqrt:Obe,scaleSequentialSymlog:VB,scaleSqrt:p0e,scaleSymlog:TB,scaleThreshold:NB,scaleTime:Ibe,scaleUtc:kbe,tickFormat:wB},Symbol.toStringTag,{value:"Module"}));var Mbe=Wd;function Dbe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Mbe(s):n(s,a)))var a=s,l=o}return l}var HB=Dbe;function $be(t,e){return t>e}var Lbe=$be,Fbe=HB,Vbe=Lbe,Bbe=Qd;function Ube(t){return t&&t.length?Fbe(t,Bbe,Vbe):void 0}var zbe=Ube;const I0=Xt(zbe);function Wbe(t,e){return t<e}var Hbe=Wbe,qbe=HB,Gbe=Hbe,Kbe=Qd;function Ybe(t){return t&&t.length?qbe(t,Kbe,Gbe):void 0}var Xbe=Ybe;const k0=Xt(Xbe);var Qbe=UC,Jbe=Jd,Zbe=Z6,ewe=fi;function twe(t,e){var n=ewe(t)?Qbe:Zbe;return n(t,Jbe(e))}var nwe=twe,rwe=Q6,iwe=nwe;function owe(t,e){return rwe(iwe(t,e),1)}var swe=owe;const awe=Xt(swe);var lwe=iP;function cwe(t,e){return lwe(t,e)}var uwe=cwe;const O0=Xt(uwe);var ef=1e9,dwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IP,xn=!0,to="[DecimalError] ",nc=to+"Invalid argument: ",jP=to+"Exponent out of range: ",tf=Math.floor,Rl=Math.pow,fwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ai,ar=1e7,dn=7,qB=9007199254740991,Av=tf(qB/dn),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return Ks(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return Yt(Ks(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Un(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ai))throw Error(to+"NaN");if(n.s<1)throw Error(to+(n.s?"NaN":"-Infinity"));return n.eq(Ai)?new r(0):(xn=!1,e=Ks(lp(n,o),lp(t,o),o),xn=!0,Yt(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YB(e,t):GB(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(to+"NaN");return n.s?(xn=!1,e=Ks(n,t,0,1).times(t),xn=!0,n.minus(e)):Yt(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return KB(this)};Ve.naturalLogarithm=Ve.ln=function(){return lp(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GB(e,t):YB(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=Un(i)+1,r=i.d.length-1,n=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(to+"NaN")}for(t=Un(a),xn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=is(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ks(a,o,s+2)).times(.5),is(o.d).slice(0,s)===(e=is(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Yt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return xn=!0,Yt(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,o,s,a,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%ar|0,e=a/ar|0;o[i]=(o[i]+e)%ar|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,xn?Yt(t,f.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bs(t,0,ef),e===void 0?e=r.rounding:bs(e,0,8),Yt(n,t+Un(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(bs(t,0,ef),e===void 0?e=i.rounding:bs(e,0,8),r=Yt(new i(r),t+1,e),n=xc(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xc(i):(bs(t,0,ef),e===void 0?e=o.rounding:bs(e,0,8),r=Yt(new o(i),t+Un(i)+1,e),n=xc(r.abs(),!1,t+Un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Un(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Ai);if(a=new l(a),!a.s){if(t.s<1)throw Error(to+"Infinity");return a}if(a.eq(Ai))return a;if(r=l.precision,t.eq(Ai))return Yt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=qB){for(i=new l(Ai),e=Math.ceil(r/dn+4),xn=!1;n%2&&(i=i.times(a),Xk(i.d,e)),n=tf(n/2),n!==0;)a=a.times(a),Xk(a.d,e);return xn=!0,t.s<0?new l(Ai).div(i):Yt(i,r)}}else if(o<0)throw Error(to+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,xn=!1,i=t.times(lp(a,r+u)),xn=!0,i=KB(i),i.s=o,i};Ve.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Un(i),r=xc(i,n<=o.toExpNeg||n>=o.toExpPos)):(bs(t,1,ef),e===void 0?e=o.rounding:bs(e,0,8),i=Yt(new o(i),t,e),n=Un(i),r=xc(i,t<=n||n<=o.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bs(t,1,ef),e===void 0?e=r.rounding:bs(e,0,8)),Yt(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function GB(t,e){var n,r,i,o,s,a,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),xn?Yt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/dn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ar|0,l[o]%=ar;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,xn?Yt(e,f):e}function bs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function is(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=dn-r.length,n&&(o+=Pa(n)),o+=r;s=t[e],r=s+"",n=dn-r.length,n&&(o+=Pa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ks=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%ar|0,s=o/ar|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ar+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,d,f,h,m,y,g,v,x,w,S,C,E,A,_,T,N=r.constructor,k=r.s==i.s?1:-1,j=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(to+"Division by zero");for(l=r.e-i.e,_=R.length,E=j.length,m=new N(k),y=m.d=[],u=0;R[u]==(j[u]||0);)++u;if(R[u]>(j[u]||0)&&--l,o==null?w=o=N.precision:s?w=o+(Un(r)-Un(i))+1:w=o,w<0)return new N(0);if(w=w/dn+2|0,u=0,_==1)for(d=0,R=R[0],w++;(u<E||d)&&w--;u++)S=d*ar+(j[u]||0),y[u]=S/R|0,d=S%R|0;else{for(d=ar/(R[0]+1)|0,d>1&&(R=t(R,d),j=t(j,d),_=R.length,E=j.length),C=_,g=j.slice(0,_),v=g.length;v<_;)g[v++]=0;T=R.slice(),T.unshift(0),A=R[0],R[1]>=ar/2&&++A;do d=0,a=e(R,g,_,v),a<0?(x=g[0],_!=v&&(x=x*ar+(g[1]||0)),d=x/A|0,d>1?(d>=ar&&(d=ar-1),f=t(R,d),h=f.length,v=g.length,a=e(f,g,h,v),a==1&&(d--,n(f,_<h?T:R,h))):(d==0&&(a=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),a==-1&&(v=g.length,a=e(R,g,_,v),a<1&&(d++,n(g,_<v?T:R,v))),v=g.length):a===0&&(d++,g=[0]),y[u++]=d,a&&g[0]?g[v++]=j[C]||0:(g=[j[C]],v=1);while((C++<E||g[0]!==void 0)&&w--)}return y[0]||y.shift(),m.e=l,Yt(m,s?o+Un(m)+1:o)}}();function KB(t,e){var n,r,i,o,s,a,l=0,u=0,d=t.constructor,f=d.precision;if(Un(t)>16)throw Error(jP+Un(t));if(!t.s)return new d(Ai);for(e==null?(xn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Rl(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Ai),d.precision=a;;){if(i=Yt(i.times(t),a),n=n.times(++l),s=o.plus(Ks(i,n,a)),is(s.d).slice(0,a)===is(o.d).slice(0,a)){for(;u--;)o=Yt(o.times(o),a);return d.precision=f,e==null?(xn=!0,Yt(o,f)):o}o=s}}function Un(t){for(var e=t.e*dn,n=t.d[0];n>=10;n/=10)e++;return e}function Tw(t,e,n){if(e>t.LN10.sd())throw xn=!0,n&&(t.precision=n),Error(to+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function Pa(t){for(var e="";t--;)e+="0";return e}function lp(t,e){var n,r,i,o,s,a,l,u,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(to+(m.s?"NaN":"-Infinity"));if(m.eq(Ai))return new g(0);if(e==null?(xn=!1,u=v):u=e,m.eq(10))return e==null&&(xn=!0),Tw(g,u);if(u+=h,g.precision=u,n=is(y),r=n.charAt(0),o=Un(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=is(m.d),r=n.charAt(0),f++;o=Un(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=Tw(g,u+2,v).times(o+""),m=lp(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(xn=!0,Yt(m,v)):m;for(a=s=m=Ks(m.minus(Ai),m.plus(Ai),u),d=Yt(m.times(m),u),i=3;;){if(s=Yt(s.times(d),u),l=a.plus(Ks(s,new g(i),u)),is(l.d).slice(0,u)===is(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Tw(g,u+2,v).times(o+""))),a=Ks(a,new g(f),u),g.precision=v,e==null?(xn=!0,Yt(a,v)):a;a=l,i+=2}}function Yk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/dn),t.d=[],r=(n+1)%dn,n<0&&(r+=dn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dn;r<i;)t.d.push(+e.slice(r,r+=dn));e=e.slice(r),r=dn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xn&&(t.e>Av||t.e<-Av))throw Error(jP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,n){var r,i,o,s,a,l,u,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=dn,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/dn),o=f.length,d>=o)return t;for(u=o=f[d],s=1;o>=10;o/=10)s++;r%=dn,i=r-dn+s}if(n!==void 0&&(o=Rl(10,s-i-1),a=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Rl(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Un(t),f.length=1,e=e-o-1,f[0]=Rl(10,(dn-e%dn)%dn),t.e=tf(-e/dn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Rl(10,dn-r),f[d]=i>0?(u/Rl(10,s-i)%Rl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==ar&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=ar)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(xn&&(t.e>Av||t.e<-Av))throw Error(jP+Un(t));return t}function YB(t,e){var n,r,i,o,s,a,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),xn?Yt(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(m/dn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ar-1;--l[o],l[i]+=ar}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,xn?Yt(e,m):e):new h(0)}function xc(t,e,n){var r,i=Un(t),o=is(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Pa(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Pa(-i-1)+o,n&&(r=n-s)>0&&(o+=Pa(r))):i>=s?(o+=Pa(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Pa(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Pa(r))),t.s<0?"-"+o:o}function Xk(t,e){if(t.length>e)return t.length=e,!0}function XB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Yk(s,o.toString())}else if(typeof o!="string")throw Error(nc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,fwe.test(o))Yk(s,o);else throw Error(nc+o)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XB,i.config=i.set=hwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function hwe(t){if(!t||typeof t!="object")throw Error(to+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var IP=XB(dwe);Ai=new IP(1);const Wt=IP;function pwe(t){return vwe(t)||ywe(t)||gwe(t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function ywe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vwe(t){if(Array.isArray(t))return JS(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xwe=function(e){return e},QB={"@@functional/placeholder":!0},JB=function(e){return e===QB},Qk=function(e){return function n(){return arguments.length===0||arguments.length===1&&JB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},bwe=function t(e,n){return e===1?n:Qk(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==QB}).length;return s>=e?n.apply(void 0,i):t(e-s,Qk(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(f){return JB(f)?l.shift():f});return n.apply(void 0,pwe(d).concat(l))}))})},R0=function(e){return bwe(e.length,e)},ZS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},wwe=R0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Swe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xwe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},e_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function _we(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function Ewe(t,e,n){for(var r=new Wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Twe=R0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Cwe=R0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Pwe=R0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const M0={rangeStep:Ewe,getDigitCount:_we,interpolateNumber:Twe,uninterpolateNumber:Cwe,uninterpolateTruncation:Pwe};function t_(t){return jwe(t)||Nwe(t)||eU(t)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jwe(t){if(Array.isArray(t))return n_(t)}function cp(t,e){return Owe(t)||kwe(t,e)||eU(t,e)||Iwe()}function Iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Owe(t){if(Array.isArray(t))return t}function tU(t){var e=cp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function nU(t,e,n){if(t.lte(0))return new Wt(0);var r=M0.getDigitCount(t.toNumber()),i=new Wt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Wt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Wt(Math.ceil(l))}function Rwe(t,e,n){var r=1,i=new Wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Wt(10).pow(M0.getDigitCount(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var s=Math.floor((e-1)/2),a=Swe(wwe(function(l){return i.add(new Wt(l-s).mul(r)).toNumber()}),ZS);return a(0,e)}function rU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var o=nU(new Wt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Wt(0):(s=new Wt(t).add(e).div(2),s=s.sub(new Wt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Wt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?rU(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Wt(a).mul(o)),tickMax:s.add(new Wt(l).mul(o))})}function Mwe(t){var e=cp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=tU([n,r]),l=cp(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(t_(ZS(0,i-1).map(function(){return 1/0}))):[].concat(t_(ZS(0,i-1).map(function(){return-1/0})),[d]);return n>r?e_(f):f}if(u===d)return Rwe(u,i,o);var h=rU(u,d,s,o),m=h.step,y=h.tickMin,g=h.tickMax,v=M0.rangeStep(y,g.add(new Wt(.1).mul(m)),m);return n>r?e_(v):v}function Dwe(t,e){var n=cp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=tU([r,i]),a=cp(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=nU(new Wt(u).sub(l).div(d-1),o,0),h=[].concat(t_(M0.rangeStep(new Wt(l),new Wt(u).sub(new Wt(.99).mul(f)),f)),[u]);return r>i?e_(h):h}var $we=ZB(Mwe),Lwe=ZB(Dwe),Fwe="Invariant failed";function bc(t,e){throw new Error(Fwe)}var Vwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(this,arguments)}function Bwe(t,e){return Hwe(t)||Wwe(t,e)||zwe(t,e)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(t,e){if(t){if(typeof t=="string")return Jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jk(t,e)}}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hwe(t){if(Array.isArray(t))return t}function qwe(t,e){if(t==null)return{};var n=Gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ywe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sU(r.key),r)}}function Xwe(t,e,n){return e&&Ywe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qwe(t,e,n){return e=jv(e),Jwe(t,iU()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function Jwe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zwe(t)}function Zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function e1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function oU(t,e,n){return e=sU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t){var e=t1e(t,"string");return fd(e)=="symbol"?e:e+""}function t1e(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var um=function(t){function e(){return Kwe(this,e),Qwe(this,e,arguments)}return e1e(e,t),Xwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=qwe(r,Vwe),m=Nt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var y=l.map(function(g){var v=u(g,a),x=v.x,w=v.y,S=v.value,C=v.errorVal;if(!C)return null;var E=[],A,_;if(Array.isArray(C)){var T=Bwe(C,2);A=T[0],_=T[1]}else A=_=C;if(o==="vertical"){var N=d.scale,k=w+i,j=k+s,R=k-s,O=N(S-A),L=N(S+_);E.push({x1:L,y1:j,x2:L,y2:R}),E.push({x1:O,y1:k,x2:L,y2:k}),E.push({x1:O,y1:j,x2:O,y2:R})}else if(o==="horizontal"){var B=f.scale,V=x+i,U=V-s,F=V+s,W=B(S-A),ne=B(S+_);E.push({x1:U,y1:ne,x2:F,y2:ne}),E.push({x1:V,y1:W,x2:V,y2:ne}),E.push({x1:U,y1:W,x2:F,y2:W})}return q.createElement(Mn,Nv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),E.map(function(X){return q.createElement("line",Nv({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return q.createElement(Mn,{className:"recharts-errorBars"},y)}}])}(q.Component);oU(um,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oU(um,"displayName","ErrorBar");function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){n1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n1e(t,e,n){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=i1e(t,"string");return up(e)=="symbol"?e:e+""}function i1e(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ci(n,Cu);if(!s)return null;var a=Cu.defaultProps,l=a!==void 0?Pl(Pl({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Pl(Pl({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||v||"square",color:kP(f),value:g||y,payload:m}}),Pl(Pl(Pl({},l),Cu.getWithHeight(s,i)),{},{payload:u,item:s})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function eO(t){return l1e(t)||a1e(t)||s1e(t)||o1e()}function o1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function a1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l1e(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Au(t,e,n){return e=c1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c1e(t){var e=u1e(t,"string");return dp(e)=="symbol"?e:e+""}function u1e(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ri(t,e,n){return bt(t)||bt(e)?n:Jn(e)?Xi(t,e,n):_t(e)?e(t):n}function uh(t,e,n,r){var i=awe(t,function(a){return Ri(a,e)});if(n==="number"){var o=i.filter(function(a){return Ie(a)||parseFloat(a)});return o.length?[k0(o),I0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!bt(a)}):i;return s.map(function(a){return Jn(a)||a instanceof Date?a:""})}var d1e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Io(f-d)!==Io(h-f)){var y=[];if(Io(h-f)===Io(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},kP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},f1e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(_){return qs(_.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,S=w!==void 0?In(In({},w),x[0].props):x[0].props,C=S.barSize,E=S[v];s[E]||(s[E]=[]);var A=bt(C)?n:C;s[E].push({item:x[0],stackList:x.slice(1),barSize:bt(A)?void 0:vc(A,r,0)})}}return s},h1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=vc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,y=s.reduce(function(C,E){return C+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(C,E){var A={item:E.item,position:{offset:v.offset+v.size+u,size:h?m:E.barSize}},_=[].concat(eO(C),[A]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:v})}),_},f)}else{var x=vc(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=s.reduce(function(C,E,A){var _=[].concat(eO(C),[{item:E.item,position:{offset:x+(w+u)*A+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},p1e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=aU({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&Ie(e[m]))return In(In({},e),{},Au({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&Ie(e[y]))return In(In({},e),{},Au({},y,e[y]+(h||0)))}return e},m1e=function(e,n,r){return bt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},lU=function(e,n,r,i,o){var s=n.props.children,a=Qi(s,um).filter(function(u){return m1e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Ri(d,r);if(bt(f))return u;var h=Array.isArray(f)?[k0(f),I0(f)]:[f,f],m=l.reduce(function(y,g){var v=Ri(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},g1e=function(e,n,r,i,o){var s=n.map(function(a){return lU(e,a,r,o,i)}).filter(function(a){return!bt(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},cU=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&lU(e,l,u,i)||uh(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},uU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Hl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Io(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!im(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Cw=new WeakMap,pg=function(e,n){if(typeof n!="function")return e;Cw.has(e)||Cw.set(e,new WeakMap);var r=Cw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},y1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:rp(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Ev(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ch(),realScaleType:"point"}:o==="category"?{scale:rp(),realScaleType:"band"}:{scale:Ev(),realScaleType:"linear"};if(yc(i)){var l="scale".concat(v0(i));return{scale:(Kk[l]||ch)(),realScaleType:Kk[l]?l:"point"}}return _t(i)?{scale:i}:{scale:ch(),realScaleType:"point"}},nO=1e-4,v1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-nO,s=Math.max(i[0],i[1])+nO,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},x1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},b1e=function(e,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ie(e[0])||e[0]<r)&&(o[0]=r),(!Ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},w1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=im(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},S1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=im(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},_1e={sign:w1e,expand:Dce,none:id,silhouette:$ce,wiggle:Lce,positive:S1e},E1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=_1e[r],s=Mce().keys(i).value(function(a,l){return+Ri(a,l,0)}).order(NS).offset(o);return s(e)},T1e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?In(In({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Jn(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[om("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return In(In({},f),{},Au({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return In(In({},g),{},Au({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:E1e(e,x.items,o)}))},y)}return In(In({},f),{},Au({},h,m))},d)},C1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=$we(u,o,a);return e.domain([k0(d),I0(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Lwe(f,o,a);return{niceTicks:h}}return null};function rO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!bt(i[e.dataKey])){var a=tv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Ri(i,bt(s)?e.dataKey:s);return bt(l)?null:e.scale(l)}var iO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ri(s,n.dataKey,n.domain[a]);return bt(l)?null:n.scale(l)-o/2+i},P1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},A1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Jn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},N1e=function(e){return e.reduce(function(n,r){return[k0(r.concat([n[0]]).filter(Ie)),I0(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},dU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,d){var f=N1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o_=function(e,n,r){if(_t(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(oO.test(e[0])){var o=+oO.exec(e[0])[1];i[0]=n[0]-o}else _t(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sO.test(e[1])){var s=+sO.exec(e[1])[1];i[1]=n[1]+s}else _t(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Iv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=sP(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],d=o[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},aO=function(e,n,r){return!e||!e.length||O0(e,Xi(r,"type.defaultProps.domain"))?n:e},fU=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return In(In({},Nt(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:kP(e),value:Ri(n,i),type:l,payload:n,chartType:u,hide:d})};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){j1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1e(t,e,n){return e=I1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I1e(t){var e=k1e(t,"string");return fp(e)=="symbol"?e:e+""}function k1e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kv=Math.PI/180,O1e=function(e){return e*180/Math.PI},Tr=function(e,n,r,i){return{x:e+Math.cos(-kv*i)*r,y:n+Math.sin(-kv*i)*r}},R1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},M1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=R1e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:O1e(u),angleInRadian:u}},D1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},$1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},uO=function(e,n){var r=e.x,i=e.y,o=M1e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=D1e(n),f=d.startAngle,h=d.endAngle,m=a,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?cO(cO({},n),{},{radius:s,angle:$1e(m,n)}):null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var L1e=["offset"];function F1e(t){return z1e(t)||U1e(t)||B1e(t)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1e(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function U1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z1e(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W1e(t,e){if(t==null)return{};var n=H1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e,n){return e=G1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G1e(t){var e=K1e(t,"string");return hp(e)=="symbol"?e:e+""}function K1e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}var Y1e=function(e){var n=e.value,r=e.formatter,i=bt(e.children)?n:e.children;return _t(r)?r(i):i},X1e=function(e,n){var r=Io(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Q1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,x=X1e(m,y),w=x>=0?1:-1,S,C;i==="insideStart"?(S=m+w*s,C=g):i==="insideEnd"?(S=y-w*s,C=!g):i==="end"&&(S=y+w*s,C=g),C=x<=0?C:!C;var E=Tr(u,d,v,S),A=Tr(u,d,v,S+(C?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),T=bt(e.id)?om("recharts-radial-line-"):e.id;return q.createElement("text",pp({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",a)}),q.createElement("defs",null,q.createElement("path",{id:T,d:_})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},J1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Tr(s,a,u+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Tr(s,a,v,h),w=x.x,S=x.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Z1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Gn(Gn({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return Gn(Gn({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var E={x:a-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Gn(Gn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var A={x:a+u+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return Gn(Gn({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return o==="insideLeft"?Gn({x:a+v,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?Gn({x:a+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?Gn({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},_):o==="insideBottom"?Gn({x:a+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?Gn({x:a+v,y:l+h,textAnchor:w,verticalAnchor:y},_):o==="insideTopRight"?Gn({x:a+u-v,y:l+h,textAnchor:x,verticalAnchor:y},_):o==="insideBottomLeft"?Gn({x:a+v,y:l+d-h,textAnchor:w,verticalAnchor:m},_):o==="insideBottomRight"?Gn({x:a+u-v,y:l+d-h,textAnchor:x,verticalAnchor:m},_):Hd(o)&&(Ie(o.x)||Ul(o.x))&&(Ie(o.y)||Ul(o.y))?Gn({x:a+vc(o.x,u),y:l+vc(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):Gn({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},eSe=function(e){return"cx"in e&&Ie(e.cx)};function zr(t){var e=t.offset,n=e===void 0?5:e,r=W1e(t,L1e),i=Gn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||bt(a)&&bt(l)&&!b.isValidElement(u)&&!_t(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var m;if(_t(u)){if(m=b.createElement(u,i),b.isValidElement(m))return m}else m=Y1e(i);var y=eSe(o),g=Nt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Q1e(i,m,g);var v=y?J1e(i):Z1e(i);return q.createElement(yv,pp({className:Pt("recharts-label",f)},g,v,{breakAll:h}),m)}zr.displayName="Label";var hU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ie(g)&&Ie(v)){if(Ie(f)&&Ie(h))return{x:f,y:h,width:g,height:v};if(Ie(m)&&Ie(y))return{x:m,y,width:g,height:v}}return Ie(f)&&Ie(h)?{x:f,y:h,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},tSe=function(e,n){return e?e===!0?q.createElement(zr,{key:"label-implicit",viewBox:n}):Jn(e)?q.createElement(zr,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===zr?b.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):_t(e)?q.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):Hd(e)?q.createElement(zr,pp({viewBox:n},e,{key:"label-implicit"})):null:null},nSe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=hU(e),s=Qi(i,zr).map(function(l,u){return b.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=tSe(e.label,n||o);return[a].concat(F1e(s))};zr.parseViewBox=hU;zr.renderCallByParent=nSe;function rSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var iSe=rSe;const oSe=Xt(iSe);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var sSe=["valueAccessor"],aSe=["data","dataKey","clockWise","id","textBreakAll"];function lSe(t){return fSe(t)||dSe(t)||uSe(t)||cSe()}function cSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uSe(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function dSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fSe(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return mp(e)=="symbol"?e:e+""}function mSe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pO(t,e){if(t==null)return{};var n=gSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ySe=function(e){return Array.isArray(e.value)?oSe(e.value):e.value};function tl(t){var e=t.valueAccessor,n=e===void 0?ySe:e,r=pO(t,sSe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=pO(r,aSe);return!i||!i.length?null:q.createElement(Mn,{className:"recharts-label-list"},i.map(function(d,f){var h=bt(o)?n(d,f):Ri(d&&d.payload,o),m=bt(a)?{}:{id:"".concat(a,"-").concat(f)};return q.createElement(zr,Ov({},Nt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:zr.parseViewBox(bt(s)?d:hO(hO({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}tl.displayName="LabelList";function vSe(t,e){return t?t===!0?q.createElement(tl,{key:"labelList-implicit",data:e}):q.isValidElement(t)||_t(t)?q.createElement(tl,{key:"labelList-implicit",data:e,content:t}):Hd(t)?q.createElement(tl,Ov({data:e},t,{key:"labelList-implicit"})):null:null}function xSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qi(r,tl).map(function(s,a){return b.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=vSe(t.label,e);return[o].concat(lSe(i))}tl.renderCallByParent=xSe;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return e=wSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wSe(t){var e=SSe(t,"string");return gp(e)=="symbol"?e:e+""}function SSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Se=function(e,n){var r=Io(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},mg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/kv,h=u?o:o+s*f,m=Tr(n,r,d,h),y=Tr(n,r,i,h),g=u?o-s*f:o,v=Tr(n,r,d*Math.cos(f*kv),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},pU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=_Se(s,a),u=s+l,d=Tr(n,r,o,s),f=Tr(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Tr(n,r,i,s),y=Tr(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},ESe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Io(d-u),h=mg({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=mg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,w=v.lineTangency,S=v.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):pU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=mg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=A.circleTangency,T=A.lineTangency,N=A.theta,k=mg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=k.circleTangency,R=k.lineTangency,O=k.theta,L=l?Math.abs(u-d):Math.abs(u-d)-N-O;if(L<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},TSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mU=function(e){var n=gO(gO({},TSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=Pt("recharts-sector",h),y=s-o,g=vc(a,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=ESe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=pU({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),q.createElement("path",l_({},Nt(n,!0),{className:m,d:v,role:"img"}))};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){CSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CSe(t,e,n){return e=PSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PSe(t){var e=ASe(t,"string");return yp(e)=="symbol"?e:e+""}function ASe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xO={curveBasisClosed:Ece,curveBasisOpen:Tce,curveBasis:_ce,curveBumpX:cce,curveBumpY:uce,curveLinearClosed:Cce,curveLinear:b0,curveMonotoneX:Pce,curveMonotoneY:Ace,curveNatural:Nce,curveStep:jce,curveStepAfter:kce,curveStepBefore:Ice},gg=function(e){return e.x===+e.x&&e.y===+e.y},Pf=function(e){return e.x},Af=function(e){return e.y},NSe=function(e,n){if(_t(e))return e;var r="curve".concat(v0(e));return(r==="curveMonotone"||r==="curveBump")&&n?xO["".concat(r).concat(n==="vertical"?"Y":"X")]:xO[r]||b0},jSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=NSe(r,a),f=u?o.filter(function(g){return gg(g)}):o,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return gg(g)}):s,y=f.map(function(g,v){return vO(vO({},g),{},{base:m[v]})});return a==="vertical"?h=sg().y(Af).x1(Pf).x0(function(g){return g.base.x}):h=sg().x(Pf).y1(Af).y0(function(g){return g.base.y}),h.defined(gg).curve(d),h(y)}return a==="vertical"&&Ie(s)?h=sg().y(Af).x1(Pf).x0(s):Ie(s)?h=sg().x(Pf).y1(Af).y0(s):h=y6().x(Pf).y(Af),h.defined(gg).curve(d),h(f)},u_=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?jSe(e):i;return b.createElement("path",c_({},Nt(e,!1),nv(e),{className:Pt("recharts-curve",n),d:s,ref:o}))},gU={exports:{}},ISe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kSe=ISe,OSe=kSe;function yU(){}function vU(){}vU.resetWarningCache=yU;var RSe=function(){function t(r,i,o,s,a,l){if(l!==OSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vU,resetWarningCache:yU};return n.PropTypes=n,n};gU.exports=RSe();var MSe=gU.exports;const Dt=Xt(MSe);var DSe=Object.getOwnPropertyNames,$Se=Object.getOwnPropertySymbols,LSe=Object.prototype.hasOwnProperty;function bO(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function yg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function wO(t){return DSe(t).concat($Se(t))}var FSe=Object.hasOwn||function(t,e){return LSe.call(t,e)};function kc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var VSe="__v",BSe="__o",USe="_owner",SO=Object.getOwnPropertyDescriptor,_O=Object.keys;function zSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function WSe(t,e){return kc(t.getTime(),e.getTime())}function HSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qSe(t,e){return t===e}function EO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var GSe=kc;function KSe(t,e,n){var r=_O(t),i=r.length;if(_O(e).length!==i)return!1;for(;i-- >0;)if(!xU(t,e,n,r[i]))return!1;return!0}function Nf(t,e,n){var r=wO(t),i=r.length;if(wO(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!xU(t,e,n,o)||(s=SO(t,o),a=SO(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function YSe(t,e){return kc(t.valueOf(),e.valueOf())}function XSe(t,e){return t.source===e.source&&t.flags===e.flags}function TO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function QSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function JSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xU(t,e,n,r){return(r===USe||r===BSe||r===VSe)&&(t.$$typeof||e.$$typeof)?!0:FSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var ZSe="[object Arguments]",e_e="[object Boolean]",t_e="[object Date]",n_e="[object Error]",r_e="[object Map]",i_e="[object Number]",o_e="[object Object]",s_e="[object RegExp]",a_e="[object Set]",l_e="[object String]",c_e="[object URL]",u_e=Array.isArray,CO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PO=Object.assign,d_e=Object.prototype.toString.call.bind(Object.prototype.toString);function f_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(y,g,v):x==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(y,g,v);if(u_e(y))return e(y,g,v);if(CO!=null&&CO(y))return f(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return o(y,g,v);if(w===Set)return d(y,g,v);var S=d_e(y);return S===t_e?n(y,g,v):S===s_e?u(y,g,v):S===r_e?o(y,g,v):S===a_e?d(y,g,v):S===o_e?typeof y.then!="function"&&typeof g.then!="function"&&a(y,g,v):S===c_e?h(y,g,v):S===n_e?r(y,g,v):S===ZSe?a(y,g,v):S===e_e||S===i_e||S===l_e?l(y,g,v):!1}}function h_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Nf:zSe,areDatesEqual:WSe,areErrorsEqual:HSe,areFunctionsEqual:qSe,areMapsEqual:r?bO(EO,Nf):EO,areNumbersEqual:GSe,areObjectsEqual:r?Nf:KSe,arePrimitiveWrappersEqual:YSe,areRegExpsEqual:XSe,areSetsEqual:r?bO(TO,Nf):TO,areTypedArraysEqual:r?Nf:QSe,areUrlsEqual:JSe};if(n&&(i=PO({},i,n(i))),e){var o=yg(i.areArraysEqual),s=yg(i.areMapsEqual),a=yg(i.areObjectsEqual),l=yg(i.areSetsEqual);i=PO({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function p_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function m_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var g_e=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:function(){return kc}});Sl({strict:!0,createInternalComparator:function(){return kc}});Sl({circular:!0,createInternalComparator:function(){return kc}});Sl({circular:!0,createInternalComparator:function(){return kc},strict:!0});function Sl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=h_e(t),l=f_e(a),u=r?r(l):p_e(l);return m_e({circular:n,comparator:l,createState:i,equals:u,strict:s})}function y_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function AO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):y_e(i)};requestAnimationFrame(r)}function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}function v_e(t){return S_e(t)||w_e(t)||b_e(t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_e(t,e){if(t){if(typeof t=="string")return NO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NO(t,e)}}function NO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S_e(t){if(Array.isArray(t))return t}function __e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=v_e(s),l=a[0],u=a.slice(1);if(typeof l=="number"){AO(i.bind(null,u),l);return}i(l),AO(i.bind(null,u));return}d_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){bU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bU(t,e,n){return e=E_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E_e(t){var e=T_e(t,"string");return vp(e)==="symbol"?e:String(e)}function T_e(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},P_e=function(e){return e},A_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(e,n){return Object.keys(n).reduce(function(r,i){return IO(IO({},r),{},bU({},i,e(i,n[i])))},{})},kO=function(e,n,r){return e.map(function(i){return"".concat(A_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function N_e(t,e){return k_e(t)||I_e(t,e)||wU(t,e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function k_e(t){if(Array.isArray(t))return t}function O_e(t){return D_e(t)||M_e(t)||wU(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wU(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function M_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D_e(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rv=1e-4,SU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},_U=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},OO=function(e,n){return function(r){var i=SU(e,n);return _U(i,r)}},$_e=function(e,n){return function(r){var i=SU(e,n),o=[].concat(O_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return _U(o,r)}},RO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=N_e(u,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=OO(i,s),h=OO(o,a),m=$_e(i,s),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,S=w,C=0;C<8;++C){var E=f(S)-w,A=m(S);if(Math.abs(E-w)<Rv||A<Rv)return h(S);S=y(S-E/A)}return h(S)};return g.isStepper=!1,g},L_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*a/1e3,v=h*a/1e3+d;return Math.abs(v-f)<Rv&&Math.abs(g)<Rv?[f,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},F_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RO(i);case"spring":return L_e();default:if(i.split("(")[0]==="cubic-bezier")return RO(i)}return typeof i=="function"?i:null};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function MO(t){return U_e(t)||B_e(t)||EU(t)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U_e(t){if(Array.isArray(t))return p_(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_(t,e,n){return e=z_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z_e(t){var e=W_e(t,"string");return xp(e)==="symbol"?e:String(e)}function W_e(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_e(t,e){return K_e(t)||G_e(t,e)||EU(t,e)||q_e()}function q_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function K_e(t){if(Array.isArray(t))return t}var Mv=function(e,n,r){return e+(n-e)*r},m_=function(e){var n=e.from,r=e.to;return n!==r},Y_e=function t(e,n,r){var i=dh(function(o,s){if(m_(s)){var a=e(s.from,s.to,s.velocity),l=H_e(a,2),u=l[0],d=l[1];return br(br({},s),{},{from:u,velocity:d})}return s},n);return r<1?dh(function(o,s){return m_(s)?br(br({},s),{},{velocity:Mv(s.velocity,i[o].velocity,r),from:Mv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const X_e=function(t,e,n,r,i){var o=C_e(t,e),s=o.reduce(function(v,x){return br(br({},v),{},h_({},x,[t[x],e[x]]))},{}),a=o.reduce(function(v,x){return br(br({},v),{},h_({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return dh(function(x,w){return w.from},a)},m=function(){return!Object.values(a).filter(m_).length},y=function(x){u||(u=x);var w=x-u,S=w/n.dt;a=Y_e(n,a,S),i(br(br(br({},t),e),h())),u=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/r,S=dh(function(E,A){return Mv.apply(void 0,MO(A).concat([n(w)]))},s);if(i(br(br(br({},t),e),S)),w<1)l=requestAnimationFrame(f);else{var C=dh(function(E,A){return Mv.apply(void 0,MO(A).concat([n(1)]))},s);i(br(br(br({},t),e),C))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var Q_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function J_e(t,e){if(t==null)return{};var n=Z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pw(t){return rEe(t)||nEe(t)||tEe(t)||eEe()}function eEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tEe(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function nEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rEe(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){Bf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bf(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function sEe(t,e,n){return e&&oEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TU(t){var e=aEe(t,"string");return hd(e)==="symbol"?e:String(e)}function aEe(t,e){if(hd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function cEe(t){var e=uEe();return function(){var r=Dv(t),i;if(e){var o=Dv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return v_(this,i)}}function v_(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_(t)}function x_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}var la=function(t){lEe(n,t);var e=cEe(n);function n(r,i){var o;iEe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(x_(o)),o.changeStyle=o.changeStyle.bind(x_(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),v_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},v_(o);o.state={style:l?Bf({},l,u):u}}else o.state={style:{}};return o}return sEe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Bf({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(g_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:l?Bf({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(ho(ho({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=X_e(s,a,F_e(u),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var w=v.duration,S=v.easing,C=S===void 0?"ease":S,E=v.style,A=v.properties,_=v.onAnimationEnd,T=x>0?s[x-1]:v,N=A||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(Pw(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:C}),w]);var k=kO(N,w,C),j=ho(ho(ho({},T.style),E),{},{transition:k});return[].concat(Pw(g),[j,w,_]).filter(P_e)};return this.manager.start([l].concat(Pw(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=__e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Bf({},a,l):l,v=kO(Object.keys(g),s,u);y.start([d,o,ho(ho({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=J_e(i,Q_e),u=b.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||u===0||s<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,x=y.className,w=b.cloneElement(m,ho(ho({},l),{},{style:ho(ho({},v),d),className:x}));return w};return u===1?f(b.Children.only(o)):q.createElement("div",null,b.Children.map(o,function(h){return f(h)}))}}]),n}(b.PureComponent);la.displayName="Animate";la.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};la.propTypes={from:Dt.oneOfType([Dt.object,Dt.string]),to:Dt.oneOfType([Dt.object,Dt.string]),attributeName:Dt.string,duration:Dt.number,begin:Dt.number,easing:Dt.oneOfType([Dt.string,Dt.func]),steps:Dt.arrayOf(Dt.shape({duration:Dt.number.isRequired,style:Dt.object.isRequired,easing:Dt.oneOfType([Dt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dt.func]),properties:Dt.arrayOf("string"),onAnimationEnd:Dt.func})),children:Dt.oneOfType([Dt.node,Dt.func]),isActive:Dt.bool,canBegin:Dt.bool,onAnimationEnd:Dt.func,shouldReAnimate:Dt.bool,onAnimationStart:Dt.func,onAnimationReStart:Dt.func};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function dEe(t,e){return mEe(t)||pEe(t,e)||hEe(t,e)||fEe()}function fEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hEe(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function mEe(t){if(Array.isArray(t))return t}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){gEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gEe(t,e,n){return e=yEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yEe(t){var e=vEe(t,"string");return bp(e)=="symbol"?e:e+""}function vEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BO=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},xEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},bEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OP=function(e){var n=VO(VO({},bEe),e),r=b.useRef(),i=b.useState(-1),o=dEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=Pt("recharts-rectangle",m);return w?q.createElement(la,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:y,isActive:w},function(C){var E=C.width,A=C.height,_=C.x,T=C.y;return q.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},q.createElement("path",$v({},Nt(n,!0),{className:S,d:BO(_,T,E,A,h),ref:r})))}):q.createElement("path",$v({},Nt(n,!0),{className:S,d:BO(l,u,d,f,h)}))};function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}var RP=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Pt("recharts-dot",o);return n===+n&&r===+r&&i===+i?b.createElement("circle",b_({},Nt(e,!1),nv(e),{className:s,cx:n,cy:r,r:i})):null};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}var wEe=["x","y","top","left","width","height","className"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){_Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ee(t,e,n){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EEe(t){var e=TEe(t,"string");return wp(e)=="symbol"?e:e+""}function TEe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CEe(t,e){if(t==null)return{};var n=PEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AEe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},NEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=CEe(e,wEe),v=SEe({x:r,y:o,top:a,left:u,width:f,height:m},g);return!Ie(r)||!Ie(o)||!Ie(f)||!Ie(m)||!Ie(a)||!Ie(u)?null:q.createElement("path",w_({},Nt(v,!0),{className:Pt("recharts-cross",y),d:AEe(r,o,f,m,a,u)}))},jEe=B6,IEe=jEe(Object.getPrototypeOf,Object),kEe=IEe,OEe=fa,REe=kEe,MEe=ha,DEe="[object Object]",$Ee=Function.prototype,LEe=Object.prototype,CU=$Ee.toString,FEe=LEe.hasOwnProperty,VEe=CU.call(Object);function BEe(t){if(!MEe(t)||OEe(t)!=DEe)return!1;var e=REe(t);if(e===null)return!0;var n=FEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CU.call(n)==VEe}var UEe=BEe;const zEe=Xt(UEe);var WEe=fa,HEe=ha,qEe="[object Boolean]";function GEe(t){return t===!0||t===!1||HEe(t)&&WEe(t)==qEe}var KEe=GEe;const YEe=Xt(KEe);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function XEe(t,e){return eTe(t)||ZEe(t,e)||JEe(t,e)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(t,e){if(t){if(typeof t=="string")return zO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function eTe(t){if(Array.isArray(t))return t}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){tTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tTe(t,e,n){return e=nTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nTe(t){var e=rTe(t,"string");return Sp(e)=="symbol"?e:e+""}function rTe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qO=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},iTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oTe=function(e){var n=HO(HO({},iTe),e),r=b.useRef(),i=b.useState(-1),o=XEe(i,2),s=o[0],a=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Pt("recharts-trapezoid",m);return x?q.createElement(la,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:y,isActive:x},function(S){var C=S.upperWidth,E=S.lowerWidth,A=S.height,_=S.x,T=S.y;return q.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},q.createElement("path",Lv({},Nt(n,!0),{className:w,d:qO(_,T,C,E,A),ref:r})))}):q.createElement("g",null,q.createElement("path",Lv({},Nt(n,!0),{className:w,d:qO(l,u,d,f,h)})))},sTe=["option","shapeType","propTransformer","activeClassName","isActive"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function aTe(t,e){if(t==null)return{};var n=lTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){cTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cTe(t,e,n){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uTe(t){var e=dTe(t,"string");return _p(e)=="symbol"?e:e+""}function dTe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fTe(t,e){return Fv(Fv({},e),t)}function hTe(t,e){return t==="symbols"}function KO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(OP,n);case"trapezoid":return q.createElement(oTe,n);case"sector":return q.createElement(mU,n);case"symbols":if(hTe(e))return q.createElement(QC,n);break;default:return null}}function pTe(t){return b.isValidElement(t)?t.props:t}function mTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?fTe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=aTe(t,sTe),u;if(b.isValidElement(e))u=b.cloneElement(e,Fv(Fv({},l),pTe(e)));else if(_t(e))u=e(l);else if(zEe(e)&&!YEe(e)){var d=i(e,l);u=q.createElement(KO,{shapeType:n,elementProps:d})}else{var f=l;u=q.createElement(KO,{shapeType:n,elementProps:f})}return a?q.createElement(Mn,{className:s},u):u}function D0(t,e){return e!=null&&"trapezoids"in t.props}function $0(t,e){return e!=null&&"sectors"in t.props}function Ep(t,e){return e!=null&&"points"in t.props}function gTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function yTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xTe(t,e){var n;return D0(t,e)?n=gTe:$0(t,e)?n=yTe:Ep(t,e)&&(n=vTe),n}function bTe(t,e){var n;return D0(t,e)?n="trapezoids":$0(t,e)?n="sectors":Ep(t,e)&&(n="points"),n}function wTe(t,e){if(D0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ep(t,e)?e.payload:{}}function STe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bTe(n,e),o=wTe(n,e),s=r.filter(function(l,u){var d=O0(o,l),f=n.props[i].filter(function(y){var g=xTe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var _Te=Math.ceil,ETe=Math.max;function TTe(t,e,n,r){for(var i=-1,o=ETe(_Te((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var CTe=TTe,PTe=oB,YO=1/0,ATe=17976931348623157e292;function NTe(t){if(!t)return t===0?t:0;if(t=PTe(t),t===YO||t===-YO){var e=t<0?-1:1;return e*ATe}return t===t?t:0}var jTe=NTe,ITe=CTe,kTe=E0,Aw=jTe;function OTe(t){return function(e,n,r){return r&&typeof r!="number"&&kTe(e,n,r)&&(n=r=void 0),e=Aw(e),n===void 0?(n=e,e=0):n=Aw(n),r=r===void 0?e<n?1:-1:Aw(r),ITe(e,n,r,t)}}var RTe=OTe,MTe=RTe,DTe=MTe(),$Te=DTe;const Vv=Xt($Te);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){PU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PU(t,e,n){return e=LTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LTe(t){var e=FTe(t,"string");return Tp(e)=="symbol"?e:e+""}function FTe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VTe=["Webkit","Moz","O","ms"],BTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=VTe.reduce(function(o,s){return QO(QO({},o),{},PU({},s+r,n))},{});return i[e]=n,i};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NU(r.key),r)}}function zTe(t,e,n){return e&&ZO(t.prototype,e),n&&ZO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WTe(t,e,n){return e=Uv(e),HTe(t,AU()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function HTe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(t)}function qTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function GTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function _i(t,e,n){return e=NU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NU(t){var e=KTe(t,"string");return pd(e)=="symbol"?e:e+""}function KTe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ch().domain(Vv(0,l)).range([o,o+s-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},eR=function(e){return e.changedTouches&&!!e.changedTouches.length},md=function(t){function e(n){var r;return UTe(this,e),r=WTe(this,e,[n]),_i(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_i(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_i(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),_i(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_i(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_i(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_i(r,"handleSlideDragStart",function(i){var o=eR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return GTe(e,t),zTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ri(o[r],a,r);return _t(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-f-a,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-a));var v=this.getIndex({startX:s+g,endX:a+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=eR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),x[s]=u+w;var S=this.getIndex(x),C=S.startIndex,E=S.endIndex,A=function(){var T=v.length-1;return s==="startX"&&(a>l?C%g===0:E%g===0)||a<l&&E===T||s==="endX"&&(a>l?E%g===0:C%g===0)||a>l&&E===T};this.setState(_i(_i({},s,u+w),"brushMoveStartX",r.pageX),function(){y&&A()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(_i({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?q.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),w=Nw(Nw({},Nt(this.props,!1)),{},{x,y:u,width:d,height:f}),S=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return q.createElement(Mn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return q.createElement(Mn,{className:"recharts-brush-texts"},q.createElement(yv,Bv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},y),this.getTextOfTick(i)),q.createElement(yv,Bv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ie(a)||!Ie(l)||!Ie(u)||!Ie(d)||u<=0||d<=0)return null;var S=Pt("recharts-brush",o),C=q.Children.count(s)===1,E=BTe("userSelect","none");return q.createElement(Mn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):_t(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Nw({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?YTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(b.PureComponent);_i(md,"displayName","Brush");_i(md,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XTe=oP;function QTe(t,e){var n;return XTe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var JTe=QTe,ZTe=O6,eCe=Jd,tCe=JTe,nCe=fi,rCe=E0;function iCe(t,e,n){var r=nCe(t)?ZTe:tCe;return n&&rCe(t,e,n)&&(e=void 0),r(t,eCe(e))}var oCe=iCe;const sCe=Xt(oCe);var ms=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},tR=eB;function aCe(t,e,n){e=="__proto__"&&tR?tR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var lCe=aCe,cCe=lCe,uCe=J6,dCe=Jd;function fCe(t,e){var n={};return e=dCe(e),uCe(t,function(r,i,o){cCe(n,i,e(r,i,o))}),n}var hCe=fCe;const pCe=Xt(hCe);function mCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var gCe=mCe,yCe=oP;function vCe(t,e){var n=!0;return yCe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var xCe=vCe,bCe=gCe,wCe=xCe,SCe=Jd,_Ce=fi,ECe=E0;function TCe(t,e,n){var r=_Ce(t)?bCe:wCe;return n&&ECe(t,e,n)&&(e=void 0),r(t,SCe(e))}var CCe=TCe;const PCe=Xt(CCe);var ACe=["x","y"];function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){NCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e,n){return e=jCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jCe(t){var e=ICe(t,"string");return Cp(e)=="symbol"?e:e+""}function ICe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kCe(t,e){if(t==null)return{};var n=OCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RCe(t,e){var n=t.x,r=t.y,i=kCe(t,ACe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return jf(jf(jf(jf(jf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function rR(t){return q.createElement(mTe,__({shapeType:"rectangle",propTransformer:RCe,activeClassName:"recharts-active-bar"},t))}var MCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ie(r)||Kae(r);return o?e(r,i):(o||bc(),n)}},DCe=["value","background"],jU;function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function $Ce(t,e){if(t==null)return{};var n=LCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kU(r.key),r)}}function VCe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,n){return e=Wv(e),UCe(t,IU()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function UCe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(t)}function zCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function WCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function Va(t,e,n){return e=kU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){var e=HCe(t,"string");return gd(e)=="symbol"?e:e+""}function HCe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=function(t){function e(){var n;FCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=BCe(this,e,[].concat(i)),Va(n,"state",{isAnimationFinished:!1}),Va(n,"id",om("recharts-bar-")),Va(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Va(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return WCe(e,t),VCe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Nt(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?u:s,g=Fn(Fn(Fn({},d),f),{},{isActive:m,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Mn,zv({className:"recharts-bar-rectangle"},rv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(rR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(la,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,x){var w=h&&h[x];if(w){var S=To(w.x,v.x),C=To(w.y,v.y),E=To(w.width,v.width),A=To(w.height,v.height);return Fn(Fn({},v),{},{x:S(y),y:C(y),width:E(y),height:A(y)})}if(s==="horizontal"){var _=To(0,v.height),T=_(y);return Fn(Fn({},v),{},{y:v.y+v.height-T,height:T})}var N=To(0,v.width),k=N(y);return Fn(Fn({},v),{},{width:k})});return q.createElement(Mn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!O0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Nt(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=$Ce(u,DCe);if(!f)return null;var m=Fn(Fn(Fn(Fn(Fn({},h),{},{fill:"#eee"},f),l),rv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(rR,zv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Qi(d,um);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Ri(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Mn,y,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=Pt("recharts-bar",s),w=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,C=w||S,E=bt(g)?this.id:g;return q.createElement(Mn,{className:x},w||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,q.createElement(Mn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,E),(!m||v)&&tl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);jU=dm;Va(dm,"displayName","Bar");Va(dm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(dm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=x1e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?Fn(Fn({},g),n.props):n.props,x=v.dataKey,w=v.children,S=v.minPointSize,C=y==="horizontal"?s:o,E=u?C.scale.domain():null,A=P1e({numericAxis:C}),_=Qi(w,aB),T=f.map(function(N,k){var j,R,O,L,B,V;u?j=b1e(u[d+k],E):(j=Ri(N,x),Array.isArray(j)||(j=[A,j]));var U=MCe(S,jU.defaultProps.minPointSize)(j[1],k);if(y==="horizontal"){var F,W=[s.scale(j[0]),s.scale(j[1])],ne=W[0],X=W[1];R=iO({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),O=(F=X??ne)!==null&&F!==void 0?F:void 0,L=m.size;var ie=ne-X;if(B=Number.isNaN(ie)?0:ie,V={x:R,y:s.y,width:L,height:s.height},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var ce=Io(B||U)*(Math.abs(U)-Math.abs(B));O-=ce,B+=ce}}else{var be=[o.scale(j[0]),o.scale(j[1])],ke=be[0],ot=be[1];if(R=ke,O=iO({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),L=ot-ke,B=m.size,V={x:o.x,y:O,width:o.width,height:B},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var xe=Io(L||U)*(Math.abs(U)-Math.abs(L));L+=xe}}return Fn(Fn(Fn({},N),{},{x:R,y:O,width:L,height:B,value:u?j:j[1],payload:N,background:V},_&&_[k]&&_[k].props),{},{tooltipPayload:[fU(n,N)],tooltipPosition:{x:R+L/2,y:O+B/2}})});return Fn({data:T,layout:y},h)});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function qCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OU(r.key),r)}}function GCe(t,e,n){return e&&sR(t.prototype,e),n&&sR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){L0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L0(t,e,n){return e=OU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OU(t){var e=KCe(t,"string");return Pp(e)=="symbol"?e:e+""}function KCe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YCe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ci(u,dm);return d.reduce(function(m,y){var g=n[y],v=g.orientation,x=g.domain,w=g.padding,S=w===void 0?{}:w,C=g.mirror,E=g.reversed,A="".concat(v).concat(C?"Mirror":""),_,T,N,k,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=x[1]-x[0],O=1/0,L=g.categoricalDomain.sort(Qae);if(L.forEach(function(be,ke){ke>0&&(O=Math.min((be||0)-(L[ke-1]||0),O))}),Number.isFinite(O)){var B=O/R,V=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=B*V/2),g.padding==="no-gap"){var U=vc(e.barCategoryGap,B*V),F=B*V/2;_=F-U-(F-U)/V*U}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var W=y1e(g,o,h),ne=W.scale,X=W.realScaleType;ne.domain(x).range(T),v1e(ne);var ie=C1e(ne,xo(xo({},g),{},{realScaleType:X}));i==="xAxis"?(j=v==="top"&&!C||v==="bottom"&&C,N=r.left,k=f[A]-j*g.height):i==="yAxis"&&(j=v==="left"&&!C||v==="right"&&C,N=f[A]-j*g.width,k=r.top);var ce=xo(xo(xo({},g),ie),{},{realScaleType:X,x:N,y:k,scale:ne,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ce.bandSize=Iv(ce,ie),!g.hide&&i==="xAxis"?f[A]+=(j?-1:1)*ce.height:g.hide||(f[A]+=(j?-1:1)*ce.width),xo(xo({},m),{},L0({},y,ce))},{})},RU=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},XCe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return RU({x:n,y:r},{x:i,y:o})},MU=function(){function t(e){qCe(this,t),this.scale=e}return GCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();L0(MU,"EPS",1e-4);var MP=function(e){var n=Object.keys(e).reduce(function(r,i){return xo(xo({},r),{},L0({},i,MU.create(e[i])))},{});return xo(xo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return pCe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return PCe(i,function(o,s){return n[s].isInRange(o)})}})};function QCe(t){return(t%180+180)%180}var JCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=QCe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},ZCe=Jse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DU=b.createContext(void 0),$U=b.createContext(void 0),LU=b.createContext(void 0),ePe=b.createContext({}),FU=b.createContext(void 0),VU=b.createContext(0),BU=b.createContext(0),lR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,d=ZCe(o);return q.createElement(DU.Provider,{value:r},q.createElement($U.Provider,{value:i},q.createElement(ePe.Provider,{value:o},q.createElement(LU.Provider,{value:d},q.createElement(FU.Provider,{value:s},q.createElement(VU.Provider,{value:u},q.createElement(BU.Provider,{value:l},a)))))))},tPe=function(){return b.useContext(FU)},UU=function(e){var n=b.useContext(DU);n==null&&bc();var r=n[e];return r==null&&bc(),r},zU=function(e){var n=b.useContext($U);n==null&&bc();var r=n[e];return r==null&&bc(),r},nPe=function(){var e=b.useContext(LU);return e},WU=function(){return b.useContext(BU)},HU=function(){return b.useContext(VU)};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function rPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function oPe(t,e,n){return e&&iPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sPe(t,e,n){return e=Hv(e),aPe(t,qU()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function aPe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lPe(t)}function lPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function cPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){DP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DP(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=uPe(t,"string");return yd(e)=="symbol"?e:e+""}function uPe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dPe(t,e){return mPe(t)||pPe(t,e)||hPe(t,e)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(t,e){if(t){if(typeof t=="string")return dR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(t,e)}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function mPe(t){if(Array.isArray(t))return t}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}var gPe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):_t(e)?r=e(n):r=q.createElement("line",C_({},n,{className:"recharts-reference-line-line"})),r},yPe=function(e,n,r,i,o,s,a,l,u){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=u.y,g=e.y.apply(y,{position:s});if(ms(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var x=u.x,w=e.x.apply(x,{position:s});if(ms(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var C=u.segment,E=C.map(function(A){return e.apply(A,{position:s})});return ms(u,"discard")&&sCe(E,function(A){return!e.isInRange(A)})?null:E}return null};function vPe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=tPe(),d=UU(i),f=zU(o),h=nPe();if(!u||!h)return null;ec(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=MP({x:d.scale,y:f.scale}),y=Jn(e),g=Jn(n),v=r&&r.length===2,x=yPe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=dPe(x,2),S=w[0],C=S.x,E=S.y,A=w[1],_=A.x,T=A.y,N=ms(t,"hidden")?"url(#".concat(u,")"):void 0,k=uR(uR({clipPath:N},Nt(t,!0)),{},{x1:C,y1:E,x2:_,y2:T});return q.createElement(Mn,{className:Pt("recharts-reference-line",a)},gPe(s,k),zr.renderCallByParent(t,XCe({x1:C,y1:E,x2:_,y2:T})))}var $P=function(t){function e(){return rPe(this,e),sPe(this,e,arguments)}return cPe(e,t),oPe(e,[{key:"render",value:function(){return q.createElement(vPe,this.props)}}])}(q.Component);DP($P,"displayName","ReferenceLine");DP($P,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YU(r.key),r)}}function wPe(t,e,n){return e&&bPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SPe(t,e,n){return e=qv(e),_Pe(t,KU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function _Pe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EPe(t)}function EPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function TPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function F0(t,e,n){return e=YU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=CPe(t,"string");return vd(e)=="symbol"?e:e+""}function CPe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PPe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=MP({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ms(e,"discard")&&!s.isInRange(a)?null:a},V0=function(t){function e(){return xPe(this,e),SPe(this,e,arguments)}return TPe(e,t),wPe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Jn(i),d=Jn(o);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=PPe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,x=ms(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=hR(hR({clipPath:x},Nt(this.props,!0)),{},{cx:h,cy:m});return q.createElement(Mn,{className:Pt("recharts-reference-dot",v)},e.renderDot(g,w),zr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(q.Component);F0(V0,"displayName","ReferenceDot");F0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});F0(V0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):_t(t)?n=t(e):n=q.createElement(RP,P_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function APe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function jPe(t,e,n){return e&&NPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IPe(t,e,n){return e=Gv(e),kPe(t,XU()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function kPe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OPe(t)}function OPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function RPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function B0(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=MPe(t,"string");return xd(e)=="symbol"?e:e+""}function MPe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DPe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=MP({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ms(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:RU(m,y)},U0=function(t){function e(){return APe(this,e),IPe(this,e,arguments)}return RPe(e,t),jPe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;ec(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Jn(i),h=Jn(o),m=Jn(s),y=Jn(a),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=DPe(f,h,m,y,this.props);if(!v&&!g)return null;var x=ms(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Mn,{className:Pt("recharts-reference-area",l)},e.renderRect(g,mR(mR({clipPath:x},Nt(this.props,!0)),v)),zr.renderCallByParent(this.props,v))}}])}(q.Component);B0(U0,"displayName","ReferenceArea");B0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});B0(U0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):_t(t)?n=t(e):n=q.createElement(OP,N_({},e,{className:"recharts-reference-area-rect"})),n});function JU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function $Pe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JCe(r,n)}function LPe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Kv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function FPe(t,e){return JU(t,e+1)}function VPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,d=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:JU(r,u)};var g=l,v,x=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,S=l===0||Kv(t,w,x,d,a);S||(l=0,d=s,u+=1),S&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){BPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BPe(t,e,n){return e=UPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UPe(t){var e=zPe(t,"string");return Ap(e)=="symbol"?e:e+""}function zPe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Fr(Fr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Fr(Fr({},m),{},{tickCoord:m.coordinate});var x=Kv(t,m.tickCoord,g,a,l);x&&(l=m.tickCoord-t*(g()/2+i),o[h]=Fr(Fr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return o}function HPe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);s[a-1]=d=Fr(Fr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Kv(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),s[a-1]=Fr(Fr({},d),{},{isShow:!0}))}for(var y=o?a-1:a,g=function(w){var S=s[w],C,E=function(){return C===void 0&&(C=n(S,w)),C};if(w===0){var A=t*(S.coordinate-t*E()/2-l);s[w]=S=Fr(Fr({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else s[w]=S=Fr(Fr({},S),{},{tickCoord:S.coordinate});var _=Kv(t,S.tickCoord,E,l,u);_&&(l=S.tickCoord+t*(E()/2+i),s[w]=Fr(Fr({},S),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function qPe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ie(l)||Gs.isSsr)return FPe(i,typeof l=="number"&&Ie(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",y=d&&m==="width"?lh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,C){var E=_t(u)?u(S.value,C):S.value;return m==="width"?$Pe(lh(E,{fontSize:e,letterSpacing:n}),y,f):lh(E,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Io(i[1].coordinate-i[0].coordinate):1,x=LPe(o,v,m);return l==="equidistantPreserveStart"?VPe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=HPe(v,x,g,i,s,l==="preserveStartEnd"):h=WPe(v,x,g,i,s),h.filter(function(w){return w.isShow}))}var GPe=["viewBox"],KPe=["viewBox"],YPe=["ticks"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){LP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jw(t,e){if(t==null)return{};var n=XPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function JPe(t,e,n){return e&&vR(t.prototype,e),n&&vR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZPe(t,e,n){return e=Yv(e),eAe(t,ZU()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function eAe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(t)}function tAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function nAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function LP(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=rAe(t,"string");return bd(e)=="symbol"?e:e+""}function rAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0=function(t){function e(n){var r;return QPe(this,e),r=ZPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return nAe(e,t),JPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=jw(r,GPe),a=this.props,l=a.viewBox,u=jw(a,KPe);return!Tu(o,l)||!Tu(s,u)||!Tu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,x,w,S=f?-1:1,C=r.tickSize||d,E=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=s+ +!f*l,g=v-S*C,w=g-S*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*a,m=y-S*C,x=m-S*h,w=E;break;case"right":g=v=r.coordinate,y=o+ +f*a,m=y+S*C,x=m+S*h,w=E;break;default:m=y=r.coordinate,v=s+ +f*l,g=v+S*C,w=g+S*h,x=E;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=qn(qn(qn({},Nt(this.props,!1)),Nt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=qn(qn({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=qn(qn({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return q.createElement("line",lu({},f,{className:Pt("recharts-cartesian-axis-line",Xi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=qPe(qn(qn({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Nt(this.props,!1),x=Nt(d,!1),w=qn(qn({},v),{},{fill:"none"},Nt(l,!1)),S=m.map(function(C,E){var A=s.getTickLineCoord(C),_=A.line,T=A.tick,N=qn(qn(qn(qn({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return q.createElement(Mn,lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},rv(s.props,C,E)),l&&q.createElement("line",lu({},w,_,{className:Pt("recharts-cartesian-axis-tick-line",Xi(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(_t(f)?f(C.value,E):C.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=jw(f,YPe),y=h;return _t(l)&&(y=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!y||!y.length?null:q.createElement(Mn,{className:Pt("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Pt(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?s=q.cloneElement(r,qn(qn({},i),{},{className:a})):_t(r)?s=r(qn(qn({},i),{},{className:a})):s=q.createElement(yv,lu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(b.Component);LP(z0,"displayName","CartesianAxis");LP(z0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iAe=["type","layout","connectNulls","ref"],oAe=["key"];function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function xR(t,e){if(t==null)return{};var n=sAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bc(t){return uAe(t)||cAe(t)||lAe(t)||aAe()}function aAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lAe(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function cAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uAe(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function fAe(t,e,n){return e&&wR(t.prototype,e),n&&wR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hAe(t,e,n){return e=Xv(e),pAe(t,t9()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function pAe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(t)}function mAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function gAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function bo(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=yAe(t,"string");return wd(e)=="symbol"?e:e+""}function yAe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm=function(t){function e(){var n;dAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hAe(this,e,[].concat(i)),bo(n,"state",{isAnimationFinished:!0,totalLength:0}),bo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),bo(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/u),f=s%u,h=a-s,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){m=[].concat(Bc(l.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Bc(e.repeat(l,d)),Bc(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),bo(n,"id",om("recharts-line-")),bo(n,"pathRef",function(s){n.mainCurve=s}),bo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),bo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return gAe(e,t),fAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Qi(d,um);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Ri(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Mn,m,f.map(function(y){return q.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,f=Nt(this.props,!1),h=Nt(l,!0),m=u.map(function(g,v){var x=Si(Si(Si({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Mn,fh({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=xR(a,iAe),h=Si(Si(Si({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:d});return q.createElement(u_,fh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,x=this.state,w=x.prevPoints,S=x.totalLength;return q.createElement(la,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var E=C.t;if(w){var A=w.length/a.length,_=a.map(function(R,O){var L=Math.floor(O*A);if(w[L]){var B=w[L],V=To(B.x,R.x),U=To(B.y,R.y);return Si(Si({},R),{},{x:V(E),y:U(E)})}if(y){var F=To(g*2,R.x),W=To(v/2,R.y);return Si(Si({},R),{},{x:F(E),y:W(E)})}return Si(Si({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var T=To(0,S),N=T(E),k;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});k=o.getStrokeDasharray(N,S,j)}else k=o.generateSimpleStrokeDasharray(S,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!u&&d>0||!O0(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=a.length===1,S=Pt("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,A=C||E,_=bt(v)?this.id:v,T=(r=Nt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,k=N===void 0?3:N,j=T.strokeWidth,R=j===void 0?2:j,O=sle(s)?s:{},L=O.clipDot,B=L===void 0?!0:L,V=k*2+R;return q.createElement(Mn,{className:S},C||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:C?h:h-m/2,y:E?f:f-y/2,width:C?m:m*2,height:E?y:y*2})),!B&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:h-V/2,y:f-V/2,width:m+V,height:y+V}))):null,!w&&this.renderCurve(A,_),this.renderErrorBar(A,_),(w||s)&&this.renderDots(A,B,_),(!g||x)&&tl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Bc(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Bc(s),Bc(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(q.isValidElement(r))o=q.cloneElement(r,i);else if(_t(r))o=r(i);else{var s=i.key,a=xR(i,oAe),l=Pt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=q.createElement(RP,fh({key:s},a,{className:l}))}return o}}])}(b.PureComponent);bo(fm,"displayName","Line");bo(fm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bo(fm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var y=Ri(h,s);return d==="horizontal"?{x:rO({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:bt(y)?null:r.scale(y),value:y,payload:h}:{x:bt(y)?null:n.scale(y),y:rO({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:y,payload:h}});return Si({points:f,layout:d},u)});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,n){return e=Qv(e),SAe(t,r9()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function EAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function i9(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=TAe(t,"string");return Sd(e)=="symbol"?e:e+""}function TAe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function CAe(t){var e=t.xAxisId,n=WU(),r=HU(),i=UU(e);return i==null?null:b.createElement(z0,M_({},i,{className:Pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Hl(s,!0)}}))}var W0=function(t){function e(){return vAe(this,e),wAe(this,e,arguments)}return EAe(e,t),bAe(e,[{key:"render",value:function(){return b.createElement(CAe,this.props)}}])}(b.Component);i9(W0,"displayName","XAxis");i9(W0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l9(r.key),r)}}function NAe(t,e,n){return e&&AAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jAe(t,e,n){return e=Jv(e),IAe(t,s9()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function IAe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(t)}function kAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function OAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function a9(t,e,n){return e=l9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l9(t){var e=RAe(t,"string");return _d(e)=="symbol"?e:e+""}function RAe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}var MAe=function(e){var n=e.yAxisId,r=WU(),i=HU(),o=zU(n);return o==null?null:b.createElement(z0,$_({},o,{className:Pt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Hl(a,!0)}}))},H0=function(t){function e(){return PAe(this,e),jAe(this,e,arguments)}return OAe(e,t),NAe(e,[{key:"render",value:function(){return b.createElement(MAe,this.props)}}])}(b.Component);a9(H0,"displayName","YAxis");a9(H0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SR(t){return FAe(t)||LAe(t)||$Ae(t)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ae(t,e){if(t){if(typeof t=="string")return L_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L_(t,e)}}function LAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FAe(t){if(Array.isArray(t))return L_(t)}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F_=function(e,n,r,i,o){var s=Qi(e,$P),a=Qi(e,V0),l=[].concat(SR(s),SR(a)),u=Qi(e,U0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&ms(v.props,"extendDomain")&&Ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&ms(v.props,"extendDomain")&&Ie(v.props[m])&&Ie(v.props[y])){var x=v.props[m],w=v.props[y];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return Ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},c9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,m,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var C=v.length,E;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),x){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];v[S].fn.apply(v[S].context,w)}}return!0},a.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(c9);var VAe=c9.exports;const BAe=Xt(VAe);var Iw=new BAe,kw="recharts.syncMouseEvents";function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function UAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u9(r.key),r)}}function WAe(t,e,n){return e&&zAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ow(t,e,n){return e=u9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t){var e=HAe(t,"string");return Np(e)=="symbol"?e:e+""}function HAe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qAe=function(){function t(){UAe(this,t),Ow(this,"activeIndex",0),Ow(this,"coordinateList",[]),Ow(this,"layout","horizontal")}return WAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function GAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ie(r)&&Ie(i))return!0}return!1}function KAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function d9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Tr(e,n,r,i),a=Tr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function YAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Tr(a,l,u,f),m=Tr(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return d9(e);return[{x:r,y:i},{x:o,y:s}]}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){XAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XAe(t,e,n){return e=QAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QAe(t){var e=JAe(t,"string");return jp(e)=="symbol"?e:e+""}function JAe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=u_;if(h==="ScatterChart")y=s,g=NEe;else if(h==="BarChart")y=KAe(f,s,l,d),g=OP;else if(f==="radial"){var v=d9(s),x=v.cx,w=v.cy,S=v.radius,C=v.startAngle,E=v.endAngle;y={cx:x,cy:w,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=mU}else y={points:YAe(f,s,l)},g=u_;var A=vg(vg(vg(vg({stroke:"#ccc",pointerEvents:"none"},l),y),Nt(m,!1)),{},{payload:a,payloadIndex:u,className:Pt("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,A):b.createElement(g,A)}var eNe=["item"],tNe=["children","className","width","height","style","compact","title","desc"];function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function ER(t,e){return iNe(t)||rNe(t,e)||h9(t,e)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function iNe(t){if(Array.isArray(t))return t}function TR(t,e){if(t==null)return{};var n=oNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p9(r.key),r)}}function lNe(t,e,n){return e&&aNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cNe(t,e,n){return e=Zv(e),uNe(t,f9()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function uNe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dNe(t)}function dNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function fNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Td(t){return mNe(t)||pNe(t)||h9(t)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function pNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mNe(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=gNe(t,"string");return Ed(e)=="symbol"?e:e+""}function gNe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yNe={xAxis:["bottom","top"],yAxis:["left","right"]},vNe={width:"100%",height:"100%"},m9={x:0,y:0};function xg(t){return t}var xNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},bNe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return oe(oe(oe({},i),Tr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return oe(oe(oe({},i),Tr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return m9},q0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Td(a),Td(u)):a},[]);return s.length>0?s:e&&e.length&&Ie(i)&&Ie(o)?e.slice(i,o+1):[]};function g9(t){return t==="number"?[0,"auto"]:void 0}var U_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=q0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=tv(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Td(l),[fU(u,h)]):l},[])},PR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=xNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=d1e(s,a,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=U_(e,n,d,f),m=bNe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},wNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=uU(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?oe(oe({},g.type.defaultProps),g.props):g.props,w=x.type,S=x.dataKey,C=x.allowDataOverflow,E=x.allowDuplicatedCategory,A=x.scale,_=x.ticks,T=x.includeHidden,N=x[s];if(y[N])return y;var k=q0(e.data,{graphicalItems:i.filter(function(ie){var ce,be=s in ie.props?ie.props[s]:(ce=ie.type.defaultProps)===null||ce===void 0?void 0:ce[s];return be===N}),dataStartIndex:l,dataEndIndex:u}),j=k.length,R,O,L;GAe(x.domain,C,w)&&(R=o_(x.domain,null,C),m&&(w==="number"||A!=="auto")&&(L=uh(k,S,"category")));var B=g9(w);if(!R||R.length===0){var V,U=(V=x.domain)!==null&&V!==void 0?V:B;if(S){if(R=uh(k,S,w),w==="category"&&m){var F=Xae(R);E&&F?(O=R,R=Vv(0,j)):E||(R=aO(U,R,g).reduce(function(ie,ce){return ie.indexOf(ce)>=0?ie:[].concat(Td(ie),[ce])},[]))}else if(w==="category")E?R=R.filter(function(ie){return ie!==""&&!bt(ie)}):R=aO(U,R,g).reduce(function(ie,ce){return ie.indexOf(ce)>=0||ce===""||bt(ce)?ie:[].concat(Td(ie),[ce])},[]);else if(w==="number"){var W=g1e(k,i.filter(function(ie){var ce,be,ke=s in ie.props?ie.props[s]:(ce=ie.type.defaultProps)===null||ce===void 0?void 0:ce[s],ot="hide"in ie.props?ie.props.hide:(be=ie.type.defaultProps)===null||be===void 0?void 0:be.hide;return ke===N&&(T||!ot)}),S,o,d);W&&(R=W)}m&&(w==="number"||A!=="auto")&&(L=uh(k,S,"category"))}else m?R=Vv(0,j):a&&a[N]&&a[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:dU(a[N].stackGroups,l,u):R=cU(k,i.filter(function(ie){var ce=s in ie.props?ie.props[s]:ie.type.defaultProps[s],be="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return ce===N&&(T||!be)}),w,d,!0);if(w==="number")R=F_(f,R,N,o,_),U&&(R=o_(U,R,C));else if(w==="category"&&U){var ne=U,X=R.every(function(ie){return ne.indexOf(ie)>=0});X&&(R=ne)}}return oe(oe({},y),{},rt({},N,oe(oe({},x),{},{axisType:o,domain:R,categoricalDomain:L,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},SNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=q0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,y=uU(d,o),g=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?oe(oe({},x.type.defaultProps),x.props):x.props,S=w[s],C=g9("number");if(!v[S]){g++;var E;return y?E=Vv(0,m):a&&a[S]&&a[S].hasStack?(E=dU(a[S].stackGroups,l,u),E=F_(f,E,S,o)):(E=o_(C,cU(h,r.filter(function(A){var _,T,N=s in A.props?A.props[s]:(_=A.type.defaultProps)===null||_===void 0?void 0:_[s],k="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===S&&!k}),"number",d),i.defaultProps.allowDataOverflow),E=F_(f,E,S,o)),oe(oe({},v),{},rt({},S,oe(oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Xi(yNe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},_Ne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Qi(d,o),m={};return h&&h.length?m=wNe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=SNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),m},ENe=function(e){var n=qc(e),r=Hl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Iv(n,r)}},AR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ci(n,md),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},TNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=qs(n&&n.type);return r&&r.indexOf("Bar")>=0})},NR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ci(f,md),y=Ci(f,Cu),g=Object.keys(l).reduce(function(E,A){var _=l[A],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},rt({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,A){var _=s[A],T=_.orientation;return!_.mirror&&!_.hide?oe(oe({},E),{},rt({},T,Xi(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=oe(oe({},v),g),w=x.bottom;m&&(x.bottom+=m.props.height||md.defaultProps.height),y&&n&&(x=p1e(x,i,r,n));var S=u-x.left-x.right,C=d-x.top-x.bottom;return oe(oe({brushBottom:w},x),{},{width:Math.max(S,0),height:Math.max(C,0)})},PNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ANe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var S=w.graphicalItems,C=w.stackGroups,E=w.offset,A=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,N=x.barSize,k=x.layout,j=x.barGap,R=x.barCategoryGap,O=x.maxBarSize,L=NR(k),B=L.numericAxisName,V=L.cateAxisName,U=TNe(S),F=[];return S.forEach(function(W,ne){var X=q0(x.data,{graphicalItems:[W],dataStartIndex:_,dataEndIndex:T}),ie=W.type.defaultProps!==void 0?oe(oe({},W.type.defaultProps),W.props):W.props,ce=ie.dataKey,be=ie.maxBarSize,ke=ie["".concat(B,"Id")],ot=ie["".concat(V,"Id")],xe={},je=l.reduce(function(Me,Ct){var Ut=w["".concat(Ct.axisType,"Map")],rn=ie["".concat(Ct.axisType,"Id")];Ut&&Ut[rn]||Ct.axisType==="zAxis"||bc();var pn=Ut[rn];return oe(oe({},Me),{},rt(rt({},Ct.axisType,pn),"".concat(Ct.axisType,"Ticks"),Hl(pn)))},xe),se=je[V],pe=je["".concat(V,"Ticks")],le=C&&C[ke]&&C[ke].hasStack&&A1e(W,C[ke].stackGroups),z=qs(W.type).indexOf("Bar")>=0,we=Iv(se,pe),Te=[],Ye=U&&f1e({barSize:N,stackGroups:C,totalSize:PNe(je,V)});if(z){var Xe,st,pt=bt(be)?O:be,_e=(Xe=(st=Iv(se,pe,!0))!==null&&st!==void 0?st:pt)!==null&&Xe!==void 0?Xe:0;Te=h1e({barGap:j,barCategoryGap:R,bandSize:_e!==we?_e:we,sizeList:Ye[ot],maxBarSize:pt}),_e!==we&&(Te=Te.map(function(Me){return oe(oe({},Me),{},{position:oe(oe({},Me.position),{},{offset:Me.position.offset-_e/2})})}))}var Ae=W&&W.type&&W.type.getComposedData;Ae&&F.push({props:oe(oe({},Ae(oe(oe({},je),{},{displayedData:X,props:x,dataKey:ce,item:W,bandSize:we,barPosition:Te,offset:E,stackedData:le,layout:k,dataStartIndex:_,dataEndIndex:T}))),{},rt(rt(rt({key:W.key||"item-".concat(ne)},B,je[B]),V,je[V]),"animationId",A)),childIndex:cle(W,x.children),item:W})}),F},m=function(x,w){var S=x.props,C=x.dataStartIndex,E=x.dataEndIndex,A=x.updateId;if(!eI({props:S}))return null;var _=S.children,T=S.layout,N=S.stackOffset,k=S.data,j=S.reverseStackOrder,R=NR(T),O=R.numericAxisName,L=R.cateAxisName,B=Qi(_,r),V=T1e(k,B,"".concat(O,"Id"),"".concat(L,"Id"),N,j),U=l.reduce(function(ie,ce){var be="".concat(ce.axisType,"Map");return oe(oe({},ie),{},rt({},be,_Ne(S,oe(oe({},ce),{},{graphicalItems:B,stackGroups:ce.axisType===O&&V,dataStartIndex:C,dataEndIndex:E}))))},{}),F=CNe(oe(oe({},U),{},{props:S,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(ie){U[ie]=d(S,U[ie],F,ie.replace("Map",""),n)});var W=U["".concat(L,"Map")],ne=ENe(W),X=h(S,oe(oe({},U),{},{dataStartIndex:C,dataEndIndex:E,updateId:A,graphicalItems:B,stackGroups:V,offset:F}));return oe(oe({formattedGraphicalItems:X,graphicalItems:B,offset:F,stackGroups:V},ne),U)},y=function(v){function x(w){var S,C,E;return sNe(this,x),E=cNe(this,x,[w]),rt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(E,"accessibilityManager",new qAe),rt(E,"handleLegendBBoxUpdate",function(A){if(A){var _=E.state,T=_.dataStartIndex,N=_.dataEndIndex,k=_.updateId;E.setState(oe({legendBBox:A},m({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:k},oe(oe({},E.state),{},{legendBBox:A}))))}}),rt(E,"handleReceiveSyncEvent",function(A,_,T){if(E.props.syncId===A){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),rt(E,"handleBrushChange",function(A){var _=A.startIndex,T=A.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return oe({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),rt(E,"handleMouseEnter",function(A){var _=E.getMouseInfo(A);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;_t(N)&&N(T,A)}}),rt(E,"triggeredAfterMouseMove",function(A){var _=E.getMouseInfo(A),T=_?oe(oe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;_t(N)&&N(T,A)}),rt(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),rt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),rt(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),rt(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;_t(T)&&T(_,A)}),rt(E,"handleOuterEvent",function(A){var _=lle(A),T=Xi(E.props,"".concat(_));if(_&&_t(T)){var N,k;/.*touch.*/i.test(_)?k=E.getMouseInfo(A.changedTouches[0]):k=E.getMouseInfo(A),T((N=k)!==null&&N!==void 0?N:{},A)}}),rt(E,"handleClick",function(A){var _=E.getMouseInfo(A);if(_){var T=oe(oe({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;_t(N)&&N(T,A)}}),rt(E,"handleMouseDown",function(A){var _=E.props.onMouseDown;if(_t(_)){var T=E.getMouseInfo(A);_(T,A)}}),rt(E,"handleMouseUp",function(A){var _=E.props.onMouseUp;if(_t(_)){var T=E.getMouseInfo(A);_(T,A)}}),rt(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),rt(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),rt(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),rt(E,"handleDoubleClick",function(A){var _=E.props.onDoubleClick;if(_t(_)){var T=E.getMouseInfo(A);_(T,A)}}),rt(E,"handleContextMenu",function(A){var _=E.props.onContextMenu;if(_t(_)){var T=E.getMouseInfo(A);_(T,A)}}),rt(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Iw.emit(kw,E.props.syncId,A,E.eventEmitterSymbol)}),rt(E,"applySyncEvent",function(A){var _=E.props,T=_.layout,N=_.syncMethod,k=E.state.updateId,j=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(oe({dataStartIndex:j,dataEndIndex:R},m({props:E.props,dataStartIndex:j,dataEndIndex:R,updateId:k},E.state)));else if(A.activeTooltipIndex!==void 0){var O=A.chartX,L=A.chartY,B=A.activeTooltipIndex,V=E.state,U=V.offset,F=V.tooltipTicks;if(!U)return;if(typeof N=="function")B=N(F,A);else if(N==="value"){B=-1;for(var W=0;W<F.length;W++)if(F[W].value===A.activeLabel){B=W;break}}var ne=oe(oe({},U),{},{x:U.left,y:U.top}),X=Math.min(O,ne.x+ne.width),ie=Math.min(L,ne.y+ne.height),ce=F[B]&&F[B].value,be=U_(E.state,E.props.data,B),ke=F[B]?{x:T==="horizontal"?F[B].coordinate:X,y:T==="horizontal"?ie:F[B].coordinate}:m9;E.setState(oe(oe({},A),{},{activeLabel:ce,activeCoordinate:ke,activePayload:be,activeTooltipIndex:B}))}else E.setState(A)}),rt(E,"renderCursor",function(A){var _,T=E.state,N=T.isTooltipActive,k=T.activeCoordinate,j=T.activePayload,R=T.offset,O=T.activeTooltipIndex,L=T.tooltipAxisBandSize,B=E.getTooltipEventType(),V=(_=A.props.active)!==null&&_!==void 0?_:N,U=E.props.layout,F=A.key||"_recharts-cursor";return q.createElement(ZAe,{key:F,activeCoordinate:k,activePayload:j,activeTooltipIndex:O,chartName:n,element:A,isActive:V,layout:U,offset:R,tooltipAxisBandSize:L,tooltipEventType:B})}),rt(E,"renderPolarAxis",function(A,_,T){var N=Xi(A,"type.axisType"),k=Xi(E.state,"".concat(N,"Map")),j=A.type.defaultProps,R=j!==void 0?oe(oe({},j),A.props):A.props,O=k&&k[R["".concat(N,"Id")]];return b.cloneElement(A,oe(oe({},O),{},{className:Pt(N,O.className),key:A.key||"".concat(_,"-").concat(T),ticks:Hl(O,!0)}))}),rt(E,"renderPolarGrid",function(A){var _=A.props,T=_.radialLines,N=_.polarAngles,k=_.polarRadius,j=E.state,R=j.radiusAxisMap,O=j.angleAxisMap,L=qc(R),B=qc(O),V=B.cx,U=B.cy,F=B.innerRadius,W=B.outerRadius;return b.cloneElement(A,{polarAngles:Array.isArray(N)?N:Hl(B,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(k)?k:Hl(L,!0).map(function(ne){return ne.coordinate}),cx:V,cy:U,innerRadius:F,outerRadius:W,key:A.key||"polar-grid",radialLines:T})}),rt(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,_=E.props,T=_.children,N=_.width,k=_.height,j=E.props.margin||{},R=N-(j.left||0)-(j.right||0),O=aU({children:T,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!O)return null;var L=O.item,B=TR(O,eNe);return b.cloneElement(L,oe(oe({},B),{},{chartWidth:N,chartHeight:k,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),rt(E,"renderTooltip",function(){var A,_=E.props,T=_.children,N=_.accessibilityLayer,k=Ci(T,Qo);if(!k)return null;var j=E.state,R=j.isTooltipActive,O=j.activeCoordinate,L=j.activePayload,B=j.activeLabel,V=j.offset,U=(A=k.props.active)!==null&&A!==void 0?A:R;return b.cloneElement(k,{viewBox:oe(oe({},V),{},{x:V.left,y:V.top}),active:U,label:B,payload:U?L:[],coordinate:O,accessibilityLayer:N})}),rt(E,"renderBrush",function(A){var _=E.props,T=_.margin,N=_.data,k=E.state,j=k.offset,R=k.dataStartIndex,O=k.dataEndIndex,L=k.updateId;return b.cloneElement(A,{key:A.key||"_recharts-brush",onChange:pg(E.handleBrushChange,A.props.onChange),data:N,x:Ie(A.props.x)?A.props.x:j.left,y:Ie(A.props.y)?A.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Ie(A.props.width)?A.props.width:j.width,startIndex:R,endIndex:O,updateId:"brush-".concat(L)})}),rt(E,"renderReferenceElement",function(A,_,T){if(!A)return null;var N=E,k=N.clipPathId,j=E.state,R=j.xAxisMap,O=j.yAxisMap,L=j.offset,B=A.type.defaultProps||{},V=A.props,U=V.xAxisId,F=U===void 0?B.xAxisId:U,W=V.yAxisId,ne=W===void 0?B.yAxisId:W;return b.cloneElement(A,{key:A.key||"".concat(_,"-").concat(T),xAxis:R[F],yAxis:O[ne],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),rt(E,"renderActivePoints",function(A){var _=A.item,T=A.activePoint,N=A.basePoint,k=A.childIndex,j=A.isRange,R=[],O=_.props.key,L=_.item.type.defaultProps!==void 0?oe(oe({},_.item.type.defaultProps),_.item.props):_.item.props,B=L.activeDot,V=L.dataKey,U=oe(oe({index:k,dataKey:V,cx:T.x,cy:T.y,r:4,fill:kP(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Nt(B,!1)),nv(B));return R.push(x.renderActiveDot(B,U,"".concat(O,"-activePoint-").concat(k))),N?R.push(x.renderActiveDot(B,oe(oe({},U),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(k))):j&&R.push(null),R}),rt(E,"renderGraphicChild",function(A,_,T){var N=E.filterFormatItem(A,_,T);if(!N)return null;var k=E.getTooltipEventType(),j=E.state,R=j.isTooltipActive,O=j.tooltipAxis,L=j.activeTooltipIndex,B=j.activeLabel,V=E.props.children,U=Ci(V,Qo),F=N.props,W=F.points,ne=F.isRange,X=F.baseLine,ie=N.item.type.defaultProps!==void 0?oe(oe({},N.item.type.defaultProps),N.item.props):N.item.props,ce=ie.activeDot,be=ie.hide,ke=ie.activeBar,ot=ie.activeShape,xe=!!(!be&&R&&U&&(ce||ke||ot)),je={};k!=="axis"&&U&&U.props.trigger==="click"?je={onClick:pg(E.handleItemMouseEnter,A.props.onClick)}:k!=="axis"&&(je={onMouseLeave:pg(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:pg(E.handleItemMouseEnter,A.props.onMouseEnter)});var se=b.cloneElement(A,oe(oe({},N.props),je));function pe(Ct){return typeof O.dataKey=="function"?O.dataKey(Ct.payload):null}if(xe)if(L>=0){var le,z;if(O.dataKey&&!O.allowDuplicatedCategory){var we=typeof O.dataKey=="function"?pe:"payload.".concat(O.dataKey.toString());le=tv(W,we,B),z=ne&&X&&tv(X,we,B)}else le=W==null?void 0:W[L],z=ne&&X&&X[L];if(ot||ke){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:L;return[b.cloneElement(A,oe(oe(oe({},N.props),je),{},{activeIndex:Te})),null,null]}if(!bt(le))return[se].concat(Td(E.renderActivePoints({item:N,activePoint:le,basePoint:z,childIndex:L,isRange:ne})))}else{var Ye,Xe=(Ye=E.getItemByXY(E.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:se},st=Xe.graphicalItem,pt=st.item,_e=pt===void 0?A:pt,Ae=st.childIndex,Me=oe(oe(oe({},N.props),je),{},{activeIndex:Ae});return[b.cloneElement(_e,Me),null,null]}return ne?[se,null,null]:[se,null]}),rt(E,"renderCustomized",function(A,_,T){return b.cloneElement(A,oe(oe({key:"recharts-customized-".concat(T)},E.props),E.state))}),rt(E,"renderMap",{CartesianGrid:{handler:xg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:xg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:xg},YAxis:{handler:xg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:om("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=sB(E.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return fNe(x,v),lNe(x,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,A=S.height,_=S.layout,T=Ci(C,Qo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=U_(this.state,E,N,k),R=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+A)/2,L=_==="horizontal",B=L?{x:R,y:O}:{y:R,x:O},V=this.state.formattedGraphicalItems.find(function(F){var W=F.item;return W.type.name==="Scatter"});V&&(B=oe(oe({},B),V.props.points[N].tooltipPosition),j=V.props.points[N].tooltipPayload);var U={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:j,activeCoordinate:B};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){bS([Ci(S.children,Qo)],[Ci(this.props.children,Qo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ci(this.props.children,Qo);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),A=$ve(E),_={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},T=E.width/C.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,T);if(!N)return null;var k=this.state,j=k.xAxisMap,R=k.yAxisMap,O=this.getTooltipEventType(),L=PR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&j&&R){var B=qc(j).scale,V=qc(R).scale,U=B&&B.invert?B.invert(_.chartX):null,F=V&&V.invert?V.invert(_.chartY):null;return oe(oe({},_),{},{xValue:U,yValue:F},L)}return L?oe(oe({},_),L):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,_=S/E,T=C/E;if(A==="horizontal"||A==="vertical"){var N=this.state.offset,k=_>=N.left&&_<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return k?{x:_,y:T}:null}var j=this.state,R=j.angleAxisMap,O=j.radiusAxisMap;if(R&&O){var L=qc(R);return uO({x:_,y:T},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=Ci(S,Qo),A={};E&&C==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=nv(this.props,this.handleOuterEvent);return oe(oe({},_),A)}},{key:"addListener",value:function(){Iw.on(kw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Iw.removeListener(kw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var A=this.state.formattedGraphicalItems,_=0,T=A.length;_<T;_++){var N=A[_];if(N.item===S||N.props.key===S.key||C===qs(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,A=C.top,_=C.height,T=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:E,y:A,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var A=ER(E,2),_=A[0],T=A[1];return oe(oe({},C),{},rt({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var A=ER(E,2),_=A[0],T=A[1];return oe(oe({},C),{},rt({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,A=C.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var N=E[_],k=N.props,j=N.item,R=j.type.defaultProps!==void 0?oe(oe({},j.type.defaultProps),j.props):j.props,O=qs(j.type);if(O==="Bar"){var L=(k.data||[]).find(function(F){return xEe(S,F)});if(L)return{graphicalItem:N,payload:L}}else if(O==="RadialBar"){var B=(k.data||[]).find(function(F){return uO(S,F)});if(B)return{graphicalItem:N,payload:B}}else if(D0(N,A)||$0(N,A)||Ep(N,A)){var V=STe({graphicalItem:N,activeTooltipItem:A,itemData:R.data}),U=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:oe(oe({},N),{},{childIndex:U}),payload:Ep(N,A)?R.data[V]:N.props.data[V]}}}return null}},{key:"render",value:function(){var S=this;if(!eI(this))return null;var C=this.props,E=C.children,A=C.className,_=C.width,T=C.height,N=C.style,k=C.compact,j=C.title,R=C.desc,O=TR(C,tNe),L=Nt(O,!1);if(k)return q.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(SS,cu({},L,{width:_,height:T,title:j,desc:R}),this.renderClipPath(),nI(E,this.renderMap)));if(this.props.accessibilityLayer){var B,V;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(V=this.props.role)!==null&&V!==void 0?V:"application",L.onKeyDown=function(F){S.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){S.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return q.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",cu({className:Pt("recharts-wrapper",A),style:oe({position:"relative",cursor:"default",width:_,height:T},N)},U,{ref:function(W){S.container=W}}),q.createElement(SS,cu({},L,{width:_,height:T,title:j,desc:R,style:vNe}),this.renderClipPath(),nI(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);rt(y,"displayName",n),rt(y,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),rt(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,S=v.data,C=v.children,E=v.width,A=v.height,_=v.layout,T=v.stackOffset,N=v.margin,k=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var R=AR(v);return oe(oe(oe({},R),{},{updateId:0},m(oe(oe({props:v},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:A,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(w!==x.prevDataKey||S!==x.prevData||E!==x.prevWidth||A!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Tu(N,x.prevMargin)){var O=AR(v),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=oe(oe({},PR(x,S,_)),{},{updateId:x.updateId+1}),V=oe(oe(oe({},O),L),B);return oe(oe(oe({},V),m(oe({props:v},V),x)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:A,prevLayout:_,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(!bS(C,x.prevChildren)){var U,F,W,ne,X=Ci(C,md),ie=X&&(U=(F=X.props)===null||F===void 0?void 0:F.startIndex)!==null&&U!==void 0?U:k,ce=X&&(W=(ne=X.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&W!==void 0?W:j,be=ie!==k||ce!==j,ke=!bt(S),ot=ke&&!be?x.updateId:x.updateId+1;return oe(oe({updateId:ot},m(oe(oe({props:v},x),{},{updateId:ot,dataStartIndex:ie,dataEndIndex:ce}),x)),{},{prevChildren:C,dataStartIndex:ie,dataEndIndex:ce})}return null}),rt(y,"renderActiveDot",function(v,x,w){var S;return b.isValidElement(v)?S=b.cloneElement(v,x):_t(v)?S=v(x):S=q.createElement(RP,x),q.createElement(Mn,{className:"recharts-active-dot",key:w},S)});var g=b.forwardRef(function(x,w){return q.createElement(y,cu({},x,{ref:w}))});return g.displayName=y.displayName,g},NNe=ANe({chartName:"LineChart",GraphicalChild:fm,axisComponents:[{axisType:"xAxis",AxisComp:W0},{axisType:"yAxis",AxisComp:H0}],formatAxisMap:YCe});function jNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function jR(t){return jNe(t)||Array.isArray(t)}function INe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FP(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!jR(a)||!jR(l)?a===l:FP(a,l)})}function IR(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function kNe(t,e){if(t.length!==e.length)return!1;const n=IR(t),r=IR(e);return n.every((i,o)=>{const s=r[o];return FP(i,s)})}function VP(t){return typeof t=="number"}function z_(t){return typeof t=="string"}function G0(t){return typeof t=="boolean"}function kR(t){return Object.prototype.toString.call(t)==="[object Object]"}function En(t){return Math.abs(t)}function BP(t){return Math.sign(t)}function hh(t,e){return En(t-e)}function ONe(t,e){if(t===0||e===0||En(t)<=En(e))return 0;const n=hh(En(t),En(e));return En(n/t)}function RNe(t){return Math.round(t*100)/100}function Ip(t){return kp(t).map(Number)}function Do(t){return t[hm(t)]}function hm(t){return Math.max(0,t.length-1)}function UP(t,e){return e===hm(t)}function OR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function kp(t){return Object.keys(t)}function y9(t,e){return[t,e].reduce((n,r)=>(kp(r).forEach(i=>{const o=n[i],s=r[i],a=kR(o)&&kR(s);n[i]=a?y9(o,s):s}),n),{})}function W_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function MNe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,u){return z_(t)?n[t](l):t(e,l,u)}return{measure:s}}function Op(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const u=i;u.addListener(s),l=()=>u.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function DNe(t,e,n,r){const i=Op(),o=1e3/60;let s=null,a=0,l=0;function u(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){m(),i.clear()}function f(v){if(!l)return;s||(s=v,n(),n());const x=v-s;for(s=v,a+=x;a>=o;)n(),a-=o;const w=a/o;r(w),l&&(l=e.requestAnimationFrame(f))}function h(){l||(l=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function y(){s=null,a=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function $Ne(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=d(),l=f();function u(y){const{height:g,width:v}=y;return r?g:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(y){return y*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:u,direction:h}}function wc(t=0,e=0){const n=En(t-e);function r(u){return u<t}function i(u){return u>e}function o(u){return r(u)||i(u)}function s(u){return o(u)?r(u)?t:e:u}function a(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function v9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let o=s(e);function s(h){return n?En((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),f}function u(h){return d().set(a()+h)}function d(){return v9(t,a(),n)}const f={get:a,set:l,add:u,clone:d};return f}function LNe(t,e,n,r,i,o,s,a,l,u,d,f,h,m,y,g,v,x,w){const{cross:S,direction:C}=t,E=["INPUT","SELECT","TEXTAREA"],A={passive:!1},_=Op(),T=Op(),N=wc(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},j={mouse:500,touch:600},R=y?43:25;let O=!1,L=0,B=0,V=!1,U=!1,F=!1,W=!1;function ne(z){if(!w)return;function we(Ye){(G0(w)||w(z,Ye))&&ot(Ye)}const Te=e;_.add(Te,"dragstart",Ye=>Ye.preventDefault(),A).add(Te,"touchmove",()=>{},A).add(Te,"touchend",()=>{}).add(Te,"touchstart",we).add(Te,"mousedown",we).add(Te,"touchcancel",je).add(Te,"contextmenu",je).add(Te,"click",se,!0)}function X(){_.clear(),T.clear()}function ie(){const z=W?n:e;T.add(z,"touchmove",xe,A).add(z,"touchend",je).add(z,"mousemove",xe,A).add(z,"mouseup",je)}function ce(z){const we=z.nodeName||"";return E.includes(we)}function be(){return(y?j:k)[W?"mouse":"touch"]}function ke(z,we){const Te=f.add(BP(z)*-1),Ye=d.byDistance(z,!y).distance;return y||En(z)<N?Ye:v&&we?Ye*.5:d.byIndex(Te.get(),0).distance}function ot(z){const we=W_(z,r);W=we,F=y&&we&&!z.buttons&&O,O=hh(i.get(),s.get())>=2,!(we&&z.button!==0)&&(ce(z.target)||(V=!0,o.pointerDown(z),u.useFriction(0).useDuration(0),i.set(s),ie(),L=o.readPoint(z),B=o.readPoint(z,S),h.emit("pointerDown")))}function xe(z){if(!W_(z,r)&&z.touches.length>=2)return je(z);const Te=o.readPoint(z),Ye=o.readPoint(z,S),Xe=hh(Te,L),st=hh(Ye,B);if(!U&&!W&&(!z.cancelable||(U=Xe>st,!U)))return je(z);const pt=o.pointerMove(z);Xe>g&&(F=!0),u.useFriction(.3).useDuration(.75),a.start(),i.add(C(pt)),z.preventDefault()}function je(z){const Te=d.byDistance(0,!1).index!==f.get(),Ye=o.pointerUp(z)*be(),Xe=ke(C(Ye),Te),st=ONe(Ye,Xe),pt=R-10*st,_e=x+st/50;U=!1,V=!1,T.clear(),u.useDuration(pt).useFriction(_e),l.distance(Xe,!y),W=!1,h.emit("pointerUp")}function se(z){F&&(z.stopPropagation(),z.preventDefault(),F=!1)}function pe(){return V}return{init:ne,destroy:X,pointerDown:pe}}function FNe(t,e){let r,i;function o(f){return f.timeStamp}function s(f,h){const y=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(W_(f,e)?f:f.touches[0])[y]}function a(f){return r=f,i=f,s(f)}function l(f){const h=s(f)-s(i),m=o(f)-o(r)>170;return i=f,m&&(r=f),h}function u(f){if(!r||!i)return 0;const h=s(i)-s(r),m=o(f)-o(r),y=o(f)-o(i)>170,g=h/m;return m&&!y&&En(g)>.1?g:0}return{pointerDown:a,pointerMove:l,pointerUp:u,readPoint:s}}function VNe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function BNe(t){function e(r){return t*(r/100)}return{measure:e}}function UNe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,u,d=[],f=!1;function h(v){return i.measureSize(s.measure(v))}function m(v){if(!o)return;u=h(t),d=r.map(h);function x(w){for(const S of w){if(f)return;const C=S.target===t,E=r.indexOf(S.target),A=C?u:d[E],_=h(C?t:r[E]);if(En(_-A)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(w=>{(G0(o)||o(v,w))&&x(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>l.observe(w))})}function y(){f=!0,l&&l.disconnect()}return{init:m,destroy:y}}function zNe(t,e,n,r,i,o){let s=0,a=0,l=i,u=o,d=t.get(),f=0;function h(){const A=r.get()-t.get(),_=!l;let T=0;return _?(s=0,n.set(r),t.set(r),T=A):(n.set(t),s+=A/l,s*=u,d+=s,t.add(s),T=d-f),a=BP(T),f=d,E}function m(){const A=r.get()-e.get();return En(A)<.001}function y(){return l}function g(){return a}function v(){return s}function x(){return S(i)}function w(){return C(o)}function S(A){return l=A,E}function C(A){return u=A,E}const E={direction:g,duration:y,velocity:v,seek:h,settled:m,useBaseFriction:w,useBaseDuration:x,useFriction:C,useDuration:S};return E}function WNe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=wc(.1,.99);let l=!1;function u(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const y=t.reachedMin(e.get())?"min":"max",g=En(t[y]-e.get()),v=n.get()-e.get(),x=a.constrain(g/s);n.subtract(v*x),!m&&En(v)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){l=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function HNe(t,e,n,r,i){const o=wc(-e+t,0),s=f(),a=d(),l=h();function u(y,g){return hh(y,g)<=1}function d(){const y=s[0],g=Do(s),v=s.lastIndexOf(y),x=s.indexOf(g)+1;return wc(v,x)}function f(){return n.map((y,g)=>{const{min:v,max:x}=o,w=o.constrain(y),S=!g,C=UP(n,g);return S?x:C||u(v,w)?v:u(x,w)?x:w}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:y,max:g}=a;return s.slice(y,g)}return{snapsContained:l,scrollContainLimit:a}}function qNe(t,e,n){const r=e[0],i=n?r-t:Do(e);return{limit:wc(i,r)}}function GNe(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=wc(o,s);function u(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function d(h){if(!u(h))return;const m=t*(h*-1);r.forEach(y=>y.add(m))}return{loop:d}}function KNe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function YNe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=f().map(e.measure),u=h(),d=m();function f(){return a(r).map(g=>Do(g)[s]-g[0][o]).map(En)}function h(){return r.map(g=>n[o]-g[o]).map(g=>-En(g))}function m(){return a(u).map(g=>g[0]).map((g,v)=>g+l[v])}return{snaps:u,snapsAligned:d}}function XNe(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,u=d();function d(){const h=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?h:h.slice(a,l).map((y,g,v)=>{const x=!g,w=UP(v,g);if(x){const S=Do(v[0])+1;return OR(S)}if(w){const S=hm(o)-Do(v)[0]+1;return OR(S,Do(v)[0])}return y})}return{slideRegistry:u}}function QNe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(y){return y.concat().sort((g,v)=>En(g)-En(v))[0]}function u(y){const g=t?s(y):a(y),v=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>En(w.diff)-En(S.diff)),{index:x}=v[0];return{index:x,distance:g}}function d(y,g){const v=[y,y+n,y-n];if(!t)return y;if(!g)return l(v);const x=v.filter(w=>BP(w)===g);return x.length?l(x):Do(v)-n}function f(y,g){const v=e[y]-i.get(),x=d(v,g);return{index:y,distance:x}}function h(y,g){const v=i.get()+y,{index:x,distance:w}=u(v),S=!t&&o(v);if(!g||S)return{index:x,distance:y};const C=e[x]-w,E=y+d(C,0);return{index:x,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function JNe(t,e,n,r,i,o,s){function a(f){const h=f.distance,m=f.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),s.emit("select"))}function l(f,h){const m=i.byDistance(f,h);a(m)}function u(f,h){const m=e.clone().set(f),y=i.byIndex(m.get(),h);a(y)}return{distance:l,index:u}}function ZNe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let u=0;function d(m){if(!a)return;function y(g){if(new Date().getTime()-u>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));VP(w)&&(i.useDuration(0),r.index(w,0),s.emit("slideFocus"))}o.add(document,"keydown",f,!1),e.forEach((g,v)=>{o.add(g,"focus",x=>{(G0(a)||a(m,x))&&y(v)},l)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Uf(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return VP(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function x9(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(o)return;const m=RNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function u(h){o=!h}function d(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:u}}function eje(t,e,n,r,i,o,s,a,l){const d=Ip(i),f=Ip(i).reverse(),h=x().concat(w());function m(_,T){return _.reduce((N,k)=>N-i[k],T)}function y(_,T){return _.reduce((N,k)=>m(N,T)>0?N.concat([k]):N,[])}function g(_){return o.map((T,N)=>({start:T-r[N]+.5+_,end:T+e-.5+_}))}function v(_,T,N){const k=g(T);return _.map(j=>{const R=N?0:-n,O=N?n:0,L=N?"end":"start",B=k[j][L];return{index:j,loopPoint:B,slideLocation:Uf(-1),translate:x9(t,l[j]),target:()=>a.get()>B?R:O}})}function x(){const _=s[0],T=y(f,_);return v(T,n,!1)}function w(){const _=e-s[0]-1,T=y(d,_);return v(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(N=>N!==_);return m(T,e)<=.1})}function C(){h.forEach(_=>{const{target:T,translate:N,slideLocation:k}=_,j=T();j!==k.get()&&(N.to(j),k.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:C,loopPoints:h}}function tje(t,e,n){let r,i=!1;function o(l){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(G0(n)||n(l,d))&&u(d)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function nje(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function u(){a=new IntersectionObserver(y=>{l||(y.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function f(y){return kp(i).reduce((g,v)=>{const x=parseInt(v),{isIntersecting:w}=i[x];return(y&&w||!y&&!w)&&g.push(x),g},[])}function h(y=!0){if(y&&o)return o;if(!y&&s)return s;const g=f(y);return y&&(o=g),y||(s=g),g}return{init:u,destroy:d,get:h}}function rje(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,u=n[0]&&i,d=y(),f=g(),h=n.map(s),m=v();function y(){if(!u)return 0;const w=n[0];return En(e[a]-w[a])}function g(){if(!u)return 0;const w=o.getComputedStyle(Do(r));return parseFloat(w.getPropertyValue(`margin-${l}`))}function v(){return n.map((w,S,C)=>{const E=!S,A=UP(C,S);return E?h[S]+d:A?h[S]+f:C[S+1][a]-w[a]}).map(En)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function ije(t,e,n,r,i,o,s,a,l){const{startEdge:u,endEdge:d,direction:f}=t,h=VP(n);function m(x,w){return Ip(x).filter(S=>S%w===0).map(S=>x.slice(S,S+w))}function y(x){return x.length?Ip(x).reduce((w,S,C)=>{const E=Do(w)||0,A=E===0,_=S===hm(x),T=i[u]-o[E][u],N=i[u]-o[S][d],k=!r&&A?f(s):0,j=!r&&_?f(a):0,R=En(N-j-(T+k));return C&&R>e+l&&w.push(S),_&&w.push(x.length),w},[]).map((w,S,C)=>{const E=Math.max(C[S-1]||0);return x.slice(E,w)}):[]}function g(x){return h?m(x,n):y(x)}return{groupSlides:g}}function oje(t,e,n,r,i,o,s){const{align:a,axis:l,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:x,containScroll:w,watchResize:S,watchSlides:C,watchDrag:E,watchFocus:A}=o,_=2,T=VNe(),N=T.measure(e),k=n.map(T.measure),j=$Ne(l,u),R=j.measureSize(N),O=BNe(R),L=MNe(a,R),B=!f&&!!w,V=f||!!w,{slideSizes:U,slideSizesWithGaps:F,startGap:W,endGap:ne}=rje(j,N,k,n,V,i),X=ije(j,R,v,f,N,k,W,ne,_),{snaps:ie,snapsAligned:ce}=YNe(j,L,N,k,X),be=-Do(ie)+Do(F),{snapsContained:ke,scrollContainLimit:ot}=HNe(R,be,ce,w,_),xe=B?ke:ce,{limit:je}=qNe(be,xe,f),se=v9(hm(xe),d,f),pe=se.clone(),le=Ip(n),z=({dragHandler:Qt,scrollBody:yn,scrollBounds:Lt,options:{loop:Ge}})=>{Ge||Lt.constrain(Qt.pointerDown()),yn.seek()},we=({scrollBody:Qt,translate:yn,location:Lt,offsetLocation:Ge,previousLocation:Gr,scrollLooper:mr,slideLooper:jr,dragHandler:Ir,animation:zt,eventHandler:on,scrollBounds:gr,options:{loop:Dn}},Ht)=>{const tr=Qt.settled(),$n=!gr.shouldConstrain(),An=Dn?tr:tr&&$n,so=An&&!Ir.pointerDown();so&&zt.stop();const hi=Lt.get()*Ht+Gr.get()*(1-Ht);Ge.set(hi),Dn&&(mr.loop(Qt.direction()),jr.loop()),yn.to(Ge.get()),so&&on.emit("settle"),An||on.emit("scroll")},Te=DNe(r,i,()=>z(gn),Qt=>we(gn,Qt)),Ye=.68,Xe=xe[se.get()],st=Uf(Xe),pt=Uf(Xe),_e=Uf(Xe),Ae=Uf(Xe),Me=zNe(st,_e,pt,Ae,h,Ye),Ct=QNe(f,xe,be,je,Ae),Ut=JNe(Te,se,pe,Me,Ct,Ae,s),rn=KNe(je),pn=Op(),zn=nje(e,n,s,g),{slideRegistry:Nr}=XNe(B,w,xe,ot,X,le),mn=ZNe(t,n,Nr,Ut,Me,pn,s,A),gn={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:N,slideRects:k,animation:Te,axis:j,dragHandler:LNe(j,t,r,i,Ae,FNe(j,i),st,Te,Ut,Me,Ct,se,s,O,m,y,x,Ye,E),eventStore:pn,percentOfView:O,index:se,indexPrevious:pe,limit:je,location:st,offsetLocation:_e,previousLocation:pt,options:o,resizeHandler:UNe(e,s,i,n,j,S,T),scrollBody:Me,scrollBounds:WNe(je,_e,Ae,Me,O),scrollLooper:GNe(be,je,_e,[st,_e,pt,Ae]),scrollProgress:rn,scrollSnapList:xe.map(rn.get),scrollSnaps:xe,scrollTarget:Ct,scrollTo:Ut,slideLooper:eje(j,R,be,U,F,ie,xe,_e,n),slideFocus:mn,slidesHandler:tje(e,s,C),slidesInView:zn,slideIndexes:le,slideRegistry:Nr,slidesToScroll:X,target:Ae,translate:x9(j,e)};return gn}function sje(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function i(u){return r(u).forEach(d=>d(e,u)),l}function o(u,d){return t[u]=r(u).concat([d]),l}function s(u,d){return t[u]=r(u).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const aje={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function lje(t){function e(o,s){return y9(o,s||{})}function n(o){const s=o.breakpoints||{},a=kp(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,u)=>e(l,u),{});return e(o,a)}function r(o){return o.map(s=>kp(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function cje(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function ex(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=lje(i),s=cje(o),a=Op(),l=sje(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:m,emit:y}=l,g=j;let v=!1,x,w=u(aje,ex.globalOptions),S=u(w),C=[],E,A,_;function T(){const{container:le,slides:z}=S;A=(z_(le)?t.querySelector(le):le)||t.children[0];const Te=z_(z)?A.querySelectorAll(z):z;_=[].slice.call(Te||A.children)}function N(le){const z=oje(t,A,_,r,i,le,l);if(le.loop&&!z.slideLooper.canLoop()){const we=Object.assign({},le,{loop:!1});return N(we)}return z}function k(le,z){v||(w=u(w,le),S=d(w),C=z||C,T(),x=N(S),f([w,...C.map(({options:we})=>we)]).forEach(we=>a.add(we,"change",j)),S.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(pe),x.eventHandler.init(pe),x.resizeHandler.init(pe),x.slidesHandler.init(pe),x.options.loop&&x.slideLooper.loop(),A.offsetParent&&_.length&&x.dragHandler.init(pe),E=s.init(pe,C)))}function j(le,z){const we=X();R(),k(u({startIndex:we},le),z),l.emit("reInit")}function R(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),s.destroy(),a.clear()}function O(){v||(v=!0,a.clear(),R(),l.emit("destroy"),l.clear())}function L(le,z,we){!S.active||v||(x.scrollBody.useBaseFriction().useDuration(z===!0?0:S.duration),x.scrollTo.index(le,we||0))}function B(le){const z=x.index.add(1).get();L(z,le,-1)}function V(le){const z=x.index.add(-1).get();L(z,le,1)}function U(){return x.index.add(1).get()!==X()}function F(){return x.index.add(-1).get()!==X()}function W(){return x.scrollSnapList}function ne(){return x.scrollProgress.get(x.offsetLocation.get())}function X(){return x.index.get()}function ie(){return x.indexPrevious.get()}function ce(){return x.slidesInView.get()}function be(){return x.slidesInView.get(!1)}function ke(){return E}function ot(){return x}function xe(){return t}function je(){return A}function se(){return _}const pe={canScrollNext:U,canScrollPrev:F,containerNode:je,internalEngine:ot,destroy:O,off:m,on:h,emit:y,plugins:ke,previousScrollSnap:ie,reInit:g,rootNode:xe,scrollNext:B,scrollPrev:V,scrollProgress:ne,scrollSnapList:W,scrollTo:L,selectedScrollSnap:X,slideNodes:se,slidesInView:ce,slidesNotInView:be};return k(e,n),setTimeout(()=>l.emit("init"),0),pe}ex.globalOptions=void 0;function zP(t={},e=[]){const n=b.useRef(t),r=b.useRef(e),[i,o]=b.useState(),[s,a]=b.useState(),l=b.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return b.useEffect(()=>{FP(n.current,t)||(n.current=t,l())},[t,l]),b.useEffect(()=>{kNe(r.current,e)||(r.current=e,l())},[e,l]),b.useEffect(()=>{if(INe()&&s){ex.globalOptions=zP.globalOptions;const u=ex(s,n.current,r.current);return o(u),()=>u.destroy()}else o(void 0)},[s,o]),[a,i]}zP.globalOptions=void 0;const b9=b.createContext(null);function K0(){const t=b.useContext(b9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const H_=b.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,u]=zP({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=b.useState(!1),[h,m]=b.useState(!1),y=b.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=b.useCallback(()=>{u==null||u.scrollPrev()},[u]),v=b.useCallback(()=>{u==null||u.scrollNext()},[u]),x=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),v())},[g,v]);return b.useEffect(()=>{!u||!n||n(u)},[u,n]),b.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),c.jsx(b9.Provider,{value:{carouselRef:l,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:h},children:c.jsx("div",{ref:a,onKeyDownCapture:x,className:lt("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});H_.displayName="Carousel";const q_=b.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=K0();return c.jsx("div",{ref:r,className:"overflow-hidden",children:c.jsx("div",{ref:n,className:lt("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});q_.displayName="CarouselContent";const G_=b.forwardRef(({className:t,...e},n)=>{const{orientation:r}=K0();return c.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:lt("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});G_.displayName="CarouselItem";const K_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=K0();return c.jsxs(de,{ref:i,variant:e,size:n,className:lt("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(Ro,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Previous slide"})]})});K_.displayName="CarouselPrevious";const Y_=b.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=K0();return c.jsxs(de,{ref:i,variant:e,size:n,className:lt("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[c.jsx(lH,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Next slide"})]})});Y_.displayName="CarouselNext";function uje({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",u=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return c.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&c.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),c.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${u()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Zf,{className:"w-5 h-5 md:w-6 md:h-6"}),c.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[c.jsx(sL,{className:"w-4 h-4 md:w-5 md:h-5"}),c.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&c.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&c.jsxs("div",{className:"flex flex-col items-center mt-2",children:[c.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[c.jsx(Zf,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const RR="shotclock_tutorial_seen",Rw="shotclock_sessions",bg="shotclock_paused_session";function dje(){var Wo,yi;const[,t]=gl(),[e,n]=b.useState("setup"),[r,i]=b.useState("solo"),[o,s]=b.useState([{name:"Player 1",extensions:0}]),[a,l]=b.useState(0),[u,d]=b.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=b.useState(0),[m,y]=b.useState(0),[g,v]=b.useState(30),[x,w]=b.useState(30),[S,C]=b.useState(30),[E,A]=b.useState(!1),[_,T]=b.useState(!1),[N]=b.useState(3),[k]=b.useState(15),[j,R]=b.useState(!0),[O,L]=b.useState(!1),[B,V]=b.useState([]),[U,F]=b.useState(1),W=b.useRef(null),ne=b.useRef(null),[X,ie]=b.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),ce=b.useRef(0),be=b.useRef(0),ke=b.useRef(0),[ot,xe]=b.useState(!1),[je,se]=b.useState(!1),[pe,le]=b.useState([]),[z,we]=b.useState(1),[Te,Ye]=b.useState(!1);b.useEffect(()=>{(()=>{try{const re=localStorage.getItem(Rw);re&&V(JSON.parse(re))}catch(re){console.error("Failed to load saved sessions:",re)}})()},[]),b.useEffect(()=>(xt.startSession("tempo"),()=>{ke.current>0&&xt.trackSkillMetric("tempo","session_complete",1),xt.endSession()}),[]),b.useEffect(()=>{const H=localStorage.getItem(bg);if(H)try{const re=JSON.parse(H);(re.gameMode==="paused"||re.gameMode==="playing")&&(n("paused"),i(re.playerMode),s(re.players),l(re.currentPlayerIndex),v(re.duration),C(re.timeRemaining),T(re.isInExtension),R(re.soloAutoRestart),ie({...re.sessionStats,shotEvents:re.sessionStats.shotEvents||[]}),be.current=re.accumulatedShotTime||0,re.teams&&d(re.teams),re.currentTeamIndex!==void 0&&h(re.currentTeamIndex),re.currentPartnerIndex!==void 0&&y(re.currentPartnerIndex))}catch{localStorage.removeItem(bg)}},[]),b.useEffect(()=>{localStorage.getItem(RR)||L(!0)},[]);const Xe=b.useCallback((H=800,re=.3,Pe=1)=>{ne.current||(ne.current=new AudioContext);const De=ne.current;for(let We=0;We<Pe;We++)setTimeout(()=>{const tt=De.createOscillator(),Ot=De.createGain();tt.connect(Ot),Ot.connect(De.destination),tt.frequency.value=H,Ot.gain.value=.4,Ot.gain.exponentialRampToValueAtTime(.01,De.currentTime+re),tt.start(De.currentTime),tt.stop(De.currentTime+re)},We*150)},[]),st=b.useCallback(()=>{Xe(600,.15,1)},[Xe]),pt=b.useCallback(()=>{Xe(400,.5,3)},[Xe]),_e=b.useCallback(()=>{Xe(1e3,.2,2)},[Xe]);b.useEffect(()=>(E&&S>0?W.current=setInterval(()=>{C(H=>{if(H<=6&&H>1&&st(),H<=1){if(pt(),T(!1),r==="solo"&&j){let re=be.current/1e3;ce.current>0&&(re+=(Date.now()-ce.current)/1e3),re<=0&&(re=g),ke.current++,xt.trackSkillMetric("tempo","shot_time",re),ie(Pe=>{var We;const De={shotIndex:Pe.shotCount,duration:Math.max(0,re),playerName:((We=o[0])==null?void 0:We.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...Pe,shotCount:Pe.shotCount+1,shotDurations:[...Pe.shotDurations,Math.max(0,re)],shotEvents:[...Pe.shotEvents||[],De]}}),be.current=0,setTimeout(()=>{_e(),C(g),A(!0),ce.current=Date.now()},1500)}else ie(re=>({...re,timeouts:re.timeouts+1})),A(!1);return 0}return H-1})},1e3):W.current&&clearInterval(W.current),()=>{W.current&&clearInterval(W.current)}),[E,S,r,j,g,st,pt,_e]);const Ae=o[a],Me=u[f];r==="scotch-doubles"?Me==null||Me.players[m]:Ae==null||Ae.name;const Ct=()=>{S===0&&(C(g),T(!1)),ce.current===0&&(ce.current=Date.now()),A(!0)},Ut=()=>{ce.current>0&&(be.current+=Date.now()-ce.current),ce.current=0,A(!1)},rn=b.useCallback(()=>{const H={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:S,isInExtension:_,soloAutoRestart:j,sessionStats:X,accumulatedShotTime:be.current,teams:u,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(bg,JSON.stringify(H))},[r,o,a,g,S,_,j,X,u,f,m]),pn=()=>{localStorage.removeItem(bg)},zn=()=>{ce.current>0&&(be.current+=Date.now()-ce.current),ce.current=0,A(!1),n("paused")};b.useEffect(()=>{e==="paused"&&rn()},[e,rn]);const Nr=()=>{n("playing"),S>0&&(ce.current=Date.now(),A(!0))},mn=()=>{A(!1),n("paused"),rn(),t("/")};b.useEffect(()=>{const H=()=>{document.hidden&&e==="playing"&&E&&(ce.current>0&&(be.current+=Date.now()-ce.current),ce.current=0,A(!1),n("paused"))};return document.addEventListener("visibilitychange",H),()=>{document.removeEventListener("visibilitychange",H)}},[e,E]);const gn=()=>{A(!1),Ye(!0)},Qt=H=>{var Pe;let re=be.current/1e3;if(ce.current>0&&(re+=(Date.now()-ce.current)/1e3),re>0){ke.current++,xt.trackSkillMetric("tempo","shot_time",re),xt.trackSkillMetric("tempo","turn_end_count",1);const De={shotIndex:X.shotCount,duration:Math.max(0,re),playerName:r==="scotch-doubles"?(Me==null?void 0:Me.players[m])||"Unknown":r==="two-player"?(Ae==null?void 0:Ae.name)||"Unknown":((Pe=o[0])==null?void 0:Pe.name)||"Player 1",teamName:r==="scotch-doubles"?Me==null?void 0:Me.name:void 0,timestamp:Date.now(),eventType:H};ie(We=>({...We,shotCount:We.shotCount+1,shotDurations:[...We.shotDurations,Math.max(0,re)],shotEvents:[...We.shotEvents||[],De]}))}C(g),T(!1),be.current=0},yn=()=>{Ye(!1),Qt("turn_end"),r==="two-player"?l(H=>(H+1)%o.length):r==="scotch-doubles"&&(h(H=>(H+1)%u.length),y(0)),ce.current=Date.now(),setTimeout(()=>A(!0),100)},Lt=()=>{Ye(!1);const H=zt(),re=r==="scotch-doubles"?(Me==null?void 0:Me.name)||"Team 1":(Ae==null?void 0:Ae.name)||"Player 1",Pe=r==="scotch-doubles"?"team":"player";ie(De=>{var Ne;const We={...De};let tt=[...De.shotEvents||[]];H&&(tt.push(H),We.shotDurations=[...De.shotDurations,H.duration],We.shotCount=De.shotCount+1);const K={rackNumber:(((Ne=De.rackResults)==null?void 0:Ne.length)||0)+1,winner:re,winnerType:Pe,shotEvents:tt,timestamp:Date.now()};return We.rackResults=[...De.rackResults||[],K],We.shotEvents=[],We}),we(De=>De+1),be.current=0,ce.current=0,C(g),T(!1),A(!1),r==="scotch-doubles"?d(De=>De.map(We=>({...We,extensions:0}))):s(De=>De.map(We=>({...We,extensions:0})))},Ge=()=>{var De,We;Ye(!1);const H=zt();let re,Pe;if(r==="scotch-doubles"){const tt=(f+1)%u.length;re=((De=u[tt])==null?void 0:De.name)||"Team 2",Pe="team"}else if(r==="two-player"){const tt=(a+1)%o.length;re=((We=o[tt])==null?void 0:We.name)||"Player 2",Pe="player"}else re="Opponent",Pe="player";ie(tt=>{var Q;const Ot={...tt};let K=[...tt.shotEvents||[]];H&&(K.push(H),Ot.shotDurations=[...tt.shotDurations,H.duration],Ot.shotCount=tt.shotCount+1);const me={rackNumber:(((Q=tt.rackResults)==null?void 0:Q.length)||0)+1,winner:re,winnerType:Pe,shotEvents:K,timestamp:Date.now()};return Ot.rackResults=[...tt.rackResults||[],me],Ot.shotEvents=[],Ot}),we(tt=>tt+1),be.current=0,ce.current=0,C(g),T(!1),A(!1),r==="scotch-doubles"?d(tt=>tt.map(Ot=>({...Ot,extensions:0}))):s(tt=>tt.map(Ot=>({...Ot,extensions:0})))},Gr=()=>{let H=be.current/1e3;if(ce.current>0&&(H+=(Date.now()-ce.current)/1e3),H>0){ke.current++,xt.trackSkillMetric("tempo","shot_time",H);const re={shotIndex:X.shotCount,duration:Math.max(0,H),playerName:(Me==null?void 0:Me.players[m])||"Unknown",teamName:Me==null?void 0:Me.name,timestamp:Date.now(),eventType:"stroke"};ie(Pe=>({...Pe,shotCount:Pe.shotCount+1,shotDurations:[...Pe.shotDurations,Math.max(0,H)],shotEvents:[...Pe.shotEvents||[],re]}))}A(!1),C(g),T(!1),be.current=0,y(re=>(re+1)%2),ce.current=Date.now(),setTimeout(()=>A(!0),100)},mr=()=>{r==="scotch-doubles"?Me&&Me.extensions<N&&(C(H=>H+k),T(!0),d(H=>H.map((re,Pe)=>Pe===f?{...re,extensions:re.extensions+1}:re)),ie(H=>({...H,totalExtensions:H.totalExtensions+1}))):Ae&&Ae.extensions<N&&(C(H=>H+k),T(!0),s(H=>H.map((re,Pe)=>Pe===a?{...re,extensions:re.extensions+1}:re)),ie(H=>({...H,totalExtensions:H.totalExtensions+1})))},jr=H=>{const re=localStorage.getItem(Rw),Pe=re?JSON.parse(re):[],De={id:Date.now().toString(),date:new Date().toISOString(),stats:H};Pe.unshift(De),Pe.length>20&&Pe.pop(),localStorage.setItem(Rw,JSON.stringify(Pe)),V(Pe)},Ir=()=>{A(!1),xe(!0)},zt=()=>{var re;let H=be.current/1e3;return ce.current>0&&(H+=(Date.now()-ce.current)/1e3),H>0&&S<g&&S>0?{shotIndex:X.shotCount,duration:Math.max(0,H),playerName:r==="scotch-doubles"?(Me==null?void 0:Me.players[m])||"Unknown":r==="two-player"?(Ae==null?void 0:Ae.name)||"Unknown":((re=o[0])==null?void 0:re.name)||"Player 1",teamName:r==="scotch-doubles"?Me==null?void 0:Me.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},on=(H,re)=>{const Pe=zt(),De={rackNumber:z,winner:H,winnerType:re,shotEvents:pe,timestamp:Date.now()};ie(We=>{const tt={...We};return Pe&&(tt.shotDurations=[...We.shotDurations,Pe.duration],tt.shotCount=We.shotCount+1,tt.shotEvents=[...We.shotEvents||[],Pe]),tt.rackResults=[...We.rackResults||[],De],tt}),we(We=>We+1),le([]),se(!1),be.current=0,ce.current=0,C(g),T(!1),A(!1)},gr=()=>{xe(!1),pn();const H={...X,endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(Pe=>Pe.name)},re=zt();re&&(H.shotDurations=[...H.shotDurations,re.duration],H.shotCount+=1,H.shotEvents=[...H.shotEvents||[],re]),be.current=0,ce.current=0,ie(H),jr(H),we(1),le([]),n("summary")},Dn=()=>{pn(),C(g),T(!1),s(H=>H.map(re=>({...re,extensions:0}))),d(H=>H.map(re=>({...re,extensions:0}))),l(0),h(0),y(0),ie({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),ce.current=0,be.current=0,we(1),le([]),n("setup")},Ht=()=>{xe(!1),A(!0),ce.current=Date.now()},tr=()=>{var H;return r==="scotch-doubles"?u.map(re=>({name:re.name,type:"team"})):r==="two-player"?o.map(re=>({name:re.name,type:"player"})):[{name:((H=o[0])==null?void 0:H.name)||"Player 1",type:"player"}]},$n=H=>{v(H),C(H),w(H)},An=()=>{v(x),C(x)},so=()=>{var re,Pe,De,We,tt,Ot,K,Ne,me,Q,Be,$e;pn(),ke.current=0,r==="two-player"?s([{name:((re=o[0])==null?void 0:re.name)||"Player 1",extensions:0},{name:((Pe=o[1])==null?void 0:Pe.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(ut=>ut.map(Ft=>({...Ft,extensions:0}))),h(0),y(0)):s([{name:((De=o[0])==null?void 0:De.name)||"Player 1",extensions:0}]),l(0),C(g),T(!1),be.current=0;let H;r==="scotch-doubles"?H=[`${(We=u[0])==null?void 0:We.name}: ${(tt=u[0])==null?void 0:tt.players[0]}, ${(Ot=u[0])==null?void 0:Ot.players[1]}`,`${(K=u[1])==null?void 0:K.name}: ${(Ne=u[1])==null?void 0:Ne.players[0]}, ${(me=u[1])==null?void 0:me.players[1]}`]:r==="two-player"?H=[((Q=o[0])==null?void 0:Q.name)||"Player 1",((Be=o[1])==null?void 0:Be.name)||"Player 2"]:H=[(($e=o[0])==null?void 0:$e.name)||"Player 1"],ie({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:H}),ce.current=Date.now(),n("playing")},hi=(H,re)=>{s(Pe=>{const De=[...Pe];return De[H]||(De[H]={name:"",extensions:0}),De[H]={...De[H],name:re},De})},pi=(H,re)=>{d(Pe=>{const De=[...Pe];return De[H]={...De[H],name:re},De})},zo=(H,re,Pe)=>{d(De=>{const We=[...De],tt=[...We[H].players];return tt[re]=Pe,We[H]={...We[H],players:tt},We})},mi=()=>{localStorage.setItem(RR,"true"),L(!1),F(1)},ao=()=>X.shotDurations.length===0?0:X.shotDurations.reduce((re,Pe)=>re+Pe,0)/X.shotDurations.length,yr=H=>{const re=Math.floor(H/60),Pe=Math.floor(H%60);return re>0?`${re}m ${Pe}s`:`${Pe.toFixed(1)}s`},Es=c.jsx(Wr,{open:O,onOpenChange:H=>{L(H),H||F(1)},children:c.jsxs(Er,{className:"max-w-md",children:[c.jsxs(ur,{children:[c.jsx(Xn,{children:"Welcome to CueMaster: Tempo"}),c.jsx(jo,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),c.jsxs("div",{className:"space-y-4",children:[U===1&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",c.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),U===2&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),c.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(vf,{className:"w-4 h-4 text-primary"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:c.jsx(zm,{className:"w-4 h-4 text-destructive"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),U===3&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("li",{children:["Background changes from ",c.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",c.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",c.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",c.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),c.jsx("li",{children:"Warning beeps in the final 5 seconds"}),c.jsx("li",{children:"Triple chime when time expires"}),c.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"outline",size:"sm",onClick:()=>F(H=>Math.max(1,H-1)),disabled:U===1,children:"Back"}),c.jsx(de,{variant:"outline",size:"sm",onClick:()=>F(H=>Math.min(3,H+1)),disabled:U===3,children:"Next"})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3].map(H=>c.jsx("div",{className:`w-2 h-2 rounded-full ${H===U?"bg-primary":"bg-muted"}`},H))}),c.jsx(de,{size:"sm",onClick:mi,"data-testid":"button-complete-tutorial",children:U===3?"Finish":"Skip"})]})]})}),kr=c.jsx(Wr,{open:ot,onOpenChange:H=>{H||Ht()},children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsxs(ur,{children:[c.jsx(Xn,{children:"End Session?"}),c.jsx(jo,{className:"sr-only",children:"Confirm you want to end the session"})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(de,{variant:"outline",className:"w-full",onClick:Ht,"data-testid":"button-cancel-stop",children:"Cancel"}),c.jsx(de,{variant:"destructive",className:"w-full",onClick:gr,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),gi=c.jsx(Wr,{open:je,onOpenChange:H=>{H||se(!1)},children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsxs(ur,{children:[c.jsxs(Xn,{children:["Who Won Rack ",z,"?"]}),c.jsx(jo,{className:"sr-only",children:"Select the winner of this rack"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsx("div",{className:"grid grid-cols-1 gap-2",children:tr().map(H=>c.jsx(de,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>on(H.name,H.type),"data-testid":`button-winner-${H.name.replace(/\s+/g,"-").toLowerCase()}`,children:H.name},H.name))})}),c.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{se(!1)},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),Ts=()=>r==="scotch-doubles"?(Me==null?void 0:Me.name)||"Team 1":(Ae==null?void 0:Ae.name)||"Player 1",Kr=c.jsx(Wr,{open:Te,onOpenChange:H=>{H||(Ye(!1),A(!0),ce.current=Date.now())},children:c.jsxs(Er,{className:"max-w-sm",children:[c.jsxs(ur,{children:[c.jsx(Xn,{children:"Next Action"}),c.jsx(jo,{className:"sr-only",children:"Choose your next action"})]}),c.jsx("div",{className:"space-y-3 py-2",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx(de,{variant:"outline",className:"w-full h-auto py-3",onClick:yn,"data-testid":"button-end-turn",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(vf,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold",children:"End Turn"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:r==="scotch-doubles"?"Switch to other team":r==="two-player"?"Switch to other player":"End turn"})]})]})}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx(de,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:Lt,"data-testid":"button-player-won",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Ms,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[Ts()," Won"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),c.jsx(de,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:Ge,"data-testid":"button-player-lost",children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx(Ob,{className:"w-5 h-5 flex-shrink-0"}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsxs("p",{className:"font-semibold",children:[Ts()," Lost"]}),c.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),c.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{Ye(!1),A(!0),ce.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(e==="summary"){const H=ao(),re=X.endTime?(X.endTime-X.startTime)/1e3:0;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:Dn,"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:c.jsx(RN,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:X.playerMode==="two-player"?X.playerNames.join(" vs "):X.playerNames[0]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(aL,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:yr(H)})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(vf,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:X.shotCount})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(tT,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:X.totalExtensions})]}),c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(lL,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),c.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:X.timeouts})]})]})]}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),c.jsxs("span",{className:"font-medium",children:[X.duration,"s"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),c.jsx("span",{className:"font-medium",children:yr(re)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),c.jsx("span",{className:"font-medium capitalize",children:X.playerMode.replace("-"," ")})]})]})]}),X.rackResults&&X.rackResults.length>0&&c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Ms,{className:"w-5 h-5 text-primary"}),c.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),c.jsx("div",{className:"space-y-2",children:X.rackResults.map((Pe,De)=>c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("span",{className:"text-muted-foreground",children:["Rack ",Pe.rackNumber]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ms,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"font-medium text-foreground",children:Pe.winner})]})]},De))})]}),X.shotEvents&&X.shotEvents.length>0&&(()=>{var Ne;const Pe=X.shotEvents.reduce((me,Q)=>(me[Q.playerName]||(me[Q.playerName]={shots:[],total:0,teamName:Q.teamName}),me[Q.playerName].shots.push(Q),me[Q.playerName].total+=Q.duration,me),{}),De=X.shotEvents.reduce((me,Q)=>(Q.teamName&&(me[Q.teamName]||(me[Q.teamName]={shots:[],total:0}),me[Q.teamName].shots.push(Q),me[Q.teamName].total+=Q.duration),me),{}),We=Object.keys(Pe),tt=Object.keys(De),K=(()=>{if(!X.rackResults||X.rackResults.length===0)return null;const me={},Q={};return X.rackResults.forEach(Be=>{Be.shotEvents.forEach($e=>{Be.winnerType==="team"&&$e.teamName===Be.winner||Be.winnerType==="player"&&$e.playerName===Be.winner?(me[$e.playerName]||(me[$e.playerName]={wins:0,totalTime:0,shots:0}),me[$e.playerName].totalTime+=$e.duration,me[$e.playerName].shots+=1):(Q[$e.playerName]||(Q[$e.playerName]={losses:0,totalTime:0,shots:0}),Q[$e.playerName].totalTime+=$e.duration,Q[$e.playerName].shots+=1)}),Be.winnerType==="player"&&(me[Be.winner]||(me[Be.winner]={wins:0,totalTime:0,shots:0}),me[Be.winner].wins+=1)}),{winnerTotals:me,loserTotals:Q}})();return c.jsxs(c.Fragment,{children:[c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),c.jsxs(H_,{className:"w-full",opts:{align:"start",loop:We.length>1},children:[c.jsx(q_,{className:"-ml-2",children:We.map(me=>{const Q=Pe[me],Be=Q.total/Q.shots.length;return c.jsx(G_,{className:"pl-2 basis-full sm:basis-1/2",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Mg,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-medium text-foreground",children:me})]}),Q.teamName&&c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:Q.teamName}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),c.jsx("p",{className:"font-bold text-primary",children:yr(Be)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold",children:Q.shots.length})]})]})]})},me)})}),We.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(K_,{className:"static translate-y-0"}),c.jsx(Y_,{className:"static translate-y-0"})]})]})]}),tt.length>0&&c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),c.jsx("div",{className:"grid grid-cols-1 gap-3",children:tt.map(me=>{const Q=De[me],Be=Q.total/Q.shots.length;return c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:me}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-primary",children:yr(Be)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Q.shots.length," shots)"]})]})]},me)})})]}),c.jsx(nt,{className:"p-6",children:c.jsx(ah,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(So,{value:"charts",className:"border-none",children:[c.jsx(_o,{className:"hover:no-underline py-0",children:c.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),c.jsx(Eo,{children:c.jsxs(H_,{className:"w-full mt-4",opts:{align:"start",loop:We.length>1},children:[c.jsx(q_,{className:"-ml-2",children:We.map(me=>{const Q=Pe[me],Be=Q.shots.map(($e,ut)=>({shot:ut+1,duration:parseFloat($e.duration.toFixed(1))}));return c.jsx(G_,{className:"pl-2 basis-full",children:c.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Mg,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium text-foreground",children:me}),Q.teamName&&c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Q.teamName,")"]})]}),c.jsx("div",{className:"h-40",children:c.jsx(jve,{width:"100%",height:"100%",children:c.jsxs(NNe,{data:Be,children:[c.jsx(W0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),c.jsx(H0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:$e=>`${$e}s`}),c.jsx(Qo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:$e=>`Shot ${$e}`,formatter:$e=>[`${$e}s`,"Duration"]}),c.jsx(fm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},me)})}),We.length>1&&c.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[c.jsx(K_,{className:"static translate-y-0"}),c.jsx(Y_,{className:"static translate-y-0"})]})]})})]})})}),K&&(((Ne=X.rackResults)==null?void 0:Ne.length)??0)>0&&c.jsx(nt,{className:"p-6",children:c.jsx(ah,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(So,{value:"advanced",className:"border-none",children:[c.jsx(_o,{className:"hover:no-underline py-0",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R1,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),c.jsx(Eo,{children:c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ms,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(K.winnerTotals).map(([me,Q])=>Q.shots>0&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R1,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"font-medium text-foreground",children:me})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-green-500",children:yr(Q.totalTime/Q.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Q.shots," shots)"]})]})]},me))})]}),Object.keys(K.loserTotals).length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ob,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),c.jsx("div",{className:"space-y-2",children:Object.entries(K.loserTotals).map(([me,Q])=>Q.shots>0&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ob,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"font-medium text-foreground",children:me})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-lg font-bold text-red-500",children:yr(Q.totalTime/Q.shots)}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Q.shots," shots)"]})]})]},me))})]}),tt.length>0&&X.rackResults&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Fl,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),c.jsx("div",{className:"space-y-2",children:tt.map(me=>{var $e,ut;const Q=(($e=X.rackResults)==null?void 0:$e.filter(Ft=>Ft.winner===me).length)||0,Be=(((ut=X.rackResults)==null?void 0:ut.length)||0)-Q;return c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-medium text-foreground",children:me}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:[Q,"W"]}),c.jsxs("span",{className:"text-red-500 font-bold",children:[Be,"L"]})]})]})},me)})})]})]})})]})})})]})})(),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),c.jsxs(de,{onClick:Dn,className:"w-full",size:"lg","data-testid":"button-new-session",children:[c.jsx(Zf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:Nr,"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:c.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[c.jsxs(nt,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(sL,{className:"w-8 h-8 text-primary"})}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",c.jsxs("span",{className:"font-mono font-bold text-foreground",children:[S,"s"]})]}),c.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Shots"}),c.jsx("p",{className:"font-bold text-lg",children:X.shotCount})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),c.jsx("p",{className:"font-bold text-lg",children:X.totalExtensions})]})]})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(de,{onClick:Nr,className:"w-full",size:"lg","data-testid":"button-resume",children:[c.jsx(Zf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),c.jsxs(de,{onClick:mn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[c.jsx(vH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),c.jsxs(de,{onClick:Ir,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[c.jsx(zm,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>L(!0),"data-testid":"button-tutorial",children:c.jsx(Wp,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(de,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[c.jsx(Mg,{className:"w-4 h-4 mr-2"}),"Solo"]}),c.jsxs(de,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),c.jsxs(lie,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&c.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),c.jsx("div",{className:"space-y-6",children:[0,1].map(H=>{var re,Pe,De;return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs(tn,{htmlFor:`team${H+1}-name`,children:["Team ",H+1," Name"]}),c.jsx(cr,{id:`team${H+1}-name`,value:((re=u[H])==null?void 0:re.name)||"",onChange:We=>pi(H,We.target.value),placeholder:`Team ${H+1}`,className:"mt-1","data-testid":`input-team${H+1}-name`})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(tn,{htmlFor:`team${H+1}-player1`,children:"Partner 1"}),c.jsx(cr,{id:`team${H+1}-player1`,value:((Pe=u[H])==null?void 0:Pe.players[0])||"",onChange:We=>zo(H,0,We.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${H+1}-player1`})]}),c.jsxs("div",{children:[c.jsx(tn,{htmlFor:`team${H+1}-player2`,children:"Partner 2"}),c.jsx(cr,{id:`team${H+1}-player2`,value:((De=u[H])==null?void 0:De.players[1])||"",onChange:We=>zo(H,1,We.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${H+1}-player2`})]})]})]},H)})})]}):c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(tn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),c.jsx(cr,{id:"player1-name",value:((Wo=o[0])==null?void 0:Wo.name)||"",onChange:H=>hi(0,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&c.jsxs("div",{children:[c.jsx(tn,{htmlFor:"player2-name",children:"Player 2"}),c.jsx(cr,{id:"player2-name",value:((yi=o[1])==null?void 0:yi.name)||"",onChange:H=>hi(1,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(H=>c.jsxs(de,{variant:g===H?"default":"outline",onClick:()=>$n(H),"data-testid":`button-preset-${H}`,children:[H,"s"]},H))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(cr,{type:"number",min:"5",max:"300",value:x,onChange:H=>w(parseInt(H.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),c.jsx(de,{onClick:An,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&c.jsx(nt,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),c.jsx(ji,{checked:j,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),c.jsxs(de,{onClick:so,className:"w-full",size:"lg","data-testid":"button-start-game",children:[c.jsx(Zf,{className:"w-5 h-5 mr-2"}),"Start Game"]}),B.length>0&&c.jsx(ah,{type:"single",collapsible:!0,className:"mt-4",children:c.jsxs(So,{value:"history",className:"border rounded-lg",children:[c.jsx(_o,{className:"px-4 hover:no-underline","data-testid":"accordion-session-history",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(RN,{className:"w-4 h-4 text-primary"}),c.jsxs("span",{children:["Session History (",B.length,")"]})]})}),c.jsx(Eo,{className:"px-4 pb-4",children:c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:B.slice(0,10).map(H=>{const re=new Date(H.date),Pe=H.stats.shotDurations.length>0?H.stats.shotDurations.reduce((De,We)=>De+We,0)/H.stats.shotDurations.length:0;return c.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("span",{className:"text-sm font-medium",children:[re.toLocaleDateString()," ",re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),c.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:H.stats.playerMode.replace("-"," ")})]}),c.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{children:[H.stats.shotCount," shots"]}),c.jsxs("span",{children:["Avg: ",Pe.toFixed(1),"s"]}),H.stats.rackResults&&H.stats.rackResults.length>0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ms,{className:"w-3 h-3 text-amber-500"}),H.stats.rackResults.length," racks"]})]})]},H.id)})})})]})})]})}),Es]});const ma=()=>{S===0?(C(g),T(!1),ce.current=Date.now(),A(!0)):E?Ut():Ct()};return c.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex-[2] relative min-h-0",children:[c.jsx(uje,{seconds:S,totalSeconds:g,playerName:r==="solo"?Ae==null?void 0:Ae.name:void 0,isExtension:_,isRunning:E,onClick:ma}),c.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[c.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",X.shotCount+1]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:zn,"data-testid":"button-pause-menu",children:c.jsx(_H,{className:"w-5 h-5"})}),c.jsxs(Wr,{children:[c.jsx(Sne,{asChild:!0,children:c.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:c.jsx(nT,{className:"w-5 h-5"})})}),c.jsxs(Er,{children:[c.jsx(ur,{children:c.jsx(Xn,{children:"Quick Settings"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(tn,{children:"Shot Duration"}),c.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(H=>c.jsxs(de,{variant:g===H?"default":"outline",size:"sm",onClick:()=>{$n(H),E||C(H)},"data-testid":`button-quick-${H}`,children:[H,"s"]},H))})]}),r==="solo"&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(tn,{children:"Continuous Play"}),c.jsx(ji,{checked:j,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:c.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((H,re)=>c.jsx("button",{onClick:()=>{a!==re&&(l(re),C(g),T(!1),_e())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${re+1}`,children:H.name},re))})}),r==="scotch-doubles"&&c.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:c.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[c.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:u.map((H,re)=>c.jsx("button",{onClick:()=>{f!==re&&(h(re),y(0),C(g),T(!1),_e())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===re?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${re+1}`,children:H.name},re))}),c.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",Me==null?void 0:Me.players[m]]})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:c.jsxs("button",{onClick:mr,disabled:r==="scotch-doubles"?((Me==null?void 0:Me.extensions)||0)>=N||S===0:((Ae==null?void 0:Ae.extensions)||0)>=N||S===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[c.jsxs("span",{className:"text-white font-bold text-lg",children:["+",k,"s EXTENSION"]}),c.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(Me==null?void 0:Me.extensions)||0:(Ae==null?void 0:Ae.extensions)||0,"/",N," used)"]})]})})]}),r==="scotch-doubles"?c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:Ir,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(zm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),c.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:Gr,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[c.jsx(Fl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),c.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),c.jsxs("button",{onClick:gn,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(vf,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),c.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),c.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):c.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[c.jsxs("button",{onClick:Ir,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[c.jsx(zm,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),c.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),c.jsxs("button",{onClick:gn,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[c.jsx(vf,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),c.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),kr,gi,Kr]})}function fje({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[c.jsx("div",{className:"absolute w-px h-full bg-muted"}),c.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}const MR="tableLevel_tutorial_seen";function hje(){const[,t]=gl(),{toast:e}=Nd(),[n,r]=b.useState(0),[i,o]=b.useState(0),[s,a]=b.useState({x:0,y:0}),[l,u]=b.useState("home"),[d,f]=b.useState(!1),[h,m]=b.useState(!1),[y,g]=b.useState(!1),[v,x]=b.useState(null),w=b.useRef(null),S=b.useRef(null),C=[{title:"How It Works",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),c.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),c.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[c.jsx("li",{children:"Place your device flat on a surface you know is level"}),c.jsxs("li",{children:["Tap ",c.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),c.jsx("li",{children:"Hold still for 2 seconds while it samples"}),c.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Save different calibrations for different locations:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),c.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];b.useEffect(()=>(xt.startSession("truelevel"),()=>{xt.endSession()}),[]),b.useEffect(()=>{localStorage.getItem(MR)||g(!0)},[]);const E=()=>{localStorage.setItem(MR,"true"),g(!1)};b.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const k=await DeviceOrientationEvent.requestPermission();m(k==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),b.useEffect(()=>{if(!h)return;let N=!1;const k=j=>{j.beta!==null&&j.gamma!==null&&(N||(N=!0,x(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-s.x),o(j.beta-s.y-90))};return window.addEventListener("deviceorientation",k),w.current=setTimeout(()=>{N||(x(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",k),w.current&&clearTimeout(w.current)}},[s,h,e]);const A=()=>{if(v===!1||v===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const N=[];let k=0;const j=10,R=()=>{if(S.current&&(N.push({x:S.current.gamma,y:S.current.beta-90}),k++,k>=j)){const O=N.reduce((B,V)=>B+V.x,0)/N.length,L=N.reduce((B,V)=>B+V.y,0)/N.length;a({x:O,y:L}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:O,y:L})),xt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}k<j&&setTimeout(R,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}R()},300)},_=N=>{u(N);const k=localStorage.getItem(`tableLevel_${N}`);k&&(a(JSON.parse(k)),xt.trackSkillMetric("truelevel","table_check",1,{preset:N}),e({title:"Preset loaded",description:`${N.charAt(0).toUpperCase()+N.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(xC,{open:y,onComplete:E,pages:C,toolName:"Table Level Gauge"}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:c.jsx(Wp,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-auto p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[v===!1&&c.jsx(nt,{className:"p-4 border-destructive bg-destructive/10",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(lL,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[c.jsx(kH,{className:"w-4 h-4"}),c.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),v===null&&c.jsx(nt,{className:"p-4 border-muted",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Detecting orientation sensors..."})]})}),c.jsx("div",{className:"flex justify-center",children:c.jsx(fje,{tiltX:n,tiltY:i,isCalibrating:d})}),c.jsxs(nt,{className:"p-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),c.jsx(ev,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:c.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[c.jsx(de,{variant:l==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),c.jsx(de,{variant:l==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),c.jsx(de,{variant:l==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{className:"flex-1",onClick:A,disabled:d||v===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),c.jsx(de,{variant:"outline",onClick:T,disabled:v===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),c.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs(nt,{className:"p-6 max-w-md text-center",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),c.jsx(de,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var w9=["PageUp","PageDown"],S9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},nf="Slider",[X_,pje,mje]=Up(nf),[E9,h2e]=$i(nf,[mje]),[gje,Y0]=E9(nf),T9=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...g}=t,v=b.useRef(new Set),x=b.useRef(0),S=s==="horizontal"?yje:vje,[C=[],E]=Lo({prop:d,defaultProp:u,onChange:j=>{var O;(O=[...v.current][x.current])==null||O.focus(),f(j)}}),A=b.useRef(C);function _(j){const R=_je(C,j);k(j,R)}function T(j){k(j,x.current)}function N(){const j=A.current[x.current];C[x.current]!==j&&h(C)}function k(j,R,{commit:O}={commit:!1}){const L=Pje(o),B=Aje(Math.round((j-r)/o)*o+r,L),V=Yh(B,[r,i]);E((U=[])=>{const F=wje(U,V,R);if(Cje(F,l*o)){x.current=F.indexOf(V);const W=String(F)!==String(U);return W&&O&&h(F),W?F:U}else return U})}return c.jsx(gje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:v.current,values:C,orientation:s,form:y,children:c.jsx(X_.Provider,{scope:t.__scopeSlider,children:c.jsx(X_.Slot,{scope:t.__scopeSlider,children:c.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Fe(g.onPointerDown,()=>{a||(A.current=C)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,C.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:R})=>{if(!a){const B=w9.includes(j.key)||j.shiftKey&&S9.includes(j.key)?10:1,V=x.current,U=C[V],F=o*B*R;k(U+F,V,{commit:!0})}}})})})})});T9.displayName=nf;var[C9,P9]=E9(nf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yje=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=vt(e,S=>h(S)),y=b.useRef(void 0),g=Ud(i),v=g==="ltr",x=v&&!o||!v&&o;function w(S){const C=y.current||f.getBoundingClientRect(),E=[0,C.width],_=WP(E,x?[n,r]:[r,n]);return y.current=C,_(S-C.left)}return c.jsx(C9,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(A9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=w(S.clientX);s==null||s(C)},onSlideMove:S=>{const C=w(S.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:S=>{const E=_9[x?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:E?-1:1})}})})}),vje=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=vt(e,d),h=b.useRef(void 0),m=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],S=WP(x,m?[r,n]:[n,r]);return h.current=v,S(g-v.top)}return c.jsx(C9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(A9,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=y(g.clientY);s==null||s(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const x=_9[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),A9=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Y0(nf,n);return c.jsx(Ze.span,{...u,ref:e,onKeyDown:Fe(t.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):w9.concat(S9).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Fe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Fe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Fe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),N9="SliderTrack",j9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Y0(N9,n);return c.jsx(Ze.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});j9.displayName=N9;var Q_="SliderRange",I9=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Y0(Q_,n),o=P9(Q_,n),s=b.useRef(null),a=vt(e,s),l=i.values.length,u=i.values.map(h=>O9(h,i.min,i.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Ze.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});I9.displayName=Q_;var J_="SliderThumb",k9=b.forwardRef((t,e)=>{const n=pje(t.__scopeSlider),[r,i]=b.useState(null),o=vt(e,a=>i(a)),s=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(xje,{...t,ref:o,index:s})}),xje=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=Y0(J_,n),a=P9(J_,n),[l,u]=b.useState(null),d=vt(e,w=>u(w)),f=l?s.form||!!l.closest("form"):!0,h=fT(l),m=s.values[r],y=m===void 0?0:O9(m,s.min,s.max),g=Sje(r,s.values.length),v=h==null?void 0:h[a.size],x=v?Eje(v,y,a.direction):0;return b.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(X_.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Ze.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),f&&c.jsx(bje,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:m},r)]})});k9.displayName=J_;var bje=t=>{const{value:e,...n}=t,r=b.useRef(null),i=pC(e);return b.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&l){const u=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(u)}},[i,e]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function wje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function O9(t,e,n){const o=100/(n-e)*(t-e);return Yh(o,[0,100])}function Sje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function _je(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Eje(t,e,n){const r=t/2,o=WP([0,50],[0,r]);return(r-o(e)*n)*n}function Tje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Cje(t,e){if(e>0){const n=Tje(t);return Math.min(...n)>=e}return!0}function WP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Pje(t){return(String(t).split(".")[1]||"").length}function Aje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var R9=T9,Nje=j9,jje=I9,Ije=k9;const Gc=b.forwardRef(({className:t,...e},n)=>c.jsxs(R9,{ref:n,className:lt("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(Nje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(jje,{className:"absolute h-full bg-primary"})}),c.jsx(Ije,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Gc.displayName=R9.displayName;const DR="cueEmulator_tutorial_seen",Ke=14,cn=1600,wn=800,He=24,$R=.05,LR=.2,Kc=28,kje=(cn-He*2)/8,Oje=(wn-He*2)/4,Ue=Array.from({length:9},(t,e)=>He+e*kje),ze=Array.from({length:5},(t,e)=>He+e*Oje),If=[{x:He,y:He,angle:Math.PI/4},{x:cn/2,y:He-2,angle:Math.PI/2},{x:cn-He,y:He,angle:3*Math.PI/4},{x:He,y:wn-He,angle:-Math.PI/4},{x:cn/2,y:wn-He+2,angle:-Math.PI/2},{x:cn-He,y:wn-He,angle:-3*Math.PI/4}],Rje=Kc+Ke*.5,FR=({size:t=16})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:"cueBallGradient",cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f5f5f5"}),c.jsx("stop",{offset:"100%",stopColor:"#cccccc"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#cueBallGradient)",stroke:"#aaa",strokeWidth:"0.5"}),c.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"rgba(255,255,255,0.7)"})]}),VR=({size:t=16,color:e="#DC143C"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:`solidBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),c.jsx("stop",{offset:"40%",stopColor:e}),c.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.5)",stopOpacity:"1"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#solidBallGradient-${e.replace("#","")})`}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.5)"})]}),BR=({size:t=16,color:e="#FDB515"})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsxs("defs",{children:[c.jsxs("radialGradient",{id:`stripeBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"50%",stopColor:"#f8f8f8"}),c.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),c.jsx("clipPath",{id:"ballClip",children:c.jsx("circle",{cx:"12",cy:"12",r:"10"})})]}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#stripeBallGradient-${e.replace("#","")})`}),c.jsx("rect",{x:"2",y:"8",width:"20",height:"8",fill:e,clipPath:"url(#ballClip)",opacity:"0.9"}),c.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.6)"})]}),UR=({size:t=16})=>c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[c.jsx("defs",{children:c.jsxs("radialGradient",{id:"eightBallGradient",cx:"35%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#4a4a4a"}),c.jsx("stop",{offset:"40%",stopColor:"#1a1a1a"}),c.jsx("stop",{offset:"100%",stopColor:"#000000"})]})}),c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#eightBallGradient)"}),c.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"white"}),c.jsx("text",{x:"12",y:"14",textAnchor:"middle",fontSize:"6",fontWeight:"bold",fill:"black",children:"8"}),c.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"rgba(255,255,255,0.4)"})]}),Al={1:{name:"Solid",color:"#DC143C",type:"solid"},2:{name:"Solid",color:"#DC143C",type:"solid"},3:{name:"Solid",color:"#DC143C",type:"solid"},4:{name:"Solid",color:"#DC143C",type:"solid"},5:{name:"Solid",color:"#DC143C",type:"solid"},6:{name:"Solid",color:"#DC143C",type:"solid"},7:{name:"Solid",color:"#DC143C",type:"solid"},8:{name:"8-Ball",color:"#000000",type:"eight"},9:{name:"Stripe",color:"#FDB515",type:"stripe"},10:{name:"Stripe",color:"#FDB515",type:"stripe"},11:{name:"Stripe",color:"#FDB515",type:"stripe"},12:{name:"Stripe",color:"#FDB515",type:"stripe"},13:{name:"Stripe",color:"#FDB515",type:"stripe"},14:{name:"Stripe",color:"#FDB515",type:"stripe"},15:{name:"Stripe",color:"#FDB515",type:"stripe"}},Mje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ue[6],y:ze[2]},{x:Ue[1],y:ze[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ue[7],y:ze[1]},{x:Ue[1],y:ze[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ue[4],y:ze[1]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ue[2],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[2],y:ze[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ue[4],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[4],y:ze[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ue[7],y:ze[1]},{x:Ue[6],y:ze[2]},{x:Ue[5],y:ze[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ue[4],y:ze[1]},{x:Ue[6],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[2],y:ze[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ue[3],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[5],y:ze[1]},{x:Ue[4],y:ze[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ue[1],y:ze[1]},{x:Ue[7],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ue[4],y:ze[1]},{x:Ue[3],y:ze[2]},{x:Ue[4],y:ze[2]},{x:Ue[5],y:ze[2]},{x:Ue[4],y:ze[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ue[3],y:ze[1]},{x:Ue[5],y:ze[1]},{x:Ue[4],y:ze[2]},{x:Ue[3],y:ze[3]},{x:Ue[5],y:ze[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ue[1],y:ze[1]},{x:Ue[7],y:ze[1]},{x:Ue[1],y:ze[2]},{x:Ue[7],y:ze[2]},{x:Ue[1],y:ze[3]},{x:Ue[7],y:ze[3]}]}};function Dje(){const[,t]=gl(),{toast:e}=Nd(),n=b.useRef(null),[r,i]=b.useState(null),[o,s]=b.useState([]),[a,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(!0),[m,y]=b.useState(!1),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,A]=b.useState(.5),[_,T]=b.useState(0),[N,k]=b.useState(0),[j,R]=b.useState(.5),[O,L]=b.useState(.5),[B,V]=b.useState("9ft"),[U,F]=b.useState(!1),[W,ne]=b.useState([]),[X,ie]=b.useState(""),[ce,be]=b.useState(null),[ke,ot]=b.useState(null),[xe,je]=b.useState(null),[se,pe]=b.useState([null,null,null]),[le,z]=b.useState(!1),we=b.useRef(null),[Te,Ye]=b.useState(!1),[Xe,st]=b.useState(0),[pt,_e]=b.useState([]),[Ae,Me]=b.useState([]);b.useState(new Set);const Ct=b.useRef(null),Ut=b.useRef(0),[rn,pn]=b.useState(!1),[zn,Nr]=b.useState(!1);b.useEffect(()=>{const M=()=>{Nr(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),b.useEffect(()=>(xt.startSession("vectors"),()=>{xt.endSession()}),[]);const mn=[{title:"Ball Placement",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Place balls on the table using the control buttons:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(FR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(VR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (1-7)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(BR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (9-15)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(UR,{size:20}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"8-Ball:"})," The black 8-ball (one per table)"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(DN,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Move:"})," Drag any ball to reposition it"]})]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Snap to Grid:"})," Enable to align balls precisely on diamond intersections."]})})]})},{title:"Aiming & Shooting",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-white rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"White line:"})," Cue ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"rgba(255,255,0,0.2)",stroke:"#ffff00",strokeWidth:"2",strokeDasharray:"4 3"})}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Contact point indicator"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-cyan-400 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Cyan line:"})," Object ball trajectory"]})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-1 bg-red-500 rounded"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-foreground",children:"Red line:"})," Cue ball deflection"]})]})]}),c.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Shown below table (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),c.jsxs("div",{className:"flex items-center gap-3 my-3",children:[c.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded"}),c.jsx("span",{className:"text-xs",children:"Power: 0-100%"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 50 50",className:"border border-muted rounded",children:[c.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),c.jsx("circle",{cx:"25",cy:"18",r:"4",fill:"hsl(var(--primary))"}),c.jsx("text",{x:"25",y:"45",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"English"})]}),c.jsx("span",{className:"text-xs",children:"Click to apply top/bottom spin and left/right english"})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Physics:"})," Includes spin transfer, rail cushion effects, and pocket detection."]})})]})},{title:"Table Conditions",content:c.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsx("p",{children:"Customize the playing environment:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),c.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:c.jsxs("p",{className:"text-xs",children:[c.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),c.jsxs("p",{className:"mt-3",children:["Use ",c.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];b.useEffect(()=>{localStorage.getItem(DR)||z(!0)},[]);const gn=()=>{localStorage.setItem(DR,"true"),z(!1)};b.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${B}`);if(M)try{const $=JSON.parse(M);Array.isArray($)&&$.length===3?pe($):pe([null,null,null])}catch($){console.error("Failed to load table presets:",$),pe([null,null,null])}else pe([null,null,null])},[B]);const Qt=M=>{const $=[...se];$[M]={clothSpeed:j,cushionQuality:O,name:`Slot ${M+1}`},pe($),localStorage.setItem(`cueEmulator_tablePresets_${B}`,JSON.stringify($)),e({title:`Saved to Slot ${M+1} (${B})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(O*100)}%`})},yn=M=>{const $=se[M];$?(R($.clothSpeed),L($.cushionQuality),e({title:`Loaded Slot ${M+1} (${B})`,description:`Cloth: ${Math.round($.clothSpeed*100)}%, Cushion: ${Math.round($.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},Lt=M=>{we.current=setTimeout(()=>{Qt(M),we.current=null},600)},Ge=M=>{we.current&&(clearTimeout(we.current),we.current=null,yn(M))},Gr=b.useCallback(()=>.85+.1*O,[O]),mr=b.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),jr=b.useCallback(()=>{const{lengthInches:$}=mr();return $/100},[mr]),Ir=b.useCallback(()=>{const M=.3-.15*j,G=1+(1-jr())*.3;return M*G},[j,jr]),zt=b.useCallback((M,$)=>{for(const G of If){const J=M-G.x,Z=$-G.y;if(Math.sqrt(J*J+Z*Z)<Rje)return!0}return!1},[]),on=b.useCallback((M,$)=>{const G=He+Ke,J=cn-He-Ke,Z=He+Ke,ue=wn-He-Ke;let ae=Math.max(G,Math.min(J,M)),te=Math.max(Z,Math.min(ue,$));if(zt(ae,te)){let ye=ae,Ee=te,Se=1/0;for(const Oe of Ue)for(const ft of ze)if(Oe>=G&&Oe<=J&&ft>=Z&&ft<=ue&&!zt(Oe,ft)){const sn=Math.sqrt((M-Oe)**2+($-ft)**2);sn<Se&&(Se=sn,ye=Oe,Ee=ft)}return{x:ye,y:Ee}}return{x:ae,y:te}},[zt]),gr=b.useCallback((M,$,G,J)=>{const Z=Ke*2.1;if(r&&!J&&Math.sqrt((M-r.x)**2+($-r.y)**2)<Z)return!0;for(let ue=0;ue<o.length;ue++){if(G!==void 0&&ue===G)continue;const ae=o[ue];if(Math.sqrt((M-ae.x)**2+($-ae.y)**2)<Z)return!0}return!1},[r,o]),Dn=b.useCallback((M,$,G,J)=>{const Z=He+Ke,ue=cn-He-Ke,ae=He+Ke,te=wn-He-Ke;if(!f)return on(M,$);const ye=[];for(const Ee of Ue)for(const Se of ze)if(Ee>=Z&&Ee<=ue&&Se>=ae&&Se<=te&&!zt(Ee,Se)){const Oe=Math.sqrt((M-Ee)**2+($-Se)**2);ye.push({x:Ee,y:Se,dist:Oe})}ye.sort((Ee,Se)=>Ee.dist-Se.dist);for(const Ee of ye)if(!gr(Ee.x,Ee.y,G,J))return{x:Ee.x,y:Ee.y};return ye.length>0?{x:ye[0].x,y:ye[0].y}:on(M,$)},[f,zt,on,gr]),Ht=b.useCallback(M=>{const $=o.map(G=>G.number).filter(G=>G!==void 0);if(M==="solid"){for(let G=1;G<=7;G++)if(!$.includes(G))return G}else if(M==="stripe"){for(let G=9;G<=15;G++)if(!$.includes(G))return G}else if(M==="eight"&&!$.includes(8))return 8;return null},[o]),tr=b.useCallback(()=>o.some(M=>M.number===8),[o]),$n=b.useCallback((M,$)=>{for(const G of If){const J=M-G.x,Z=$-G.y;if(Math.sqrt(J*J+Z*Z)<Kc)return!0}return!1},[]),An=(M,$)=>{const G=$.x-M.x,J=$.y-M.y;return Math.sqrt(G*G+J*J)},so=b.useCallback((M,$)=>{let G=null,J=1/0;for(const Z of If){const ue=Z.x-M.x,ae=Z.y-M.y,te=Math.sqrt(ue*ue+ae*ae);if(te<Ke*2)continue;const ye=ue/te,Ee=ae/te,Se=M.x-ye*(Ke*2),Oe=M.y-Ee*(Ke*2),ft=Se-$.x,sn=Oe-$.y,Wn=Math.sqrt(ft*ft+sn*sn);if(Wn<Ke*2)continue;const Li=ft/Wn,vr=sn/Wn,vi=Li*ye+vr*Ee,Cs=Math.acos(Math.max(-1,Math.min(1,vi)))*(180/Math.PI);Cs<J&&(J=Cs,G={pocket:Z,angle:Cs,ghostBall:{x:Se,y:Oe}})}return G},[]),hi=b.useCallback((M,$)=>{if(o.length===0)return null;const G=$.x-M.x,J=$.y-M.y,Z=Math.sqrt(G*G+J*J);if(Z<1)return null;const ue=G/Z,ae=J/Z;let te=null,ye=1/0;for(const Ee of o){const Se=Ee.x-M.x,Oe=Ee.y-M.y,ft=Math.sqrt(Se*Se+Oe*Oe),sn=Se*ue+Oe*ae;if(sn<=0)continue;const Wn=Se-sn*ue,Li=Oe-sn*ae;Math.sqrt(Wn*Wn+Li*Li)<Ke*3&&ft<ye&&(ye=ft,te=Ee)}return te},[o]),pi=b.useCallback((M,$)=>{if(!m)return null;const G=hi(M,$);if(!G)return null;const J=so(G,M);return!J||J.angle<15?null:J.ghostBall},[m,hi,so]),zo=b.useCallback(M=>{const $=Gr(),G=He,J=cn-He,Z=He,ue=wn-He;let ae=!1;return M.x-Ke<G&&(M.x=G+Ke,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ae=!0),M.x+Ke>J&&(M.x=J-Ke,M.vx=-M.vx*$,M.vy+=M.spinY*.3,M.spinX*=.7,ae=!0),M.y-Ke<Z&&(M.y=Z+Ke,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ae=!0),M.y+Ke>ue&&(M.y=ue-Ke,M.vy=-M.vy*$,M.vx+=M.spinX*.3,M.spinY*=.7,ae=!0),ae},[Gr]),mi=b.useCallback((M,$,G,J)=>{var pm,lo,mm;if(!r)return null;const Z=G-M,ue=J-$,ae=Math.sqrt(Z*Z+ue*ue);if(ae<10)return null;const te=Z/ae,ye=ue/ae,Se=E*15,Oe={x:r.x,y:r.y,vx:te*Se,vy:ye*Se,spinX:_,spinY:N},ft=o.map(Rt=>({...Rt,vx:0,vy:0,spinX:0,spinY:0})),sn=Ir(),Wn=300,Li=[{x:Oe.x,y:Oe.y}],vr=ft.map(()=>[]);let vi=null,Cs=null,rf=null,of=null,sf=null;const Zt=[Oe,...ft],ni=new Array(Zt.length).fill(!1),X0=Rt=>{for(const bn of If){const co=Rt.x-bn.x,ri=Rt.y-bn.y;if(Math.sqrt(co*co+ri*ri)<Kc-Ke*.3)return!0}return!1},Q0=(Rt,bn,co)=>{const ri=bn.x-Rt.x,xi=bn.y-Rt.y,bi=Math.sqrt(ri*ri+xi*xi);if(bi>=Ke*2||bi===0)return!1;const Gt=ri/bi,Qe=xi/bi,mt=-Qe,uo=Gt,xr=Rt.vx-bn.vx,Or=Rt.vy-bn.vy,ii=xr*Gt+Or*Qe,ga=xr*mt+Or*uo;if(ii<=0)return!1;const af=Rt.spinX*.15*Math.abs(ga)*.3;Rt.vx-=ii*Gt,Rt.vy-=ii*Qe,bn.vx+=ii*Gt*.95,bn.vy+=ii*Qe*.95,bn.vx+=af*mt,bn.vy+=af*uo;const _l=Math.sqrt(xr*xr+Or*Or);if(co===0&&_l>.1){const gm=xr/_l,lf=Or/_l,El=Rt.spinY*.4;Rt.spinY!==0&&(Rt.vx+=gm*El*_l,Rt.vy+=lf*El*_l),Rt.spinY*=.3}bn.spinX+=Rt.spinX*.2,bn.spinY+=Rt.spinY*.2;const Ho=Ke*2-bi;return Rt.x-=Ho/2*Gt,Rt.y-=Ho/2*Qe,bn.x+=Ho/2*Gt,bn.y+=Ho/2*Qe,!0};for(let Rt=0;Rt<Wn;Rt++){let bn=!1,co=0;for(let Gt=0;Gt<Zt.length;Gt++){if(ni[Gt])continue;const Qe=Zt[Gt],mt=Math.sqrt(Qe.vx*Qe.vx+Qe.vy*Qe.vy);mt>co&&(co=mt)}const ri=co*$R*60,xi=Math.max(1,Math.ceil(ri/(Ke*.8))),bi=$R/xi;for(let Gt=0;Gt<xi;Gt++){for(let Qe=0;Qe<Zt.length;Qe++){if(ni[Qe])continue;const mt=Zt[Qe],uo=Math.sqrt(mt.vx*mt.vx+mt.vy*mt.vy);if(uo>LR){bn=!0;const xr=sn*9.8;if(mt.vx-=mt.vx/uo*xr*bi,mt.vy-=mt.vy/uo*xr*bi,mt.x+=mt.vx*bi*60,mt.y+=mt.vy*bi*60,zo(mt),X0(mt)){if(Qe>0){const Or=Qe-1,ii=((pm=o[Or])==null?void 0:pm.number)||1,ga=((lo=Al[ii])==null?void 0:lo.color)||"#ffffff";vr[Or].push({x:mt.x,y:mt.y,ballIndex:Or,color:ga})}ni[Qe]=!0,mt.vx=0,mt.vy=0}}else mt.vx=0,mt.vy=0}for(let Qe=0;Qe<Zt.length;Qe++)if(!ni[Qe])for(let mt=Qe+1;mt<Zt.length;mt++){if(ni[mt])continue;if(Q0(Zt[Qe],Zt[mt],Qe)&&Qe===0&&!vi){vi={x:Zt[mt].x,y:Zt[mt].y},sf={x:Zt[0].x,y:Zt[0].y};const xr=Zt[mt].x-Zt[0].x,Or=Zt[mt].y-Zt[0].y,ii=Math.sqrt(xr*xr+Or*Or);ii>0&&(Cs={x:Zt[0].x+xr/ii*Ke,y:Zt[0].y+Or/ii*Ke}),rf={x:Zt[mt].vx,y:Zt[mt].vy},of={x:Zt[0].vx,y:Zt[0].vy}}}}ni[0]||Li.push({x:Oe.x,y:Oe.y});for(let Gt=0;Gt<ft.length;Gt++){if(ni[Gt+1])continue;const Qe=ft[Gt];if(Math.sqrt(Qe.vx*Qe.vx+Qe.vy*Qe.vy)>LR*.5||vr[Gt].length>0){const uo=o[Gt].number||1,xr=((mm=Al[uo])==null?void 0:mm.color)||"#ffffff";vr[Gt].push({x:Qe.x,y:Qe.y,ballIndex:Gt,color:xr})}}if(!bn)break}return{path:Li,hitBall:vi,contactPoint:Cs,objectBallDirection:rf,cueBallDeflection:of,cueBallPosAtContact:sf,objectPaths:vr.filter(Rt=>Rt.length>=1)}},[r,o,E,_,N,Ir,zo]),ao=(M,$)=>{const G=Math.sqrt(M.x*M.x+M.y*M.y),J=Math.sqrt($.x*$.x+$.y*$.y);if(G===0||J===0)return{angle:0,fraction:1};const Z={x:M.x/G,y:M.y/G},ue={x:$.x/J,y:$.y/J},ae=Z.x*ue.x+Z.y*ue.y,te=Math.max(-1,Math.min(1,ae)),ye=Math.acos(te),Ee=ye*(180/Math.PI),Se=Math.min(Ee,90),Oe=Math.cos(ye);return{angle:Se,fraction:Math.max(0,Oe)}},yr=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",Es=b.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,cn,wn),M.fillStyle="#1a5f3f",M.fillRect(He,He,cn-He*2,wn-He*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(He,He,cn-He*2,wn-He*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="eight"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const Z=He,ue=cn-He,ae=He,te=wn-He;for(const ye of Ue)ye>Z&&ye<ue&&(M.beginPath(),M.moveTo(ye,ae),M.lineTo(ye,te),M.stroke());for(const ye of ze)ye>ae&&ye<te&&(M.beginPath(),M.moveTo(Z,ye),M.lineTo(ue,ye),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ye of Ue)for(const Ee of ze)ye>Z&&ye<ue&&Ee>ae&&Ee<te&&(zt(ye,Ee)||(M.beginPath(),M.arc(ye,Ee,2,0,Math.PI*2),M.fill()))}If.forEach(Z=>{const ue=M.createRadialGradient(Z.x,Z.y,0,Z.x,Z.y,Kc);ue.addColorStop(0,"#000000"),ue.addColorStop(.7,"#1a1a1a"),ue.addColorStop(1,"#333333"),M.fillStyle=ue,M.beginPath(),M.arc(Z.x,Z.y,Kc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(Z.x,Z.y,Kc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const $=3,G=(cn-He*2)/8,J=(wn-He*2)/4;for(let Z=1;Z<8;Z++){if(Z===4)continue;const ue=He+Z*G;M.beginPath(),M.moveTo(ue,He-5),M.lineTo(ue+$,He-2),M.lineTo(ue,He+1),M.lineTo(ue-$,He-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ue,wn-He+5),M.lineTo(ue+$,wn-He+2),M.lineTo(ue,wn-He-1),M.lineTo(ue-$,wn-He+2),M.closePath(),M.fill()}for(let Z=1;Z<4;Z++){const ue=He+Z*J;M.beginPath(),M.moveTo(He-5,ue),M.lineTo(He-2,ue+$),M.lineTo(He+1,ue),M.lineTo(He-2,ue-$),M.closePath(),M.fill(),M.beginPath(),M.moveTo(cn-He+5,ue),M.lineTo(cn-He+2,ue+$),M.lineTo(cn-He-1,ue),M.lineTo(cn-He+2,ue-$),M.closePath(),M.fill()}},[f,a]),kr=(M,$,G)=>{const J=Al[G];if(!J||!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const Z=M.createRadialGradient($.x-Ke*.3,$.y-Ke*.3,0,$.x,$.y,Ke);Z.addColorStop(0,"rgba(255, 255, 255, 0.7)"),Z.addColorStop(.4,J.color),Z.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=Z,M.beginPath(),M.arc($.x,$.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc($.x-Ke*.35,$.y-Ke*.35,Ke*.25,0,Math.PI*2),M.fill()},gi=(M,$)=>{if(!isFinite($.x)||!isFinite($.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse($.x+2,$.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const G=M.createRadialGradient($.x-Ke*.3,$.y-Ke*.3,0,$.x,$.y,Ke);G.addColorStop(0,"rgba(255, 255, 255, 1)"),G.addColorStop(.5,"#ffffff"),G.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=G,M.beginPath(),M.arc($.x,$.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc($.x-Ke*.4,$.y-Ke*.4,Ke*.3,0,Math.PI*2),M.fill()},Ts=(M,$,G)=>{!isFinite($)||!isFinite(G)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc($,G,Ke,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc($,G,Ke,0,Math.PI*2),M.fill())},Kr=(M,$,G,J)=>{M.strokeStyle=J,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(He,G),M.lineTo(cn-He,G),M.stroke(),M.beginPath(),M.moveTo($,He),M.lineTo($,wn-He),M.stroke(),M.setLineDash([]),M.strokeStyle=J,M.lineWidth=2,M.beginPath(),M.arc($,G,Ke+4,0,Math.PI*2),M.stroke()},ma=(M,$,G,J,Z)=>{const ue=J-$,ae=Z-G,te=Math.atan2(ae,ue),ye=150,Ee=Ke+5,Se=$-Math.cos(te)*Ee,Oe=G-Math.sin(te)*Ee,ft=$-Math.cos(te)*ye,sn=G-Math.sin(te)*ye,Wn=M.createLinearGradient(Se,Oe,ft,sn);Wn.addColorStop(0,"#D2691E"),Wn.addColorStop(.5,"#8B4513"),Wn.addColorStop(1,"#654321"),M.strokeStyle=Wn,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Se,Oe),M.lineTo(ft,sn),M.stroke();const Li=$-Math.cos(te)*(Ee-3),vr=G-Math.sin(te)*(Ee-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Li,vr,3,0,Math.PI*2),M.fill()},Wo=(M,$,G)=>{const J=Math.sqrt(G.x*G.x+G.y*G.y);if(J===0)return;const Z=G.x/J,ue=G.y/J,ae=100,te=$.x+Z*ae,ye=$.y+ue*ae;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo($.x,$.y),M.lineTo(te,ye),M.stroke(),M.setLineDash([]);const Ee=10,Se=Math.atan2(ue,Z);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(te,ye),M.lineTo(te-Ee*Math.cos(Se-Math.PI/6),ye-Ee*Math.sin(Se-Math.PI/6)),M.lineTo(te-Ee*Math.cos(Se+Math.PI/6),ye-Ee*Math.sin(Se+Math.PI/6)),M.closePath(),M.fill()},yi=(M,$)=>{if(!($.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo($[0].x,$[0].y);for(let G=1;G<$.length;G++)M.lineTo($[G].x,$[G].y);M.stroke()}},H=b.useCallback(()=>{if(g&&x&&r){const M=pi(r,x);return M?{start:g,current:M}:{start:g,current:x}}if(S&&r){const M=S.angle*Math.PI/180,$=r.x+Math.cos(M)*S.distance,G=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:$,y:G}}}return null},[g,x,S,r,pi]),re=b.useCallback(()=>{const M=H();if(!M||!r)return 0;const $=M.current.x-r.x,G=M.current.y-r.y;let J=Math.atan2(G,$)*180/Math.PI;return J<0&&(J+=360),J},[H,r]),Pe=b.useCallback(()=>{const M=H();if(!M)return 100;const $=M.current.x-M.start.x,G=M.current.y-M.start.y;return Math.sqrt($*$+G*G)},[H]),De=b.useCallback((M,$)=>{C({angle:M,distance:$})},[]),We=b.useCallback(()=>{if(g&&x&&r){const M=x.x-r.x,$=x.y-r.y;let G=Math.atan2($,M)*180/Math.PI;G<0&&(G+=360);const J=Math.sqrt(M*M+$*$);C({angle:G,distance:J})}},[g,x,r]),tt=b.useCallback(()=>{const M=H();if(!M||U||!r)return{angle:null,fraction:null};const $=mi(r.x,r.y,M.current.x,M.current.y);if(!$||!$.hitBall||!$.cueBallPosAtContact)return{angle:null,fraction:null};const G={x:M.current.x-r.x,y:M.current.y-r.y},J={x:$.hitBall.x-$.cueBallPosAtContact.x,y:$.hitBall.y-$.cueBallPosAtContact.y},Z=ao(G,J);return{angle:Z.angle,fraction:yr(Z.fraction)}},[H,U,r,mi]);b.useEffect(()=>{const M=tt();ot(M.angle),je(M.fraction)},[tt]);const Ot=b.useCallback(()=>{const M=n.current;if(!M)return;const $=M.getContext("2d");if(!$)return;if($.clearRect(0,0,cn,wn),Es($),Te&&pt.length>0){const J=pt[Xe];if(J.objectBalls.forEach((Z,ue)=>{if(!Z.pocketed){const ae=Ae[ue];if(ae!==void 0){const te={x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:ae};kr($,te,ae)}}}),J.cueBall){const Z={x:J.cueBall.x,y:J.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};gi($,Z)}return}if(U&&W.length>0&&!Te){const J=W.filter(Z=>Z.cueBall).map(Z=>Z.cueBall);J.length>0&&($.strokeStyle="#FFFF00",$.lineWidth=4,$.beginPath(),$.moveTo(J[0].x,J[0].y),J.forEach(Z=>$.lineTo(Z.x,Z.y)),$.stroke()),Ae.forEach((Z,ue)=>{if(Z===void 0)return;const ae=W.map(te=>te.objectBalls[ue]).filter(te=>te&&!te.pocketed);if(ae.length>0){const te=Al[Z];$.strokeStyle=te.color,$.lineWidth=4,$.beginPath(),$.moveTo(ae[0].x,ae[0].y),ae.forEach(ye=>$.lineTo(ye.x,ye.y)),$.stroke()}})}const G=H();if(G&&!U&&r){ma($,r.x,r.y,G.current.x,G.current.y);const J=mi(r.x,r.y,G.current.x,G.current.y);J&&(yi($,J.path),J.objectPaths&&J.objectPaths.length>0&&J.objectPaths.forEach(Z=>{if(Z.length>=2){const ue=Z[0].color;$.strokeStyle=ue,$.lineWidth=4,$.setLineDash([6,4]),$.beginPath(),$.moveTo(Z[0].x,Z[0].y);for(let Oe=1;Oe<Z.length;Oe++)$.lineTo(Z[Oe].x,Z[Oe].y);$.stroke(),$.setLineDash([]);const ae=Z[Z.length-1],te=Z[Math.max(0,Z.length-5)],ye=ae.x-te.x,Ee=ae.y-te.y;if(Math.sqrt(ye*ye+Ee*Ee)>5){const Oe=Math.atan2(Ee,ye),ft=10;$.fillStyle=ue,$.beginPath(),$.moveTo(ae.x,ae.y),$.lineTo(ae.x-ft*Math.cos(Oe-Math.PI/6),ae.y-ft*Math.sin(Oe-Math.PI/6)),$.lineTo(ae.x-ft*Math.cos(Oe+Math.PI/6),ae.y-ft*Math.sin(Oe+Math.PI/6)),$.closePath(),$.fill()}}}),J.hitBall&&J.cueBallPosAtContact&&J.cueBallDeflection&&(Ts($,J.cueBallPosAtContact.x,J.cueBallPosAtContact.y),Wo($,J.cueBallPosAtContact,J.cueBallDeflection)))}o.forEach((J,Z)=>{if(J.number&&kr($,J,J.number),u&&u.type==="object"&&u.index===Z){const ue=Al[J.number||1];Kr($,J.x,J.y,ue.color)}}),r&&(gi($,r),u&&u.type==="cue"&&Kr($,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,x,S,U,W,mi,Es,H,u,Te,Xe,pt,Ae,rn]);b.useEffect(()=>{Ot()},[Ot]),b.useEffect(()=>{if(rn){const M=setTimeout(()=>Ot(),50);return()=>clearTimeout(M)}},[rn,Ot]);const K=M=>{const $=n.current;if(!$)return;const G=$.getBoundingClientRect(),J=cn/G.width,Z=wn/G.height,ue=(M.clientX-G.left)*J,ae=(M.clientY-G.top)*Z,te=a==="cue",{x:ye,y:Ee}=Dn(ue,ae,void 0,te);if(a==="cue"){if($n(ye,Ee)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ye,y:Ee,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if($n(ye,Ee)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Ht(a);if(Se!==null)s(Oe=>[...Oe,{x:ye,y:Ee,vx:0,vy:0,spinX:0,spinY:0,number:Se}]),a==="eight"&&l(null);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&An({x:ue,y:ae},r)<Ke*2){d({type:"cue"});return}for(let Se=0;Se<o.length;Se++)if(An({x:ue,y:ae},o[Se])<Ke*2){d({type:"object",index:Se});return}}else if(a==="remove"){if(r&&An({x:ue,y:ae},r)<Ke*2){i(null);return}for(let Se=0;Se<o.length;Se++)if(An({x:ue,y:ae},o[Se])<Ke*2){s(ft=>ft.filter((sn,Wn)=>Wn!==Se));return}}else r&&!U&&(v({x:r.x,y:r.y}),w({x:ue,y:ae}))},Ne=M=>{const $=n.current;if(!$)return;const G=$.getBoundingClientRect(),J=cn/G.width,Z=wn/G.height,ue=(M.clientX-G.left)*J,ae=(M.clientY-G.top)*Z;if(u){const te=u.type==="cue",ye=u.type==="object"?u.index:void 0,{x:Ee,y:Se}=Dn(ue,ae,ye,te);$n(Ee,Se)||(u.type==="cue"&&r?i({...r,x:Ee,y:Se}):u.type==="object"&&u.index!==void 0&&s(Oe=>Oe.map((ft,sn)=>sn===u.index?{...ft,x:Ee,y:Se}:ft)))}else g&&!U&&w({x:ue,y:ae})},me=()=>{u&&d(null),g&&x&&We(),v(null),w(null)},Q=b.useCallback((M,$)=>{const G=n.current;if(!G)return null;const J=G.getBoundingClientRect(),Z=cn/J.width,ue=wn/J.height,ae=(M-J.left)*Z,te=($-J.top)*ue;return{rawX:ae,rawY:te}},[]),Be=b.useCallback(M=>{var ye,Ee;if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],G=Q($.clientX,$.clientY);if(!G)return;const{rawX:J,rawY:Z}=G,ue=a==="cue",{x:ae,y:te}=Dn(J,Z,void 0,ue);if(a==="cue"){if($n(ae,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ae,y:te,vx:0,vy:0,spinX:0,spinY:0}),l(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if($n(ae,te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Ht(a);if(Se!==null)s(Oe=>[...Oe,{x:ae,y:te,vx:0,vy:0,spinX:0,spinY:0,number:Se}]),a==="eight"&&l(null);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&An({x:J,y:Z},r)<Ke*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Se=0;Se<o.length;Se++)if(An({x:J,y:Z},o[Se])<Ke*2){d({type:"object",index:Se});const ft=o[Se].number;e({title:`Drag to reposition ${ft?(ye=Al[ft])==null?void 0:ye.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&An({x:J,y:Z},r)<Ke*2){i(null),e({title:"Cue ball removed"});return}for(let Se=0;Se<o.length;Se++)if(An({x:J,y:Z},o[Se])<Ke*2){const ft=o[Se].number,sn=ft?(Ee=Al[ft])==null?void 0:Ee.name:"ball";s(Wn=>Wn.filter((Li,vr)=>vr!==Se)),e({title:`${sn} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!U&&(v({x:r.x,y:r.y}),w({x:J,y:Z}))},[r,o,a,U,Q,Dn,Ht,e]),$e=b.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const $=M.touches[0],G=Q($.clientX,$.clientY);if(!G)return;const{rawX:J,rawY:Z}=G;if(u){const ue=u.type==="cue",ae=u.type==="object"?u.index:void 0,{x:te,y:ye}=Dn(J,Z,ae,ue);$n(te,ye)||(u.type==="cue"&&r?i({...r,x:te,y:ye}):u.type==="object"&&u.index!==void 0&&s(Ee=>Ee.map((Se,Oe)=>Oe===u.index?{...Se,x:te,y:ye}:Se)))}else g&&!U&&w({x:J,y:Z})},[r,u,g,U,Q,Dn]),ut=b.useCallback(M=>{M.preventDefault(),u&&d(null),g&&x&&We(),v(null),w(null)},[u,g,x,We,e]);b.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",Be,{passive:!1}),M.addEventListener("touchmove",$e,{passive:!1}),M.addEventListener("touchend",ut,{passive:!1}),M.addEventListener("touchcancel",ut,{passive:!1}),()=>{M.removeEventListener("touchstart",Be),M.removeEventListener("touchmove",$e),M.removeEventListener("touchend",ut),M.removeEventListener("touchcancel",ut)}},[Be,$e,ut]);const Ft=()=>{if(!X){e({title:"Please select a course first",variant:"destructive"});return}const M=Mje[X];if(!M)return;const G=(Z=>{const ue=[...Z];for(let ae=ue.length-1;ae>0;ae--){const te=Math.floor(Math.random()*(ae+1));[ue[ae],ue[te]]=[ue[te],ue[ae]]}return ue})(Array.from({length:15},(Z,ue)=>ue+1)),J=M.balls.map((Z,ue)=>({x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:G[ue]}));s(J),i({x:Ue[2],y:ze[2],vx:0,vy:0,spinX:0,spinY:0}),C(null),F(!1),ne([]),be(M.name),e({title:`Loaded: ${M.name}`})},Jt=()=>{i(null),s([]),F(!1),ne([]),be(null),ie(""),e({title:"Table cleared"})};b.useCallback(()=>{Ct.current&&(cancelAnimationFrame(Ct.current),Ct.current=null),Ye(!1)},[]),b.useEffect(()=>{if(!Te||pt.length===0)return;const M=2,$=16,G=J=>{Ut.current===0&&(Ut.current=J);const Z=J-Ut.current;if(Z>=$){const ue=Math.floor(Z/$)*M,ae=Math.min(Xe+ue,pt.length-1);if(st(ae),Ut.current=J,ae>=pt.length-1){const te=pt[pt.length-1];te.cueBall?i(ye=>ye?{...ye,x:te.cueBall.x,y:te.cueBall.y,vx:0,vy:0}:null):i(null),s(ye=>ye.map((Ee,Se)=>{const Oe=te.objectBalls[Se];return!Oe||Oe.pocketed?null:{...Ee,x:Oe.x,y:Oe.y,vx:0,vy:0}}).filter(Ee=>Ee!==null)),Ye(!1),C(null);return}}Ct.current=requestAnimationFrame(G)};return Ct.current=requestAnimationFrame(G),()=>{Ct.current&&cancelAnimationFrame(Ct.current)}},[Te,Xe,pt]);const qt=M=>{const $=M.currentTarget.getBoundingClientRect(),G=M.clientX-$.left,J=M.clientY-$.top,Z=G/100*2-1,ue=-(J/100*2-1);T(Z),k(ue)},nr=(r?1:0)+o.length,rr=Gr().toFixed(3),jt=Ir().toFixed(3);return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx(xC,{open:le,onComplete:gn,pages:mn,toolName:"Advanced Cueing Emulator"}),rn&&c.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[c.jsxs("div",{className:"flex items-center justify-between p-2",children:[c.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),c.jsx(de,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>pn(!1),"data-testid":"button-close-fullscreen",children:c.jsx(Ex,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:c.jsx("canvas",{ref:n,width:cn,height:wn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:zn?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:K,onMouseMove:Ne,onMouseUp:me,onMouseLeave:me,"data-testid":"canvas-fullscreen-table"})}),c.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),c.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})]}),c.jsx(Gc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>De(M,(S==null?void 0:S.distance)??Pe()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>De(((S==null?void 0:S.angle)??re())-.01,(S==null?void 0:S.distance)??Pe()),"data-testid":"button-fullscreen-left",children:" 0.01"}),c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>De(((S==null?void 0:S.angle)??re())+.01,(S==null?void 0:S.distance)??Pe()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(ke!==null||xe!==null)&&c.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:c.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[c.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(ke==null?void 0:ke.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})]}),c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>pn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:c.jsx(SH,{className:"w-5 h-5"})}),c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>z(!0),"data-testid":"button-tutorial",children:c.jsx(Wp,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(nt,{className:"p-4",children:[!rn&&c.jsx("canvas",{ref:n,width:cn,height:wn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:cn,touchAction:"none"},onMouseDown:K,onMouseMove:Ne,onMouseUp:me,onMouseLeave:me,"data-testid":"canvas-billiard-table"}),(ke!==null||xe!==null)&&c.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",c.jsxs("span",{className:"font-mono",children:[(ke==null?void 0:ke.toFixed(1))??"--",""]})]}),c.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",c.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})}),c.jsx("div",{className:"w-full lg:w-80",children:c.jsx(nt,{className:"p-2",children:c.jsxs(ah,{type:"multiple",className:"w-full",children:[c.jsxs(So,{value:"practice-courses",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),c.jsx(Eo,{className:"px-2 space-y-3",children:c.jsx(ev,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs(BF,{value:X,onValueChange:ie,children:[c.jsx(yC,{"data-testid":"select-course",children:c.jsx(UF,{placeholder:"-- Select a Course --"})}),c.jsxs(vC,{children:[c.jsx(or,{value:"par2_01",children:"Par 2 - Course 1"}),c.jsx(or,{value:"par2_02",children:"Par 2 - Course 2"}),c.jsx(or,{value:"par2_03",children:"Par 2 - Course 3"}),c.jsx(or,{value:"par3_01",children:"Par 3 - Course 1"}),c.jsx(or,{value:"par3_02",children:"Par 3 - Course 2"}),c.jsx(or,{value:"par3_03",children:"Par 3 - Course 3"}),c.jsx(or,{value:"par3_04",children:"Par 3 - Course 4"}),c.jsx(or,{value:"par4_01",children:"Par 4 - Course 1"}),c.jsx(or,{value:"par4_02",children:"Par 4 - Course 2"}),c.jsx(or,{value:"par4_03",children:"Par 4 - Course 3"}),c.jsx(or,{value:"par4_04",children:"Par 4 - Course 4"}),c.jsx(or,{value:"par4_05",children:"Par 4 - Course 5"}),c.jsx(or,{value:"par5_01",children:"Par 5 - Course 1"}),c.jsx(or,{value:"par5_02",children:"Par 5 - Course 2"}),c.jsx(or,{value:"par5_03",children:"Par 5 - Course 3"}),c.jsx(or,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),c.jsx(de,{className:"w-full",onClick:Ft,"data-testid":"button-load-course",children:"Load Course"}),ce&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",c.jsx("span",{className:"text-primary font-semibold",children:ce})]})]})})})]}),c.jsxs(So,{value:"ball-placement",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),c.jsxs(Eo,{className:"px-2 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(yH,{className:"w-3 h-3 text-muted-foreground"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),c.jsx(ji,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[c.jsx(FR,{size:14}),c.jsx("span",{className:"ml-1",children:"Cue"})]}),c.jsxs(de,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[c.jsx(VR,{size:14}),c.jsx("span",{className:"ml-1",children:"Solid"})]}),c.jsxs(de,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[c.jsx(BR,{size:14}),c.jsx("span",{className:"ml-1",children:"Stripe"})]}),c.jsxs(de,{variant:a==="eight"?"default":"secondary",className:"flex-1",onClick:()=>{a==="eight"?l(null):tr()||l("eight")},disabled:a!=="eight"&&tr(),"data-testid":"button-add-eight",children:[c.jsx(UR,{size:14}),c.jsx("span",{className:"ml-1",children:"8 Ball"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[c.jsx(DN,{className:"w-4 h-4 mr-1"}),"Move"]}),c.jsxs(de,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[c.jsx(CH,{className:"w-4 h-4 mr-1"}),"Remove"]}),c.jsxs(de,{variant:"secondary",className:"flex-1",onClick:Jt,"data-testid":"button-clear",children:[c.jsx(rT,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",nr]})]})]}),c.jsxs(So,{value:"power-aim",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4"}),"Power & Aim"]})}),c.jsxs(Eo,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),c.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),c.jsx(Gc,{value:[E*100],onValueChange:([M])=>A(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),c.jsxs("div",{className:"border-t border-border pt-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?c.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>C(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[c.jsx(bH,{className:"w-3 h-3 mr-1"}),"Clear"]}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&x?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??re()).toFixed(2),""]})}),c.jsx(Gc,{value:[(S==null?void 0:S.angle)??re()],onValueChange:([M])=>De(M,(S==null?void 0:S.distance)??Pe()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"90"}),c.jsx("span",{children:"180"}),c.jsx("span",{children:"270"}),c.jsx("span",{children:"360"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>De(((S==null?void 0:S.angle)??re())-.1,(S==null?void 0:S.distance)??Pe()),"data-testid":"button-aim-left",children:" 0.10"}),c.jsx(de,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>De(((S==null?void 0:S.angle)??re())+.1,(S==null?void 0:S.distance)??Pe()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):c.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[c.jsx(k1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),c.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),c.jsxs(So,{value:"english-spin",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),c.jsxs(Eo,{className:"px-2 space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:qt,"data-testid":"box-spin",children:[c.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),c.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),c.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-N)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),c.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),c.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),c.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[c.jsxs("span",{children:["x: ",_.toFixed(2)]}),c.jsxs("span",{children:["y: ",N.toFixed(2)]})]})]})]}),c.jsxs(So,{value:"environment",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),c.jsxs(Eo,{className:"px-2 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),c.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:mr().label})]}),c.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>c.jsx(de,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>V(M),"data-testid":`button-table-${M}`,children:M},M))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),c.jsx(Gc,{value:[j*100],onValueChange:([M])=>R(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Slow"}),c.jsx("span",{children:"Fast"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),c.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(O*100),"%"]})]}),c.jsx(Gc,{value:[O*100],onValueChange:([M])=>L(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Dead"}),c.jsx("span",{children:"Lively"})]})]}),c.jsxs("div",{className:"pt-2 border-t border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[c.jsx(jH,{className:"w-3 h-3"}),"Table Presets"]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),c.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const $=se[M];return c.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${$?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>Lt(M),onMouseUp:()=>Ge(M),onMouseLeave:()=>{we.current&&(clearTimeout(we.current),we.current=null)},onTouchStart:()=>Lt(M),onTouchEnd:()=>Ge(M),"data-testid":`button-preset-${M+1}`,children:$?c.jsxs("span",{children:[Math.round($.clothSpeed*100),"/",Math.round($.cushionQuality*100)]}):c.jsx("span",{children:"--"})},M)})})]})]})]}),c.jsxs(So,{value:"physics",className:"border-b-0",children:[c.jsx(_o,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),c.jsx(Eo,{className:"px-2",children:c.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:rr})]}),c.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[c.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),c.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:jt})]})]})})]})]})})})]})})})]})}function $je(){const[,t]=gl(),[e,n]=b.useState(null);b.useEffect(()=>{n(xt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),u=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${u}m`:u>0?`${u}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||xt.hasAnyConsent());return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!xt.hasAnyConsent()&&c.jsx(nt,{className:"p-4 bg-primary/5 border-primary/20",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),c.jsx(de,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&c.jsxs(c.Fragment,{children:[c.jsx(nt,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:c.jsx(aL,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ms,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),c.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),u=s%60;return c.jsxs(c.Fragment,{children:[a>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),c.jsx("span",{className:"text-3xl font-bold text-foreground",children:u}),c.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Ey,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(tT,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&c.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(R1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),c.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]})]}),!o&&xt.hasAnyConsent()&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function Lje(){const[,t]=gl(),[e,n]=b.useState(""),[r,i]=b.useState(!1),[o,s]=b.useState(!1),[a,l]=b.useState(null),[u,d]=b.useState(null),f=async()=>{if(e){s(!0),l(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const y=await m.json();d(y),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}};b.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),b.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&c.jsx(de,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:c.jsx(AH,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&c.jsxs(nt,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Rh,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(cr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&c.jsx("p",{className:"text-sm text-destructive",children:a}),c.jsx(de,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Fl,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:u.uniqueUsers})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(lc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:u.totalSubmissions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(Ey,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:u.aggregateStats.totalSessions})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[c.jsx(tT,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:u.aggregateStats.totalTimeHours})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(Mh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsxs("p",{className:"text-lg font-bold",children:[u.aggregateStats.avgShotTime,"s"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalShots}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(cL,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.avgBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.maxBreakSpeed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalBreaks}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[c.jsx(Ey,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalCalibrations}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),u.recentSubmissions.length>0&&c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),c.jsx("div",{className:"space-y-2",children:u.recentSubmissions.map((m,y)=>c.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[c.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),c.jsxs("span",{children:[m.sessions," sessions"]}),c.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},y))})]}),u.totalSubmissions===0&&c.jsxs(nt,{className:"p-6 text-center",children:[c.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),c.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const Fje=.0254,Vje=.02,Bje=.005;function Uje(){const[,t]=gl(),[e,n]=b.useState(!1),[r,i]=b.useState("Click Start to begin"),[o,s]=b.useState(0),[a,l]=b.useState(.05),[u,d]=b.useState(.22),[f,h]=b.useState(0),[m,y]=b.useState(null),[g,v]=b.useState(null),[x,w]=b.useState(null),[S,C]=b.useState(null),[E,A]=b.useState(null),[_,T]=b.useState([]),[N,k]=b.useState(0),[j,R]=b.useState(60),[O,L]=b.useState(.22),[B,V]=b.useState(2.8),[U,F]=b.useState(.06),[W,ne]=b.useState(.01),[X,ie]=b.useState(.25),[ce,be]=b.useState(300),[ke,ot]=b.useState(6e3),xe=b.useRef(null),je=b.useRef(null),se=b.useRef(!1),pe=b.useRef(.05),le=b.useRef(0),z=b.useRef(null),we=b.useCallback(_e=>{T(Ae=>[_e,...Ae].slice(0,100))},[]),Te=async()=>{i("Requesting microphone..."),T([]),h(0),y(null),v(null),w(null),A(null),C(null),pe.current=.05,le.current=0,z.current=null;try{const _e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});je.current=_e;const Ae=new AudioContext({sampleRate:48e3});xe.current=Ae,Ae.state==="suspended"&&await Ae.resume(),i(`AudioContext: ${Ae.state}`);const Me=Ae.createMediaStreamSource(_e),Ct=Ae.createBiquadFilter();Ct.type="highpass",Ct.frequency.value=ce;const Ut=Ae.createBiquadFilter();Ut.type="lowpass",Ut.frequency.value=ke;const rn=Ae.createAnalyser();rn.fftSize=2048,Me.connect(Ct),Ct.connect(Ut),Ut.connect(rn),se.current=!0,n(!0),we({type:"info",time:0,max:0,thresh:0,floor:0});const pn=new Float32Array(rn.fftSize);let zn=0;const Nr=()=>{if(!se.current)return;zn++,zn%30===0&&(k(zn),i(`Listening (frame ${zn})`)),rn.getFloatTimeDomainData(pn);let mn=0;for(let Lt=0;Lt<pn.length;Lt++)mn=Math.max(mn,Math.abs(pn[Lt]));zn<=3&&we({type:"debug",time:Ae.currentTime,max:mn,thresh:0,floor:pe.current});const gn=pe.current;pe.current=mn>gn?gn+Vje*(mn-gn):gn-Bje*(gn-mn),pe.current=Math.max(.02,Math.min(.6,pe.current));const Qt=Ae.currentTime,yn=Math.max(O,pe.current*B);if(s(mn),l(pe.current),d(yn),mn>yn&&Qt-le.current>U)if(le.current=Qt,h(Lt=>Lt+1),C(mn),z.current===null)z.current=Qt,y(Qt),we({type:"tip",time:Qt,max:mn,thresh:yn,floor:pe.current});else{const Lt=Qt-z.current;if(v(Qt),w(Lt),Lt>=W&&Lt<=X){we({type:"rack",time:Qt,max:mn,thresh:yn,floor:pe.current,deltaT:Lt});const mr=j*Fje/Lt*2.23693629;A(mr),z.current=null}else we({type:"rejected",time:Qt,max:mn,thresh:yn,floor:pe.current,deltaT:Lt,reason:Lt<W?"too fast":"too slow"}),Lt>X&&(z.current=Qt,y(Qt))}requestAnimationFrame(Nr)};requestAnimationFrame(Nr)}catch(_e){console.error(_e),i(`ERROR: ${_e.message}`),n(!1)}},Ye=()=>{se.current=!1,je.current&&je.current.getTracks().forEach(_e=>_e.stop()),xe.current&&xe.current.close(),n(!1),i("Stopped")},Xe=()=>{T([]),h(0),y(null),v(null),w(null),A(null),C(null)},st=()=>{const _e={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:O,floorMult:B,refractTime:U,minDeltaT:W,maxDeltaT:X,hpfFreq:ce,lpfFreq:ke},peaks:_},Ae=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),Me=URL.createObjectURL(Ae),Ct=document.createElement("a");Ct.href=Me,Ct.download=`break-debug-${Date.now()}.json`,Ct.click(),URL.revokeObjectURL(Me)};b.useEffect(()=>()=>{se.current=!1,je.current&&je.current.getTracks().forEach(_e=>_e.stop()),xe.current&&xe.current.close()},[]);const pt=_e=>{switch(_e){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[c.jsx(de,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:c.jsx(Ro,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),c.jsx("main",{className:"flex-1 p-4 overflow-auto",children:c.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(de,{onClick:e?Ye:Te,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?c.jsx(EH,{className:"w-4 h-4 mr-2"}):c.jsx(TH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),c.jsxs(de,{variant:"secondary",onClick:Xe,"data-testid":"button-clear",children:[c.jsx(rT,{className:"w-4 h-4 mr-2"}),"Clear"]}),c.jsxs(de,{variant:"secondary",onClick:st,"data-testid":"button-export",children:[c.jsx(oL,{className:"w-4 h-4 mr-2"}),"Export"]})]}),c.jsxs(nt,{className:"p-4 bg-muted/30",children:[c.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",c.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",N]})]}),E!==null&&c.jsxs(nt,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[c.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),c.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",x==null?void 0:x.toFixed(4),"s | Distance: ",j,'"']})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Current"}),c.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[c.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${u*100}%`}})]}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Floor"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs w-16",children:"Thresh"}),c.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:c.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${u*100}%`}})}),c.jsx("span",{className:"text-xs font-mono w-14 text-right",children:u.toFixed(3)})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold text-primary",children:f}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),c.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[c.jsx("p",{className:"text-lg font-bold font-mono",children:(x==null?void 0:x.toFixed(4))??"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Distance (in)"}),c.jsx(cr,{type:"number",value:j,onChange:_e=>R(+_e.target.value),className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Min Threshold"}),c.jsx(cr,{type:"number",value:O,onChange:_e=>L(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Floor Multiplier"}),c.jsx(cr,{type:"number",value:B,onChange:_e=>V(+_e.target.value),step:"0.1",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Refractory (s)"}),c.jsx(cr,{type:"number",value:U,onChange:_e=>F(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Min Delta T (s)"}),c.jsx(cr,{type:"number",value:W,onChange:_e=>ne(+_e.target.value),step:"0.005",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"Max Delta T (s)"}),c.jsx(cr,{type:"number",value:X,onChange:_e=>ie(+_e.target.value),step:"0.01",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"HPF Freq (Hz)"}),c.jsx(cr,{type:"number",value:ce,onChange:_e=>be(+_e.target.value),step:"50",className:"h-8"})]}),c.jsxs("div",{children:[c.jsx(tn,{className:"text-xs",children:"LPF Freq (Hz)"}),c.jsx(cr,{type:"number",value:ke,onChange:_e=>ot(+_e.target.value),step:"100",className:"h-8"})]})]})]}),c.jsxs(nt,{className:"p-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),c.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((_e,Ae)=>c.jsxs("div",{className:`flex justify-between ${pt(_e.type)}`,children:[c.jsxs("span",{children:[_e.type.toUpperCase()," @ ",_e.time.toFixed(4),"s"]}),c.jsxs("span",{children:["max: ",_e.max.toFixed(4)," ",_e.deltaT?`dt: ${_e.deltaT.toFixed(4)}`:""," ",_e.reason||""]})]},Ae))})]})]})})]})}function zje(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(nt,{className:"w-full max-w-md mx-4",children:c.jsxs(w5,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(dH,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Wje=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),Hje=t=>{window.location.hash=t},qje=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),Gje=()=>window.location.hash.replace(/^#/,"")||"/";function Kje(){const t=b.useSyncExternalStore(qje,Gje,()=>"/"),e=b.useCallback(n=>Hje(n),[]);return[t,e]}function Yje(){return c.jsx(w$,{hook:Wje?Kje:void 0,children:c.jsxs($7,{children:[c.jsx(As,{path:"/",component:Nre}),c.jsx(As,{path:"/break-speed",component:mie}),c.jsx(As,{path:"/shot-clock",component:dje}),c.jsx(As,{path:"/table-level",component:hje}),c.jsx(As,{path:"/cue-emulator",component:Dje}),c.jsx(As,{path:"/insights",component:$je}),c.jsx(As,{path:"/admin/analytics",component:Lje}),c.jsx(As,{path:"/debug/audio",component:Uje}),c.jsx(As,{component:zje})]})})}function Xje(){return c.jsx(aW,{client:uW,children:c.jsx(WG,{children:c.jsx(cte,{children:c.jsx(ute,{children:c.jsxs(UG,{children:[c.jsx(gq,{}),c.jsx(Yje,{})]})})})})})}const HP=t=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; font-family: monospace; color: #ff6b6b; background: #1a1a2e;">
        <h2>Error Loading App</h2>
        <pre style="white-space: pre-wrap; word-break: break-word;">${t instanceof Error?t.message+`
`+t.stack:t}</pre>
      </div>
    `)};window.onerror=(t,e,n,r,i)=>{HP(i||String(t))};window.onunhandledrejection=t=>{HP(t.reason)};try{u$(document.getElementById("root")).render(c.jsx(Xje,{}))}catch(t){HP(t)}
