var uP=t=>{throw TypeError(t)};var rb=(t,e,n)=>e.has(t)||uP("Cannot "+n);var he=(t,e,n)=>(rb(t,e,"read from private field"),n?n.call(t):e.get(t)),Dt=(t,e,n)=>e.has(t)?uP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xt=(t,e,n,r)=>(rb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(rb(t,e,"access private method"),n);var bm=(t,e,n,r)=>({set _(i){xt(t,e,i,n)},get _(){return he(t,e,r)}});function H9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sM={exports:{}},rx={},oM={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=Symbol.for("react.element"),q9=Symbol.for("react.portal"),G9=Symbol.for("react.fragment"),K9=Symbol.for("react.strict_mode"),Y9=Symbol.for("react.profiler"),X9=Symbol.for("react.provider"),Q9=Symbol.for("react.context"),J9=Symbol.for("react.forward_ref"),Z9=Symbol.for("react.suspense"),e8=Symbol.for("react.memo"),t8=Symbol.for("react.lazy"),dP=Symbol.iterator;function n8(t){return t===null||typeof t!="object"?null:(t=dP&&t[dP]||t["@@iterator"],typeof t=="function"?t:null)}var aM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lM=Object.assign,cM={};function Td(t,e,n){this.props=t,this.context=e,this.refs=cM,this.updater=n||aM}Td.prototype.isReactComponent={};Td.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Td.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uM(){}uM.prototype=Td.prototype;function rE(t,e,n){this.props=t,this.context=e,this.refs=cM,this.updater=n||aM}var iE=rE.prototype=new uM;iE.constructor=rE;lM(iE,Td.prototype);iE.isPureReactComponent=!0;var fP=Array.isArray,dM=Object.prototype.hasOwnProperty,sE={current:null},fM={key:!0,ref:!0,__self:!0,__source:!0};function hM(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dM.call(e,r)&&!fM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mp,type:t,key:s,ref:o,props:i,_owner:sE.current}}function r8(t,e){return{$$typeof:Mp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mp}function i8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hP=/\/+/g;function ib(t,e){return typeof t=="object"&&t!==null&&t.key!=null?i8(""+t.key):e.toString(36)}function xg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mp:case q9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ib(o,0):r,fP(i)?(n="",t!=null&&(n=t.replace(hP,"$&/")+"/"),xg(i,e,n,"",function(u){return u})):i!=null&&(oE(i)&&(i=r8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",fP(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ib(s,a);o+=xg(s,e,n,c,i)}else if(c=n8(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ib(s,a++),o+=xg(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sm(t,e,n){if(t==null)return t;var r=[],i=0;return xg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function s8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},bg={transition:null},o8={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:bg,ReactCurrentOwner:sE};function pM(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Sm,forEach:function(t,e,n){Sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sm(t,function(){e++}),e},toArray:function(t){return Sm(t,function(e){return e})||[]},only:function(t){if(!oE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=Td;St.Fragment=G9;St.Profiler=Y9;St.PureComponent=rE;St.StrictMode=K9;St.Suspense=Z9;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o8;St.act=pM;St.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)dM.call(e,c)&&!fM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mp,type:t.type,key:i,ref:s,props:r,_owner:o}};St.createContext=function(t){return t={$$typeof:Q9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X9,_context:t},t.Consumer=t};St.createElement=hM;St.createFactory=function(t){var e=hM.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:J9,render:t}};St.isValidElement=oE;St.lazy=function(t){return{$$typeof:t8,_payload:{_status:-1,_result:t},_init:s8}};St.memo=function(t,e){return{$$typeof:e8,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=bg.transition;bg.transition={};try{t()}finally{bg.transition=e}};St.unstable_act=pM;St.useCallback=function(t,e){return Zr.current.useCallback(t,e)};St.useContext=function(t){return Zr.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};St.useEffect=function(t,e){return Zr.current.useEffect(t,e)};St.useId=function(){return Zr.current.useId()};St.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};St.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return Zr.current.useMemo(t,e)};St.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};St.useRef=function(t){return Zr.current.useRef(t)};St.useState=function(t){return Zr.current.useState(t)};St.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};St.useTransition=function(){return Zr.current.useTransition()};St.version="18.3.1";oM.exports=St;var x=oM.exports;const q=Zt(x),mM=H9({__proto__:null,default:q},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=x,l8=Symbol.for("react.element"),c8=Symbol.for("react.fragment"),u8=Object.prototype.hasOwnProperty,d8=a8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f8={key:!0,ref:!0,__self:!0,__source:!0};function gM(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)u8.call(e,r)&&!f8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:l8,type:t,key:s,ref:o,props:i,_owner:d8.current}}rx.Fragment=c8;rx.jsx=gM;rx.jsxs=gM;sM.exports=rx;var l=sM.exports,yM={exports:{}},Li={},vM={exports:{}},xM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var re=$.length;$.push(z);e:for(;0<re;){var se=re-1>>>1,Q=$[se];if(0<i(Q,z))$[se]=z,$[re]=Q,re=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],re=$.pop();if(re!==z){$[0]=re;e:for(var se=0,Q=$.length,ge=Q>>>1;se<ge;){var pe=2*(se+1)-1,Ee=$[pe],tt=pe+1,xe=$[tt];if(0>i(Ee,re))tt<Q&&0>i(xe,Ee)?($[se]=xe,$[tt]=re,se=tt):($[se]=Ee,$[pe]=re,se=pe);else if(tt<Q&&0>i(xe,re))$[se]=xe,$[tt]=re,se=tt;else break e}}return z}function i($,z){var re=$.sortIndex-z.sortIndex;return re!==0?re:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=$)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function A($){if(g=!1,S($),!v)if(n(c)!==null)v=!0,U(E);else{var z=n(u);z!==null&&W(A,z.startTime-$)}}function E($,z){v=!1,g&&(g=!1,b(T),T=-1),m=!0;var re=h;try{for(S(z),f=n(c);f!==null&&(!(f.expirationTime>z)||$&&!j());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var Q=se(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),S(z)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var pe=n(u);pe!==null&&W(A,pe.startTime-z),ge=!1}return ge}finally{f=null,h=re,m=!1}}var N=!1,_=null,T=-1,P=5,I=-1;function j(){return!(t.unstable_now()-I<P)}function O(){if(_!==null){var $=t.unstable_now();I=$;var z=!0;try{z=_(!0,$)}finally{z?R():(N=!1,_=null)}}else N=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){y(O,0)};function U($){_=$,N||(N=!0,R())}function W($,z){T=y(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,U(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var re=h;h=z;try{return $()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=h;h=$;try{return z()}finally{h=re}},t.unstable_scheduleCallback=function($,z,re){var se=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?se+re:se):re=se,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=re+Q,$={id:d++,callback:z,priorityLevel:$,startTime:re,expirationTime:Q,sortIndex:-1},re>se?($.sortIndex=re,e(u,$),n(c)===null&&$===n(u)&&(g?(b(T),T=-1):g=!0,W(A,re-se))):($.sortIndex=Q,e(c,$),v||m||(v=!0,U(E))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var z=h;return function(){var re=h;h=z;try{return $.apply(this,arguments)}finally{h=re}}}})(xM);vM.exports=xM;var h8=vM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=x,Mi=h8;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bM=new Set,ph={};function Sc(t,e){Lu(t,e),Lu(t+"Capture",e)}function Lu(t,e){for(ph[t]=e,t=0;t<e.length;t++)bM.add(e[t])}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fw=Object.prototype.hasOwnProperty,m8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pP={},mP={};function g8(t){return Fw.call(mP,t)?!0:Fw.call(pP,t)?!1:m8.test(t)?mP[t]=!0:(pP[t]=!0,!1)}function y8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v8(t,e,n,r){if(e===null||typeof e>"u"||y8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var aE=/[\-:]([a-z])/g;function lE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aE,lE);Ar[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aE,lE);Ar[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aE,lE);Ar[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function cE(t,e,n,r){var i=Ar.hasOwnProperty(e)?Ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v8(e,n,i,r)&&(n=null),r||i===null?g8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=p8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_m=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),uE=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),SM=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Uw=Symbol.for("react.suspense_list"),fE=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),_M=Symbol.for("react.offscreen"),gP=Symbol.iterator;function cf(t){return t===null||typeof t!="object"?null:(t=gP&&t[gP]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,sb;function kf(t){if(sb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sb=e&&e[1]||""}return`
`+sb+t}var ob=!1;function ab(t,e){if(!t||ob)return"";ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ob=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kf(t):""}function x8(t){switch(t.tag){case 5:return kf(t.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return t=ab(t.type,!1),t;case 11:return t=ab(t.type.render,!1),t;case 1:return t=ab(t.type,!0),t;default:return""}}function zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xc:return"Fragment";case Yc:return"Portal";case Vw:return"Profiler";case uE:return"StrictMode";case Bw:return"Suspense";case Uw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SM:return(t.displayName||"Context")+".Consumer";case wM:return(t._context.displayName||"Context")+".Provider";case dE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fE:return e=t.displayName||null,e!==null?e:zw(t.type)||"Memo";case Ca:e=t._payload,t=t._init;try{return zw(t(e))}catch{}}return null}function b8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zw(e);case 8:return e===uE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w8(t){var e=EM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Em(t){t._valueTracker||(t._valueTracker=w8(t))}function TM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ww(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CM(t,e){e=e.checked,e!=null&&cE(t,"checked",e,!1)}function Hw(t,e){CM(t,e);var n=rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qw(t,e.type,n):e.hasOwnProperty("defaultValue")&&qw(t,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qw(t,e,n){(e!=="number"||Qg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var If=Array.isArray;function uu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(If(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rl(n)}}function AM(t,e){var n=rl(e.value),r=rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tm,NM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tm=Tm||document.createElement("div"),Tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S8=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(t){S8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uf[e]=Uf[t]})});function jM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uf.hasOwnProperty(t)&&Uf[t]?(""+e).trim():e+"px"}function kM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _8=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(t,e){if(e){if(_8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function Xw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qw=null;function hE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jw=null,du=null,fu=null;function wP(t){if(t=$p(t)){if(typeof Jw!="function")throw Error(be(280));var e=t.stateNode;e&&(e=lx(e),Jw(t.stateNode,t.type,e))}}function IM(t){du?fu?fu.push(t):fu=[t]:du=t}function OM(){if(du){var t=du,e=fu;if(fu=du=null,wP(t),e)for(t=0;t<e.length;t++)wP(e[t])}}function RM(t,e){return t(e)}function MM(){}var lb=!1;function DM(t,e,n){if(lb)return t(e,n);lb=!0;try{return RM(t,e,n)}finally{lb=!1,(du!==null||fu!==null)&&(MM(),OM())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=lx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var Zw=!1;if(Ko)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){Zw=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{Zw=!1}function E8(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zf=!1,Jg=null,Zg=!1,e1=null,T8={onError:function(t){zf=!0,Jg=t}};function C8(t,e,n,r,i,s,o,a,c){zf=!1,Jg=null,E8.apply(T8,arguments)}function A8(t,e,n,r,i,s,o,a,c){if(C8.apply(this,arguments),zf){if(zf){var u=Jg;zf=!1,Jg=null}else throw Error(be(198));Zg||(Zg=!0,e1=u)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SP(t){if(_c(t)!==t)throw Error(be(188))}function P8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return SP(i),t;if(s===r)return SP(i),e;s=s.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function $M(t){return t=P8(t),t!==null?FM(t):null}function FM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FM(t);if(e!==null)return e;t=t.sibling}return null}var VM=Mi.unstable_scheduleCallback,_P=Mi.unstable_cancelCallback,N8=Mi.unstable_shouldYield,j8=Mi.unstable_requestPaint,Rn=Mi.unstable_now,k8=Mi.unstable_getCurrentPriorityLevel,pE=Mi.unstable_ImmediatePriority,BM=Mi.unstable_UserBlockingPriority,ey=Mi.unstable_NormalPriority,I8=Mi.unstable_LowPriority,UM=Mi.unstable_IdlePriority,ix=null,io=null;function O8(t){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(ix,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:D8,R8=Math.log,M8=Math.LN2;function D8(t){return t>>>=0,t===0?32:31-(R8(t)/M8|0)|0}var Cm=64,Am=4194304;function Of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ty(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Of(a):(s&=o,s!==0&&(r=Of(s)))}else o=n&~i,o!==0?r=Of(o):s!==0&&(r=Of(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Os(e),i=1<<n,r|=t[n],e&=~i;return r}function L8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Os(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=L8(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function t1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zM(){var t=Cm;return Cm<<=1,!(Cm&4194240)&&(Cm=64),t}function cb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=n}function F8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Os(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function WM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HM,gE,qM,GM,KM,n1=!1,Pm=[],Ua=null,za=null,Wa=null,yh=new Map,vh=new Map,Na=[],V8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EP(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function df(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$p(e),e!==null&&gE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B8(t,e,n,r,i){switch(e){case"focusin":return Ua=df(Ua,t,e,n,r,i),!0;case"dragenter":return za=df(za,t,e,n,r,i),!0;case"mouseover":return Wa=df(Wa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yh.set(s,df(yh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vh.set(s,df(vh.get(s)||null,t,e,n,r,i)),!0}return!1}function YM(t){var e=Ml(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=LM(n),e!==null){t.blockedOn=e,KM(t.priority,function(){qM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qw=r,n.target.dispatchEvent(r),Qw=null}else return e=$p(n),e!==null&&gE(e),t.blockedOn=n,!1;e.shift()}return!0}function TP(t,e,n){wg(t)&&n.delete(e)}function U8(){n1=!1,Ua!==null&&wg(Ua)&&(Ua=null),za!==null&&wg(za)&&(za=null),Wa!==null&&wg(Wa)&&(Wa=null),yh.forEach(TP),vh.forEach(TP)}function ff(t,e){t.blockedOn===e&&(t.blockedOn=null,n1||(n1=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,U8)))}function xh(t){function e(i){return ff(i,t)}if(0<Pm.length){ff(Pm[0],t);for(var n=1;n<Pm.length;n++){var r=Pm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ua!==null&&ff(Ua,t),za!==null&&ff(za,t),Wa!==null&&ff(Wa,t),yh.forEach(e),vh.forEach(e),n=0;n<Na.length;n++)r=Na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)YM(n),n.blockedOn===null&&Na.shift()}var hu=la.ReactCurrentBatchConfig,ny=!0;function z8(t,e,n,r){var i=Vt,s=hu.transition;hu.transition=null;try{Vt=1,yE(t,e,n,r)}finally{Vt=i,hu.transition=s}}function W8(t,e,n,r){var i=Vt,s=hu.transition;hu.transition=null;try{Vt=4,yE(t,e,n,r)}finally{Vt=i,hu.transition=s}}function yE(t,e,n,r){if(ny){var i=r1(t,e,n,r);if(i===null)xb(t,e,r,ry,n),EP(t,r);else if(B8(i,t,e,n,r))r.stopPropagation();else if(EP(t,r),e&4&&-1<V8.indexOf(t)){for(;i!==null;){var s=$p(i);if(s!==null&&HM(s),s=r1(t,e,n,r),s===null&&xb(t,e,r,ry,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xb(t,e,r,null,n)}}var ry=null;function r1(t,e,n,r){if(ry=null,t=hE(r),t=Ml(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ry=t,null}function XM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k8()){case pE:return 1;case BM:return 4;case ey:case I8:return 16;case UM:return 536870912;default:return 16}default:return 16}}var $a=null,vE=null,Sg=null;function QM(){if(Sg)return Sg;var t,e=vE,n=e.length,r,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sg=i.slice(t,1<r?1-r:void 0)}function _g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nm(){return!0}function CP(){return!1}function $i(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nm:CP,this.isPropagationStopped=CP,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nm)},persist:function(){},isPersistent:Nm}),e}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=$i(Cd),Lp=Cn({},Cd,{view:0,detail:0}),H8=$i(Lp),ub,db,hf,sx=Cn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hf&&(hf&&t.type==="mousemove"?(ub=t.screenX-hf.screenX,db=t.screenY-hf.screenY):db=ub=0,hf=t),ub)},movementY:function(t){return"movementY"in t?t.movementY:db}}),AP=$i(sx),q8=Cn({},sx,{dataTransfer:0}),G8=$i(q8),K8=Cn({},Lp,{relatedTarget:0}),fb=$i(K8),Y8=Cn({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),X8=$i(Y8),Q8=Cn({},Cd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J8=$i(Q8),Z8=Cn({},Cd,{data:0}),PP=$i(Z8),ez={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nz[t])?!!e[t]:!1}function bE(){return rz}var iz=Cn({},Lp,{key:function(t){if(t.key){var e=ez[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bE,charCode:function(t){return t.type==="keypress"?_g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sz=$i(iz),oz=Cn({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NP=$i(oz),az=Cn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bE}),lz=$i(az),cz=Cn({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),uz=$i(cz),dz=Cn({},sx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fz=$i(dz),hz=[9,13,27,32],wE=Ko&&"CompositionEvent"in window,Wf=null;Ko&&"documentMode"in document&&(Wf=document.documentMode);var pz=Ko&&"TextEvent"in window&&!Wf,JM=Ko&&(!wE||Wf&&8<Wf&&11>=Wf),jP=" ",kP=!1;function ZM(t,e){switch(t){case"keyup":return hz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qc=!1;function mz(t,e){switch(t){case"compositionend":return eD(e);case"keypress":return e.which!==32?null:(kP=!0,jP);case"textInput":return t=e.data,t===jP&&kP?null:t;default:return null}}function gz(t,e){if(Qc)return t==="compositionend"||!wE&&ZM(t,e)?(t=QM(),Sg=vE=$a=null,Qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JM&&e.locale!=="ko"?null:e.data;default:return null}}var yz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yz[t.type]:e==="textarea"}function tD(t,e,n,r){IM(r),e=iy(e,"onChange"),0<e.length&&(n=new xE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,bh=null;function vz(t){fD(t,0)}function ox(t){var e=eu(t);if(TM(e))return t}function xz(t,e){if(t==="change")return e}var nD=!1;if(Ko){var hb;if(Ko){var pb="oninput"in document;if(!pb){var OP=document.createElement("div");OP.setAttribute("oninput","return;"),pb=typeof OP.oninput=="function"}hb=pb}else hb=!1;nD=hb&&(!document.documentMode||9<document.documentMode)}function RP(){Hf&&(Hf.detachEvent("onpropertychange",rD),bh=Hf=null)}function rD(t){if(t.propertyName==="value"&&ox(bh)){var e=[];tD(e,bh,t,hE(t)),DM(vz,e)}}function bz(t,e,n){t==="focusin"?(RP(),Hf=e,bh=n,Hf.attachEvent("onpropertychange",rD)):t==="focusout"&&RP()}function wz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(bh)}function Sz(t,e){if(t==="click")return ox(e)}function _z(t,e){if(t==="input"||t==="change")return ox(e)}function Ez(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:Ez;function wh(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fw.call(e,i)||!Ls(t[i],e[i]))return!1}return!0}function MP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DP(t,e){var n=MP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MP(n)}}function iD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sD(){for(var t=window,e=Qg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qg(t.document)}return e}function SE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tz(t){var e=sD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iD(n.ownerDocument.documentElement,n)){if(r!==null&&SE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=DP(n,s);var o=DP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cz=Ko&&"documentMode"in document&&11>=document.documentMode,Jc=null,i1=null,qf=null,s1=!1;function LP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s1||Jc==null||Jc!==Qg(r)||(r=Jc,"selectionStart"in r&&SE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&wh(qf,r)||(qf=r,r=iy(i1,"onSelect"),0<r.length&&(e=new xE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jc)))}function jm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zc={animationend:jm("Animation","AnimationEnd"),animationiteration:jm("Animation","AnimationIteration"),animationstart:jm("Animation","AnimationStart"),transitionend:jm("Transition","TransitionEnd")},mb={},oD={};Ko&&(oD=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function ax(t){if(mb[t])return mb[t];if(!Zc[t])return t;var e=Zc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oD)return mb[t]=e[n];return t}var aD=ax("animationend"),lD=ax("animationiteration"),cD=ax("animationstart"),uD=ax("transitionend"),dD=new Map,$P="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){dD.set(t,e),Sc(e,[t])}for(var gb=0;gb<$P.length;gb++){var yb=$P[gb],Az=yb.toLowerCase(),Pz=yb[0].toUpperCase()+yb.slice(1);pl(Az,"on"+Pz)}pl(aD,"onAnimationEnd");pl(lD,"onAnimationIteration");pl(cD,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(uD,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function FP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A8(r,e,void 0,t),t.currentTarget=null}function fD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;FP(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;FP(i,a,u),s=c}}}if(Zg)throw t=e1,Zg=!1,e1=null,t}function an(t,e){var n=e[u1];n===void 0&&(n=e[u1]=new Set);var r=t+"__bubble";n.has(r)||(hD(e,t,2,!1),n.add(r))}function vb(t,e,n){var r=0;e&&(r|=4),hD(n,t,r,e)}var km="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[km]){t[km]=!0,bM.forEach(function(n){n!=="selectionchange"&&(Nz.has(n)||vb(n,!1,t),vb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[km]||(e[km]=!0,vb("selectionchange",!1,e))}}function hD(t,e,n,r){switch(XM(e)){case 1:var i=z8;break;case 4:i=W8;break;default:i=yE}n=i.bind(null,e,n,t),i=void 0,!Zw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ml(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DM(function(){var u=s,d=hE(n),f=[];e:{var h=dD.get(t);if(h!==void 0){var m=xE,v=t;switch(t){case"keypress":if(_g(n)===0)break e;case"keydown":case"keyup":m=sz;break;case"focusin":v="focus",m=fb;break;case"focusout":v="blur",m=fb;break;case"beforeblur":case"afterblur":m=fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=AP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=G8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lz;break;case aD:case lD:case cD:m=X8;break;case uD:m=uz;break;case"scroll":m=H8;break;case"wheel":m=fz;break;case"copy":case"cut":case"paste":m=J8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=NP}var g=(e&4)!==0,y=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,S;w!==null;){S=w;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,b!==null&&(A=gh(w,b),A!=null&&g.push(_h(w,A,S)))),y)break;w=w.return}0<g.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Qw&&(v=n.relatedTarget||n.fromElement)&&(Ml(v)||v[Yo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ml(v):null,v!==null&&(y=_c(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=AP,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=NP,A="onPointerLeave",b="onPointerEnter",w="pointer"),y=m==null?h:eu(m),S=v==null?h:eu(v),h=new g(A,w+"leave",m,n,d),h.target=y,h.relatedTarget=S,A=null,Ml(d)===u&&(g=new g(b,w+"enter",v,n,d),g.target=S,g.relatedTarget=y,A=g),y=A,m&&v)t:{for(g=m,b=v,w=0,S=g;S;S=Rc(S))w++;for(S=0,A=b;A;A=Rc(A))S++;for(;0<w-S;)g=Rc(g),w--;for(;0<S-w;)b=Rc(b),S--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=Rc(g),b=Rc(b)}g=null}else g=null;m!==null&&VP(f,h,m,g,!1),v!==null&&y!==null&&VP(f,y,v,g,!0)}}e:{if(h=u?eu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=xz;else if(IP(h))if(nD)E=_z;else{E=wz;var N=bz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Sz);if(E&&(E=E(t,u))){tD(f,E,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&qw(h,"number",h.value)}switch(N=u?eu(u):window,t){case"focusin":(IP(N)||N.contentEditable==="true")&&(Jc=N,i1=u,qf=null);break;case"focusout":qf=i1=Jc=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,LP(f,n,d);break;case"selectionchange":if(Cz)break;case"keydown":case"keyup":LP(f,n,d)}var _;if(wE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qc?ZM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JM&&n.locale!=="ko"&&(Qc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qc&&(_=QM()):($a=d,vE="value"in $a?$a.value:$a.textContent,Qc=!0)),N=iy(u,T),0<N.length&&(T=new PP(T,t,null,n,d),f.push({event:T,listeners:N}),_?T.data=_:(_=eD(n),_!==null&&(T.data=_)))),(_=pz?mz(t,n):gz(t,n))&&(u=iy(u,"onBeforeInput"),0<u.length&&(d=new PP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}fD(f,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gh(t,n),s!=null&&r.unshift(_h(t,s,i)),s=gh(t,e),s!=null&&r.push(_h(t,s,i))),t=t.return}return r}function Rc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=gh(n,s),c!=null&&o.unshift(_h(n,c,a))):i||(c=gh(n,s),c!=null&&o.push(_h(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jz=/\r\n?/g,kz=/\u0000|\uFFFD/g;function BP(t){return(typeof t=="string"?t:""+t).replace(jz,`
`).replace(kz,"")}function Im(t,e,n){if(e=BP(e),BP(t)!==e&&n)throw Error(be(425))}function sy(){}var o1=null,a1=null;function l1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,Iz=typeof clearTimeout=="function"?clearTimeout:void 0,UP=typeof Promise=="function"?Promise:void 0,Oz=typeof queueMicrotask=="function"?queueMicrotask:typeof UP<"u"?function(t){return UP.resolve(null).then(t).catch(Rz)}:c1;function Rz(t){setTimeout(function(){throw t})}function bb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xh(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ad=Math.random().toString(36).slice(2),to="__reactFiber$"+Ad,Eh="__reactProps$"+Ad,Yo="__reactContainer$"+Ad,u1="__reactEvents$"+Ad,Mz="__reactListeners$"+Ad,Dz="__reactHandles$"+Ad;function Ml(t){var e=t[to];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[to]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zP(t);t!==null;){if(n=t[to])return n;t=zP(t)}return e}t=n,n=t.parentNode}return null}function $p(t){return t=t[to]||t[Yo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function lx(t){return t[Eh]||null}var d1=[],tu=-1;function ml(t){return{current:t}}function fn(t){0>tu||(t.current=d1[tu],d1[tu]=null,tu--)}function nn(t,e){tu++,d1[tu]=t.current,t.current=e}var il={},Wr=ml(il),fi=ml(!1),rc=il;function $u(t,e){var n=t.type.contextTypes;if(!n)return il;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function oy(){fn(fi),fn(Wr)}function WP(t,e,n){if(Wr.current!==il)throw Error(be(168));nn(Wr,e),nn(fi,n)}function pD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,b8(t)||"Unknown",i));return Cn({},n,r)}function ay(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||il,rc=Wr.current,nn(Wr,t),nn(fi,fi.current),!0}function HP(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=pD(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,fn(fi),fn(Wr),nn(Wr,t)):fn(fi),nn(fi,n)}var Oo=null,cx=!1,wb=!1;function mD(t){Oo===null?Oo=[t]:Oo.push(t)}function Lz(t){cx=!0,mD(t)}function gl(){if(!wb&&Oo!==null){wb=!0;var t=0,e=Vt;try{var n=Oo;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Oo=null,cx=!1}catch(i){throw Oo!==null&&(Oo=Oo.slice(t+1)),VM(pE,gl),i}finally{Vt=e,wb=!1}}return null}var nu=[],ru=0,ly=null,cy=0,Gi=[],Ki=0,ic=null,Lo=1,$o="";function Nl(t,e){nu[ru++]=cy,nu[ru++]=ly,ly=t,cy=e}function gD(t,e,n){Gi[Ki++]=Lo,Gi[Ki++]=$o,Gi[Ki++]=ic,ic=t;var r=Lo;t=$o;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var s=32-Os(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lo=1<<32-Os(e)+i|n<<i|r,$o=s+t}else Lo=1<<s|n<<i|r,$o=t}function _E(t){t.return!==null&&(Nl(t,1),gD(t,1,0))}function EE(t){for(;t===ly;)ly=nu[--ru],nu[ru]=null,cy=nu[--ru],nu[ru]=null;for(;t===ic;)ic=Gi[--Ki],Gi[Ki]=null,$o=Gi[--Ki],Gi[Ki]=null,Lo=Gi[--Ki],Gi[Ki]=null}var Oi=null,Ii=null,mn=!1,Ts=null;function yD(t,e){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,Ii=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,Ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:Lo,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oi=t,Ii=null,!0):!1;default:return!1}}function f1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function h1(t){if(mn){var e=Ii;if(e){var n=e;if(!qP(t,e)){if(f1(t))throw Error(be(418));e=Ha(n.nextSibling);var r=Oi;e&&qP(t,e)?yD(r,n):(t.flags=t.flags&-4097|2,mn=!1,Oi=t)}}else{if(f1(t))throw Error(be(418));t.flags=t.flags&-4097|2,mn=!1,Oi=t}}}function GP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function Om(t){if(t!==Oi)return!1;if(!mn)return GP(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l1(t.type,t.memoizedProps)),e&&(e=Ii)){if(f1(t))throw vD(),Error(be(418));for(;e;)yD(t,e),e=Ha(e.nextSibling)}if(GP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ii=Ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ii=null}}else Ii=Oi?Ha(t.stateNode.nextSibling):null;return!0}function vD(){for(var t=Ii;t;)t=Ha(t.nextSibling)}function Fu(){Ii=Oi=null,mn=!1}function TE(t){Ts===null?Ts=[t]:Ts.push(t)}var $z=la.ReactCurrentBatchConfig;function pf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Rm(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KP(t){var e=t._init;return e(t._payload)}function xD(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Ya(b,w),b.index=0,b.sibling=null,b}function s(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,S,A){return w===null||w.tag!==6?(w=Pb(S,b.mode,A),w.return=b,w):(w=i(w,S),w.return=b,w)}function c(b,w,S,A){var E=S.type;return E===Xc?d(b,w,S.props.children,A,S.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&KP(E)===w.type)?(A=i(w,S.props),A.ref=pf(b,w,S),A.return=b,A):(A=jg(S.type,S.key,S.props,null,b.mode,A),A.ref=pf(b,w,S),A.return=b,A)}function u(b,w,S,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Nb(S,b.mode,A),w.return=b,w):(w=i(w,S.children||[]),w.return=b,w)}function d(b,w,S,A,E){return w===null||w.tag!==7?(w=Ql(S,b.mode,A,E),w.return=b,w):(w=i(w,S),w.return=b,w)}function f(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pb(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _m:return S=jg(w.type,w.key,w.props,null,b.mode,S),S.ref=pf(b,null,w),S.return=b,S;case Yc:return w=Nb(w,b.mode,S),w.return=b,w;case Ca:var A=w._init;return f(b,A(w._payload),S)}if(If(w)||cf(w))return w=Ql(w,b.mode,S,null),w.return=b,w;Rm(b,w)}return null}function h(b,w,S,A){var E=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(b,w,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _m:return S.key===E?c(b,w,S,A):null;case Yc:return S.key===E?u(b,w,S,A):null;case Ca:return E=S._init,h(b,w,E(S._payload),A)}if(If(S)||cf(S))return E!==null?null:d(b,w,S,A,null);Rm(b,S)}return null}function m(b,w,S,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(S)||null,a(w,b,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _m:return b=b.get(A.key===null?S:A.key)||null,c(w,b,A,E);case Yc:return b=b.get(A.key===null?S:A.key)||null,u(w,b,A,E);case Ca:var N=A._init;return m(b,w,S,N(A._payload),E)}if(If(A)||cf(A))return b=b.get(S)||null,d(w,b,A,E,null);Rm(w,A)}return null}function v(b,w,S,A){for(var E=null,N=null,_=w,T=w=0,P=null;_!==null&&T<S.length;T++){_.index>T?(P=_,_=null):P=_.sibling;var I=h(b,_,S[T],A);if(I===null){_===null&&(_=P);break}t&&_&&I.alternate===null&&e(b,_),w=s(I,w,T),N===null?E=I:N.sibling=I,N=I,_=P}if(T===S.length)return n(b,_),mn&&Nl(b,T),E;if(_===null){for(;T<S.length;T++)_=f(b,S[T],A),_!==null&&(w=s(_,w,T),N===null?E=_:N.sibling=_,N=_);return mn&&Nl(b,T),E}for(_=r(b,_);T<S.length;T++)P=m(_,b,T,S[T],A),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?T:P.key),w=s(P,w,T),N===null?E=P:N.sibling=P,N=P);return t&&_.forEach(function(j){return e(b,j)}),mn&&Nl(b,T),E}function g(b,w,S,A){var E=cf(S);if(typeof E!="function")throw Error(be(150));if(S=E.call(S),S==null)throw Error(be(151));for(var N=E=null,_=w,T=w=0,P=null,I=S.next();_!==null&&!I.done;T++,I=S.next()){_.index>T?(P=_,_=null):P=_.sibling;var j=h(b,_,I.value,A);if(j===null){_===null&&(_=P);break}t&&_&&j.alternate===null&&e(b,_),w=s(j,w,T),N===null?E=j:N.sibling=j,N=j,_=P}if(I.done)return n(b,_),mn&&Nl(b,T),E;if(_===null){for(;!I.done;T++,I=S.next())I=f(b,I.value,A),I!==null&&(w=s(I,w,T),N===null?E=I:N.sibling=I,N=I);return mn&&Nl(b,T),E}for(_=r(b,_);!I.done;T++,I=S.next())I=m(_,b,T,I.value,A),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?T:I.key),w=s(I,w,T),N===null?E=I:N.sibling=I,N=I);return t&&_.forEach(function(O){return e(b,O)}),mn&&Nl(b,T),E}function y(b,w,S,A){if(typeof S=="object"&&S!==null&&S.type===Xc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _m:e:{for(var E=S.key,N=w;N!==null;){if(N.key===E){if(E=S.type,E===Xc){if(N.tag===7){n(b,N.sibling),w=i(N,S.props.children),w.return=b,b=w;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ca&&KP(E)===N.type){n(b,N.sibling),w=i(N,S.props),w.ref=pf(b,N,S),w.return=b,b=w;break e}n(b,N);break}else e(b,N);N=N.sibling}S.type===Xc?(w=Ql(S.props.children,b.mode,A,S.key),w.return=b,b=w):(A=jg(S.type,S.key,S.props,null,b.mode,A),A.ref=pf(b,w,S),A.return=b,b=A)}return o(b);case Yc:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=i(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Nb(S,b.mode,A),w.return=b,b=w}return o(b);case Ca:return N=S._init,y(b,w,N(S._payload),A)}if(If(S))return v(b,w,S,A);if(cf(S))return g(b,w,S,A);Rm(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,S),w.return=b,b=w):(n(b,w),w=Pb(S,b.mode,A),w.return=b,b=w),o(b)):n(b,w)}return y}var Vu=xD(!0),bD=xD(!1),uy=ml(null),dy=null,iu=null,CE=null;function AE(){CE=iu=dy=null}function PE(t){var e=uy.current;fn(uy),t._currentValue=e}function p1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pu(t,e){dy=t,CE=iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function rs(t){var e=t._currentValue;if(CE!==t)if(t={context:t,memoizedValue:e,next:null},iu===null){if(dy===null)throw Error(be(308));iu=t,dy.dependencies={lanes:0,firstContext:t}}else iu=iu.next=t;return e}var Dl=null;function NE(t){Dl===null?Dl=[t]:Dl.push(t)}function wD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xo(t,r)}function Xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function jE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xo(t,n)}return i=r.interleaved,i===null?(e.next=e,NE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xo(t,n)}function Eg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mE(t,n)}}function YP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fy(t,e,n,r){var i=t.updateQueue;Aa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Cn({},f,h);break e;case 2:Aa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oc|=o,t.lanes=o,t.memoizedState=f}}function XP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Fp={},so=ml(Fp),Th=ml(Fp),Ch=ml(Fp);function Ll(t){if(t===Fp)throw Error(be(174));return t}function kE(t,e){switch(nn(Ch,e),nn(Th,t),nn(so,Fp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kw(e,t)}fn(so),nn(so,e)}function Bu(){fn(so),fn(Th),fn(Ch)}function _D(t){Ll(Ch.current);var e=Ll(so.current),n=Kw(e,t.type);e!==n&&(nn(Th,t),nn(so,n))}function IE(t){Th.current===t&&(fn(so),fn(Th))}var Sn=ml(0);function hy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sb=[];function OE(){for(var t=0;t<Sb.length;t++)Sb[t]._workInProgressVersionPrimary=null;Sb.length=0}var Tg=la.ReactCurrentDispatcher,_b=la.ReactCurrentBatchConfig,sc=0,Tn=null,Jn=null,dr=null,py=!1,Gf=!1,Ah=0,Fz=0;function Rr(){throw Error(be(321))}function RE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function ME(t,e,n,r,i,s){if(sc=s,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tg.current=t===null||t.memoizedState===null?zz:Wz,t=n(r,i),Gf){s=0;do{if(Gf=!1,Ah=0,25<=s)throw Error(be(301));s+=1,dr=Jn=null,e.updateQueue=null,Tg.current=Hz,t=n(r,i)}while(Gf)}if(Tg.current=my,e=Jn!==null&&Jn.next!==null,sc=0,dr=Jn=Tn=null,py=!1,e)throw Error(be(300));return t}function DE(){var t=Ah!==0;return Ah=0,t}function Ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Tn.memoizedState=dr=t:dr=dr.next=t,dr}function is(){if(Jn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Jn.next;var e=dr===null?Tn.memoizedState:dr.next;if(e!==null)dr=e,Jn=t;else{if(t===null)throw Error(be(310));Jn=t,t={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},dr===null?Tn.memoizedState=dr=t:dr=dr.next=t}return dr}function Ph(t,e){return typeof e=="function"?e(t):e}function Eb(t){var e=is(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=Jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((sc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Tn.lanes|=d,oc|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Ls(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tn.lanes|=s,oc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tb(t){var e=is(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ls(s,e.memoizedState)||(ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ED(){}function TD(t,e){var n=Tn,r=is(),i=e(),s=!Ls(r.memoizedState,i);if(s&&(r.memoizedState=i,ui=!0),r=r.queue,LE(PD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Nh(9,AD.bind(null,n,r,i,e),void 0,null),pr===null)throw Error(be(349));sc&30||CD(n,e,i)}return i}function CD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AD(t,e,n,r){e.value=n,e.getSnapshot=r,ND(e)&&jD(t)}function PD(t,e,n){return n(function(){ND(e)&&jD(t)})}function ND(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function jD(t){var e=Xo(t,1);e!==null&&Rs(e,t,1,-1)}function QP(t){var e=Ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},e.queue=t,t=t.dispatch=Uz.bind(null,Tn,t),[e.memoizedState,t]}function Nh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kD(){return is().memoizedState}function Cg(t,e,n,r){var i=Ks();Tn.flags|=t,i.memoizedState=Nh(1|e,n,void 0,r===void 0?null:r)}function ux(t,e,n,r){var i=is();r=r===void 0?null:r;var s=void 0;if(Jn!==null){var o=Jn.memoizedState;if(s=o.destroy,r!==null&&RE(r,o.deps)){i.memoizedState=Nh(e,n,s,r);return}}Tn.flags|=t,i.memoizedState=Nh(1|e,n,s,r)}function JP(t,e){return Cg(8390656,8,t,e)}function LE(t,e){return ux(2048,8,t,e)}function ID(t,e){return ux(4,2,t,e)}function OD(t,e){return ux(4,4,t,e)}function RD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MD(t,e,n){return n=n!=null?n.concat([t]):null,ux(4,4,RD.bind(null,e,t),n)}function $E(){}function DD(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LD(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $D(t,e,n){return sc&21?(Ls(n,e)||(n=zM(),Tn.lanes|=n,oc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function Vz(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=_b.transition;_b.transition={};try{t(!1),e()}finally{Vt=n,_b.transition=r}}function FD(){return is().memoizedState}function Bz(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VD(t))BD(e,n);else if(n=wD(t,e,n,r),n!==null){var i=Jr();Rs(n,t,r,i),UD(n,e,r)}}function Uz(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VD(t))BD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ls(a,o)){var c=e.interleaved;c===null?(i.next=i,NE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=wD(t,e,i,r),n!==null&&(i=Jr(),Rs(n,t,r,i),UD(n,e,r))}}function VD(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function BD(t,e){Gf=py=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mE(t,n)}}var my={readContext:rs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},zz={readContext:rs,useCallback:function(t,e){return Ks().memoizedState=[t,e===void 0?null:e],t},useContext:rs,useEffect:JP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cg(4194308,4,RD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cg(4,2,t,e)},useMemo:function(t,e){var n=Ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bz.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=Ks();return t={current:t},e.memoizedState=t},useState:QP,useDebugValue:$E,useDeferredValue:function(t){return Ks().memoizedState=t},useTransition:function(){var t=QP(!1),e=t[0];return t=Vz.bind(null,t[1]),Ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=Ks();if(mn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),pr===null)throw Error(be(349));sc&30||CD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,JP(PD.bind(null,r,s,t),[t]),r.flags|=2048,Nh(9,AD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ks(),e=pr.identifierPrefix;if(mn){var n=$o,r=Lo;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ah++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wz={readContext:rs,useCallback:DD,useContext:rs,useEffect:LE,useImperativeHandle:MD,useInsertionEffect:ID,useLayoutEffect:OD,useMemo:LD,useReducer:Eb,useRef:kD,useState:function(){return Eb(Ph)},useDebugValue:$E,useDeferredValue:function(t){var e=is();return $D(e,Jn.memoizedState,t)},useTransition:function(){var t=Eb(Ph)[0],e=is().memoizedState;return[t,e]},useMutableSource:ED,useSyncExternalStore:TD,useId:FD,unstable_isNewReconciler:!1},Hz={readContext:rs,useCallback:DD,useContext:rs,useEffect:LE,useImperativeHandle:MD,useInsertionEffect:ID,useLayoutEffect:OD,useMemo:LD,useReducer:Tb,useRef:kD,useState:function(){return Tb(Ph)},useDebugValue:$E,useDeferredValue:function(t){var e=is();return Jn===null?e.memoizedState=t:$D(e,Jn.memoizedState,t)},useTransition:function(){var t=Tb(Ph)[0],e=is().memoizedState;return[t,e]},useMutableSource:ED,useSyncExternalStore:TD,useId:FD,unstable_isNewReconciler:!1};function xs(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dx={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),s=zo(r,i);s.payload=e,n!=null&&(s.callback=n),e=qa(t,s,i),e!==null&&(Rs(e,t,i,r),Eg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Ka(t),s=zo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qa(t,s,i),e!==null&&(Rs(e,t,i,r),Eg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=Ka(t),i=zo(n,r);i.tag=2,e!=null&&(i.callback=e),e=qa(t,i,r),e!==null&&(Rs(e,t,r,n),Eg(e,t,r))}};function ZP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,s):!0}function zD(t,e,n){var r=!1,i=il,s=e.contextType;return typeof s=="object"&&s!==null?s=rs(s):(i=hi(e)?rc:Wr.current,r=e.contextTypes,s=(r=r!=null)?$u(t,i):il),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function eN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dx.enqueueReplaceState(e,e.state,null)}function g1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rs(s):(s=hi(e)?rc:Wr.current,i.context=$u(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(m1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dx.enqueueReplaceState(i,i.state,null),fy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uu(t,e){try{var n="",r=e;do n+=x8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qz=typeof WeakMap=="function"?WeakMap:Map;function WD(t,e,n){n=zo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yy||(yy=!0,A1=r),y1(t,e)},n}function HD(t,e,n){n=zo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){y1(t,e),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=o7.bind(null,t,e,n),e.then(t,t))}function nN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zo(-1,1),e.tag=2,qa(n,e,1))),n.lanes|=1),t)}var Gz=la.ReactCurrentOwner,ui=!1;function Yr(t,e,n,r){e.child=t===null?bD(e,null,n,r):Vu(e,t.child,n,r)}function iN(t,e,n,r,i){n=n.render;var s=e.ref;return pu(e,i),r=ME(t,e,n,r,s,i),n=DE(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qo(t,e,i)):(mn&&n&&_E(e),e.flags|=1,Yr(t,e,r,i),e.child)}function sN(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qD(t,e,s,r,i)):(t=jg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,r)&&t.ref===e.ref)return Qo(t,e,i)}return e.flags|=1,t=Ya(s,r),t.ref=e.ref,t.return=e,e.child=t}function qD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wh(s,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,Qo(t,e,i)}return v1(t,e,n,r,i)}function GD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(ou,Ti),Ti|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(ou,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nn(ou,Ti),Ti|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nn(ou,Ti),Ti|=r;return Yr(t,e,i,n),e.child}function KD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function v1(t,e,n,r,i){var s=hi(n)?rc:Wr.current;return s=$u(e,s),pu(e,i),n=ME(t,e,n,r,s,i),r=DE(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qo(t,e,i)):(mn&&r&&_E(e),e.flags|=1,Yr(t,e,n,i),e.child)}function oN(t,e,n,r,i){if(hi(n)){var s=!0;ay(e)}else s=!1;if(pu(e,i),e.stateNode===null)Ag(t,e),zD(e,n,r),g1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rs(u):(u=hi(n)?rc:Wr.current,u=$u(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&eN(e,o,r,u),Aa=!1;var h=e.memoizedState;o.state=h,fy(e,r,o,i),c=e.memoizedState,a!==r||h!==c||fi.current||Aa?(typeof d=="function"&&(m1(e,n,d,r),c=e.memoizedState),(a=Aa||ZP(e,n,a,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SD(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xs(e.type,a),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rs(c):(c=hi(n)?rc:Wr.current,c=$u(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&eN(e,o,r,c),Aa=!1,h=e.memoizedState,o.state=h,fy(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||fi.current||Aa?(typeof m=="function"&&(m1(e,n,m,r),v=e.memoizedState),(u=Aa||ZP(e,n,u,r,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return x1(t,e,n,r,s,i)}function x1(t,e,n,r,i,s){KD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&HP(e,n,!1),Qo(t,e,s);r=e.stateNode,Gz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vu(e,t.child,null,s),e.child=Vu(e,null,a,s)):Yr(t,e,a,s),e.memoizedState=r.state,i&&HP(e,n,!0),e.child}function YD(t){var e=t.stateNode;e.pendingContext?WP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WP(t,e.context,!1),kE(t,e.containerInfo)}function aN(t,e,n,r,i){return Fu(),TE(i),e.flags|=256,Yr(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function w1(t){return{baseLanes:t,cachePool:null,transitions:null}}function XD(t,e,n){var r=e.pendingProps,i=Sn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nn(Sn,i&1),t===null)return h1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=px(o,r,0,null),t=Ql(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=w1(n),e.memoizedState=b1,t):FE(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Kz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ya(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ya(a,s):(s=Ql(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?w1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return s=t.child,t=s.sibling,r=Ya(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function FE(t,e){return e=px({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mm(t,e,n,r){return r!==null&&TE(r),Vu(e,t.child,null,n),t=FE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cb(Error(be(422))),Mm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=px({mode:"visible",children:r.children},i,0,null),s=Ql(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vu(e,t.child,null,o),e.child.memoizedState=w1(o),e.memoizedState=b1,s);if(!(e.mode&1))return Mm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(be(419)),r=Cb(s,r,void 0),Mm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ui||a){if(r=pr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xo(t,i),Rs(r,t,i,-1))}return HE(),r=Cb(Error(be(421))),Mm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ii=Ha(i.nextSibling),Oi=e,mn=!0,Ts=null,t!==null&&(Gi[Ki++]=Lo,Gi[Ki++]=$o,Gi[Ki++]=ic,Lo=t.id,$o=t.overflow,ic=e),e=FE(e,r.children),e.flags|=4096,e)}function lN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),p1(t.return,e,n)}function Ab(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lN(t,n,e);else if(t.tag===19)lN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ab(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ab(e,!0,n,null,s);break;case"together":Ab(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ag(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yz(t,e,n){switch(e.tag){case 3:YD(e),Fu();break;case 5:_D(e);break;case 1:hi(e.type)&&ay(e);break;case 4:kE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nn(uy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?XD(t,e,n):(nn(Sn,Sn.current&1),t=Qo(t,e,n),t!==null?t.sibling:null);nn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,GD(t,e,n)}return Qo(t,e,n)}var JD,S1,ZD,eL;JD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S1=function(){};ZD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ll(so.current);var s=null;switch(n){case"input":i=Ww(t,i),r=Ww(t,r),s=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),s=[];break;case"textarea":i=Gw(t,i),r=Gw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sy)}Yw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ph.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ph.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&an("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eL=function(t,e,n,r){n!==r&&(e.flags|=4)};function mf(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xz(t,e,n){var r=e.pendingProps;switch(EE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return hi(e.type)&&oy(),Mr(e),null;case 3:return r=e.stateNode,Bu(),fn(fi),fn(Wr),OE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Om(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ts!==null&&(j1(Ts),Ts=null))),S1(t,e),Mr(e),null;case 5:IE(e);var i=Ll(Ch.current);if(n=e.type,t!==null&&e.stateNode!=null)ZD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Mr(e),null}if(t=Ll(so.current),Om(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[to]=e,r[Eh]=s,t=(e.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":yP(r,s),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r);break;case"textarea":xP(r,s),an("invalid",r)}Yw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Im(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Im(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&an("scroll",r)}switch(n){case"input":Em(r),vP(r,s,!0);break;case"textarea":Em(r),bP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[to]=e,t[Eh]=r,JD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xw(n,r),n){case"dialog":an("cancel",t),an("close",t),i=r;break;case"iframe":case"object":case"embed":an("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rf.length;i++)an(Rf[i],t);i=r;break;case"source":an("error",t),i=r;break;case"img":case"image":case"link":an("error",t),an("load",t),i=r;break;case"details":an("toggle",t),i=r;break;case"input":yP(t,r),i=Ww(t,r),an("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),an("invalid",t);break;case"textarea":xP(t,r),i=Gw(t,r),an("invalid",t);break;default:i=r}Yw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?kM(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NM(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mh(t,c):typeof c=="number"&&mh(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ph.hasOwnProperty(s)?c!=null&&s==="onScroll"&&an("scroll",t):c!=null&&cE(t,s,c,o))}switch(n){case"input":Em(t),vP(t,r,!1);break;case"textarea":Em(t),bP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?uu(t,!!r.multiple,s,!1):r.defaultValue!=null&&uu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)eL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=Ll(Ch.current),Ll(so.current),Om(e)){if(r=e.stateNode,n=e.memoizedProps,r[to]=e,(s=r.nodeValue!==n)&&(t=Oi,t!==null))switch(t.tag){case 3:Im(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Im(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[to]=e,e.stateNode=r}return Mr(e),null;case 13:if(fn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Ii!==null&&e.mode&1&&!(e.flags&128))vD(),Fu(),e.flags|=98560,s=!1;else if(s=Om(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[to]=e}else Fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),s=!1}else Ts!==null&&(j1(Ts),Ts=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?tr===0&&(tr=3):HE())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return Bu(),S1(t,e),t===null&&Sh(e.stateNode.containerInfo),Mr(e),null;case 10:return PE(e.type._context),Mr(e),null;case 17:return hi(e.type)&&oy(),Mr(e),null;case 19:if(fn(Sn),s=e.memoizedState,s===null)return Mr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mf(s,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hy(t),o!==null){for(e.flags|=128,mf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nn(Sn,Sn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rn()>zu&&(e.flags|=128,r=!0,mf(s,!1),e.lanes=4194304)}else{if(!r)if(t=hy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mn)return Mr(e),null}else 2*Rn()-s.renderingStartTime>zu&&n!==1073741824&&(e.flags|=128,r=!0,mf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rn(),e.sibling=null,n=Sn.current,nn(Sn,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return WE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ti&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function Qz(t,e){switch(EE(e),e.tag){case 1:return hi(e.type)&&oy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bu(),fn(fi),fn(Wr),OE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return IE(e),null;case 13:if(fn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(Sn),null;case 4:return Bu(),null;case 10:return PE(e.type._context),null;case 22:case 23:return WE(),null;case 24:return null;default:return null}}var Dm=!1,Br=!1,Jz=typeof WeakSet=="function"?WeakSet:Set,De=null;function su(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function _1(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var cN=!1;function Zz(t,e){if(o1=ny,t=sD(),SE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(a1={focusedElem:t,selectionRange:n},ny=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:xs(e.type,g),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(A){Nn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return v=cN,cN=!1,v}function Kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_1(e,n,s)}i=i.next}while(i!==r)}}function fx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function E1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tL(t){var e=t.alternate;e!==null&&(t.alternate=null,tL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[to],delete e[Eh],delete e[u1],delete e[Mz],delete e[Dz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nL(t){return t.tag===5||t.tag===3||t.tag===4}function uN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sy));else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}function C1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C1(t,e,n),t=t.sibling;t!==null;)C1(t,e,n),t=t.sibling}var Sr=null,Ss=!1;function ba(t,e,n){for(n=n.child;n!==null;)rL(t,e,n),n=n.sibling}function rL(t,e,n){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(ix,n)}catch{}switch(n.tag){case 5:Br||su(n,e);case 6:var r=Sr,i=Ss;Sr=null,ba(t,e,n),Sr=r,Ss=i,Sr!==null&&(Ss?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(Ss?(t=Sr,n=n.stateNode,t.nodeType===8?bb(t.parentNode,n):t.nodeType===1&&bb(t,n),xh(t)):bb(Sr,n.stateNode));break;case 4:r=Sr,i=Ss,Sr=n.stateNode.containerInfo,Ss=!0,ba(t,e,n),Sr=r,Ss=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_1(n,e,o),i=i.next}while(i!==r)}ba(t,e,n);break;case 1:if(!Br&&(su(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}ba(t,e,n);break;case 21:ba(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,ba(t,e,n),Br=r):ba(t,e,n);break;default:ba(t,e,n)}}function dN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jz),e.forEach(function(r){var i=l7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sr=a.stateNode,Ss=!1;break e;case 3:Sr=a.stateNode.containerInfo,Ss=!0;break e;case 4:Sr=a.stateNode.containerInfo,Ss=!0;break e}a=a.return}if(Sr===null)throw Error(be(160));rL(s,o,i),Sr=null,Ss=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Nn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iL(e,t),e=e.sibling}function iL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gs(e,t),Hs(t),r&4){try{Kf(3,t,t.return),fx(3,t)}catch(g){Nn(t,t.return,g)}try{Kf(5,t,t.return)}catch(g){Nn(t,t.return,g)}}break;case 1:gs(e,t),Hs(t),r&512&&n!==null&&su(n,n.return);break;case 5:if(gs(e,t),Hs(t),r&512&&n!==null&&su(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(g){Nn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CM(i,s),Xw(a,o);var u=Xw(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?kM(i,f):d==="dangerouslySetInnerHTML"?NM(i,f):d==="children"?mh(i,f):cE(i,d,f,u)}switch(a){case"input":Hw(i,s);break;case"textarea":AM(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?uu(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?uu(i,!!s.multiple,s.defaultValue,!0):uu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eh]=s}catch(g){Nn(t,t.return,g)}}break;case 6:if(gs(e,t),Hs(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Nn(t,t.return,g)}}break;case 3:if(gs(e,t),Hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(g){Nn(t,t.return,g)}break;case 4:gs(e,t),Hs(t);break;case 13:gs(e,t),Hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UE=Rn())),r&4&&dN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(u=Br)||d,gs(e,t),Br=u):gs(e,t),Hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(De=t,d=t.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kf(4,h,h.return);break;case 1:su(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Nn(r,n,g)}}break;case 5:su(h,h.return);break;case 22:if(h.memoizedState!==null){hN(f);continue}}m!==null?(m.return=h,De=m):hN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jM("display",o))}catch(g){Nn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Nn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(e,t),Hs(t),r&4&&dN(t);break;case 21:break;default:gs(e,t),Hs(t)}}function Hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nL(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var s=uN(t);C1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uN(t);T1(t,a,o);break;default:throw Error(be(161))}}catch(c){Nn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e7(t,e,n){De=t,sL(t)}function sL(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var i=De,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dm;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Br;a=Dm;var u=Br;if(Dm=o,(Br=c)&&!u)for(De=i;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?pN(i):c!==null?(c.return=o,De=c):pN(i);for(;s!==null;)De=s,sL(s),s=s.sibling;De=i,Dm=a,Br=u}fN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,De=s):fN(t)}}function fN(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||fx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&XP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Br||e.flags&512&&E1(e)}catch(h){Nn(e,e.return,h)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function hN(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function pN(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fx(4,e)}catch(c){Nn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Nn(e,i,c)}}var s=e.return;try{E1(e)}catch(c){Nn(e,s,c)}break;case 5:var o=e.return;try{E1(e)}catch(c){Nn(e,o,c)}}}catch(c){Nn(e,e.return,c)}if(e===t){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var t7=Math.ceil,gy=la.ReactCurrentDispatcher,VE=la.ReactCurrentOwner,Zi=la.ReactCurrentBatchConfig,It=0,pr=null,Bn=null,Cr=0,Ti=0,ou=ml(0),tr=0,jh=null,oc=0,hx=0,BE=0,Yf=null,ci=null,UE=0,zu=1/0,Io=null,yy=!1,A1=null,Ga=null,Lm=!1,Fa=null,vy=0,Xf=0,P1=null,Pg=-1,Ng=0;function Jr(){return It&6?Rn():Pg!==-1?Pg:Pg=Rn()}function Ka(t){return t.mode&1?It&2&&Cr!==0?Cr&-Cr:$z.transition!==null?(Ng===0&&(Ng=zM()),Ng):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:XM(t.type)),t):1}function Rs(t,e,n,r){if(50<Xf)throw Xf=0,P1=null,Error(be(185));Dp(t,n,r),(!(It&2)||t!==pr)&&(t===pr&&(!(It&2)&&(hx|=n),tr===4&&ja(t,Cr)),pi(t,r),n===1&&It===0&&!(e.mode&1)&&(zu=Rn()+500,cx&&gl()))}function pi(t,e){var n=t.callbackNode;$8(t,e);var r=ty(t,t===pr?Cr:0);if(r===0)n!==null&&_P(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_P(n),e===1)t.tag===0?Lz(mN.bind(null,t)):mD(mN.bind(null,t)),Oz(function(){!(It&6)&&gl()}),n=null;else{switch(WM(r)){case 1:n=pE;break;case 4:n=BM;break;case 16:n=ey;break;case 536870912:n=UM;break;default:n=ey}n=hL(n,oL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oL(t,e){if(Pg=-1,Ng=0,It&6)throw Error(be(327));var n=t.callbackNode;if(mu()&&t.callbackNode!==n)return null;var r=ty(t,t===pr?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xy(t,r);else{e=r;var i=It;It|=2;var s=lL();(pr!==t||Cr!==e)&&(Io=null,zu=Rn()+500,Xl(t,e));do try{i7();break}catch(a){aL(t,a)}while(!0);AE(),gy.current=s,It=i,Bn!==null?e=0:(pr=null,Cr=0,e=tr)}if(e!==0){if(e===2&&(i=t1(t),i!==0&&(r=i,e=N1(t,i))),e===1)throw n=jh,Xl(t,0),ja(t,r),pi(t,Rn()),n;if(e===6)ja(t,r);else{if(i=t.current.alternate,!(r&30)&&!n7(i)&&(e=xy(t,r),e===2&&(s=t1(t),s!==0&&(r=s,e=N1(t,s))),e===1))throw n=jh,Xl(t,0),ja(t,r),pi(t,Rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:jl(t,ci,Io);break;case 3:if(ja(t,r),(r&130023424)===r&&(e=UE+500-Rn(),10<e)){if(ty(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c1(jl.bind(null,t,ci,Io),e);break}jl(t,ci,Io);break;case 4:if(ja(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Os(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t7(r/1960))-r,10<r){t.timeoutHandle=c1(jl.bind(null,t,ci,Io),r);break}jl(t,ci,Io);break;case 5:jl(t,ci,Io);break;default:throw Error(be(329))}}}return pi(t,Rn()),t.callbackNode===n?oL.bind(null,t):null}function N1(t,e){var n=Yf;return t.current.memoizedState.isDehydrated&&(Xl(t,e).flags|=256),t=xy(t,e),t!==2&&(e=ci,ci=n,e!==null&&j1(e)),t}function j1(t){ci===null?ci=t:ci.push.apply(ci,t)}function n7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ls(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e){for(e&=~BE,e&=~hx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Os(e),r=1<<n;t[n]=-1,e&=~r}}function mN(t){if(It&6)throw Error(be(327));mu();var e=ty(t,0);if(!(e&1))return pi(t,Rn()),null;var n=xy(t,e);if(t.tag!==0&&n===2){var r=t1(t);r!==0&&(e=r,n=N1(t,r))}if(n===1)throw n=jh,Xl(t,0),ja(t,e),pi(t,Rn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,ci,Io),pi(t,Rn()),null}function zE(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(zu=Rn()+500,cx&&gl())}}function ac(t){Fa!==null&&Fa.tag===0&&!(It&6)&&mu();var e=It;It|=1;var n=Zi.transition,r=Vt;try{if(Zi.transition=null,Vt=1,t)return t()}finally{Vt=r,Zi.transition=n,It=e,!(It&6)&&gl()}}function WE(){Ti=ou.current,fn(ou)}function Xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Iz(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(EE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oy();break;case 3:Bu(),fn(fi),fn(Wr),OE();break;case 5:IE(r);break;case 4:Bu();break;case 13:fn(Sn);break;case 19:fn(Sn);break;case 10:PE(r.type._context);break;case 22:case 23:WE()}n=n.return}if(pr=t,Bn=t=Ya(t.current,null),Cr=Ti=e,tr=0,jh=null,BE=hx=oc=0,ci=Yf=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dl=null}return t}function aL(t,e){do{var n=Bn;try{if(AE(),Tg.current=my,py){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}py=!1}if(sc=0,dr=Jn=Tn=null,Gf=!1,Ah=0,VE.current=null,n===null||n.return===null){tr=1,jh=e,Bn=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Cr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nN(o);if(m!==null){m.flags&=-257,rN(m,o,a,s,e),m.mode&1&&tN(s,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){tN(s,u,e),HE();break e}c=Error(be(426))}}else if(mn&&a.mode&1){var y=nN(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rN(y,o,a,s,e),TE(Uu(c,a));break e}}s=c=Uu(c,a),tr!==4&&(tr=2),Yf===null?Yf=[s]:Yf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=WD(s,c,e);YP(s,b);break e;case 1:a=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ga===null||!Ga.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=HD(s,a,e);YP(s,A);break e}}s=s.return}while(s!==null)}uL(n)}catch(E){e=E,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function lL(){var t=gy.current;return gy.current=my,t===null?my:t}function HE(){(tr===0||tr===3||tr===2)&&(tr=4),pr===null||!(oc&268435455)&&!(hx&268435455)||ja(pr,Cr)}function xy(t,e){var n=It;It|=2;var r=lL();(pr!==t||Cr!==e)&&(Io=null,Xl(t,e));do try{r7();break}catch(i){aL(t,i)}while(!0);if(AE(),It=n,gy.current=r,Bn!==null)throw Error(be(261));return pr=null,Cr=0,tr}function r7(){for(;Bn!==null;)cL(Bn)}function i7(){for(;Bn!==null&&!N8();)cL(Bn)}function cL(t){var e=fL(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?uL(t):Bn=e,VE.current=null}function uL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qz(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,Bn=null;return}}else if(n=Xz(n,e,Ti),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);tr===0&&(tr=5)}function jl(t,e,n){var r=Vt,i=Zi.transition;try{Zi.transition=null,Vt=1,s7(t,e,n,r)}finally{Zi.transition=i,Vt=r}return null}function s7(t,e,n,r){do mu();while(Fa!==null);if(It&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(F8(t,s),t===pr&&(Bn=pr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lm||(Lm=!0,hL(ey,function(){return mu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zi.transition,Zi.transition=null;var o=Vt;Vt=1;var a=It;It|=4,VE.current=null,Zz(t,n),iL(n,t),Tz(a1),ny=!!o1,a1=o1=null,t.current=n,e7(n),j8(),It=a,Vt=o,Zi.transition=s}else t.current=n;if(Lm&&(Lm=!1,Fa=t,vy=i),s=t.pendingLanes,s===0&&(Ga=null),O8(n.stateNode),pi(t,Rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yy)throw yy=!1,t=A1,A1=null,t;return vy&1&&t.tag!==0&&mu(),s=t.pendingLanes,s&1?t===P1?Xf++:(Xf=0,P1=t):Xf=0,gl(),null}function mu(){if(Fa!==null){var t=WM(vy),e=Zi.transition,n=Vt;try{if(Zi.transition=null,Vt=16>t?16:t,Fa===null)var r=!1;else{if(t=Fa,Fa=null,vy=0,It&6)throw Error(be(331));var i=It;for(It|=4,De=t.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Kf(8,d,s)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,m=d.return;if(tL(d),d===u){De=null;break}if(h!==null){h.return=m,De=h;break}De=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,De=b;break e}De=s.return}}var w=t.current;for(De=w;De!==null;){o=De;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,De=S;else e:for(o=w;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fx(9,a)}}catch(E){Nn(a,a.return,E)}if(a===o){De=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,De=A;break e}De=a.return}}if(It=i,gl(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(ix,t)}catch{}r=!0}return r}finally{Vt=n,Zi.transition=e}}return!1}function gN(t,e,n){e=Uu(n,e),e=WD(t,e,1),t=qa(t,e,1),e=Jr(),t!==null&&(Dp(t,1,e),pi(t,e))}function Nn(t,e,n){if(t.tag===3)gN(t,t,n);else for(;e!==null;){if(e.tag===3){gN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){t=Uu(n,t),t=HD(e,t,1),e=qa(e,t,1),t=Jr(),e!==null&&(Dp(e,1,t),pi(e,t));break}}e=e.return}}function o7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,pr===t&&(Cr&n)===n&&(tr===4||tr===3&&(Cr&130023424)===Cr&&500>Rn()-UE?Xl(t,0):BE|=n),pi(t,e)}function dL(t,e){e===0&&(t.mode&1?(e=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):e=1);var n=Jr();t=Xo(t,e),t!==null&&(Dp(t,e,n),pi(t,n))}function a7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dL(t,n)}function l7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),dL(t,n)}var fL;fL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,Yz(t,e,n);ui=!!(t.flags&131072)}else ui=!1,mn&&e.flags&1048576&&gD(e,cy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ag(t,e),t=e.pendingProps;var i=$u(e,Wr.current);pu(e,n),i=ME(null,e,r,t,i,n);var s=DE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(s=!0,ay(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jE(e),i.updater=dx,e.stateNode=i,i._reactInternals=e,g1(e,r,t,n),e=x1(null,e,r,!0,s,n)):(e.tag=0,mn&&s&&_E(e),Yr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ag(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=u7(r),t=xs(r,t),i){case 0:e=v1(null,e,r,t,n);break e;case 1:e=oN(null,e,r,t,n);break e;case 11:e=iN(null,e,r,t,n);break e;case 14:e=sN(null,e,r,xs(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),v1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),oN(t,e,r,i,n);case 3:e:{if(YD(e),t===null)throw Error(be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SD(t,e),fy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Uu(Error(be(423)),e),e=aN(t,e,r,n,i);break e}else if(r!==i){i=Uu(Error(be(424)),e),e=aN(t,e,r,n,i);break e}else for(Ii=Ha(e.stateNode.containerInfo.firstChild),Oi=e,mn=!0,Ts=null,n=bD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fu(),r===i){e=Qo(t,e,n);break e}Yr(t,e,r,n)}e=e.child}return e;case 5:return _D(e),t===null&&h1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,l1(r,i)?o=null:s!==null&&l1(r,s)&&(e.flags|=32),KD(t,e),Yr(t,e,o,n),e.child;case 6:return t===null&&h1(e),null;case 13:return XD(t,e,n);case 4:return kE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vu(e,null,r,n):Yr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),iN(t,e,r,i,n);case 7:return Yr(t,e,e.pendingProps,n),e.child;case 8:return Yr(t,e,e.pendingProps.children,n),e.child;case 12:return Yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nn(uy,r._currentValue),r._currentValue=o,s!==null)if(Ls(s.value,o)){if(s.children===i.children&&!fi.current){e=Qo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=zo(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),p1(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),p1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pu(e,n),i=rs(i),r=r(i),e.flags|=1,Yr(t,e,r,n),e.child;case 14:return r=e.type,i=xs(r,e.pendingProps),i=xs(r.type,i),sN(t,e,r,i,n);case 15:return qD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),Ag(t,e),e.tag=1,hi(r)?(t=!0,ay(e)):t=!1,pu(e,n),zD(e,r,i),g1(e,r,i,n),x1(null,e,r,!0,t,n);case 19:return QD(t,e,n);case 22:return GD(t,e,n)}throw Error(be(156,e.tag))};function hL(t,e){return VM(t,e)}function c7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,e,n,r){return new c7(t,e,n,r)}function qE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u7(t){if(typeof t=="function")return qE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dE)return 11;if(t===fE)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=Qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xc:return Ql(n.children,i,s,e);case uE:o=8,i|=8;break;case Vw:return t=Qi(12,n,e,i|2),t.elementType=Vw,t.lanes=s,t;case Bw:return t=Qi(13,n,e,i),t.elementType=Bw,t.lanes=s,t;case Uw:return t=Qi(19,n,e,i),t.elementType=Uw,t.lanes=s,t;case _M:return px(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wM:o=10;break e;case SM:o=9;break e;case dE:o=11;break e;case fE:o=14;break e;case Ca:o=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=Qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ql(t,e,n,r){return t=Qi(7,t,r,e),t.lanes=n,t}function px(t,e,n,r){return t=Qi(22,t,r,e),t.elementType=_M,t.lanes=n,t.stateNode={isHidden:!1},t}function Pb(t,e,n){return t=Qi(6,t,null,e),t.lanes=n,t}function Nb(t,e,n){return e=Qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cb(0),this.expirationTimes=cb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GE(t,e,n,r,i,s,o,a,c){return t=new d7(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jE(s),t}function f7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pL(t){if(!t)return il;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(hi(n))return pD(t,n,e)}return e}function mL(t,e,n,r,i,s,o,a,c){return t=GE(n,r,!0,t,i,s,o,a,c),t.context=pL(null),n=t.current,r=Jr(),i=Ka(n),s=zo(r,i),s.callback=e??null,qa(n,s,i),t.current.lanes=i,Dp(t,i,r),pi(t,r),t}function mx(t,e,n,r){var i=e.current,s=Jr(),o=Ka(i);return n=pL(n),e.context===null?e.context=n:e.pendingContext=n,e=zo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qa(i,e,o),t!==null&&(Rs(t,i,o,s),Eg(t,i,o)),o}function by(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function KE(t,e){yN(t,e),(t=t.alternate)&&yN(t,e)}function h7(){return null}var gL=typeof reportError=="function"?reportError:function(t){console.error(t)};function YE(t){this._internalRoot=t}gx.prototype.render=YE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));mx(t,e,null,null)};gx.prototype.unmount=YE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){mx(null,t,null,null)}),e[Yo]=null}};function gx(t){this._internalRoot=t}gx.prototype.unstable_scheduleHydration=function(t){if(t){var e=GM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Na.length&&e!==0&&e<Na[n].priority;n++);Na.splice(n,0,t),n===0&&YM(t)}};function XE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vN(){}function p7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=by(o);s.call(u)}}var o=mL(e,r,t,0,null,!1,!1,"",vN);return t._reactRootContainer=o,t[Yo]=o.current,Sh(t.nodeType===8?t.parentNode:t),ac(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=by(c);a.call(u)}}var c=GE(t,0,!1,null,null,!1,!1,"",vN);return t._reactRootContainer=c,t[Yo]=c.current,Sh(t.nodeType===8?t.parentNode:t),ac(function(){mx(e,c,n,r)}),c}function vx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=by(o);a.call(c)}}mx(e,o,t,i)}else o=p7(n,e,t,i,r);return by(o)}HM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Of(e.pendingLanes);n!==0&&(mE(e,n|1),pi(e,Rn()),!(It&6)&&(zu=Rn()+500,gl()))}break;case 13:ac(function(){var r=Xo(t,1);if(r!==null){var i=Jr();Rs(r,t,1,i)}}),KE(t,1)}};gE=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var n=Jr();Rs(e,t,134217728,n)}KE(t,134217728)}};qM=function(t){if(t.tag===13){var e=Ka(t),n=Xo(t,e);if(n!==null){var r=Jr();Rs(n,t,e,r)}KE(t,e)}};GM=function(){return Vt};KM=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Jw=function(t,e,n){switch(e){case"input":if(Hw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lx(r);if(!i)throw Error(be(90));TM(r),Hw(r,i)}}}break;case"textarea":AM(t,n);break;case"select":e=n.value,e!=null&&uu(t,!!n.multiple,e,!1)}};RM=zE;MM=ac;var m7={usingClientEntryPoint:!1,Events:[$p,eu,lx,IM,OM,zE]},gf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g7={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$M(t),t===null?null:t.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||h7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{ix=$m.inject(g7),io=$m}catch{}}Li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m7;Li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XE(e))throw Error(be(200));return f7(t,e,null,n)};Li.createRoot=function(t,e){if(!XE(t))throw Error(be(299));var n=!1,r="",i=gL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GE(t,1,!1,null,null,n,!1,r,i),t[Yo]=e.current,Sh(t.nodeType===8?t.parentNode:t),new YE(e)};Li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=$M(e),t=t===null?null:t.stateNode,t};Li.flushSync=function(t){return ac(t)};Li.hydrate=function(t,e,n){if(!yx(e))throw Error(be(200));return vx(null,t,e,!0,n)};Li.hydrateRoot=function(t,e,n){if(!XE(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mL(e,null,t,1,n??null,i,!1,s,o),t[Yo]=e.current,Sh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gx(e)};Li.render=function(t,e,n){if(!yx(e))throw Error(be(200));return vx(null,t,e,!1,n)};Li.unmountComponentAtNode=function(t){if(!yx(t))throw Error(be(40));return t._reactRootContainer?(ac(function(){vx(null,null,t,!1,function(){t._reactRootContainer=null,t[Yo]=null})}),!0):!1};Li.unstable_batchedUpdates=zE;Li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yx(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return vx(t,e,n,!1,r)};Li.version="18.3.1-next-f1338f8080-20240426";function yL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yL)}catch(t){console.error(t)}}yL(),yM.exports=Li;var Ec=yM.exports;const y7=Zt(Ec);var vL,xN=Ec;vL=xN.createRoot,xN.hydrateRoot;function v7(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var xL={exports:{}},bL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=x;function x7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var b7=typeof Object.is=="function"?Object.is:x7,w7=Wu.useState,S7=Wu.useEffect,_7=Wu.useLayoutEffect,E7=Wu.useDebugValue;function T7(t,e){var n=e(),r=w7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return _7(function(){i.value=n,i.getSnapshot=e,jb(i)&&s({inst:i})},[t,n,e]),S7(function(){return jb(i)&&s({inst:i}),t(function(){jb(i)&&s({inst:i})})},[t]),E7(n),n}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!b7(t,n)}catch{return!0}}function C7(t,e){return e()}var A7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C7:T7;bL.useSyncExternalStore=Wu.useSyncExternalStore!==void 0?Wu.useSyncExternalStore:A7;xL.exports=bL;var P7=xL.exports;const N7=mM.useInsertionEffect,j7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k7=j7?x.useLayoutEffect:x.useEffect,I7=N7||k7,wL=t=>{const e=x.useRef([t,(...n)=>e[0](...n)]).current;return I7(()=>{e[0]=t}),e[1]},O7="popstate",QE="pushState",JE="replaceState",R7="hashchange",bN=[O7,QE,JE,R7],M7=t=>{for(const e of bN)addEventListener(e,t);return()=>{for(const e of bN)removeEventListener(e,t)}},SL=(t,e)=>P7.useSyncExternalStore(M7,t,e),D7=()=>location.search,L7=({ssrSearch:t=""}={})=>SL(D7,()=>t),wN=()=>location.pathname,$7=({ssrPath:t}={})=>SL(wN,t?()=>t:wN),F7=(t,{replace:e=!1,state:n=null}={})=>history[e?JE:QE](n,"",t),V7=(t={})=>[$7(t),F7],SN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SN]>"u"){for(const t of[QE,JE]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,SN,{value:!0})}const B7=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",_L=(t="")=>t==="/"?"":t,U7=(t,e)=>t[0]==="~"?t.slice(1):_L(e)+t,z7=(t="",e)=>B7(_N(_L(t)),_N(e)),_N=t=>{try{return decodeURI(t)}catch{return t}},EL={hook:V7,searchHook:L7,parser:v7,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},TL=x.createContext(EL),Vp=()=>x.useContext(TL),CL={},AL=x.createContext(CL),W7=()=>x.useContext(AL),xx=t=>{const[e,n]=t.hook(t);return[z7(t.base,e),wL((r,i)=>n(U7(r,t.base),i))]},ca=()=>xx(Vp()),PL=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},NL=({children:t,...e})=>{var d,f;const n=Vp(),r=e.hook?EL:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=x.useRef({}),c=a.current,u=c;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];c===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(i=u)}return x.createElement(TL.Provider,{value:i,children:t})},EN=({children:t,component:e},n)=>e?x.createElement(e,{params:n}):typeof t=="function"?t(n):t,H7=t=>{let e=x.useRef(CL),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},qs=({path:t,nest:e,match:n,...r})=>{const i=Vp(),[s]=xx(i),[o,a,c]=n??PL(i.parser,t,s,e),u=H7({...W7(),...a});if(!o)return null;const d=c?x.createElement(NL,{base:c},EN(r,u)):EN(r,u);return x.createElement(AL.Provider,{value:u,children:d})};x.forwardRef((t,e)=>{const n=Vp(),[r,i]=xx(n),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,v=wL(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a==null||a(y),y.defaultPrevented||(y.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:v,href:g}):x.createElement("a",{...m,onClick:v,href:g,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const jL=t=>Array.isArray(t)?t.flatMap(e=>jL(e&&e.type===x.Fragment?e.props.children:e)):[t],q7=({children:t,location:e})=>{const n=Vp(),[r]=xx(n);for(const i of jL(t)){let s=0;if(x.isValidElement(i)&&(s=PL(n.parser,i.props.path,e||r,i.props.nest))[0])return x.cloneElement(i,{match:s})}return null};var bx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wx=typeof window>"u"||"Deno"in globalThis;function bs(){}function G7(t,e){return typeof t=="function"?t(e):t}function K7(t){return typeof t=="number"&&t>=0&&t!==1/0}function Y7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function TN(t,e){return typeof t=="function"?t(e):t}function X7(t,e){return typeof t=="function"?t(e):t}function CN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ZE(o,e.options))return!1}else if(!Ih(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function AN(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(kh(e.options.mutationKey)!==kh(s))return!1}else if(!Ih(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ZE(t,e){return((e==null?void 0:e.queryKeyHashFn)||kh)(t)}function kh(t){return JSON.stringify(t,(e,n)=>k1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ih(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ih(t[n],e[n])):!1}function kL(t,e){if(t===e)return t;const n=PN(t)&&PN(e);if(n||k1(t)&&k1(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=kL(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function PN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function k1(t){if(!NN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!NN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NN(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q7(t){return new Promise(e=>{setTimeout(e,t)})}function J7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kL(t,e):e}function Z7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function eW(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var eT=Symbol();function IL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===eT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ql,Oa,Pu,QR,tW=(QR=class extends bx{constructor(){super();Dt(this,ql);Dt(this,Oa);Dt(this,Pu);xt(this,Pu,e=>{if(!wx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,Oa)||this.setEventListener(he(this,Pu))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Oa))==null||e.call(this),xt(this,Oa,void 0))}setEventListener(e){var n;xt(this,Pu,e),(n=he(this,Oa))==null||n.call(this),xt(this,Oa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){he(this,ql)!==e&&(xt(this,ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof he(this,ql)=="boolean"?he(this,ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ql=new WeakMap,Oa=new WeakMap,Pu=new WeakMap,QR),OL=new tW,Nu,Ra,ju,JR,nW=(JR=class extends bx{constructor(){super();Dt(this,Nu,!0);Dt(this,Ra);Dt(this,ju);xt(this,ju,e=>{if(!wx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Ra)||this.setEventListener(he(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Ra))==null||e.call(this),xt(this,Ra,void 0))}setEventListener(e){var n;xt(this,ju,e),(n=he(this,Ra))==null||n.call(this),xt(this,Ra,e(this.setOnline.bind(this)))}setOnline(e){he(this,Nu)!==e&&(xt(this,Nu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return he(this,Nu)}},Nu=new WeakMap,Ra=new WeakMap,ju=new WeakMap,JR),wy=new nW;function rW(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function iW(t){return Math.min(1e3*2**t,3e4)}function RL(t){return(t??"online")==="online"?wy.isOnline():!0}var ML=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kb(t){return t instanceof ML}function DL(t){let e=!1,n=0,r=!1,i;const s=rW(),o=g=>{var y;r||(h(new ML(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>OL.isFocused()&&(t.networkMode==="always"||wy.isOnline())&&t.canRun(),d=()=>RL(t.networkMode)&&t.canRun(),f=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),s.reject(g))},m=()=>new Promise(g=>{var y;i=b=>{(r||u())&&g(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var N;if(r)return;const w=t.retry??(wx?0:3),S=t.retryDelay??iW,A=typeof S=="function"?S(n,b):S,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!E){h(b);return}n++,(N=t.onFail)==null||N.call(t,n,b),Q7(A).then(()=>u()?void 0:m()).then(()=>{e?h(b):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}function sW(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Xr=sW(),Gl,ZR,LL=(ZR=class{constructor(){Dt(this,Gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K7(this.gcTime)&&xt(this,Gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wx?1/0:5*60*1e3))}clearGcTimeout(){he(this,Gl)&&(clearTimeout(he(this,Gl)),xt(this,Gl,void 0))}},Gl=new WeakMap,ZR),ku,Iu,qi,Lr,Op,Kl,ws,ko,eM,oW=(eM=class extends LL{constructor(n){super();Dt(this,ws);Dt(this,ku);Dt(this,Iu);Dt(this,qi);Dt(this,Lr);Dt(this,Op);Dt(this,Kl);xt(this,Kl,!1),xt(this,Op,n.defaultOptions),this.setOptions(n.options),this.observers=[],xt(this,qi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xt(this,ku,lW(this.options)),this.state=n.state??he(this,ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=he(this,Lr))==null?void 0:n.promise}setOptions(n){this.options={...he(this,Op),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,qi).remove(this)}setData(n,r){const i=J7(this.state.data,n,this.options);return Or(this,ws,ko).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Or(this,ws,ko).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=he(this,Lr))==null?void 0:i.promise;return(s=he(this,Lr))==null||s.cancel(n),r?r.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,ku))}isActive(){return this.observers.some(n=>X7(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Y7(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=he(this,Lr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),he(this,qi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(he(this,Lr)&&(he(this,Kl)?he(this,Lr).cancel({revert:!0}):he(this,Lr).cancelRetry()),this.scheduleGc()),he(this,qi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,ws,ko).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,Lr))return he(this,Lr).continueRetry(),he(this,Lr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xt(this,Kl,!0),i.signal)})},o=()=>{const h=IL(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),xt(this,Kl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),xt(this,Iu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Or(this,ws,ko).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,g,y;kb(h)&&h.silent||Or(this,ws,ko).call(this,{type:"error",error:h}),kb(h)||((v=(m=he(this,qi).config).onError)==null||v.call(m,h,this),(y=(g=he(this,qi).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return xt(this,Lr,DL({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(v=(m=he(this,qi).config).onSuccess)==null||v.call(m,h,this),(y=(g=he(this,qi).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Or(this,ws,ko).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Or(this,ws,ko).call(this,{type:"pause"})},onContinue:()=>{Or(this,ws,ko).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),he(this,Lr).start()}},ku=new WeakMap,Iu=new WeakMap,qi=new WeakMap,Lr=new WeakMap,Op=new WeakMap,Kl=new WeakMap,ws=new WeakSet,ko=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...aW(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return kb(s)&&s.revert&&he(this,Iu)?{...he(this,Iu),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Xr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),he(this,qi).notify({query:this,type:"updated",action:n})})},eM);function aW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lW(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,tM,cW=(tM=class extends bx{constructor(e={}){super();Dt(this,Qs);this.config=e,xt(this,Qs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??ZE(i,n);let o=this.get(s);return o||(o=new oW({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){he(this,Qs).has(e.queryHash)||(he(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=he(this,Qs).get(e.queryHash);n&&(e.destroy(),n===e&&he(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,Qs).get(e)}getAll(){return[...he(this,Qs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>CN(e,r)):n}notify(e){Xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,tM),Js,Kr,Yl,Zs,Ea,nM,uW=(nM=class extends LL{constructor(n){super();Dt(this,Zs);Dt(this,Js);Dt(this,Kr);Dt(this,Yl);this.mutationId=n.mutationId,xt(this,Kr,n.mutationCache),xt(this,Js,[]),this.state=n.state||dW(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){he(this,Js).includes(n)||(he(this,Js).push(n),this.clearGcTimeout(),he(this,Kr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xt(this,Js,he(this,Js).filter(r=>r!==n)),this.scheduleGc(),he(this,Kr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){he(this,Js).length||(this.state.status==="pending"?this.scheduleGc():he(this,Kr).remove(this))}continue(){var n;return((n=he(this,Yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,c,u,d,f,h,m,v,g,y,b,w,S,A,E,N,_,T;xt(this,Yl,DL({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Or(this,Zs,Ea).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Or(this,Zs,Ea).call(this,{type:"pause"})},onContinue:()=>{Or(this,Zs,Ea).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Kr).canRun(this)}));const r=this.state.status==="pending",i=!he(this,Yl).canStart();try{if(!r){Or(this,Zs,Ea).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=he(this,Kr).config).onMutate)==null?void 0:o.call(s,n,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));I!==this.state.context&&Or(this,Zs,Ea).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const P=await he(this,Yl).start();return await((d=(u=he(this,Kr).config).onSuccess)==null?void 0:d.call(u,P,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,n,this.state.context)),await((v=(m=he(this,Kr).config).onSettled)==null?void 0:v.call(m,P,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,P,null,n,this.state.context)),Or(this,Zs,Ea).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(b=he(this,Kr).config).onError)==null?void 0:w.call(b,P,n,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,P,n,this.state.context)),await((N=(E=he(this,Kr).config).onSettled)==null?void 0:N.call(E,void 0,P,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,P,n,this.state.context)),P}finally{Or(this,Zs,Ea).call(this,{type:"error",error:P})}}finally{he(this,Kr).runNext(this)}}},Js=new WeakMap,Kr=new WeakMap,Yl=new WeakMap,Zs=new WeakSet,Ea=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xr.batch(()=>{he(this,Js).forEach(i=>{i.onMutationUpdate(n)}),he(this,Kr).notify({mutation:this,type:"updated",action:n})})},nM);function dW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ei,Rp,rM,fW=(rM=class extends bx{constructor(e={}){super();Dt(this,Ei);Dt(this,Rp);this.config=e,xt(this,Ei,new Map),xt(this,Rp,Date.now())}build(e,n,r){const i=new uW({mutationCache:this,mutationId:++bm(this,Rp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Fm(e),r=he(this,Ei).get(n)??[];r.push(e),he(this,Ei).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fm(e);if(he(this,Ei).has(n)){const i=(r=he(this,Ei).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?he(this,Ei).delete(n):he(this,Ei).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=he(this,Ei).get(Fm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=he(this,Ei).get(Fm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...he(this,Ei).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AN(n,r))}findAll(e={}){return this.getAll().filter(n=>AN(e,n))}notify(e){Xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xr.batch(()=>Promise.all(e.map(n=>n.continue().catch(bs))))}},Ei=new WeakMap,Rp=new WeakMap,rM);function Fm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function jN(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=IL(e.options,e.fetchOptions),w=async(S,A,E)=>{if(g)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const N={queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};y(N);const _=await b(N),{maxPages:T}=e.options,P=E?eW:Z7;return{pages:P(S.pages,_,T),pageParams:P(S.pageParams,A,T)}};if(i&&s.length){const S=i==="backward",A=S?hW:kN,E={pages:s,pageParams:o},N=A(r,E);a=await w(E,N,S)}else{const S=t??s.length;do{const A=c===0?o[0]??r.initialPageParam:kN(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function kN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hW(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Pn,Ma,Da,Ou,Ru,La,Mu,Du,iM,pW=(iM=class{constructor(t={}){Dt(this,Pn);Dt(this,Ma);Dt(this,Da);Dt(this,Ou);Dt(this,Ru);Dt(this,La);Dt(this,Mu);Dt(this,Du);xt(this,Pn,t.queryCache||new cW),xt(this,Ma,t.mutationCache||new fW),xt(this,Da,t.defaultOptions||{}),xt(this,Ou,new Map),xt(this,Ru,new Map),xt(this,La,0)}mount(){bm(this,La)._++,he(this,La)===1&&(xt(this,Mu,OL.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Pn).onFocus())})),xt(this,Du,wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,Pn).onOnline())})))}unmount(){var t,e;bm(this,La)._--,he(this,La)===0&&((t=he(this,Mu))==null||t.call(this),xt(this,Mu,void 0),(e=he(this,Du))==null||e.call(this),xt(this,Du,void 0))}isFetching(t){return he(this,Pn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return he(this,Ma).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Pn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=he(this,Pn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(TN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return he(this,Pn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=he(this,Pn).get(r.queryHash),s=i==null?void 0:i.state.data,o=G7(e,s);if(o!==void 0)return he(this,Pn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Xr.batch(()=>he(this,Pn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,Pn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=he(this,Pn);Xr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=he(this,Pn),r={type:"active",...t};return Xr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Xr.batch(()=>he(this,Pn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bs).catch(bs)}invalidateQueries(t={},e={}){return Xr.batch(()=>{if(he(this,Pn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Xr.batch(()=>he(this,Pn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(bs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(bs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=he(this,Pn).build(this,e);return n.isStaleByTime(TN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bs).catch(bs)}fetchInfiniteQuery(t){return t.behavior=jN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bs).catch(bs)}ensureInfiniteQueryData(t){return t.behavior=jN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wy.isOnline()?he(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Pn)}getMutationCache(){return he(this,Ma)}getDefaultOptions(){return he(this,Da)}setDefaultOptions(t){xt(this,Da,t)}setQueryDefaults(t,e){he(this,Ou).set(kh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...he(this,Ou).values()];let n={};return e.forEach(r=>{Ih(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){he(this,Ru).set(kh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...he(this,Ru).values()];let n={};return e.forEach(r=>{Ih(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...he(this,Da).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ZE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===eT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...he(this,Da).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){he(this,Pn).clear(),he(this,Ma).clear()}},Pn=new WeakMap,Ma=new WeakMap,Da=new WeakMap,Ou=new WeakMap,Ru=new WeakMap,La=new WeakMap,Mu=new WeakMap,Du=new WeakMap,iM),mW=x.createContext(void 0),gW=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(mW.Provider,{value:t,children:e}));async function yW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const vW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await yW(n),await n.json())},xW=new pW({defaultOptions:{queries:{queryFn:vW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),bW=1,wW=1e6;let Ib=0;function SW(){return Ib=(Ib+1)%Number.MAX_SAFE_INTEGER,Ib.toString()}const Ob=new Map,IN=t=>{if(Ob.has(t))return;const e=setTimeout(()=>{Ob.delete(t),Qf({type:"REMOVE_TOAST",toastId:t})},wW);Ob.set(t,e)},_W=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?IN(n):t.toasts.forEach(r=>{IN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},kg=[];let Ig={toasts:[]};function Qf(t){Ig=_W(Ig,t),kg.forEach(e=>{e(Ig)})}function EW({...t}){const e=SW(),n=i=>Qf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qf({type:"DISMISS_TOAST",toastId:e});return Qf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Pd(){const[t,e]=x.useState(Ig);return x.useEffect(()=>(kg.push(e),()=>{const n=kg.indexOf(e);n>-1&&kg.splice(n,1)}),[t]),{...t,toast:EW,dismiss:n=>Qf({type:"DISMISS_TOAST",toastId:n})}}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ON(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $L(...t){return e=>{let n=!1;const r=t.map(i=>{const s=ON(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ON(t[i],null)}}}}function bt(...t){return x.useCallback($L(...t),t)}function TW(t,e){const n=x.createContext(e),r=s=>{const{children:o,...a}=s,c=x.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fi(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:h,children:m,...v}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[c])||a,y=x.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:y,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=x.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,CW(i,...e)]}function CW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hu(t){const e=PW(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),c=a.find(jW);if(c){const u=c.props.children,d=a.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var AW=Hu("Slot");function PW(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=IW(i),a=kW(s,i.props);return i.type!==x.Fragment&&(a.ref=r?$L(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FL=Symbol("radix.slottable");function NW(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=FL,e}function jW(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FL}function kW(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function IW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Bp(t){const e=t+"CollectionProvider",[n,r]=Fi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:b}=g,w=q.useRef(null),S=q.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:S,collectionRef:w,children:b})};o.displayName=e;const a=t+"CollectionSlot",c=Hu(a),u=q.forwardRef((g,y)=>{const{scope:b,children:w}=g,S=s(a,b),A=bt(y,S.collectionRef);return l.jsx(c,{ref:A,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Hu(d),m=q.forwardRef((g,y)=>{const{scope:b,children:w,...S}=g,A=q.useRef(null),E=bt(y,A),N=s(d,b);return q.useEffect(()=>(N.itemMap.set(A,{ref:A,...S}),()=>void N.itemMap.delete(A))),l.jsx(h,{[f]:"",ref:E,children:w})});m.displayName=d;function v(g){const y=s(t+"CollectionConsumer",g);return q.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,_)=>S.indexOf(N.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var OW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],et=OW.reduce((t,e)=>{const n=Hu(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VL(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function Mn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RW(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MW="DismissableLayer",I1="dismissableLayer.update",DW="dismissableLayer.pointerDownOutside",LW="dismissableLayer.focusOutside",RN,BL=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Up=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=x.useContext(BL),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=bt(e,_=>f(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=w>=b,E=FW(_=>{const T=_.target,P=[...u.branches].some(I=>I.contains(T));!A||P||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},h),N=VW(_=>{const T=_.target;[...u.branches].some(I=>I.contains(T))||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},h);return RW(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),MN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RN)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),MN())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(I1,_),()=>document.removeEventListener(I1,_)},[]),l.jsx(et.div,{...c,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,E.onPointerDownCapture)})});Up.displayName=MW;var $W="DismissableLayerBranch",UL=x.forwardRef((t,e)=>{const n=x.useContext(BL),r=x.useRef(null),i=bt(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(et.div,{...t,ref:i})});UL.displayName=$W;function FW(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){zL(DW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VW(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&zL(LW,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MN(){const t=new CustomEvent(I1);document.dispatchEvent(t)}function zL(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VL(i,s):i.dispatchEvent(s)}var BW=Up,UW=UL,mr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},zW="Portal",Sx=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);mr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?y7.createPortal(l.jsx(et.div,{...r,ref:e}),o):null});Sx.displayName=zW;function WW(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var as=t=>{const{present:e,children:n}=t,r=HW(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=bt(r.ref,qW(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};as.displayName="Presence";function HW(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,c]=WW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Vm(r.current);s.current=a==="mounted"?u:"none"},[a]),mr(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,m=Vm(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),mr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Vm(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(s.current=Vm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Vm(t){return(t==null?void 0:t.animationName)||"none"}function qW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $s({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=GW({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Mn(n),c=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,c]}function GW({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),s=Mn(e);return x.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var KW="VisuallyHidden",Nd=x.forwardRef((t,e)=>l.jsx(et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nd.displayName=KW;var YW=Nd,tT="ToastProvider",[nT,XW,QW]=Bp("Toast"),[WL,g2e]=Fi("Toast",[QW]),[JW,_x]=WL(tT),HL=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tT}\`. Expected non-empty \`string\`.`),l.jsx(nT.Provider,{scope:e,children:l.jsx(JW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};HL.displayName=tT;var qL="ToastViewport",ZW=["F8"],O1="toast.viewportPause",R1="toast.viewportResume",GL=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ZW,label:i="Notifications ({hotkey})",...s}=t,o=_x(qL,n),a=XW(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=bt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;x.useEffect(()=>{const y=b=>{var S;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=c.current,b=f.current;if(v&&y&&b){const w=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(O1);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(R1);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},A=N=>{!y.contains(N.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",w),y.addEventListener("focusout",A),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const w=a().map(S=>{const A=S.ref.current,E=[A,...fH(A)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const y=f.current;if(y){const b=w=>{var E,N,_;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,P=w.shiftKey;if(w.target===y&&P){(E=u.current)==null||E.focus();return}const O=g({tabbingDirection:P?"backwards":"forwards"}),R=O.findIndex(F=>F===T);Rb(O.slice(R+1))?w.preventDefault():P?(N=u.current)==null||N.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,g]),l.jsxs(UW,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(M1,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Rb(y)}}),l.jsx(nT.Slot,{scope:n,children:l.jsx(et.ol,{tabIndex:-1,...s,ref:h})}),v&&l.jsx(M1,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Rb(y)}})]})});GL.displayName=qL;var KL="ToastFocusProxy",M1=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=_x(KL,n);return l.jsx(Nd,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});M1.displayName=KL;var Ex="Toast",eH="toast.swipeStart",tH="toast.swipeMove",nH="toast.swipeCancel",rH="toast.swipeEnd",YL=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,c]=$s({prop:r,defaultProp:i,onChange:s});return l.jsx(as,{present:n||a,children:l.jsx(oH,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Mn(t.onPause),onResume:Mn(t.onResume),onSwipeStart:Le(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});YL.displayName=Ex;var[iH,sH]=WL(Ex,{onClose(){}}),oH=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=_x(Ex,n),[y,b]=x.useState(null),w=bt(e,F=>b(F)),S=x.useRef(null),A=x.useRef(null),E=i||g.duration,N=x.useRef(0),_=x.useRef(E),T=x.useRef(0),{onToastAdd:P,onToastRemove:I}=g,j=Mn(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),O=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(j,F))},[j]);x.useEffect(()=>{const F=g.viewport;if(F){const B=()=>{O(_.current),u==null||u()},U=()=>{const W=new Date().getTime()-N.current;_.current=_.current-W,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(O1,U),F.addEventListener(R1,B),()=>{F.removeEventListener(O1,U),F.removeEventListener(R1,B)}}},[g.viewport,E,c,u,O]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&O(E)},[s,E,g.isClosePausedRef,O]),x.useEffect(()=>(P(),()=>I()),[P,I]);const R=x.useMemo(()=>y?n$(y):null,[y]);return g.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(aH,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(iH,{scope:n,onClose:j,children:Ec.createPortal(l.jsx(nT.ItemSlot,{scope:n,children:l.jsx(BW,{asChild:!0,onEscapeKeyDown:Le(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Le(t.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:Le(t.onPointerMove,F=>{if(!S.current)return;const B=F.clientX-S.current.x,U=F.clientY-S.current.y,W=!!A.current,$=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=$?z(0,B):0,se=$?0:z(0,U),Q=F.pointerType==="touch"?10:2,ge={x:re,y:se},pe={originalEvent:F,delta:ge};W?(A.current=ge,Bm(tH,f,pe,{discrete:!1})):DN(ge,g.swipeDirection,Q)?(A.current=ge,Bm(eH,d,pe,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(B)>Q||Math.abs(U)>Q)&&(S.current=null)}),onPointerUp:Le(t.onPointerUp,F=>{const B=A.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),A.current=null,S.current=null,B){const W=F.currentTarget,$={originalEvent:F,delta:B};DN(B,g.swipeDirection,g.swipeThreshold)?Bm(rH,m,$,{discrete:!0}):Bm(nH,h,$,{discrete:!0}),W.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),aH=t=>{const{__scopeToast:e,children:n,...r}=t,i=_x(Ex,e),[s,o]=x.useState(!1),[a,c]=x.useState(!1);return uH(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Sx,{asChild:!0,children:l.jsx(Nd,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},lH="ToastTitle",XL=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(et.div,{...r,ref:e})});XL.displayName=lH;var cH="ToastDescription",QL=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(et.div,{...r,ref:e})});QL.displayName=cH;var JL="ToastAction",ZL=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(t$,{altText:n,asChild:!0,children:l.jsx(rT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JL}\`. Expected non-empty \`string\`.`),null)});ZL.displayName=JL;var e$="ToastClose",rT=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=sH(e$,n);return l.jsx(t$,{asChild:!0,children:l.jsx(et.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,i.onClose)})})});rT.displayName=e$;var t$=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function n$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...n$(r))}}),e}function Bm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VL(i,s):i.dispatchEvent(s)}var DN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function uH(t=()=>{}){const e=Mn(t);mr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dH(t){return t.nodeType===t.ELEMENT_NODE}function fH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hH=HL,r$=GL,i$=YL,s$=XL,o$=QL,a$=ZL,l$=rT;function c$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=c$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=c$(t))&&(r&&(r+=" "),r+=e);return r}const LN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,$N=At,Tx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return $N(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=LN(d)||LN(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...u,f,h]:u},[]);return $N(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>x.createElement("svg",{ref:c,...mH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:u$("lucide",i),...a},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(gH,{ref:s,iconNode:e,className:u$(`lucide-${pH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Ue("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=Ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=Ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=Ue("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=Ue("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Ue("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Ue("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=Ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ue("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=Ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=Ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Ue("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=Ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),aT="-",WH=t=>{const e=qH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(aT);return a[0]===""&&a.length!==1&&a.shift(),v$(a,e)||HH(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},v$=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?v$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(aT);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},WN=/^\[(.+)\]$/,HH=t=>{if(WN.test(t)){const e=WN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qH=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KH(Object.entries(t.classGroups),n).forEach(([s,o])=>{F1(o,r,s,e)}),r},F1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:HN(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(GH(i)){F1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{F1(o,HN(e,s),n,r)})})},HN=(t,e)=>{let n=t;return e.split(aT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GH=t=>t.isThemeGetter,KH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,YH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},x$="!",XH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let b=a[y];if(u===0){if(b===i&&(r||a.slice(y,y+s)===e)){c.push(a.slice(d,y)),d=y+s;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?a:a.substring(d),m=h.startsWith(x$),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},QH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JH=t=>({cache:YH(t.cacheSize),parseClassName:XH(t),...WH(t)}),ZH=/\s+/,eq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ZH);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const y=QH(d).join(":"),b=f?y+x$:y,w=b+g;if(s.includes(w))continue;s.push(w);const S=i(g,v);for(let A=0;A<S.length;++A){const E=S[A];s.push(b+E)}a=u+(a.length>0?" "+a:a)}return a};function tq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=b$(e))&&(r&&(r+=" "),r+=n);return r}const b$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=b$(t[r]))&&(n&&(n+=" "),n+=e);return n};function nq(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=JH(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=eq(c,n);return i(c,d),d}return function(){return s(tq.apply(null,arguments))}}const on=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},w$=/^\[(?:([a-z-]+):)?(.+)\]$/i,rq=/^\d+\/\d+$/,iq=new Set(["px","full","screen"]),sq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=t=>gu(t)||iq.has(t)||rq.test(t),wa=t=>jd(t,"length",yq),gu=t=>!!t&&!Number.isNaN(Number(t)),Db=t=>jd(t,"number",gu),vf=t=>!!t&&Number.isInteger(Number(t)),uq=t=>t.endsWith("%")&&gu(t.slice(0,-1)),pt=t=>w$.test(t),Sa=t=>sq.test(t),dq=new Set(["length","size","percentage"]),fq=t=>jd(t,dq,S$),hq=t=>jd(t,"position",S$),pq=new Set(["image","url"]),mq=t=>jd(t,pq,xq),gq=t=>jd(t,"",vq),xf=()=>!0,jd=(t,e,n)=>{const r=w$.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yq=t=>oq.test(t)&&!aq.test(t),S$=()=>!1,vq=t=>lq.test(t),xq=t=>cq.test(t),bq=()=>{const t=on("colors"),e=on("spacing"),n=on("blur"),r=on("brightness"),i=on("borderColor"),s=on("borderRadius"),o=on("borderSpacing"),a=on("borderWidth"),c=on("contrast"),u=on("grayscale"),d=on("hueRotate"),f=on("invert"),h=on("gap"),m=on("gradientColorStops"),v=on("gradientColorStopPositions"),g=on("inset"),y=on("margin"),b=on("opacity"),w=on("padding"),S=on("saturate"),A=on("scale"),E=on("sepia"),N=on("skew"),_=on("space"),T=on("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",pt,e],O=()=>[pt,e],R=()=>["",Po,wa],F=()=>["auto",gu,pt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",pt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[gu,pt];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[Po,wa],blur:["none","",Sa,pt],brightness:se(),borderColor:[t],borderRadius:["none","","full",Sa,pt],borderSpacing:O(),borderWidth:R(),contrast:se(),grayscale:z(),hueRotate:se(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[uq,wa],inset:j(),margin:j(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:z(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[Sa]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),pt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,pt]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",vf,pt]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",vf,pt]},pt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[vf,pt]},pt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,e]}],"min-w":[{"min-w":[pt,e,"min","max","fit"]}],"max-w":[{"max-w":[pt,e,"none","full","min","max","fit","prose",{screen:[Sa]},Sa]}],h:[{h:[pt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sa,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Db]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",gu,Db]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Po,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Po,wa]}],"underline-offset":[{"underline-offset":["auto",Po,pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),hq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Po,pt]}],"outline-w":[{outline:[Po,wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Po,wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sa,gq]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sa,pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[vf,pt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Po,wa,Db]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wq=nq(bq);function ut(...t){return wq(At(t))}const Sq=hH,_$=x.forwardRef(({className:t,...e},n)=>l.jsx(r$,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_$.displayName=r$.displayName;const _q=Tx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),E$=x.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(i$,{ref:r,className:ut(_q({variant:e}),t),...n}));E$.displayName=i$.displayName;const Eq=x.forwardRef(({className:t,...e},n)=>l.jsx(a$,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Eq.displayName=a$.displayName;const T$=x.forwardRef(({className:t,...e},n)=>l.jsx(l$,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Cx,{className:"h-4 w-4"})}));T$.displayName=l$.displayName;const C$=x.forwardRef(({className:t,...e},n)=>l.jsx(s$,{ref:n,className:ut("text-sm font-semibold",t),...e}));C$.displayName=s$.displayName;const A$=x.forwardRef(({className:t,...e},n)=>l.jsx(o$,{ref:n,className:ut("text-sm opacity-90",t),...e}));A$.displayName=o$.displayName;function Tq(){const{toasts:t}=Pd();return l.jsxs(Sq,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(E$,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(C$,{children:n}),r&&l.jsx(A$,{children:r})]}),i,l.jsx(T$,{})]},e)}),l.jsx(_$,{})]})}var Cq=mM[" useId ".trim().toString()]||(()=>{}),Aq=0;function oo(t){const[e,n]=x.useState(Cq());return mr(()=>{n(r=>r??String(Aq++))},[t]),e?`radix-${e}`:""}const Pq=["top","right","bottom","left"],sl=Math.min,Ai=Math.max,Ay=Math.round,zm=Math.floor,ao=t=>({x:t,y:t}),Nq={left:"right",right:"left",bottom:"top",top:"bottom"},jq={start:"end",end:"start"};function V1(t,e,n){return Ai(t,sl(e,n))}function Jo(t,e){return typeof t=="function"?t(e):t}function Zo(t){return t.split("-")[0]}function kd(t){return t.split("-")[1]}function lT(t){return t==="x"?"y":"x"}function cT(t){return t==="y"?"height":"width"}function ol(t){return["top","bottom"].includes(Zo(t))?"y":"x"}function uT(t){return lT(ol(t))}function kq(t,e,n){n===void 0&&(n=!1);const r=kd(t),i=uT(t),s=cT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Py(o)),[o,Py(o)]}function Iq(t){const e=Py(t);return[B1(t),e,B1(e)]}function B1(t){return t.replace(/start|end/g,e=>jq[e])}function Oq(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Rq(t,e,n,r){const i=kd(t);let s=Oq(Zo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(B1)))),s}function Py(t){return t.replace(/left|right|bottom|top/g,e=>Nq[e])}function Mq(t){return{top:0,right:0,bottom:0,left:0,...t}}function P$(t){return typeof t!="number"?Mq(t):{top:t,right:t,bottom:t,left:t}}function Ny(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qN(t,e,n){let{reference:r,floating:i}=t;const s=ol(e),o=uT(e),a=cT(o),c=Zo(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(kd(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Dq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=qN(u,r,c),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:w,y:S,data:A,reset:E}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=S??f,m={...m,[y]:{...m[y],...A}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=qN(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Mh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Jo(e,t),v=P$(m),y=a[h?f==="floating"?"reference":"floating":f],b=Ny(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Ny(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:c}):w);return{top:(b.top-E.top+v.top)/A.y,bottom:(E.bottom-b.bottom+v.bottom)/A.y,left:(b.left-E.left+v.left)/A.x,right:(E.right-b.right+v.right)/A.x}}const Lq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Jo(t,e)||{};if(u==null)return{};const f=P$(d),h={x:n,y:r},m=uT(i),v=cT(m),g=await o.getDimensions(u),y=m==="y",b=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[m]-h[m]-s.floating[v],E=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=N?N[S]:0;(!_||!await(o.isElement==null?void 0:o.isElement(N)))&&(_=a.floating[S]||s.floating[v]);const T=A/2-E/2,P=_/2-g[v]/2-1,I=sl(f[b],P),j=sl(f[w],P),O=I,R=_-g[v]-j,F=_/2-g[v]/2+T,B=V1(O,F,R),U=!c.arrow&&kd(i)!=null&&F!==B&&s.reference[v]/2-(F<O?I:j)-g[v]/2<0,W=U?F<O?F-O:F-R:0;return{[m]:h[m]+W,data:{[m]:B,centerOffset:F-B-W,...U&&{alignmentOffset:W}},reset:U}}}),$q=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Jo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Zo(i),w=ol(a),S=Zo(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(S||!g?[Py(a)]:Iq(a)),N=v!=="none";!h&&N&&E.push(...Rq(a,g,v,A));const _=[a,...E],T=await Mh(e,y),P=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[b]),f){const F=kq(i,o,A);P.push(T[F[0]],T[F[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every(F=>F<=0)){var j,O;const F=(((j=s.flip)==null?void 0:j.index)||0)+1,B=_[F];if(B)return{data:{index:F,overflows:I},reset:{placement:B}};let U=(O=I.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var R;const W=(R=I.filter($=>{if(N){const z=ol($.placement);return z===w||z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(z=>z>0).reduce((z,re)=>z+re,0)]).sort(($,z)=>$[1]-z[1])[0])==null?void 0:R[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function GN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KN(t){return Pq.some(e=>t[e]>=0)}const Fq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Jo(t,e);switch(r){case"referenceHidden":{const s=await Mh(e,{...i,elementContext:"reference"}),o=GN(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:KN(o)}}}case"escaped":{const s=await Mh(e,{...i,altBoundary:!0}),o=GN(s,n.floating);return{data:{escapedOffsets:o,escaped:KN(o)}}}default:return{}}}}};async function Vq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Zo(n),a=kd(n),c=ol(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=Jo(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Bq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await Vq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Uq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=Jo(t,e),u={x:n,y:r},d=await Mh(e,c),f=ol(Zo(i)),h=lT(f);let m=u[h],v=u[f];if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+d[y],S=m-d[b];m=V1(w,m,S)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=v+d[y],S=v-d[b];v=V1(w,v,S)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},zq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Jo(t,e),d={x:n,y:r},f=ol(i),h=lT(f);let m=d[h],v=d[f];const g=Jo(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=h==="y"?"height":"width",A=s.reference[h]-s.floating[S]+y.mainAxis,E=s.reference[h]+s.reference[S]-y.mainAxis;m<A?m=A:m>E&&(m=E)}if(u){var b,w;const S=h==="y"?"width":"height",A=["top","left"].includes(Zo(i)),E=s.reference[f]-s.floating[S]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:y.crossAxis),N=s.reference[f]+s.reference[S]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?y.crossAxis:0);v<E?v=E:v>N&&(v=N)}return{[h]:m,[f]:v}}}},Wq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Jo(t,e),d=await Mh(e,u),f=Zo(i),h=kd(i),m=ol(i)==="y",{width:v,height:g}=s.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=v-d.left-d.right,A=sl(g-d[y],w),E=sl(v-d[b],S),N=!e.middlewareData.shift;let _=A,T=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),N&&!h){const I=Ai(d.left,0),j=Ai(d.right,0),O=Ai(d.top,0),R=Ai(d.bottom,0);m?T=v-2*(I!==0||j!==0?I+j:Ai(d.left,d.right)):_=g-2*(O!==0||R!==0?O+R:Ai(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:_});const P=await o.getDimensions(a.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Ax(){return typeof window<"u"}function Id(t){return N$(t)?(t.nodeName||"").toLowerCase():"#document"}function Ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wo(t){var e;return(e=(N$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function N$(t){return Ax()?t instanceof Node||t instanceof Ri(t).Node:!1}function Fs(t){return Ax()?t instanceof Element||t instanceof Ri(t).Element:!1}function go(t){return Ax()?t instanceof HTMLElement||t instanceof Ri(t).HTMLElement:!1}function YN(t){return!Ax()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ri(t).ShadowRoot}function Wp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hq(t){return["table","td","th"].includes(Id(t))}function Px(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dT(t){const e=fT(),n=Fs(t)?Vs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qq(t){let e=al(t);for(;go(e)&&!qu(e);){if(dT(e))return e;if(Px(e))return null;e=al(e)}return null}function fT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qu(t){return["html","body","#document"].includes(Id(t))}function Vs(t){return Ri(t).getComputedStyle(t)}function Nx(t){return Fs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function al(t){if(Id(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YN(t)&&t.host||wo(t);return YN(e)?e.host:e}function j$(t){const e=al(t);return qu(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&Wp(e)?e:j$(e)}function Dh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=j$(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ri(i);if(s){const a=U1(o);return e.concat(o,o.visualViewport||[],Wp(i)?i:[],a&&n?Dh(a):[])}return e.concat(i,Dh(i,[],n))}function U1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k$(t){const e=Vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=go(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ay(n)!==s||Ay(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function hT(t){return Fs(t)?t:t.contextElement}function yu(t){const e=hT(t);if(!go(e))return ao(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=k$(e);let o=(s?Ay(n.width):n.width)/r,a=(s?Ay(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Gq=ao(0);function I$(t){const e=Ri(t);return!fT()||!e.visualViewport?Gq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ri(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=hT(t);let o=ao(1);e&&(r?Fs(r)&&(o=yu(r)):o=yu(t));const a=Kq(s,n,r)?I$(s):ao(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Ri(s),m=r&&Fs(r)?Ri(r):r;let v=h,g=U1(v);for(;g&&r&&m!==v;){const y=yu(g),b=g.getBoundingClientRect(),w=Vs(g),S=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,A=b.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=S,u+=A,v=Ri(g),g=U1(v)}}return Ny({width:d,height:f,x:c,y:u})}function pT(t,e){const n=Nx(t).scrollLeft;return e?e.left+n:cc(wo(t)).left+n}function O$(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:pT(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Yq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=wo(r),a=e?Px(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ao(1);const d=ao(0),f=go(r);if((f||!f&&!s)&&((Id(r)!=="body"||Wp(o))&&(c=Nx(r)),go(r))){const m=cc(r);u=yu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!s?O$(o,c,!0):ao(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Xq(t){return Array.from(t.getClientRects())}function Qq(t){const e=wo(t),n=Nx(t),r=t.ownerDocument.body,i=Ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pT(t);const a=-n.scrollTop;return Vs(r).direction==="rtl"&&(o+=Ai(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Jq(t,e){const n=Ri(t),r=wo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=fT();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Zq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=go(t)?yu(t):ao(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function XN(t,e,n){let r;if(e==="viewport")r=Jq(t,n);else if(e==="document")r=Qq(wo(t));else if(Fs(e))r=Zq(e,n);else{const i=I$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ny(r)}function R$(t,e){const n=al(t);return n===e||!Fs(n)||qu(n)?!1:Vs(n).position==="fixed"||R$(n,e)}function eG(t,e){const n=e.get(t);if(n)return n;let r=Dh(t,[],!1).filter(a=>Fs(a)&&Id(a)!=="body"),i=null;const s=Vs(t).position==="fixed";let o=s?al(t):t;for(;Fs(o)&&!qu(o);){const a=Vs(o),c=dT(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wp(o)&&!c&&R$(t,o))?r=r.filter(d=>d!==o):i=a,o=al(o)}return e.set(t,r),r}function tG(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Px(e)?[]:eG(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=XN(e,d,i);return u.top=Ai(f.top,u.top),u.right=sl(f.right,u.right),u.bottom=sl(f.bottom,u.bottom),u.left=Ai(f.left,u.left),u},XN(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nG(t){const{width:e,height:n}=k$(t);return{width:e,height:n}}function rG(t,e,n){const r=go(e),i=wo(e),s=n==="fixed",o=cc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=ao(0);if(r||!r&&!s)if((Id(e)!=="body"||Wp(i))&&(a=Nx(e)),r){const h=cc(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&(c.x=pT(i));const u=i&&!r&&!s?O$(i,a):ao(0),d=o.left+a.scrollLeft-c.x-u.x,f=o.top+a.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Lb(t){return Vs(t).position==="static"}function QN(t,e){if(!go(t)||Vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wo(t)===n&&(n=n.ownerDocument.body),n}function M$(t,e){const n=Ri(t);if(Px(t))return n;if(!go(t)){let i=al(t);for(;i&&!qu(i);){if(Fs(i)&&!Lb(i))return i;i=al(i)}return n}let r=QN(t,e);for(;r&&Hq(r)&&Lb(r);)r=QN(r,e);return r&&qu(r)&&Lb(r)&&!dT(r)?n:r||qq(t)||n}const iG=async function(t){const e=this.getOffsetParent||M$,n=this.getDimensions,r=await n(t.floating);return{reference:rG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function sG(t){return Vs(t).direction==="rtl"}const oG={convertOffsetParentRelativeRectToViewportRelativeRect:Yq,getDocumentElement:wo,getClippingRect:tG,getOffsetParent:M$,getElementRects:iG,getClientRects:Xq,getDimensions:nG,getScale:yu,isElement:Fs,isRTL:sG};function D$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aG(t,e){let n=null,r;const i=wo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=zm(f),g=zm(i.clientWidth-(d+h)),y=zm(i.clientHeight-(f+m)),b=zm(d),S={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Ai(0,sl(1,c))||1};let A=!0;function E(N){const _=N[0].intersectionRatio;if(_!==c){if(!A)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!D$(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return o(!0),s}function lG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=hT(t),d=i||s?[...u?Dh(u):[],...Dh(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&a?aG(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let v,g=c?cc(t):null;c&&y();function y(){const b=cc(t);g&&!D$(g,b)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const cG=Bq,uG=Uq,dG=$q,fG=Wq,hG=Fq,JN=Lq,pG=zq,mG=(t,e,n)=>{const r=new Map,i={platform:oG,...n},s={...i.platform,_c:r};return Dq(t,e,{...i,platform:s})};var Rg=typeof document<"u"?x.useLayoutEffect:x.useEffect;function jy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!jy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function L$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZN(t,e){const n=L$(t);return Math.round(e*n)/n}function $b(t){const e=x.useRef(t);return Rg(()=>{e.current=t}),e}function gG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(r);jy(h,r)||m(r);const[v,g]=x.useState(null),[y,b]=x.useState(null),w=x.useCallback($=>{$!==N.current&&(N.current=$,g($))},[]),S=x.useCallback($=>{$!==_.current&&(_.current=$,b($))},[]),A=s||v,E=o||y,N=x.useRef(null),_=x.useRef(null),T=x.useRef(d),P=c!=null,I=$b(c),j=$b(i),O=$b(u),R=x.useCallback(()=>{if(!N.current||!_.current)return;const $={placement:e,strategy:n,middleware:h};j.current&&($.platform=j.current),mG(N.current,_.current,$).then(z=>{const re={...z,isPositioned:O.current!==!1};F.current&&!jy(T.current,re)&&(T.current=re,Ec.flushSync(()=>{f(re)}))})},[h,e,n,j,O]);Rg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const F=x.useRef(!1);Rg(()=>(F.current=!0,()=>{F.current=!1}),[]),Rg(()=>{if(A&&(N.current=A),E&&(_.current=E),A&&E){if(I.current)return I.current(A,E,R);R()}},[A,E,R,I,P]);const B=x.useMemo(()=>({reference:N,floating:_,setReference:w,setFloating:S}),[w,S]),U=x.useMemo(()=>({reference:A,floating:E}),[A,E]),W=x.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const z=ZN(U.floating,d.x),re=ZN(U.floating,d.y);return a?{...$,transform:"translate("+z+"px, "+re+"px)",...L$(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:re}},[n,a,U.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:B,elements:U,floatingStyles:W}),[d,R,B,U,W])}const yG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JN({element:r.current,padding:i}).fn(n):{}:r?JN({element:r,padding:i}).fn(n):{}}}},vG=(t,e)=>({...cG(t),options:[t,e]}),xG=(t,e)=>({...uG(t),options:[t,e]}),bG=(t,e)=>({...pG(t),options:[t,e]}),wG=(t,e)=>({...dG(t),options:[t,e]}),SG=(t,e)=>({...fG(t),options:[t,e]}),_G=(t,e)=>({...hG(t),options:[t,e]}),EG=(t,e)=>({...yG(t),options:[t,e]});var TG="Arrow",$$=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(et.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$$.displayName=TG;var CG=$$;function mT(t){const[e,n]=x.useState(void 0);return mr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gT="Popper",[F$,jx]=Fi(gT),[AG,V$]=F$(gT),B$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return l.jsx(AG,{scope:e,anchor:r,onAnchorChange:i,children:n})};B$.displayName=gT;var U$="PopperAnchor",z$=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=V$(U$,n),o=x.useRef(null),a=bt(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(et.div,{...i,ref:a})});z$.displayName=U$;var yT="PopperContent",[PG,NG]=F$(yT),W$=x.forwardRef((t,e)=>{var xe,Ne,le,de,Y,V;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=V$(yT,n),[b,w]=x.useState(null),S=bt(e,we=>w(we)),[A,E]=x.useState(null),N=mT(A),_=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,P=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],O=j.length>0,R={padding:I,boundary:j.filter(kG),altBoundary:O},{refs:F,floatingStyles:B,placement:U,isPositioned:W,middlewareData:$}=gG({strategy:"fixed",placement:P,whileElementsMounted:(...we)=>lG(...we,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[vG({mainAxis:i+T,alignmentAxis:o}),c&&xG({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bG():void 0,...R}),c&&wG({...R}),SG({...R,apply:({elements:we,rects:_e,availableWidth:nt,availableHeight:Ye})=>{const{width:rt,height:gt}=_e.reference,Ce=we.floating.style;Ce.setProperty("--radix-popper-available-width",`${nt}px`),Ce.setProperty("--radix-popper-available-height",`${Ye}px`),Ce.setProperty("--radix-popper-anchor-width",`${rt}px`),Ce.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),A&&EG({element:A,padding:a}),IG({arrowWidth:_,arrowHeight:T}),h&&_G({strategy:"referenceHidden",...R})]}),[z,re]=G$(U),se=Mn(v);mr(()=>{W&&(se==null||se())},[W,se]);const Q=(xe=$.arrow)==null?void 0:xe.x,ge=(Ne=$.arrow)==null?void 0:Ne.y,pe=((le=$.arrow)==null?void 0:le.centerOffset)!==0,[Ee,tt]=x.useState();return mr(()=>{b&&tt(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(de=$.transformOrigin)==null?void 0:de.x,(Y=$.transformOrigin)==null?void 0:Y.y].join(" "),...((V=$.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(PG,{scope:n,placedSide:z,onArrowChange:E,arrowX:Q,arrowY:ge,shouldHideArrow:pe,children:l.jsx(et.div,{"data-side":z,"data-align":re,...g,ref:S,style:{...g.style,animation:W?void 0:"none"}})})})});W$.displayName=yT;var H$="PopperArrow",jG={top:"bottom",right:"left",bottom:"top",left:"right"},q$=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=NG(H$,r),o=jG[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(CG,{...i,ref:n,style:{...i.style,display:"block"}})})});q$.displayName=H$;function kG(t){return t!==null}var IG=t=>({name:"transformOrigin",options:t,fn(e){var y,b,w;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=G$(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):u==="top"?(v=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function G$(t){const[e,n="center"]=t.split("-");return[e,n]}var OG=B$,K$=z$,Y$=W$,X$=q$,[kx,y2e]=Fi("Tooltip",[jx]),vT=jx(),Q$="TooltipProvider",RG=700,ej="tooltip.open",[MG,J$]=kx(Q$),Z$=t=>{const{__scopeTooltip:e,delayDuration:n=RG,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=x.useRef(!0),a=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(MG,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};Z$.displayName=Q$;var e4="Tooltip",[v2e,Ix]=kx(e4),z1="TooltipTrigger",DG=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ix(z1,n),s=J$(z1,n),o=vT(n),a=x.useRef(null),c=bt(e,a,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(K$,{asChild:!0,...o,children:l.jsx(et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Le(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Le(t.onBlur,i.onClose),onClick:Le(t.onClick,i.onClose)})})});DG.displayName=z1;var LG="TooltipPortal",[x2e,$G]=kx(LG,{forceMount:void 0}),Gu="TooltipContent",t4=x.forwardRef((t,e)=>{const n=$G(Gu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ix(Gu,t.__scopeTooltip);return l.jsx(as,{present:r||o.open,children:o.disableHoverableContent?l.jsx(n4,{side:i,...s,ref:e}):l.jsx(FG,{side:i,...s,ref:e})})}),FG=x.forwardRef((t,e)=>{const n=Ix(Gu,t.__scopeTooltip),r=J$(Gu,t.__scopeTooltip),i=x.useRef(null),s=bt(e,i),[o,a]=x.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{a(null),f(!1)},[f]),m=x.useCallback((v,g)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},w=WG(b,y.getBoundingClientRect()),S=HG(b,w),A=qG(g.getBoundingClientRect()),E=KG([...S,...A]);a(E),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const v=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),x.useEffect(()=>{if(o){const v=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),S=!GG(b,o);w?h():S&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),l.jsx(n4,{...t,ref:s})}),[VG,BG]=kx(e4,{isInside:!1}),UG=NW("TooltipContent"),n4=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Ix(Gu,n),u=vT(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(ej,d),()=>document.removeEventListener(ej,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Up,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Y$,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(UG,{children:r}),l.jsx(VG,{scope:n,isInside:!0,children:l.jsx(YW,{id:c.contentId,role:"tooltip",children:i||r})})]})})});t4.displayName=Gu;var r4="TooltipArrow",zG=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vT(n);return BG(r4,n).isInside?null:l.jsx(X$,{...i,...r,ref:e})});zG.displayName=r4;function WG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HG(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qG(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function GG(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(i=!i)}return i}function KG(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YG(e)}function YG(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var XG=Z$,i4=t4;const QG=XG,JG=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(i4,{ref:r,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));JG.displayName=i4.displayName;const Mg=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],s4=x.createContext(void 0);function ZG({children:t}){const[e,n]=x.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=x.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&Mg.find(u=>u.id===a)||Mg[0]});x.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),x.useEffect(()=>{const a=document.documentElement,c=r.primary,u=r.primaryLight;a.style.setProperty("--primary",c),a.style.setProperty("--ring",c),a.style.setProperty("--sidebar-primary",e==="dark"?u:c),a.style.setProperty("--sidebar-ring",e==="dark"?u:c);const[d]=c.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const s=()=>{n(a=>a==="light"?"dark":"light")},o=a=>{i(a)};return l.jsx(s4.Provider,{value:{theme:e,setTheme:n,toggleTheme:s,colorTheme:r,setColorTheme:o},children:t})}function eK(){const t=x.useContext(s4);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const tK=()=>{};var tj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},a4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new rK;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iK=function(t){const e=o4(t);return a4.encodeByteArray(e,!0)},ky=function(t){return iK(t).replace(/\./g,"")},l4=function(t){try{return a4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=()=>sK().__FIREBASE_DEFAULTS__,aK=()=>{if(typeof process>"u"||typeof tj>"u")return;const t=tj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l4(t[1]);return e&&JSON.parse(e)},Ox=()=>{try{return tK()||oK()||aK()||lK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c4=t=>{var e,n;return(n=(e=Ox())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cK=t=>{const e=c4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u4=()=>{var t;return(t=Ox())==null?void 0:t.config},d4=t=>{var e;return(e=Ox())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ky(JSON.stringify(n)),ky(JSON.stringify(o)),""].join(".")}const Zf={};function fK(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zf))Zf[e]?t.emulator.push(e):t.prod.push(e);return t}function hK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nj=!1;function h4(t,e){if(typeof window>"u"||typeof document>"u"||!Od(window.location.host)||Zf[t]===e||Zf[t]||nj)return;Zf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=fK().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{nj=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=hK(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(y,g);const A=u();c(w,b),S.append(w,v,y,A),document.body.appendChild(S)}s?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function mK(){var e;const t=(e=Ox())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xK(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bK(){return!mK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wK(){try{return typeof indexedDB=="object"}catch{return!1}}function SK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K="FirebaseError";class ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_K,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hp.prototype.create)}}class Hp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ua(i,a,r)}}function EK(t,e){return t.replace(TK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TK=/\{\$([^}]+)}/g;function CK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rj(s)&&rj(o)){if(!uc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AK(t,e){const n=new PK(t,e);return n.subscribe.bind(n)}class PK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fb),i.error===void 0&&(i.error=Fb),i.complete===void 0&&(i.complete=Fb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IK(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kK(t){return t===kl?void 0:t}function IK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const RK={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},MK=_t.INFO,DK={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},LK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xT{constructor(e){this.name=e,this._logLevel=MK,this._logHandler=LK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const $K=(t,e)=>e.some(n=>t instanceof n);let ij,sj;function FK(){return ij||(ij=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VK(){return sj||(sj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p4=new WeakMap,W1=new WeakMap,m4=new WeakMap,Vb=new WeakMap,bT=new WeakMap;function BK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&p4.set(n,t)}).catch(()=>{}),bT.set(e,t),e}function UK(t){if(W1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});W1.set(t,e)}let H1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zK(t){H1=t(H1)}function WK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bb(this),e,...n);return m4.set(r,e.sort?e.sort():[e]),Xa(r)}:VK().includes(t)?function(...e){return t.apply(Bb(this),e),Xa(p4.get(this))}:function(...e){return Xa(t.apply(Bb(this),e))}}function HK(t){return typeof t=="function"?WK(t):(t instanceof IDBTransaction&&UK(t),$K(t,FK())?new Proxy(t,H1):t)}function Xa(t){if(t instanceof IDBRequest)return BK(t);if(Vb.has(t))return Vb.get(t);const e=HK(t);return e!==t&&(Vb.set(t,e),bT.set(e,t)),e}const Bb=t=>bT.get(t);function qK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Xa(o.result),c.oldVersion,c.newVersion,Xa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GK=["get","getKey","getAll","getAllKeys","count"],KK=["put","add","delete","clear"],Ub=new Map;function oj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ub.get(e))return Ub.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GK.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Ub.set(e,s),s}zK(t=>({...t,get:(e,n,r)=>oj(e,n)||t.get(e,n,r),has:(e,n)=>!!oj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q1="@firebase/app",aj="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new xT("@firebase/app"),QK="@firebase/app-compat",JK="@firebase/analytics-compat",ZK="@firebase/analytics",eY="@firebase/app-check-compat",tY="@firebase/app-check",nY="@firebase/auth",rY="@firebase/auth-compat",iY="@firebase/database",sY="@firebase/data-connect",oY="@firebase/database-compat",aY="@firebase/functions",lY="@firebase/functions-compat",cY="@firebase/installations",uY="@firebase/installations-compat",dY="@firebase/messaging",fY="@firebase/messaging-compat",hY="@firebase/performance",pY="@firebase/performance-compat",mY="@firebase/remote-config",gY="@firebase/remote-config-compat",yY="@firebase/storage",vY="@firebase/storage-compat",xY="@firebase/firestore",bY="@firebase/ai",wY="@firebase/firestore-compat",SY="firebase",_Y="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="[DEFAULT]",EY={[q1]:"fire-core",[QK]:"fire-core-compat",[ZK]:"fire-analytics",[JK]:"fire-analytics-compat",[tY]:"fire-app-check",[eY]:"fire-app-check-compat",[nY]:"fire-auth",[rY]:"fire-auth-compat",[iY]:"fire-rtdb",[sY]:"fire-data-connect",[oY]:"fire-rtdb-compat",[aY]:"fire-fn",[lY]:"fire-fn-compat",[cY]:"fire-iid",[uY]:"fire-iid-compat",[dY]:"fire-fcm",[fY]:"fire-fcm-compat",[hY]:"fire-perf",[pY]:"fire-perf-compat",[mY]:"fire-rc",[gY]:"fire-rc-compat",[yY]:"fire-gcs",[vY]:"fire-gcs-compat",[xY]:"fire-fst",[wY]:"fire-fst-compat",[bY]:"fire-vertex","fire-js":"fire-js",[SY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map,TY=new Map,K1=new Map;function lj(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ku(t){const e=t.name;if(K1.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;K1.set(e,t);for(const n of Iy.values())lj(n,t);for(const n of TY.values())lj(n,t);return!0}function wT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function As(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Hp("app","Firebase",CY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=_Y;function g4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:G1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=u4()),!n)throw Qa.create("no-options");const s=Iy.get(i);if(s){if(uc(n,s.options)&&uc(r,s.config))return s;throw Qa.create("duplicate-app",{appName:i})}const o=new OK(i);for(const c of K1.values())o.addComponent(c);const a=new AY(n,r,o);return Iy.set(i,a),a}function y4(t=G1){const e=Iy.get(t);if(!e&&t===G1&&u4())return g4();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=EY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(o.join(" "));return}Ku(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY="firebase-heartbeat-database",NY=1,Lh="firebase-heartbeat-store";let zb=null;function v4(){return zb||(zb=qK(PY,NY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),zb}async function jY(t){try{const n=(await v4()).transaction(Lh),r=await n.objectStore(Lh).get(x4(t));return await n.done,r}catch(e){if(e instanceof ua)ea.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function cj(t,e){try{const r=(await v4()).transaction(Lh,"readwrite");await r.objectStore(Lh).put(e,x4(t)),await r.done}catch(n){if(n instanceof ua)ea.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function x4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=1024,IY=30;class OY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>IY){const o=DY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uj(),{heartbeatsToSend:r,unsentEntries:i}=RY(this._heartbeatsCache.heartbeats),s=ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ea.warn(n),""}}}function uj(){return new Date().toISOString().substring(0,10)}function RY(t,e=kY){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wK()?SK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dj(t){return ky(JSON.stringify({version:2,heartbeats:t})).length}function DY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t){Ku(new dc("platform-logger",e=>new YK(e),"PRIVATE")),Ku(new dc("heartbeat",e=>new OY(e),"PRIVATE")),Ja(q1,aj,t),Ja(q1,aj,"esm2020"),Ja("fire-js","")}LY("");var $Y="firebase",FY="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja($Y,FY,"app");function b4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VY=b4,w4=new Hp("auth","Firebase",b4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new xT("@firebase/auth");function BY(t,...e){Oy.logLevel<=_t.WARN&&Oy.warn(`Auth (${Rd}): ${t}`,...e)}function Dg(t,...e){Oy.logLevel<=_t.ERROR&&Oy.error(`Auth (${Rd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,...e){throw _T(t,...e)}function Ms(t,...e){return _T(t,...e)}function ST(t,e,n){const r={...VY(),[e]:n};return new Hp("auth","Firebase",r).create(e,{appName:t.name})}function Jl(t){return ST(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yo(t,"argument-error"),ST(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _T(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w4.create(t,...e)}function ct(t,e,...n){if(!t)throw _T(e,...n)}function Fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dg(e),new Error(e)}function ta(t,e){t||Fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zY(){return fj()==="http:"||fj()==="https:"}function fj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zY()||yK()||"connection"in navigator)?navigator.onLine:!0}function HY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=pK()||vK()}get(){return WY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KY=new Gp(3e4,6e4);function TT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Md(t,e,n,r,i={}){return _4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=qp({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return gK()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Od(t.emulatorConfig.host)&&(u.credentials="include"),S4.fetch()(await E4(t,t.config.apiHost,n,a),u)})}async function _4(t,e,n){t._canInitEmulator=!1;const r={...qY,...e};try{const i=new XY(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Wm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Wm(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ST(t,d,u);yo(t,d)}}catch(i){if(i instanceof ua)throw i;yo(t,"network-request-failed",{message:String(i)})}}async function YY(t,e,n,r,i={}){const s=await Md(t,e,n,r,i);return"mfaPendingCredential"in s&&yo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function E4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ET(t.config,i):`${t.config.apiScheme}://${i}`;return GY.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class XY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),KY.get())})}}function Wm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QY(t,e){return Md(t,"POST","/v1/accounts:delete",e)}async function Ry(t,e){return Md(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JY(t,e=!1){const n=ss(t),r=await n.getIdToken(e),i=CT(r);ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eh(Wb(i.auth_time)),issuedAtTime:eh(Wb(i.iat)),expirationTime:eh(Wb(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wb(t){return Number(t)*1e3}function CT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dg("JWT malformed, contained fewer than 3 sections"),null;try{const i=l4(n);return i?JSON.parse(i):(Dg("Failed to decode base64 JWT payload"),null)}catch(i){return Dg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hj(t){const e=CT(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ua&&ZY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(t){var f;const e=t.auth,n=await t.getIdToken(),r=await $h(t,Ry(e,{idToken:n}));ct(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?T4(i.providerUserInfo):[],o=nX(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new X1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function tX(t){const e=ss(t);await My(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rX(t,e){const n=await _4(t,{},async()=>{const r=qp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await E4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Od(t.emulatorConfig.host)&&(c.credentials="include"),S4.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iX(t,e){return Md(t,"POST","/v2/accounts:revokeToken",TT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=hj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rX(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vu;return r&&(ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vu,this.toJSON())}_performRefresh(){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new eX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new X1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $h(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JY(this,e)}reload(){return tX(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await My(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(Jl(this.auth));const e=await this.getIdToken();return await $h(this,QY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:v,stsTokenManager:g}=n;ct(f&&g,e,"internal-error");const y=vu.fromJSON(this.name,g);ct(typeof f=="string",e,"internal-error"),_a(r,e.name),_a(i,e.name),ct(typeof h=="boolean",e,"internal-error"),ct(typeof m=="boolean",e,"internal-error"),_a(s,e.name),_a(o,e.name),_a(a,e.name),_a(c,e.name),_a(u,e.name),_a(d,e.name);const b=new Ns({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:y,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(b.providerData=v.map(w=>({...w}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new vu;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await My(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ct(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?T4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new vu;a.updateFromIdToken(r);const c=new Ns({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new X1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Map;function Vo(t){ta(t instanceof Function,"Expected a class definition");let e=pj.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C4.type="NONE";const mj=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ry(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Vo(mj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vo(mj);const o=Lg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Ry(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ns._fromGetAccountInfoResponse(e,h,d)}else f=Ns._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new xu(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I4(e))return"Blackberry";if(O4(e))return"Webos";if(P4(e))return"Safari";if((e.includes("chrome/")||N4(e))&&!e.includes("edge/"))return"Chrome";if(k4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function A4(t=Hr()){return/firefox\//i.test(t)}function P4(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N4(t=Hr()){return/crios\//i.test(t)}function j4(t=Hr()){return/iemobile/i.test(t)}function k4(t=Hr()){return/android/i.test(t)}function I4(t=Hr()){return/blackberry/i.test(t)}function O4(t=Hr()){return/webos/i.test(t)}function AT(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sX(t=Hr()){var e;return AT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function oX(){return xK()&&document.documentMode===10}function R4(t=Hr()){return AT(t)||k4(t)||O4(t)||I4(t)||/windows phone/i.test(t)||j4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e=[]){let n;switch(t){case"Browser":n=gj(Hr());break;case"Worker":n=`${gj(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(t,e={}){return Md(t,"GET","/v2/passwordPolicy",TT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=6;class uX{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yj(this),this.idTokenSubscription=new yj(this),this.beforeStateQueue=new aX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ry(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(As(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await My(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(Jl(this));const n=e?ss(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(Jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(Jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lX(this),n=new uX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vo(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&BY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rx(t){return ss(t)}class yj{constructor(e){this.auth=e,this.observer=null,this.addObserver=AK(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fX(t){PT=t}function hX(t){return PT.loadJS(t)}function pX(){return PT.gapiScript}function mX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t,e){const n=wT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uc(s,e??{}))return i;yo(i,"already-initialized")}return n.initialize({options:e})}function yX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vX(t,e,n){const r=Rx(t);ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=D4(e),{host:o,port:a}=xX(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ct(uc(u,r.config.emulator)&&uc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Od(o)?(f4(`${s}//${o}${c}`),h4("Auth",!0)):bX()}function D4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xX(t){const e=D4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vj(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:vj(o)}}}function vj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,n){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e){return YY(t,"POST","/v1/accounts:signInWithIdp",TT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX="http://localhost";class fc extends L4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new fc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bu(e,n)}buildRequest(){const e={requestUri:wX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends NT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Kp{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Kp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Kp{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.GITHUB_SIGN_IN_METHOD="github.com";ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Kp{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),o=xj(r);return new Yu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xj(r);return new Yu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends ua{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dy(e,n,r,i)}}function $4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dy._fromErrorAndOperation(t,s,e,r):s})}async function SX(t,e,n=!1){const r=await $h(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _X(t,e,n=!1){const{auth:r}=t;if(As(r.app))return Promise.reject(Jl(r));const i="reauthenticate";try{const s=await $h(t,$4(r,i,e,t),n);ct(s.idToken,r,"internal-error");const o=CT(s.idToken);ct(o,r,"internal-error");const{sub:a}=o;return ct(t.uid===a,r,"user-mismatch"),Yu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EX(t,e,n=!1){if(As(t.app))return Promise.reject(Jl(t));const r="signIn",i=await $4(t,r,e),s=await Yu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function TX(t,e,n,r){return ss(t).onIdTokenChanged(e,n,r)}function CX(t,e,n){return ss(t).beforeAuthStateChanged(e,n)}function AX(t,e,n,r){return ss(t).onAuthStateChanged(e,n,r)}function PX(t){return ss(t).signOut()}const Ly="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ly,"1"),this.storage.removeItem(Ly),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=1e3,jX=10;class V4 extends F4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V4.type="LOCAL";const kX=V4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4 extends F4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B4.type="SESSION";const U4=B4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await IX(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=jT("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return window}function RX(t){lo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof lo().WorkerGlobalScope<"u"&&typeof lo().importScripts=="function"}async function MX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LX(){return z4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebaseLocalStorageDb",$X=1,$y="firebaseLocalStorage",H4="fbase_key";class Yp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dx(t,e){return t.transaction([$y],e?"readwrite":"readonly").objectStore($y)}function FX(){const t=indexedDB.deleteDatabase(W4);return new Yp(t).toPromise()}function Q1(){const t=indexedDB.open(W4,$X);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($y,{keyPath:H4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($y)?e(r):(r.close(),await FX(),e(await Q1()))})})}async function bj(t,e,n){const r=Dx(t,!0).put({[H4]:e,value:n});return new Yp(r).toPromise()}async function VX(t,e){const n=Dx(t,!1).get(e),r=await new Yp(n).toPromise();return r===void 0?null:r.value}function wj(t,e){const n=Dx(t,!0).delete(e);return new Yp(n).toPromise()}const BX=800,UX=3;class q4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mx._getInstance(LX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MX(),!this.activeServiceWorker)return;this.sender=new OX(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q1();return await bj(e,Ly,"1"),await wj(e,Ly),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Dx(i,!1).getAll();return new Yp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q4.type="LOCAL";const zX=q4;new Gp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){return e?Vo(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends L4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WX(t){return EX(t.auth,new kT(t),t.bypassAuthState)}function HX(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),_X(n,new kT(t),t.bypassAuthState)}async function qX(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),SX(n,new kT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WX;case"linkViaPopup":case"linkViaRedirect":return qX;case"reauthViaPopup":case"reauthViaRedirect":return HX;default:yo(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX=new Gp(2e3,1e4);async function Y4(t,e,n){if(As(t.app))return Promise.reject(Ms(t,"operation-not-supported-in-this-environment"));const r=Rx(t);UY(t,e,NT);const i=G4(r,n);return new Vl(r,"signInViaPopup",e,i).executeNotNull()}class Vl extends K4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=jT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GX.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX="pendingRedirect",$g=new Map;class YX extends K4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$g.get(this.auth._key());if(!e){try{const r=await XX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$g.set(this.auth._key(),e)}return this.bypassAuthState||$g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XX(t,e){const n=ZX(e),r=JX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QX(t,e){$g.set(t._key(),e)}function JX(t){return Vo(t._redirectPersistence)}function ZX(t){return Lg(KX,t.config.apiKey,t.name)}async function eQ(t,e,n=!1){if(As(t.app))return Promise.reject(Jl(t));const r=Rx(t),i=G4(r,e),o=await new YX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=10*60*1e3;class nQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sj(e))}saveEventToCache(e){this.cachedEventUids.add(Sj(e)),this.lastProcessedEventTime=Date.now()}}function Sj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iQ(t,e={}){return Md(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oQ=/^https?/;async function aQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iQ(t);for(const n of e)try{if(lQ(n))return}catch{}yo(t,"unauthorized-domain")}function lQ(t){const e=Y1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oQ.test(n))return!1;if(sQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=new Gp(3e4,6e4);function _j(){const t=lo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uQ(t){return new Promise((e,n)=>{var i,s,o;function r(){_j(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_j(),n(Ms(t,"network-request-failed"))},timeout:cQ.get()})}if((s=(i=lo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=lo().gapi)!=null&&o.load)r();else{const a=mX("iframefcb");return lo()[a]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},hX(`${pX()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Fg=null,e})}let Fg=null;function dQ(t){return Fg=Fg||uQ(t),Fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=new Gp(5e3,15e3),hQ="__/auth/iframe",pQ="emulator/auth/iframe",mQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yQ(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ET(e,pQ):`https://${t.config.authDomain}/${hQ}`,r={apiKey:e.apiKey,appName:t.name,v:Rd},i=gQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qp(r).slice(1)}`}async function vQ(t){const e=await dQ(t),n=lo().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:yQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mQ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ms(t,"network-request-failed"),a=lo().setTimeout(()=>{s(o)},fQ.get());function c(){lo().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bQ=500,wQ=600,SQ="_blank",_Q="http://localhost";class Ej{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EQ(t,e,n,r=bQ,i=wQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...xQ,width:r.toString(),height:i.toString(),top:s,left:o},u=Hr().toLowerCase();n&&(a=N4(u)?SQ:n),A4(u)&&(e=e||_Q,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(sX(u)&&a!=="_self")return TQ(e||"",a),new Ej(null);const f=window.open(e||"",a,d);ct(f,t,"popup-blocked");try{f.focus()}catch{}return new Ej(f)}function TQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ="__/auth/handler",AQ="emulator/auth/handler",PQ=encodeURIComponent("fac");async function Tj(t,e,n,r,i,s){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rd,eventId:i};if(e instanceof NT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Kp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${PQ}=${encodeURIComponent(c)}`:"";return`${NQ(t)}?${qp(a).slice(1)}${u}`}function NQ({config:t}){return t.emulator?ET(t,AQ):`https://${t.authDomain}/${CQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="webStorageSupport";class jQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U4,this._completeRedirectFn=eQ,this._overrideRedirectResult=QX}async _openPopup(e,n,r,i){var o;ta((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Tj(e,n,r,Y1(),i);return EQ(e,s,jT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Tj(e,n,r,Y1(),i);return RX(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ta(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vQ(e),r=new nQ(e);return n.register("authEvent",i=>(ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hb,{type:Hb},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Hb];s!==void 0&&n(!!s),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R4()||P4()||AT()}}const kQ=jQ;var Cj="@firebase/auth",Aj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RQ(t){Ku(new dc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M4(t)},u=new dX(r,i,s,c);return yX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ku(new dc("auth-internal",e=>{const n=Rx(e.getProvider("auth").getImmediate());return(r=>new IQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(Cj,Aj,OQ(t)),Ja(Cj,Aj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=5*60,DQ=d4("authIdTokenMaxAge")||MQ;let Pj=null;const LQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DQ)return;const i=n==null?void 0:n.token;Pj!==i&&(Pj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $Q(t=y4()){const e=wT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gX(t,{popupRedirectResolver:kQ,persistence:[zX,kX,U4]}),r=d4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=LQ(s.toString());CX(n,o,()=>o(n.currentUser)),TX(n,a=>o(a))}}const i=c4("auth");return i&&vX(n,`http://${i}`),n}function FQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RQ("Browser");var Nj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,Q4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function P(){}P.prototype=T.prototype,_.F=T.prototype,_.prototype=new P,_.prototype.constructor=_,_.D=function(I,j,O){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return T.prototype[j].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,P){P||(P=0);const I=Array(16);if(typeof T=="string")for(var j=0;j<16;++j)I[j]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(j=0;j<16;++j)I[j]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=_.g[0],P=_.g[1],j=_.g[2];let O=_.g[3],R;R=T+(O^P&(j^O))+I[0]+3614090360&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[2]+606105819&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[3]+3250441966&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[4]+4118548399&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[6]+2821735955&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[7]+4249261313&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[8]+1770035416&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[10]+4294925233&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[11]+2304563134&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(O^P&(j^O))+I[12]+1804603682&4294967295,T=P+(R<<7&4294967295|R>>>25),R=O+(j^T&(P^j))+I[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=j+(P^O&(T^P))+I[14]+2792965006&4294967295,j=O+(R<<17&4294967295|R>>>15),R=P+(T^j&(O^T))+I[15]+1236535329&4294967295,P=j+(R<<22&4294967295|R>>>10),R=T+(j^O&(P^j))+I[1]+4129170786&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[11]+643717713&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[0]+3921069994&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[5]+3593408605&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[15]+3634488961&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[4]+3889429448&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[9]+568446438&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[3]+4107603335&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[8]+1163531501&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(j^O&(P^j))+I[13]+2850285829&4294967295,T=P+(R<<5&4294967295|R>>>27),R=O+(P^j&(T^P))+I[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=j+(T^P&(O^T))+I[7]+1735328473&4294967295,j=O+(R<<14&4294967295|R>>>18),R=P+(O^T&(j^O))+I[12]+2368359562&4294967295,P=j+(R<<20&4294967295|R>>>12),R=T+(P^j^O)+I[5]+4294588738&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[11]+1839030562&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[14]+4259657740&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[1]+2763975236&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[7]+4139469664&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[10]+3200236656&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[13]+681279174&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[3]+3572445317&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[6]+76029189&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(P^j^O)+I[9]+3654602809&4294967295,T=P+(R<<4&4294967295|R>>>28),R=O+(T^P^j)+I[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=j+(O^T^P)+I[15]+530742520&4294967295,j=O+(R<<16&4294967295|R>>>16),R=P+(j^O^T)+I[2]+3299628645&4294967295,P=j+(R<<23&4294967295|R>>>9),R=T+(j^(P|~O))+I[0]+4096336452&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[14]+2878612391&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[5]+4237533241&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[12]+1700485571&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[10]+4293915773&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[1]+2240044497&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[8]+1873313359&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[6]+2734768916&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[13]+1309151649&4294967295,P=j+(R<<21&4294967295|R>>>11),R=T+(j^(P|~O))+I[4]+4149444226&4294967295,T=P+(R<<6&4294967295|R>>>26),R=O+(P^(T|~j))+I[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=j+(T^(O|~P))+I[2]+718787259&4294967295,j=O+(R<<15&4294967295|R>>>17),R=P+(O^(j|~T))+I[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+j&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const P=T-this.blockSize,I=this.C;let j=this.h,O=0;for(;O<T;){if(j==0)for(;O<=P;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<T;)if(I[j++]=_.charCodeAt(O++),j==this.blockSize){i(this,I),j=0;break}}else for(;O<T;)if(I[j++]=_[O++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var P=_.length-8;P<_.length;++P)_[P]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)_[T++]=this.g[P]>>>I&255;return _};function s(_,T){var P=a;return Object.prototype.hasOwnProperty.call(P,_)?P[_]:P[_]=T(_)}function o(_,T){this.h=T;const P=[];let I=!0;for(let j=_.length-1;j>=0;j--){const O=_[j]|0;I&&O==T||(P[j]=O,I=!1)}this.g=P}var a={};function c(_){return-128<=_&&_<128?s(_,function(T){return new o([T|0],T<0?-1:0)}):new o([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return y(u(-_));const T=[];let P=1;for(let I=0;_>=P;I++)T[I]=_/P|0,P*=4294967296;return new o(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return y(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(T,8));let I=f;for(let O=0;O<_.length;O+=8){var j=Math.min(8,_.length-O);const R=parseInt(_.substring(O,O+j),T);j<8?(j=u(Math.pow(T,j)),I=I.j(j).add(u(R))):(I=I.j(P),I=I.add(u(R)))}return I}var f=c(0),h=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let _=0,T=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);_+=(I>=0?I:4294967296+I)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(v(this))return"0";if(g(this))return"-"+y(this).toString(_);const T=u(Math.pow(_,6));var P=this;let I="";for(;;){const j=A(P,T).g;P=b(P,j.j(T));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(_);if(P=j,v(P))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function v(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=b(this,_),g(_)?-1:v(_)?0:1};function y(_){const T=_.g.length,P=[];for(let I=0;I<T;I++)P[I]=~_.g[I];return new o(P,~_.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),P=[];let I=0;for(let j=0;j<=T;j++){let O=I+(this.i(j)&65535)+(_.i(j)&65535),R=(O>>>16)+(this.i(j)>>>16)+(_.i(j)>>>16);I=R>>>16,O&=65535,R&=65535,P[j]=R<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(_,T){return _.add(y(T))}t.j=function(_){if(v(this)||v(_))return f;if(g(this))return g(_)?y(this).j(y(_)):y(y(this).j(_));if(g(_))return y(this.j(y(_)));if(this.l(m)<0&&_.l(m)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,P=[];for(var I=0;I<2*T;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let j=0;j<_.g.length;j++){const O=this.i(I)>>>16,R=this.i(I)&65535,F=_.i(j)>>>16,B=_.i(j)&65535;P[2*I+2*j]+=R*B,w(P,2*I+2*j),P[2*I+2*j+1]+=O*B,w(P,2*I+2*j+1),P[2*I+2*j+1]+=R*F,w(P,2*I+2*j+1),P[2*I+2*j+2]+=O*F,w(P,2*I+2*j+2)}for(_=0;_<T;_++)P[_]=P[2*_+1]<<16|P[2*_];for(_=T;_<2*T;_++)P[_]=0;return new o(P,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function A(_,T){if(v(T))throw Error("division by zero");if(v(_))return new S(f,f);if(g(_))return T=A(y(_),T),new S(y(T.g),y(T.h));if(g(T))return T=A(_,y(T)),new S(y(T.g),T.h);if(_.g.length>30){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=h,I=T;I.l(_)<=0;)P=E(P),I=E(I);var j=N(P,1),O=N(I,1);for(I=N(I,2),P=N(P,2);!v(I);){var R=O.add(I);R.l(_)<=0&&(j=j.add(P),O=R),I=N(I,1),P=N(P,1)}return T=b(_,j.j(T)),new S(j,T)}for(j=f;_.l(T)>=0;){for(P=Math.max(1,Math.floor(_.m()/T.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=u(P),R=O.j(T);g(R)||R.l(_)>0;)P-=I,O=u(P),R=O.j(T);v(O)&&(O=h),j=j.add(O),_=b(_,R)}return new S(j,_)}t.B=function(_){return A(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)&_.i(I);return new o(P,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)|_.i(I);return new o(P,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),P=[];for(let I=0;I<T;I++)P[I]=this.i(I)^_.i(I);return new o(P,this.h^_.h)};function E(_){const T=_.g.length+1,P=[];for(let I=0;I<T;I++)P[I]=_.i(I)<<1|_.i(I-1)>>>31;return new o(P,_.h)}function N(_,T){const P=T>>5;T%=32;const I=_.g.length-P,j=[];for(let O=0;O<I;O++)j[O]=T>0?_.i(O+P)>>>T|_.i(O+P+1)<<32-T:_.i(O+P);return new o(j,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Q4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Za=o}).apply(typeof Nj<"u"?Nj:typeof self<"u"?self:typeof window<"u"?window:{});var Hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J4,Mf,Z4,Vg,J1,e3,t3,n3;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hm=="object"&&Hm];for(var C=0;C<p.length;++C){var k=p[C];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,C){if(C)e:{var k=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var X=p[D];if(!(X in k))break e;k=k[X]}p=p[p.length-1],D=k[p],C=C(D),C!=D&&C!=null&&e(k,p,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(C){var k=[],D;for(D in C)Object.prototype.hasOwnProperty.call(C,D)&&k.push([D,C[D]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function c(p,C,k){return p.call.apply(p.bind,arguments)}function u(p,C,k){return u=c,u.apply(null,arguments)}function d(p,C){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function f(p,C){function k(){}k.prototype=C.prototype,p.Z=C.prototype,p.prototype=new k,p.prototype.constructor=p,p.Ob=function(D,X,te){for(var Ae=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Ae[vt-2]=arguments[vt];return C.prototype[X].apply(D,Ae)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const C=p.length;if(C>0){const k=Array(C);for(let D=0;D<C;D++)k[D]=p[D];return k}return[]}function v(p,C){for(let D=1;D<arguments.length;D++){const X=arguments[D];var k=typeof X;if(k=k!="object"?k:X?Array.isArray(X)?"array":k:"null",k=="array"||k=="object"&&typeof X.length=="number"){k=p.length||0;const te=X.length||0;p.length=k+te;for(let Ae=0;Ae<te;Ae++)p[k+Ae]=X[Ae]}else p.push(X)}}class g{constructor(C,k){this.i=C,this.j=k,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(p){o.setTimeout(()=>{throw p},0)}function b(){var p=_;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class w{constructor(){this.h=this.g=null}add(C,k){const D=S.get();D.set(C,k),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new A,p=>p.reset());class A{constructor(){this.next=this.g=this.h=null}set(C,k){this.h=C,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let E,N=!1,_=new w,T=()=>{const p=Promise.resolve(void 0);E=()=>{p.then(P)}};function P(){for(var p;p=b();){try{p.h.call(p.g)}catch(k){y(k)}var C=S;C.j(p),C.h<100&&(C.h++,p.next=C.g,C.g=p)}N=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};o.addEventListener("test",k,C),o.removeEventListener("test",k,C)}catch{}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function F(p,C){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,C)}f(F,j),F.prototype.init=function(p,C){const k=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget,C||(k=="mouseover"?C=p.fromElement:k=="mouseout"&&(C=p.toElement)),this.relatedTarget=C,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(p,C,k,D,X){this.listener=p,this.proxy=null,this.src=C,this.type=k,this.capture=!!D,this.ha=X,this.key=++U,this.da=this.fa=!1}function $(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function z(p,C,k){for(const D in p)C.call(k,p[D],D,p)}function re(p,C){for(const k in p)C.call(void 0,p[k],k,p)}function se(p){const C={};for(const k in p)C[k]=p[k];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(p,C){let k,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(k in D)p[k]=D[k];for(let te=0;te<Q.length;te++)k=Q[te],Object.prototype.hasOwnProperty.call(D,k)&&(p[k]=D[k])}}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,C,k,D,X){const te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);const Ae=tt(p,C,D,X);return Ae>-1?(C=p[Ae],k||(C.fa=!1)):(C=new W(C,this.src,te,!!D,X),C.fa=k,p.push(C)),C};function Ee(p,C){const k=C.type;if(k in p.g){var D=p.g[k],X=Array.prototype.indexOf.call(D,C,void 0),te;(te=X>=0)&&Array.prototype.splice.call(D,X,1),te&&($(C),p.g[k].length==0&&(delete p.g[k],p.h--))}}function tt(p,C,k,D){for(let X=0;X<p.length;++X){const te=p[X];if(!te.da&&te.listener==C&&te.capture==!!k&&te.ha==D)return X}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ne={};function le(p,C,k,D,X){if(Array.isArray(C)){for(let te=0;te<C.length;te++)le(p,C[te],k,D,X);return null}return k=gt(k),p&&p[B]?p.J(C,k,a(D)?!!D.capture:!!D,X):de(p,C,k,!1,D,X)}function de(p,C,k,D,X,te){if(!C)throw Error("Invalid event type");const Ae=a(X)?!!X.capture:!!X;let vt=Ye(p);if(vt||(p[xe]=vt=new pe(p)),k=vt.add(C,k,D,Ae,te),k.proxy)return k;if(D=Y(),k.proxy=D,D.src=p,D.listener=k,p.addEventListener)O||(X=Ae),X===void 0&&(X=!1),p.addEventListener(C.toString(),D,X);else if(p.attachEvent)p.attachEvent(_e(C.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Y(){function p(k){return C.call(p.src,p.listener,k)}const C=nt;return p}function V(p,C,k,D,X){if(Array.isArray(C))for(var te=0;te<C.length;te++)V(p,C[te],k,D,X);else D=a(D)?!!D.capture:!!D,k=gt(k),p&&p[B]?(p=p.i,te=String(C).toString(),te in p.g&&(C=p.g[te],k=tt(C,k,D,X),k>-1&&($(C[k]),Array.prototype.splice.call(C,k,1),C.length==0&&(delete p.g[te],p.h--)))):p&&(p=Ye(p))&&(C=p.g[C.toString()],p=-1,C&&(p=tt(C,k,D,X)),(k=p>-1?C[p]:null)&&we(k))}function we(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[B])Ee(C.i,p);else{var k=p.type,D=p.proxy;C.removeEventListener?C.removeEventListener(k,D,p.capture):C.detachEvent?C.detachEvent(_e(k),D):C.addListener&&C.removeListener&&C.removeListener(D),(k=Ye(C))?(Ee(k,p),k.h==0&&(k.src=null,C[xe]=null)):$(p)}}}function _e(p){return p in Ne?Ne[p]:Ne[p]="on"+p}function nt(p,C){if(p.da)p=!0;else{C=new F(C,this);const k=p.listener,D=p.ha||p.src;p.fa&&we(p),p=k.call(D,C)}return p}function Ye(p){return p=p[xe],p instanceof pe?p:null}var rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gt(p){return typeof p=="function"?p:(p[rt]||(p[rt]=function(C){return p.handleEvent(C)}),p[rt])}function Ce(){I.call(this),this.i=new pe(this),this.M=this,this.G=null}f(Ce,I),Ce.prototype[B]=!0,Ce.prototype.removeEventListener=function(p,C,k,D){V(this,p,C,k,D)};function Je(p,C){var k,D=p.G;if(D)for(k=[];D;D=D.G)k.push(D);if(p=p.M,D=C.type||C,typeof C=="string")C=new j(C,p);else if(C instanceof j)C.target=C.target||p;else{var X=C;C=new j(D,p),ge(C,X)}X=!0;let te,Ae;if(k)for(Ae=k.length-1;Ae>=0;Ae--)te=C.g=k[Ae],X=Ze(te,D,!0,C)&&X;if(te=C.g=p,X=Ze(te,D,!0,C)&&X,X=Ze(te,D,!1,C)&&X,k)for(Ae=0;Ae<k.length;Ae++)te=C.g=k[Ae],X=Ze(te,D,!1,C)&&X}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var p=this.i;for(const C in p.g){const k=p.g[C];for(let D=0;D<k.length;D++)$(k[D]);delete p.g[C],p.h--}}this.G=null},Ce.prototype.J=function(p,C,k,D){return this.i.add(String(p),C,!1,k,D)},Ce.prototype.K=function(p,C,k,D){return this.i.add(String(p),C,!0,k,D)};function Ze(p,C,k,D){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();let X=!0;for(let te=0;te<C.length;++te){const Ae=C[te];if(Ae&&!Ae.da&&Ae.capture==k){const vt=Ae.listener,Yn=Ae.ha||Ae.src;Ae.fa&&Ee(p.i,Ae),X=vt.call(Yn,D)!==!1&&X}}return X&&!D.defaultPrevented}function Ie(p,C){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=u(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(p,C||0)}function Ut(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,Ut(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class yn extends I{constructor(C,k){super(),this.m=C,this.l=k,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(p){I.call(this),this.h=p,this.g={}}f(hn,I);var In=[];function qr(p){z(p.g,function(C,k){this.g.hasOwnProperty(k)&&we(C)},p),p.g={}}hn.prototype.N=function(){hn.Z.N.call(this),qr(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=o.JSON.stringify,vn=o.JSON.parse,qt=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function pn(){}function Ft(){}var Ge={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gr(){j.call(this,"d")}f(Gr,j);function yr(){j.call(this,"c")}f(yr,j);var Nr={},ti=null;function Gt(){return ti=ti||new Ce}Nr.Ia="serverreachability";function zt(p){j.call(this,Nr.Ia,p)}f(zt,j);function vr(p){const C=Gt();Je(C,new zt(C))}Nr.STAT_EVENT="statevent";function Hn(p,C){j.call(this,Nr.STAT_EVENT,p),this.stat=C}f(Hn,j);function Kt(p){const C=Gt();Je(C,new Hn(C,p))}Nr.Ja="timingevent";function qn(p,C){j.call(this,Nr.Ja,p),this.size=C}f(qn,j);function Gn(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},C)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function ds(p,C,k,D,X,te){p.info(function(){if(p.g)if(te){var Ae="",vt=te.split("&");for(let Qt=0;Qt<vt.length;Qt++){var Yn=vt[Qt].split("=");if(Yn.length>1){const ar=Yn[0];Yn=Yn[1];const Ws=ar.split("_");Ae=Ws.length>=2&&Ws[1]=="type"?Ae+(ar+"="+Yn+"&"):Ae+(ar+"=redacted&")}}}else Ae=null;else Ae=te;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+C+`
`+k+`
`+Ae})}function Vi(p,C,k,D,X,te,Ae){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+C+`
`+k+`
`+te+" "+Ae})}function ni(p,C,k,D){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+ri(p,k)+(D?" "+D:"")})}function Eo(p,C){p.info(function(){return"TIMEOUT: "+C})}xn.prototype.info=function(){};function ri(p,C){if(!p.g)return C;if(!C)return null;try{const te=JSON.parse(C);if(te){for(p=0;p<te.length;p++)if(Array.isArray(te[p])){var k=te[p];if(!(k.length<2)){var D=k[1];if(Array.isArray(D)&&!(D.length<1)){var X=D[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Ae=1;Ae<D.length;Ae++)D[Ae]=""}}}}return rn(te)}catch{return C}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ii;function jr(){}f(jr,pn),jr.prototype.g=function(){return new XMLHttpRequest},ii=new jr;function gi(p){return encodeURIComponent(String(p))}function ma(p){var C=1;p=p.split(":");const k=[];for(;C>0&&p.length;)k.push(p.shift()),C--;return p.length&&k.push(p.join(":")),k}function kr(p,C,k,D){this.j=p,this.i=C,this.l=k,this.S=D||1,this.V=new hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}var To={},yi={};function $n(p,C,k){p.M=1,p.A=ne(K(C)),p.u=k,p.R=!0,H(p,null)}function H(p,C){p.F=Date.now(),Fe(p),p.B=K(p.A);var k=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),sf(k.i,"t",D),p.C=0,k=p.j.L,p.h=new ga,p.g=oP(p.j,k?C:null,!p.u),p.P>0&&(p.O=new yn(u(p.Y,p,p.g),p.P)),C=p.V,k=p.g,D=p.ba;var X="readystatechange";Array.isArray(X)||(X&&(In[0]=X.toString()),X=In);for(let te=0;te<X.length;te++){const Ae=le(k,X[te],D||C.handleEvent,!1,C.h||C);if(!Ae)break;C.g[Ae.key]=Ae}C=p.J?se(p.J):{},p.u?(p.v||(p.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,C)):(p.v="GET",p.g.ea(p.B,p.v,null,C)),vr(),ds(p.i,p.v,p.B,p.l,p.S,p.u)}kr.prototype.ba=function(p){p=p.target;const C=this.O;C&&Ao(p)==3?C.j():this.Y(p)},kr.prototype.Y=function(p){try{if(p==this.g)e:{const vt=Ao(this.g),Yn=this.g.ya(),Qt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||of(this.g)))){this.K||vt!=4||Yn==7||(Yn==8||Qt<=0?vr(3):vr(2)),G(this);var C=this.g.ca();this.X=C;var k=ie(this);if(this.o=C==200,Vi(this.i,this.v,this.B,this.l,this.S,vt,C),this.o){if(this.U&&!this.L){t:{if(this.g){var D,X=this.g;if((D=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var te=D;break t}}te=null}if(p=te)ni(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ee(this,p);else{this.o=!1,this.m=3,Kt(12),Me(this),Pe(this);break e}}if(this.R){p=!0;let ar;for(;!this.K&&this.C<k.length;)if(ar=ze(this,k),ar==yi){vt==4&&(this.m=4,Kt(14),p=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==To){this.m=4,Kt(15),ni(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else ni(this.i,this.l,ar,null),ee(this,ar);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||k.length!=0||this.h.h||(this.m=1,Kt(16),p=!1),this.o=this.o&&p,!p)ni(this.i,this.l,k,"[Invalid Chunked Response]"),Me(this),Pe(this);else if(k.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),tb(Ae),Ae.P=!0,Kt(11))}}else ni(this.i,this.l,k,null),ee(this,k);vt==4&&Me(this),this.o&&!this.K&&(vt==4?nP(this.j,this):(this.o=!1,Fe(this)))}else _l(this.g),C==400&&k.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Me(this),Pe(this)}}}catch{}finally{}};function ie(p){if(!je(p))return p.g.la();const C=of(p.g);if(C==="")return"";let k="";const D=C.length,X=Ao(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Me(p),Pe(p),"";p.h.i=new o.TextDecoder}for(let te=0;te<D;te++)p.h.h=!0,k+=p.h.i.decode(C[te],{stream:!(X&&te==D-1)});return C.length=0,p.h.g+=k,p.C=0,p.h.g}function je(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ze(p,C){var k=p.C,D=C.indexOf(`
`,k);return D==-1?yi:(k=Number(C.substring(k,D)),isNaN(k)?To:(D+=1,D+k>C.length?yi:(C=C.slice(D,D+k),p.C=D+k,C)))}kr.prototype.cancel=function(){this.K=!0,Me(this)};function Fe(p){p.T=Date.now()+p.H,it(p,p.H)}function it(p,C){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Gn(u(p.aa,p),C)}function G(p){p.D&&(o.clearTimeout(p.D),p.D=null)}kr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Eo(this.i,this.B),this.M!=2&&(vr(),Kt(17)),Me(this),this.m=2,Pe(this)):it(this,this.T-p)};function Pe(p){p.j.I==0||p.K||nP(p.j,p)}function Me(p){G(p);var C=p.O;C&&typeof C.dispose=="function"&&C.dispose(),p.O=null,qr(p.V),p.g&&(C=p.g,p.g=null,C.abort(),C.dispose())}function ee(p,C){try{var k=p.j;if(k.I!=0&&(k.g==p||Rt(k.h,p))){if(!p.L&&Rt(k.h,p)&&k.I==3){try{var D=k.Ba.g.parse(C)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<p.F)ym(k),El(k);else break e;eb(k),Kt(18)}}else k.xa=X[1],0<k.xa-k.K&&X[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Gn(u(k.Va,k),6e3));jt(k.h)<=1&&k.ta&&(k.ta=void 0)}else Tl(k,11)}else if((p.L||k.g==p)&&ym(k),!R(C))for(X=k.Ba.g.parse(C),C=0;C<X.length;C++){let Qt=X[C];const ar=Qt[0];if(!(ar<=k.K))if(k.K=ar,Qt=Qt[1],k.I==2)if(Qt[0]=="c"){k.M=Qt[1],k.ba=Qt[2];const Ws=Qt[3];Ws!=null&&(k.ka=Ws,k.j.info("VER="+k.ka));const Cl=Qt[4];Cl!=null&&(k.za=Cl,k.j.info("SVER="+k.za));const va=Qt[5];va!=null&&typeof va=="number"&&va>0&&(D=1.5*va,k.O=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const xa=p.g;if(xa){const xm=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xm){var te=D.h;te.g||xm.indexOf("spdy")==-1&&xm.indexOf("quic")==-1&&xm.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Yt(te,te.h),te.h=null))}if(D.G){const nb=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;nb&&(D.wa=nb,ce(D.J,D.G,nb))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-p.F,k.j.info("Handshake RTT: "+k.T+"ms")),D=k;var Ae=p;if(D.na=sP(D,D.L?D.ba:null,D.W),Ae.L){sr(D.h,Ae);var vt=Ae,Yn=D.O;Yn&&(vt.H=Yn),vt.D&&(G(vt),Fe(vt)),D.g=Ae}else eP(D);k.i.length>0&&gm(k)}else Qt[0]!="stop"&&Qt[0]!="close"||Tl(k,7);else k.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Tl(k,7):af(k):Qt[0]!="noop"&&k.l&&k.l.qa(Qt),k.A=0)}}vr(4)}catch{}}var ye=class{constructor(p,C){this.g=p,this.map=C}};function qe(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function jt(p){return p.h?1:p.g?p.g.size:0}function Rt(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function Yt(p,C){p.g?p.g.add(C):p.h=C}function sr(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}qe.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function or(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const k of p.g.values())C=C.concat(k.G);return C}return m(p.i)}var kt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(p,C){if(p){p=p.split("&");for(let k=0;k<p.length;k++){const D=p[k].indexOf("=");let X,te=null;D>=0?(X=p[k].substring(0,D),te=p[k].substring(D+1)):X=p[k],C(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function L(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;p instanceof L?(this.l=p.l,J(this,p.j),this.o=p.o,this.g=p.g,Z(this,p.u),this.h=p.h,ue(this,en(p.i)),this.m=p.m):p&&(C=String(p).match(kt))?(this.l=!1,J(this,C[1]||"",!0),this.o=ve(C[2]||""),this.g=ve(C[3]||"",!0),Z(this,C[4]),this.h=ve(C[5]||"",!0),ue(this,C[6]||"",!0),this.m=ve(C[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}L.prototype.toString=function(){const p=[];var C=this.j;C&&p.push(Te(C,Oe,!0),":");var k=this.g;return(k||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Te(C,Oe,!0),"@"),p.push(gi(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&p.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Te(k,k.charAt(0)=="/"?sn:ht,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Te(k,Ui)),p.join("")},L.prototype.resolve=function(p){const C=K(this);let k=!!p.j;k?J(C,p.j):k=!!p.o,k?C.o=p.o:k=!!p.g,k?C.g=p.g:k=p.u!=null;var D=p.h;if(k)Z(C,p.u);else if(k=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var X=C.h.lastIndexOf("/");X!=-1&&(D=C.h.slice(0,X+1)+D)}if(X=D,X==".."||X==".")D="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){D=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let Ae=0;Ae<X.length;){const vt=X[Ae++];vt=="."?D&&Ae==X.length&&te.push(""):vt==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&Ae==X.length&&te.push("")):(te.push(vt),D=!0)}D=te.join("/")}else D=X}return k?C.h=D:k=p.i.toString()!=="",k?ue(C,en(p.i)):k=!!p.m,k&&(C.m=p.m),C};function K(p){return new L(p)}function J(p,C,k){p.j=k?ve(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function Z(p,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);p.u=C}else p.u=null}function ue(p,C,k){C instanceof xr?(p.i=C,J0(p.i,p.l)):(k||(C=Te(C,Kn)),p.i=new xr(C,p.l))}function ce(p,C,k){p.i.set(C,k)}function ne(p){return ce(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ve(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Te(p,C,k){return typeof p=="string"?(p=encodeURI(p).replace(C,Se),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Se(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Oe=/[#\/\?@]/g,ht=/[#\?:]/g,sn=/[#\?]/g,Kn=/[#\?@]/g,Ui=/#/g;function xr(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function vi(p){p.g||(p.g=new Map,p.h=0,p.i&&M(p.i,function(C,k){p.add(decodeURIComponent(C.replace(/\+/g," ")),k)}))}t=xr.prototype,t.add=function(p,C){vi(this),this.i=null,p=si(this,p);let k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(C),this.h+=1,this};function Co(p,C){vi(p),C=si(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function nf(p,C){return vi(p),C=si(p,C),p.g.has(C)}t.forEach=function(p,C){vi(this),this.g.forEach(function(k,D){k.forEach(function(X){p.call(C,X,D,this)},this)},this)};function rf(p,C){vi(p);let k=[];if(typeof C=="string")nf(p,C)&&(k=k.concat(p.g.get(si(p,C))));else for(p=Array.from(p.g.values()),C=0;C<p.length;C++)k=k.concat(p[C]);return k}t.set=function(p,C){return vi(this),this.i=null,p=si(this,p),nf(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},t.get=function(p,C){return p?(p=rf(this,p),p.length>0?String(p[0]):C):C};function sf(p,C,k){Co(p,C),k.length>0&&(p.i=null,p.g.set(si(p,C),m(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(let D=0;D<C.length;D++){var k=C[D];const X=gi(k);k=rf(this,k);for(let te=0;te<k.length;te++){let Ae=X;k[te]!==""&&(Ae+="="+gi(k[te])),p.push(Ae)}}return this.i=p.join("&")};function en(p){const C=new xr;return C.i=p.i,p.g&&(C.g=new Map(p.g),C.h=p.h),C}function si(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function J0(p,C){C&&!p.j&&(vi(p),p.i=null,p.g.forEach(function(k,D){const X=D.toLowerCase();D!=X&&(Co(this,D),sf(this,X,k))},p)),p.j=C}function Z0(p,C){const k=new xn;if(o.Image){const D=new Image;D.onload=d(hs,k,"TestLoadImage: loaded",!0,C,D),D.onerror=d(hs,k,"TestLoadImage: error",!1,C,D),D.onabort=d(hs,k,"TestLoadImage: abort",!1,C,D),D.ontimeout=d(hs,k,"TestLoadImage: timeout",!1,C,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else C(!1)}function hm(p,C){const k=new xn,D=new AbortController,X=setTimeout(()=>{D.abort(),hs(k,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:D.signal}).then(te=>{clearTimeout(X),te.ok?hs(k,"TestPingServer: ok",!0,C):hs(k,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(X),hs(k,"TestPingServer: error",!1,C)})}function hs(p,C,k,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(k)}catch{}}function pm(){this.g=new qt}function Mt(p){this.i=p.Sb||null,this.h=p.ab||!1}f(Mt,pn),Mt.prototype.g=function(){return new bn(this.i,this.h)};function bn(p,C){Ce.call(this),this.H=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bn,Ce),t=bn.prototype,t.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=C,this.readyState=1,xi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(C.body=p),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ps(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ps(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?oi(this):xi(this),this.readyState==3&&ps(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,oi(this))},t.Na=function(p){this.g&&(this.response=p,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,xi(p)}t.setRequestHeader=function(p,C){this.A.append(p,C)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var k=C.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=C.next();return p.join(`\r
`)};function xi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function bi(p){let C="";return z(p,function(k,D){C+=D,C+=":",C+=k,C+=`\r
`}),C}function Xt(p,C,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=bi(k),typeof p=="string"?k!=null&&gi(k):ce(p,C,k))}function Xe(p){Ce.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Xe,Ce);var yt=/^https?$/i,ms=["POST","PUT"];t=Xe.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,C,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ii.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(te){br(this,te);return}if(p=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)k.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())k.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(te=>te.toLowerCase()=="content-type"),X=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(ms,C,void 0)>=0)||D||X||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ae]of k)this.g.setRequestHeader(te,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(te){br(this,te)}};function br(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.o=5,Ir(p),ya(p)}function Ir(p){p.A||(p.A=!0,Je(p,"complete"),Je(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Je(this,"complete"),Je(this,"abort"),ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ya(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ai(this):this.Xa())},t.Xa=function(){ai(this)};function ai(p){if(p.h&&typeof s<"u"){if(p.v&&Ao(p)==4)setTimeout(p.Ca.bind(p),0);else if(Je(p,"readystatechange"),Ao(p)==4){p.h=!1;try{const te=p.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var k;if(!(k=C)){var D;if(D=te===0){let Ae=String(p.D).match(kt)[1]||null;!Ae&&o.self&&o.self.location&&(Ae=o.self.location.protocol.slice(0,-1)),D=!yt.test(Ae?Ae.toLowerCase():"")}k=D}if(k)Je(p,"complete"),Je(p,"success");else{p.o=6;try{var X=Ao(p)>2?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.ca()+"]",Ir(p)}}finally{ya(p)}}}}function ya(p,C){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const k=p.g;p.g=null,C||Je(p,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ao(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Ao(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),vn(C)}};function of(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _l(p){const C={};p=(p.g&&Ao(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(R(p[D]))continue;var k=ma(p[D]);const X=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const te=C[X]||[];C[X]=te,te.push(k)}re(C,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(p,C,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||C}function mm(p){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zs("baseRetryDelayMs",5e3,p),this.Za=zs("retryDelaySeedMs",1e4,p),this.Ta=zs("forwardChannelMaxRetries",2,p),this.va=zs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(p&&p.concurrentRequestLimit),this.Ba=new pm,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mm.prototype,t.ka=8,t.I=1,t.connect=function(p,C,k,D){Kt(0),this.W=p,this.H=C||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.J=sP(this,null,this.W),gm(this)};function af(p){if(QA(p),p.I==3){var C=p.V++,k=K(p.J);if(ce(k,"SID",p.M),ce(k,"RID",C),ce(k,"TYPE","terminate"),lf(p,k),C=new kr(p,p.j,C),C.M=2,C.A=ne(K(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=C.A,k=!0),k||(C.g=oP(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Fe(C)}iP(p)}function El(p){p.g&&(tb(p),p.g.cancel(),p.g=null)}function QA(p){El(p),p.v&&(o.clearTimeout(p.v),p.v=null),ym(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function gm(p){if(!We(p.h)&&!p.m){p.m=!0;var C=p.Ea;E||T(),N||(E(),N=!0),_.add(C,p),p.D=0}}function W9(p,C){return jt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=C.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Gn(u(p.Ea,p,C),rP(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const X=new kr(this,this.j,p);let te=this.o;if(this.U&&(te?(te=se(te),ge(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var C=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(C+=D,C>4096){C=k;break e}if(C===4096||k===this.i.length-1){C=k+1;break e}}C=1e3}else C=1e3;C=ZA(this,X,C),k=K(this.J),ce(k,"RID",p),ce(k,"CVER",22),this.G&&ce(k,"X-HTTP-Session-Id",this.G),lf(this,k),te&&(this.R?C="headers="+gi(bi(te))+"&"+C:this.u&&Xt(k,this.u,te)),Yt(this.h,X),this.Ra&&ce(k,"TYPE","init"),this.S?(ce(k,"$req",C),ce(k,"SID","null"),X.U=!0,$n(X,k,null)):$n(X,k,C),this.I=2}}else this.I==3&&(p?JA(this,p):this.i.length==0||We(this.h)||JA(this))};function JA(p,C){var k;C?k=C.l:k=p.V++;const D=K(p.J);ce(D,"SID",p.M),ce(D,"RID",k),ce(D,"AID",p.K),lf(p,D),p.u&&p.o&&Xt(D,p.u,p.o),k=new kr(p,p.j,k,p.D+1),p.u===null&&(k.J=p.o),C&&(p.i=C.G.concat(p.i)),C=ZA(p,k,1e3),k.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Yt(p.h,k),$n(k,D,C)}function lf(p,C){p.H&&z(p.H,function(k,D){ce(C,D,k)}),p.l&&z({},function(k,D){ce(C,D,k)})}function ZA(p,C,k){k=Math.min(p.i.length,k);const D=p.l?u(p.l.Ka,p.l,p):null;e:{var X=p.i;let vt=-1;for(;;){const Yn=["count="+k];vt==-1?k>0?(vt=X[0].g,Yn.push("ofs="+vt)):vt=0:Yn.push("ofs="+vt);let Qt=!0;for(let ar=0;ar<k;ar++){var te=X[ar].g;const Ws=X[ar].map;if(te-=vt,te<0)vt=Math.max(0,X[ar].g-100),Qt=!1;else try{te="req"+te+"_"||"";try{var Ae=Ws instanceof Map?Ws:Object.entries(Ws);for(const[Cl,va]of Ae){let xa=va;a(va)&&(xa=rn(va)),Yn.push(te+Cl+"="+encodeURIComponent(xa))}}catch(Cl){throw Yn.push(te+"type="+encodeURIComponent("_badmap")),Cl}}catch{D&&D(Ws)}}if(Qt){Ae=Yn.join("&");break e}}Ae=void 0}return p=p.i.splice(0,k),C.G=p,Ae}function eP(p){if(!p.g&&!p.v){p.Y=1;var C=p.Da;E||T(),N||(E(),N=!0),_.add(C,p),p.A=0}}function eb(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Gn(u(p.Da,p),rP(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,tP(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Gn(u(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),El(this),tP(this))};function tb(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function tP(p){p.g=new kr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var C=K(p.na);ce(C,"RID","rpc"),ce(C,"SID",p.M),ce(C,"AID",p.K),ce(C,"CI",p.F?"0":"1"),!p.F&&p.ia&&ce(C,"TO",p.ia),ce(C,"TYPE","xmlhttp"),lf(p,C),p.u&&p.o&&Xt(C,p.u,p.o),p.O&&(p.g.H=p.O);var k=p.g;p=p.ba,k.M=1,k.A=ne(K(C)),k.u=null,k.R=!0,H(k,p)}t.Va=function(){this.C!=null&&(this.C=null,El(this),eb(this),Kt(19))};function ym(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function nP(p,C){var k=null;if(p.g==C){ym(p),tb(p),p.g=null;var D=2}else if(Rt(p.h,C))k=C.G,sr(p.h,C),D=1;else return;if(p.I!=0){if(C.o)if(D==1){k=C.u?C.u.length:0,C=Date.now()-C.F;var X=p.D;D=Gt(),Je(D,new qn(D,k)),gm(p)}else eP(p);else if(X=C.m,X==3||X==0&&C.X>0||!(D==1&&W9(p,C)||D==2&&eb(p)))switch(k&&k.length>0&&(C=p.h,C.i=C.i.concat(k)),X){case 1:Tl(p,5);break;case 4:Tl(p,10);break;case 3:Tl(p,6);break;default:Tl(p,2)}}}function rP(p,C){let k=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(k*=2),k*C}function Tl(p,C){if(p.j.info("Error code "+C),C==2){var k=u(p.bb,p),D=p.Ua;const X=!D;D=new L(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||J(D,"https"),ne(D),X?Z0(D.toString(),k):hm(D.toString(),k)}else Kt(2);p.I=0,p.l&&p.l.pa(C),iP(p),QA(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function iP(p){if(p.I=0,p.ja=[],p.l){const C=or(p.h);(C.length!=0||p.i.length!=0)&&(v(p.ja,C),v(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function sP(p,C,k){var D=k instanceof L?K(k):new L(k);if(D.g!="")C&&(D.g=C+"."+D.g),Z(D,D.u);else{var X=o.location;D=X.protocol,C=C?C+"."+X.hostname:X.hostname,X=+X.port;const te=new L(null);D&&J(te,D),C&&(te.g=C),X&&Z(te,X),k&&(te.h=k),D=te}return k=p.G,C=p.wa,k&&C&&ce(D,k,C),ce(D,"VER",p.ka),lf(p,D),D}function oP(p,C,k){if(C&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Aa&&!p.ma?new Xe(new Mt({ab:k})):new Xe(p.ma),C.Fa(p.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aP(){}t=aP.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vm(){}vm.prototype.g=function(p,C){return new wi(p,C)};function wi(p,C){Ce.call(this),this.g=new mm(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(p?p["X-WebChannel-Client-Profile"]=C.sa:p={"X-WebChannel-Client-Profile":C.sa}),this.g.U=p,(p=C&&C.Qb)&&!R(p)&&(this.g.u=p),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.G=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new Oc(this)}f(wi,Ce),wi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wi.prototype.close=function(){af(this.g)},wi.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.v&&(k={},k.__data__=rn(p),p=k);C.i.push(new ye(C.Ya++,p)),C.I==3&&gm(C)},wi.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,wi.Z.N.call(this)};function lP(p){Gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const k in C){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}f(lP,Gr);function cP(){yr.call(this),this.status=1}f(cP,yr);function Oc(p){this.g=p}f(Oc,aP),Oc.prototype.ra=function(){Je(this.g,"a")},Oc.prototype.qa=function(p){Je(this.g,new lP(p))},Oc.prototype.pa=function(p){Je(this.g,new cP)},Oc.prototype.oa=function(){Je(this.g,"b")},vm.prototype.createWebChannel=vm.prototype.g,wi.prototype.send=wi.prototype.o,wi.prototype.open=wi.prototype.m,wi.prototype.close=wi.prototype.close,n3=function(){return new vm},t3=function(){return Gt()},e3=Nr,J1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Vg=fs,Bi.COMPLETE="complete",Z4=Bi,Ft.EventType=Ge,Ge.OPEN="a",Ge.CLOSE="b",Ge.ERROR="c",Ge.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,Mf=Ft,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,J4=Xe}).apply(typeof Hm<"u"?Hm:typeof self<"u"?self:typeof window<"u"?window:{});const jj="@firebase/firestore",kj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new xT("@firebase/firestore");function Uc(){return hc.logLevel}function Re(t,...e){if(hc.logLevel<=_t.DEBUG){const n=e.map(IT);hc.debug(`Firestore (${Dd}): ${t}`,...n)}}function na(t,...e){if(hc.logLevel<=_t.ERROR){const n=e.map(IT);hc.error(`Firestore (${Dd}): ${t}`,...n)}}function Xu(t,...e){if(hc.logLevel<=_t.WARN){const n=e.map(IT);hc.warn(`Firestore (${Dd}): ${t}`,...n)}}function IT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r3(t,r,n)}function r3(t,e,n){let r=`FIRESTORE (${Dd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw na(r),new Error(r)}function $t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||r3(e,i,r)}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class BQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UQ{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new el;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new el,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new el)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new i3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new Fr(e)}}class zQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ij{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ij(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ij(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function Z1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return qb(i)===qb(s)?Tt(i,s):qb(i)?1:-1}return Tt(t.length,e.length)}const GQ=55296,KQ=57343;function qb(t){const e=t.charCodeAt(0);return e>=GQ&&e<=KQ}function Qu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="__name__";class Ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&lt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&lt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ys.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Tt(e.length,n.length)}static compareSegments(e,n){const r=Ys.isNumericId(e),i=Ys.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ys.extractNumericId(e).compare(Ys.extractNumericId(n)):Z1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class _n extends Ys{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const YQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Ys{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return YQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oj}static keyField(){return new Er([Oj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Qe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Qe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(_n.fromString(e))}static fromName(e){return new st(_n.fromString(e).popFirst(5))}static empty(){return new st(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e,n){if(!n)throw new Qe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QQ(t,e,n,r){if(e===!0&&r===!0)throw new Qe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rj(t){if(!st.isDocumentKey(t))throw new Qe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function RT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt(12329,{type:typeof t})}function Fh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RT(t);throw new Qe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xp(t,e){if(!s3(t))throw new Qe(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Qe(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=-62135596800,Dj=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Dj);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mj)throw new Qe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dj}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xp(e,dn._jsonSchema))return new dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:zn("string",dn._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static fromTimestamp(e){return new dt(e)}static min(){return new dt(new dn(0,0))}static max(){return new dt(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=-1;function JQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new ll(i,st.empty(),e)}function ZQ(t){return new ll(t.readTime,t.key,Vh)}class ll{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(dt.min(),st.empty(),Vh)}static max(){return new ll(dt.max(),st.empty(),Vh)}}function eJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=st.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==tJ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new fe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $d(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=-1;function $x(t){return t==null}function Fy(t){return t===0&&1/t==-1/0}function iJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Fy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="";function sJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lj(e)),e=oJ(t.get(n),e);return Lj(e)}function oJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case o3:n+="";break;default:n+=s}}return n}function Lj(t){return t+o3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function a3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qm(this.root,e,this.comparator,!0)}}class qm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=s??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _r(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw lt(27949);return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fj(this.data.getIterator())}getIteratorFrom(e){return new Fj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class Fj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new js([])}unionWith(e){let n=new rr(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new l3("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const aJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=aJ.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(t.seconds),nanos:On(t.nanos)}}function On(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="server_timestamp",u3="__type__",d3="__previous_value__",f3="__local_write_time__";function DT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[u3])==null?void 0:r.stringValue)===c3}function Fx(t){const e=t.mapValue.fields[d3];return DT(e)?Fx(e):e}function Bh(t){const e=cl(t.mapValue.fields[f3].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,n,r,i,s,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Vy="(default)";class Uh{constructor(e,n){this.projectId=e,this.database=n||Vy}static empty(){return new Uh("","")}get isDefaultDatabase(){return this.database===Vy}isEqual(e){return e instanceof Uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="__type__",p3="__max__",Gm={mapValue:{fields:{__type__:{stringValue:p3}}}},m3="__vector__",By="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DT(t)?4:uJ(t)?9007199254740991:cJ(t)?10:11:lt(28295,{value:t})}function vo(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bh(t).isEqual(Bh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=cl(i.timestampValue),a=cl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ul(i.bytesValue).isEqual(ul(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return On(i.geoPointValue.latitude)===On(s.geoPointValue.latitude)&&On(i.geoPointValue.longitude)===On(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return On(i.integerValue)===On(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=On(i.doubleValue),a=On(s.doubleValue);return o===a?Fy(o)===Fy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($j(o)!==$j(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!vo(o[c],a[c])))return!1;return!0}(t,e);default:return lt(52216,{left:t})}}function zh(t,e){return(t.values||[]).find(n=>vo(n,e))!==void 0}function Ju(t,e){if(t===e)return 0;const n=dl(t),r=dl(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=On(s.integerValue||s.doubleValue),c=On(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Vj(t.timestampValue,e.timestampValue);case 4:return Vj(Bh(t),Bh(e));case 5:return Z1(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ul(s),c=ul(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Tt(a[u],c[u]);if(d!==0)return d}return Tt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Tt(On(s.latitude),On(o.latitude));return a!==0?a:Tt(On(s.longitude),On(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bj(t.arrayValue,e.arrayValue);case 10:return function(s,o){var h,m,v,g;const a=s.fields||{},c=o.fields||{},u=(h=a[By])==null?void 0:h.arrayValue,d=(m=c[By])==null?void 0:m.arrayValue,f=Tt(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:Bj(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gm.mapValue&&o===Gm.mapValue)return 0;if(s===Gm.mapValue)return 1;if(o===Gm.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Z1(c[f],d[f]);if(h!==0)return h;const m=Ju(a[c[f]],u[d[f]]);if(m!==0)return m}return Tt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw lt(23264,{he:n})}}function Vj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=cl(t),r=cl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function Bj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ju(n[i],r[i]);if(s)return s}return Tt(n.length,r.length)}function Zu(t){return eS(t)}function eS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ul(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return st.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=eS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${eS(n.fields[o])}`;return i+"}"}(t.mapValue):lt(61005,{value:t})}function Bg(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fx(t);return e?16+Bg(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Bg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(s,o)=>{i+=s.length+Bg(o)}),i}(t.mapValue);default:throw lt(13486,{value:t})}}function tS(t){return!!t&&"integerValue"in t}function LT(t){return!!t&&"arrayValue"in t}function Uj(t){return!!t&&"nullValue"in t}function zj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ug(t){return!!t&&"mapValue"in t}function cJ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[h3])==null?void 0:r.stringValue)===m3}function th(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=th(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=th(t.arrayValue.values[n]);return e}return{...t}}function uJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=th(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yi(th(this.value))}}function g3(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new Er([n]);if(Ug(r)){const s=g3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,dt.min(),dt.min(),dt.min(),Yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,dt.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,dt.min(),dt.min(),Yi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,dt.min(),dt.min(),Yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.position=e,this.inclusive=n}}function Wj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=Ju(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n="asc"){this.field=e,this.dir=n}}function dJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{}class Zn extends y3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hJ(e,n,r):n==="array-contains"?new gJ(e,r):n==="in"?new yJ(e,r):n==="not-in"?new vJ(e,r):n==="array-contains-any"?new xJ(e,r):new Zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pJ(e,r):new mJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ju(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xo extends y3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xo(e,n)}matches(e){return v3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v3(t){return t.op==="and"}function x3(t){return fJ(t)&&v3(t)}function fJ(t){for(const e of t.filters)if(e instanceof xo)return!1;return!0}function nS(t){if(t instanceof Zn)return t.field.canonicalString()+t.op.toString()+Zu(t.value);if(x3(t))return t.filters.map(e=>nS(e)).join(",");{const e=t.filters.map(n=>nS(n)).join(",");return`${t.op}(${e})`}}function b3(t,e){return t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.field.isEqual(i.field)&&vo(r.value,i.value)}(t,e):t instanceof xo?function(r,i){return i instanceof xo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&b3(o,i.filters[a]),!0):!1}(t,e):void lt(19439)}function w3(t){return t instanceof Zn?function(n){return`${n.field.canonicalString()} ${n.op} ${Zu(n.value)}`}(t):t instanceof xo?function(n){return n.op.toString()+" {"+n.getFilters().map(w3).join(" ,")+"}"}(t):"Filter"}class hJ extends Zn{constructor(e,n,r){super(e,n,r),this.key=st.fromName(r.referenceValue)}matches(e){const n=st.comparator(e.key,this.key);return this.matchesComparison(n)}}class pJ extends Zn{constructor(e,n){super(e,"in",n),this.keys=S3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mJ extends Zn{constructor(e,n){super(e,"not-in",n),this.keys=S3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>st.fromName(r.referenceValue))}class gJ extends Zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return LT(n)&&zh(n.arrayValue,this.value)}}class yJ extends Zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class vJ extends Zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zh(this.value.arrayValue,n)}}class xJ extends Zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!LT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function qj(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bJ(t,e,n,r,i,s,o)}function $T(t){const e=ft(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zu(r)).join(",")),e.Te=n}return e.Te}function FT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hj(t.startAt,e.startAt)&&Hj(t.endAt,e.endAt)}function rS(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wJ(t,e,n,r,i,s,o,a){return new Vx(t,e,n,r,i,s,o,a)}function VT(t){return new Vx(t)}function Gj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SJ(t){return t.collectionGroup!==null}function nh(t){const e=ft(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(Er.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new zy(s,r))}),n.has(Er.keyField().canonicalString())||e.Ie.push(new zy(Er.keyField(),r))}return e.Ie}function co(t){const e=ft(t);return e.Ee||(e.Ee=_J(e,nh(t))),e.Ee}function _J(t,e){if(t.limitType==="F")return qj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zy(i.field,s)});const n=t.endAt?new Uy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uy(t.startAt.position,t.startAt.inclusive):null;return qj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iS(t,e,n){return new Vx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bx(t,e){return FT(co(t),co(e))&&t.limitType===e.limitType}function _3(t){return`${$T(co(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>w3(i)).join(", ")}]`),$x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zu(i)).join(",")),`Target(${r})`}(co(t))}; limitType=${t.limitType})`}function Ux(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):st.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=Wj(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,nh(r),i)||r.endAt&&!function(o,a,c){const u=Wj(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,nh(r),i))}(t,e)}function EJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E3(t){return(e,n)=>{let r=!1;for(const i of nh(t)){const s=TJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TJ(t,e,n){const r=t.field.isKeyField()?st.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ju(c,u):lt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return a3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=new An(st.comparator);function ra(){return CJ}const T3=new An(st.comparator);function Df(...t){let e=T3;for(const n of t)e=e.insert(n.key,n);return e}function C3(t){let e=T3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return rh()}function A3(){return rh()}function rh(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const AJ=new An(st.comparator),PJ=new rr(st.comparator);function Ct(...t){let e=PJ;for(const n of t)e=e.add(n);return e}const NJ=new rr(Tt);function jJ(){return NJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fy(e)?"-0":e}}function P3(t){return{integerValue:""+t}}function kJ(t,e){return iJ(e)?P3(e):BT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this._=void 0}}function IJ(t,e,n){return t instanceof Wh?function(i,s){const o={fields:{[u3]:{stringValue:c3},[f3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&DT(s)&&(s=Fx(s)),s&&(o.fields[d3]=s),{mapValue:o}}(n,e):t instanceof Hh?j3(t,e):t instanceof qh?k3(t,e):function(i,s){const o=N3(i,s),a=Kj(o)+Kj(i.Ae);return tS(o)&&tS(i.Ae)?P3(a):BT(i.serializer,a)}(t,e)}function OJ(t,e,n){return t instanceof Hh?j3(t,e):t instanceof qh?k3(t,e):n}function N3(t,e){return t instanceof Wy?function(r){return tS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wh extends zx{}class Hh extends zx{constructor(e){super(),this.elements=e}}function j3(t,e){const n=I3(e);for(const r of t.elements)n.some(i=>vo(i,r))||n.push(r);return{arrayValue:{values:n}}}class qh extends zx{constructor(e){super(),this.elements=e}}function k3(t,e){let n=I3(e);for(const r of t.elements)n=n.filter(i=>!vo(i,r));return{arrayValue:{values:n}}}class Wy extends zx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kj(t){return On(t.integerValue||t.doubleValue)}function I3(t){return LT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,n){this.field=e,this.transform=n}}function MJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hh&&i instanceof Hh||r instanceof qh&&i instanceof qh?Qu(r.elements,i.elements,vo):r instanceof Wy&&i instanceof Wy?vo(r.Ae,i.Ae):r instanceof Wh&&i instanceof Wh}(t.transform,e.transform)}class DJ{constructor(e,n){this.version=e,this.transformResults=n}}class Wo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wo}static exists(e){return new Wo(void 0,e)}static updateTime(e){return new Wo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wx{}function O3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M3(t.key,Wo.none()):new Qp(t.key,t.data,Wo.none());{const n=t.data,r=Yi.empty();let i=new rr(Er.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ac(t.key,r,new js(i.toArray()),Wo.none())}}function LJ(t,e,n){t instanceof Qp?function(i,s,o){const a=i.value.clone(),c=Xj(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,s,o){if(!zg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Xj(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(R3(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ih(t,e,n,r){return t instanceof Qp?function(s,o,a,c){if(!zg(s.precondition,o))return a;const u=s.value.clone(),d=Qj(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(s,o,a,c){if(!zg(s.precondition,o))return a;const u=Qj(s.fieldTransforms,c,o),d=o.data;return d.setAll(R3(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return zg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $J(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=N3(r.transform,i||null);s!=null&&(n===null&&(n=Yi.empty()),n.set(r.field,s))}return n||null}function Yj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qu(r,i,(s,o)=>MJ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qp extends Wx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends Wx{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xj(t,e,n){const r=new Map;$t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OJ(o,a,n[i]))}return r}function Qj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IJ(s,o,e))}return r}class M3 extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FJ extends Wx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=O3(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(n,r)=>Yj(n,r))&&Qu(this.baseMutations,e.baseMutations,(n,r)=>Yj(n,r))}}class UT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return AJ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new UT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,Pt;function zJ(t){switch(t){case me.OK:return lt(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return lt(15467,{code:t})}}function D3(t){if(t===void 0)return na("GRPC error has no .code"),me.UNKNOWN;switch(t){case Fn.OK:return me.OK;case Fn.CANCELLED:return me.CANCELLED;case Fn.UNKNOWN:return me.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return me.INTERNAL;case Fn.UNAVAILABLE:return me.UNAVAILABLE;case Fn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Fn.NOT_FOUND:return me.NOT_FOUND;case Fn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Fn.ABORTED:return me.ABORTED;case Fn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Fn.DATA_LOSS:return me.DATA_LOSS;default:return lt(39323,{code:t})}}(Pt=Fn||(Fn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=new Za([4294967295,4294967295],0);function Jj(t){const e=WJ().encode(t),n=new Q4;return n.update(e),new Uint8Array(n.digest())}function Zj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class zT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(r<0)throw new Lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(HJ)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jj(e),[r,i]=Zj(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Jj(e),[r,i]=Zj(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hx(dt.min(),i,new An(Tt),ra(),Ct())}}class Jp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jp(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class L3{constructor(e,n){this.targetId=e,this.Ce=n}}class $3{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e2{constructor(){this.ve=0,this.Fe=t2(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),n=Ct(),r=Ct();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:lt(38017,{changeType:s})}}),new Jp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=t2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=Km(),this.He=Km(),this.Ye=new An(Tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:lt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(rS(s))if(r===0){const o=new st(s.path);this.et(n,o,Ur.newNoDocument(o,dt.min()))}else $t(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ul(r).toUint8Array()}catch(c){if(c instanceof l3)return Xu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new zT(o,i,s)}catch(c){return Xu(c instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&rS(a.target)){const c=new st(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ur.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Ct();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Hx(e,n,this.Ye,this.je,r);return this.je=ra(),this.Je=Km(),this.He=Km(),this.Ye=new An(Tt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new e2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(Tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(Tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e2),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Km(){return new An(st.comparator)}function t2(){return new An(st.comparator)}const GJ={asc:"ASCENDING",desc:"DESCENDING"},KJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YJ={and:"AND",or:"OR"};class XJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sS(t,e){return t.useProto3Json||$x(e)?e:{value:e}}function Hy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QJ(t,e){return Hy(t,e.toTimestamp())}function uo(t){return $t(!!t,49232),dt.fromTimestamp(function(n){const r=cl(n);return new dn(r.seconds,r.nanos)}(t))}function WT(t,e){return oS(t,e).canonicalString()}function oS(t,e){const n=function(i){return new _n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function V3(t){const e=_n.fromString(t);return $t(H3(e),10190,{key:e.toString()}),e}function aS(t,e){return WT(t.databaseId,e.path)}function Gb(t,e){const n=V3(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new st(U3(n))}function B3(t,e){return WT(t.databaseId,e)}function JJ(t){const e=V3(t);return e.length===4?_n.emptyPath():U3(e)}function lS(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U3(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function n2(t,e,n){return{name:aS(t,e),fields:n.value.mapValue.fields}}function ZJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?($t(d===void 0||typeof d=="string",58123),Pr.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?me.UNKNOWN:D3(u.code);return new Qe(d,u.message||"")}(o);n=new $3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gb(t,r.document.name),s=uo(r.document.updateTime),o=r.document.createTime?uo(r.document.createTime):dt.min(),a=new Yi({mapValue:{fields:r.document.fields}}),c=Ur.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Wg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gb(t,r.document),s=r.readTime?uo(r.readTime):dt.min(),o=Ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gb(t,r.document),s=r.removedTargetIds||[];n=new Wg([],s,i,null)}else{if(!("filter"in e))return lt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UJ(i,s),a=r.targetId;n=new L3(a,o)}}return n}function eZ(t,e){let n;if(e instanceof Qp)n={update:n2(t,e.key,e.value)};else if(e instanceof M3)n={delete:aS(t,e.key)};else if(e instanceof Ac)n={update:n2(t,e.key,e.data),updateMask:cZ(e.fieldMask)};else{if(!(e instanceof FJ))return lt(16599,{Vt:e.type});n={verify:aS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wy)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw lt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt(27497)}(t,e.precondition)),n}function tZ(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?uo(i.updateTime):uo(s);return o.isEqual(dt.min())&&(o=uo(s)),new DJ(o,i.transformResults||[])}(n,e))):[]}function nZ(t,e){return{documents:[B3(t,e.path)]}}function rZ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B3(t,i);const s=function(u){if(u.length!==0)return W3(xo.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Wc(h.field),direction:oZ(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function iZ(t){let e=JJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=z3(f);return h instanceof xo&&x3(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new zy(Hc(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,$x(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new Uy(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Uy(m,h)}(n.endAt)),wJ(e,i,o,s,a,"F",c,u)}function sZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hc(n.unaryFilter.field);return Zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hc(n.unaryFilter.field);return Zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hc(n.unaryFilter.field);return Zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hc(n.unaryFilter.field);return Zn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zn.create(Hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xo.create(n.compositeFilter.filters.map(r=>z3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(n.compositeFilter.op))}(t):lt(30097,{filter:t})}function oZ(t){return GJ[t]}function aZ(t){return KJ[t]}function lZ(t){return YJ[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function Hc(t){return Er.fromServerFormat(t.fieldPath)}function W3(t){return t instanceof Zn?function(n){if(n.op==="=="){if(zj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NAN"}};if(Uj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NAN"}};if(Uj(n.value))return{unaryFilter:{field:Wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(n.field),op:aZ(n.op),value:n.value}}}(t):t instanceof xo?function(n){const r=n.getFilters().map(i=>W3(i));return r.length===1?r[0]:{compositeFilter:{op:lZ(n.op),filters:r}}}(t):lt(54877,{filter:t})}function cZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function H3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i,s=dt.min(),o=dt.min(),a=Pr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.yt=e}}function dZ(t){const e=iZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.Cn=new hZ}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ll.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class hZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(_n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q3=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(q3,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ed(0)}static cr(){return new ed(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="LruGarbageCollector",pZ=1048576;function s2([t,e],[n,r]){const i=Tt(t,n);return i===0?Tt(e,r):i}class mZ{constructor(e){this.Ir=e,this.buffer=new rr(s2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(i2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$d(n)?Re(i2,"Ignoring IndexedDB error during garbage collection: ",n):await Ld(n)}await this.Vr(3e5)})}}class yZ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Lx.ce);const r=new mZ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(r2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r2):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Uc()<=_t.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function vZ(t,e){return new yZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ih(r.mutation,i,js.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Df();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ra();const o=rh(),a=function(){return rh()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ac)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ih(d.mutation,u,d.mutation.getFieldMask(),dn.now())):o.set(u.key,js.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new bZ(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=rh();let i=new An((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||js.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||Ct()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=A3();d.forEach(h=>{if(!s.has(h)){const m=O3(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Bl());let a=Vh,c=s;return o.next(u=>fe.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?fe.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ct())).next(d=>({batchId:a,changes:C3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new st(n)).next(r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Df();return this.indexManager.getCollectionParents(e,s).next(a=>fe.forEach(a,c=>{const u=function(f,h){return new Vx(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ur.newInvalidDocument(d)))});let a=Df();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&ih(d.mutation,u,js.empty(),dn.now()),Ux(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:dZ(i.bundledQuery),readTime:uo(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(){this.overlays=new An(st.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return fe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),s=n.length+1,o=new st(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new An((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Bl(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bl(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BJ(n,r));let s=this.qr.get(n);s===void 0&&(s=Ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.Qr=new rr(cr.$r),this.Ur=new rr(cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new cr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new st(new _n([])),r=new cr(n,e),i=new cr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new st(new _n([])),r=new cr(n,e),i=new cr(n,e+1);let s=Ct();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return st.comparator(e.key,n.key)||Tt(e.Yr,n.Yr)}static Kr(e,n){return Tt(e.Yr,n.Yr)||st.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(cr.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VJ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?MT:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cr(n,0),i=new cr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Tt);return n.forEach(i=>{const s=new cr(i,0),o=new cr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;st.isDocumentKey(s)||(s=s.child(""));const o=new cr(new st(s),0);let a=new rr(Tt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),fe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(n.mutations,i=>{const s=new cr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new cr(n,0),i=this.Zr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.ri=e,this.docs=function(){return new An(st.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=ra();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ur.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ra();const o=n.path,a=new st(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eJ(ZQ(d),r)<=0||(i.has(d.key)||Ux(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){lt(9500)}ii(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AZ(this)}getSize(e){return fe.resolve(this.size)}}class AZ extends xZ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.persistence=e,this.si=new Cc(n=>$T(n),FT),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.oi=0,this._i=new HT,this.targetCount=0,this.ai=ed.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ed(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lx(0),this.li=!1,this.li=!0,this.hi=new EZ,this.referenceDelegate=e(this),this.Pi=new PZ(this),this.indexManager=new fZ,this.remoteDocumentCache=function(i){return new CZ(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uZ(n),this.Ii=new SZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _Z,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new NZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return fe.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class NZ extends nJ{constructor(e){super(),this.currentSequenceNumber=e}}class qT{constructor(e){this.persistence=e,this.Ri=new HT,this.Vi=null}static mi(e){return new qT(e)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,r=>{const i=st.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,dt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qy{constructor(e,n){this.persistence=e,this.pi=new Cc(r=>sJ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vZ(this,n)}static mi(e,n){return new qy(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return fe.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,dt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bg(e.data.value)),n}br(e,n,r){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new GT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return bK()?8:rJ(Hr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jZ;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Uc()<=_t.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Uc()<=_t.DEBUG&&Re("QueryEngine","Query:",zc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Uc()<=_t.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(n))):fe.resolve())}ys(e,n){if(Gj(n))return fe.resolve(null);let r=co(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iS(n,null,"F"),r=co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ct(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,iS(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return Gj(n)||i.isEqual(dt.min())?fe.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?fe.resolve(null):(Uc()<=_t.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zc(n)),this.vs(e,o,n,JQ(i,Vh)).next(a=>a))})}Ds(e,n){let r=new rr(E3(e));return n.forEach((i,s)=>{Ux(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Uc()<=_t.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",zc(n)),this.ps.getDocumentsMatchingQuery(e,n,ll.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="LocalStore",IZ=3e8;class OZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new An(Tt),this.xs=new Cc(s=>$T(s),FT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function RZ(t,e,n,r){return new OZ(t,e,n,r)}async function K3(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ct();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function MZ(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,h=f.keys();let m=fe.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(g=>{const y=u.docVersions.get(v);$t(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ct();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y3(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DZ(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Pr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=IZ?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(s,m))});let c=ra(),u=Ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(LZ(s,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(dt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return fe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function LZ(t,e,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ra();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(dt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Re(KT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function $Z(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=MT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FZ(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,fe.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Va(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function cS(t,e,n){const r=ft(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$d(o))throw o;Re(KT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function o2(t,e,n){const r=ft(t);let i=dt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ft(c),h=f.xs.get(d);return h!==void 0?fe.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,o,co(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:dt.min(),n?s:Ct())).next(a=>(VZ(r,EJ(e),a),{documents:a,Qs:s})))}function VZ(t,e,n){let r=t.Os.get(e)||dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class a2{constructor(){this.activeTargetIds=jJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BZ{constructor(){this.Mo=new a2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="ConnectivityMonitor";class c2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(l2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(l2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym=null;function uS(){return Ym===null?Ym=function(){return 268435456+Math.round(2147483648*Math.random())}():Ym++,"0x"+Ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="RestConnection",zZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=uS(),a=this.zo(e,n.toUriEncodedString());Re(Kb,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),d=Od(u);return this.Jo(e,a,c,r,d).then(f=>(Re(Kb,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Xu(Kb,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=zZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class qZ extends WZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=uS();return new Promise((a,c)=>{const u=new J4;u.setWithCredentials(!0),u.listenOnce(Z4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vg.NO_ERROR:const f=u.getResponseJson();Re(Dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Vg.TIMEOUT:Re(Dr,`RPC '${e}' ${o} timed out`),c(new Qe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:const h=u.getStatus();if(Re(Dr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(v.status);c(new Qe(g,v.message))}else c(new Qe(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Qe(me.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Re(Dr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Re(Dr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=uS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=n3(),a=t3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");Re(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let h=!1,m=!1;const v=new HZ({Yo:y=>{m?Re(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(Re(Dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Re(Dr,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,w)=>{y.listen(b,S=>{try{w(S)}catch(A){setTimeout(()=>{throw A},0)}})};return g(f,Mf.EventType.OPEN,()=>{m||(Re(Dr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(f,Mf.EventType.CLOSE,()=>{m||(m=!0,Re(Dr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),g(f,Mf.EventType.ERROR,y=>{m||(m=!0,Xu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new Qe(me.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mf.EventType.MESSAGE,y=>{var b;if(!m){const w=y.data[0];$t(!!w,16349);const S=w,A=(S==null?void 0:S.error)||((b=S[0])==null?void 0:b.error);if(A){Re(Dr,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let N=function(P){const I=Fn[P];if(I!==void 0)return D3(I)}(E),_=A.message;N===void 0&&(N=me.INTERNAL,_="Unknown error status: "+E+" with message "+A.message),m=!0,v.a_(new Qe(N,_)),f.close()}else Re(Dr,`RPC '${e}' stream ${i} received:`,w),v.u_(w)}}),g(a,e3.STAT_EVENT,y=>{y.stat===J1.PROXY?Re(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===J1.NOPROXY&&Re(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return new XJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="PersistentStream";class Q3{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Qe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Re(u2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Re(u2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GZ extends Q3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZJ(this.serializer,e),r=function(s){if(!("targetChange"in s))return dt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?dt.min():o.readTime?uo(o.readTime):dt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=lS(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=rS(c)?{documents:nZ(s,c)}:{query:rZ(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=F3(s,o.resumeToken);const u=sS(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(dt.min())>0){a.readTime=Hy(s,o.snapshotVersion.toTimestamp());const u=sS(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=sZ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=lS(this.serializer),n.removeTarget=e,this.q_(n)}}class KZ extends Q3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tZ(e.writeResults,e.commitTime),r=uo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eZ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{}class XZ extends YZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Qe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,oS(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(me.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,oS(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(me.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class JZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pc(this)&&(Re(pc,"Restarting streams for network reachability change."),await async function(c){const u=ft(c);u.Ea.add(4),await Zp(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Gx(u)}(this))})}),this.Ra=new QZ(r,i)}}async function Gx(t){if(Pc(t))for(const e of t.da)await e(!0)}async function Zp(t){for(const e of t.da)await e(!1)}function J3(t,e){const n=ft(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),JT(n)?QT(n):Fd(n).O_()&&XT(n,e))}function YT(t,e){const n=ft(t),r=Fd(n);n.Ia.delete(e),r.O_()&&Z3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pc(n)&&n.Ra.set("Unknown"))}function XT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fd(t).Y_(e)}function Z3(t,e){t.Va.Ue(e),Fd(t).Z_(e)}function QT(t){t.Va=new qJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fd(t).start(),t.Ra.ua()}function JT(t){return Pc(t)&&!Fd(t).x_()&&t.Ia.size>0}function Pc(t){return ft(t).Ea.size===0}function e5(t){t.Va=void 0}async function ZZ(t){t.Ra.set("Online")}async function eee(t){t.Ia.forEach((e,n)=>{XT(t,e)})}async function tee(t,e){e5(t),JT(t)?(t.Ra.ha(e),QT(t)):t.Ra.set("Unknown")}async function nee(t,e,n){if(t.Ra.set("Online"),e instanceof $3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Re(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gy(t,r)}else if(e instanceof Wg?t.Va.Ze(e):e instanceof L3?t.Va.st(e):t.Va.tt(e),!n.isEqual(dt.min()))try{const r=await Y3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(Pr.EMPTY_BYTE_STRING,d.snapshotVersion)),Z3(s,c);const f=new Va(d.target,c,u,d.sequenceNumber);XT(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Re(pc,"Failed to raise snapshot:",r),await Gy(t,r)}}async function Gy(t,e,n){if(!$d(e))throw e;t.Ea.add(1),await Zp(t),t.Ra.set("Offline"),n||(n=()=>Y3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gx(t)})}function t5(t,e){return e().catch(n=>Gy(t,n,e))}async function Kx(t){const e=ft(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:MT;for(;ree(e);)try{const i=await $Z(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iee(e,i)}catch(i){await Gy(e,i)}n5(e)&&r5(e)}function ree(t){return Pc(t)&&t.Ta.length<10}function iee(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function n5(t){return Pc(t)&&!fl(t).x_()&&t.Ta.length>0}function r5(t){fl(t).start()}async function see(t){fl(t).ra()}async function oee(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function aee(t,e,n){const r=t.Ta.shift(),i=UT.from(r,e,n);await t5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kx(t)}async function lee(t,e){e&&fl(t).X_&&await async function(r,i){if(function(o){return zJ(o)&&o!==me.ABORTED}(i.code)){const s=r.Ta.shift();fl(r).B_(),await t5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kx(r)}}(t,e),n5(t)&&r5(t)}async function d2(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),Re(pc,"RemoteStore received new credentials");const r=Pc(n);n.Ea.add(3),await Zp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gx(n)}async function cee(t,e){const n=ft(t);e?(n.Ea.delete(2),await Gx(n)):e||(n.Ea.add(2),await Zp(n),n.Ra.set("Unknown"))}function Fd(t){return t.ma||(t.ma=function(n,r,i){const s=ft(n);return s.sa(),new GZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ZZ.bind(null,t),t_:eee.bind(null,t),r_:tee.bind(null,t),H_:nee.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),JT(t)?QT(t):t.Ra.set("Unknown")):(await t.ma.stop(),e5(t))})),t.ma}function fl(t){return t.fa||(t.fa=function(n,r,i){const s=ft(n);return s.sa(),new KZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:see.bind(null,t),r_:lee.bind(null,t),ta:oee.bind(null,t),na:aee.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Kx(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eC(t,e){if(na("AsyncQueue",`${e}: ${t}`),$d(t))return new Qe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.ga=new An(st.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):lt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class td{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new td(e,n,wu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dee{constructor(){this.queries=h2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=h2(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Qe(me.ABORTED,"Firestore shutting down"))}}function h2(){return new Cc(t=>_3(t),Bx)}async function fee(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new uee,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=eC(o,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&tC(n)}async function hee(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pee(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&tC(n)}function mee(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function tC(t){t.Ca.forEach(e=>{e.next()})}var dS,p2;(p2=dS||(dS={})).Ma="default",p2.Cache="cache";class gee{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.key=e}}class s5{constructor(e){this.key=e}}class yee{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=E3(e),this.tu=new wu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new f2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Ux(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),y=!0):this.su(h,m)||(r.track({type:2,doc:m}),y=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),y=!0):h&&!m&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(m?(o=o.add(m),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(m,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:y})}};return g(m)-g(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new td(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new s5(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new i5(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return td.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nC="SyncEngine";class vee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xee{constructor(e){this.key=e,this.hu=!1}}class bee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cc(a=>_3(a),Bx),this.Iu=new Map,this.Eu=new Set,this.du=new An(st.comparator),this.Au=new Map,this.Ru=new HT,this.Vu={},this.mu=new Map,this.fu=ed.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wee(t,e,n=!0){const r=d5(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await o5(r,e,n,!0),i}async function See(t,e){const n=d5(t);await o5(n,e,!0,!1)}async function o5(t,e,n,r){const i=await FZ(t.localStore,co(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await _ee(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&J3(t.remoteStore,i),a}async function _ee(t,e,n,r,i){t.pu=(f,h,m)=>async function(g,y,b,w){let S=y.view.ru(b);S.Cs&&(S=await o2(g.localStore,y.query,!1).then(({documents:_})=>y.view.ru(_,S)));const A=w&&w.targetChanges.get(y.targetId),E=w&&w.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(S,g.isPrimaryClient,A,E);return g2(g,y.targetId,N.au),N.snapshot}(t,f,h,m);const s=await o2(t.localStore,e,!0),o=new yee(e,s.Qs),a=o.ru(s.documents),c=Jp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);g2(t,n,u.au);const d=new vee(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Eee(t,e,n){const r=ft(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Bx(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&YT(r.remoteStore,i.targetId),fS(r,i.targetId)}).catch(Ld)):(fS(r,i.targetId),await cS(r.localStore,i.targetId,!0))}async function Tee(t,e){const n=ft(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),YT(n.remoteStore,r.targetId))}async function Cee(t,e,n){const r=Oee(t);try{const i=await function(o,a){const c=ft(o),u=dn.now(),d=a.reduce((m,v)=>m.add(v.key),Ct());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ra(),g=Ct();return c.Ns.getEntries(m,d).next(y=>{v=y,v.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{f=y;const b=[];for(const w of a){const S=$J(w,f.get(w.key).overlayedDocument);S!=null&&b.push(new Ac(w.key,S,g3(S.value.mapValue),Wo.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:C3(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new An(Tt)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await em(r,i.changes),await Kx(r.remoteStore)}catch(i){const s=eC(i,"Failed to persist write");n.reject(s)}}async function a5(t,e){const n=ft(t);try{const r=await DZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?$t(o.hu,14607):i.removedDocuments.size>0&&($t(o.hu,42227),o.hu=!1))}),await em(n,r,e)}catch(r){await Ld(r)}}function m2(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ft(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&tC(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Aee(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new An(st.comparator);o=o.insert(s,Ur.newNoDocument(s,dt.min()));const a=Ct().add(s),c=new Hx(dt.min(),new Map,new An(Tt),o,a);await a5(r,c),r.du=r.du.remove(s),r.Au.delete(e),rC(r)}else await cS(r.localStore,e,!1).then(()=>fS(r,e,n)).catch(Ld)}async function Pee(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await MZ(n.localStore,e);c5(n,r,null),l5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await em(n,i)}catch(i){await Ld(i)}}async function Nee(t,e,n){const r=ft(t);try{const i=await function(o,a){const c=ft(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);c5(r,e,n),l5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await em(r,i)}catch(i){await Ld(i)}}function l5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function c5(t,e,n){const r=ft(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||u5(t,r)})}function u5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(YT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rC(t))}function g2(t,e,n){for(const r of n)r instanceof i5?(t.Ru.addReference(r.key,e),jee(t,r)):r instanceof s5?(Re(nC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||u5(t,r.key)):lt(19791,{wu:r})}function jee(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(nC,"New document in limbo: "+n),t.Eu.add(r),rC(t))}function rC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new st(_n.fromString(e)),r=t.fu.next();t.Au.set(r,new xee(n)),t.du=t.du.insert(n,r),J3(t.remoteStore,new Va(co(VT(n.path)),r,"TargetPurposeLimboResolution",Lx.ce))}}async function em(t,e,n){const r=ft(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=GT.As(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const d=ft(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,h=>fe.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>fe.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!$d(f))throw f;Re(KT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,g)}}}(r.localStore,s))}async function kee(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){Re(nC,"User change. New user:",e.toKey());const r=await K3(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new Qe(me.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await em(n,r.Ls)}}function Iee(t,e){const n=ft(t),r=n.Au.get(e);if(r&&r.hu)return Ct().add(r.key);{let i=Ct();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function d5(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aee.bind(null,e),e.Pu.H_=pee.bind(null,e.eventManager),e.Pu.yu=mee.bind(null,e.eventManager),e}function Oee(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nee.bind(null,e),e}class Ky{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RZ(this.persistence,new kZ,e.initialUser,this.serializer)}Cu(e){return new G3(qT.mi,this.serializer)}Du(e){return new BZ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ky.provider={build:()=>new Ky};class Ree extends Ky{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof qy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gZ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new G3(r=>qy.mi(r,n),this.serializer)}}class hS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kee.bind(null,this.syncEngine),await cee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dee}()}createDatastore(e){const n=qx(e.databaseInfo.databaseId),r=function(s){return new qZ(s)}(e.databaseInfo);return function(s,o,a,c){return new XZ(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new JZ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m2(this.syncEngine,n,0),function(){return c2.v()?new c2:new UZ}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){const f=new bee(i,s,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ft(i);Re(pc,"RemoteStore shutting down."),s.Ea.add(5),await Zp(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hS.provider={build:()=>new hS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class Dee{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Re(hl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Re(hl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress(),Re(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await K3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lee(t);Re(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d2(e.remoteStore,i)),t._onlineComponents=e}async function Lee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(hl,"Using user provided OfflineComponentProvider");try{await Xb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xu("Error using user provided cache. Falling back to memory cache: "+n),await Xb(t,new Ky)}}else Re(hl,"Using default OfflineComponentProvider"),await Xb(t,new Ree(void 0));return t._offlineComponents}async function f5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(hl,"Using user provided OnlineComponentProvider"),await y2(t,t._uninitializedComponentsProvider._online)):(Re(hl,"Using default OnlineComponentProvider"),await y2(t,new hS))),t._onlineComponents}function $ee(t){return f5(t).then(e=>e.syncEngine)}async function Fee(t){const e=await f5(t),n=e.eventManager;return n.onListen=wee.bind(null,e.syncEngine),n.onUnlisten=Eee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=See.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tee.bind(null,e.syncEngine),n}function Vee(t,e,n={}){const r=new el;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new Mee({next:h=>{d.Nu(),o.enqueueAndForget(()=>hee(s,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new Qe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new Qe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new gee(VT(a.path),d,{includeMetadataChanges:!0,qa:!0});return fee(s,f)}(await Fee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="firestore.googleapis.com",x2=!0;class b2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p5,this.ssl=x2}else this.host=e.host,this.ssl=e.ssl??x2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pZ)throw new Qe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Qe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VQ;switch(r.type){case"firstParty":return new WQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v2.get(n);r&&(Re("ComponentProvider","Removing Datastore"),v2.delete(n),r.terminate())}(this),Promise.resolve()}}function Bee(t,e,n,r={}){var u;t=Fh(t,iC);const i=Od(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(f4(`https://${a}`),h4("Firestore",!0)),s.host!==p5&&s.host!==a&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!uc(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fr.MOCK_USER;else{d=dK(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Qe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fr(h)}t._authCredentials=new BQ(new i3(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sC(this.firestore,e,this._query)}}class hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}toJSON(){return{type:hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xp(n,hr._jsonSchema))return new hr(e,r||null,new st(_n.fromString(n.referencePath)))}}hr._jsonSchemaVersion="firestore/documentReference/1.0",hr._jsonSchema={type:zn("string",hr._jsonSchemaVersion),referencePath:zn("string")};class Gh extends sC{constructor(e,n,r){super(e,n,VT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new st(e))}withConverter(e){return new Gh(this.firestore,e,this._path)}}function m5(t,e,...n){if(t=ss(t),arguments.length===1&&(e=OT.newId()),XQ("doc","path",e),t instanceof iC){const r=_n.fromString(e,...n);return Rj(r),new hr(t,null,new st(r))}{if(!(t instanceof hr||t instanceof Gh))throw new Qe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return Rj(r),new hr(t.firestore,t instanceof Gh?t.converter:null,new st(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="AsyncQueue";class S2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X3(this,"async_queue_retry"),this._c=()=>{const r=Yb();r&&Re(w2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new el;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$d(e))throw e;Re(w2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",_2(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ZT.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&lt(47125,{Pc:_2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class oC extends iC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new S2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S2(e),this._firestoreClient=void 0,await e}}}function Uee(t,e){const n=typeof t=="object"?t:y4(),r=typeof t=="string"?t:Vy,i=wT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cK("firestore");s&&Bee(i,...s)}return i}function g5(t){if(t._terminated)throw new Qe(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zee(t),t._firestoreClient}function zee(t){var r,i,s;const e=t._freezeSettings(),n=function(a,c,u,d){return new lJ(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,h5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Dee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(Pr.fromBase64String(e))}catch(n){throw new Qe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xi(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xp(e,Xi._jsonSchema))return Xi.fromBase64String(e.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:zn("string",Xi._jsonSchemaVersion),bytes:zn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fo._jsonSchemaVersion}}static fromJSON(e){if(Xp(e,fo._jsonSchema))return new fo(e.latitude,e.longitude)}}fo._jsonSchemaVersion="firestore/geoPoint/1.0",fo._jsonSchema={type:zn("string",fo._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xp(e,ho._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ho(e.vectorValues);throw new Qe(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:zn("string",ho._jsonSchemaVersion),vectorValues:zn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=/^__.*__$/;class Hee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qp(e,this.data,n,this.fieldTransforms)}}function y5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:t})}}class cC{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y5(this.Ac)&&Wee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qx(e)}Cc(e,n,r,i=!1){return new cC({Ac:e,methodName:n,Dc:r,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gee(t){const e=t._freezeSettings(),n=qx(t._databaseId);return new qee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kee(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);w5("Data must be an object, but it was:",o,r);const a=x5(r,o);let c,u;if(s.merge)c=new js(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Yee(e,f,n);if(!o.contains(h))throw new Qe(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Qee(d,h)||d.push(h)}c=new js(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Hee(new Yi(a),c,u)}class uC extends lC{_toFieldTransform(e){return new RJ(e.path,new Wh)}isEqual(e){return e instanceof uC}}function v5(t,e){if(b5(t=ss(t)))return w5("Unsupported field value:",e,t),x5(t,e);if(t instanceof lC)return function(r,i){if(!y5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=v5(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ss(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dn.fromDate(r);return{timestampValue:Hy(i.serializer,s)}}if(r instanceof dn){const s=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hy(i.serializer,s)}}if(r instanceof fo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xi)return{bytesValue:F3(i.serializer,r._byteString)};if(r instanceof hr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ho)return function(o,a){return{mapValue:{fields:{[h3]:{stringValue:m3},[By]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return BT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${RT(r)}`)}(t,e)}function x5(t,e){const n={};return a3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const s=v5(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function b5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof fo||t instanceof Xi||t instanceof hr||t instanceof lC||t instanceof ho)}function w5(t,e,n){if(!b5(n)||!s3(n)){const r=RT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Yee(t,e,n){if((e=ss(e))instanceof aC)return e._internalPath;if(typeof e=="string")return S5(t,e);throw Yy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xee=new RegExp("[~\\*/\\[\\]]");function S5(t,e,n){if(e.search(Xee)>=0)throw Yy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aC(...e.split("."))._internalPath}catch{throw Yy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Qe(me.INVALID_ARGUMENT,a+t+c)}function Qee(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jee extends _5{data(){return super.data()}}function E5(t,e){return typeof e=="string"?S5(t,e):e instanceof aC?e._internalPath:e._delegate._internalPath}class Zee{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw lt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[By].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>On(o.doubleValue));return new ho(n)}convertGeoPoint(e){return new fo(On(e.latitude),On(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const n=cl(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);$t(H3(r),9688,{name:e});const i=new Uh(r.get(1),r.get(3)),s=new st(r.popFirst(5));return i.isEqual(n)||na(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $f{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends _5{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:zn("string",Zl._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class Hg extends Zl{data(e={}){return super.data(e)}}class sh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $f(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hg(this._firestore,this._userDataWriter,r.key,r,new $f(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new Hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $f(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new Hg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $f(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tte(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=OT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(t){t=Fh(t,hr);const e=Fh(t.firestore,oC);return Vee(g5(e),t._key).then(n=>ote(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:zn("string",sh._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};class rte extends Zee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function ite(t,e,n){t=Fh(t,hr);const r=Fh(t.firestore,oC),i=ete(t.converter,e,n);return ste(r,[Kee(Gee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wo.none())])}function ste(t,e){return function(r,i){const s=new el;return r.asyncQueue.enqueueAndForget(async()=>Cee(await $ee(r),i,s)),s.promise}(g5(t),e)}function ote(t,e,n){const r=n.docs.get(e._key),i=new rte(t);return new Zl(t,i,e._key,r,new $f(n.hasPendingWrites,n.fromCache),e.converter)}function ate(){return new uC("serverTimestamp")}(function(e,n=!0){(function(i){Dd=i})(Rd),Ku(new dc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new oC(new UQ(r.getProvider("auth-internal")),new HQ(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ja(jj,kj,e),Ja(jj,kj,"esm2020")})();const lte={apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"},T5=g4(lte),Yx=$Q(T5),C5=Uee(T5),cte=new Do,ute=new Mo;async function dte(){try{return(await Y4(Yx,cte)).user}catch(t){return console.error("Google sign-in error:",t),null}}async function fte(){try{return(await Y4(Yx,ute)).user}catch(t){return console.error("Facebook sign-in error:",t),null}}async function hte(){try{await PX(Yx)}catch(t){console.error("Sign-out error:",t)}}function pte(t){return AX(Yx,t)}async function E2(t){try{const e=await nte(m5(C5,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}}async function mte(t,e,n){try{return await ite(m5(C5,"users",t),{isPro:e,promoCode:n||null,updatedAt:ate()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}}const Qb="cuemaster_analytics_consent",Jb="cuemaster_analytics_events",Xm="cuemaster_analytics_sessions",Qm="cuemaster_analytics_stats",Zb="cuemaster_first_launch_complete",Jm=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class gte{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.userEmail=null,this.loadConsent(),this.loadEvents()}setUserEmail(e){this.userEmail=e}loadConsent(){try{const e=localStorage.getItem(Qb);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem(Jb);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem(Jb,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(Xm);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(Xm,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(Zb)}markFirstLaunchComplete(){localStorage.setItem(Zb,"true")}getConsent(){return{...this.consent}}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(Qb,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:Jm(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var o;if(!this.consent.usageStats&&e!=="consent_updated")return;const s={id:Jm(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((o=this.currentSession)==null?void 0:o.id)||"no-session"};this.events.push(s),this.currentSession&&this.currentSession.events.push(s),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,{value:r,...i}),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(Qm,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const s=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(s+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const s=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(s+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const s=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(s+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break;case"luck":n==="coin_flip"?(i.skillMetrics.luck.totalFlips++,r===1?i.skillMetrics.luck.headsCount++:i.skillMetrics.luck.tailsCount++):n==="session_complete"&&i.skillMetrics.luck.sessionsPlayed++;break}localStorage.setItem(Qm,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(Qm);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0},luck:{totalFlips:0,headsCount:0,tailsCount:0,sessionsPlayed:0}}}}getSessions(){try{const e=localStorage.getItem(Xm);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem(Jb),localStorage.removeItem(Xm),localStorage.removeItem(Qm)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(Qb),localStorage.removeItem(Zb)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=Jm()+Jm(),localStorage.setItem(e,n)),n}getDeviceInfo(){const e=navigator.userAgent;let n="desktop";/Mobi|Android/i.test(e)?n="mobile":/Tablet|iPad/i.test(e)&&(n="tablet");let r="unknown";e.includes("Firefox")?r="Firefox":e.includes("Edg")?r="Edge":e.includes("Chrome")?r="Chrome":e.includes("Safari")?r="Safari":(e.includes("Opera")||e.includes("OPR"))&&(r="Opera");const i=`${window.screen.width}x${window.screen.height}`,s=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";return{deviceType:n,browser:r,screenSize:i,country:s}}async submitToBenchmarking(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={userId:this.getAnonymousId(),userEmail:this.userEmail||null,timestamp:new Date().toISOString(),device:this.getDeviceInfo(),totalSessions:e.totalSessions,totalTimeMs:e.totalTimeMs,moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),s=`${r}?action=submit&data=${i}`,o=await fetch(s,{method:"GET"});return o.ok?(await o.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}}async getExternalSummary(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=await fetch(`${e}?action=summary`);if(n.ok)return await n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null}}const mt=new gte,A5=x.createContext(null);function Vd(){const t=x.useContext(A5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function yte(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(!0),c=async()=>{if(t){const m=await E2(t.uid);r(m.isPro),s(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(m),s(v)}};return x.useEffect(()=>{const m=pte(async v=>{if(e(v),mt.setUserEmail((v==null?void 0:v.email)||null),v){const g=await E2(v.uid);r(g.isPro),s(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(g),s(y)}a(!1)});return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:o,signInWithGoogle:async()=>{a(!0),await dte(),a(!1)},signInWithFacebook:async()=>{a(!0),await fte(),a(!1)},signOut:async()=>{await hte(),r(!1)},refreshProStatus:c,unlockPro:async m=>{if(t){const v=await mte(t.uid,!0,m);return v&&(r(!0),s(m||null)),v}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),s(m||null),!0}}}function vte({children:t}){const e=yte();return l.jsx(A5.Provider,{value:e,children:t})}const qg=[{id:"en",name:"English",nativeName:"English",flag:""},{id:"es",name:"Spanish",nativeName:"Espaol",flag:""},{id:"tl",name:"Filipino",nativeName:"Filipino",flag:""},{id:"de",name:"German",nativeName:"Deutsch",flag:""},{id:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{id:"ja",name:"Japanese",nativeName:"",flag:""},{id:"zh",name:"Chinese",nativeName:"",flag:""}],P5=x.createContext(void 0),T2="cuemaster-language";function xte({children:t}){const[e,n]=x.useState(()=>{const i=localStorage.getItem(T2);return i&&qg.find(o=>o.id===i)||qg[0]}),r=i=>{n(i),localStorage.setItem(T2,i.id)};return l.jsx(P5.Provider,{value:{language:e,setLanguage:r},children:t})}function bte(){const t=x.useContext(P5);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}const C2="cuemaster_app_settings",ew={wakeLockEnabled:!0,soundEnabled:!0,hapticEnabled:!1},dC=x.createContext(null);function fC(){const t=x.useContext(dC);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}function wte(){const[t,e]=x.useState(()=>{try{const i=localStorage.getItem(C2);if(i)return{...ew,...JSON.parse(i)}}catch(i){console.error("Failed to parse settings:",i)}return ew});x.useEffect(()=>{localStorage.setItem(C2,JSON.stringify(t))},[t]);const n=x.useCallback(i=>{e(s=>({...s,...i}))},[]),r=x.useCallback(()=>{e(ew)},[]);return{settings:t,updateSettings:n,resetSettings:r,SettingsContext:dC}}function Ste({children:t}){const{settings:e,updateSettings:n,resetSettings:r}=wte();return l.jsx(dC.Provider,{value:{settings:e,updateSettings:n,resetSettings:r},children:t})}const ot=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ot.displayName="Card";const _te=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));_te.displayName="CardHeader";const Ete=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ete.displayName="CardTitle";const Tte=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));Tte.displayName="CardDescription";const N5=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));N5.displayName="CardContent";const Cte=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Cte.displayName="CardFooter";function Ate({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:s,disabled:o=!1,proFeature:a=!1,isProUser:c=!1,showAccent:u=!0}){const d=u||a&&c;return l.jsx(ot,{className:`p-6 ${o?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":`cursor-pointer hover-elevate active-elevate-2 ${d?"border-l-[3px] border-l-primary":""}`}`,onClick:o?void 0:i,"data-testid":s,children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${o?"bg-muted/50":"bg-primary/10"}`,children:t}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${o?"text-muted-foreground/60":"text-primary"}`,children:n}),l.jsx("h3",{className:`text-xl font-bold mb-1 ${o?"text-muted-foreground":"text-foreground"}`,children:e}),l.jsx("p",{className:`text-sm ${o?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),o&&l.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function Pte(){const[t,e]=x.useState(null),{toast:n}=Pd(),r="0.9.7.136",i=()=>{const o=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(o)},s=()=>{t&&(clearTimeout(t),e(null))};return l.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:s,onMouseLeave:s,onTouchStart:i,onTouchEnd:s,"data-testid":"text-version",children:["v",r]})}var tw="focusScope.autoFocusOnMount",nw="focusScope.autoFocusOnUnmount",A2={bubbles:!1,cancelable:!0},Nte="FocusScope",hC=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=x.useState(null),u=Mn(i),d=Mn(s),f=x.useRef(null),h=bt(e,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(S){if(m.paused||!a)return;const A=S.target;a.contains(A)?f.current=A:Ta(f.current,{select:!0})},y=function(S){if(m.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Ta(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ta(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){N2.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(tw,A2);a.addEventListener(tw,u),a.dispatchEvent(b),b.defaultPrevented||(jte(Mte(j5(a)),{select:!0}),document.activeElement===g&&Ta(a))}return()=>{a.removeEventListener(tw,u),setTimeout(()=>{const b=new CustomEvent(nw,A2);a.addEventListener(nw,d),a.dispatchEvent(b),b.defaultPrevented||Ta(g??document.body,{select:!0}),a.removeEventListener(nw,d),N2.remove(m)},0)}}},[a,u,d,m]);const v=x.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const w=g.currentTarget,[S,A]=kte(w);S&&A?!g.shiftKey&&b===A?(g.preventDefault(),n&&Ta(S,{select:!0})):g.shiftKey&&b===S&&(g.preventDefault(),n&&Ta(A,{select:!0})):b===w&&g.preventDefault()}},[n,r,m.paused]);return l.jsx(et.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});hC.displayName=Nte;function jte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ta(r,{select:e}),document.activeElement!==n)return}function kte(t){const e=j5(t),n=P2(e,t),r=P2(e.reverse(),t);return[n,r]}function j5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function P2(t,e){for(const n of t)if(!Ite(n,{upTo:e}))return n}function Ite(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ote(t){return t instanceof HTMLInputElement&&"select"in t}function Ta(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ote(t)&&e&&t.select()}}var N2=Rte();function Rte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=j2(t,e),t.unshift(e)},remove(e){var n;t=j2(t,e),(n=t[0])==null||n.resume()}}}function j2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mte(t){return t.filter(e=>e.tagName!=="A")}var rw=0;function k5(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k2()),document.body.insertAdjacentElement("beforeend",t[1]??k2()),rw++,()=>{rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rw--}},[])}function k2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var no=function(){return no=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},no.apply(this,arguments)};function I5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Gg="right-scroll-bar-position",Kg="width-before-scroll-bar",Lte="with-scroll-bars-hidden",$te="--removed-body-scroll-bar-size";function iw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Fte(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Vte=typeof window<"u"?x.useLayoutEffect:x.useEffect,I2=new WeakMap;function Bte(t,e){var n=Fte(null,function(r){return t.forEach(function(i){return iw(i,r)})});return Vte(function(){var r=I2.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||iw(a,null)}),s.forEach(function(a){i.has(a)||iw(a,o)})}I2.set(n,t)},[t]),n}function Ute(t){return t}function zte(t,e){e===void 0&&(e=Ute);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Wte(t){t===void 0&&(t={});var e=zte(null);return e.options=no({async:!0,ssr:!1},t),e}var O5=function(t){var e=t.sideCar,n=I5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,no({},n))};O5.isSideCarExport=!0;function Hte(t,e){return t.useMedium(e),O5}var R5=Wte(),sw=function(){},Xx=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:sw,onWheelCapture:sw,onTouchMoveCapture:sw}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,w=t.gapMode,S=I5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,E=Bte([n,e]),N=no(no({},S),i);return x.createElement(x.Fragment,null,d&&x.createElement(A,{sideCar:R5,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(a),no(no({},N),{ref:E})):x.createElement(b,no({},N,{className:c,ref:E}),a))});Xx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xx.classNames={fullWidth:Kg,zeroRight:Gg};var qte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qte();return e&&t.setAttribute("nonce",e),t}function Kte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Yte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Xte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Gte())&&(Kte(e,n),Yte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Qte=function(){var t=Xte();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},M5=function(){var t=Qte(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Jte={left:0,top:0,right:0,gap:0},ow=function(t){return parseInt(t||"",10)||0},Zte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ow(n),ow(r),ow(i)]},ene=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jte;var e=Zte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tne=M5(),Su="data-scroll-locked",nne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Su,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Su,`] {
    `).concat($te,": ").concat(a,`px;
  }
`)},O2=function(){var t=parseInt(document.body.getAttribute(Su)||"0",10);return isFinite(t)?t:0},rne=function(){x.useEffect(function(){return document.body.setAttribute(Su,(O2()+1).toString()),function(){var t=O2()-1;t<=0?document.body.removeAttribute(Su):document.body.setAttribute(Su,t.toString())}},[])},ine=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;rne();var s=x.useMemo(function(){return ene(i)},[i]);return x.createElement(tne,{styles:nne(s,!e,i,n?"":"!important")})},pS=!1;if(typeof window<"u")try{var Zm=Object.defineProperty({},"passive",{get:function(){return pS=!0,!0}});window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,Zm)}catch{pS=!1}var Mc=pS?{passive:!1}:!1,sne=function(t){return t.tagName==="TEXTAREA"},D5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sne(t)&&n[e]==="visible")},one=function(t){return D5(t,"overflowY")},ane=function(t){return D5(t,"overflowX")},R2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=L5(t,r);if(i){var s=$5(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},L5=function(t,e){return t==="v"?one(e):ane(e)},$5=function(t,e){return t==="v"?lne(e):cne(e)},une=function(t,e){return t==="h"&&e==="rtl"?-1:1},dne=function(t,e,n,r,i){var s=une(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=$5(t,a),v=m[0],g=m[1],y=m[2],b=g-y-s*v;(v||b)&&L5(t,a)&&(f+=b,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},eg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M2=function(t){return[t.deltaX,t.deltaY]},D2=function(t){return t&&"current"in t?t.current:t},fne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pne=0,Dc=[];function mne(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(pne++)[0],s=x.useState(M5)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Dte([t.lockRef.current],(t.shards||[]).map(D2),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=eg(g),w=n.current,S="deltaX"in g?g.deltaX:w[0]-b[0],A="deltaY"in g?g.deltaY:w[1]-b[1],E,N=g.target,_=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in g&&_==="h"&&N.type==="range")return!1;var T=R2(_,N);if(!T)return!0;if(T?E=_:(E=_==="v"?"h":"v",T=R2(_,N)),!T)return!1;if(!r.current&&"changedTouches"in g&&(S||A)&&(r.current=E),!E)return!0;var P=r.current||E;return dne(P,y,g,P==="h"?S:A,!0)},[]),c=x.useCallback(function(g){var y=g;if(!(!Dc.length||Dc[Dc.length-1]!==s)){var b="deltaY"in y?M2(y):eg(y),w=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&fne(E.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(D2).filter(Boolean).filter(function(E){return E.contains(y.target)}),A=S.length>0?a(y,S[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(g,y,b,w){var S={name:g,delta:y,target:b,should:w,shadowParent:gne(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=x.useCallback(function(g){n.current=eg(g),r.current=void 0},[]),f=x.useCallback(function(g){u(g.type,M2(g),g.target,a(g,t.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,eg(g),g.target,a(g,t.lockRef.current))},[]);x.useEffect(function(){return Dc.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Mc),document.addEventListener("touchmove",c,Mc),document.addEventListener("touchstart",d,Mc),function(){Dc=Dc.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Mc),document.removeEventListener("touchmove",c,Mc),document.removeEventListener("touchstart",d,Mc)}},[]);var m=t.removeScrollBar,v=t.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:hne(i)}):null,m?x.createElement(ine,{gapMode:t.gapMode}):null)}function gne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yne=Hte(R5,mne);var pC=x.forwardRef(function(t,e){return x.createElement(Xx,no({},t,{ref:e,sideCar:yne}))});pC.classNames=Xx.classNames;var vne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lc=new WeakMap,tg=new WeakMap,ng={},aw=0,F5=function(t){return t&&(t.host||F5(t.parentNode))},xne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=F5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bne=function(t,e,n,r){var i=xne(e,Array.isArray(t)?t:[t]);ng[n]||(ng[n]=new WeakMap);var s=ng[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Lc.get(h)||0)+1,y=(s.get(h)||0)+1;Lc.set(h,g),s.set(h,y),o.push(h),g===1&&v&&tg.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),a.clear(),aw++,function(){o.forEach(function(f){var h=Lc.get(f)-1,m=s.get(f)-1;Lc.set(f,h),s.set(f,m),h||(tg.has(f)||f.removeAttribute(r),tg.delete(f)),m||f.removeAttribute(n)}),aw--,aw||(Lc=new WeakMap,Lc=new WeakMap,tg=new WeakMap,ng={})}},V5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=vne(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),bne(r,i,n,"aria-hidden")):function(){return null}},mC="Dialog",[B5,S2e]=Fi(mC),[wne,Bs]=B5(mC),U5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=x.useRef(null),c=x.useRef(null),[u=!1,d]=$s({prop:r,defaultProp:i,onChange:s});return l.jsx(wne,{scope:e,triggerRef:a,contentRef:c,contentId:oo(),titleId:oo(),descriptionId:oo(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};U5.displayName=mC;var z5="DialogTrigger",W5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(z5,n),s=bt(e,i.triggerRef);return l.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vC(i.open),...r,ref:s,onClick:Le(t.onClick,i.onOpenToggle)})});W5.displayName=z5;var gC="DialogPortal",[Sne,H5]=B5(gC,{forceMount:void 0}),q5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Bs(gC,e);return l.jsx(Sne,{scope:e,forceMount:n,children:x.Children.map(r,o=>l.jsx(as,{present:n||s.open,children:l.jsx(Sx,{asChild:!0,container:i,children:o})}))})};q5.displayName=gC;var Xy="DialogOverlay",G5=x.forwardRef((t,e)=>{const n=H5(Xy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bs(Xy,t.__scopeDialog);return s.modal?l.jsx(as,{present:r||s.open,children:l.jsx(Ene,{...i,ref:e})}):null});G5.displayName=Xy;var _ne=Hu("DialogOverlay.RemoveScroll"),Ene=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(Xy,n);return l.jsx(pC,{as:_ne,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(et.div,{"data-state":vC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mc="DialogContent",K5=x.forwardRef((t,e)=>{const n=H5(mc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bs(mc,t.__scopeDialog);return l.jsx(as,{present:r||s.open,children:s.modal?l.jsx(Tne,{...i,ref:e}):l.jsx(Cne,{...i,ref:e})})});K5.displayName=mc;var Tne=x.forwardRef((t,e)=>{const n=Bs(mc,t.__scopeDialog),r=x.useRef(null),i=bt(e,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return V5(s)},[]),l.jsx(Y5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,s=>s.preventDefault())})}),Cne=x.forwardRef((t,e)=>{const n=Bs(mc,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return l.jsx(Y5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Y5=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Bs(mc,n),c=x.useRef(null),u=bt(e,c);return k5(),l.jsxs(l.Fragment,{children:[l.jsx(hC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Up,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vC(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Ane,{titleId:a.titleId}),l.jsx(Nne,{contentRef:c,descriptionId:a.descriptionId})]})]})}),yC="DialogTitle",X5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(yC,n);return l.jsx(et.h2,{id:i.titleId,...r,ref:e})});X5.displayName=yC;var Q5="DialogDescription",J5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(Q5,n);return l.jsx(et.p,{id:i.descriptionId,...r,ref:e})});J5.displayName=Q5;var Z5="DialogClose",eF=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bs(Z5,n);return l.jsx(et.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});eF.displayName=Z5;function vC(t){return t?"open":"closed"}var tF="DialogTitleWarning",[_2e,nF]=TW(tF,{contentName:mc,titleName:yC,docsSlug:"dialog"}),Ane=({titleId:t})=>{const e=nF(tF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Pne="DialogDescriptionWarning",Nne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nF(Pne).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},jne=U5,kne=W5,Ine=q5,rF=G5,iF=K5,sF=X5,oF=J5,One=eF;const er=jne,Rne=kne,Mne=Ine,aF=x.forwardRef(({className:t,...e},n)=>l.jsx(rF,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aF.displayName=rF.displayName;const Un=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Mne,{children:[l.jsx(aF,{}),l.jsxs(iF,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(One,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Cx,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Un.displayName=iF.displayName;const Dn=({className:t,...e})=>l.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dn.displayName="DialogHeader";const kn=x.forwardRef(({className:t,...e},n)=>l.jsx(sF,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));kn.displayName=sF.displayName;const ks=x.forwardRef(({className:t,...e},n)=>l.jsx(oF,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));ks.displayName=oF.displayName;const Dne=Tx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),oe=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?AW:"button";return l.jsx(o,{className:ut(Dne({variant:e,size:n,className:t})),ref:s,...i})});oe.displayName="Button";function xC(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bC="Switch",[Lne,E2e]=Fi(bC),[$ne,Fne]=Lne(bC),lF=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=x.useState(null),v=bt(e,S=>m(S)),g=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b=!1,w]=$s({prop:i,defaultProp:s,onChange:u});return l.jsxs($ne,{scope:n,checked:b,disabled:a,children:[l.jsx(et.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":dF(b),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onClick:Le(t.onClick,S=>{w(A=>!A),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&l.jsx(Vne,{control:h,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});lF.displayName=bC;var cF="SwitchThumb",uF=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Fne(cF,n);return l.jsx(et.span,{"data-state":dF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});uF.displayName=cF;var Vne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=x.useRef(null),o=xC(n),a=mT(e);return x.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dF(t){return t?"checked":"unchecked"}var fF=lF,Bne=uF;const Vr=x.forwardRef(({className:t,...e},n)=>l.jsx(fF,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(Bne,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vr.displayName=fF.displayName;function Une({open:t,onComplete:e}){const[n,r]=x.useState(0),[i,s]=x.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),o=()=>{mt.setConsent(i),mt.markFirstLaunchComplete(),mt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const u={usageStats:!0,skillMetrics:!0,benchmarking:!0};s(u),mt.setConsent(u),mt.markFirstLaunchComplete(),mt.track("consent_updated","home","accept_all",{consent:u}),e()},c=()=>{const u={usageStats:!1,skillMetrics:!1,benchmarking:!1};mt.setConsent(u),mt.markFirstLaunchComplete(),e()};return l.jsx(er,{open:t,onOpenChange:()=>{},children:l.jsxs(Un,{className:"max-w-md",onPointerDownOutside:u=>u.preventDefault(),children:[n===0&&l.jsxs(l.Fragment,{children:[l.jsxs(Dn,{children:[l.jsxs(kn,{className:"text-xl flex items-center gap-2",children:[l.jsx(Ey,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),l.jsx(ks,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(lc,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Which tools you use and for how long"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Rh,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Your skill metrics to show personal progress"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Fl,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),l.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),l.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(oe,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),l.jsxs(oe,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",l.jsx(f$,{className:"w-4 h-4 ml-1"})]}),l.jsx(oe,{variant:"ghost",onClick:c,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&l.jsxs(l.Fragment,{children:[l.jsxs(Dn,{children:[l.jsx(kn,{className:"text-xl",children:"Customize Your Preferences"}),l.jsx(ks,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lc,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),l.jsx(Vr,{checked:i.usageStats,onCheckedChange:u=>s(d=>({...d,usageStats:u})),"data-testid":"switch-usage-stats"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rh,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),l.jsx(Vr,{checked:i.skillMetrics,onCheckedChange:u=>s(d=>({...d,skillMetrics:u})),"data-testid":"switch-skill-metrics"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fl,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&l.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),l.jsx(Vr,{checked:i.benchmarking,onCheckedChange:u=>s(d=>({...d,benchmarking:u,usageStats:u?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),l.jsx(oe,{onClick:o,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const hF=x.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));hF.displayName="Textarea";function Kh(t,[e,n]){return Math.min(n,Math.max(e,t))}var zne=x.createContext(void 0);function Bd(t){const e=x.useContext(zne);return t||e||"ltr"}var Wne=[" ","Enter","ArrowUp","ArrowDown"],Hne=[" ","Enter"],tm="Select",[Qx,Jx,qne]=Bp(tm),[Ud,T2e]=Fi(tm,[qne,jx]),Zx=jx(),[Gne,yl]=Ud(tm),[Kne,Yne]=Ud(tm),pF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,g=Zx(e),[y,b]=x.useState(null),[w,S]=x.useState(null),[A,E]=x.useState(!1),N=Bd(u),[_=!1,T]=$s({prop:r,defaultProp:i,onChange:s}),[P,I]=$s({prop:o,defaultProp:a,onChange:c}),j=x.useRef(null),O=y?v||!!y.closest("form"):!0,[R,F]=x.useState(new Set),B=Array.from(R).map(U=>U.props.value).join(";");return l.jsx(OG,{...g,children:l.jsxs(Gne,{required:m,scope:e,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:oo(),value:P,onValueChange:I,open:_,onOpenChange:T,dir:N,triggerPointerDownPosRef:j,disabled:h,children:[l.jsx(Qx.Provider,{scope:e,children:l.jsx(Kne,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{F(W=>new Set(W).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{F(W=>{const $=new Set(W);return $.delete(U),$})},[]),children:n})}),O?l.jsxs(FF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:U=>I(U.target.value),disabled:h,form:v,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};pF.displayName=tm;var mF="SelectTrigger",gF=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Zx(n),o=yl(mF,n),a=o.disabled||r,c=bt(e,o.onTriggerChange),u=Jx(n),d=x.useRef("touch"),[f,h,m]=VF(g=>{const y=u().filter(S=>!S.disabled),b=y.find(S=>S.value===o.value),w=BF(y,g,b);w!==void 0&&o.onValueChange(w.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(K$,{asChild:!0,...s,children:l.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$F(o.value)?"":void 0,...i,ref:c,onClick:Le(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Le(i.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Le(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&Wne.includes(g.key)&&(v(),g.preventDefault())})})})});gF.displayName=mF;var yF="SelectValue",vF=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=yl(yF,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=bt(e,c.onValueNodeChange);return mr(()=>{u(d)},[u,d]),l.jsx(et.span,{...a,ref:f,style:{pointerEvents:"none"},children:$F(c.value)?l.jsx(l.Fragment,{children:o}):s})});vF.displayName=yF;var Xne="SelectIcon",xF=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});xF.displayName=Xne;var Qne="SelectPortal",bF=t=>l.jsx(Sx,{asChild:!0,...t});bF.displayName=Qne;var gc="SelectContent",wF=x.forwardRef((t,e)=>{const n=yl(gc,t.__scopeSelect),[r,i]=x.useState();if(mr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ec.createPortal(l.jsx(SF,{scope:t.__scopeSelect,children:l.jsx(Qx.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(_F,{...t,ref:e})});wF.displayName=gc;var vs=10,[SF,vl]=Ud(gc),Jne="SelectContentImpl",Zne=Hu("SelectContent.RemoveScroll"),_F=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...b}=t,w=yl(gc,n),[S,A]=x.useState(null),[E,N]=x.useState(null),_=bt(e,xe=>A(xe)),[T,P]=x.useState(null),[I,j]=x.useState(null),O=Jx(n),[R,F]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(S)return V5(S)},[S]),k5();const U=x.useCallback(xe=>{const[Ne,...le]=O().map(V=>V.ref.current),[de]=le.slice(-1),Y=document.activeElement;for(const V of xe)if(V===Y||(V==null||V.scrollIntoView({block:"nearest"}),V===Ne&&E&&(E.scrollTop=0),V===de&&E&&(E.scrollTop=E.scrollHeight),V==null||V.focus(),document.activeElement!==Y))return},[O,E]),W=x.useCallback(()=>U([T,S]),[U,T,S]);x.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:$,triggerPointerDownPosRef:z}=w;x.useEffect(()=>{if(S){let xe={x:0,y:0};const Ne=de=>{var Y,V;xe={x:Math.abs(Math.round(de.pageX)-(((Y=z.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(de.pageY)-(((V=z.current)==null?void 0:V.y)??0))}},le=de=>{xe.x<=10&&xe.y<=10?de.preventDefault():S.contains(de.target)||$(!1),document.removeEventListener("pointermove",Ne),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",le,{capture:!0})}}},[S,$,z]),x.useEffect(()=>{const xe=()=>$(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[$]);const[re,se]=VF(xe=>{const Ne=O().filter(Y=>!Y.disabled),le=Ne.find(Y=>Y.ref.current===document.activeElement),de=BF(Ne,xe,le);de&&setTimeout(()=>de.ref.current.focus())}),Q=x.useCallback((xe,Ne,le)=>{const de=!B.current&&!le;(w.value!==void 0&&w.value===Ne||de)&&(P(xe),de&&(B.current=!0))},[w.value]),ge=x.useCallback(()=>S==null?void 0:S.focus(),[S]),pe=x.useCallback((xe,Ne,le)=>{const de=!B.current&&!le;(w.value!==void 0&&w.value===Ne||de)&&j(xe)},[w.value]),Ee=r==="popper"?mS:EF,tt=Ee===mS?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return l.jsx(SF,{scope:n,content:S,viewport:E,onViewportChange:N,itemRefCallback:Q,selectedItem:T,onItemLeave:ge,itemTextRefCallback:pe,focusSelectedItem:W,selectedItemText:I,position:r,isPositioned:R,searchRef:re,children:l.jsx(pC,{as:Zne,allowPinchZoom:!0,children:l.jsx(hC,{asChild:!0,trapped:w.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Le(i,xe=>{var Ne;(Ne=w.trigger)==null||Ne.focus({preventScroll:!0}),xe.preventDefault()}),children:l.jsx(Up,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Ee,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:xe=>xe.preventDefault(),...b,...tt,onPlaced:()=>F(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Le(b.onKeyDown,xe=>{const Ne=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ne&&xe.key.length===1&&se(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let de=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Y=xe.target,V=de.indexOf(Y);de=de.slice(V+1)}setTimeout(()=>U(de)),xe.preventDefault()}})})})})})})});_F.displayName=Jne;var ere="SelectItemAlignedPosition",EF=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=yl(gc,n),o=vl(gc,n),[a,c]=x.useState(null),[u,d]=x.useState(null),f=bt(e,_=>d(_)),h=Jx(n),m=x.useRef(!1),v=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,S=x.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&g&&y&&b){const _=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(s.dir!=="rtl"){const Y=I.left-T.left,V=P.left-Y,we=_.left-V,_e=_.width+we,nt=Math.max(_e,T.width),Ye=window.innerWidth-vs,rt=Kh(V,[vs,Math.max(vs,Ye-nt)]);a.style.minWidth=_e+"px",a.style.left=rt+"px"}else{const Y=T.right-I.right,V=window.innerWidth-P.right-Y,we=window.innerWidth-_.right-V,_e=_.width+we,nt=Math.max(_e,T.width),Ye=window.innerWidth-vs,rt=Kh(V,[vs,Math.max(vs,Ye-nt)]);a.style.minWidth=_e+"px",a.style.right=rt+"px"}const j=h(),O=window.innerHeight-vs*2,R=g.scrollHeight,F=window.getComputedStyle(u),B=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),W=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),z=B+U+R+$+W,re=Math.min(y.offsetHeight*5,z),se=window.getComputedStyle(g),Q=parseInt(se.paddingTop,10),ge=parseInt(se.paddingBottom,10),pe=_.top+_.height/2-vs,Ee=O-pe,tt=y.offsetHeight/2,xe=y.offsetTop+tt,Ne=B+U+xe,le=z-Ne;if(Ne<=pe){const Y=j.length>0&&y===j[j.length-1].ref.current;a.style.bottom="0px";const V=u.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(Ee,tt+(Y?ge:0)+V+W),_e=Ne+we;a.style.height=_e+"px"}else{const Y=j.length>0&&y===j[0].ref.current;a.style.top="0px";const we=Math.max(pe,B+g.offsetTop+(Y?Q:0)+tt)+le;a.style.height=we+"px",g.scrollTop=Ne-pe+g.offsetTop}a.style.margin=`${vs}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,u,g,y,b,s.dir,r]);mr(()=>S(),[S]);const[A,E]=x.useState();mr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(_=>{_&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return l.jsx(nre,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(et.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});EF.displayName=ere;var tre="SelectPopperPosition",mS=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vs,...s}=t,o=Zx(n);return l.jsx(Y$,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mS.displayName=tre;var[nre,wC]=Ud(gc,{}),gS="SelectViewport",TF=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=vl(gS,n),o=wC(gS,n),a=bt(e,s.onViewportChange),c=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Qx.Slot,{scope:n,children:l.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-vs*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(g,y);if(b<v){const w=b+m,S=Math.min(v,w),A=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});TF.displayName=gS;var CF="SelectGroup",[rre,ire]=Ud(CF),sre=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=oo();return l.jsx(rre,{scope:n,id:i,children:l.jsx(et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});sre.displayName=CF;var AF="SelectLabel",PF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ire(AF,n);return l.jsx(et.div,{id:i.id,...r,ref:e})});PF.displayName=AF;var Qy="SelectItem",[ore,NF]=Ud(Qy),jF=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=yl(Qy,n),c=vl(Qy,n),u=a.value===r,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),v=bt(e,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,r,i)}),g=oo(),y=x.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(ore,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:x.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Qx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(et.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Le(o.onFocus,()=>m(!0)),onBlur:Le(o.onBlur,()=>m(!1)),onClick:Le(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Le(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Le(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Le(o.onPointerMove,w=>{var S;y.current=w.pointerType,i?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Le(o.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(Hne.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});jF.displayName=Qy;var Ff="SelectItemText",kF=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=yl(Ff,n),a=vl(Ff,n),c=NF(Ff,n),u=Yne(Ff,n),[d,f]=x.useState(null),h=bt(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return mr(()=>(g(v),()=>y(v)),[g,y,v]),l.jsxs(l.Fragment,{children:[l.jsx(et.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ec.createPortal(s.children,o.valueNode):null]})});kF.displayName=Ff;var IF="SelectItemIndicator",OF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return NF(IF,n).isSelected?l.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});OF.displayName=IF;var yS="SelectScrollUpButton",RF=x.forwardRef((t,e)=>{const n=vl(yS,t.__scopeSelect),r=wC(yS,t.__scopeSelect),[i,s]=x.useState(!1),o=bt(e,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(DF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});RF.displayName=yS;var vS="SelectScrollDownButton",MF=x.forwardRef((t,e)=>{const n=vl(vS,t.__scopeSelect),r=wC(vS,t.__scopeSelect),[i,s]=x.useState(!1),o=bt(e,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?l.jsx(DF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});MF.displayName=vS;var DF=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=vl("SelectScrollButton",n),o=x.useRef(null),a=Jx(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),mr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{c()})})}),are="SelectSeparator",LF=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});LF.displayName=are;var xS="SelectArrow",lre=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zx(n),s=yl(xS,n),o=vl(xS,n);return s.open&&o.position==="popper"?l.jsx(X$,{...i,...r,ref:e}):null});lre.displayName=xS;function $F(t){return t===""||t===void 0}var FF=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),s=bt(e,i),o=xC(n);return x.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(Nd,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});FF.displayName="BubbleSelect";function VF(t){const e=Mn(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function BF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=cre(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function cre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ure=pF,UF=gF,dre=vF,fre=xF,hre=bF,zF=wF,pre=TF,WF=PF,HF=jF,mre=kF,gre=OF,qF=RF,GF=MF,KF=LF;const YF=ure,XF=dre,SC=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(UF,{ref:r,className:ut("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(fre,{asChild:!0,children:l.jsx(Oh,{className:"h-4 w-4 opacity-50"})})]}));SC.displayName=UF.displayName;const QF=x.forwardRef(({className:t,...e},n)=>l.jsx(qF,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(xH,{className:"h-4 w-4"})}));QF.displayName=qF.displayName;const JF=x.forwardRef(({className:t,...e},n)=>l.jsx(GF,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Oh,{className:"h-4 w-4"})}));JF.displayName=GF.displayName;const _C=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(hre,{children:l.jsxs(zF,{ref:i,className:ut("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(QF,{}),l.jsx(pre,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(JF,{})]})}));_C.displayName=zF.displayName;const yre=x.forwardRef(({className:t,...e},n)=>l.jsx(WF,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yre.displayName=WF.displayName;const lr=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(HF,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gre,{children:l.jsx(iT,{className:"h-4 w-4"})})}),l.jsx(mre,{children:e})]}));lr.displayName=HF.displayName;const vre=x.forwardRef(({className:t,...e},n)=>l.jsx(KF,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));vre.displayName=KF.displayName;const xre=[{value:"Tempo - Shot Clock",label:"Tempo (Shot Clock)"},{value:"Velocity - Break Speed",label:"Velocity (Break Speed)"},{value:"TrueLevel - Table Leveler",label:"TrueLevel (Table Gauge)"},{value:"Vectors - Cueing Emulator",label:"Vectors (Cueing Emulator)"},{value:"General",label:"General / App Overall"}],bre="https://docs.google.com/forms/d/e/1FAIpQLSfA64X9IVCaRX89t-QKUDEuHw46QaPiFDvu393OfU36ztNUUg/formResponse",rg={tool:"entry.1706378579",rating:"entry.1128723298",comments:"entry.1061902",email:"entry.1137876909"};function wre(){const{promoCode:t,user:e}=Vd(),{toast:n}=Pd(),[r,i]=x.useState(!1),[s,o]=x.useState(""),[a,c]=x.useState(0),[u,d]=x.useState(""),[f,h]=x.useState(!1),m=x.useRef(null);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const g=async()=>{if(!s||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const y=new FormData;y.append(rg.tool,s),y.append(rg.rating,String(a)),y.append(rg.comments,u),y.append(rg.email,(e==null?void 0:e.email)||"anonymous"),await fetch(bre,{method:"POST",mode:"no-cors",body:y}),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),o(""),c(0),d("")}catch(y){console.error("Feedback error:",y),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(oe,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:l.jsx(VN,{className:"w-6 h-6"})}),l.jsx(er,{open:r,onOpenChange:i,children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsxs(Dn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(VN,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),l.jsx(ks,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),l.jsxs(YF,{value:s,onValueChange:o,children:[l.jsx(SC,{"data-testid":"select-feedback-tool",children:l.jsx(XF,{placeholder:"Select a tool"})}),l.jsx(_C,{children:xre.map(y=>l.jsx(lr,{value:y.value,children:y.label},y.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),l.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(y=>l.jsx("button",{onClick:()=>c(y),className:"p-1 transition-colors","data-testid":`button-star-${y}`,children:l.jsx(VH,{className:`w-8 h-8 ${y<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),l.jsx(hF,{placeholder:"What's working? What could be better?",value:u,onChange:y=>d(y.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),l.jsxs(oe,{onClick:g,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[f?l.jsx(PH,{className:"w-4 h-4 animate-spin"}):l.jsx(FH,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})}),l.jsx("iframe",{ref:m,name:"hidden_iframe",className:"hidden",title:"form-target"})]})}function EC({open:t,onComplete:e,pages:n,toolName:r}){const[i,s]=x.useState(0),o=x.useRef(0),a=x.useRef(0),c=n[i],u=h=>{o.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,v=h.changedTouches[0].clientY,g=m-o.current,y=v-a.current;Math.abs(g)>Math.abs(y)&&Math.abs(g)>50&&(g>0&&i>0?s(b=>b-1):g<0&&i<n.length-1&&s(b=>b+1))},f=()=>{s(0),e()};return l.jsx(er,{open:t,onOpenChange:h=>{h||f()},children:l.jsxs(Un,{className:"max-w-md [&>button]:hidden",onTouchStart:u,onTouchEnd:d,"aria-describedby":void 0,onInteractOutside:h=>h.preventDefault(),onEscapeKeyDown:h=>h.preventDefault(),children:[l.jsx(Nd,{children:l.jsxs(kn,{children:[r," Tutorial"]})}),l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),l.jsx("h2",{className:"text-xl font-bold",children:c.title})]}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:l.jsx(Cx,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"min-h-[200px]",children:c.content}),l.jsxs("div",{className:"flex items-center justify-between mt-6",children:[l.jsxs(oe,{variant:"ghost",onClick:()=>s(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[l.jsx(vH,{className:"w-4 h-4 mr-1"}),"Back"]}),l.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>l.jsx("button",{onClick:()=>s(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?l.jsxs(oe,{onClick:()=>s(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",l.jsx(f$,{className:"w-4 h-4 ml-1"})]}):l.jsx(oe,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})]})})}const Sre=Tx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ZF({className:t,variant:e,...n}){return l.jsx("div",{className:ut(Sre({variant:e}),t),...n})}var _re="Label",eV=x.forwardRef((t,e)=>l.jsx(et.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eV.displayName=_re;var tV=eV;const Ere=Tx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=x.forwardRef(({className:t,...e},n)=>l.jsx(tV,{ref:n,className:ut(Ere(),t),...e}));Ht.displayName=tV.displayName;var lw="rovingFocusGroup.onEntryFocus",Tre={bubbles:!1,cancelable:!0},e0="RovingFocusGroup",[bS,nV,Cre]=Bp(e0),[Are,rV]=Fi(e0,[Cre]),[Pre,Nre]=Are(e0),iV=x.forwardRef((t,e)=>l.jsx(bS.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(bS.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(jre,{...t,ref:e})})}));iV.displayName=e0;var jre=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=x.useRef(null),m=bt(e,h),v=Bd(s),[g=null,y]=$s({prop:o,defaultProp:a,onChange:c}),[b,w]=x.useState(!1),S=Mn(u),A=nV(n),E=x.useRef(!1),[N,_]=x.useState(0);return x.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(lw,S),()=>T.removeEventListener(lw,S)},[S]),l.jsx(Pre,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(T=>y(T),[y]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:x.useCallback(()=>_(T=>T-1),[]),children:l.jsx(et.div,{tabIndex:b||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{E.current=!0}),onFocus:Le(t.onFocus,T=>{const P=!E.current;if(T.target===T.currentTarget&&P&&!b){const I=new CustomEvent(lw,Tre);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const j=A().filter(U=>U.focusable),O=j.find(U=>U.active),R=j.find(U=>U.id===g),B=[O,R,...j].filter(Boolean).map(U=>U.ref.current);aV(B,d)}}E.current=!1}),onBlur:Le(t.onBlur,()=>w(!1))})})}),sV="RovingFocusGroupItem",oV=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=oo(),c=s||a,u=Nre(sV,n),d=u.currentTabStopId===c,f=nV(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return x.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),l.jsx(bS.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(et.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Le(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Le(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Le(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=Ore(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=u.loop?Rre(b,w+1):b.slice(w+1)}setTimeout(()=>aV(b))}})})})});oV.displayName=sV;var kre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ire(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ore(t,e,n){const r=Ire(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kre[r]}function aV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Rre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mre=iV,Dre=oV,TC="Tabs",[Lre,C2e]=Fi(TC,[rV]),lV=rV(),[$re,CC]=Lre(TC),cV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=Bd(a),[f,h]=$s({prop:r,onChange:i,defaultProp:s});return l.jsx($re,{scope:n,baseId:oo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(et.div,{dir:d,"data-orientation":o,...u,ref:e})})});cV.displayName=TC;var uV="TabsList",dV=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=CC(uV,n),o=lV(n);return l.jsx(Mre,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(et.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});dV.displayName=uV;var fV="TabsTrigger",hV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=CC(fV,n),a=lV(n),c=gV(o.baseId,r),u=yV(o.baseId,r),d=r===o.value;return l.jsx(Dre,{asChild:!0,...a,focusable:!i,active:d,children:l.jsx(et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Le(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Le(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Le(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});hV.displayName=fV;var pV="TabsContent",mV=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=CC(pV,n),c=gV(a.baseId,r),u=yV(a.baseId,r),d=r===a.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(as,{present:i||d,children:({present:h})=>l.jsx(et.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});mV.displayName=pV;function gV(t,e){return`${t}-trigger-${e}`}function yV(t,e){return`${t}-content-${e}`}var Fre=cV,vV=dV,xV=hV,bV=mV;const wV=Fre,AC=x.forwardRef(({className:t,...e},n)=>l.jsx(vV,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));AC.displayName=vV.displayName;const oh=x.forwardRef(({className:t,...e},n)=>l.jsx(xV,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));oh.displayName=xV.displayName;const ah=x.forwardRef(({className:t,...e},n)=>l.jsx(bV,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ah.displayName=bV.displayName;var PC="Collapsible",[Vre,SV]=Fi(PC),[Bre,NC]=Vre(PC),_V=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[c=!1,u]=$s({prop:r,defaultProp:i,onChange:o});return l.jsx(Bre,{scope:n,disabled:s,contentId:oo(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:l.jsx(et.div,{"data-state":OC(c),"data-disabled":s?"":void 0,...a,ref:e})})});_V.displayName=PC;var EV="CollapsibleTrigger",jC=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=NC(EV,n);return l.jsx(et.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":OC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Le(t.onClick,i.onOpenToggle)})});jC.displayName=EV;var kC="CollapsibleContent",IC=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=NC(kC,t.__scopeCollapsible);return l.jsx(as,{present:n||i.open,children:({present:s})=>l.jsx(Ure,{...r,ref:e,present:s})})});IC.displayName=kC;var Ure=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=NC(kC,n),[a,c]=x.useState(r),u=x.useRef(null),d=bt(e,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,g=o.open||a,y=x.useRef(g),b=x.useRef(void 0);return x.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),mr(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();f.current=S.height,m.current=S.width,y.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[o.open,r]),l.jsx(et.div,{"data-state":OC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:g&&i})});function OC(t){return t?"open":"closed"}var TV=_V,zre=jC,Wre=IC,da="Accordion",Hre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[RC,qre,Gre]=Bp(da),[t0,A2e]=Fi(da,[Gre,SV]),MC=SV(),CV=q.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return l.jsx(RC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(Qre,{...s,ref:e}):l.jsx(Xre,{...i,ref:e})})});CV.displayName=da;var[AV,Kre]=t0(da),[PV,Yre]=t0(da,{collapsible:!1}),Xre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,c]=$s({prop:n,defaultProp:r,onChange:i});return l.jsx(AV,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:q.useCallback(()=>s&&c(""),[s,c]),children:l.jsx(PV,{scope:t.__scopeAccordion,collapsible:s,children:l.jsx(NV,{...o,ref:e})})})}),Qre=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=$s({prop:n,defaultProp:r,onChange:i}),c=q.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=q.useCallback(d=>a((f=[])=>f.filter(h=>h!==d)),[a]);return l.jsx(AV,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(PV,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(NV,{...s,ref:e})})})}),[Jre,n0]=t0(da),NV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=q.useRef(null),c=bt(a,e),u=qre(n),f=Bd(i)==="ltr",h=Le(t.onKeyDown,m=>{var T;if(!Hre.includes(m.key))return;const v=m.target,g=u().filter(P=>{var I;return!((I=P.ref.current)!=null&&I.disabled)}),y=g.findIndex(P=>P.ref.current===v),b=g.length;if(y===-1)return;m.preventDefault();let w=y;const S=0,A=b-1,E=()=>{w=y+1,w>A&&(w=S)},N=()=>{w=y-1,w<S&&(w=A)};switch(m.key){case"Home":w=S;break;case"End":w=A;break;case"ArrowRight":s==="horizontal"&&(f?E():N());break;case"ArrowDown":s==="vertical"&&E();break;case"ArrowLeft":s==="horizontal"&&(f?N():E());break;case"ArrowUp":s==="vertical"&&N();break}const _=w%b;(T=g[_].ref.current)==null||T.focus()});return l.jsx(Jre,{scope:n,disabled:r,direction:i,orientation:s,children:l.jsx(RC.Slot,{scope:n,children:l.jsx(et.div,{...o,"data-orientation":s,ref:c,onKeyDown:r?void 0:h})})})}),Jy="AccordionItem",[Zre,DC]=t0(Jy),jV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=n0(Jy,n),o=Kre(Jy,n),a=MC(n),c=oo(),u=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return l.jsx(Zre,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(TV,{"data-orientation":s.orientation,"data-state":DV(u),...a,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});jV.displayName=Jy;var kV="AccordionHeader",IV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=DC(kV,n);return l.jsx(et.h3,{"data-orientation":i.orientation,"data-state":DV(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});IV.displayName=kV;var wS="AccordionTrigger",OV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=DC(wS,n),o=Yre(wS,n),a=MC(n);return l.jsx(RC.ItemSlot,{scope:n,children:l.jsx(zre,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});OV.displayName=wS;var RV="AccordionContent",MV=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=n0(da,n),s=DC(RV,n),o=MC(n);return l.jsx(Wre,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});MV.displayName=RV;function DV(t){return t?"open":"closed"}var eie=CV,tie=jV,nie=IV,LV=OV,$V=MV;const _u=eie,Pi=x.forwardRef(({className:t,...e},n)=>l.jsx(tie,{ref:n,className:ut("border-b",t),...e}));Pi.displayName="AccordionItem";const Ni=x.forwardRef(({className:t,children:e,...n},r)=>l.jsx(nie,{className:"flex",children:l.jsxs(LV,{ref:r,className:ut("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(Oh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ni.displayName=LV.displayName;const ji=x.forwardRef(({className:t,children:e,...n},r)=>l.jsx($V,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:ut("pb-4 pt-0",t),children:e})}));ji.displayName=$V.displayName;const L2="cuemaster_module_usage",rie=5;function iie(t){const[e,n]=x.useState({});x.useEffect(()=>{if(t)try{const o=localStorage.getItem(L2);o&&n(JSON.parse(o))}catch{console.warn("Failed to load module usage")}},[t]);const r=x.useCallback(o=>{t&&n(a=>{const c={...a,[o]:(a[o]||0)+1};try{localStorage.setItem(L2,JSON.stringify(c))}catch{console.warn("Failed to save module usage")}return c})},[t]),i=x.useCallback(o=>{if(!t)return o;const a=o.map(u=>({module:u,count:e[u.id]||0}));return a.some(u=>u.count>=rie)?a.sort((u,d)=>d.count-u.count).map(u=>u.module):o},[t,e]),s=x.useCallback(o=>e[o]||0,[e]);return{trackUsage:r,sortModules:i,getUsageCount:s,usage:e}}function $2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),l.jsx("circle",{cx:"24",cy:"24",r:"16"}),l.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),l.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function F2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),l.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),l.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),l.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),l.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),l.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),l.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function V2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),l.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),l.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function B2({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"10"}),l.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),l.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),l.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),l.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),l.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),l.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),l.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),l.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),l.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}function sie({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return l.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[l.jsx("circle",{cx:"24",cy:"24",r:"18"}),l.jsx("circle",{cx:"24",cy:"24",r:"14",strokeWidth:"1.5"}),l.jsx("path",{d:"M24 10 L24 14",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M24 34 L24 38",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M10 24 L14 24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M34 24 L38 24",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("text",{x:"24",y:"28",textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:"currentColor",stroke:"none",children:"?"})]})}const U2="cuemaster_dev_mode";function oie(){const{promoCode:t}=Vd();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?l.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(d$,{className:"w-5 h-5 text-amber-500"}),l.jsxs("div",{children:[l.jsx(ZF,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function aie(){var de;const[,t]=ca(),[e,n]=x.useState(!1),[r,i]=x.useState(!1),{theme:s,toggleTheme:o,colorTheme:a,setColorTheme:c}=eK(),{user:u,isPro:d,promoCode:f,signInWithGoogle:h,signOut:m}=Vd(),{language:v,setLanguage:g}=bte(),{settings:y,updateSettings:b}=fC(),{trackUsage:w,sortModules:S}=iie(!!u),[A,E]=x.useState(!1),[N,_]=x.useState(0),T=x.useRef(null),P=x.useRef(0),[I,j]=x.useState(!1),[O,R]=x.useState(mt.getConsent()),[F,B]=x.useState(!1),[U,W]=x.useState(!1),[$,z]=x.useState(!1),[re,se]=x.useState(!1),Q=x.useMemo(()=>[{id:"vectors",icon:l.jsx(B2,{}),title:"Vectors",route:"/cue-emulator",description:"Test spin, angles, and speed before you ever pull the trigger.",testId:"card-cue-emulator",proFeature:!0},{id:"truelevel",icon:l.jsx(F2,{}),title:"TrueLevel",route:"/table-level",description:"Verify your battlefield. No excuses, no hidden slopes.",testId:"card-table-level",proFeature:!0},{id:"tempo",icon:l.jsx($2,{}),title:"Tempo",route:"/shot-clock",description:"Own the pace of play  solo drills or match pressure, on a clock.",testId:"card-shot-clock",proFeature:!0},{id:"velocity",icon:l.jsx(V2,{}),title:"Velocity",route:"/break-speed",description:"Dial in raw power with break speed you can actually measure.",testId:"card-break-speed",proFeature:!0},{id:"luck",icon:l.jsx(sie,{}),title:"Luck",route:"/coin-flip",description:"Fair coin flip for lag decisions. True 50/50  no disputes.",testId:"card-coin-flip",proFeature:!1}],[]),ge=x.useMemo(()=>S(Q),[Q,S]),pe=Y=>{w(Y.id),t(Y.route)},Ee=()=>{["cuemaster-velocity-v1","cuemaster-tempo-presets","cuemaster-truelevel-presets","cuemaster-vectors-presets"].forEach(V=>localStorage.removeItem(V)),W(!1),n(!1),window.location.reload()},tt=()=>{Object.keys(localStorage).filter(V=>V.startsWith("cuemaster")).forEach(V=>localStorage.removeItem(V)),localStorage.removeItem("cuemaster_module_usage"),localStorage.removeItem("cuemaster_app_settings"),mt.clearAllData(),se(!1),n(!1),window.location.reload()},xe="cuemaster_main_tutorial_complete",Ne=[{title:"Welcome!",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-primary mb-1",children:"CueMaster Suite"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"by Promethean Games"})]}),l.jsx("p",{className:"text-muted-foreground",children:"Built by players, for players. Whether you're grinding league nights, preparing for tournament play, or just looking to level up your practice sessions  we've got you covered."}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Four precision tools designed to sharpen your fundamentals, track your progress, and give you the competitive edge at the table."}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground italic",children:'"Every shot counts. Make them count for something."'})})]})},{title:"Tempo  Shot Clock",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx($2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Tempo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Professional Shot Timer"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Tournament-grade shot clock with solo, two-player, and Scotch Doubles modes. Track shot times, extensions, and timeouts across your practice or match sessions."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Full-screen jumbo timer with tap-to-pause"}),l.jsx("li",{children:" Dynamic color warnings as time expires"}),l.jsx("li",{children:" Session stats: avg shot time, extensions used"}),l.jsx("li",{children:" Session history for performance tracking"})]})]})},{title:"Velocity  Break Speed",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(V2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Velocity"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Break-Speed Analyzer"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Microphone-based break speed detection with pool hall-optimized audio processing. Position your cue and rack, then let the app calculate your break velocity."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Interactive table with draggable cue positioning"}),l.jsx("li",{children:" 8-ball and 9-ball rack configurations"}),l.jsx("li",{children:' MPH display or "Shark Mode" percentage'}),l.jsx("li",{children:" Save and compare your best breaks"})]})]})},{title:"Vectors  Cue Emulator",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(B2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: Vectors"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics-Based Shot Simulator"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"High-resolution pool table canvas with realistic physics. Place balls, aim with precision, and visualize trajectories with full English control."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Ghost ball targeting with cut angle display"}),l.jsx("li",{children:" Draw, follow, and side spin visualization"}),l.jsx("li",{children:" Adjustable table size and felt speed"}),l.jsx("li",{children:" Practice courses for skill development"})]})]})},{title:"TrueLevel  Table Gauge",content:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(F2,{}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"CueMaster: TrueLevel"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital Bubble Level"})]})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Transform your device into a precision level gauge using built-in orientation sensors. Quickly verify table levelness before practice or competition."}),l.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Real-time bubble indicator visualization"}),l.jsx("li",{children:" Calibration system for accurate readings"}),l.jsx("li",{children:" Location presets: Home, League, Tournament"}),l.jsx("li",{children:" Works on mobile devices and tablets"})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg mt-2",children:l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Ready to play? Tap ",l.jsx("strong",{className:"text-foreground",children:"Got It"})," to get started!"]})})]})}];x.useEffect(()=>{localStorage.getItem(U2)==="true"&&E(!0),mt.isFirstLaunch()&&j(!0),localStorage.getItem(xe)||setTimeout(()=>B(!0),500)},[]);const le=Y=>{if(Y.type==="click"&&P.current>Date.now()-300||(Y.type==="touchend"&&(P.current=Date.now(),Y.preventDefault()),A))return;const V=N+1;_(V),T.current&&clearTimeout(T.current),V>=7?(E(!0),localStorage.setItem(U2,"true"),_(0)):T.current=setTimeout(()=>_(0),2e3)};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("div",{onClick:()=>{confirm("Clear all site data and start fresh? This will reset everything.")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},className:"cursor-pointer select-none","data-testid":"logo-reset",children:[l.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),l.jsxs("p",{className:`text-sm font-light ${d?(f==null?void 0:f.toUpperCase())==="PROMETHEAN"?"text-[#d11111] font-medium":(f==null?void 0:f.toUpperCase())==="CUEMASTER2026"?"text-green-500 font-medium":"text-sky-400 font-medium":"text-muted-foreground"}`,children:["Suite",d&&" Pro"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{onClick:le,onTouchEnd:le,className:"cursor-default select-none touch-manipulation",children:l.jsx(Pte,{})}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:l.jsx(lc,{className:"w-5 h-5"})}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i(!0),"data-testid":"button-profile",children:l.jsx(SH,{className:"w-5 h-5"})}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:l.jsx(oT,{className:"w-5 h-5"})})]})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[u&&l.jsx("div",{className:"mb-4 text-center",children:l.jsxs("p",{className:"text-lg text-muted-foreground",children:["Welcome back, ",l.jsx("span",{className:"text-foreground font-medium",children:((de=u.displayName)==null?void 0:de.split(" ")[0])||"Player"}),"!"]})}),l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),l.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),l.jsx("div",{className:"space-y-4",children:ge.map(Y=>l.jsx(Ate,{icon:Y.icon,title:Y.title,subtitle:"CueMaster",description:Y.description,onClick:()=>pe(Y),testId:Y.testId,proFeature:Y.proFeature,isProUser:d,showAccent:!0},Y.id))})]})}),l.jsx("footer",{className:"py-4 px-6 text-center border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),l.jsx(er,{open:e,onOpenChange:n,children:l.jsxs(Un,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[l.jsx(Dn,{className:"flex-shrink-0",children:l.jsx(kn,{children:"Settings"})}),l.jsxs(wV,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[l.jsx(AC,{className:"w-full flex-shrink-0",children:l.jsxs(oh,{value:"appearance",className:"flex-1","data-testid":"tab-appearance",children:[l.jsx(UN,{className:"w-4 h-4 mr-1"}),"Theme"]})}),l.jsxs(ah,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[s==="dark"?l.jsx(DH,{className:"w-4 h-4"}):l.jsx(BH,{className:"w-4 h-4"}),"Theme Mode"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:s==="dark"?"Dark":"Light"}),l.jsx(Vr,{id:"theme-toggle",checked:s==="dark",onCheckedChange:o,"data-testid":"switch-theme"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"sound-toggle",className:"flex items-center gap-2",children:[l.jsx(zH,{className:"w-4 h-4"}),"Sound Effects"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.soundEnabled?"On":"Off"}),l.jsx(Vr,{id:"sound-toggle",checked:y.soundEnabled,onCheckedChange:Y=>b({soundEnabled:Y}),"data-testid":"switch-sound"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"wakelock-toggle",className:"flex items-center gap-2",children:[l.jsx(m$,{className:"w-4 h-4"}),"Keep Screen On"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.wakeLockEnabled?"On":"Off"}),l.jsx(Vr,{id:"wakelock-toggle",checked:y.wakeLockEnabled,onCheckedChange:Y=>b({wakeLockEnabled:Y}),"data-testid":"switch-wakelock"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ht,{htmlFor:"haptic-toggle",className:"flex items-center gap-2",children:[l.jsx(UH,{className:"w-4 h-4"}),"Haptic Feedback"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:y.hapticEnabled?"On":"Off"}),l.jsx(Vr,{id:"haptic-toggle",checked:y.hapticEnabled,onCheckedChange:Y=>b({hapticEnabled:Y}),"data-testid":"switch-haptic"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Ht,{className:"flex items-center gap-2",children:[l.jsx(UN,{className:"w-4 h-4"}),"Accent Color"]}),l.jsx("div",{className:"grid grid-cols-4 gap-3 p-1",children:Mg.map(Y=>l.jsx("button",{onClick:()=>c(Y),className:`relative aspect-square rounded-lg transition-all ${a.id===Y.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground":""}`,style:{backgroundColor:`hsl(${Y.primary})`},title:Y.name,"data-testid":`button-color-${Y.id}`,children:a.id===Y.id&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},Y.id))}),l.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",a.name]})]}),l.jsxs("div",{className:"pt-4 border-t space-y-3",children:[l.jsxs(oe,{variant:"outline",className:"w-full",onClick:()=>{n(!1),setTimeout(()=>B(!0),200)},"data-testid":"button-view-tutorial",children:[l.jsx(zp,{className:"w-4 h-4 mr-2"}),"View App Tutorial"]}),l.jsxs(oe,{variant:"outline",className:"w-full",onClick:()=>W(!0),"data-testid":"button-reset-presets",children:[l.jsx(_y,{className:"w-4 h-4 mr-2"}),"Reset Presets"]}),l.jsxs(oe,{variant:"destructive",className:"w-full",onClick:()=>z(!0),"data-testid":"button-factory-reset",children:[l.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Clear All Data (Factory Reset)"]})]})]})]})]})}),l.jsx(er,{open:U,onOpenChange:W,children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsx(Dn,{children:l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx(_y,{className:"w-5 h-5 text-primary"}),"Reset Presets?"]})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This will reset all saved presets in Velocity, Tempo, TrueLevel, and Vectors to their default values. Your analytics and settings will not be affected."}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>W(!1),"data-testid":"button-cancel-reset-presets",children:"Cancel"}),l.jsx(oe,{variant:"default",className:"flex-1",onClick:Ee,"data-testid":"button-confirm-reset-presets",children:"Reset Presets"})]})]})}),l.jsx(er,{open:$,onOpenChange:z,children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsx(Dn,{children:l.jsxs(kn,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(Cy,{className:"w-5 h-5"}),"Factory Reset?"]})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This will permanently delete ALL your data including presets, analytics, settings, and usage history. This action cannot be undone."}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>z(!1),"data-testid":"button-cancel-factory-reset-1",children:"Cancel"}),l.jsx(oe,{variant:"destructive",className:"flex-1",onClick:()=>{z(!1),se(!0)},"data-testid":"button-continue-factory-reset",children:"Continue"})]})]})}),l.jsx(er,{open:re,onOpenChange:se,children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsx(Dn,{children:l.jsxs(kn,{className:"flex items-center gap-2 text-destructive",children:[l.jsx(Cy,{className:"w-5 h-5"}),"Are You Absolutely Sure?"]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"This is your final warning. You are about to:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Delete all saved presets and configurations"}),l.jsx("li",{children:"Clear all analytics and usage history"}),l.jsx("li",{children:"Reset all settings to default"}),l.jsx("li",{children:"Remove tutorial completion status"})]}),l.jsx("p",{className:"text-sm text-destructive font-semibold",children:"This cannot be undone!"})]}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>se(!1),"data-testid":"button-cancel-factory-reset-2",children:"Cancel"}),l.jsx(oe,{variant:"destructive",className:"flex-1",onClick:tt,"data-testid":"button-confirm-factory-reset",children:"Yes, Delete Everything"})]})]})}),l.jsx(er,{open:r,onOpenChange:i,children:l.jsxs(Un,{className:"max-w-md max-h-[85vh] overflow-auto",children:[l.jsx(Dn,{children:l.jsx(kn,{children:"Profile"})}),l.jsxs("div",{className:"space-y-4 mt-2",children:[l.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u?"bg-primary/20":"bg-muted"}`,children:l.jsx(Og,{className:`w-6 h-6 ${u?"text-primary":"text-muted-foreground"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:u?u.displayName||u.email||"Signed In":"Guest User"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:u?u.email:"Not signed in"})]})]}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:u?l.jsxs(l.Fragment,{children:[l.jsx(wH,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-green-500 font-medium",children:"Cloud Sync Active"})]}):l.jsxs(l.Fragment,{children:[l.jsx(_H,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-muted-foreground",children:"Local Storage Only"})]})})]}),l.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[l.jsx(Ht,{className:"text-sm font-medium",children:"Pro Status"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(d$,{className:`w-5 h-5 ${d?"text-primary":"text-muted-foreground"}`}),l.jsx("span",{className:d?"font-medium":"text-muted-foreground",children:d?"Pro Unlocked":"Free Version"})]}),d&&f&&l.jsx(ZF,{variant:"outline",className:f.toUpperCase()==="PROMETHEAN"?"border-[#d11111] text-[#d11111]":f.toUpperCase()==="CUEMASTER2026"?"border-green-500 text-green-500":"border-sky-400 text-sky-400",children:f.toUpperCase()})]}),d&&l.jsx("p",{className:"text-xs text-muted-foreground",children:u?"Pro status synced to your account":"Pro status stored locally on this device"})]}),l.jsxs(_u,{type:"single",collapsible:!0,className:"w-full",defaultValue:"language",children:[l.jsxs(Pi,{value:"language",className:"border rounded-lg px-4",children:[l.jsx(Ni,{className:"hover:no-underline py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(TH,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-sm",children:"Language"}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",v.name,")"]})]})}),l.jsx(ji,{className:"pb-4",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:qg.map(Y=>l.jsxs("button",{onClick:()=>g(Y),className:`flex items-center gap-2 p-2 rounded-lg border transition-all text-left ${v.id===Y.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,"data-testid":`button-lang-${Y.id}`,children:[l.jsx("span",{className:"text-lg",children:Y.flag}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:Y.name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Y.nativeName})]}),v.id===Y.id&&l.jsx(iT,{className:"w-4 h-4 text-primary flex-shrink-0"})]},Y.id))})})]}),l.jsxs(Pi,{value:"privacy",className:"border rounded-lg px-4 mt-2",children:[l.jsx(Ni,{className:"hover:no-underline py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ey,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-sm",children:"Privacy"})]})}),l.jsxs(ji,{className:"pb-4 space-y-4",children:[l.jsx(oie,{}),l.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ht,{className:"text-xs font-medium text-muted-foreground",children:"Data Collection"}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use"})]}),l.jsx(Vr,{checked:O.usageStats,onCheckedChange:Y=>{const V={...O,usageStats:Y};R(V),mt.setConsent(V)},"data-testid":"switch-profile-usage"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data"})]}),l.jsx(Vr,{checked:O.skillMetrics,onCheckedChange:Y=>{const V={...O,skillMetrics:Y};R(V),mt.setConsent(V)},"data-testid":"switch-profile-skills"})]}),l.jsxs("div",{className:"flex items-start justify-between gap-3 p-2 rounded-lg border",children:[l.jsxs("div",{className:"space-y-0.5 flex-1",children:[l.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Anonymous comparison"})]}),l.jsx(Vr,{checked:O.benchmarking,onCheckedChange:Y=>{const V={...O,benchmarking:Y,usageStats:Y?!0:O.usageStats};R(V),mt.setConsent(V)},"data-testid":"switch-profile-benchmark"})]})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsx(Ht,{className:"text-xs font-medium text-muted-foreground",children:"Data Management"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const Y=mt.exportData(),V=new Blob([Y],{type:"application/json"}),we=URL.createObjectURL(V),_e=document.createElement("a");_e.href=we,_e.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,_e.click(),URL.revokeObjectURL(we)},"data-testid":"button-export-data",children:[l.jsx(h$,{className:"w-4 h-4 mr-2"}),"Export"]}),l.jsxs(oe,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&mt.deleteAllData()},"data-testid":"button-delete-data",children:[l.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]})]})]}),l.jsx("div",{className:"space-y-2",children:u?l.jsxs(oe,{variant:"outline",className:"w-full",onClick:async()=>{await m()},"data-testid":"button-sign-out",children:[l.jsx(jH,{className:"w-4 h-4 mr-2"}),"Sign Out"]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Sign in to sync your Pro status across devices"}),l.jsxs(oe,{variant:"outline",className:"w-full",onClick:async()=>{await h()},"data-testid":"button-sign-in-google",children:[l.jsx(L1,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:[l.jsx("p",{children:"App Version: v0.9.7.127"}),u&&l.jsxs("p",{className:"mt-1",children:["Last synced: ",new Date().toLocaleString()]})]})]})]})}),l.jsx(Une,{open:I,onComplete:()=>{j(!1),R(mt.getConsent())}}),l.jsx(wre,{}),l.jsx(EC,{open:F,onComplete:()=>{B(!1),localStorage.setItem(xe,"true")},pages:Ne,toolName:"CueMaster Suite"})]})}const z2=TV,W2=jC,H2=IC,fr=x.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ut("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fr.displayName="Input";function lie(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var LC="ScrollArea",[FV,P2e]=Fi(LC),[cie,ls]=FV(LC),VV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,w]=x.useState(0),[S,A]=x.useState(0),[E,N]=x.useState(!1),[_,T]=x.useState(!1),P=bt(e,j=>c(j)),I=Bd(i);return l.jsx(cie,{scope:n,type:r,dir:I,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:A,children:l.jsx(et.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});VV.displayName=LC;var BV="ScrollAreaViewport",UV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ls(BV,n),a=x.useRef(null),c=bt(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(et.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});UV.displayName=BV;var So="ScrollAreaScrollbar",$C=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(So,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return x.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?l.jsx(uie,{...r,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(die,{...r,ref:e,forceMount:n}):i.type==="auto"?l.jsx(zV,{...r,ref:e,forceMount:n}):i.type==="always"?l.jsx(FC,{...r,ref:e}):null});$C.displayName=So;var uie=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(So,t.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(as,{present:n||s,children:l.jsx(zV,{"data-state":s?"visible":"hidden",...r,ref:e})})}),die=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ls(So,t.__scopeScrollArea),s=t.orientation==="horizontal",o=i0(()=>c("SCROLL_END"),100),[a,c]=lie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),x.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,o]),l.jsx(as,{present:n||a!=="hidden",children:l.jsx(FC,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Le(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zV=x.forwardRef((t,e)=>{const n=ls(So,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=x.useState(!1),a=t.orientation==="horizontal",c=i0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return nd(n.viewport,c),nd(n.content,c),l.jsx(as,{present:r||s,children:l.jsx(FC,{"data-state":s?"visible":"hidden",...i,ref:e})})}),FC=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ls(So,t.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[a,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=KV(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return yie(h,o.current,a,m)}return n==="horizontal"?l.jsx(fie,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=q2(h,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?l.jsx(hie,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=q2(h,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),fie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ls(So,t.__scopeScrollArea),[o,a]=x.useState(),c=x.useRef(null),u=bt(e,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(HV,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),XV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ev(o.paddingLeft),paddingEnd:ev(o.paddingRight)}})}})}),hie=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ls(So,t.__scopeScrollArea),[o,a]=x.useState(),c=x.useRef(null),u=bt(e,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(HV,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),XV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ev(o.paddingTop),paddingEnd:ev(o.paddingBottom)}})}})}),[pie,WV]=FV(So),HV=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=ls(So,n),[v,g]=x.useState(null),y=bt(e,P=>g(P)),b=x.useRef(null),w=x.useRef(""),S=m.viewport,A=r.content-r.viewport,E=Mn(d),N=Mn(c),_=i0(f,10);function T(P){if(b.current){const I=P.clientX-b.current.left,j=P.clientY-b.current.top;u({x:I,y:j})}}return x.useEffect(()=>{const P=I=>{const j=I.target;(v==null?void 0:v.contains(j))&&E(I,A)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[S,v,A,E]),x.useEffect(N,[r,N]),nd(v,_),nd(m.content,_),l.jsx(pie,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Mn(s),onThumbPointerUp:Mn(o),onThumbPositionChange:N,onThumbPointerDown:Mn(a),children:l.jsx(et.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Le(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Le(t.onPointerMove,T),onPointerUp:Le(t.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Zy="ScrollAreaThumb",qV=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=WV(Zy,t.__scopeScrollArea);return l.jsx(as,{present:n||i.hasThumb,children:l.jsx(mie,{ref:e,...r})})}),mie=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ls(Zy,n),o=WV(Zy,n),{onThumbPositionChange:a}=o,c=bt(e,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=i0(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=vie(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,a]),l.jsx(et.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:Le(t.onPointerUp,o.onThumbPointerUp)})});qV.displayName=Zy;var VC="ScrollAreaCorner",GV=x.forwardRef((t,e)=>{const n=ls(VC,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(gie,{...t,ref:e}):null});GV.displayName=VC;var gie=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ls(VC,n),[s,o]=x.useState(0),[a,c]=x.useState(0),u=!!(s&&a);return nd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),nd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?l.jsx(et.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ev(t){return t?parseInt(t,10):0}function KV(t,e){const n=t/e;return isNaN(n)?0:n}function r0(t){const e=KV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function yie(t,e,n,r="ltr"){const i=r0(n),s=i/2,o=e||s,a=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return YV([c,u],f)(t)}function q2(t,e,n="ltr"){const r=r0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Kh(t,c);return YV([0,o],[0,a])(u)}function YV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function XV(t,e){return t>0&&t<e}var vie=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function i0(t,e){const n=Mn(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function nd(t,e){const n=Mn(e);mr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var QV=VV,xie=UV,bie=GV;const JV=x.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(QV,{ref:r,className:ut("relative overflow-hidden",t),...n,children:[l.jsx(xie,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(ZV,{}),l.jsx(bie,{})]}));JV.displayName=QV.displayName;const ZV=x.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx($C,{ref:r,orientation:e,className:ut("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(qV,{className:"relative flex-1 rounded-full bg-border"})}));ZV.displayName=$C.displayName;const wie=["CUEMASTER2026","PROMETHEAN","EARLYBIRD"];function Sie(t){return wie.includes(t.toUpperCase().trim())}function tv({className:t=""}){return l.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:l.jsx($l,{className:"w-3 h-3"})})}function Yg({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:s,isLoading:o}=Vd(),[a,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(!1),[m,v]=x.useState(!1),g=async w=>{if(w.preventDefault(),!Sie(a)){d("Invalid promo code. Please try again.");return}h(!0);const S=await s(a);h(!1),S?v(!0):d("Failed to unlock. Please try again.")},y=()=>{m?window.location.reload():e(!1)},b=[{icon:Rh,title:"Practice Courses",desc:"Guided shot scenarios in Vectors to sharpen your skills"},{icon:Sy,title:"Scotch Doubles Mode",desc:"Team-based timing for partner play in Tempo"},{icon:y$,title:"Shark Mode",desc:"Compare your break speed to the pros in Velocity"},{icon:EH,title:"Calibration Presets",desc:"Save table profiles for different venues in TrueLevel"},{icon:zN,title:"Early Access",desc:"Be first to try new features and updates"},{icon:$l,title:"Pro Badge",desc:"Light-blue 'Suite' text shows your Pro status"}];return l.jsx(er,{open:t,onOpenChange:y,children:l.jsx(Un,{className:"max-w-sm max-h-[85vh] flex flex-col",children:m?l.jsxs(l.Fragment,{children:[l.jsxs(Dn,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 p-4 bg-gradient-to-br from-amber-500/20 to-yellow-400/20 rounded-full w-fit",children:l.jsx(zN,{className:"w-12 h-12 text-amber-500 animate-pulse"})}),l.jsx(kn,{className:"text-2xl text-center",children:"Welcome to the Pro League!"}),l.jsx(ks,{className:"text-center",children:"You've unlocked the full CueMaster experience. Time to dominate the table!"})]}),l.jsx(JV,{className:"flex-1 max-h-[300px] pr-4",children:l.jsxs("div",{className:"space-y-3 py-2",children:[l.jsx("p",{className:"text-sm font-semibold text-primary mb-3",children:"Your new superpowers:"}),b.map((w,S)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 border border-primary/20",children:[l.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:l.jsx(w.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-sm",children:w.title}),l.jsx(iT,{className:"w-3 h-3 text-green-500"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w.desc})]})]},S))]})}),l.jsxs(oe,{onClick:y,className:"w-full gap-2 mt-4","data-testid":"button-start-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Let's Go!"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Dn,{children:[l.jsxs(kn,{className:"flex items-center gap-2",children:[l.jsx($l,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),l.jsx(ks,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oe,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:o,"data-testid":"button-google-signin",children:[l.jsx(L1,{className:"w-4 h-4"}),"Sign in with Google"]}),l.jsxs(oe,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:o,"data-testid":"button-facebook-signin",children:[l.jsx(L1,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&l.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(fr,{placeholder:"Enter promo code",value:a,onChange:w=>{c(w.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),u&&l.jsx("p",{className:"text-sm text-destructive mt-2",children:u})]}),l.jsxs(oe,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[l.jsx($l,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})})}function nv({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[s,o]=x.useState(!1),{isPro:a}=Vd();if(a||!e)return l.jsx(l.Fragment,{children:t});const c=()=>{i?i():o(!0)};return r==="badge"?l.jsxs("div",{className:"relative",children:[t,l.jsx("div",{className:"absolute top-1 right-1",children:l.jsx(tv,{})}),l.jsx(Yg,{open:s,onOpenChange:o})]}):r==="overlay"?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[l.jsx(D1,{className:"w-8 h-8 text-muted-foreground mb-2"}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),l.jsxs(oe,{size:"sm",onClick:c,className:"gap-1","data-testid":"button-upgrade-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),l.jsx(Yg,{open:s,onOpenChange:o})]}):l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[l.jsx(D1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),l.jsxs(oe,{size:"sm",onClick:c,className:"gap-1","data-testid":"button-upgrade-pro",children:[l.jsx($l,{className:"w-4 h-4"}),"Upgrade"]})]})}),l.jsx(Yg,{open:s,onOpenChange:o})]})}function _ie({children:t,isLocked:e=!0,onClick:n,...r}){const[i,s]=x.useState(!1),{isPro:o}=Vd();if(o||!e)return l.jsx(oe,{onClick:n,...r,children:t});const a=c=>{c.preventDefault(),s(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs(oe,{onClick:a,...r,className:`relative ${r.className||""}`,children:[t,l.jsx("span",{className:"absolute -top-1 -right-1",children:l.jsx(tv,{})})]}),l.jsx(Yg,{open:i,onOpenChange:s})]})}function e6(t=!1){const{settings:e}=fC(),[n,r]=x.useState(!1),i=x.useRef(null),s=x.useCallback(async()=>{if(e.wakeLockEnabled&&"wakeLock"in navigator)try{i.current=await navigator.wakeLock.request("screen"),r(!0),i.current.addEventListener("release",()=>{r(!1)})}catch(a){console.error("Wake Lock error:",a),r(!1)}},[e.wakeLockEnabled]),o=x.useCallback(async()=>{if(i.current)try{await i.current.release(),i.current=null,r(!1)}catch(a){console.error("Wake Lock release error:",a)}},[]);return x.useEffect(()=>(t&&e.wakeLockEnabled?s():o(),()=>{o()}),[t,e.wakeLockEnabled,s,o]),x.useEffect(()=>{if(!t||!e.wakeLockEnabled)return;const a=()=>{document.visibilityState==="visible"&&t&&e.wakeLockEnabled&&s()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[t,e.wakeLockEnabled,s]),{isLocked:n,requestWakeLock:s,releaseWakeLock:o}}const $c=["mph","kph","m/s","ft/s"],Xg={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},G2=Object.keys(Xg),Gs=(t,e,n)=>Math.min(n,Math.max(e,t)),Eie=.0254,eo=2.25,No=eo/2,t6="cuemaster-velocity-v1";function Tie(){try{const t=localStorage.getItem(t6);return t?JSON.parse(t):null}catch{return null}}function Cie(t){try{localStorage.setItem(t6,JSON.stringify(t))}catch{}}function Aie(t,e,n){const r=3*n/4,i=e/2,s=[];if(t==="8"){const o=[1,2,3,4,5];for(let a=0;a<o.length;a++){const c=o[a],u=r+a*eo,d=(c-1)*eo;for(let f=0;f<c;f++)s.push({x:i-d/2+f*eo,y:u,row:a,idx:f,n:c})}}else{const o=[1,2,3,2,1];for(let a=0;a<o.length;a++){const c=o[a],u=r+a*eo,d=(c-1)*eo;for(let f=0;f<c;f++)s.push({x:i-d/2+f*eo,y:u,row:a,idx:f,n:c})}}return s}function Pie(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function Nie({x0:t,y0:e,dx:n,dy:r,W:i,L:s}){const o=[];r>0&&o.push((s-e)/r),n<0&&o.push((0-t)/n),n>0&&o.push((i-t)/n);const a=Math.min(...o.filter(c=>c>0));return isFinite(a)?a:null}function jie(){var it;const[,t]=ca(),{toast:e}=Pd(),[n,r]=x.useState("record"),[i,s]=x.useState(3),o=G2[i]||"9' (tournament)",a=Xg[o],c=a.W,u=a.L,[d,f]=x.useState("9"),[h,m]=x.useState(!0),[v,g]=x.useState("mph"),[y,b]=x.useState(!1),w=()=>{const G=$c.indexOf(v);g($c[(G+1)%$c.length])},[S,A]=x.useState({x:25,y:20}),[E,N]=x.useState({x:c/2,y:3*u/4-eo}),[_,T]=x.useState(null),[P,I]=x.useState(null),[j,O]=x.useState(!1);e6(j);const[R,F]=x.useState(null),[B,U]=x.useState(null),[W,$]=x.useState(null),[z,re]=x.useState([]),[se,Q]=x.useState(!1),[ge,pe]=x.useState(!1),[Ee,tt]=x.useState(1),[xe,Ne]=x.useState(!1),[le,de]=x.useState([null,null,null,null,null]),[Y,V]=x.useState({open:!1,kind:null,index:null}),[we,_e]=x.useState(!1),[nt,Ye]=x.useState(!1),[rt,gt]=x.useState([]),[Ce,Je]=x.useState(!1),[Ze,Ie]=x.useState(""),[Ut,yn]=x.useState(""),[hn,In]=x.useState(!1),[qr,rn]=x.useState(0),[vn,qt]=x.useState(!1),[pn,Ft]=x.useState([]),[Ge,Gr]=x.useState(null),[yr,Nr]=x.useState(0),ti=x.useRef(null),Gt=x.useRef(null),zt=x.useRef(null),vr=x.useRef(!1);x.useEffect(()=>(mt.startSession("velocity"),()=>{mt.endSession()}),[]),x.useEffect(()=>{const G=Tie();G?(s(G.presetIndex??3),A(G.cue||{x:25,y:20}),N(G.ghost||{x:c/2,y:3*u/4-eo}),g(G.unit||"mph"),re(G.history||[]),f(G.variant||"9"),m(G.snap??!0),de(G.breakSlots||[null,null,null,null,null]),gt(G.leaderboard||[]),yn(G.storedInitials||""),G.tutorialDone||pe(!0)):pe(!0)},[]),x.useEffect(()=>{Cie({presetIndex:i,cue:S,ghost:E,unit:v,history:z,variant:d,snap:h,breakSlots:le,leaderboard:rt,storedInitials:Ut,tutorialDone:!0})},[i,S,E,v,z,d,h,le,rt,Ut]),x.useEffect(()=>{const G=setInterval(()=>{rn(Pe=>(Pe+1)%$c.length)},4e3);return()=>clearInterval(G)},[]),x.useEffect(()=>{A(G=>({x:Gs(G.x,0,c),y:Gs(G.y,0,u/4)})),N(G=>({x:Gs(G.x,0,c),y:Gs(G.y,No,u-No)}))},[c,u]);const Hn=x.useMemo(()=>Aie(d,c,u),[d,c,u]),Kt=x.useCallback((G,Pe)=>{const Me=Pe.x-G.x,ee=Pe.y-G.y,ye=Math.hypot(Me,ee);if(!ye)return null;const qe=Me/ye,We=ee/ye,jt=eo;let Rt=1/0,Yt=null,sr=null;for(let or=0;or<Hn.length;or++){const kt=Hn[or],M=kt.x-G.x,L=kt.y-G.y,K=M*qe+L*We;if(K<=0)continue;const J=G.x+qe*K,Z=G.y+We*K,ue=Math.hypot(kt.x-J,kt.y-Z);if(ue>jt)continue;const ce=Math.sqrt(jt*jt-ue*ue),ne=K-ce;ne<=0||ne<Rt&&(Rt=ne,Yt={x:G.x+qe*ne,y:G.y+We*ne},sr=or)}return Yt?{point:Yt,index:sr}:null},[Hn]),qn=x.useCallback((G=S,Pe=E)=>{const Me=Pe.x-G.x,ee=Pe.y-G.y,ye=Math.hypot(Me,ee);return ee<=0||ye<=0?null:ye},[S,E]),Gn=x.useMemo(()=>{const G=qn();if(!G)return!1;const Pe=(E.x-S.x)/G,Me=(E.y-S.y)/G,ee=Nie({x0:S.x,y0:S.y,dx:Pe,dy:Me,W:c,L:u});return!ee||G<=ee+1e-6},[S,E,c,u,qn]),xn=x.useMemo(()=>{const G=qn();return{dCG:G?G.toFixed(2):""}},[qn]),ds=G=>{switch(v){case"ft/s":return(G*3.28084).toFixed(2);case"m/s":return G.toFixed(2);case"kph":return(G*3.6).toFixed(2);default:return(G*2.23693629).toFixed(2)}},Vi=G=>{switch(v){case"ft/s":return(G*1.46667).toFixed(2);case"m/s":return(G*.44704).toFixed(2);case"kph":return(G*1.60934).toFixed(2);default:return G.toFixed(2)}},ni=(G,Pe)=>{switch(Pe){case"ft/s":return(G*1.46667).toFixed(2);case"m/s":return(G*.44704).toFixed(2);case"kph":return(G*1.60934).toFixed(2);default:return G.toFixed(2)}},Eo=(G,Pe,Me=!1)=>{const ee=G.toUpperCase().slice(0,3),ye=Math.min(100,Math.round(Pe/25*100)),qe={initials:ee,mph:Pe,percentage:ye,ts:Date.now()};gt(We=>[...We,qe].sort((Rt,Yt)=>Yt.percentage-Rt.percentage).slice(0,1e3)),ee.length===3&&yn(ee),In(!1),Ie(""),Me||e({title:"Added to Leaderboard",description:`${ee} - ${ye}%`})},ri=x.useRef([]),[fs,Bi]=x.useState(0),[ii,jr]=x.useState(null),gi=3e3,ma=48e3,kr=(G,Pe=!1)=>{if(G.length<20)return Pe&&console.log("[DEBUG] Not enough samples:",G.length),null;const Me=2,ee=[];for(let ne=0;ne<G.length;ne++){let ve=0,Te=0;for(let Se=Math.max(0,ne-Me);Se<=Math.min(G.length-1,ne+Me);Se++)ve+=G[Se].amplitude*G[Se].amplitude,Te++;ee.push({time:G[ne].time,amplitude:Math.sqrt(ve/Te)})}let ye=0;for(let ne=0;ne<ee.length;ne++)ee[ne].amplitude>ye&&(ye=ee[ne].amplitude);if(Pe&&console.log("[DEBUG] Max amplitude (smoothed):",ye.toFixed(4)),ye<.08)return Pe&&console.log("[DEBUG] No significant sound detected (max < 0.08)"),null;const qe=80,We=450,jt=120;let Rt=0,Yt=ee[0].amplitude;for(let ne=0;ne<ee.length&&!(ee[ne].time>80);ne++)ee[ne].amplitude>Yt&&(Yt=ee[ne].amplitude,Rt=ne);const sr=ee[Rt].time;Pe&&console.log("[DEBUG] First peak at",sr.toFixed(1),"ms, amp:",Yt.toFixed(4));const or=ne=>Yt*Math.exp(-ne/jt),kt=.75;let M=-1,L=1/0,K=-1;for(let ne=Rt+1;ne<ee.length;ne++){const ve=ee[ne].time-sr;if(ve<25)continue;if(ve>200)break;const Te=or(ve),Se=Te*kt,Oe=ne>0&&ne<ee.length-1&&ee[ne].amplitude<=ee[ne-1].amplitude&&ee[ne].amplitude<=ee[ne+1].amplitude;(ee[ne].amplitude<Se||Oe&&ee[ne].amplitude<Te)&&ee[ne].amplitude<L&&(L=ee[ne].amplitude,M=ne,K=ee[ne].time)}if(M===-1){Pe&&console.log("[DEBUG] No valley below decay curve, trying local minimum search...");let ne=Yt;for(let ve=Rt+1;ve<ee.length;ve++){const Te=ee[ve].time-sr;if(!(Te<25)){if(Te>200)break;ee[ve].amplitude<ne&&(ne=ee[ve].amplitude,M=ve,K=ee[ve].time,L=ne)}}M!==-1&&L>Yt*.8&&(Pe&&console.log("[DEBUG] Valley not deep enough (only",((1-L/Yt)*100).toFixed(1),"% drop)"),M=-1)}if(M===-1)return Pe&&console.log("[DEBUG] No valley found between 25-200ms after first peak"),null;if(Pe){const ne=or(K-sr);console.log("[DEBUG] Valley at",K.toFixed(1),"ms, amp:",L.toFixed(4),"(expected decay:",ne.toFixed(4),", ratio:",(L/ne).toFixed(2),")")}let J=-1,Z=0;const ue=1.3;for(let ne=M+1;ne<ee.length;ne++){const ve=ee[ne].time-sr;if(!(ve<qe)){if(ve>We)break;ee[ne].amplitude>L*ue&&ee[ne].amplitude>Z&&(Z=ee[ne].amplitude,J=ne)}}if(Pe&&(J!==-1?console.log("[DEBUG] Second peak at",ee[J].time.toFixed(1),"ms, amp:",Z.toFixed(4),"(",((Z/L-1)*100).toFixed(1),"% above valley)"):console.log("[DEBUG] No second peak found that rises >30% above valley in",qe,"-",We,"ms window")),J===-1||Z<ye*.1)return Pe&&console.log("[DEBUG] Second peak too weak or not found (need >",(ye*.1).toFixed(4),")"),null;const ce=ne=>{let ve=0,Te=1/0;for(let Se=0;Se<G.length;Se++){const Oe=Math.abs(G[Se].time-ne);Oe<Te&&(Te=Oe,ve=Se)}return G[ve]};return{first:ce(ee[Rt].time),second:ce(ee[J].time),valleyTime:K,valleyAmp:L,expectedDecayAtValley:or(K-sr),decayTau:jt}},ga=async()=>{const G={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:ma}},Pe=await navigator.mediaDevices.getUserMedia(G),Me=new AudioContext({sampleRate:ma});Me.state==="suspended"&&await Me.resume();const ee=Me.createMediaStreamSource(Pe),ye=Me.createBiquadFilter();ye.type="highpass",ye.frequency.value=150;const qe=Me.createBiquadFilter();qe.type="lowpass",qe.frequency.value=8e3;const We=Me.createAnalyser();We.fftSize=2048,ee.connect(ye),ye.connect(qe),qe.connect(We);const jt=new Float32Array(We.fftSize);ri.current=[];let Rt=null,Yt=null;const sr=.15,or=()=>{if(!vr.current)return;We.getFloatTimeDomainData(jt);let kt=0;for(let L=0;L<jt.length;L++)kt=Math.max(kt,Math.abs(jt[L]));const M=performance.now();if(Nr(kt),Rt===null&&kt>sr&&(Rt=M,Yt=M,jr("Recording break..."),vn&&console.log("[DEBUG] Recording triggered at amplitude:",kt.toFixed(4))),Rt!==null){ri.current.push({time:M-Rt,amplitude:kt});const L=M-Yt;if(Bi(Math.min(100,L/gi*100)),L>=gi){vr.current=!1,jr("Analyzing audio..."),vn&&Ft([...ri.current]);const K=kr(ri.current,vn);if(vn&&Gr(K?{first:K.first,second:K.second,valleyTime:K.valleyTime,valleyAmp:K.valleyAmp,expectedDecayAtValley:K.expectedDecayAtValley,decayTau:K.decayTau}:{first:null,second:null,valleyTime:null,valleyAmp:null,expectedDecayAtValley:null,decayTau:null}),K){const J=(K.second.time-K.first.time)/1e3;if(J>=.08&&J<=.45)F(K.first.time/1e3),U(K.second.time/1e3),jr(`Found peaks: ${J.toFixed(4)}s apart`);else{const Z=`Peaks were ${(J*1e3).toFixed(0)}ms apart (expected 80-450ms)`;zt.current&&(zt.current.stream.getTracks().forEach(ue=>ue.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Bi(0),jr(null),Gt.current&&clearTimeout(Gt.current),e({title:"Detection failed",description:Z,variant:"destructive"})}}else zt.current&&(zt.current.stream.getTracks().forEach(J=>J.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Bi(0),jr(null),Gt.current&&clearTimeout(Gt.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(or)};return requestAnimationFrame(or),{audioCtx:Me,stream:Pe}},To=async()=>{if(!qn()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}$(null),F(null),U(null),Bi(0),jr(null),O(!0);try{vr.current=!0,zt.current=await ga(),Gt.current&&clearTimeout(Gt.current),Gt.current=setTimeout(()=>{yi(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - auto-detects on impact"})}catch(Pe){console.error(Pe),O(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}},yi=()=>{vr.current=!1,zt.current&&(zt.current.stream.getTracks().forEach(G=>G.stop()),zt.current.audioCtx.close(),zt.current=null),O(!1),Bi(0),jr(null),Gt.current&&clearTimeout(Gt.current)};x.useEffect(()=>{if(R!==null&&B!==null&&j){const G=qn()||0,Pe=G*Eie,Me=Math.max(.1,B-R),ee=Pe/Me,ye=ee*2.23693629,qe=Math.min(45,Math.max(5,ye)),We={raw_mps:ee,mph:Number(qe.toFixed(2)),distanceIn:Number(G.toFixed(1)),deltaT:Number(Me.toFixed(4)),ts:Date.now(),cue:S,ghost:E,table:{W:c,L:u},variant:d};re(jt=>[We,...jt].slice(0,500)),$(We),O(!1),yi(),Q(!0),n==="shark"&&Ut.length===3&&Eo(Ut,We.mph,!0),mt.trackSkillMetric("velocity","break_speed",We.mph,{distanceIn:We.distanceIn,variant:We.variant})}},[R,B,j,S,E,c,u,d,qn,n,Ut]);const $n=(G,Pe,Me)=>{const ee=Pe/Me,qe=Math.round(G/ee)*ee;return Math.abs(G-qe)<=.35&&h?qe:G},H=()=>{const Pe=Math.min(typeof window<"u"?window.innerWidth-48:400,500),ee=Math.min(Pe/c,400/u),ye=c*ee,qe=u*ee,We=S.x*ee+8,jt=qe-S.y*ee+8,Rt=E.x*ee+8,Yt=qe-E.y*ee+8,sr=kt=>{var J;kt.preventDefault(),Ye(!0);const M=(J=ti.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const L=Z=>{const ue={x:Z.clientX-M.left,y:Z.clientY-M.top};let ce=(ue.x-8)/ee,ne=(qe-(ue.y-8))/ee;ce=Gs($n(ce,c,8),0,c),ne=Gs($n(ne,u,8),No,u-No);const Te=Kt(S,{x:ce,y:ne});if(Te&&Te.point){const{point:Se,index:Oe}=Te,ht=Gs(Se.x,0,c),sn=Gs(Se.y,No,u-No);N({x:ht,y:sn}),T({x:ht,y:sn,index:Oe}),I(Oe)}else _&&(N({x:_.x,y:_.y}),I(_.index??null))},K=()=>{Ye(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})},or=kt=>{var J;kt.preventDefault(),_e(!0);const M=(J=ti.current)==null?void 0:J.getBoundingClientRect();if(!M)return;const L=Z=>{const ue={x:Z.clientX-M.left,y:Z.clientY-M.top};let ce=(ue.x-8)/ee,ne=(qe-(ue.y-8))/ee;ce=Gs($n(ce,c,8),0,c),ne=Gs($n(ne,u,8),0,u/4),A({x:ce,y:ne})},K=()=>{_e(!1),window.removeEventListener("pointermove",L)};window.addEventListener("pointermove",L),window.addEventListener("pointerup",K,{once:!0})};return l.jsxs("svg",{ref:ti,width:ye+8*2,height:qe+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[l.jsx("rect",{x:8,y:8,width:ye,height:qe,fill:"#03C04A",stroke:Gn?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(kt,M)=>(M+1)/8*ye+8).map((kt,M)=>l.jsx("line",{x1:kt,x2:kt,y1:8,y2:8+qe,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+M)),Array.from({length:7},(kt,M)=>(M+1)/8*qe+8).map((kt,M)=>l.jsx("line",{x1:8,x2:8+ye,y1:kt,y2:kt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+M)),l.jsx("line",{x1:We,y1:jt,x2:Rt,y2:Yt,stroke:"#1e1e1e",strokeWidth:"2.5"}),Hn.map((kt,M)=>{const L=kt.x*ee+8,K=qe-kt.y*ee+8,J=M===P;return l.jsx("circle",{cx:L,cy:K,r:No*ee,fill:J?"#ffe9e9":"#ffffff",stroke:J?"hsl(var(--primary))":"#000000",strokeWidth:J?2.2:1.25,opacity:J?1:.9},M)}),nt&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:8,y1:Yt,x2:8+ye,y2:Yt,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),l.jsx("line",{x1:Rt,y1:8,x2:Rt,y2:8+qe,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),we&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:8,y1:jt,x2:8+ye,y2:jt,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),l.jsx("line",{x1:We,y1:8,x2:We,y2:8+qe,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),l.jsx("circle",{cx:Rt,cy:Yt,r:No*ee,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:sr,style:{cursor:"grab"}}),l.jsx("circle",{cx:We,cy:jt,r:No*ee,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:or,style:{cursor:"grab"}})]})},ie=x.useMemo(()=>Pie(z),[z]),je=G=>V({open:!0,kind:"load",index:G}),ze=G=>V({open:!0,kind:"save",index:G}),Fe=({i:G})=>{const Pe=!!le[G],Me=x.useRef(null),ee=()=>{Me.current=setTimeout(()=>{ze(G),Me.current=null},520)},ye=()=>{Me.current&&(clearTimeout(Me.current),je(G),Me.current=null)};return l.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Pe?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:ee,onPointerUp:ye,onPointerLeave:()=>Me.current&&clearTimeout(Me.current),"data-testid":`button-slot-${G+1}`,children:["Slot ",G+1]})};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>pe(!0),"data-testid":"button-help",children:l.jsx(zp,{className:"w-5 h-5"})}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>Ne(!0),"data-testid":"button-settings",children:l.jsx(oT,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-4",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs(wV,{value:n,onValueChange:r,className:"w-full",children:[l.jsxs(AC,{className:"grid w-full grid-cols-3",children:[l.jsx(oh,{value:"record","data-testid":"tab-record",children:"Record"}),l.jsx(oh,{value:"stats","data-testid":"tab-stats",children:"Stats"}),l.jsxs(oh,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",l.jsx(tv,{})]})]}),l.jsxs(ah,{value:"record",className:"space-y-3 mt-3",children:[l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"text-center mb-3",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),l.jsxs("button",{onClick:w,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[W?ds(W.raw_mps):"--.--.",l.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:v})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),l.jsx(oe,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?yi:To,"data-testid":"button-record",children:j?"Stop Recording":"Tap to Record  Break"}),j&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:ii||"Waiting for sound..."}),l.jsxs("span",{className:"font-mono text-primary",children:[Math.round(fs),"%"]})]}),l.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${fs}%`}})}),vn&&l.jsxs("div",{className:"mt-2 p-2 bg-black/50 rounded border border-primary/30",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[l.jsx("span",{className:"text-green-400 font-mono",children:"LIVE AMP"}),l.jsx("span",{className:"text-green-400 font-mono",children:yr.toFixed(4)})]}),l.jsx("div",{className:"h-4 bg-black rounded overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-50 ${yr>.15?"bg-green-500":"bg-green-800"}`,style:{width:`${Math.min(100,yr*100)}%`}})}),l.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Trigger threshold: 0.15 (green = triggered)"})]})]})]}),vn&&pn.length>0&&!j&&l.jsxs(ot,{className:"p-3 bg-black/80 border-green-500/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-green-400 font-mono",children:"DEBUG: Audio Analysis"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{size:"sm",variant:"outline",className:"text-xs h-7 border-green-500/50 text-green-400",onClick:()=>{const G={samples:pn,peaks:Ge,timestamp:new Date().toISOString(),settings:{presetKey:o,variant:d,snap:h}},Pe=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),Me=URL.createObjectURL(Pe),ee=document.createElement("a");ee.href=Me,ee.download=`break-audio-${Date.now()}.json`,ee.click(),URL.revokeObjectURL(Me),e({title:"Audio data exported"})},"data-testid":"button-export-debug",children:"Export Data"}),l.jsx(oe,{size:"sm",variant:"outline",className:"text-xs h-7 border-red-500/50 text-red-400",onClick:()=>{Ft([]),Gr(null)},"data-testid":"button-clear-debug",children:"Clear"})]})]}),l.jsxs("div",{className:"bg-black rounded p-2 mb-3",children:[l.jsxs("div",{className:"text-[10px] text-green-400 font-mono mb-1",children:["Samples: ",pn.length," | Duration: ",pn.length>0?(pn[pn.length-1].time/1e3).toFixed(2):0,"s"]}),l.jsxs("svg",{width:"100%",height:"80",className:"bg-black rounded",children:[l.jsx("line",{x1:"0",y1:"40",x2:"100%",y2:"40",stroke:"#333",strokeWidth:"1"}),[100,200,300,400].map(G=>l.jsxs("g",{children:[l.jsx("line",{x1:`${G/3e3*100}%`,y1:"0",x2:`${G/3e3*100}%`,y2:"80",stroke:"#333",strokeWidth:"1",strokeDasharray:"2,2"}),l.jsxs("text",{x:`${G/3e3*100}%`,y:"78",fill:"#666",fontSize:"8",textAnchor:"middle",children:[G,"ms"]})]},G)),l.jsx("polyline",{points:pn.slice(0,500).map((G,Pe)=>{const Me=Pe/500*100,ee=40-G.amplitude*35;return`${Me}%,${ee}`}).join(" "),fill:"none",stroke:"#22c55e",strokeWidth:"1"}),(Ge==null?void 0:Ge.first)&&l.jsx("circle",{cx:`${Ge.first.time/3e3*100}%`,cy:40-Ge.first.amplitude*35,r:"4",fill:"#f59e0b",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.second)&&l.jsx("circle",{cx:`${Ge.second.time/3e3*100}%`,cy:40-Ge.second.amplitude*35,r:"4",fill:"#3b82f6",stroke:"#fff",strokeWidth:"1"}),(Ge==null?void 0:Ge.valleyTime)&&Ge.valleyTime>0&&Ge.valleyAmp&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:`${Ge.valleyTime/3e3*100}%`,y1:"0",x2:`${Ge.valleyTime/3e3*100}%`,y2:"80",stroke:"#a855f7",strokeWidth:"2",strokeDasharray:"4,2"}),l.jsx("circle",{cx:`${Ge.valleyTime/3e3*100}%`,cy:40-Ge.valleyAmp*35,r:"3",fill:"#a855f7",stroke:"#fff",strokeWidth:"1"})]})]}),l.jsxs("div",{className:"flex gap-4 text-[10px] font-mono mt-1",children:[l.jsx("span",{className:"text-amber-500",children:" 1st Peak (cue hit)"}),l.jsx("span",{className:"text-purple-500",children:" Valley (dip)"}),l.jsx("span",{className:"text-blue-500",children:" 2nd Peak (rack hit)"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-mono",children:[l.jsxs("div",{className:"bg-amber-500/20 rounded p-2",children:[l.jsx("div",{className:"text-amber-400 font-semibold",children:"1st Peak"}),Ge!=null&&Ge.first?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",Ge.first.time.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",Ge.first.amplitude.toFixed(4)]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]}),l.jsxs("div",{className:"bg-purple-500/20 rounded p-2",children:[l.jsx("div",{className:"text-purple-400 font-semibold",children:"Valley"}),Ge!=null&&Ge.valleyTime&&Ge.valleyAmp?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",Ge.valleyTime.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",Ge.valleyAmp.toFixed(4)]}),Ge.expectedDecayAtValley&&l.jsxs("div",{className:"text-[9px]",children:["Expected: ",Ge.expectedDecayAtValley.toFixed(4)]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]}),l.jsxs("div",{className:"bg-blue-500/20 rounded p-2",children:[l.jsx("div",{className:"text-blue-400 font-semibold",children:"2nd Peak"}),Ge!=null&&Ge.second?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["Time: ",Ge.second.time.toFixed(1),"ms"]}),l.jsxs("div",{children:["Amp: ",Ge.second.amplitude.toFixed(4)]}),l.jsxs("div",{children:["T: ",(Ge.second.time-(((it=Ge.first)==null?void 0:it.time)||0)).toFixed(1),"ms"]})]}):l.jsx("div",{className:"text-red-400",children:"Not found"})]})]}),l.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-[10px] font-mono text-muted-foreground",children:[l.jsxs("div",{children:["Decay tau: ",(Ge==null?void 0:Ge.decayTau)||120,"ms (reverb tolerance)"]}),l.jsx("div",{children:"Valley window: 25-200ms after 1st peak"}),l.jsx("div",{children:"Valley dip: below 75% of expected decay OR local minimum"}),l.jsx("div",{children:"2nd peak window: 80-450ms after 1st peak"}),l.jsx("div",{children:"2nd peak rise: must be 30%+ above valley"})]})]}),l.jsx(ot,{className:"p-3",children:l.jsxs(z2,{open:y,onOpenChange:b,children:[l.jsxs(W2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[xn.dCG,'"  ',d,"-ball"]})]}),l.jsx(Oh,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),l.jsxs(H2,{className:"pt-2",children:[l.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(G=>l.jsxs(oe,{variant:d===G?"default":"outline",size:"sm",onClick:()=>f(G),"data-testid":`button-variant-${G}`,children:[G,"-ball"]},G))}),l.jsx(H,{}),!Gn&&l.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."})]})]})}),l.jsx(nv,{isLocked:!0,featureName:"Break Presets",variant:"overlay",children:l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",children:["Presets ",l.jsx(tv,{})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(G=>l.jsx(Fe,{i:G},G))})]})})]}),l.jsx(ah,{value:"stats",className:"space-y-3 mt-3",children:l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),l.jsx("div",{className:"text-lg font-bold",children:ie?Vi(ie.high):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),l.jsx("div",{className:"text-lg font-bold",children:ie?Vi(ie.avg):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),l.jsxs("button",{onClick:w,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),l.jsx("div",{className:"text-lg font-bold",children:ie?Vi(ie.low):""}),l.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[z.length," breaks recorded"]}),z.length>0&&l.jsxs(oe,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>re([]),"data-testid":"button-clear-history",children:[l.jsx(_y,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),l.jsx(ah,{value:"shark",className:"space-y-3 mt-3",children:l.jsxs(nv,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[l.jsxs(ot,{className:"p-3",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),l.jsx("button",{onClick:w,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:v})]}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),l.jsx("stop",{offset:"50%",stopColor:"#eab308"}),l.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),l.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),l.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,W?W.mph/25*100:0)*2.2} 220`}),(()=>{const Me=(-180+Math.min(100,W?W.mph/25*100:0)/100*180)*Math.PI/180,ee=90,ye=90,qe=55,We=ee+qe*Math.cos(Me),jt=ye+qe*Math.sin(Me);return l.jsxs("g",{children:[l.jsx("line",{x1:ee,y1:ye,x2:We,y2:jt,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("circle",{cx:ee,cy:ye,r:"6",fill:"hsl(var(--foreground))"})]})})(),l.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[W?Math.min(100,Math.round(W.mph/25*100)):0,"%"]})]})}),l.jsx(oe,{className:"w-full",size:"lg",variant:j?"destructive":"default",onClick:j?yi:To,"data-testid":"button-shark-record",children:j?"STOP":"REC"})]}),l.jsx(ot,{className:"p-3",children:l.jsxs(z2,{open:y,onOpenChange:b,children:[l.jsxs(W2,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[xn.dCG,'"  ',d,"-ball"]})]}),l.jsx(Oh,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),l.jsx(H2,{className:"pt-2",children:l.jsx(H,{})})]})}),W&&l.jsxs(oe,{variant:"outline",className:"w-full",onClick:()=>In(!0),"data-testid":"button-add-to-leaderboard",children:[l.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),l.jsx(ot,{className:"p-3",children:l.jsx(_u,{type:"single",collapsible:!0,value:Ce?"leaderboard":"",onValueChange:G=>Je(G==="leaderboard"),children:l.jsxs(Pi,{value:"leaderboard",className:"border-none",children:[l.jsx(Ni,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ro,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",rt.length,")"]})]})}),l.jsxs(ji,{children:[rt.length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):l.jsx("div",{className:"max-h-64 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"sticky top-0 bg-card",children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),l.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),l.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),l.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:l.jsx("span",{className:"text-primary",children:$c[qr]})})]})}),l.jsx("tbody",{children:rt.map((G,Pe)=>l.jsxs("tr",{className:`border-b border-border/50 ${Pe<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Pe}`,children:[l.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Pe===0&&l.jsx("span",{className:"text-yellow-500",children:""}),Pe===1&&l.jsx("span",{className:"text-gray-400",children:""}),Pe===2&&l.jsx("span",{className:"text-amber-600",children:""}),Pe>2&&Pe+1]}),l.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:G.initials}),l.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[G.percentage,"%"]}),l.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:ni(G.mph,$c[qr])})]},`${G.initials}-${G.ts}`))})]})}),rt.length>0&&l.jsx(oe,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&gt([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),l.jsx(er,{open:ge,onOpenChange:pe,children:l.jsxs(Un,{className:"max-w-md",children:[l.jsx(Dn,{children:l.jsx(kn,{children:"Welcome to CueMaster: Velocity"})}),l.jsxs("div",{className:"space-y-4",children:[Ee===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",l.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",l.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),l.jsx(oe,{variant:"outline",onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch{e({title:"Permission denied",variant:"destructive"})}},"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),Ee===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",l.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",l.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),Ee===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",l.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),Ee===4&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),l.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",l.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>tt(G=>Math.max(1,G-1)),disabled:Ee===1,children:"Back"}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>tt(G=>Math.min(4,G+1)),disabled:Ee===4,children:"Next"})]}),l.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(G=>l.jsx("div",{className:`w-2 h-2 rounded-full ${G===Ee?"bg-primary":"bg-muted"}`},G))}),l.jsx(oe,{size:"sm",onClick:()=>pe(!1),children:Ee===4?"Finish":"Skip"})]})]})}),l.jsx(er,{open:se,onOpenChange:Q,children:l.jsxs(Un,{className:"max-w-md",children:[l.jsx(Dn,{children:l.jsx(kn,{children:"Confirm First Contact"})}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),l.jsx(H,{}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(oe,{variant:"outline",onClick:()=>Q(!1),children:"Looks Right"}),l.jsx(oe,{onClick:()=>Q(!1),children:"Confirm"})]})]})}),l.jsx(er,{open:Y.open,onOpenChange:G=>V({...Y,open:G}),children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsx(Dn,{children:l.jsx(kn,{children:Y.kind==="load"?"Load Preset":"Save Preset"})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Y.kind==="load"?le[Y.index]?"Load this saved break setup?":"This slot is empty.":le[Y.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(oe,{variant:"outline",onClick:()=>V({open:!1,kind:null,index:null}),children:"Cancel"}),l.jsx(oe,{onClick:()=>{if(Y.kind==="load"){const G=le[Y.index];G&&(A(G.cue),N(G.ghost),f(G.variant),s(G.presetIndex),m(G.snap),e({title:"Preset loaded"}))}else{const G={cue:S,ghost:E,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};de(Pe=>{const Me=[...Pe];return Me[Y.index]=G,Me}),e({title:"Preset saved"})}V({open:!1,kind:null,index:null})},disabled:Y.kind==="load"&&!le[Y.index],children:Y.kind==="load"?"Load":le[Y.index]?"Overwrite":"Save"})]})]})}),l.jsx(er,{open:xe,onOpenChange:Ne,children:l.jsxs(Un,{className:"max-w-md",children:[l.jsx(Dn,{children:l.jsx(kn,{children:"Settings"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ht,{children:"Snap to Grid"}),l.jsx(Vr,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"mb-2 block",children:"Table Size"}),l.jsx("div",{className:"space-y-1",children:G2.map((G,Pe)=>l.jsxs("button",{onClick:()=>s(Pe),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Pe===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Pe}`,children:[l.jsx("span",{className:"font-medium",children:G}),l.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Xg[G].W,"",Xg[G].L," in"]})]},G))})]}),l.jsx(oe,{variant:"outline",className:"w-full",onClick:()=>pe(!0),children:"Open Tutorial"}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{children:[l.jsx(Ht,{children:"Debug Mode"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Show audio analysis data"})]}),l.jsx(Vr,{checked:vn,onCheckedChange:qt,"data-testid":"switch-debug"})]})]})]})}),l.jsx(er,{open:hn,onOpenChange:In,children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsxs(Dn,{children:[l.jsx(kn,{children:"Enter Your Initials"}),l.jsx(ks,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Ht,{htmlFor:"initials",children:"Initials (3 letters)"}),l.jsx(fr,{id:"initials",value:Ze,onChange:G=>Ie(G.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),W&&l.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),l.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(W.mph/25*100)),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[W.mph.toFixed(2)," mph"]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(oe,{variant:"outline",onClick:()=>In(!1),children:"Cancel"}),l.jsxs(oe,{onClick:()=>W&&Eo(Ze,W.mph),disabled:Ze.length!==3,"data-testid":"button-submit-initials",children:[l.jsx(Ro,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})})]})}var kie=Array.isArray,mi=kie,Iie=typeof wm=="object"&&wm&&wm.Object===Object&&wm,n6=Iie,Oie=n6,Rie=typeof self=="object"&&self&&self.Object===Object&&self,Mie=Oie||Rie||Function("return this")(),_o=Mie,Die=_o,Lie=Die.Symbol,nm=Lie,K2=nm,r6=Object.prototype,$ie=r6.hasOwnProperty,Fie=r6.toString,bf=K2?K2.toStringTag:void 0;function Vie(t){var e=$ie.call(t,bf),n=t[bf];try{t[bf]=void 0;var r=!0}catch{}var i=Fie.call(t);return r&&(e?t[bf]=n:delete t[bf]),i}var Bie=Vie,Uie=Object.prototype,zie=Uie.toString;function Wie(t){return zie.call(t)}var Hie=Wie,Y2=nm,qie=Bie,Gie=Hie,Kie="[object Null]",Yie="[object Undefined]",X2=Y2?Y2.toStringTag:void 0;function Xie(t){return t==null?t===void 0?Yie:Kie:X2&&X2 in Object(t)?qie(t):Gie(t)}var fa=Xie;function Qie(t){return t!=null&&typeof t=="object"}var ha=Qie,Jie=fa,Zie=ha,ese="[object Symbol]";function tse(t){return typeof t=="symbol"||Zie(t)&&Jie(t)==ese}var zd=tse,nse=mi,rse=zd,ise=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sse=/^\w*$/;function ose(t,e){if(nse(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||rse(t)?!0:sse.test(t)||!ise.test(t)||e!=null&&t in Object(e)}var BC=ose;function ase(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xl=ase;const Wd=Zt(xl);var lse=fa,cse=xl,use="[object AsyncFunction]",dse="[object Function]",fse="[object GeneratorFunction]",hse="[object Proxy]";function pse(t){if(!cse(t))return!1;var e=lse(t);return e==dse||e==fse||e==use||e==hse}var UC=pse;const Et=Zt(UC);var mse=_o,gse=mse["__core-js_shared__"],yse=gse,cw=yse,Q2=function(){var t=/[^.]+$/.exec(cw&&cw.keys&&cw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vse(t){return!!Q2&&Q2 in t}var xse=vse,bse=Function.prototype,wse=bse.toString;function Sse(t){if(t!=null){try{return wse.call(t)}catch{}try{return t+""}catch{}}return""}var i6=Sse,_se=UC,Ese=xse,Tse=xl,Cse=i6,Ase=/[\\^$.*+?()[\]{}|]/g,Pse=/^\[object .+?Constructor\]$/,Nse=Function.prototype,jse=Object.prototype,kse=Nse.toString,Ise=jse.hasOwnProperty,Ose=RegExp("^"+kse.call(Ise).replace(Ase,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rse(t){if(!Tse(t)||Ese(t))return!1;var e=_se(t)?Ose:Pse;return e.test(Cse(t))}var Mse=Rse;function Dse(t,e){return t==null?void 0:t[e]}var Lse=Dse,$se=Mse,Fse=Lse;function Vse(t,e){var n=Fse(t,e);return $se(n)?n:void 0}var Nc=Vse,Bse=Nc,Use=Bse(Object,"create"),s0=Use,J2=s0;function zse(){this.__data__=J2?J2(null):{},this.size=0}var Wse=zse;function Hse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qse=Hse,Gse=s0,Kse="__lodash_hash_undefined__",Yse=Object.prototype,Xse=Yse.hasOwnProperty;function Qse(t){var e=this.__data__;if(Gse){var n=e[t];return n===Kse?void 0:n}return Xse.call(e,t)?e[t]:void 0}var Jse=Qse,Zse=s0,eoe=Object.prototype,toe=eoe.hasOwnProperty;function noe(t){var e=this.__data__;return Zse?e[t]!==void 0:toe.call(e,t)}var roe=noe,ioe=s0,soe="__lodash_hash_undefined__";function ooe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ioe&&e===void 0?soe:e,this}var aoe=ooe,loe=Wse,coe=qse,uoe=Jse,doe=roe,foe=aoe;function Hd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hd.prototype.clear=loe;Hd.prototype.delete=coe;Hd.prototype.get=uoe;Hd.prototype.has=doe;Hd.prototype.set=foe;var hoe=Hd;function poe(){this.__data__=[],this.size=0}var moe=poe;function goe(t,e){return t===e||t!==t&&e!==e}var zC=goe,yoe=zC;function voe(t,e){for(var n=t.length;n--;)if(yoe(t[n][0],e))return n;return-1}var o0=voe,xoe=o0,boe=Array.prototype,woe=boe.splice;function Soe(t){var e=this.__data__,n=xoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():woe.call(e,n,1),--this.size,!0}var _oe=Soe,Eoe=o0;function Toe(t){var e=this.__data__,n=Eoe(e,t);return n<0?void 0:e[n][1]}var Coe=Toe,Aoe=o0;function Poe(t){return Aoe(this.__data__,t)>-1}var Noe=Poe,joe=o0;function koe(t,e){var n=this.__data__,r=joe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Ioe=koe,Ooe=moe,Roe=_oe,Moe=Coe,Doe=Noe,Loe=Ioe;function qd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qd.prototype.clear=Ooe;qd.prototype.delete=Roe;qd.prototype.get=Moe;qd.prototype.has=Doe;qd.prototype.set=Loe;var a0=qd,$oe=Nc,Foe=_o,Voe=$oe(Foe,"Map"),WC=Voe,Z2=hoe,Boe=a0,Uoe=WC;function zoe(){this.size=0,this.__data__={hash:new Z2,map:new(Uoe||Boe),string:new Z2}}var Woe=zoe;function Hoe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var qoe=Hoe,Goe=qoe;function Koe(t,e){var n=t.__data__;return Goe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var l0=Koe,Yoe=l0;function Xoe(t){var e=Yoe(this,t).delete(t);return this.size-=e?1:0,e}var Qoe=Xoe,Joe=l0;function Zoe(t){return Joe(this,t).get(t)}var eae=Zoe,tae=l0;function nae(t){return tae(this,t).has(t)}var rae=nae,iae=l0;function sae(t,e){var n=iae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oae=sae,aae=Woe,lae=Qoe,cae=eae,uae=rae,dae=oae;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gd.prototype.clear=aae;Gd.prototype.delete=lae;Gd.prototype.get=cae;Gd.prototype.has=uae;Gd.prototype.set=dae;var HC=Gd,s6=HC,fae="Expected a function";function qC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fae);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(qC.Cache||s6),n}qC.Cache=s6;var o6=qC;const hae=Zt(o6);var pae=o6,mae=500;function gae(t){var e=pae(t,function(r){return n.size===mae&&n.clear(),r}),n=e.cache;return e}var yae=gae,vae=yae,xae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bae=/\\(\\)?/g,wae=vae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xae,function(n,r,i,s){e.push(i?s.replace(bae,"$1"):r||n)}),e}),Sae=wae;function _ae(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var GC=_ae,ek=nm,Eae=GC,Tae=mi,Cae=zd,Aae=1/0,tk=ek?ek.prototype:void 0,nk=tk?tk.toString:void 0;function a6(t){if(typeof t=="string")return t;if(Tae(t))return Eae(t,a6)+"";if(Cae(t))return nk?nk.call(t):"";var e=t+"";return e=="0"&&1/t==-Aae?"-0":e}var Pae=a6,Nae=Pae;function jae(t){return t==null?"":Nae(t)}var l6=jae,kae=mi,Iae=BC,Oae=Sae,Rae=l6;function Mae(t,e){return kae(t)?t:Iae(t,e)?[t]:Oae(Rae(t))}var c6=Mae,Dae=zd,Lae=1/0;function $ae(t){if(typeof t=="string"||Dae(t))return t;var e=t+"";return e=="0"&&1/t==-Lae?"-0":e}var c0=$ae,Fae=c6,Vae=c0;function Bae(t,e){e=Fae(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Vae(e[n++])];return n&&n==r?t:void 0}var KC=Bae,Uae=KC;function zae(t,e,n){var r=t==null?void 0:Uae(t,e);return r===void 0?n:r}var u6=zae;const ts=Zt(u6);function Wae(t){return t==null}var Hae=Wae;const wt=Zt(Hae);var qae=fa,Gae=mi,Kae=ha,Yae="[object String]";function Xae(t){return typeof t=="string"||!Gae(t)&&Kae(t)&&qae(t)==Yae}var Qae=Xae;const yc=Zt(Qae);var d6={exports:{}},Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=Symbol.for("react.element"),XC=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),Jae=Symbol.for("react.server_context"),m0=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),Zae=Symbol.for("react.offscreen"),f6;f6=Symbol.for("react.module.reference");function cs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YC:switch(t=t.type,t){case u0:case f0:case d0:case g0:case y0:return t;default:switch(t=t&&t.$$typeof,t){case Jae:case p0:case m0:case x0:case v0:case h0:return t;default:return e}}case XC:return e}}}Bt.ContextConsumer=p0;Bt.ContextProvider=h0;Bt.Element=YC;Bt.ForwardRef=m0;Bt.Fragment=u0;Bt.Lazy=x0;Bt.Memo=v0;Bt.Portal=XC;Bt.Profiler=f0;Bt.StrictMode=d0;Bt.Suspense=g0;Bt.SuspenseList=y0;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return cs(t)===p0};Bt.isContextProvider=function(t){return cs(t)===h0};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YC};Bt.isForwardRef=function(t){return cs(t)===m0};Bt.isFragment=function(t){return cs(t)===u0};Bt.isLazy=function(t){return cs(t)===x0};Bt.isMemo=function(t){return cs(t)===v0};Bt.isPortal=function(t){return cs(t)===XC};Bt.isProfiler=function(t){return cs(t)===f0};Bt.isStrictMode=function(t){return cs(t)===d0};Bt.isSuspense=function(t){return cs(t)===g0};Bt.isSuspenseList=function(t){return cs(t)===y0};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u0||t===f0||t===d0||t===g0||t===y0||t===Zae||typeof t=="object"&&t!==null&&(t.$$typeof===x0||t.$$typeof===v0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===m0||t.$$typeof===f6||t.getModuleId!==void 0)};Bt.typeOf=cs;d6.exports=Bt;var ele=d6.exports,tle=fa,nle=ha,rle="[object Number]";function ile(t){return typeof t=="number"||nle(t)&&tle(t)==rle}var h6=ile;const sle=Zt(h6);var ole=h6;function ale(t){return ole(t)&&t!=+t}var lle=ale;const rm=Zt(lle);var Is=function(e){return e===0?0:e>0?1:-1},Ul=function(e){return yc(e)&&e.indexOf("%")===e.length-1},ke=function(e){return sle(e)&&!rm(e)},cle=function(e){return wt(e)},nr=function(e){return ke(e)||yc(e)},ule=0,im=function(e){var n=++ule;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!yc(e))return r;var s;if(Ul(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return rm(s)&&(s=r),i&&s>n&&(s=n),s},qc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},dle=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Cs=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function rv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ts(r,e))===n})}var fle=function(e,n){return ke(e)&&ke(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Eu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function SS(t){"@babel/helpers - typeof";return SS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SS(t)}var hle=["viewBox","children"],ple=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rk=["points","pathLength"],uw={svg:hle,polygon:rk,polyline:rk},QC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!Wd(r))return null;var i={};return Object.keys(r).forEach(function(s){QC.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},mle=function(e,n,r){return function(i){return e(n,r,i),null}},sv=function(e,n,r){if(!Wd(e)||SS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];QC.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=mle(o,n,r))}),i},gle=["children"],yle=["children"];function ik(t,e){if(t==null)return{};var n=vle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _S(t){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(t)}var sk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ho=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ok=null,dw=null,JC=function t(e){if(e===ok&&Array.isArray(dw))return dw;var n=[];return x.Children.forEach(e,function(r){wt(r)||(ele.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),dw=n,ok=e,n};function ns(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ho(i)}):r=[Ho(e)],JC(t).forEach(function(i){var s=ts(i,"type.displayName")||ts(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ci(t,e){var n=ns(t,e);return n&&n[0]}var ak=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},xle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ble=function(e){return e&&e.type&&yc(e.type)&&xle.indexOf(e.type)>=0},wle=function(e){return e&&_S(e)==="object"&&"clipDot"in e},Sle=function(e,n,r,i){var s,o=(s=uw==null?void 0:uw[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Et(e)&&(i&&o.includes(n)||ple.includes(n))||r&&QC.includes(n)},Nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!Wd(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Sle((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},ES=function t(e,n){if(e===n)return!0;var r=x.Children.count(e);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return lk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!lk(s,o))return!1}return!0},lk=function(e,n){if(wt(e)&&wt(n))return!0;if(!wt(e)&&!wt(n)){var r=e.props||{},i=r.children,s=ik(r,gle),o=n.props||{},a=o.children,c=ik(o,yle);return i&&a?Eu(s,c)&&ES(i,a):!i&&!a?Eu(s,c):!1}return!1},ck=function(e,n){var r=[],i={};return JC(e).forEach(function(s,o){if(ble(s))r.push(s);else if(s){var a=Ho(s.type),c=n[a]||{},u=c.handler,d=c.once;if(u&&(!d||!i[a])){var f=u(s,a,o);r.push(f),i[a]=!0}}}),r},_le=function(e){var n=e&&e.type;return n&&sk[n]?sk[n]:null},Ele=function(e,n){return JC(n).indexOf(e)},Tle=["children","width","height","viewBox","className","style","title","desc"];function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function Cle(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=Cle(t,Tle),d=i||{width:n,height:r,x:0,y:0},f=At("recharts-surface",s);return q.createElement("svg",TS({},Nt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,a),q.createElement("desc",null,c),e)}var Ple=["children","className"];function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}function Nle(t,e){if(t==null)return{};var n=jle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ln=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=Nle(t,Ple),s=At("recharts-layer",r);return q.createElement("g",AS({className:s},Nt(i,!0),{ref:e}),n)}),ec=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function kle(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Ile=kle,Ole=Ile;function Rle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ole(t,e,n)}var Mle=Rle,Dle="\\ud800-\\udfff",Lle="\\u0300-\\u036f",$le="\\ufe20-\\ufe2f",Fle="\\u20d0-\\u20ff",Vle=Lle+$le+Fle,Ble="\\ufe0e\\ufe0f",Ule="\\u200d",zle=RegExp("["+Ule+Dle+Vle+Ble+"]");function Wle(t){return zle.test(t)}var p6=Wle;function Hle(t){return t.split("")}var qle=Hle,m6="\\ud800-\\udfff",Gle="\\u0300-\\u036f",Kle="\\ufe20-\\ufe2f",Yle="\\u20d0-\\u20ff",Xle=Gle+Kle+Yle,Qle="\\ufe0e\\ufe0f",Jle="["+m6+"]",PS="["+Xle+"]",NS="\\ud83c[\\udffb-\\udfff]",Zle="(?:"+PS+"|"+NS+")",g6="[^"+m6+"]",y6="(?:\\ud83c[\\udde6-\\uddff]){2}",v6="[\\ud800-\\udbff][\\udc00-\\udfff]",ece="\\u200d",x6=Zle+"?",b6="["+Qle+"]?",tce="(?:"+ece+"(?:"+[g6,y6,v6].join("|")+")"+b6+x6+")*",nce=b6+x6+tce,rce="(?:"+[g6+PS+"?",PS,y6,v6,Jle].join("|")+")",ice=RegExp(NS+"(?="+NS+")|"+rce+nce,"g");function sce(t){return t.match(ice)||[]}var oce=sce,ace=qle,lce=p6,cce=oce;function uce(t){return lce(t)?cce(t):ace(t)}var dce=uce,fce=Mle,hce=p6,pce=dce,mce=l6;function gce(t){return function(e){e=mce(e);var n=hce(e)?pce(e):void 0,r=n?n[0]:e.charAt(0),i=n?fce(n,1).join(""):e.slice(1);return r[t]()+i}}var yce=gce,vce=yce,xce=vce("toUpperCase"),bce=xce;const b0=Zt(bce);function tn(t){return function(){return t}}const w6=Math.cos,ov=Math.sin,Us=Math.sqrt,av=Math.PI,w0=2*av,jS=Math.PI,kS=2*jS,Il=1e-6,wce=kS-Il;function S6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return S6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?S6:Sce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=r-e,u=i-n,d=o-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Il)if(!(Math.abs(f*c-u*d)>Il)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,v=i-a,g=c*c+u*u,y=m*m+v*v,b=Math.sqrt(g),w=Math.sqrt(h),S=s*Math.tan((jS-Math.acos((g+h-y)/(2*b*w)))/2),A=S/w,E=S/b;Math.abs(A-1)>Il&&this._append`L${e+A*d},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Il||Math.abs(this._y1-d)>Il)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%kS+kS),h>wce?this._append`A${r},${r},0,1,${f},${e-a},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Il&&this._append`A${r},${r},0,${+(h>=jS)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ZC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ce(e)}function eA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _6(t){this._context=t}_6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function S0(t){return new _6(t)}function E6(t){return t[0]}function T6(t){return t[1]}function C6(t,e){var n=tn(!0),r=null,i=S0,s=null,o=ZC(a);t=typeof t=="function"?t:t===void 0?E6:tn(t),e=typeof e=="function"?e:e===void 0?T6:tn(e);function a(c){var u,d=(c=eA(c)).length,f,h=!1,m;for(r==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:tn(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:tn(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:tn(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),a):r},a}function ig(t,e,n){var r=null,i=tn(!0),s=null,o=S0,a=null,c=ZC(u);t=typeof t=="function"?t:t===void 0?E6:tn(+t),e=typeof e=="function"?e:tn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?T6:tn(+n);function u(f){var h,m,v,g=(f=eA(f)).length,y,b=!1,w,S=new Array(g),A=new Array(g);for(s==null&&(a=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===b)if(b=!b)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=m;--v)a.point(S[v],A[v]);a.lineEnd(),a.areaEnd()}b&&(S[h]=+t(y,h,f),A[h]=+e(y,h,f),a.point(r?+r(y,h,f):S[h],n?+n(y,h,f):A[h]))}if(w)return a=null,w+""||null}function d(){return C6().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:tn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:tn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:tn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:tn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:tn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:tn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:tn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),u):s},u}class A6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ece(t){return new A6(t,!0)}function Tce(t){return new A6(t,!1)}const tA={draw(t,e){const n=Us(e/av);t.moveTo(n,0),t.arc(0,0,n,0,w0)}},Cce={draw(t,e){const n=Us(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P6=Us(1/3),Ace=P6*2,Pce={draw(t,e){const n=Us(e/Ace),r=n*P6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nce={draw(t,e){const n=Us(e),r=-n/2;t.rect(r,r,n,n)}},jce=.8908130915292852,N6=ov(av/10)/ov(7*av/10),kce=ov(w0/10)*N6,Ice=-w6(w0/10)*N6,Oce={draw(t,e){const n=Us(e*jce),r=kce*n,i=Ice*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=w0*s/5,a=w6(o),c=ov(o);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},fw=Us(3),Rce={draw(t,e){const n=-Us(e/(fw*3));t.moveTo(0,n*2),t.lineTo(-fw*n,-n),t.lineTo(fw*n,-n),t.closePath()}},zi=-.5,Wi=Us(3)/2,IS=1/Us(12),Mce=(IS/2+1)*3,Dce={draw(t,e){const n=Us(e/Mce),r=n/2,i=n*IS,s=r,o=n*IS+n,a=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(zi*r-Wi*i,Wi*r+zi*i),t.lineTo(zi*s-Wi*o,Wi*s+zi*o),t.lineTo(zi*a-Wi*c,Wi*a+zi*c),t.lineTo(zi*r+Wi*i,zi*i-Wi*r),t.lineTo(zi*s+Wi*o,zi*o-Wi*s),t.lineTo(zi*a+Wi*c,zi*c-Wi*a),t.closePath()}};function Lce(t,e){let n=null,r=ZC(i);t=typeof t=="function"?t:tn(t||tA),e=typeof e=="function"?e:tn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:tn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:tn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function lv(){}function cv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function j6(t){this._context=t}j6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ce(t){return new j6(t)}function k6(t){this._context=t}k6.prototype={areaStart:lv,areaEnd:lv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fce(t){return new k6(t)}function I6(t){this._context=t}I6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vce(t){return new I6(t)}function O6(t){this._context=t}O6.prototype={areaStart:lv,areaEnd:lv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bce(t){return new O6(t)}function uk(t){return t<0?-1:1}function dk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(uk(s)+uk(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function fk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hw(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function uv(t){this._context=t}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hw(this,this._t0,fk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hw(this,fk(this,n=dk(this,t,e)),n);break;default:hw(this,this._t0,n=dk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R6(t){this._context=new M6(t)}(R6.prototype=Object.create(uv.prototype)).point=function(t,e){uv.prototype.point.call(this,e,t)};function M6(t){this._context=t}M6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Uce(t){return new uv(t)}function zce(t){return new R6(t)}function D6(t){this._context=t}D6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hk(t),i=hk(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hk(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Wce(t){return new D6(t)}function _0(t,e){this._context=t,this._t=e}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hce(t){return new _0(t,.5)}function qce(t){return new _0(t,0)}function Gce(t){return new _0(t,1)}function rd(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Kce(t,e){return t[e]}function Yce(t){const e=[];return e.key=t,e}function Xce(){var t=tn([]),e=OS,n=rd,r=Kce;function i(s){var o=Array.from(t.apply(this,arguments),Yce),a,c=o.length,u=-1,d;for(const f of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+r(f,o[a].key,u,s)]).data=f;for(a=0,d=eA(e(o));a<c;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:tn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?OS:typeof s=="function"?s:tn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??rd,i):n},i}function Qce(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}rd(t,e)}}function Jce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}rd(t,e)}}function Zce(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,c=0,u=0;a<o;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<a;++v){var g=t[e[v]],y=g[r][1]||0,b=g[r-1][1]||0;m+=y-b}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,rd(t,e)}}function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}var eue=["type","size","sizeType"];function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(this,arguments)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return Yh(e)=="symbol"?e:e+""}function rue(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iue(t,e){if(t==null)return{};var n=sue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var L6={symbolCircle:tA,symbolCross:Cce,symbolDiamond:Pce,symbolSquare:Nce,symbolStar:Oce,symbolTriangle:Rce,symbolWye:Dce},oue=Math.PI/180,aue=function(e){var n="symbol".concat(b0(e));return L6[n]||tA},lue=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*oue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cue=function(e,n){L6["symbol".concat(b0(e))]=n},nA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=iue(e,eue),u=mk(mk({},c),{},{type:r,size:s,sizeType:a}),d=function(){var y=aue(r),b=Lce().type(y).size(lue(s,a,r));return b()},f=u.className,h=u.cx,m=u.cy,v=Nt(u,!0);return h===+h&&m===+m&&s===+s?q.createElement("path",RS({},v,{className:At("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};nA.registerSymbol=cue;function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F6(r.key),r)}}function hue(t,e,n){return e&&fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=dv(e),mue(t,$6()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function mue(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(t)}function gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DS(t,e)}function Xh(t,e,n){return e=F6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F6(t){var e=vue(t,"string");return id(e)=="symbol"?e:e+""}function vue(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hi=32,rA=function(t){function e(){return due(this,e),pue(this,e,arguments)}return yue(e,t),hue(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Hi/2,o=Hi/6,a=Hi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Hi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Hi,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hi/8,"h").concat(Hi,"v").concat(Hi*3/4,"h").concat(-Hi,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var u=uue({},r);return delete u.legendIcon,q.cloneElement(r.legendIcon,u)}return q.createElement(nA,{fill:c,cx:s,cy:s,size:Hi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Hi,height:Hi},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var g=m.formatter||c,y=At(Xh(Xh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Et(m.value)?null:m.value;ec(!Et(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return q.createElement("li",MS({className:y,style:f,key:"legend-item-".concat(v)},sv(r.props,m,v)),q.createElement(CS,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,m,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(x.PureComponent);Xh(rA,"displayName","Legend");Xh(rA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xue=a0;function bue(){this.__data__=new xue,this.size=0}var wue=bue;function Sue(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _ue=Sue;function Eue(t){return this.__data__.get(t)}var Tue=Eue;function Cue(t){return this.__data__.has(t)}var Aue=Cue,Pue=a0,Nue=WC,jue=HC,kue=200;function Iue(t,e){var n=this.__data__;if(n instanceof Pue){var r=n.__data__;if(!Nue||r.length<kue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jue(r)}return n.set(t,e),this.size=n.size,this}var Oue=Iue,Rue=a0,Mue=wue,Due=_ue,Lue=Tue,$ue=Aue,Fue=Oue;function Kd(t){var e=this.__data__=new Rue(t);this.size=e.size}Kd.prototype.clear=Mue;Kd.prototype.delete=Due;Kd.prototype.get=Lue;Kd.prototype.has=$ue;Kd.prototype.set=Fue;var V6=Kd,Vue="__lodash_hash_undefined__";function Bue(t){return this.__data__.set(t,Vue),this}var Uue=Bue;function zue(t){return this.__data__.has(t)}var Wue=zue,Hue=HC,que=Uue,Gue=Wue;function fv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hue;++e<n;)this.add(t[e])}fv.prototype.add=fv.prototype.push=que;fv.prototype.has=Gue;var B6=fv;function Kue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var U6=Kue;function Yue(t,e){return t.has(e)}var z6=Yue,Xue=B6,Que=U6,Jue=z6,Zue=1,ede=2;function tde(t,e,n,r,i,s){var o=n&Zue,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&ede?new Xue:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],g=e[f];if(r)var y=o?r(g,v,f,e,t,s):r(v,g,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Que(e,function(b,w){if(!Jue(m,w)&&(v===b||i(v,b,n,r,s)))return m.push(w)})){h=!1;break}}else if(!(v===g||i(v,g,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var W6=tde,nde=_o,rde=nde.Uint8Array,ide=rde;function sde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var ode=sde;function ade(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var iA=ade,yk=nm,vk=ide,lde=zC,cde=W6,ude=ode,dde=iA,fde=1,hde=2,pde="[object Boolean]",mde="[object Date]",gde="[object Error]",yde="[object Map]",vde="[object Number]",xde="[object RegExp]",bde="[object Set]",wde="[object String]",Sde="[object Symbol]",_de="[object ArrayBuffer]",Ede="[object DataView]",xk=yk?yk.prototype:void 0,pw=xk?xk.valueOf:void 0;function Tde(t,e,n,r,i,s,o){switch(n){case Ede:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _de:return!(t.byteLength!=e.byteLength||!s(new vk(t),new vk(e)));case pde:case mde:case vde:return lde(+t,+e);case gde:return t.name==e.name&&t.message==e.message;case xde:case wde:return t==e+"";case yde:var a=ude;case bde:var c=r&fde;if(a||(a=dde),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=hde,o.set(t,e);var d=cde(a(t),a(e),r,i,s,o);return o.delete(t),d;case Sde:if(pw)return pw.call(t)==pw.call(e)}return!1}var Cde=Tde;function Ade(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var H6=Ade,Pde=H6,Nde=mi;function jde(t,e,n){var r=e(t);return Nde(t)?r:Pde(r,n(t))}var kde=jde;function Ide(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Ode=Ide;function Rde(){return[]}var Mde=Rde,Dde=Ode,Lde=Mde,$de=Object.prototype,Fde=$de.propertyIsEnumerable,bk=Object.getOwnPropertySymbols,Vde=bk?function(t){return t==null?[]:(t=Object(t),Dde(bk(t),function(e){return Fde.call(t,e)}))}:Lde,Bde=Vde;function Ude(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zde=Ude,Wde=fa,Hde=ha,qde="[object Arguments]";function Gde(t){return Hde(t)&&Wde(t)==qde}var Kde=Gde,wk=Kde,Yde=ha,q6=Object.prototype,Xde=q6.hasOwnProperty,Qde=q6.propertyIsEnumerable,Jde=wk(function(){return arguments}())?wk:function(t){return Yde(t)&&Xde.call(t,"callee")&&!Qde.call(t,"callee")},sA=Jde,hv={exports:{}};function Zde(){return!1}var efe=Zde;hv.exports;(function(t,e){var n=_o,r=efe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(hv,hv.exports);var G6=hv.exports,tfe=9007199254740991,nfe=/^(?:0|[1-9]\d*)$/;function rfe(t,e){var n=typeof t;return e=e??tfe,!!e&&(n=="number"||n!="symbol"&&nfe.test(t))&&t>-1&&t%1==0&&t<e}var oA=rfe,ife=9007199254740991;function sfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ife}var aA=sfe,ofe=fa,afe=aA,lfe=ha,cfe="[object Arguments]",ufe="[object Array]",dfe="[object Boolean]",ffe="[object Date]",hfe="[object Error]",pfe="[object Function]",mfe="[object Map]",gfe="[object Number]",yfe="[object Object]",vfe="[object RegExp]",xfe="[object Set]",bfe="[object String]",wfe="[object WeakMap]",Sfe="[object ArrayBuffer]",_fe="[object DataView]",Efe="[object Float32Array]",Tfe="[object Float64Array]",Cfe="[object Int8Array]",Afe="[object Int16Array]",Pfe="[object Int32Array]",Nfe="[object Uint8Array]",jfe="[object Uint8ClampedArray]",kfe="[object Uint16Array]",Ife="[object Uint32Array]",cn={};cn[Efe]=cn[Tfe]=cn[Cfe]=cn[Afe]=cn[Pfe]=cn[Nfe]=cn[jfe]=cn[kfe]=cn[Ife]=!0;cn[cfe]=cn[ufe]=cn[Sfe]=cn[dfe]=cn[_fe]=cn[ffe]=cn[hfe]=cn[pfe]=cn[mfe]=cn[gfe]=cn[yfe]=cn[vfe]=cn[xfe]=cn[bfe]=cn[wfe]=!1;function Ofe(t){return lfe(t)&&afe(t.length)&&!!cn[ofe(t)]}var Rfe=Ofe;function Mfe(t){return function(e){return t(e)}}var K6=Mfe,pv={exports:{}};pv.exports;(function(t,e){var n=n6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(pv,pv.exports);var Dfe=pv.exports,Lfe=Rfe,$fe=K6,Sk=Dfe,_k=Sk&&Sk.isTypedArray,Ffe=_k?$fe(_k):Lfe,Y6=Ffe,Vfe=zde,Bfe=sA,Ufe=mi,zfe=G6,Wfe=oA,Hfe=Y6,qfe=Object.prototype,Gfe=qfe.hasOwnProperty;function Kfe(t,e){var n=Ufe(t),r=!n&&Bfe(t),i=!n&&!r&&zfe(t),s=!n&&!r&&!i&&Hfe(t),o=n||r||i||s,a=o?Vfe(t.length,String):[],c=a.length;for(var u in t)(e||Gfe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wfe(u,c)))&&a.push(u);return a}var Yfe=Kfe,Xfe=Object.prototype;function Qfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xfe;return t===n}var Jfe=Qfe;function Zfe(t,e){return function(n){return t(e(n))}}var X6=Zfe,ehe=X6,the=ehe(Object.keys,Object),nhe=the,rhe=Jfe,ihe=nhe,she=Object.prototype,ohe=she.hasOwnProperty;function ahe(t){if(!rhe(t))return ihe(t);var e=[];for(var n in Object(t))ohe.call(t,n)&&n!="constructor"&&e.push(n);return e}var lhe=ahe,che=UC,uhe=aA;function dhe(t){return t!=null&&uhe(t.length)&&!che(t)}var E0=dhe,fhe=Yfe,hhe=lhe,phe=E0;function mhe(t){return phe(t)?fhe(t):hhe(t)}var lA=mhe,ghe=kde,yhe=Bde,vhe=lA;function xhe(t){return ghe(t,vhe,yhe)}var bhe=xhe,Ek=bhe,whe=1,She=Object.prototype,_he=She.hasOwnProperty;function Ehe(t,e,n,r,i,s){var o=n&whe,a=Ek(t),c=a.length,u=Ek(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=a[f];if(!(o?h in e:_he.call(e,h)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<c;){h=a[f];var b=t[h],w=e[h];if(r)var S=o?r(w,b,h,e,t,s):r(b,w,h,t,e,s);if(!(S===void 0?b===w||i(b,w,n,r,s):S)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(g=!1)}return s.delete(t),s.delete(e),g}var The=Ehe,Che=Nc,Ahe=_o,Phe=Che(Ahe,"DataView"),Nhe=Phe,jhe=Nc,khe=_o,Ihe=jhe(khe,"Promise"),Ohe=Ihe,Rhe=Nc,Mhe=_o,Dhe=Rhe(Mhe,"Set"),Q6=Dhe,Lhe=Nc,$he=_o,Fhe=Lhe($he,"WeakMap"),Vhe=Fhe,LS=Nhe,$S=WC,FS=Ohe,VS=Q6,BS=Vhe,J6=fa,Yd=i6,Tk="[object Map]",Bhe="[object Object]",Ck="[object Promise]",Ak="[object Set]",Pk="[object WeakMap]",Nk="[object DataView]",Uhe=Yd(LS),zhe=Yd($S),Whe=Yd(FS),Hhe=Yd(VS),qhe=Yd(BS),Ol=J6;(LS&&Ol(new LS(new ArrayBuffer(1)))!=Nk||$S&&Ol(new $S)!=Tk||FS&&Ol(FS.resolve())!=Ck||VS&&Ol(new VS)!=Ak||BS&&Ol(new BS)!=Pk)&&(Ol=function(t){var e=J6(t),n=e==Bhe?t.constructor:void 0,r=n?Yd(n):"";if(r)switch(r){case Uhe:return Nk;case zhe:return Tk;case Whe:return Ck;case Hhe:return Ak;case qhe:return Pk}return e});var Ghe=Ol,mw=V6,Khe=W6,Yhe=Cde,Xhe=The,jk=Ghe,kk=mi,Ik=G6,Qhe=Y6,Jhe=1,Ok="[object Arguments]",Rk="[object Array]",sg="[object Object]",Zhe=Object.prototype,Mk=Zhe.hasOwnProperty;function epe(t,e,n,r,i,s){var o=kk(t),a=kk(e),c=o?Rk:jk(t),u=a?Rk:jk(e);c=c==Ok?sg:c,u=u==Ok?sg:u;var d=c==sg,f=u==sg,h=c==u;if(h&&Ik(t)){if(!Ik(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new mw),o||Qhe(t)?Khe(t,e,n,r,i,s):Yhe(t,e,c,n,r,i,s);if(!(n&Jhe)){var m=d&&Mk.call(t,"__wrapped__"),v=f&&Mk.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,y=v?e.value():e;return s||(s=new mw),i(g,y,n,r,s)}}return h?(s||(s=new mw),Xhe(t,e,n,r,i,s)):!1}var tpe=epe,npe=tpe,Dk=ha;function Z6(t,e,n,r,i){return t===e?!0:t==null||e==null||!Dk(t)&&!Dk(e)?t!==t&&e!==e:npe(t,e,n,r,Z6,i)}var cA=Z6,rpe=V6,ipe=cA,spe=1,ope=2;function ape(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var c=a[0],u=t[c],d=a[1];if(o&&a[2]){if(u===void 0&&!(c in t))return!1}else{var f=new rpe;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?ipe(d,u,spe|ope,r,f):h))return!1}}return!0}var lpe=ape,cpe=xl;function upe(t){return t===t&&!cpe(t)}var eB=upe,dpe=eB,fpe=lA;function hpe(t){for(var e=fpe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dpe(i)]}return e}var ppe=hpe;function mpe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tB=mpe,gpe=lpe,ype=ppe,vpe=tB;function xpe(t){var e=ype(t);return e.length==1&&e[0][2]?vpe(e[0][0],e[0][1]):function(n){return n===t||gpe(n,t,e)}}var bpe=xpe;function wpe(t,e){return t!=null&&e in Object(t)}var Spe=wpe,_pe=c6,Epe=sA,Tpe=mi,Cpe=oA,Ape=aA,Ppe=c0;function Npe(t,e,n){e=_pe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Ppe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Ape(i)&&Cpe(o,i)&&(Tpe(t)||Epe(t)))}var jpe=Npe,kpe=Spe,Ipe=jpe;function Ope(t,e){return t!=null&&Ipe(t,e,kpe)}var Rpe=Ope,Mpe=cA,Dpe=u6,Lpe=Rpe,$pe=BC,Fpe=eB,Vpe=tB,Bpe=c0,Upe=1,zpe=2;function Wpe(t,e){return $pe(t)&&Fpe(e)?Vpe(Bpe(t),e):function(n){var r=Dpe(n,t);return r===void 0&&r===e?Lpe(n,t):Mpe(e,r,Upe|zpe)}}var Hpe=Wpe;function qpe(t){return t}var Xd=qpe;function Gpe(t){return function(e){return e==null?void 0:e[t]}}var Kpe=Gpe,Ype=KC;function Xpe(t){return function(e){return Ype(e,t)}}var Qpe=Xpe,Jpe=Kpe,Zpe=Qpe,eme=BC,tme=c0;function nme(t){return eme(t)?Jpe(tme(t)):Zpe(t)}var rme=nme,ime=bpe,sme=Hpe,ome=Xd,ame=mi,lme=rme;function cme(t){return typeof t=="function"?t:t==null?ome:typeof t=="object"?ame(t)?sme(t[0],t[1]):ime(t):lme(t)}var Qd=cme;function ume(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var dme=ume;function fme(t){return t!==t}var hme=fme;function pme(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var mme=pme,gme=dme,yme=hme,vme=mme;function xme(t,e,n){return e===e?vme(t,e,n):gme(t,yme,n)}var bme=xme,wme=bme;function Sme(t,e){var n=t==null?0:t.length;return!!n&&wme(t,e,0)>-1}var _me=Sme;function Eme(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Tme=Eme;function Cme(){}var Ame=Cme,gw=Q6,Pme=Ame,Nme=iA,jme=1/0,kme=gw&&1/Nme(new gw([,-0]))[1]==jme?function(t){return new gw(t)}:Pme,Ime=kme,Ome=B6,Rme=_me,Mme=Tme,Dme=z6,Lme=Ime,$me=iA,Fme=200;function Vme(t,e,n){var r=-1,i=Rme,s=t.length,o=!0,a=[],c=a;if(n)o=!1,i=Mme;else if(s>=Fme){var u=e?null:Lme(t);if(u)return $me(u);o=!1,i=Dme,c=new Ome}else c=e?[]:a;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),a.push(d)}else i(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var Bme=Vme,Ume=Qd,zme=Bme;function Wme(t,e){return t&&t.length?zme(t,Ume(e)):[]}var Hme=Wme;const Lk=Zt(Hme);function nB(t,e,n){return e===!0?Lk(t,n):Et(e)?Lk(t,e):t}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var qme=["ref"];function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iB(r.key),r)}}function Kme(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,n){return e=mv(e),Xme(t,rB()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},US(t,e)}function T0(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=Zme(t,"string");return sd(e)=="symbol"?e:e+""}function Zme(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t,e){if(t==null)return{};var n=tge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nge(t){return t.value}function rge(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=ege(e,qme);return q.createElement(rA,n)}var Vk=1,Tu=function(t){function e(){var n;Gme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yme(this,e,[].concat(i)),T0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Jme(e,t),Kme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Vk||Math.abs(i.height-this.lastBoundingBox.height)>Vk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?jo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return jo(jo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=jo(jo({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},rge(s,jo(jo({},this.props),{},{payload:nB(d,u,nge)})))}}],[{key:"getWithHeight",value:function(r,i){var s=jo(jo({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);T0(Tu,"displayName","Legend");T0(Tu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bk=nm,ige=sA,sge=mi,Uk=Bk?Bk.isConcatSpreadable:void 0;function oge(t){return sge(t)||ige(t)||!!(Uk&&t&&t[Uk])}var age=oge,lge=H6,cge=age;function sB(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=cge),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?sB(a,e-1,n,r,i):lge(i,a):r||(i[i.length]=a)}return i}var oB=sB;function uge(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(n(s[c],c,s)===!1)break}return e}}var dge=uge,fge=dge,hge=fge(),pge=hge,mge=pge,gge=lA;function yge(t,e){return t&&mge(t,e,gge)}var aB=yge,vge=E0;function xge(t,e){return function(n,r){if(n==null)return n;if(!vge(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var bge=xge,wge=aB,Sge=bge,_ge=Sge(wge),uA=_ge,Ege=uA,Tge=E0;function Cge(t,e){var n=-1,r=Tge(t)?Array(t.length):[];return Ege(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var lB=Cge;function Age(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Pge=Age,zk=zd;function Nge(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=zk(t),o=e!==void 0,a=e===null,c=e===e,u=zk(e);if(!a&&!u&&!s&&t>e||s&&o&&c&&!a&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!c)return-1}return 0}var jge=Nge,kge=jge;function Ige(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var c=kge(i[r],s[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Oge=Ige,yw=GC,Rge=KC,Mge=Qd,Dge=lB,Lge=Pge,$ge=K6,Fge=Oge,Vge=Xd,Bge=mi;function Uge(t,e,n){e.length?e=yw(e,function(s){return Bge(s)?function(o){return Rge(o,s.length===1?s[0]:s)}:s}):e=[Vge];var r=-1;e=yw(e,$ge(Mge));var i=Dge(t,function(s,o,a){var c=yw(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return Lge(i,function(s,o){return Fge(s,o,n)})}var zge=Uge;function Wge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Hge=Wge,qge=Hge,Wk=Math.max;function Gge(t,e,n){return e=Wk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Wk(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),qge(t,this,a)}}var Kge=Gge;function Yge(t){return function(){return t}}var Xge=Yge,Qge=Nc,Jge=function(){try{var t=Qge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cB=Jge,Zge=Xge,Hk=cB,eye=Xd,tye=Hk?function(t,e){return Hk(t,"toString",{configurable:!0,enumerable:!1,value:Zge(e),writable:!0})}:eye,nye=tye,rye=800,iye=16,sye=Date.now;function oye(t){var e=0,n=0;return function(){var r=sye(),i=iye-(r-n);if(n=r,i>0){if(++e>=rye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aye=oye,lye=nye,cye=aye,uye=cye(lye),dye=uye,fye=Xd,hye=Kge,pye=dye;function mye(t,e){return pye(hye(t,e,fye),t+"")}var gye=mye,yye=zC,vye=E0,xye=oA,bye=xl;function wye(t,e,n){if(!bye(n))return!1;var r=typeof e;return(r=="number"?vye(n)&&xye(e,n.length):r=="string"&&e in n)?yye(n[e],t):!1}var C0=wye,Sye=oB,_ye=zge,Eye=gye,qk=C0,Tye=Eye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&qk(t,e[0],e[1])?e=[]:n>2&&qk(e[0],e[1],e[2])&&(e=[e[0]]),_ye(t,Sye(e,1),[])}),Cye=Tye;const dA=Zt(Cye);function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function Aye(t,e){return kye(t)||jye(t,e)||Nye(t,e)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kye(t){if(Array.isArray(t))return t}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iye(t,e,n){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=Rye(t,"string");return Qh(e)=="symbol"?e:e+""}function Rye(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mye(t){return Array.isArray(t)&&nr(t[0])&&nr(t[1])?t.join(" ~ "):t}var Dye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,y=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,S=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?dA(d,h):d).map(function(F,B){if(F.type==="none")return null;var U=vw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),W=F.formatter||f||Mye,$=F.value,z=F.name,re=$,se=z;if(W&&re!=null&&se!=null){var Q=W($,z,F,B,d);if(Array.isArray(Q)){var ge=Aye(Q,2);re=ge[0],se=ge[1]}else re=Q}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},nr(se)?q.createElement("span",{className:"recharts-tooltip-item-name"},se):null,nr(se)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},re),q.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},A=vw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=vw({margin:0},u),N=!wt(g),_=N?g:"",T=At("recharts-default-tooltip",m),P=At("recharts-tooltip-label",v);N&&y&&d!==void 0&&d!==null&&(_=y(g,d));var I=w?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",zS({className:T,style:A},I),q.createElement("p",{className:P,style:E},q.isValidElement(_)?_:"".concat(_)),S())};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function og(t,e,n){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lye(t){var e=$ye(t,"string");return Jh(e)=="symbol"?e:e+""}function $ye(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wf="recharts-tooltip-wrapper",Fye={visibility:"hidden"};function Vye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return At(wf,og(og(og(og({},"".concat(wf,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(wf,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(wf,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(wf,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function Yk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ke(s[r]))return s[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+a,g=c[r]+u;return v>g?Math.max(d,c[r]):Math.max(f,c[r])}function Bye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Uye(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=Yk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Yk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Bye({translateX:d,translateY:f,useTranslate3d:a})):u=Fye,{cssProperties:u,cssClasses:Vye({translateX:d,translateY:f,coordinate:n})}}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){HS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function Hye(t,e,n){return e&&Wye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qye(t,e,n){return e=gv(e),Gye(t,uB()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Gye(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kye(t)}function Kye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uB=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function Yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function HS(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=Xye(t,"string");return od(e)=="symbol"?e:e+""}function Xye(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jk=1,Qye=function(t){function e(){var n;zye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=qye(this,e,[].concat(i)),HS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Yye(e,t),Hye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Jk||Math.abs(r.height-this.state.lastBoundingBox.height)>Jk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,S=Uye({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),A=S.cssClasses,E=S.cssProperties,N=Qk(Qk({transition:h&&s?"transform ".concat(a,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return q.createElement("div",{tabIndex:-1,className:A,style:N,ref:function(T){r.wrapperNode=T}},u)}}])}(x.PureComponent),Jye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qo={isSsr:Jye(),get:function(e){return qo[e]},set:function(e,n){if(typeof e=="string")qo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){qo[i]=e[i]})}}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){fA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hB(r.key),r)}}function tve(t,e,n){return e&&eve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nve(t,e,n){return e=yv(e),rve(t,fB()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function rve(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ive(t)}function ive(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qS(t,e)}function fA(t,e,n){return e=hB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hB(t){var e=ove(t,"string");return ad(e)=="symbol"?e:e+""}function ove(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ave(t){return t.dataKey}function lve(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(Dye,e)}var Xs=function(t){function e(){return Zye(this,e),nve(this,e,arguments)}return sve(e,t),tve(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,y=i.position,b=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,E=v??[];f&&E.length&&(E=nB(v.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,ave));var N=E.length>0;return q.createElement(Qye,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:b,useTranslate3d:w,viewBox:S,wrapperStyle:A},lve(u,eI(eI({},this.props),{},{payload:E})))}}])}(x.PureComponent);fA(Xs,"displayName","Tooltip");fA(Xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cve=_o,uve=function(){return cve.Date.now()},dve=uve,fve=/\s/;function hve(t){for(var e=t.length;e--&&fve.test(t.charAt(e)););return e}var pve=hve,mve=pve,gve=/^\s+/;function yve(t){return t&&t.slice(0,mve(t)+1).replace(gve,"")}var vve=yve,xve=vve,tI=xl,bve=zd,nI=NaN,wve=/^[-+]0x[0-9a-f]+$/i,Sve=/^0b[01]+$/i,_ve=/^0o[0-7]+$/i,Eve=parseInt;function Tve(t){if(typeof t=="number")return t;if(bve(t))return nI;if(tI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xve(t);var n=Sve.test(t);return n||_ve.test(t)?Eve(t.slice(2),n?2:8):wve.test(t)?nI:+t}var pB=Tve,Cve=xl,xw=dve,rI=pB,Ave="Expected a function",Pve=Math.max,Nve=Math.min;function jve(t,e,n){var r,i,s,o,a,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Ave);e=rI(e)||0,Cve(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Pve(rI(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(N){var _=r,T=i;return r=i=void 0,u=N,o=t.apply(T,_),o}function v(N){return u=N,a=setTimeout(b,e),d?m(N):o}function g(N){var _=N-c,T=N-u,P=e-_;return f?Nve(P,s-T):P}function y(N){var _=N-c,T=N-u;return c===void 0||_>=e||_<0||f&&T>=s}function b(){var N=xw();if(y(N))return w(N);a=setTimeout(b,g(N))}function w(N){return a=void 0,h&&r?m(N):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function A(){return a===void 0?o:w(xw())}function E(){var N=xw(),_=y(N);if(r=arguments,i=this,c=N,_){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(b,e),m(c)}return a===void 0&&(a=setTimeout(b,e)),o}return E.cancel=S,E.flush=A,E}var kve=jve,Ive=kve,Ove=xl,Rve="Expected a function";function Mve(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Rve);return Ove(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ive(t,e,{leading:r,maxWait:e,trailing:i})}var Dve=Mve;const mB=Zt(Dve);function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return e=$ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=Fve(t,"string");return Zh(e)=="symbol"?e:e+""}function Fve(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vve(t,e){return Wve(t)||zve(t,e)||Uve(t,e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uve(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Wve(t){if(Array.isArray(t))return t}var Hve=x.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,y=t.id,b=t.className,w=t.onResize,S=t.style,A=S===void 0?{}:S,E=x.useRef(null),N=x.useRef();N.current=w,x.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=x.useState({containerWidth:i.width,containerHeight:i.height}),T=Vve(_,2),P=T[0],I=T[1],j=x.useCallback(function(R,F){I(function(B){var U=Math.round(R),W=Math.round(F);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);x.useEffect(function(){var R=function(z){var re,se=z[0].contentRect,Q=se.width,ge=se.height;j(Q,ge),(re=N.current)===null||re===void 0||re.call(N,Q,ge)};g>0&&(R=mB(R,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),B=E.current.getBoundingClientRect(),U=B.width,W=B.height;return j(U,W),F.observe(E.current),function(){F.disconnect()}},[j,g]);var O=x.useMemo(function(){var R=P.containerWidth,F=P.containerHeight;if(R<0||F<0)return null;ec(Ul(o)||Ul(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ul(o)?R:o,U=Ul(c)?F:c;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),ec(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,c,d,f,n);var W=!Array.isArray(m)&&Ho(m.type).endsWith("Chart");return q.Children.map(m,function($){return q.isValidElement($)?x.cloneElement($,ag({width:B,height:U},W?{style:ag({height:"100%",width:"100%",maxHeight:U,maxWidth:B},$.props.style)}:{})):$})},[n,m,c,h,f,d,P,o]);return q.createElement("div",{id:y?"".concat(y):void 0,className:At("recharts-responsive-container",b),style:ag(ag({},A),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),gB=function(e){return null};gB.displayName="Cell";function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Gve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Kve(t,"string");return ep(e)=="symbol"?e:e+""}function Kve(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fc={widthCache:{},cacheCount:0},Yve=2e3,Xve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aI="recharts_measurement_span";function Qve(t){var e=GS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var lh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qo.isSsr)return{width:0,height:0};var r=Qve(n),i=JSON.stringify({text:e,copyStyle:r});if(Fc.widthCache[i])return Fc.widthCache[i];try{var s=document.getElementById(aI);s||(s=document.createElement("span"),s.setAttribute("id",aI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=GS(GS({},Xve),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return Fc.widthCache[i]=c,++Fc.cacheCount>Yve&&(Fc.cacheCount=0,Fc.widthCache={}),c}catch{return{width:0,height:0}}},Jve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function vv(t,e){return nxe(t)||txe(t,e)||exe(t,e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function txe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nxe(t){if(Array.isArray(t))return t}function rxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sxe(r.key),r)}}function ixe(t,e,n){return e&&cI(t.prototype,e),n&&cI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sxe(t){var e=oxe(t,"string");return tp(e)=="symbol"?e:e+""}function oxe(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,axe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cxe=Object.keys(yB),au="NaN";function uxe(t,e){return t*yB[e]}var lg=function(){function t(e,n){rxe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!axe.test(n)&&(this.num=NaN,this.unit=""),cxe.includes(n)&&(this.num=uxe(e,n),this.unit="px")}return ixe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lxe.exec(n))!==null&&r!==void 0?r:[],s=vv(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function vB(t){if(t.includes(au))return au;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=uI.exec(e))!==null&&n!==void 0?n:[],i=vv(r,4),s=i[1],o=i[2],a=i[3],c=lg.parse(s??""),u=lg.parse(a??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return au;e=e.replace(uI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=dI.exec(e))!==null&&f!==void 0?f:[],m=vv(h,4),v=m[1],g=m[2],y=m[3],b=lg.parse(v??""),w=lg.parse(y??""),S=g==="+"?b.add(w):b.subtract(w);if(S.isNaN())return au;e=e.replace(dI,S.toString())}return e}var fI=/\(([^()]*)\)/;function dxe(t){for(var e=t;e.includes("(");){var n=fI.exec(e),r=vv(n,2),i=r[1];e=e.replace(fI,vB(i))}return e}function fxe(t){var e=t.replace(/\s+/g,"");return e=dxe(e),e=vB(e),e}function hxe(t){try{return fxe(t)}catch{return au}}function bw(t){var e=hxe(t.slice(5,-1));return e===au?"":e}var pxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mxe=["dx","dy","angle","className","breakAll"];function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function hI(t,e){if(t==null)return{};var n=gxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pI(t,e){return bxe(t)||xxe(t,e)||vxe(t,e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function bxe(t){if(Array.isArray(t))return t}var xB=/[ \f\n\r\t\v\u2028\u2029]+/,bB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];wt(n)||(r?s=n.toString().split(""):s=n.toString().split(xB));var o=s.map(function(c){return{word:c,width:lh(c,i).width}}),a=r?0:lh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},wxe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,d=ke(o),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var $=W.word,z=W.width,re=U[U.length-1];if(re&&(i==null||s||re.width+z+r<Number(i)))re.words.push($),re.width+=z+r;else{var se={words:[$],width:z};U.push(se)}return U},[])},m=h(n),v=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return m;for(var g="",y=function(B){var U=f.slice(0,B),W=bB({breakAll:u,style:c,children:U+g}).wordsWithComputedWidth,$=h(W),z=$.length>o||v($).width>Number(i);return[z,$]},b=0,w=f.length-1,S=0,A;b<=w&&S<=f.length-1;){var E=Math.floor((b+w)/2),N=E-1,_=y(N),T=pI(_,2),P=T[0],I=T[1],j=y(E),O=pI(j,1),R=O[0];if(!P&&!R&&(b=E+1),P&&R&&(w=E-1),!P&&R){A=I;break}S++}return A||m},gI=function(e){var n=wt(e)?[]:e.toString().split(xB);return[{words:n}]},Sxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!qo.isSsr){var c,u,d=bB({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return gI(i);return wxe({breakAll:o,children:i,maxLines:a,style:s},c,u,n,r)}return gI(i)},yI="#808080",xv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,y=e.fill,b=y===void 0?yI:y,w=hI(e,pxe),S=x.useMemo(function(){return Sxe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,E=w.dy,N=w.angle,_=w.className,T=w.breakAll,P=hI(w,mxe);if(!nr(r)||!nr(s))return null;var I=r+(ke(A)?A:0),j=s+(ke(E)?E:0),O;switch(g){case"start":O=bw("calc(".concat(u,")"));break;case"middle":O=bw("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:O=bw("calc(".concat(S.length-1," * -").concat(a,")"));break}var R=[];if(f){var F=S[0].width,B=w.width;R.push("scale(".concat((ke(B)?B/F:1)/F,")"))}return N&&R.push("rotate(".concat(N,", ").concat(I,", ").concat(j,")")),R.length&&(P.transform=R.join(" ")),q.createElement("text",KS({},Nt(P,!0),{x:I,y:j,className:At("recharts-text",_),textAnchor:m,fill:b.includes("url")?yI:b}),S.map(function(U,W){var $=U.words.join(T?"":" ");return q.createElement("tspan",{x:I,dy:W===0?O:a,key:"".concat($,"-").concat(W)},$)}))};function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _xe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hA(t){let e,n,r;t.length!==2?(e=tl,n=(a,c)=>tl(t(a),c),r=(a,c)=>t(a)-c):(e=t===tl||t===_xe?t:Exe,n=t,r=t);function i(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(a,c,u=0,d=a.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(a[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(a,c,u=0,d=a.length){const f=i(a,c,u,d-1);return f>u&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:i,center:o,right:s}}function Exe(){return 0}function wB(t){return t===null?NaN:+t}function*Txe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cxe=hA(tl),sm=Cxe.right;hA(wB).center;class vI extends Map{constructor(e,n=Nxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xI(this,e))}has(e){return super.has(xI(this,e))}set(e,n){return super.set(Axe(this,e),n)}delete(e){return super.delete(Pxe(this,e))}}function xI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Axe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Pxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Nxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jxe(t=tl){if(t===tl)return SB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kxe=Math.sqrt(50),Ixe=Math.sqrt(10),Oxe=Math.sqrt(2);function bv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=kxe?10:s>=Ixe?5:s>=Oxe?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?bv(t,e,n*2):[a,c,u]}function YS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?bv(e,t,n):bv(t,e,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function XS(t,e,n){return e=+e,t=+t,n=+n,bv(t,e,n)[2]}function QS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?XS(e,t,n):XS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function bI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _B(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SB:jxe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));_B(t,e,m,v,i)}const s=t[e];let o=n,a=r;for(Sf(t,n,e),i(t[r],s)>0&&Sf(t,n,r);o<a;){for(Sf(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Sf(t,n,a):(++a,Sf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Sf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rxe(t,e,n){if(t=Float64Array.from(Txe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wI(t);if(e>=1)return bI(t);var r,i=(r-1)*e,s=Math.floor(i),o=bI(_B(t,s).subarray(0,s+1)),a=wI(t.subarray(s+1));return o+(a-o)*(i-s)}}function Mxe(t,e,n=wB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Dxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const JS=Symbol("implicit");function pA(){var t=new vI,e=[],n=[],r=JS;function i(s){let o=t.get(s);if(o===void 0){if(r!==JS)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new vI;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return pA(e,n).unknown(r)},us.apply(i,arguments),i}function np(){var t=pA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,g=m?r:i;s=(g-v)/Math.max(1,h-c+u*2),a&&(s=Math.floor(s)),v+=(g-v-s*(h-c))*d,o=s*(1-c),a&&(v=Math.round(v),o=Math.round(o));var y=Dxe(h).map(function(b){return v+s*b});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return np(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(d)},us.apply(f(),arguments)}function EB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EB(e())},t}function ch(){return EB(np.apply(null,arguments).paddingInner(1))}function mA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function om(){}var rp=.7,wv=1/rp,Cu="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lxe=/^#([0-9a-f]{3,8})$/,$xe=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),Fxe=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),Vxe=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${ip}\\)$`),Bxe=new RegExp(`^rgba\\(${po},${po},${po},${ip}\\)$`),Uxe=new RegExp(`^hsl\\(${ip},${po},${po}\\)$`),zxe=new RegExp(`^hsla\\(${ip},${po},${po},${ip}\\)$`),SI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mA(om,sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_I,formatHex:_I,formatHex8:Wxe,formatHsl:Hxe,formatRgb:EI,toString:EI});function _I(){return this.rgb().formatHex()}function Wxe(){return this.rgb().formatHex8()}function Hxe(){return CB(this).formatHsl()}function EI(){return this.rgb().formatRgb()}function sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TI(e):n===3?new di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$xe.exec(t))?new di(e[1],e[2],e[3],1):(e=Fxe.exec(t))?new di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vxe.exec(t))?cg(e[1],e[2],e[3],e[4]):(e=Bxe.exec(t))?cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uxe.exec(t))?PI(e[1],e[2]/100,e[3]/100,1):(e=zxe.exec(t))?PI(e[1],e[2]/100,e[3]/100,e[4]):SI.hasOwnProperty(t)?TI(SI[t]):t==="transparent"?new di(NaN,NaN,NaN,0):null}function TI(t){return new di(t>>16&255,t>>8&255,t&255,1)}function cg(t,e,n,r){return r<=0&&(t=e=n=NaN),new di(t,e,n,r)}function qxe(t){return t instanceof om||(t=sp(t)),t?(t=t.rgb(),new di(t.r,t.g,t.b,t.opacity)):new di}function ZS(t,e,n,r){return arguments.length===1?qxe(t):new di(t,e,n,r??1)}function di(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mA(di,ZS,TB(om,{brighter(t){return t=t==null?wv:Math.pow(wv,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rp:Math.pow(rp,t),new di(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new di(tc(this.r),tc(this.g),tc(this.b),Sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CI,formatHex:CI,formatHex8:Gxe,formatRgb:AI,toString:AI}));function CI(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function Gxe(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function AI(){const t=Sv(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function Sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function PI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ps(t,e,n,r)}function CB(t){if(t instanceof Ps)return new Ps(t.h,t.s,t.l,t.opacity);if(t instanceof om||(t=sp(t)),!t)return new Ps;if(t instanceof Ps)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Ps(o,a,c,t.opacity)}function Kxe(t,e,n,r){return arguments.length===1?CB(t):new Ps(t,e,n,r??1)}function Ps(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mA(Ps,Kxe,TB(om,{brighter(t){return t=t==null?wv:Math.pow(wv,t),new Ps(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rp:Math.pow(rp,t),new Ps(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new di(ww(t>=240?t-240:t+120,i,r),ww(t,i,r),ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ps(NI(this.h),ug(this.s),ug(this.l),Sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sv(this.opacity);return`${t===1?"hsl(":"hsla("}${NI(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NI(t){return t=(t||0)%360,t<0?t+360:t}function ug(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gA=t=>()=>t;function Yxe(t,e){return function(n){return t+n*e}}function Xxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qxe(t){return(t=+t)==1?AB:function(e,n){return n-e?Xxe(e,n,t):gA(isNaN(e)?n:e)}}function AB(t,e){var n=e-t;return n?Yxe(t,n):gA(isNaN(t)?e:t)}const jI=function t(e){var n=Qxe(e);function r(i,s){var o=n((i=ZS(i)).r,(s=ZS(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=AB(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Jxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Zxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function e0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Jd(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function t0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _v(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var e_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sw=new RegExp(e_.source,"g");function r0e(t){return function(){return t}}function i0e(t){return function(e){return t(e)+""}}function s0e(t,e){var n=e_.lastIndex=Sw.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=e_.exec(t))&&(i=Sw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:_v(r,i)})),n=Sw.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?i0e(c[0].x):r0e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}function Jd(t,e){var n=typeof e,r;return e==null||n==="boolean"?gA(e):(n==="number"?_v:n==="string"?(r=sp(e))?(e=r,jI):s0e:e instanceof sp?jI:e instanceof Date?t0e:Zxe(e)?Jxe:Array.isArray(e)?e0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n0e:_v)(t,e)}function yA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function o0e(t,e){e===void 0&&(e=t,t=Jd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function a0e(t){return function(){return t}}function Ev(t){return+t}var kI=[0,1];function Qr(t){return t}function t_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:a0e(isNaN(e)?NaN:.5)}function l0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function c0e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=t_(i,r),s=n(o,s)):(r=t_(r,i),s=n(s,o)),function(a){return s(r(a))}}function u0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=t_(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=sm(t,a,1,r)-1;return s[c](i[c](a))}}function am(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function A0(){var t=kI,e=kI,n=Jd,r,i,s,o=Qr,a,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Qr&&(o=l0e(t[0],t[h-1])),a=h>2?u0e:c0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),_v)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ev),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=yA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qr,d()):o!==Qr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,i=m,d()}}function vA(){return A0()(Qr,Qr)}function d0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ld(t){return t=Tv(Math.abs(t)),t?t[1]:NaN}function f0e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function h0e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var p0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function op(t){if(!(e=p0e.exec(t)))throw new Error("invalid format: "+t);var e;return new xA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}op.prototype=xA.prototype;function xA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PB;function g0e(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(PB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Tv(t,Math.max(0,e+s-1))[0]}function II(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>II(t*100,e),r:II,s:g0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function RI(t){return t}var MI=Array.prototype.map,DI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y0e(t){var e=t.grouping===void 0||t.thousands===void 0?RI:f0e(MI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?RI:h0e(MI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=op(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,b=f.width,w=f.comma,S=f.precision,A=f.trim,E=f.type;E==="n"?(w=!0,E="g"):OI[E]||(S===void 0&&(S=12),A=!0,E="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",_=g==="$"?r:/[%p]/.test(E)?o:"",T=OI[E],P=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(j){var O=N,R=_,F,B,U;if(E==="c")R=T(j)+R,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?c:T(Math.abs(j),S),A&&(j=m0e(j)),W&&+j==0&&v!=="+"&&(W=!1),O=(W?v==="("?v:a:v==="-"||v==="("?"":v)+O,R=(E==="s"?DI[8+PB/3]:"")+R+(W&&v==="("?")":""),P){for(F=-1,B=j.length;++F<B;)if(U=j.charCodeAt(F),48>U||U>57){R=(U===46?i+j.slice(F+1):j.slice(F))+R,j=j.slice(0,F);break}}}w&&!y&&(j=e(j,1/0));var $=O.length+j.length+R.length,z=$<b?new Array(b-$+1).join(h):"";switch(w&&y&&(j=e(z+j,z.length?b-R.length:1/0),z=""),m){case"<":j=O+j+R+z;break;case"=":j=O+z+j+R;break;case"^":j=z.slice(0,$=z.length>>1)+O+j+R+z.slice($);break;default:j=z+O+j+R;break}return s(j)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=op(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ld(h)/3)))*3,g=Math.pow(10,-v),y=DI[8+v/3];return function(b){return m(g*b)+y}}return{format:u,formatPrefix:d}}var dg,bA,NB;v0e({thousands:",",grouping:[3],currency:["$",""]});function v0e(t){return dg=y0e(t),bA=dg.format,NB=dg.formatPrefix,dg}function x0e(t){return Math.max(0,-ld(Math.abs(t)))}function b0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ld(e)/3)))*3-ld(Math.abs(t)))}function w0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ld(e)-ld(t))+1}function jB(t,e,n,r){var i=QS(t,e,n),s;switch(r=op(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=b0e(i,o))&&(r.precision=s),NB(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=w0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=x0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return bA(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return YS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],c,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=XS(o,a,n),u===c)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Cv(){var t=vA();return t.copy=function(){return am(t,Cv())},us.apply(t,arguments),bl(t)}function kB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ev),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return kB(t).unknown(e)},t=arguments.length?Array.from(t,Ev):[0,1],bl(n)}function IB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function LI(t){return Math.log(t)}function $I(t){return Math.exp(t)}function S0e(t){return-Math.log(-t)}function _0e(t){return-Math.exp(-t)}function E0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T0e(t){return t===10?E0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function C0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FI(t){return(e,n)=>-t(-e,n)}function wA(t){const e=t(LI,$I),n=e.domain;let r=10,i,s;function o(){return i=C0e(r),s=T0e(r),n()[0]<0?(i=FI(i),s=FI(s),t(S0e,_0e)):t(LI,$I),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,g;const y=a==null?10:+a;let b=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/s(-h):v*s(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<y&&(b=YS(u,d,y))}else b=YS(h,m,Math.min(m-h,y)).map(s);return f?b.reverse():b},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=op(c)).precision==null&&(c.trim=!0),c=bA(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(IB(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function OB(){const t=wA(A0()).domain([1,10]);return t.copy=()=>am(t,OB()).base(t.base()),us.apply(t,arguments),t}function VI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function SA(t){var e=1,n=t(VI(e),BI(e));return n.constant=function(r){return arguments.length?t(VI(e=+r),BI(e)):e},bl(n)}function RB(){var t=SA(A0());return t.copy=function(){return am(t,RB()).constant(t.constant())},us.apply(t,arguments)}function UI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function A0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P0e(t){return t<0?-t*t:t*t}function _A(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(A0e,P0e):t(UI(n),UI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function EA(){var t=_A(A0());return t.copy=function(){return am(t,EA()).exponent(t.exponent())},us.apply(t,arguments),t}function N0e(){return EA.apply(null,arguments).exponent(.5)}function zI(t){return Math.sign(t)*t*t}function j0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MB(){var t=vA(),e=[0,1],n=!1,r;function i(s){var o=j0e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(zI(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ev)).map(zI)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return MB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},us.apply(i,arguments),bl(i)}function DB(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Mxe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[sm(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(tl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return DB().domain(t).range(e).unknown(r)},us.apply(s,arguments)}function LB(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[sm(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LB().domain([t,e]).range(i).unknown(s)},us.apply(bl(o),arguments)}function $B(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[sm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $B().domain(t).range(e).unknown(n)},us.apply(i,arguments)}const _w=new Date,Ew=new Date;function ir(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>ir(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(_w.setTime(+s),Ew.setTime(+o),t(_w),t(Ew),Math.floor(n(_w,Ew))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Av=ir(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ir(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Av);Av.range;const Bo=1e3,Ji=Bo*60,Uo=Ji*60,ia=Uo*24,TA=ia*7,WI=ia*30,Tw=ia*365,Wl=ir(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());Wl.range;const CA=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getMinutes());CA.range;const AA=ir(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCMinutes());AA.range;const PA=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*Ji)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getHours());PA.range;const NA=ir(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCHours());NA.range;const lm=ir(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ji)/ia,t=>t.getDate()-1);lm.range;const P0=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);P0.range;const FB=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));FB.range;function jc(t){return ir(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ji)/TA)}const N0=jc(0),Pv=jc(1),k0e=jc(2),I0e=jc(3),cd=jc(4),O0e=jc(5),R0e=jc(6);N0.range;Pv.range;k0e.range;I0e.range;cd.range;O0e.range;R0e.range;function kc(t){return ir(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TA)}const j0=kc(0),Nv=kc(1),M0e=kc(2),D0e=kc(3),ud=kc(4),L0e=kc(5),$0e=kc(6);j0.range;Nv.range;M0e.range;D0e.range;ud.range;L0e.range;$0e.range;const jA=ir(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jA.range;const kA=ir(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kA.range;const sa=ir(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});sa.range;const oa=ir(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function VB(t,e,n,r,i,s){const o=[[Wl,1,Bo],[Wl,5,5*Bo],[Wl,15,15*Bo],[Wl,30,30*Bo],[s,1,Ji],[s,5,5*Ji],[s,15,15*Ji],[s,30,30*Ji],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[r,1,ia],[r,2,2*ia],[n,1,TA],[e,1,WI],[e,3,3*WI],[t,1,Tw]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=hA(([,,y])=>y).right(o,h);if(m===o.length)return t.every(QS(u/Tw,d/Tw,f));if(m===0)return Av.every(Math.max(QS(u,d,f),1));const[v,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(g)}return[a,c]}const[F0e,V0e]=VB(oa,kA,j0,FB,NA,AA),[B0e,U0e]=VB(sa,jA,N0,lm,PA,CA);function Cw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function z0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=Ef(i),d=Tf(i),f=Ef(s),h=Tf(s),m=Ef(o),v=Tf(o),g=Ef(a),y=Tf(a),b=Ef(c),w=Tf(c),S={a:W,A:$,b:z,B:re,c:null,d:XI,e:XI,f:fbe,g:Sbe,G:Ebe,H:cbe,I:ube,j:dbe,L:BB,m:hbe,M:pbe,p:se,q:Q,Q:ZI,s:eO,S:mbe,u:gbe,U:ybe,V:vbe,w:xbe,W:bbe,x:null,X:null,y:wbe,Y:_be,Z:Tbe,"%":JI},A={a:ge,A:pe,b:Ee,B:tt,c:null,d:QI,e:QI,f:Nbe,g:Fbe,G:Bbe,H:Cbe,I:Abe,j:Pbe,L:zB,m:jbe,M:kbe,p:xe,q:Ne,Q:ZI,s:eO,S:Ibe,u:Obe,U:Rbe,V:Mbe,w:Dbe,W:Lbe,x:null,X:null,y:$be,Y:Vbe,Z:Ube,"%":JI},E={a:I,A:j,b:O,B:R,c:F,d:KI,e:KI,f:sbe,g:GI,G:qI,H:YI,I:YI,j:tbe,L:ibe,m:ebe,M:nbe,p:P,q:Z0e,Q:abe,s:lbe,S:rbe,u:K0e,U:Y0e,V:X0e,w:G0e,W:Q0e,x:B,X:U,y:GI,Y:qI,Z:J0e,"%":obe};S.x=N(n,S),S.X=N(r,S),S.c=N(e,S),A.x=N(n,A),A.X=N(r,A),A.c=N(e,A);function N(le,de){return function(Y){var V=[],we=-1,_e=0,nt=le.length,Ye,rt,gt;for(Y instanceof Date||(Y=new Date(+Y));++we<nt;)le.charCodeAt(we)===37&&(V.push(le.slice(_e,we)),(rt=HI[Ye=le.charAt(++we)])!=null?Ye=le.charAt(++we):rt=Ye==="e"?" ":"0",(gt=de[Ye])&&(Ye=gt(Y,rt)),V.push(Ye),_e=we+1);return V.push(le.slice(_e,we)),V.join("")}}function _(le,de){return function(Y){var V=_f(1900,void 0,1),we=T(V,le,Y+="",0),_e,nt;if(we!=Y.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(de&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(_e=Aw(_f(V.y,0,1)),nt=_e.getUTCDay(),_e=nt>4||nt===0?Nv.ceil(_e):Nv(_e),_e=P0.offset(_e,(V.V-1)*7),V.y=_e.getUTCFullYear(),V.m=_e.getUTCMonth(),V.d=_e.getUTCDate()+(V.w+6)%7):(_e=Cw(_f(V.y,0,1)),nt=_e.getDay(),_e=nt>4||nt===0?Pv.ceil(_e):Pv(_e),_e=lm.offset(_e,(V.V-1)*7),V.y=_e.getFullYear(),V.m=_e.getMonth(),V.d=_e.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),nt="Z"in V?Aw(_f(V.y,0,1)).getUTCDay():Cw(_f(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(nt+5)%7:V.w+V.U*7-(nt+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Aw(V)):Cw(V)}}function T(le,de,Y,V){for(var we=0,_e=de.length,nt=Y.length,Ye,rt;we<_e;){if(V>=nt)return-1;if(Ye=de.charCodeAt(we++),Ye===37){if(Ye=de.charAt(we++),rt=E[Ye in HI?de.charAt(we++):Ye],!rt||(V=rt(le,Y,V))<0)return-1}else if(Ye!=Y.charCodeAt(V++))return-1}return V}function P(le,de,Y){var V=u.exec(de.slice(Y));return V?(le.p=d.get(V[0].toLowerCase()),Y+V[0].length):-1}function I(le,de,Y){var V=m.exec(de.slice(Y));return V?(le.w=v.get(V[0].toLowerCase()),Y+V[0].length):-1}function j(le,de,Y){var V=f.exec(de.slice(Y));return V?(le.w=h.get(V[0].toLowerCase()),Y+V[0].length):-1}function O(le,de,Y){var V=b.exec(de.slice(Y));return V?(le.m=w.get(V[0].toLowerCase()),Y+V[0].length):-1}function R(le,de,Y){var V=g.exec(de.slice(Y));return V?(le.m=y.get(V[0].toLowerCase()),Y+V[0].length):-1}function F(le,de,Y){return T(le,e,de,Y)}function B(le,de,Y){return T(le,n,de,Y)}function U(le,de,Y){return T(le,r,de,Y)}function W(le){return o[le.getDay()]}function $(le){return s[le.getDay()]}function z(le){return c[le.getMonth()]}function re(le){return a[le.getMonth()]}function se(le){return i[+(le.getHours()>=12)]}function Q(le){return 1+~~(le.getMonth()/3)}function ge(le){return o[le.getUTCDay()]}function pe(le){return s[le.getUTCDay()]}function Ee(le){return c[le.getUTCMonth()]}function tt(le){return a[le.getUTCMonth()]}function xe(le){return i[+(le.getUTCHours()>=12)]}function Ne(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var de=N(le+="",S);return de.toString=function(){return le},de},parse:function(le){var de=_(le+="",!1);return de.toString=function(){return le},de},utcFormat:function(le){var de=N(le+="",A);return de.toString=function(){return le},de},utcParse:function(le){var de=_(le+="",!0);return de.toString=function(){return le},de}}}var HI={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,W0e=/^%/,H0e=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function q0e(t){return t.replace(H0e,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(q0e).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function G0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function K0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Y0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function X0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Q0e(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function qI(t,e,n){var r=gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z0e(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ebe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tbe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YI(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nbe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rbe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ibe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sbe(t,e,n){var r=gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function obe(t,e,n){var r=W0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function abe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lbe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XI(t,e){return Ot(t.getDate(),e,2)}function cbe(t,e){return Ot(t.getHours(),e,2)}function ube(t,e){return Ot(t.getHours()%12||12,e,2)}function dbe(t,e){return Ot(1+lm.count(sa(t),t),e,3)}function BB(t,e){return Ot(t.getMilliseconds(),e,3)}function fbe(t,e){return BB(t,e)+"000"}function hbe(t,e){return Ot(t.getMonth()+1,e,2)}function pbe(t,e){return Ot(t.getMinutes(),e,2)}function mbe(t,e){return Ot(t.getSeconds(),e,2)}function gbe(t){var e=t.getDay();return e===0?7:e}function ybe(t,e){return Ot(N0.count(sa(t)-1,t),e,2)}function UB(t){var e=t.getDay();return e>=4||e===0?cd(t):cd.ceil(t)}function vbe(t,e){return t=UB(t),Ot(cd.count(sa(t),t)+(sa(t).getDay()===4),e,2)}function xbe(t){return t.getDay()}function bbe(t,e){return Ot(Pv.count(sa(t)-1,t),e,2)}function wbe(t,e){return Ot(t.getFullYear()%100,e,2)}function Sbe(t,e){return t=UB(t),Ot(t.getFullYear()%100,e,2)}function _be(t,e){return Ot(t.getFullYear()%1e4,e,4)}function Ebe(t,e){var n=t.getDay();return t=n>=4||n===0?cd(t):cd.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function Tbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function QI(t,e){return Ot(t.getUTCDate(),e,2)}function Cbe(t,e){return Ot(t.getUTCHours(),e,2)}function Abe(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function Pbe(t,e){return Ot(1+P0.count(oa(t),t),e,3)}function zB(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function Nbe(t,e){return zB(t,e)+"000"}function jbe(t,e){return Ot(t.getUTCMonth()+1,e,2)}function kbe(t,e){return Ot(t.getUTCMinutes(),e,2)}function Ibe(t,e){return Ot(t.getUTCSeconds(),e,2)}function Obe(t){var e=t.getUTCDay();return e===0?7:e}function Rbe(t,e){return Ot(j0.count(oa(t)-1,t),e,2)}function WB(t){var e=t.getUTCDay();return e>=4||e===0?ud(t):ud.ceil(t)}function Mbe(t,e){return t=WB(t),Ot(ud.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function Dbe(t){return t.getUTCDay()}function Lbe(t,e){return Ot(Nv.count(oa(t)-1,t),e,2)}function $be(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function Fbe(t,e){return t=WB(t),Ot(t.getUTCFullYear()%100,e,2)}function Vbe(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function Bbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ud(t):ud.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function Ube(){return"+0000"}function JI(){return"%"}function ZI(t){return+t}function eO(t){return Math.floor(+t/1e3)}var Vc,HB,qB;zbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zbe(t){return Vc=z0e(t),HB=Vc.format,Vc.parse,qB=Vc.utcFormat,Vc.utcParse,Vc}function Wbe(t){return new Date(t)}function Hbe(t){return t instanceof Date?+t:+new Date(+t)}function IA(t,e,n,r,i,s,o,a,c,u){var d=vA(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),w=u("%b %d"),S=u("%B"),A=u("%Y");function E(N){return(c(N)<N?m:a(N)<N?v:o(N)<N?g:s(N)<N?y:r(N)<N?i(N)<N?b:w:n(N)<N?S:A)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Hbe)):h().map(Wbe)},d.ticks=function(N){var _=h();return t(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?E:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=e(_[0],_[_.length-1],N??10)),N?h(IB(_,N)):d},d.copy=function(){return am(d,IA(t,e,n,r,i,s,o,a,c,u))},d}function qbe(){return us.apply(IA(B0e,U0e,sa,jA,N0,lm,PA,CA,Wl,HB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gbe(){return us.apply(IA(F0e,V0e,oa,kA,j0,P0,NA,AA,Wl,qB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k0(){var t=0,e=1,n,r,i,s,o=Qr,a=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Jd),u.rangeRound=d(yA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function GB(){var t=bl(k0()(Qr));return t.copy=function(){return wl(t,GB())},pa.apply(t,arguments)}function KB(){var t=wA(k0()).domain([1,10]);return t.copy=function(){return wl(t,KB()).base(t.base())},pa.apply(t,arguments)}function YB(){var t=SA(k0());return t.copy=function(){return wl(t,YB()).constant(t.constant())},pa.apply(t,arguments)}function OA(){var t=_A(k0());return t.copy=function(){return wl(t,OA()).exponent(t.exponent())},pa.apply(t,arguments)}function Kbe(){return OA.apply(null,arguments).exponent(.5)}function XB(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((sm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Rxe(t,s/r))},n.copy=function(){return XB(e).domain(t)},pa.apply(n,arguments)}function I0(){var t=0,e=.5,n=1,r=1,i,s,o,a,c,u=Qr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(r*g<r*s?a:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),s=d(e=+e),o=d(n=+n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var b,w,S;return arguments.length?([b,w,S]=y,u=o0e(g,[b,w,S]),m):[u(0),u(.5),u(1)]}}return m.range=v(Jd),m.rangeRound=v(yA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),s=g(e),o=g(n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,m}}function QB(){var t=bl(I0()(Qr));return t.copy=function(){return wl(t,QB())},pa.apply(t,arguments)}function JB(){var t=wA(I0()).domain([.1,1,10]);return t.copy=function(){return wl(t,JB()).base(t.base())},pa.apply(t,arguments)}function ZB(){var t=SA(I0());return t.copy=function(){return wl(t,ZB()).constant(t.constant())},pa.apply(t,arguments)}function RA(){var t=_A(I0());return t.copy=function(){return wl(t,RA()).exponent(t.exponent())},pa.apply(t,arguments)}function Ybe(){return RA.apply(null,arguments).exponent(.5)}const tO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:np,scaleDiverging:QB,scaleDivergingLog:JB,scaleDivergingPow:RA,scaleDivergingSqrt:Ybe,scaleDivergingSymlog:ZB,scaleIdentity:kB,scaleImplicit:JS,scaleLinear:Cv,scaleLog:OB,scaleOrdinal:pA,scalePoint:ch,scalePow:EA,scaleQuantile:DB,scaleQuantize:LB,scaleRadial:MB,scaleSequential:GB,scaleSequentialLog:KB,scaleSequentialPow:OA,scaleSequentialQuantile:XB,scaleSequentialSqrt:Kbe,scaleSequentialSymlog:YB,scaleSqrt:N0e,scaleSymlog:RB,scaleThreshold:$B,scaleTime:qbe,scaleUtc:Gbe,tickFormat:jB},Symbol.toStringTag,{value:"Module"}));var Xbe=zd;function Qbe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Xbe(o):n(o,a)))var a=o,c=s}return c}var eU=Qbe;function Jbe(t,e){return t>e}var Zbe=Jbe,ewe=eU,twe=Zbe,nwe=Xd;function rwe(t){return t&&t.length?ewe(t,nwe,twe):void 0}var iwe=rwe;const O0=Zt(iwe);function swe(t,e){return t<e}var owe=swe,awe=eU,lwe=owe,cwe=Xd;function uwe(t){return t&&t.length?awe(t,cwe,lwe):void 0}var dwe=uwe;const R0=Zt(dwe);var fwe=GC,hwe=Qd,pwe=lB,mwe=mi;function gwe(t,e){var n=mwe(t)?fwe:pwe;return n(t,hwe(e))}var ywe=gwe,vwe=oB,xwe=ywe;function bwe(t,e){return vwe(xwe(t,e),1)}var wwe=bwe;const Swe=Zt(wwe);var _we=cA;function Ewe(t,e){return _we(t,e)}var Twe=Ewe;const M0=Zt(Twe);var Zd=1e9,Cwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DA,gn=!0,os="[DecimalError] ",nc=os+"Invalid argument: ",MA=os+"Exponent out of range: ",ef=Math.floor,Rl=Math.pow,Awe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ki,ur=1e7,un=7,tU=9007199254740991,jv=ef(tU/un),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*un;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(t){return Go(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,n=e.constructor;return Jt(Go(e,new n(t),0,1),n.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return Wn(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ki))throw Error(os+"NaN");if(n.s<1)throw Error(os+(n.s?"NaN":"-Infinity"));return n.eq(ki)?new r(0):(gn=!1,e=Go(ap(n,s),ap(t,s),s),gn=!0,Jt(e,i))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iU(e,t):nU(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(os+"NaN");return n.s?(gn=!1,e=Go(n,t,0,1).times(t),gn=!0,n.minus(e)):Jt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return rU(this)};$e.naturalLogarithm=$e.ln=function(){return ap(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nU(e,t):iU(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=Wn(i)+1,r=i.d.length-1,n=r*un+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$e.squareRoot=$e.sqrt=function(){var t,e,n,r,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(os+"NaN")}for(t=Wn(a),gn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ro(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ef((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Go(a,s,o+2)).times(.5),ro(s.d).slice(0,o)===(e=ro(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Jt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return gn=!0,Jt(r,n)};$e.times=$e.mul=function(t){var e,n,r,i,s,o,a,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+m[r]*h[i-r-1]+e,s[i--]=a%ur|0,e=a/ur|0;s[i]=(s[i]+e)%ur|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,gn?Jt(t,f.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,Zd),e===void 0?e=r.rounding:bo(e,0,8),Jt(n,t+Wn(n)+1,e))};$e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xc(r,!0):(bo(t,0,Zd),e===void 0?e=i.rounding:bo(e,0,8),r=Jt(new i(r),t+1,e),n=xc(r,!0,t+1)),n};$e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?xc(i):(bo(t,0,Zd),e===void 0?e=s.rounding:bo(e,0,8),r=Jt(new s(i),t+Wn(i)+1,e),n=xc(r.abs(),!1,t+Wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return Jt(new e(t),Wn(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ki);if(a=new c(a),!a.s){if(t.s<1)throw Error(os+"Infinity");return a}if(a.eq(ki))return a;if(r=c.precision,t.eq(ki))return Jt(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=d<0?-d:d)<=tU){for(i=new c(ki),e=Math.ceil(r/un+4),gn=!1;n%2&&(i=i.times(a),rO(i.d,e)),n=ef(n/2),n!==0;)a=a.times(a),rO(a.d,e);return gn=!0,t.s<0?new c(ki).div(i):Jt(i,r)}}else if(s<0)throw Error(os+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,gn=!1,i=t.times(ap(a,r+u)),gn=!0,i=rU(i),i.s=s,i};$e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Wn(i),r=xc(i,n<=s.toExpNeg||n>=s.toExpPos)):(bo(t,1,Zd),e===void 0?e=s.rounding:bo(e,0,8),i=Jt(new s(i),t,e),n=Wn(i),r=xc(i,t<=n||n<=s.toExpNeg,t)),r};$e.toSignificantDigits=$e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,Zd),e===void 0?e=r.rounding:bo(e,0,8)),Jt(new r(n),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wn(t),n=t.constructor;return xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function nU(t,e){var n,r,i,s,o,a,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),gn?Jt(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,a=u.length):(r=u,i=o,a=c.length),o=Math.ceil(f/un),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ur|0,c[s]%=ur;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,gn?Jt(e,f):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function ro(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=un-r.length,n&&(s+=Pa(n)),s+=r;o=t[e],r=o+"",n=un-r.length,n&&(s+=Pa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Go=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%ur|0,o=s/ur|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ur+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,c,u,d,f,h,m,v,g,y,b,w,S,A,E,N,_,T,P=r.constructor,I=r.s==i.s?1:-1,j=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(os+"Division by zero");for(c=r.e-i.e,_=O.length,E=j.length,m=new P(I),v=m.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--c,s==null?w=s=P.precision:o?w=s+(Wn(r)-Wn(i))+1:w=s,w<0)return new P(0);if(w=w/un+2|0,u=0,_==1)for(d=0,O=O[0],w++;(u<E||d)&&w--;u++)S=d*ur+(j[u]||0),v[u]=S/O|0,d=S%O|0;else{for(d=ur/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),_=O.length,E=j.length),A=_,g=j.slice(0,_),y=g.length;y<_;)g[y++]=0;T=O.slice(),T.unshift(0),N=O[0],O[1]>=ur/2&&++N;do d=0,a=e(O,g,_,y),a<0?(b=g[0],_!=y&&(b=b*ur+(g[1]||0)),d=b/N|0,d>1?(d>=ur&&(d=ur-1),f=t(O,d),h=f.length,y=g.length,a=e(f,g,h,y),a==1&&(d--,n(f,_<h?T:O,h))):(d==0&&(a=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),a==-1&&(y=g.length,a=e(O,g,_,y),a<1&&(d++,n(g,_<y?T:O,y))),y=g.length):a===0&&(d++,g=[0]),v[u++]=d,a&&g[0]?g[y++]=j[A]||0:(g=[j[A]],y=1);while((A++<E||g[0]!==void 0)&&w--)}return v[0]||v.shift(),m.e=c,Jt(m,o?s+Wn(m)+1:s)}}();function rU(t,e){var n,r,i,s,o,a,c=0,u=0,d=t.constructor,f=d.precision;if(Wn(t)>16)throw Error(MA+Wn(t));if(!t.s)return new d(ki);for(e==null?(gn=!1,a=f):a=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Rl(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new d(ki),d.precision=a;;){if(i=Jt(i.times(t),a),n=n.times(++c),o=s.plus(Go(i,n,a)),ro(o.d).slice(0,a)===ro(s.d).slice(0,a)){for(;u--;)s=Jt(s.times(s),a);return d.precision=f,e==null?(gn=!0,Jt(s,f)):s}s=o}}function Wn(t){for(var e=t.e*un,n=t.d[0];n>=10;n/=10)e++;return e}function Pw(t,e,n){if(e>t.LN10.sd())throw gn=!0,n&&(t.precision=n),Error(os+"LN10 precision limit exceeded");return Jt(new t(t.LN10),e)}function Pa(t){for(var e="";t--;)e+="0";return e}function ap(t,e){var n,r,i,s,o,a,c,u,d,f=1,h=10,m=t,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(os+(m.s?"NaN":"-Infinity"));if(m.eq(ki))return new g(0);if(e==null?(gn=!1,u=y):u=e,m.eq(10))return e==null&&(gn=!0),Pw(g,u);if(u+=h,g.precision=u,n=ro(v),r=n.charAt(0),s=Wn(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ro(m.d),r=n.charAt(0),f++;s=Wn(m),r>1?(m=new g("0."+n),s++):m=new g(r+"."+n.slice(1))}else return c=Pw(g,u+2,y).times(s+""),m=ap(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=y,e==null?(gn=!0,Jt(m,y)):m;for(a=o=m=Go(m.minus(ki),m.plus(ki),u),d=Jt(m.times(m),u),i=3;;){if(o=Jt(o.times(d),u),c=a.plus(Go(o,new g(i),u)),ro(c.d).slice(0,u)===ro(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(Pw(g,u+2,y).times(s+""))),a=Go(a,new g(f),u),g.precision=y,e==null?(gn=!0,Jt(a,y)):a;a=c,i+=2}}function nO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ef(n/un),t.d=[],r=(n+1)%un,n<0&&(r+=un),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=un;r<i;)t.d.push(+e.slice(r,r+=un));e=e.slice(r),r=un-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),gn&&(t.e>jv||t.e<-jv))throw Error(MA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Jt(t,e,n){var r,i,s,o,a,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=un,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/un),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=un,i=r-un+o}if(n!==void 0&&(s=Rl(10,o-i-1),a=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/Rl(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Wn(t),f.length=1,e=e-s-1,f[0]=Rl(10,(un-e%un)%un),t.e=ef(-e/un)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Rl(10,un-r),f[d]=i>0?(u/Rl(10,o-i)%Rl(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ur&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ur)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(gn&&(t.e>jv||t.e<-jv))throw Error(MA+Wn(t));return t}function iU(t,e){var n,r,i,s,o,a,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),gn?Jt(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,a=f.length):(n=f,r=u,a=c.length),i=Math.max(Math.ceil(m/un),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),a=c.length,i=f.length-a;i>0;--i)c[a++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ur-1;--c[s],c[i]+=ur}c[i]-=f[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,gn?Jt(e,m):e):new h(0)}function xc(t,e,n){var r,i=Wn(t),s=ro(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Pa(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Pa(-i-1)+s,n&&(r=n-o)>0&&(s+=Pa(r))):i>=o?(s+=Pa(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Pa(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Pa(r))),t.s<0?"-"+s:s}function rO(t,e){if(t.length>e)return t.length=e,!0}function sU(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return nO(o,s.toString())}else if(typeof s!="string")throw Error(nc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Awe.test(s))nO(o,s);else throw Error(nc+s)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sU,i.config=i.set=Pwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Pwe(t){if(!t||typeof t!="object")throw Error(os+"Object expected");var e,n,r,i=["precision",1,Zd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ef(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var DA=sU(Cwe);ki=new DA(1);const Wt=DA;function Nwe(t){return Owe(t)||Iwe(t)||kwe(t)||jwe()}function jwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kwe(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function Iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Owe(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rwe=function(e){return e},oU={"@@functional/placeholder":!0},aU=function(e){return e===oU},iO=function(e){return function n(){return arguments.length===0||arguments.length===1&&aU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Mwe=function t(e,n){return e===1?n:iO(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==oU}).length;return o>=e?n.apply(void 0,i):t(e-o,iO(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var d=i.map(function(f){return aU(f)?c.shift():f});return n.apply(void 0,Nwe(d).concat(c))}))})},D0=function(e){return Mwe(e.length,e)},r_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Dwe=D0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Lwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Rwe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},i_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,c){return a===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function $we(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function Fwe(t,e,n){for(var r=new Wt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Vwe=D0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Bwe=D0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Uwe=D0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const L0={rangeStep:Fwe,getDigitCount:$we,interpolateNumber:Vwe,uninterpolateNumber:Bwe,uninterpolateTruncation:Uwe};function s_(t){return Hwe(t)||Wwe(t)||cU(t)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hwe(t){if(Array.isArray(t))return o_(t)}function lp(t,e){return Kwe(t)||Gwe(t,e)||cU(t,e)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Kwe(t){if(Array.isArray(t))return t}function uU(t){var e=lp(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function dU(t,e,n){if(t.lte(0))return new Wt(0);var r=L0.getDigitCount(t.toNumber()),i=new Wt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Wt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=a.mul(i);return e?c:new Wt(Math.ceil(c))}function Ywe(t,e,n){var r=1,i=new Wt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Wt(10).pow(L0.getDigitCount(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var o=Math.floor((e-1)/2),a=Lwe(Dwe(function(c){return i.add(new Wt(c-o).mul(r)).toNumber()}),r_);return a(0,e)}function fU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var s=dU(new Wt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Wt(0):(o=new Wt(t).add(e).div(2),o=o.sub(new Wt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Wt(e).sub(o).div(s).toNumber()),u=a+c+1;return u>n?fU(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new Wt(a).mul(s)),tickMax:o.add(new Wt(c).mul(s))})}function Xwe(t){var e=lp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=uU([n,r]),c=lp(a,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(s_(r_(0,i-1).map(function(){return 1/0}))):[].concat(s_(r_(0,i-1).map(function(){return-1/0})),[d]);return n>r?i_(f):f}if(u===d)return Ywe(u,i,s);var h=fU(u,d,o,s),m=h.step,v=h.tickMin,g=h.tickMax,y=L0.rangeStep(v,g.add(new Wt(.1).mul(m)),m);return n>r?i_(y):y}function Qwe(t,e){var n=lp(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=uU([r,i]),a=lp(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=dU(new Wt(u).sub(c).div(d-1),s,0),h=[].concat(s_(L0.rangeStep(new Wt(c),new Wt(u).sub(new Wt(.99).mul(f)),f)),[u]);return r>i?i_(h):h}var Jwe=lU(Xwe),Zwe=lU(Qwe),e1e="Invariant failed";function bc(t,e){throw new Error(e1e)}var t1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}function n1e(t,e){return o1e(t)||s1e(t,e)||i1e(t,e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(t,e){if(t){if(typeof t=="string")return sO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function o1e(t){if(Array.isArray(t))return t}function a1e(t,e){if(t==null)return{};var n=l1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function d1e(t,e,n){return e&&u1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1e(t,e,n){return e=Iv(e),h1e(t,hU()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function h1e(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(t)}function p1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function pU(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=g1e(t,"string");return dd(e)=="symbol"?e:e+""}function g1e(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm=function(t){function e(){return c1e(this,e),f1e(this,e,arguments)}return m1e(e,t),d1e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=a1e(r,t1e),m=Nt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bc();var v=c.map(function(g){var y=u(g,a),b=y.x,w=y.y,S=y.value,A=y.errorVal;if(!A)return null;var E=[],N,_;if(Array.isArray(A)){var T=n1e(A,2);N=T[0],_=T[1]}else N=_=A;if(s==="vertical"){var P=d.scale,I=w+i,j=I+o,O=I-o,R=P(S-N),F=P(S+_);E.push({x1:F,y1:j,x2:F,y2:O}),E.push({x1:R,y1:I,x2:F,y2:I}),E.push({x1:R,y1:j,x2:R,y2:O})}else if(s==="horizontal"){var B=f.scale,U=b+i,W=U-o,$=U+o,z=B(S-N),re=B(S+_);E.push({x1:W,y1:re,x2:$,y2:re}),E.push({x1:U,y1:z,x2:U,y2:re}),E.push({x1:W,y1:z,x2:$,y2:z})}return q.createElement(Ln,kv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},m),E.map(function(se){return q.createElement("line",kv({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return q.createElement(Ln,{className:"recharts-errorBars"},v)}}])}(q.Component);pU(cm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pU(cm,"displayName","ErrorBar");function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=x1e(t,"string");return cp(e)=="symbol"?e:e+""}function x1e(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gU=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ci(n,Tu);if(!o)return null;var a=Tu.defaultProps,c=a!==void 0?Al(Al({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Al(Al({},h),f.props):{},v=m.dataKey,g=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||y||"square",color:LA(f),value:g||v,payload:m}}),Al(Al(Al({},c),Tu.getWithHeight(o,i)),{},{payload:u,item:o})};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function aO(t){return _1e(t)||S1e(t)||w1e(t)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function S1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _1e(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Au(t,e,n){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1e(t){var e=T1e(t,"string");return up(e)=="symbol"?e:e+""}function T1e(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Di(t,e,n){return wt(t)||wt(e)?n:nr(e)?ts(t,e,n):Et(e)?e(t):n}function uh(t,e,n,r){var i=Swe(t,function(a){return Di(a,e)});if(n==="number"){var s=i.filter(function(a){return ke(a)||parseFloat(a)});return s.length?[R0(s),O0(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!wt(a)}):i;return o.map(function(a){return nr(a)||a instanceof Date?a:""})}var C1e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Is(f-d)!==Is(h-f)){var v=[];if(Is(h-f)===Is(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},LA=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},A1e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var d=s[a[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,y=v.cateAxisId,b=g.filter(function(_){return Ho(_.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,S=w!==void 0?jn(jn({},w),b[0].props):b[0].props,A=S.barSize,E=S[y];o[E]||(o[E]=[]);var N=wt(A)?n:A;o[E].push({item:b[0],stackList:b.slice(1),barSize:wt(N)?void 0:vc(N,r,0)})}}return o},P1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=vc(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,v=o.reduce(function(A,E){return A+E.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=c*m);var g=(i-v)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(A,E){var N={item:E.item,position:{offset:y.offset+y.size+u,size:h?m:E.barSize}},_=[].concat(aO(A),[N]);return y=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:y})}),_},f)}else{var b=vc(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var S=a===+a?Math.min(w,a):w;d=o.reduce(function(A,E,N){var _=[].concat(aO(A),[{item:E.item,position:{offset:b+(w+u)*N+(w-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},f)}return d},N1e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,c=o-(a.left||0)-(a.right||0),u=gU({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&ke(e[m]))return jn(jn({},e),{},Au({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&ke(e[v]))return jn(jn({},e),{},Au({},v,e[v]+(h||0)))}return e},j1e=function(e,n,r){return wt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yU=function(e,n,r,i,s){var o=n.props.children,a=ns(o,cm).filter(function(u){return j1e(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Di(d,r);if(wt(f))return u;var h=Array.isArray(f)?[R0(f),O0(f)]:[f,f],m=c.reduce(function(v,g){var y=Di(d,g,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},k1e=function(e,n,r,i,s){var o=n.map(function(a){return yU(e,a,r,s,i)}).filter(function(a){return!wt(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},vU=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&yU(e,c,u,i)||uh(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,c.push(u[d]));return c},[])},xU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Hl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Is(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!rm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Nw=new WeakMap,fg=function(e,n){if(typeof n!="function")return e;Nw.has(e)||Nw.set(e,new WeakMap);var r=Nw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},I1e=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:np(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Cv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ch(),realScaleType:"point"}:s==="category"?{scale:np(),realScaleType:"band"}:{scale:Cv(),realScaleType:"linear"};if(yc(i)){var c="scale".concat(b0(i));return{scale:(tO[c]||ch)(),realScaleType:tO[c]?c:"point"}}return Et(i)?{scale:i}:{scale:ch(),realScaleType:"point"}},cO=1e-4,O1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-cO,o=Math.max(i[0],i[1])+cO,a=e(n[0]),c=e(n[r-1]);(a<s||a>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},R1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},M1e=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(s[0]=r),(!ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},D1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var c=rm(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1])}},L1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=rm(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},$1e={sign:D1e,expand:Qce,none:rd,silhouette:Jce,wiggle:Zce,positive:L1e},F1e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=$1e[r],o=Xce().keys(i).value(function(a,c){return+Di(a,c,0)}).order(OS).offset(s);return o(e)},V1e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,c={},u=a.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?jn(jn({},h.type.defaultProps),h.props):h.props,g=v.stackId,y=v.hide;if(y)return f;var b=v[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(nr(g)){var S=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[im("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return jn(jn({},f),{},Au({},b,w))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var b=m.stackGroups[y];return jn(jn({},g),{},Au({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:F1e(e,b.items,s)}))},v)}return jn(jn({},f),{},Au({},h,m))},d)},B1e=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Jwe(u,s,a);return e.domain([R0(d),O0(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=Zwe(f,s,a);return{niceTicks:h}}return null};function uO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wt(i[e.dataKey])){var a=rv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Di(i,wt(o)?e.dataKey:o);return wt(c)?null:e.scale(c)}var dO=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=Di(o,n.dataKey,n.domain[a]);return wt(c)?null:n.scale(c)-s/2+i},U1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},z1e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(nr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},W1e=function(e){return e.reduce(function(n,r){return[R0(r.concat([n[0]]).filter(ke)),O0(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},bU=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,d){var f=W1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c_=function(e,n,r){if(Et(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(fO.test(e[0])){var s=+fO.exec(e[0])[1];i[0]=n[0]-s}else Et(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(hO.test(e[1])){var o=+hO.exec(e[1])[1];i[1]=n[1]+o}else Et(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ov=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=dA(n,function(f){return f.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],d=s[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},pO=function(e,n,r){return!e||!e.length||M0(e,ts(r,"type.defaultProps.domain"))?n:e},wU=function(e,n){var r=e.type.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return jn(jn({},Nt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:LA(e),value:Di(n,i),type:c,payload:n,chartType:u,hide:d})};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){H1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e,n){return e=q1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q1e(t){var e=G1e(t,"string");return dp(e)=="symbol"?e:e+""}function G1e(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rv=Math.PI/180,K1e=function(e){return e*180/Math.PI},Tr=function(e,n,r,i){return{x:e+Math.cos(-Rv*i)*r,y:n+Math.sin(-Rv*i)*r}},Y1e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},X1e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=Y1e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(r-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:K1e(u),angleInRadian:u}},Q1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},J1e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},yO=function(e,n){var r=e.x,i=e.y,s=X1e({x:r,y:i},n),o=s.radius,a=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Q1e(n),f=d.startAngle,h=d.endAngle,m=a,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?gO(gO({},n),{},{radius:o,angle:J1e(m,n)}):null};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var Z1e=["offset"];function eSe(t){return iSe(t)||rSe(t)||nSe(t)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iSe(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sSe(t,e){if(t==null)return{};var n=oSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return fp(e)=="symbol"?e:e+""}function cSe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}var uSe=function(e){var n=e.value,r=e.formatter,i=wt(e.children)?n:e.children;return Et(r)?r(i):i},dSe=function(e,n){var r=Is(n-e),i=Math.min(Math.abs(n-e),360);return r*i},fSe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+h)/2,b=dSe(m,v),w=b>=0?1:-1,S,A;i==="insideStart"?(S=m+w*o,A=g):i==="insideEnd"?(S=v-w*o,A=!g):i==="end"&&(S=v+w*o,A=g),A=b<=0?A:!A;var E=Tr(u,d,y,S),N=Tr(u,d,y,S+(A?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(N.x,",").concat(N.y),T=wt(e.id)?im("recharts-radial-line-"):e.id;return q.createElement("text",hp({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",a)}),q.createElement("defs",null,q.createElement("path",{id:T,d:_})),q.createElement("textPath",{xlinkHref:"#".concat(T)},n))},hSe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var m=Tr(o,a,u+r,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=Tr(o,a,y,h),w=b.x,S=b.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pSe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,y=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var S={x:a+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return Qn(Qn({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var A={x:a+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Qn(Qn({},A),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var E={x:a-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Qn(Qn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(s==="right"){var N={x:a+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Qn(Qn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return s==="insideLeft"?Qn({x:a+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},_):s==="insideRight"?Qn({x:a+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):s==="insideTop"?Qn({x:a+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},_):s==="insideBottom"?Qn({x:a+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):s==="insideTopLeft"?Qn({x:a+y,y:c+h,textAnchor:w,verticalAnchor:v},_):s==="insideTopRight"?Qn({x:a+u-y,y:c+h,textAnchor:b,verticalAnchor:v},_):s==="insideBottomLeft"?Qn({x:a+y,y:c+d-h,textAnchor:w,verticalAnchor:m},_):s==="insideBottomRight"?Qn({x:a+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},_):Wd(s)&&(ke(s.x)||Ul(s.x))&&(ke(s.y)||Ul(s.y))?Qn({x:a+vc(s.x,u),y:c+vc(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):Qn({x:a+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},mSe=function(e){return"cx"in e&&ke(e.cx)};function zr(t){var e=t.offset,n=e===void 0?5:e,r=sSe(t,Z1e),i=Qn({offset:n},r),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||wt(a)&&wt(c)&&!x.isValidElement(u)&&!Et(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var m;if(Et(u)){if(m=x.createElement(u,i),x.isValidElement(m))return m}else m=uSe(i);var v=mSe(s),g=Nt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return fSe(i,m,g);var y=v?hSe(i):pSe(i);return q.createElement(xv,hp({className:At("recharts-label",f)},g,y,{breakAll:h}),m)}zr.displayName="Label";var SU=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,g=e.width,y=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(ke(g)&&ke(y)){if(ke(f)&&ke(h))return{x:f,y:h,width:g,height:y};if(ke(m)&&ke(v))return{x:m,y:v,width:g,height:y}}return ke(f)&&ke(h)?{x:f,y:h,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},gSe=function(e,n){return e?e===!0?q.createElement(zr,{key:"label-implicit",viewBox:n}):nr(e)?q.createElement(zr,{key:"label-implicit",viewBox:n,value:e}):x.isValidElement(e)?e.type===zr?x.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):Et(e)?q.createElement(zr,{key:"label-implicit",content:e,viewBox:n}):Wd(e)?q.createElement(zr,hp({viewBox:n},e,{key:"label-implicit"})):null:null},ySe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=SU(e),o=ns(i,zr).map(function(c,u){return x.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=gSe(e.label,n||s);return[a].concat(eSe(o))};zr.parseViewBox=SU;zr.renderCallByParent=ySe;function vSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var xSe=vSe;const bSe=Zt(xSe);function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var wSe=["valueAccessor"],SSe=["data","dataKey","clockWise","id","textBreakAll"];function _Se(t){return ASe(t)||CSe(t)||TSe(t)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TSe(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function CSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ASe(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NSe(t){var e=jSe(t,"string");return pp(e)=="symbol"?e:e+""}function jSe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wO(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ISe=function(e){return Array.isArray(e.value)?bSe(e.value):e.value};function nl(t){var e=t.valueAccessor,n=e===void 0?ISe:e,r=wO(t,wSe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,c=r.textBreakAll,u=wO(r,SSe);return!i||!i.length?null:q.createElement(Ln,{className:"recharts-label-list"},i.map(function(d,f){var h=wt(s)?n(d,f):Di(d&&d.payload,s),m=wt(a)?{}:{id:"".concat(a,"-").concat(f)};return q.createElement(zr,Mv({},Nt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:zr.parseViewBox(wt(o)?d:bO(bO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}nl.displayName="LabelList";function OSe(t,e){return t?t===!0?q.createElement(nl,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Et(t)?q.createElement(nl,{key:"labelList-implicit",data:e,content:t}):Wd(t)?q.createElement(nl,Mv({data:e},t,{key:"labelList-implicit"})):null:null}function RSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ns(r,nl).map(function(o,a){return x.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=OSe(t.label,e);return[s].concat(_Se(i))}nl.renderCallByParent=RSe;function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){MSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e,n){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DSe(t){var e=LSe(t,"string");return mp(e)=="symbol"?e:e+""}function LSe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Se=function(e,n){var r=Is(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},hg=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(a?1:-1)+i,f=Math.asin(c/d)/Rv,h=u?s:s+o*f,m=Tr(n,r,d,h),v=Tr(n,r,i,h),g=u?s-o*f:s,y=Tr(n,r,d*Math.cos(f*Rv),g);return{center:m,circleTangency:v,lineTangency:y,theta:f}},_U=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=$Se(o,a),u=o+c,d=Tr(n,r,s,o),f=Tr(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Tr(n,r,i,o),v=Tr(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},FSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Is(d-u),h=hg({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,y=hg({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,w=y.lineTangency,S=y.theta,A=c?Math.abs(u-d):Math.abs(u-d)-g-S;if(A<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_U({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=hg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,T=N.lineTangency,P=N.theta,I=hg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=I.circleTangency,O=I.lineTangency,R=I.theta,F=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(F<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},VSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EU=function(e){var n=_O(_O({},VSe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var m=At("recharts-sector",h),v=o-s,g=vc(a,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=FSe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=_U({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),q.createElement("path",f_({},Nt(n,!0),{className:m,d:y,role:"img"}))};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){BSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BSe(t,e,n){return e=USe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function USe(t){var e=zSe(t,"string");return gp(e)=="symbol"?e:e+""}function zSe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CO={curveBasisClosed:Fce,curveBasisOpen:Vce,curveBasis:$ce,curveBumpX:Ece,curveBumpY:Tce,curveLinearClosed:Bce,curveLinear:S0,curveMonotoneX:Uce,curveMonotoneY:zce,curveNatural:Wce,curveStep:Hce,curveStepAfter:Gce,curveStepBefore:qce},pg=function(e){return e.x===+e.x&&e.y===+e.y},Cf=function(e){return e.x},Af=function(e){return e.y},WSe=function(e,n){if(Et(e))return e;var r="curve".concat(b0(e));return(r==="curveMonotone"||r==="curveBump")&&n?CO["".concat(r).concat(n==="vertical"?"Y":"X")]:CO[r]||S0},HSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=WSe(r,a),f=u?s.filter(function(g){return pg(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return pg(g)}):o,v=f.map(function(g,y){return TO(TO({},g),{},{base:m[y]})});return a==="vertical"?h=ig().y(Af).x1(Cf).x0(function(g){return g.base.x}):h=ig().x(Cf).y1(Af).y0(function(g){return g.base.y}),h.defined(pg).curve(d),h(v)}return a==="vertical"&&ke(o)?h=ig().y(Af).x1(Cf).x0(o):ke(o)?h=ig().x(Cf).y1(Af).y0(o):h=C6().x(Cf).y(Af),h.defined(pg).curve(d),h(f)},p_=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?HSe(e):i;return x.createElement("path",h_({},Nt(e,!1),iv(e),{className:At("recharts-curve",n),d:o,ref:s}))},TU={exports:{}},qSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GSe=qSe,KSe=GSe;function CU(){}function AU(){}AU.resetWarningCache=CU;var YSe=function(){function t(r,i,s,o,a,c){if(c!==KSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AU,resetWarningCache:CU};return n.PropTypes=n,n};TU.exports=YSe();var XSe=TU.exports;const Lt=Zt(XSe);var QSe=Object.getOwnPropertyNames,JSe=Object.getOwnPropertySymbols,ZSe=Object.prototype.hasOwnProperty;function AO(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function mg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function PO(t){return QSe(t).concat(JSe(t))}var e_e=Object.hasOwn||function(t,e){return ZSe.call(t,e)};function Ic(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var t_e="__v",n_e="__o",r_e="_owner",NO=Object.getOwnPropertyDescriptor,jO=Object.keys;function i_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function s_e(t,e){return Ic(t.getTime(),e.getTime())}function o_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function a_e(t,e){return t===e}function kO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=o.value,m=a.value;if(n.equals(h[0],m[0],c,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var l_e=Ic;function c_e(t,e,n){var r=jO(t),i=r.length;if(jO(e).length!==i)return!1;for(;i-- >0;)if(!PU(t,e,n,r[i]))return!1;return!0}function Pf(t,e,n){var r=PO(t),i=r.length;if(PO(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!PU(t,e,n,s)||(o=NO(t,s),a=NO(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function u_e(t,e){return Ic(t.valueOf(),e.valueOf())}function d_e(t,e){return t.source===e.source&&t.flags===e.flags}function IO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(a=c.next())&&!a.done;){if(!i[d]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function f_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function h_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PU(t,e,n,r){return(r===r_e||r===n_e||r===t_e)&&(t.$$typeof||e.$$typeof)?!0:e_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var p_e="[object Arguments]",m_e="[object Boolean]",g_e="[object Date]",y_e="[object Error]",v_e="[object Map]",x_e="[object Number]",b_e="[object Object]",w_e="[object RegExp]",S_e="[object Set]",__e="[object String]",E_e="[object URL]",T_e=Array.isArray,OO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RO=Object.assign,C_e=Object.prototype.toString.call.bind(Object.prototype.toString);function A_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,y):b==="function"?i(v,g,y):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return a(v,g,y);if(T_e(v))return e(v,g,y);if(OO!=null&&OO(v))return f(v,g,y);if(w===Date)return n(v,g,y);if(w===RegExp)return u(v,g,y);if(w===Map)return s(v,g,y);if(w===Set)return d(v,g,y);var S=C_e(v);return S===g_e?n(v,g,y):S===w_e?u(v,g,y):S===v_e?s(v,g,y):S===S_e?d(v,g,y):S===b_e?typeof v.then!="function"&&typeof g.then!="function"&&a(v,g,y):S===E_e?h(v,g,y):S===y_e?r(v,g,y):S===p_e?a(v,g,y):S===m_e||S===x_e||S===__e?c(v,g,y):!1}}function P_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Pf:i_e,areDatesEqual:s_e,areErrorsEqual:o_e,areFunctionsEqual:a_e,areMapsEqual:r?AO(kO,Pf):kO,areNumbersEqual:l_e,areObjectsEqual:r?Pf:c_e,arePrimitiveWrappersEqual:u_e,areRegExpsEqual:d_e,areSetsEqual:r?AO(IO,Pf):IO,areTypedArraysEqual:r?Pf:f_e,areUrlsEqual:h_e};if(n&&(i=RO({},i,n(i))),e){var s=mg(i.areArraysEqual),o=mg(i.areMapsEqual),a=mg(i.areObjectsEqual),c=mg(i.areSetsEqual);i=RO({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function N_e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function j_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var k_e=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:function(){return Ic}});Sl({strict:!0,createInternalComparator:function(){return Ic}});Sl({circular:!0,createInternalComparator:function(){return Ic}});Sl({circular:!0,createInternalComparator:function(){return Ic},strict:!0});function Sl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=P_e(t),c=A_e(a),u=r?r(c):N_e(c);return j_e({circular:n,comparator:c,createState:i,equals:u,strict:o})}function I_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function MO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):I_e(i)};requestAnimationFrame(r)}function m_(t){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(t)}function O_e(t){return L_e(t)||D_e(t)||M_e(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(t,e){if(t){if(typeof t=="string")return DO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L_e(t){if(Array.isArray(t))return t}function $_e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=O_e(o),c=a[0],u=a.slice(1);if(typeof c=="number"){MO(i.bind(null,u),c);return}i(c),MO(i.bind(null,u));return}m_(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){NU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NU(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=V_e(t,"string");return yp(e)==="symbol"?e:String(e)}function V_e(t,e){if(yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},U_e=function(e){return e},z_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(e,n){return Object.keys(n).reduce(function(r,i){return $O($O({},r),{},NU({},i,e(i,n[i])))},{})},FO=function(e,n,r){return e.map(function(i){return"".concat(z_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function W_e(t,e){return G_e(t)||q_e(t,e)||jU(t,e)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function G_e(t){if(Array.isArray(t))return t}function K_e(t){return Q_e(t)||X_e(t)||jU(t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function X_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q_e(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dv=1e-4,kU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},IU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},VO=function(e,n){return function(r){var i=kU(e,n);return IU(i,r)}},J_e=function(e,n){return function(r){var i=kU(e,n),s=[].concat(K_e(i.map(function(o,a){return o*a}).slice(1)),[0]);return IU(s,r)}},BO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=W_e(u,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var f=VO(i,o),h=VO(s,a),m=J_e(i,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,S=w,A=0;A<8;++A){var E=f(S)-w,N=m(S);if(Math.abs(E-w)<Dv||N<Dv)return h(S);S=v(S-E/N)}return h(S)};return g.isStepper=!1,g},Z_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,v=h*s,g=h+(m-v)*a/1e3,y=h*a/1e3+d;return Math.abs(y-f)<Dv&&Math.abs(g)<Dv?[f,0]:[y,g]};return c.isStepper=!0,c.dt=a,c},eEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BO(i);case"spring":return Z_e();default:if(i.split("(")[0]==="cubic-bezier")return BO(i)}return typeof i=="function"?i:null};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function UO(t){return rEe(t)||nEe(t)||OU(t)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rEe(t){if(Array.isArray(t))return v_(t)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=sEe(t,"string");return vp(e)==="symbol"?e:String(e)}function sEe(t,e){if(vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oEe(t,e){return cEe(t)||lEe(t,e)||OU(t,e)||aEe()}function aEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cEe(t){if(Array.isArray(t))return t}var Lv=function(e,n,r){return e+(n-e)*r},x_=function(e){var n=e.from,r=e.to;return n!==r},uEe=function t(e,n,r){var i=dh(function(s,o){if(x_(o)){var a=e(o.from,o.to,o.velocity),c=oEe(a,2),u=c[0],d=c[1];return wr(wr({},o),{},{from:u,velocity:d})}return o},n);return r<1?dh(function(s,o){return x_(o)?wr(wr({},o),{},{velocity:Lv(o.velocity,i[s].velocity,r),from:Lv(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const dEe=function(t,e,n,r,i){var s=B_e(t,e),o=s.reduce(function(y,b){return wr(wr({},y),{},y_({},b,[t[b],e[b]]))},{}),a=s.reduce(function(y,b){return wr(wr({},y),{},y_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return dh(function(b,w){return w.from},a)},m=function(){return!Object.values(a).filter(x_).length},v=function(b){u||(u=b);var w=b-u,S=w/n.dt;a=uEe(n,a,S),i(wr(wr(wr({},t),e),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var w=(b-d)/r,S=dh(function(E,N){return Lv.apply(void 0,UO(N).concat([n(w)]))},o);if(i(wr(wr(wr({},t),e),S)),w<1)c=requestAnimationFrame(f);else{var A=dh(function(E,N){return Lv.apply(void 0,UO(N).concat([n(1)]))},o);i(wr(wr(wr({},t),e),A))}};return f=n.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var fEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hEe(t,e){if(t==null)return{};var n=pEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jw(t){return vEe(t)||yEe(t)||gEe(t)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function yEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vEe(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Vf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vf(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RU(r.key),r)}}function wEe(t,e,n){return e&&bEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RU(t){var e=SEe(t,"string");return fd(e)==="symbol"?e:String(e)}function SEe(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w_(t,e)}function w_(t,e){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(t,e)}function EEe(t){var e=TEe();return function(){var r=$v(t),i;if(e){var s=$v(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return S_(this,i)}}function S_(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __(t)}function __(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}var aa=function(t){_Ee(n,t);var e=EEe(n);function n(r,i){var s;xEe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(__(s)),s.changeStyle=s.changeStyle.bind(__(s)),!a||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),S_(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},S_(s);s.state={style:c?Vf({},c,u):u}}else s.state={style:{}};return s}return wEe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(a){if(!o){var m={style:c?Vf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(k_e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:i.to;if(this.state&&h){var y={style:c?Vf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(ys(ys({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=dEe(o,a,eEe(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,b){if(b===0)return g;var w=y.duration,S=y.easing,A=S===void 0?"ease":S,E=y.style,N=y.properties,_=y.onAnimationEnd,T=b>0?o[b-1]:y,P=N||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(jw(g),[s.runJSAnimation.bind(s,{from:T.style,to:E,duration:w,easing:A}),w]);var I=FO(P,w,A),j=ys(ys(ys({},T.style),E),{},{transition:I});return[].concat(jw(g),[j,w,_]).filter(U_e)};return this.manager.start([c].concat(jw(o.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$_e());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Vf({},a,c):c,y=FO(Object.keys(g),o,u);v.start([d,s,ys(ys({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hEe(i,fEe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||u===0||o<=0)return s;var f=function(m){var v=m.props,g=v.style,y=g===void 0?{}:g,b=v.className,w=x.cloneElement(m,ys(ys({},c),{},{style:ys(ys({},y),d),className:b}));return w};return u===1?f(x.Children.only(s)):q.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),n}(x.PureComponent);aa.displayName="Animate";aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};aa.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function CEe(t,e){return jEe(t)||NEe(t,e)||PEe(t,e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jEe(t){if(Array.isArray(t))return t}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){kEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kEe(t,e,n){return e=IEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IEe(t){var e=OEe(t,"string");return xp(e)=="symbol"?e:e+""}function OEe(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},REe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),d=Math.max(s,s+a),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},MEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$A=function(e){var n=GO(GO({},MEe),e),r=x.useRef(),i=x.useState(-1),s=CEe(i,2),o=s[0],a=s[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=At("recharts-rectangle",m);return w?q.createElement(aa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:w},function(A){var E=A.width,N=A.height,_=A.x,T=A.y;return q.createElement(aa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:v},q.createElement("path",Fv({},Nt(n,!0),{className:S,d:KO(_,T,E,N,h),ref:r})))}):q.createElement("path",Fv({},Nt(n,!0),{className:S,d:KO(c,u,d,f,h)}))};function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}var FA=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=At("recharts-dot",s);return n===+n&&r===+r&&i===+i?x.createElement("circle",E_({},Nt(e,!1),iv(e),{className:o,cx:n,cy:r,r:i})):null};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}var DEe=["x","y","top","left","width","height","className"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){$Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ee(t,e,n){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FEe(t){var e=VEe(t,"string");return bp(e)=="symbol"?e:e+""}function VEe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){if(t==null)return{};var n=UEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zEe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},WEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,g=BEe(e,DEe),y=LEe({x:r,y:s,top:a,left:u,width:f,height:m},g);return!ke(r)||!ke(s)||!ke(f)||!ke(m)||!ke(a)||!ke(u)?null:q.createElement("path",T_({},Nt(y,!0),{className:At("recharts-cross",v),d:zEe(r,s,f,m,a,u)}))},HEe=X6,qEe=HEe(Object.getPrototypeOf,Object),GEe=qEe,KEe=fa,YEe=GEe,XEe=ha,QEe="[object Object]",JEe=Function.prototype,ZEe=Object.prototype,MU=JEe.toString,eTe=ZEe.hasOwnProperty,tTe=MU.call(Object);function nTe(t){if(!XEe(t)||KEe(t)!=QEe)return!1;var e=YEe(t);if(e===null)return!0;var n=eTe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&MU.call(n)==tTe}var rTe=nTe;const iTe=Zt(rTe);var sTe=fa,oTe=ha,aTe="[object Boolean]";function lTe(t){return t===!0||t===!1||oTe(t)&&sTe(t)==aTe}var cTe=lTe;const uTe=Zt(cTe);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function dTe(t,e){return mTe(t)||pTe(t,e)||hTe(t,e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(t,e){if(t){if(typeof t=="string")return XO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mTe(t){if(Array.isArray(t))return t}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=vTe(t,"string");return wp(e)=="symbol"?e:e+""}function vTe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZO=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},xTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bTe=function(e){var n=JO(JO({},xTe),e),r=x.useRef(),i=x.useState(-1),s=dTe(i,2),o=s[0],a=s[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=At("recharts-trapezoid",m);return b?q.createElement(aa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:b},function(S){var A=S.upperWidth,E=S.lowerWidth,N=S.height,_=S.x,T=S.y;return q.createElement(aa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},q.createElement("path",Vv({},Nt(n,!0),{className:w,d:ZO(_,T,A,E,N),ref:r})))}):q.createElement("g",null,q.createElement("path",Vv({},Nt(n,!0),{className:w,d:ZO(c,u,d,f,h)})))},wTe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function STe(t,e){if(t==null)return{};var n=_Te(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){ETe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ETe(t,e,n){return e=TTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TTe(t){var e=CTe(t,"string");return Sp(e)=="symbol"?e:e+""}function CTe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ATe(t,e){return Bv(Bv({},e),t)}function PTe(t,e){return t==="symbols"}function tR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement($A,n);case"trapezoid":return q.createElement(bTe,n);case"sector":return q.createElement(EU,n);case"symbols":if(PTe(e))return q.createElement(nA,n);break;default:return null}}function NTe(t){return x.isValidElement(t)?t.props:t}function jTe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ATe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=STe(t,wTe),u;if(x.isValidElement(e))u=x.cloneElement(e,Bv(Bv({},c),NTe(e)));else if(Et(e))u=e(c);else if(iTe(e)&&!uTe(e)){var d=i(e,c);u=q.createElement(tR,{shapeType:n,elementProps:d})}else{var f=c;u=q.createElement(tR,{shapeType:n,elementProps:f})}return a?q.createElement(Ln,{className:o},u):u}function $0(t,e){return e!=null&&"trapezoids"in t.props}function F0(t,e){return e!=null&&"sectors"in t.props}function _p(t,e){return e!=null&&"points"in t.props}function kTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function ITe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function OTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function RTe(t,e){var n;return $0(t,e)?n=kTe:F0(t,e)?n=ITe:_p(t,e)&&(n=OTe),n}function MTe(t,e){var n;return $0(t,e)?n="trapezoids":F0(t,e)?n="sectors":_p(t,e)&&(n="points"),n}function DTe(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(F0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _p(t,e)?e.payload:{}}function LTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=MTe(n,e),s=DTe(n,e),o=r.filter(function(c,u){var d=M0(s,c),f=n.props[i].filter(function(v){var g=RTe(n,e);return g(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),a=r.indexOf(o[o.length-1]);return a}var $Te=Math.ceil,FTe=Math.max;function VTe(t,e,n,r){for(var i=-1,s=FTe($Te((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var BTe=VTe,UTe=pB,nR=1/0,zTe=17976931348623157e292;function WTe(t){if(!t)return t===0?t:0;if(t=UTe(t),t===nR||t===-nR){var e=t<0?-1:1;return e*zTe}return t===t?t:0}var HTe=WTe,qTe=BTe,GTe=C0,kw=HTe;function KTe(t){return function(e,n,r){return r&&typeof r!="number"&&GTe(e,n,r)&&(n=r=void 0),e=kw(e),n===void 0?(n=e,e=0):n=kw(n),r=r===void 0?e<n?1:-1:kw(r),qTe(e,n,r,t)}}var YTe=KTe,XTe=YTe,QTe=XTe(),JTe=QTe;const Uv=Zt(JTe);function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){DU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DU(t,e,n){return e=ZTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZTe(t){var e=eCe(t,"string");return Ep(e)=="symbol"?e:e+""}function eCe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tCe=["Webkit","Moz","O","ms"],nCe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=tCe.reduce(function(s,o){return iR(iR({},s),{},DU({},o+r,n))},{});return i[e]=n,i};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$U(r.key),r)}}function iCe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sCe(t,e,n){return e=Wv(e),oCe(t,LU()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function oCe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aCe(t)}function aCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function lCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function _i(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=cCe(t,"string");return hd(e)=="symbol"?e:e+""}function cCe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uCe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ch().domain(Uv(0,c)).range([s,s+o-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},aR=function(e){return e.changedTouches&&!!e.changedTouches.length},pd=function(t){function e(n){var r;return rCe(this,e),r=sCe(this,e,[n]),_i(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_i(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_i(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),_i(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_i(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_i(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_i(r,"handleSlideDragStart",function(i){var s=aR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lCe(e,t),iCe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),m=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Di(s[r],a,r);return Et(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=r.pageX-s;g>0?g=Math.min(g,u+d-f-a,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-a));var y=this.getIndex({startX:o+g,endX:a+g});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:o+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=aR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),b[o]=u+w;var S=this.getIndex(b),A=S.startIndex,E=S.endIndex,N=function(){var T=y.length-1;return o==="startX"&&(a>c?A%g===0:E%g===0)||a<c&&E===T||o==="endX"&&(a>c?E%g===0:A%g===0)||a>c&&E===T};this.setState(_i(_i({},o,u+w),"brushMoveStartX",r.pageX),function(){v&&N()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(_i({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.fill,u=r.stroke;return q.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.data,u=r.children,d=r.padding,f=x.Children.only(u);return f?q.cloneElement(f,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,y=c.endIndex,b=Math.max(r,this.props.x),w=Iw(Iw({},Nt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),S=m||"Min value: ".concat((s=v[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return q.createElement(Ln,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return q.createElement(Ln,{className:"recharts-brush-texts"},q.createElement(xv,zv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+a/2},v),this.getTextOfTick(i)),q.createElement(xv,zv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ke(a)||!ke(c)||!ke(u)||!ke(d)||u<=0||d<=0)return null;var S=At("recharts-brush",s),A=q.Children.count(o)===1,E=nCe("userSelect","none");return q.createElement(Ln,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,c=r.stroke,u=Math.floor(s+a/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return q.isValidElement(r)?s=q.cloneElement(r,i):Et(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Iw({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?uCe({data:s,width:o,x:a,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);r[c]>i?a=c:o=c}return i>=r[a]?a:o}}])}(x.PureComponent);_i(pd,"displayName","Brush");_i(pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dCe=uA;function fCe(t,e){var n;return dCe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var hCe=fCe,pCe=U6,mCe=Qd,gCe=hCe,yCe=mi,vCe=C0;function xCe(t,e,n){var r=yCe(t)?pCe:gCe;return n&&vCe(t,e,n)&&(e=void 0),r(t,mCe(e))}var bCe=xCe;const wCe=Zt(bCe);var mo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},lR=cB;function SCe(t,e,n){e=="__proto__"&&lR?lR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _Ce=SCe,ECe=_Ce,TCe=aB,CCe=Qd;function ACe(t,e){var n={};return e=CCe(e),TCe(t,function(r,i,s){ECe(n,i,e(r,i,s))}),n}var PCe=ACe;const NCe=Zt(PCe);function jCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var kCe=jCe,ICe=uA;function OCe(t,e){var n=!0;return ICe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var RCe=OCe,MCe=kCe,DCe=RCe,LCe=Qd,$Ce=mi,FCe=C0;function VCe(t,e,n){var r=$Ce(t)?MCe:DCe;return n&&FCe(t,e,n)&&(e=void 0),r(t,LCe(e))}var BCe=VCe;const UCe=Zt(BCe);var zCe=["x","y"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){WCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WCe(t,e,n){return e=HCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HCe(t){var e=qCe(t,"string");return Tp(e)=="symbol"?e:e+""}function qCe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GCe(t,e){if(t==null)return{};var n=KCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YCe(t,e){var n=t.x,r=t.y,i=GCe(t,zCe),s="".concat(n),o=parseInt(s,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Nf(Nf(Nf(Nf(Nf({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function uR(t){return q.createElement(jTe,A_({shapeType:"rectangle",propTransformer:YCe,activeClassName:"recharts-active-bar"},t))}var XCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ke(r)||cle(r);return s?e(r,i):(s||bc(),n)}},QCe=["value","background"],FU;function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function JCe(t,e){if(t==null)return{};var n=ZCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BU(r.key),r)}}function tAe(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nAe(t,e,n){return e=qv(e),rAe(t,VU()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function rAe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iAe(t)}function iAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function sAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function Ba(t,e,n){return e=BU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BU(t){var e=oAe(t,"string");return md(e)=="symbol"?e:e+""}function oAe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var um=function(t){function e(){var n;eAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nAe(this,e,[].concat(i)),Ba(n,"state",{isAnimationFinished:!1}),Ba(n,"id",im("recharts-bar-")),Ba(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ba(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return sAe(e,t),tAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Nt(this.props,!1);return r&&r.map(function(f,h){var m=h===c,v=m?u:o,g=Vn(Vn(Vn({},d),f),{},{isActive:m,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Ln,Hv({className:"recharts-bar-rectangle"},sv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(uR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(aa,{begin:c,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=s.map(function(y,b){var w=h&&h[b];if(w){var S=Cs(w.x,y.x),A=Cs(w.y,y.y),E=Cs(w.width,y.width),N=Cs(w.height,y.height);return Vn(Vn({},y),{},{x:S(v),y:A(v),width:E(v),height:N(v)})}if(o==="horizontal"){var _=Cs(0,y.height),T=_(v);return Vn(Vn({},y),{},{y:y.y+y.height-T,height:T})}var P=Cs(0,y.width),I=P(v);return Vn(Vn({},y),{},{width:I})});return q.createElement(Ln,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!M0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=Nt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=JCe(u,QCe);if(!f)return null;var m=Vn(Vn(Vn(Vn(Vn({},h),{},{fill:"#eee"},f),c),sv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(uR,Hv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ns(d,cm);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Di(y,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ln,v,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,g=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=At("recharts-bar",o),w=a&&a.allowDataOverflow,S=c&&c.allowDataOverflow,A=w||S,E=wt(g)?this.id:g;return q.createElement(Ln,{className:b},w||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,q.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!m||y)&&nl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);FU=um;Ba(um,"displayName","Bar");Ba(um,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ba(um,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=R1e(r,n);if(!m)return null;var v=e.layout,g=n.type.defaultProps,y=g!==void 0?Vn(Vn({},g),n.props):n.props,b=y.dataKey,w=y.children,S=y.minPointSize,A=v==="horizontal"?o:s,E=u?A.scale.domain():null,N=U1e({numericAxis:A}),_=ns(w,gB),T=f.map(function(P,I){var j,O,R,F,B,U;u?j=M1e(u[d+I],E):(j=Di(P,b),Array.isArray(j)||(j=[N,j]));var W=XCe(S,FU.defaultProps.minPointSize)(j[1],I);if(v==="horizontal"){var $,z=[o.scale(j[0]),o.scale(j[1])],re=z[0],se=z[1];O=dO({axis:s,ticks:a,bandSize:i,offset:m.offset,entry:P,index:I}),R=($=se??re)!==null&&$!==void 0?$:void 0,F=m.size;var Q=re-se;if(B=Number.isNaN(Q)?0:Q,U={x:O,y:o.y,width:F,height:o.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var ge=Is(B||W)*(Math.abs(W)-Math.abs(B));R-=ge,B+=ge}}else{var pe=[s.scale(j[0]),s.scale(j[1])],Ee=pe[0],tt=pe[1];if(O=Ee,R=dO({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:P,index:I}),F=tt-Ee,B=m.size,U={x:s.x,y:R,width:s.width,height:B},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var xe=Is(F||W)*(Math.abs(W)-Math.abs(F));F+=xe}}return Vn(Vn(Vn({},P),{},{x:O,y:R,width:F,height:B,value:u?j:j[1],payload:P,background:U},_&&_[I]&&_[I].props),{},{tooltipPayload:[wU(n,P)],tooltipPosition:{x:O+F/2,y:R+B/2}})});return Vn({data:T,layout:v},h)});function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function aAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UU(r.key),r)}}function lAe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){V0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=cAe(t,"string");return Cp(e)=="symbol"?e:e+""}function cAe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uAe=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ci(u,um);return d.reduce(function(m,v){var g=n[v],y=g.orientation,b=g.domain,w=g.padding,S=w===void 0?{}:w,A=g.mirror,E=g.reversed,N="".concat(y).concat(A?"Mirror":""),_,T,P,I,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],R=1/0,F=g.categoricalDomain.sort(fle);if(F.forEach(function(pe,Ee){Ee>0&&(R=Math.min((pe||0)-(F[Ee-1]||0),R))}),Number.isFinite(R)){var B=R/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=B*U/2),g.padding==="no-gap"){var W=vc(e.barCategoryGap,B*U),$=B*U/2;_=$-W-($-W)/U*W}}}i==="xAxis"?T=[r.left+(S.left||0)+(_||0),r.left+r.width-(S.right||0)-(_||0)]:i==="yAxis"?T=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(_||0),r.top+r.height-(S.bottom||0)-(_||0)]:T=g.range,E&&(T=[T[1],T[0]]);var z=I1e(g,s,h),re=z.scale,se=z.realScaleType;re.domain(b).range(T),O1e(re);var Q=B1e(re,_s(_s({},g),{},{realScaleType:se}));i==="xAxis"?(j=y==="top"&&!A||y==="bottom"&&A,P=r.left,I=f[N]-j*g.height):i==="yAxis"&&(j=y==="left"&&!A||y==="right"&&A,P=f[N]-j*g.width,I=r.top);var ge=_s(_s(_s({},g),Q),{},{realScaleType:se,x:P,y:I,scale:re,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ge.bandSize=Ov(ge,Q),!g.hide&&i==="xAxis"?f[N]+=(j?-1:1)*ge.height:g.hide||(f[N]+=(j?-1:1)*ge.width),_s(_s({},m),{},V0({},v,ge))},{})},zU=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},dAe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return zU({x:n,y:r},{x:i,y:s})},WU=function(){function t(e){aAe(this,t),this.scale=e}return lAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();V0(WU,"EPS",1e-4);var VA=function(e){var n=Object.keys(e).reduce(function(r,i){return _s(_s({},r),{},V0({},i,WU.create(e[i])))},{});return _s(_s({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return NCe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return UCe(i,function(s,o){return n[o].isInRange(s)})}})};function fAe(t){return(t%180+180)%180}var hAe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=fAe(i),o=s*Math.PI/180,a=Math.atan(r/n),c=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},pAe=hae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HU=x.createContext(void 0),qU=x.createContext(void 0),GU=x.createContext(void 0),mAe=x.createContext({}),KU=x.createContext(void 0),YU=x.createContext(0),XU=x.createContext(0),mR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,d=pAe(s);return q.createElement(HU.Provider,{value:r},q.createElement(qU.Provider,{value:i},q.createElement(mAe.Provider,{value:s},q.createElement(GU.Provider,{value:d},q.createElement(KU.Provider,{value:o},q.createElement(YU.Provider,{value:u},q.createElement(XU.Provider,{value:c},a)))))))},gAe=function(){return x.useContext(KU)},QU=function(e){var n=x.useContext(HU);n==null&&bc();var r=n[e];return r==null&&bc(),r},JU=function(e){var n=x.useContext(qU);n==null&&bc();var r=n[e];return r==null&&bc(),r},yAe=function(){var e=x.useContext(GU);return e},ZU=function(){return x.useContext(XU)},e9=function(){return x.useContext(YU)};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,n){return e=Gv(e),SAe(t,t9()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function EAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){BA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BA(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=TAe(t,"string");return gd(e)=="symbol"?e:e+""}function TAe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CAe(t,e){return jAe(t)||NAe(t,e)||PAe(t,e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(t,e){if(t){if(typeof t=="string")return vR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function jAe(t){if(Array.isArray(t))return t}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}var kAe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):Et(e)?r=e(n):r=q.createElement("line",j_({},n,{className:"recharts-reference-line-line"})),r},IAe=function(e,n,r,i,s,o,a,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(r){var v=u.y,g=e.y.apply(v,{position:o});if(mo(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(n){var b=u.x,w=e.x.apply(b,{position:o});if(mo(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+m},{x:w,y:f}];return a==="top"?S.reverse():S}if(i){var A=u.segment,E=A.map(function(N){return e.apply(N,{position:o})});return mo(u,"discard")&&wCe(E,function(N){return!e.isInRange(N)})?null:E}return null};function OAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=gAe(),d=QU(i),f=JU(s),h=yAe();if(!u||!h)return null;ec(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=VA({x:d.scale,y:f.scale}),v=nr(e),g=nr(n),y=r&&r.length===2,b=IAe(m,v,g,y,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=CAe(b,2),S=w[0],A=S.x,E=S.y,N=w[1],_=N.x,T=N.y,P=mo(t,"hidden")?"url(#".concat(u,")"):void 0,I=yR(yR({clipPath:P},Nt(t,!0)),{},{x1:A,y1:E,x2:_,y2:T});return q.createElement(Ln,{className:At("recharts-reference-line",a)},kAe(o,I),zr.renderCallByParent(t,dAe({x1:A,y1:E,x2:_,y2:T})))}var UA=function(t){function e(){return vAe(this,e),wAe(this,e,arguments)}return EAe(e,t),bAe(e,[{key:"render",value:function(){return q.createElement(OAe,this.props)}}])}(q.Component);BA(UA,"displayName","ReferenceLine");BA(UA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function DAe(t,e,n){return e&&MAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LAe(t,e,n){return e=Kv(e),$Ae(t,r9()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function $Ae(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(t)}function FAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function VAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function B0(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=BAe(t,"string");return yd(e)=="symbol"?e:e+""}function BAe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UAe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=VA({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return mo(e,"discard")&&!o.isInRange(a)?null:a},U0=function(t){function e(){return RAe(this,e),LAe(this,e,arguments)}return VAe(e,t),DAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,c=r.clipPathId,u=nr(i),d=nr(s);if(ec(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=UAe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,y=v.className,b=mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=bR(bR({clipPath:b},Nt(this.props,!0)),{},{cx:h,cy:m});return q.createElement(Ln,{className:At("recharts-reference-dot",y)},e.renderDot(g,w),zr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(q.Component);B0(U0,"displayName","ReferenceDot");B0(U0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B0(U0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Et(t)?n=t(e):n=q.createElement(FA,k_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function HAe(t,e,n){return e&&WAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qAe(t,e,n){return e=Yv(e),GAe(t,s9()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function GAe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KAe(t)}function KAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function YAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function z0(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=XAe(t,"string");return vd(e)=="symbol"?e:e+""}function XAe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QAe=function(e,n,r,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=VA({x:d.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return mo(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:zU(m,v)},W0=function(t){function e(){return zAe(this,e),qAe(this,e,arguments)}return YAe(e,t),HAe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ec(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nr(i),h=nr(s),m=nr(o),v=nr(a),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var y=QAe(f,h,m,v,this.props);if(!y&&!g)return null;var b=mo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Ln,{className:At("recharts-reference-area",c)},e.renderRect(g,SR(SR({clipPath:b},Nt(this.props,!0)),y)),zr.renderCallByParent(this.props,y))}}])}(q.Component);z0(W0,"displayName","ReferenceArea");z0(W0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z0(W0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Et(t)?n=t(e):n=q.createElement($A,O_({},e,{className:"recharts-reference-area-rect"})),n});function a9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function JAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hAe(r,n)}function ZAe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function Xv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ePe(t,e){return a9(t,e+1)}function tPe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,c=0,u=1,d=o,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:a9(r,u)};var g=c,y,b=function(){return y===void 0&&(y=n(v,g)),y},w=v.coordinate,S=c===0||Xv(t,w,b,d,a);S||(c=0,d=o,u+=1),S&&(d=w+t*(b()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){nPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nPe(t,e,n){return e=rPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rPe(t){var e=iPe(t,"string");return Ap(e)=="symbol"?e:e+""}function iPe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sPe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(h){var m=s[h],v,g=function(){return v===void 0&&(v=n(m,h)),v};if(h===o-1){var y=t*(m.coordinate+t*g()/2-c);s[h]=m=$r($r({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else s[h]=m=$r($r({},m),{},{tickCoord:m.coordinate});var b=Xv(t,m.tickCoord,g,a,c);b&&(c=m.tickCoord-t*(g()/2+i),s[h]=$r($r({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function oPe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);o[a-1]=d=$r($r({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Xv(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),o[a-1]=$r($r({},d),{},{isShow:!0}))}for(var v=s?a-1:a,g=function(w){var S=o[w],A,E=function(){return A===void 0&&(A=n(S,w)),A};if(w===0){var N=t*(S.coordinate-t*E()/2-c);o[w]=S=$r($r({},S),{},{tickCoord:N<0?S.coordinate-N*t:S.coordinate})}else o[w]=S=$r($r({},S),{},{tickCoord:S.coordinate});var _=Xv(t,S.tickCoord,E,c,u);_&&(c=S.tickCoord+t*(E()/2+i),o[w]=$r($r({},S),{},{isShow:!0}))},y=0;y<v;y++)g(y);return o}function aPe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ke(c)||qo.isSsr)return ePe(i,typeof c=="number"&&ke(c)?c:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?lh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(S,A){var E=Et(u)?u(S.value,A):S.value;return m==="width"?JAe(lh(E,{fontSize:e,letterSpacing:n}),v,f):lh(E,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Is(i[1].coordinate-i[0].coordinate):1,b=ZAe(s,y,m);return c==="equidistantPreserveStart"?tPe(y,b,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=oPe(y,b,g,i,o,c==="preserveStartEnd"):h=sPe(y,b,g,i,o),h.filter(function(w){return w.isShow}))}var lPe=["viewBox"],cPe=["viewBox"],uPe=["ticks"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){zA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e){if(t==null)return{};var n=dPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c9(r.key),r)}}function hPe(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pPe(t,e,n){return e=Qv(e),mPe(t,l9()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function mPe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(t)}function gPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function yPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function zA(t,e,n){return e=c9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9(t){var e=vPe(t,"string");return xd(e)=="symbol"?e:e+""}function vPe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H0=function(t){function e(n){var r;return fPe(this,e),r=pPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yPe(e,t),hPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Ow(r,lPe),a=this.props,c=a.viewBox,u=Ow(a,cPe);return!Eu(s,c)||!Eu(o,u)||!Eu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,g,y,b,w,S=f?-1:1,A=r.tickSize||d,E=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,y=o+ +!f*c,g=y-S*A,w=g-S*h,b=E;break;case"left":g=y=r.coordinate,v=s+ +!f*a,m=v-S*A,b=m-S*h,w=E;break;case"right":g=y=r.coordinate,v=s+ +f*a,m=v+S*A,b=m+S*h,w=E;break;default:m=v=r.coordinate,y=o+ +f*c,g=y+S*A,w=g+S*h,b=E;break}return{line:{x1:m,y1:g,x2:v,y2:y},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Xn(Xn(Xn({},Nt(this.props,!1)),Nt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Xn(Xn({},f),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Xn(Xn({},f),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+a})}return q.createElement("line",lu({},f,{className:At("recharts-cartesian-axis-line",ts(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=aPe(Xn(Xn({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Nt(this.props,!1),b=Nt(d,!1),w=Xn(Xn({},y),{},{fill:"none"},Nt(c,!1)),S=m.map(function(A,E){var N=o.getTickLineCoord(A),_=N.line,T=N.tick,P=Xn(Xn(Xn(Xn({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:u},b),T),{},{index:E,payload:A,visibleTicksCount:m.length,tickFormatter:f});return q.createElement(Ln,lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},sv(o.props,A,E)),c&&q.createElement("line",lu({},w,_,{className:At("recharts-cartesian-axis-tick-line",ts(c,"className"))})),d&&e.renderTickItem(d,P,"".concat(Et(f)?f(A.value,E):A.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Ow(f,uPe),v=h;return Et(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||a<=0||!v||!v.length?null:q.createElement(Ln,{className:At("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=At(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?o=q.cloneElement(r,Xn(Xn({},i),{},{className:a})):Et(r)?o=r(Xn(Xn({},i),{},{className:a})):o=q.createElement(xv,lu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);zA(H0,"displayName","CartesianAxis");zA(H0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xPe=["type","layout","connectNulls","ref"],bPe=["key"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function CR(t,e){if(t==null)return{};var n=wPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bc(t){return TPe(t)||EPe(t)||_Pe(t)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function EPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TPe(t){if(Array.isArray(t))return D_(t)}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d9(r.key),r)}}function APe(t,e,n){return e&&PR(t.prototype,e),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PPe(t,e,n){return e=Jv(e),NPe(t,u9()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function NPe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function kPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function Es(t,e,n){return e=d9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9(t){var e=IPe(t,"string");return bd(e)=="symbol"?e:e+""}function IPe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm=function(t){function e(){var n;CPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=PPe(this,e,[].concat(i)),Es(n,"state",{isAnimationFinished:!0,totalLength:0}),Es(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),Es(n,"getStrokeDasharray",function(o,a,c){var u=c.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/u),f=o%u,h=a-o,m=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>f){m=[].concat(Bc(c.slice(0,v)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Bc(e.repeat(c,d)),Bc(m),y).map(function(b){return"".concat(b,"px")}).join(", ")}),Es(n,"id",im("recharts-line-")),Es(n,"pathRef",function(o){n.mainCurve=o}),Es(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Es(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return kPe(e,t),APe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ns(d,cm);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Di(g.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Ln,m,f.map(function(v){return q.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,c=a.dot,u=a.points,d=a.dataKey,f=Nt(this.props,!1),h=Nt(c,!0),m=u.map(function(g,y){var b=Si(Si(Si({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return q.createElement(Ln,fh({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,c=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=CR(a,xPe),h=Si(Si(Si({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return q.createElement(p_,fh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,g=o.width,y=o.height,b=this.state,w=b.prevPoints,S=b.totalLength;return q.createElement(aa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(w){var N=w.length/a.length,_=a.map(function(O,R){var F=Math.floor(R*N);if(w[F]){var B=w[F],U=Cs(B.x,O.x),W=Cs(B.y,O.y);return Si(Si({},O),{},{x:U(E),y:W(E)})}if(v){var $=Cs(g*2,O.x),z=Cs(y/2,O.y);return Si(Si({},O),{},{x:$(E),y:z(E)})}return Si(Si({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(_,r,i)}var T=Cs(0,S),P=T(E),I;if(c){var j="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});I=s.getStrokeDasharray(P,S,j)}else I=s.generateSimpleStrokeDasharray(S,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return a&&o&&o.length&&(!u&&d>0||!M0(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,g=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var b=this.state.isAnimationFinished,w=a.length===1,S=At("recharts-line",c),A=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,N=A||E,_=wt(y)?this.id:y,T=(r=Nt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,I=P===void 0?3:P,j=T.strokeWidth,O=j===void 0?2:j,R=wle(o)?o:{},F=R.clipDot,B=F===void 0?!0:F,U=I*2+O;return q.createElement(Ln,{className:S},A||E?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(_)},q.createElement("rect",{x:A?h:h-m/2,y:E?f:f-v/2,width:A?m:m*2,height:E?v:v*2})),!B&&q.createElement("clipPath",{id:"clipPath-dots-".concat(_)},q.createElement("rect",{x:h-U/2,y:f-U/2,width:m+U,height:v+U}))):null,!w&&this.renderCurve(N,_),this.renderErrorBar(N,_),(w||o)&&this.renderDots(N,B,_),(!g||b)&&nl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Bc(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Bc(o),Bc(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(q.isValidElement(r))s=q.cloneElement(r,i);else if(Et(r))s=r(i);else{var o=i.key,a=CR(i,bPe),c=At("recharts-line-dot",typeof r!="boolean"?r.className:"");s=q.createElement(FA,fh({key:o},a,{className:c}))}return s}}])}(x.PureComponent);Es(dm,"displayName","Line");Es(dm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Es(dm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,m){var v=Di(h,o);return d==="horizontal"?{x:uO({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:wt(v)?null:r.scale(v),value:v,payload:h}:{x:wt(v)?null:n.scale(v),y:uO({axis:r,ticks:s,bandSize:a,entry:h,index:m}),value:v,payload:h}});return Si({points:f,layout:d},u)});function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function OPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p9(r.key),r)}}function MPe(t,e,n){return e&&RPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DPe(t,e,n){return e=Zv(e),LPe(t,f9()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function LPe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Pe(t)}function $Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function h9(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=VPe(t,"string");return wd(e)=="symbol"?e:e+""}function VPe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function BPe(t){var e=t.xAxisId,n=ZU(),r=e9(),i=QU(e);return i==null?null:x.createElement(H0,F_({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Hl(o,!0)}}))}var q0=function(t){function e(){return OPe(this,e),DPe(this,e,arguments)}return FPe(e,t),MPe(e,[{key:"render",value:function(){return x.createElement(BPe,this.props)}}])}(x.Component);h9(q0,"displayName","XAxis");h9(q0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function UPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y9(r.key),r)}}function WPe(t,e,n){return e&&zPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HPe(t,e,n){return e=ex(e),qPe(t,m9()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function qPe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GPe(t)}function GPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function KPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function g9(t,e,n){return e=y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9(t){var e=YPe(t,"string");return Sd(e)=="symbol"?e:e+""}function YPe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}var XPe=function(e){var n=e.yAxisId,r=ZU(),i=e9(),s=JU(n);return s==null?null:x.createElement(H0,B_({},s,{className:At("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Hl(a,!0)}}))},G0=function(t){function e(){return UPe(this,e),HPe(this,e,arguments)}return KPe(e,t),WPe(e,[{key:"render",value:function(){return x.createElement(XPe,this.props)}}])}(x.Component);g9(G0,"displayName","YAxis");g9(G0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NR(t){return eNe(t)||ZPe(t)||JPe(t)||QPe()}function QPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function ZPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eNe(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z_=function(e,n,r,i,s){var o=ns(e,UA),a=ns(e,U0),c=[].concat(NR(o),NR(a)),u=ns(e,W0),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===r&&mo(y.props,"extendDomain")&&ke(y.props[f])){var b=y.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===r&&mo(y.props,"extendDomain")&&ke(y.props[m])&&ke(y.props[v])){var b=y.props[m],w=y.props[v];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,y){return ke(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},v9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,m,v){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,w,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];y.fn.apply(y.context,w)}else{var A=y.length,E;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),b){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];y[S].fn.apply(y[S].context,w)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(v9);var tNe=v9.exports;const nNe=Zt(tNe);var Rw=new nNe,Mw="recharts.syncMouseEvents";function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function rNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x9(r.key),r)}}function sNe(t,e,n){return e&&iNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dw(t,e,n){return e=x9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x9(t){var e=oNe(t,"string");return Pp(e)=="symbol"?e:e+""}function oNe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aNe=function(){function t(){rNe(this,t),Dw(this,"activeIndex",0),Dw(this,"coordinateList",[]),Dw(this,"layout","horizontal")}return sNe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lNe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function cNe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function b9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Tr(e,n,r,i),a=Tr(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function uNe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Tr(a,c,u,f),m=Tr(a,c,d,f);r=h.x,i=h.y,s=m.x,o=m.y}else return b9(e);return[{x:r,y:i},{x:s,y:o}]}function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){dNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dNe(t,e,n){return e=fNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fNe(t){var e=hNe(t,"string");return Np(e)=="symbol"?e:e+""}function hNe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pNe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,g=p_;if(h==="ScatterChart")v=o,g=WEe;else if(h==="BarChart")v=cNe(f,o,c,d),g=$A;else if(f==="radial"){var y=b9(o),b=y.cx,w=y.cy,S=y.radius,A=y.startAngle,E=y.endAngle;v={cx:b,cy:w,startAngle:A,endAngle:E,innerRadius:S,outerRadius:S},g=EU}else v={points:uNe(f,o,c)},g=p_;var N=gg(gg(gg(gg({stroke:"#ccc",pointerEvents:"none"},c),v),Nt(m,!1)),{},{payload:a,payloadIndex:u,className:At("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var mNe=["item"],gNe=["children","className","width","height","style","compact","title","desc"];function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function kR(t,e){return xNe(t)||vNe(t,e)||S9(t,e)||yNe()}function yNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xNe(t){if(Array.isArray(t))return t}function IR(t,e){if(t==null)return{};var n=bNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_9(r.key),r)}}function _Ne(t,e,n){return e&&SNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ENe(t,e,n){return e=tx(e),TNe(t,w9()?Reflect.construct(e,n||[],tx(t).constructor):e.apply(t,n))}function TNe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CNe(t)}function CNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function Ed(t){return jNe(t)||NNe(t)||S9(t)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function NNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jNe(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function at(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=kNe(t,"string");return _d(e)=="symbol"?e:e+""}function kNe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var INe={xAxis:["bottom","top"],yAxis:["left","right"]},ONe={width:"100%",height:"100%"},E9={x:0,y:0};function yg(t){return t}var RNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},MNe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return ae(ae(ae({},i),Tr(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return ae(ae(ae({},i),Tr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return E9},K0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(Ed(a),Ed(u)):a},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function T9(t){return t==="number"?[0,"auto"]:void 0}var q_=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=K0(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?a:f;h=rv(m,o.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Ed(c),[wU(u,h)]):c},[])},RR=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=RNe(s,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=C1e(o,a,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=q_(e,n,d,f),m=MNe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},DNe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=xU(d,s);return r.reduce(function(v,g){var y,b=g.type.defaultProps!==void 0?ae(ae({},g.type.defaultProps),g.props):g.props,w=b.type,S=b.dataKey,A=b.allowDataOverflow,E=b.allowDuplicatedCategory,N=b.scale,_=b.ticks,T=b.includeHidden,P=b[o];if(v[P])return v;var I=K0(e.data,{graphicalItems:i.filter(function(Q){var ge,pe=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o];return pe===P}),dataStartIndex:c,dataEndIndex:u}),j=I.length,O,R,F;lNe(b.domain,A,w)&&(O=c_(b.domain,null,A),m&&(w==="number"||N!=="auto")&&(F=uh(I,S,"category")));var B=T9(w);if(!O||O.length===0){var U,W=(U=b.domain)!==null&&U!==void 0?U:B;if(S){if(O=uh(I,S,w),w==="category"&&m){var $=dle(O);E&&$?(R=O,O=Uv(0,j)):E||(O=pO(W,O,g).reduce(function(Q,ge){return Q.indexOf(ge)>=0?Q:[].concat(Ed(Q),[ge])},[]))}else if(w==="category")E?O=O.filter(function(Q){return Q!==""&&!wt(Q)}):O=pO(W,O,g).reduce(function(Q,ge){return Q.indexOf(ge)>=0||ge===""||wt(ge)?Q:[].concat(Ed(Q),[ge])},[]);else if(w==="number"){var z=k1e(I,i.filter(function(Q){var ge,pe,Ee=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o],tt="hide"in Q.props?Q.props.hide:(pe=Q.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return Ee===P&&(T||!tt)}),S,s,d);z&&(O=z)}m&&(w==="number"||N!=="auto")&&(F=uh(I,S,"category"))}else m?O=Uv(0,j):a&&a[P]&&a[P].hasStack&&w==="number"?O=h==="expand"?[0,1]:bU(a[P].stackGroups,c,u):O=vU(I,i.filter(function(Q){var ge=o in Q.props?Q.props[o]:Q.type.defaultProps[o],pe="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ge===P&&(T||!pe)}),w,d,!0);if(w==="number")O=z_(f,O,P,s,_),W&&(O=c_(W,O,A));else if(w==="category"&&W){var re=W,se=O.every(function(Q){return re.indexOf(Q)>=0});se&&(O=re)}}return ae(ae({},v),{},at({},P,ae(ae({},b),{},{axisType:s,domain:O,categoricalDomain:F,duplicateDomain:R,originalDomain:(y=b.domain)!==null&&y!==void 0?y:B,isCategorical:m,layout:d})))},{})},LNe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=K0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=xU(d,s),g=-1;return r.reduce(function(y,b){var w=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,S=w[o],A=T9("number");if(!y[S]){g++;var E;return v?E=Uv(0,m):a&&a[S]&&a[S].hasStack?(E=bU(a[S].stackGroups,c,u),E=z_(f,E,S,s)):(E=c_(A,vU(h,r.filter(function(N){var _,T,P=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],I="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===S&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=z_(f,E,S,s)),ae(ae({},y),{},at({},S,ae(ae({axisType:s},i.defaultProps),{},{hide:!0,orientation:ts(INe,"".concat(s,".").concat(g%2),null),domain:E,originalDomain:A,isCategorical:v,layout:d})))}return y},{})},$Ne=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ns(d,s),m={};return h&&h.length?m=DNe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=LNe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),m},FNe=function(e){var n=qc(e),r=Hl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:dA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ov(n,r)}},MR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ci(n,pd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},VNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ho(n&&n.type);return r&&r.indexOf("Bar")>=0})},DR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BNe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ci(f,pd),v=Ci(f,Tu),g=Object.keys(c).reduce(function(E,N){var _=c[N],T=_.orientation;return!_.mirror&&!_.hide?ae(ae({},E),{},at({},T,E[T]+_.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,N){var _=o[N],T=_.orientation;return!_.mirror&&!_.hide?ae(ae({},E),{},at({},T,ts(E,"".concat(T))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},y),g),w=b.bottom;m&&(b.bottom+=m.props.height||pd.defaultProps.height),v&&n&&(b=N1e(b,i,r,n));var S=u-b.left-b.right,A=d-b.top-b.bottom;return ae(ae({brushBottom:w},b),{},{width:Math.max(S,0),height:Math.max(A,0)})},UNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zNe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,w){var S=w.graphicalItems,A=w.stackGroups,E=w.offset,N=w.updateId,_=w.dataStartIndex,T=w.dataEndIndex,P=b.barSize,I=b.layout,j=b.barGap,O=b.barCategoryGap,R=b.maxBarSize,F=DR(I),B=F.numericAxisName,U=F.cateAxisName,W=VNe(S),$=[];return S.forEach(function(z,re){var se=K0(b.data,{graphicalItems:[z],dataStartIndex:_,dataEndIndex:T}),Q=z.type.defaultProps!==void 0?ae(ae({},z.type.defaultProps),z.props):z.props,ge=Q.dataKey,pe=Q.maxBarSize,Ee=Q["".concat(B,"Id")],tt=Q["".concat(U,"Id")],xe={},Ne=c.reduce(function(Ze,Ie){var Ut=w["".concat(Ie.axisType,"Map")],yn=Q["".concat(Ie.axisType,"Id")];Ut&&Ut[yn]||Ie.axisType==="zAxis"||bc();var hn=Ut[yn];return ae(ae({},Ze),{},at(at({},Ie.axisType,hn),"".concat(Ie.axisType,"Ticks"),Hl(hn)))},xe),le=Ne[U],de=Ne["".concat(U,"Ticks")],Y=A&&A[Ee]&&A[Ee].hasStack&&z1e(z,A[Ee].stackGroups),V=Ho(z.type).indexOf("Bar")>=0,we=Ov(le,de),_e=[],nt=W&&A1e({barSize:P,stackGroups:A,totalSize:UNe(Ne,U)});if(V){var Ye,rt,gt=wt(pe)?R:pe,Ce=(Ye=(rt=Ov(le,de,!0))!==null&&rt!==void 0?rt:gt)!==null&&Ye!==void 0?Ye:0;_e=P1e({barGap:j,barCategoryGap:O,bandSize:Ce!==we?Ce:we,sizeList:nt[tt],maxBarSize:gt}),Ce!==we&&(_e=_e.map(function(Ze){return ae(ae({},Ze),{},{position:ae(ae({},Ze.position),{},{offset:Ze.position.offset-Ce/2})})}))}var Je=z&&z.type&&z.type.getComposedData;Je&&$.push({props:ae(ae({},Je(ae(ae({},Ne),{},{displayedData:se,props:b,dataKey:ge,item:z,bandSize:we,barPosition:_e,offset:E,stackedData:Y,layout:I,dataStartIndex:_,dataEndIndex:T}))),{},at(at(at({key:z.key||"item-".concat(re)},B,Ne[B]),U,Ne[U]),"animationId",N)),childIndex:Ele(z,b.children),item:z})}),$},m=function(b,w){var S=b.props,A=b.dataStartIndex,E=b.dataEndIndex,N=b.updateId;if(!ak({props:S}))return null;var _=S.children,T=S.layout,P=S.stackOffset,I=S.data,j=S.reverseStackOrder,O=DR(T),R=O.numericAxisName,F=O.cateAxisName,B=ns(_,r),U=V1e(I,B,"".concat(R,"Id"),"".concat(F,"Id"),P,j),W=c.reduce(function(Q,ge){var pe="".concat(ge.axisType,"Map");return ae(ae({},Q),{},at({},pe,$Ne(S,ae(ae({},ge),{},{graphicalItems:B,stackGroups:ge.axisType===R&&U,dataStartIndex:A,dataEndIndex:E}))))},{}),$=BNe(ae(ae({},W),{},{props:S,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(Q){W[Q]=d(S,W[Q],$,Q.replace("Map",""),n)});var z=W["".concat(F,"Map")],re=FNe(z),se=h(S,ae(ae({},W),{},{dataStartIndex:A,dataEndIndex:E,updateId:N,graphicalItems:B,stackGroups:U,offset:$}));return ae(ae({formattedGraphicalItems:se,graphicalItems:B,offset:$,stackGroups:U},re),W)},v=function(y){function b(w){var S,A,E;return wNe(this,b),E=ENe(this,b,[w]),at(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(E,"accessibilityManager",new aNe),at(E,"handleLegendBBoxUpdate",function(N){if(N){var _=E.state,T=_.dataStartIndex,P=_.dataEndIndex,I=_.updateId;E.setState(ae({legendBBox:N},m({props:E.props,dataStartIndex:T,dataEndIndex:P,updateId:I},ae(ae({},E.state),{},{legendBBox:N}))))}}),at(E,"handleReceiveSyncEvent",function(N,_,T){if(E.props.syncId===N){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),at(E,"handleBrushChange",function(N){var _=N.startIndex,T=N.endIndex;if(_!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return ae({dataStartIndex:_,dataEndIndex:T},m({props:E.props,dataStartIndex:_,dataEndIndex:T,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),at(E,"handleMouseEnter",function(N){var _=E.getMouseInfo(N);if(_){var T=ae(ae({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseEnter;Et(P)&&P(T,N)}}),at(E,"triggeredAfterMouseMove",function(N){var _=E.getMouseInfo(N),T=_?ae(ae({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseMove;Et(P)&&P(T,N)}),at(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),at(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),at(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),at(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var T=E.props.onMouseLeave;Et(T)&&T(_,N)}),at(E,"handleOuterEvent",function(N){var _=_le(N),T=ts(E.props,"".concat(_));if(_&&Et(T)){var P,I;/.*touch.*/i.test(_)?I=E.getMouseInfo(N.changedTouches[0]):I=E.getMouseInfo(N),T((P=I)!==null&&P!==void 0?P:{},N)}}),at(E,"handleClick",function(N){var _=E.getMouseInfo(N);if(_){var T=ae(ae({},_),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onClick;Et(P)&&P(T,N)}}),at(E,"handleMouseDown",function(N){var _=E.props.onMouseDown;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleMouseUp",function(N){var _=E.props.onMouseUp;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),at(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),at(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),at(E,"handleDoubleClick",function(N){var _=E.props.onDoubleClick;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"handleContextMenu",function(N){var _=E.props.onContextMenu;if(Et(_)){var T=E.getMouseInfo(N);_(T,N)}}),at(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&Rw.emit(Mw,E.props.syncId,N,E.eventEmitterSymbol)}),at(E,"applySyncEvent",function(N){var _=E.props,T=_.layout,P=_.syncMethod,I=E.state.updateId,j=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(ae({dataStartIndex:j,dataEndIndex:O},m({props:E.props,dataStartIndex:j,dataEndIndex:O,updateId:I},E.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,F=N.chartY,B=N.activeTooltipIndex,U=E.state,W=U.offset,$=U.tooltipTicks;if(!W)return;if(typeof P=="function")B=P($,N);else if(P==="value"){B=-1;for(var z=0;z<$.length;z++)if($[z].value===N.activeLabel){B=z;break}}var re=ae(ae({},W),{},{x:W.left,y:W.top}),se=Math.min(R,re.x+re.width),Q=Math.min(F,re.y+re.height),ge=$[B]&&$[B].value,pe=q_(E.state,E.props.data,B),Ee=$[B]?{x:T==="horizontal"?$[B].coordinate:se,y:T==="horizontal"?Q:$[B].coordinate}:E9;E.setState(ae(ae({},N),{},{activeLabel:ge,activeCoordinate:Ee,activePayload:pe,activeTooltipIndex:B}))}else E.setState(N)}),at(E,"renderCursor",function(N){var _,T=E.state,P=T.isTooltipActive,I=T.activeCoordinate,j=T.activePayload,O=T.offset,R=T.activeTooltipIndex,F=T.tooltipAxisBandSize,B=E.getTooltipEventType(),U=(_=N.props.active)!==null&&_!==void 0?_:P,W=E.props.layout,$=N.key||"_recharts-cursor";return q.createElement(pNe,{key:$,activeCoordinate:I,activePayload:j,activeTooltipIndex:R,chartName:n,element:N,isActive:U,layout:W,offset:O,tooltipAxisBandSize:F,tooltipEventType:B})}),at(E,"renderPolarAxis",function(N,_,T){var P=ts(N,"type.axisType"),I=ts(E.state,"".concat(P,"Map")),j=N.type.defaultProps,O=j!==void 0?ae(ae({},j),N.props):N.props,R=I&&I[O["".concat(P,"Id")]];return x.cloneElement(N,ae(ae({},R),{},{className:At(P,R.className),key:N.key||"".concat(_,"-").concat(T),ticks:Hl(R,!0)}))}),at(E,"renderPolarGrid",function(N){var _=N.props,T=_.radialLines,P=_.polarAngles,I=_.polarRadius,j=E.state,O=j.radiusAxisMap,R=j.angleAxisMap,F=qc(O),B=qc(R),U=B.cx,W=B.cy,$=B.innerRadius,z=B.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(P)?P:Hl(B,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(I)?I:Hl(F,!0).map(function(re){return re.coordinate}),cx:U,cy:W,innerRadius:$,outerRadius:z,key:N.key||"polar-grid",radialLines:T})}),at(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,_=E.props,T=_.children,P=_.width,I=_.height,j=E.props.margin||{},O=P-(j.left||0)-(j.right||0),R=gU({children:T,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!R)return null;var F=R.item,B=IR(R,mNe);return x.cloneElement(F,ae(ae({},B),{},{chartWidth:P,chartHeight:I,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),at(E,"renderTooltip",function(){var N,_=E.props,T=_.children,P=_.accessibilityLayer,I=Ci(T,Xs);if(!I)return null;var j=E.state,O=j.isTooltipActive,R=j.activeCoordinate,F=j.activePayload,B=j.activeLabel,U=j.offset,W=(N=I.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(I,{viewBox:ae(ae({},U),{},{x:U.left,y:U.top}),active:W,label:B,payload:W?F:[],coordinate:R,accessibilityLayer:P})}),at(E,"renderBrush",function(N){var _=E.props,T=_.margin,P=_.data,I=E.state,j=I.offset,O=I.dataStartIndex,R=I.dataEndIndex,F=I.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:fg(E.handleBrushChange,N.props.onChange),data:P,x:ke(N.props.x)?N.props.x:j.left,y:ke(N.props.y)?N.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:ke(N.props.width)?N.props.width:j.width,startIndex:O,endIndex:R,updateId:"brush-".concat(F)})}),at(E,"renderReferenceElement",function(N,_,T){if(!N)return null;var P=E,I=P.clipPathId,j=E.state,O=j.xAxisMap,R=j.yAxisMap,F=j.offset,B=N.type.defaultProps||{},U=N.props,W=U.xAxisId,$=W===void 0?B.xAxisId:W,z=U.yAxisId,re=z===void 0?B.yAxisId:z;return x.cloneElement(N,{key:N.key||"".concat(_,"-").concat(T),xAxis:O[$],yAxis:R[re],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:I})}),at(E,"renderActivePoints",function(N){var _=N.item,T=N.activePoint,P=N.basePoint,I=N.childIndex,j=N.isRange,O=[],R=_.props.key,F=_.item.type.defaultProps!==void 0?ae(ae({},_.item.type.defaultProps),_.item.props):_.item.props,B=F.activeDot,U=F.dataKey,W=ae(ae({index:I,dataKey:U,cx:T.x,cy:T.y,r:4,fill:LA(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Nt(B,!1)),iv(B));return O.push(b.renderActiveDot(B,W,"".concat(R,"-activePoint-").concat(I))),P?O.push(b.renderActiveDot(B,ae(ae({},W),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(I))):j&&O.push(null),O}),at(E,"renderGraphicChild",function(N,_,T){var P=E.filterFormatItem(N,_,T);if(!P)return null;var I=E.getTooltipEventType(),j=E.state,O=j.isTooltipActive,R=j.tooltipAxis,F=j.activeTooltipIndex,B=j.activeLabel,U=E.props.children,W=Ci(U,Xs),$=P.props,z=$.points,re=$.isRange,se=$.baseLine,Q=P.item.type.defaultProps!==void 0?ae(ae({},P.item.type.defaultProps),P.item.props):P.item.props,ge=Q.activeDot,pe=Q.hide,Ee=Q.activeBar,tt=Q.activeShape,xe=!!(!pe&&O&&W&&(ge||Ee||tt)),Ne={};I!=="axis"&&W&&W.props.trigger==="click"?Ne={onClick:fg(E.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(Ne={onMouseLeave:fg(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:fg(E.handleItemMouseEnter,N.props.onMouseEnter)});var le=x.cloneElement(N,ae(ae({},P.props),Ne));function de(Ie){return typeof R.dataKey=="function"?R.dataKey(Ie.payload):null}if(xe)if(F>=0){var Y,V;if(R.dataKey&&!R.allowDuplicatedCategory){var we=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());Y=rv(z,we,B),V=re&&se&&rv(se,we,B)}else Y=z==null?void 0:z[F],V=re&&se&&se[F];if(tt||Ee){var _e=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[x.cloneElement(N,ae(ae(ae({},P.props),Ne),{},{activeIndex:_e})),null,null]}if(!wt(Y))return[le].concat(Ed(E.renderActivePoints({item:P,activePoint:Y,basePoint:V,childIndex:F,isRange:re})))}else{var nt,Ye=(nt=E.getItemByXY(E.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:le},rt=Ye.graphicalItem,gt=rt.item,Ce=gt===void 0?N:gt,Je=rt.childIndex,Ze=ae(ae(ae({},P.props),Ne),{},{activeIndex:Je});return[x.cloneElement(Ce,Ze),null,null]}return re?[le,null,null]:[le,null]}),at(E,"renderCustomized",function(N,_,T){return x.cloneElement(N,ae(ae({key:"recharts-customized-".concat(T)},E.props),E.state))}),at(E,"renderMap",{CartesianGrid:{handler:yg,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:yg},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:yg},YAxis:{handler:yg},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:im("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=mB(E.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return ANe(b,y),_Ne(b,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,E=S.data,N=S.height,_=S.layout,T=Ci(A,Xs);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,j=q_(this.state,E,P,I),O=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+N)/2,F=_==="horizontal",B=F?{x:O,y:R}:{y:O,x:R},U=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});U&&(B=ae(ae({},B),U.props.points[P].tooltipPosition),j=U.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:I,activePayload:j,activeCoordinate:B};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(S){ES([Ci(S.children,Xs)],[Ci(this.props.children,Xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ci(this.props.children,Xs);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return a.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),N=Jve(E),_={chartX:Math.round(S.pageX-N.left),chartY:Math.round(S.pageY-N.top)},T=E.width/A.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,T);if(!P)return null;var I=this.state,j=I.xAxisMap,O=I.yAxisMap,R=this.getTooltipEventType(),F=RR(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&j&&O){var B=qc(j).scale,U=qc(O).scale,W=B&&B.invert?B.invert(_.chartX):null,$=U&&U.invert?U.invert(_.chartY):null;return ae(ae({},_),{},{xValue:W,yValue:$},F)}return F?ae(ae({},_),F):null}},{key:"inRange",value:function(S,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=S/E,T=A/E;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,I=_>=P.left&&_<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return I?{x:_,y:T}:null}var j=this.state,O=j.angleAxisMap,R=j.radiusAxisMap;if(O&&R){var F=qc(O);return yO({x:_,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),E=Ci(S,Xs),N={};E&&A==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=iv(this.props,this.handleOuterEvent);return ae(ae({},_),N)}},{key:"addListener",value:function(){Rw.on(Mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rw.removeListener(Mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,E){for(var N=this.state.formattedGraphicalItems,_=0,T=N.length;_<T;_++){var P=N[_];if(P.item===S||P.props.key===S.key||A===Ho(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,E=A.left,N=A.top,_=A.height,T=A.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:E,y:N,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,E){var N=kR(E,2),_=N[0],T=N[1];return ae(ae({},A),{},at({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,E){var N=kR(E,2),_=N[0],T=N[1];return ae(ae({},A),{},at({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,E=A.formattedGraphicalItems,N=A.activeItem;if(E&&E.length)for(var _=0,T=E.length;_<T;_++){var P=E[_],I=P.props,j=P.item,O=j.type.defaultProps!==void 0?ae(ae({},j.type.defaultProps),j.props):j.props,R=Ho(j.type);if(R==="Bar"){var F=(I.data||[]).find(function($){return REe(S,$)});if(F)return{graphicalItem:P,payload:F}}else if(R==="RadialBar"){var B=(I.data||[]).find(function($){return yO(S,$)});if(B)return{graphicalItem:P,payload:B}}else if($0(P,N)||F0(P,N)||_p(P,N)){var U=LTe({graphicalItem:P,activeTooltipItem:N,itemData:O.data}),W=O.activeIndex===void 0?U:O.activeIndex;return{graphicalItem:ae(ae({},P),{},{childIndex:W}),payload:_p(P,N)?O.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!ak(this))return null;var A=this.props,E=A.children,N=A.className,_=A.width,T=A.height,P=A.style,I=A.compact,j=A.title,O=A.desc,R=IR(A,gNe),F=Nt(R,!1);if(I)return q.createElement(mR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(CS,cu({},F,{width:_,height:T,title:j,desc:O}),this.renderClipPath(),ck(E,this.renderMap)));if(this.props.accessibilityLayer){var B,U;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},F.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return q.createElement(mR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",cu({className:At("recharts-wrapper",N),style:ae({position:"relative",cursor:"default",width:_,height:T},P)},W,{ref:function(z){S.container=z}}),q.createElement(CS,cu({},F,{width:_,height:T,title:j,desc:O,style:ONe}),this.renderClipPath(),ck(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);at(v,"displayName",n),at(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(v,"getDerivedStateFromProps",function(y,b){var w=y.dataKey,S=y.data,A=y.children,E=y.width,N=y.height,_=y.layout,T=y.stackOffset,P=y.margin,I=b.dataStartIndex,j=b.dataEndIndex;if(b.updateId===void 0){var O=MR(y);return ae(ae(ae({},O),{},{updateId:0},m(ae(ae({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(w!==b.prevDataKey||S!==b.prevData||E!==b.prevWidth||N!==b.prevHeight||_!==b.prevLayout||T!==b.prevStackOffset||!Eu(P,b.prevMargin)){var R=MR(y),F={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=ae(ae({},RR(b,S,_)),{},{updateId:b.updateId+1}),U=ae(ae(ae({},R),F),B);return ae(ae(ae({},U),m(ae({props:y},U),b)),{},{prevDataKey:w,prevData:S,prevWidth:E,prevHeight:N,prevLayout:_,prevStackOffset:T,prevMargin:P,prevChildren:A})}if(!ES(A,b.prevChildren)){var W,$,z,re,se=Ci(A,pd),Q=se&&(W=($=se.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:I,ge=se&&(z=(re=se.props)===null||re===void 0?void 0:re.endIndex)!==null&&z!==void 0?z:j,pe=Q!==I||ge!==j,Ee=!wt(S),tt=Ee&&!pe?b.updateId:b.updateId+1;return ae(ae({updateId:tt},m(ae(ae({props:y},b),{},{updateId:tt,dataStartIndex:Q,dataEndIndex:ge}),b)),{},{prevChildren:A,dataStartIndex:Q,dataEndIndex:ge})}return null}),at(v,"renderActiveDot",function(y,b,w){var S;return x.isValidElement(y)?S=x.cloneElement(y,b):Et(y)?S=y(b):S=q.createElement(FA,b),q.createElement(Ln,{className:"recharts-active-dot",key:w},S)});var g=x.forwardRef(function(b,w){return q.createElement(v,cu({},b,{ref:w}))});return g.displayName=v.displayName,g},WNe=zNe({chartName:"LineChart",GraphicalChild:dm,axisComponents:[{axisType:"xAxis",AxisComp:q0},{axisType:"yAxis",AxisComp:G0}],formatAxisMap:uAe});function HNe(t){return Object.prototype.toString.call(t)==="[object Object]"}function LR(t){return HNe(t)||Array.isArray(t)}function qNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function WA(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],c=e[o];return typeof a=="function"?`${a}`==`${c}`:!LR(a)||!LR(c)?a===c:WA(a,c)})}function $R(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function GNe(t,e){if(t.length!==e.length)return!1;const n=$R(t),r=$R(e);return n.every((i,s)=>{const o=r[s];return WA(i,o)})}function HA(t){return typeof t=="number"}function G_(t){return typeof t=="string"}function Y0(t){return typeof t=="boolean"}function FR(t){return Object.prototype.toString.call(t)==="[object Object]"}function En(t){return Math.abs(t)}function qA(t){return Math.sign(t)}function hh(t,e){return En(t-e)}function KNe(t,e){if(t===0||e===0||En(t)<=En(e))return 0;const n=hh(En(t),En(e));return En(n/t)}function YNe(t){return Math.round(t*100)/100}function jp(t){return kp(t).map(Number)}function Ds(t){return t[fm(t)]}function fm(t){return Math.max(0,t.length-1)}function GA(t,e){return e===fm(t)}function VR(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function kp(t){return Object.keys(t)}function C9(t,e){return[t,e].reduce((n,r)=>(kp(r).forEach(i=>{const s=n[i],o=r[i],a=FR(s)&&FR(o);n[i]=a?C9(s,o):o}),n),{})}function K_(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function XNe(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(c){return s(c)/2}function s(c){return e-c}function o(c,u){return G_(t)?n[t](c):t(e,c,u)}return{measure:o}}function Ip(){let t=[];function e(i,s,o,a={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(s,o,a),c=()=>i.removeEventListener(s,o,a);else{const u=i;u.addListener(o),c=()=>u.removeListener(o)}return t.push(c),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function QNe(t,e,n,r){const i=Ip(),s=1e3/60;let o=null,a=0,c=0;function u(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){m(),i.clear()}function f(y){if(!c)return;o||(o=y,n(),n());const b=y-o;for(o=y,a+=b;a>=s;)n(),a-=s;const w=a/s;r(w),c&&(c=e.requestAnimationFrame(f))}function h(){c||(c=e.requestAnimationFrame(f))}function m(){e.cancelAnimationFrame(c),o=null,a=0,c=0}function v(){o=null,a=0}return{init:u,destroy:d,start:h,stop:m,update:n,render:r}}function JNe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),c=f();function u(v){const{height:g,width:y}=v;return r?g:y}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:c,measureSize:u,direction:h}}function wc(t=0,e=0){const n=En(t-e);function r(u){return u<t}function i(u){return u>e}function s(u){return r(u)||i(u)}function o(u){return s(u)?r(u)?t:e:u}function a(u){return n?u-n*Math.ceil((u-e)/n):u}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function A9(t,e,n){const{constrain:r}=wc(0,t),i=t+1;let s=o(e);function o(h){return n?En((i+h)%i):r(h)}function a(){return s}function c(h){return s=o(h),f}function u(h){return d().set(a()+h)}function d(){return A9(t,a(),n)}const f={get:a,set:c,add:u,clone:d};return f}function ZNe(t,e,n,r,i,s,o,a,c,u,d,f,h,m,v,g,y,b,w){const{cross:S,direction:A}=t,E=["INPUT","SELECT","TEXTAREA"],N={passive:!1},_=Ip(),T=Ip(),P=wc(50,225).constrain(m.measure(20)),I={mouse:300,touch:400},j={mouse:500,touch:600},O=v?43:25;let R=!1,F=0,B=0,U=!1,W=!1,$=!1,z=!1;function re(V){if(!w)return;function we(nt){(Y0(w)||w(V,nt))&&tt(nt)}const _e=e;_.add(_e,"dragstart",nt=>nt.preventDefault(),N).add(_e,"touchmove",()=>{},N).add(_e,"touchend",()=>{}).add(_e,"touchstart",we).add(_e,"mousedown",we).add(_e,"touchcancel",Ne).add(_e,"contextmenu",Ne).add(_e,"click",le,!0)}function se(){_.clear(),T.clear()}function Q(){const V=z?n:e;T.add(V,"touchmove",xe,N).add(V,"touchend",Ne).add(V,"mousemove",xe,N).add(V,"mouseup",Ne)}function ge(V){const we=V.nodeName||"";return E.includes(we)}function pe(){return(v?j:I)[z?"mouse":"touch"]}function Ee(V,we){const _e=f.add(qA(V)*-1),nt=d.byDistance(V,!v).distance;return v||En(V)<P?nt:y&&we?nt*.5:d.byIndex(_e.get(),0).distance}function tt(V){const we=K_(V,r);z=we,$=v&&we&&!V.buttons&&R,R=hh(i.get(),o.get())>=2,!(we&&V.button!==0)&&(ge(V.target)||(U=!0,s.pointerDown(V),u.useFriction(0).useDuration(0),i.set(o),Q(),F=s.readPoint(V),B=s.readPoint(V,S),h.emit("pointerDown")))}function xe(V){if(!K_(V,r)&&V.touches.length>=2)return Ne(V);const _e=s.readPoint(V),nt=s.readPoint(V,S),Ye=hh(_e,F),rt=hh(nt,B);if(!W&&!z&&(!V.cancelable||(W=Ye>rt,!W)))return Ne(V);const gt=s.pointerMove(V);Ye>g&&($=!0),u.useFriction(.3).useDuration(.75),a.start(),i.add(A(gt)),V.preventDefault()}function Ne(V){const _e=d.byDistance(0,!1).index!==f.get(),nt=s.pointerUp(V)*pe(),Ye=Ee(A(nt),_e),rt=KNe(nt,Ye),gt=O-10*rt,Ce=b+rt/50;W=!1,U=!1,T.clear(),u.useDuration(gt).useFriction(Ce),c.distance(Ye,!v),z=!1,h.emit("pointerUp")}function le(V){$&&(V.stopPropagation(),V.preventDefault(),$=!1)}function de(){return U}return{init:re,destroy:se,pointerDown:de}}function eje(t,e){let r,i;function s(f){return f.timeStamp}function o(f,h){const v=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(K_(f,e)?f:f.touches[0])[v]}function a(f){return r=f,i=f,o(f)}function c(f){const h=o(f)-o(i),m=s(f)-s(r)>170;return i=f,m&&(r=f),h}function u(f){if(!r||!i)return 0;const h=o(i)-o(r),m=s(f)-s(r),v=s(f)-s(i)>170,g=h/m;return m&&!v&&En(g)>.1?g:0}return{pointerDown:a,pointerMove:c,pointerUp:u,readPoint:o}}function tje(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function nje(t){function e(r){return t*(r/100)}return{measure:e}}function rje(t,e,n,r,i,s,o){const a=[t].concat(r);let c,u,d=[],f=!1;function h(y){return i.measureSize(o.measure(y))}function m(y){if(!s)return;u=h(t),d=r.map(h);function b(w){for(const S of w){if(f)return;const A=S.target===t,E=r.indexOf(S.target),N=A?u:d[E],_=h(A?t:r[E]);if(En(_-N)>=.5){y.reInit(),e.emit("resize");break}}}c=new ResizeObserver(w=>{(Y0(s)||s(y,w))&&b(w)}),n.requestAnimationFrame(()=>{a.forEach(w=>c.observe(w))})}function v(){f=!0,c&&c.disconnect()}return{init:m,destroy:v}}function ije(t,e,n,r,i,s){let o=0,a=0,c=i,u=s,d=t.get(),f=0;function h(){const N=r.get()-t.get(),_=!c;let T=0;return _?(o=0,n.set(r),t.set(r),T=N):(n.set(t),o+=N/c,o*=u,d+=o,t.add(o),T=d-f),a=qA(T),f=d,E}function m(){const N=r.get()-e.get();return En(N)<.001}function v(){return c}function g(){return a}function y(){return o}function b(){return S(i)}function w(){return A(s)}function S(N){return c=N,E}function A(N){return u=N,E}const E={direction:g,duration:v,velocity:y,seek:h,settled:m,useBaseFriction:w,useBaseDuration:b,useFriction:A,useDuration:S};return E}function sje(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=wc(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!u())return;const v=t.reachedMin(e.get())?"min":"max",g=En(t[v]-e.get()),y=n.get()-e.get(),b=a.constrain(g/o);n.subtract(y*b),!m&&En(y)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function oje(t,e,n,r,i){const s=wc(-e+t,0),o=f(),a=d(),c=h();function u(v,g){return hh(v,g)<=1}function d(){const v=o[0],g=Ds(o),y=o.lastIndexOf(v),b=o.indexOf(g)+1;return wc(y,b)}function f(){return n.map((v,g)=>{const{min:y,max:b}=s,w=s.constrain(v),S=!g,A=GA(n,g);return S?b:A||u(y,w)?y:u(b,w)?b:w}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:g}=a;return o.slice(v,g)}return{snapsContained:c,scrollContainLimit:a}}function aje(t,e,n){const r=e[0],i=n?r-t:Ds(e);return{limit:wc(i,r)}}function lje(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:c}=wc(s,o);function u(h){return h===1?c(n.get()):h===-1?a(n.get()):!1}function d(h){if(!u(h))return;const m=t*(h*-1);r.forEach(v=>v.add(m))}return{loop:d}}function cje(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function uje(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,c=f().map(e.measure),u=h(),d=m();function f(){return a(r).map(g=>Ds(g)[o]-g[0][s]).map(En)}function h(){return r.map(g=>n[s]-g[s]).map(g=>-En(g))}function m(){return a(u).map(g=>g[0]).map((g,y)=>g+c[y])}return{snaps:u,snapsAligned:d}}function dje(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:c}=r,u=d();function d(){const h=o(s),m=!t||e==="keepSnaps";return n.length===1?[s]:m?h:h.slice(a,c).map((v,g,y)=>{const b=!g,w=GA(y,g);if(b){const S=Ds(y[0])+1;return VR(S)}if(w){const S=fm(s)-Ds(y)[0]+1;return VR(S,Ds(y)[0])}return v})}return{slideRegistry:u}}function fje(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function c(v){return v.concat().sort((g,y)=>En(g)-En(y))[0]}function u(v){const g=t?o(v):a(v),y=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>En(w.diff)-En(S.diff)),{index:b}=y[0];return{index:b,distance:g}}function d(v,g){const y=[v,v+n,v-n];if(!t)return v;if(!g)return c(y);const b=y.filter(w=>qA(w)===g);return b.length?c(b):Ds(y)-n}function f(v,g){const y=e[v]-i.get(),b=d(y,g);return{index:v,distance:b}}function h(v,g){const y=i.get()+v,{index:b,distance:w}=u(y),S=!t&&s(y);if(!g||S)return{index:b,distance:v};const A=e[b]-w,E=v+d(A,0);return{index:b,distance:E}}return{byDistance:h,byIndex:f,shortcut:d}}function hje(t,e,n,r,i,s,o){function a(f){const h=f.distance,m=f.index!==e.get();s.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function c(f,h){const m=i.byDistance(f,h);a(m)}function u(f,h){const m=e.clone().set(f),v=i.byIndex(m.get(),h);a(v)}return{distance:c,index:u}}function pje(t,e,n,r,i,s,o,a){const c={passive:!0,capture:!0};let u=0;function d(m){if(!a)return;function v(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const w=n.findIndex(S=>S.includes(g));HA(w)&&(i.useDuration(0),r.index(w,0),o.emit("slideFocus"))}s.add(document,"keydown",f,!1),e.forEach((g,y)=>{s.add(g,"focus",b=>{(Y0(a)||a(m,b))&&v(y)},c)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Bf(t){let e=t;function n(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function s(c){e-=o(c)}function o(c){return HA(c)?c:c.get()}return{get:n,set:r,add:i,subtract:s}}function P9(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(s)return;const m=YNe(t.direction(h));m!==i&&(r.transform=n(m),i=m)}function u(h){s=!h}function d(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function mje(t,e,n,r,i,s,o,a,c){const d=jp(i),f=jp(i).reverse(),h=b().concat(w());function m(_,T){return _.reduce((P,I)=>P-i[I],T)}function v(_,T){return _.reduce((P,I)=>m(P,T)>0?P.concat([I]):P,[])}function g(_){return s.map((T,P)=>({start:T-r[P]+.5+_,end:T+e-.5+_}))}function y(_,T,P){const I=g(T);return _.map(j=>{const O=P?0:-n,R=P?n:0,F=P?"end":"start",B=I[j][F];return{index:j,loopPoint:B,slideLocation:Bf(-1),translate:P9(t,c[j]),target:()=>a.get()>B?O:R}})}function b(){const _=o[0],T=v(f,_);return y(T,n,!1)}function w(){const _=e-o[0]-1,T=v(d,_);return y(T,-n,!0)}function S(){return h.every(({index:_})=>{const T=d.filter(P=>P!==_);return m(T,e)<=.1})}function A(){h.forEach(_=>{const{target:T,translate:P,slideLocation:I}=_,j=T();j!==I.get()&&(P.to(j),I.set(j))})}function E(){h.forEach(_=>_.translate.clear())}return{canLoop:S,clear:E,loop:A,loopPoints:h}}function gje(t,e,n){let r,i=!1;function s(c){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(Y0(n)||n(c,d))&&u(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function yje(t,e,n,r){const i={};let s=null,o=null,a,c=!1;function u(){a=new IntersectionObserver(v=>{c||(v.forEach(g=>{const y=e.indexOf(g.target);i[y]=g}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),c=!0}function f(v){return kp(i).reduce((g,y)=>{const b=parseInt(y),{isIntersecting:w}=i[b];return(v&&w||!v&&!w)&&g.push(b),g},[])}function h(v=!0){if(v&&s)return s;if(!v&&o)return o;const g=f(v);return v&&(s=g),v||(o=g),g}return{init:u,destroy:d,get:h}}function vje(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:c}=t,u=n[0]&&i,d=v(),f=g(),h=n.map(o),m=y();function v(){if(!u)return 0;const w=n[0];return En(e[a]-w[a])}function g(){if(!u)return 0;const w=s.getComputedStyle(Ds(r));return parseFloat(w.getPropertyValue(`margin-${c}`))}function y(){return n.map((w,S,A)=>{const E=!S,N=GA(A,S);return E?h[S]+d:N?h[S]+f:A[S+1][a]-w[a]}).map(En)}return{slideSizes:h,slideSizesWithGaps:m,startGap:d,endGap:f}}function xje(t,e,n,r,i,s,o,a,c){const{startEdge:u,endEdge:d,direction:f}=t,h=HA(n);function m(b,w){return jp(b).filter(S=>S%w===0).map(S=>b.slice(S,S+w))}function v(b){return b.length?jp(b).reduce((w,S,A)=>{const E=Ds(w)||0,N=E===0,_=S===fm(b),T=i[u]-s[E][u],P=i[u]-s[S][d],I=!r&&N?f(o):0,j=!r&&_?f(a):0,O=En(P-j-(T+I));return A&&O>e+c&&w.push(S),_&&w.push(b.length),w},[]).map((w,S,A)=>{const E=Math.max(A[S-1]||0);return b.slice(E,w)}):[]}function g(b){return h?m(b,n):v(b)}return{groupSlides:g}}function bje(t,e,n,r,i,s,o){const{align:a,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:m,dragThreshold:v,inViewThreshold:g,slidesToScroll:y,skipSnaps:b,containScroll:w,watchResize:S,watchSlides:A,watchDrag:E,watchFocus:N}=s,_=2,T=tje(),P=T.measure(e),I=n.map(T.measure),j=JNe(c,u),O=j.measureSize(P),R=nje(O),F=XNe(a,O),B=!f&&!!w,U=f||!!w,{slideSizes:W,slideSizesWithGaps:$,startGap:z,endGap:re}=vje(j,P,I,n,U,i),se=xje(j,O,y,f,P,I,z,re,_),{snaps:Q,snapsAligned:ge}=uje(j,F,P,I,se),pe=-Ds(Q)+Ds($),{snapsContained:Ee,scrollContainLimit:tt}=oje(O,pe,ge,w,_),xe=B?Ee:ge,{limit:Ne}=aje(pe,xe,f),le=A9(fm(xe),d,f),de=le.clone(),Y=jp(n),V=({dragHandler:qt,scrollBody:pn,scrollBounds:Ft,options:{loop:Ge}})=>{Ge||Ft.constrain(qt.pointerDown()),pn.seek()},we=({scrollBody:qt,translate:pn,location:Ft,offsetLocation:Ge,previousLocation:Gr,scrollLooper:yr,slideLooper:Nr,dragHandler:ti,animation:Gt,eventHandler:zt,scrollBounds:vr,options:{loop:Hn}},Kt)=>{const qn=qt.settled(),Gn=!vr.shouldConstrain(),xn=Hn?qn:qn&&Gn,ds=xn&&!ti.pointerDown();ds&&Gt.stop();const Vi=Ft.get()*Kt+Gr.get()*(1-Kt);Ge.set(Vi),Hn&&(yr.loop(qt.direction()),Nr.loop()),pn.to(Ge.get()),ds&&zt.emit("settle"),xn||zt.emit("scroll")},_e=QNe(r,i,()=>V(vn),qt=>we(vn,qt)),nt=.68,Ye=xe[le.get()],rt=Bf(Ye),gt=Bf(Ye),Ce=Bf(Ye),Je=Bf(Ye),Ze=ije(rt,Ce,gt,Je,h,nt),Ie=fje(f,xe,pe,Ne,Je),Ut=hje(_e,le,de,Ze,Ie,Je,o),yn=cje(Ne),hn=Ip(),In=yje(e,n,o,g),{slideRegistry:qr}=dje(B,w,xe,tt,se,Y),rn=pje(t,n,qr,Ut,Ze,hn,o,N),vn={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:I,animation:_e,axis:j,dragHandler:ZNe(j,t,r,i,Je,eje(j,i),rt,_e,Ut,Ze,Ie,le,o,R,m,v,b,nt,E),eventStore:hn,percentOfView:R,index:le,indexPrevious:de,limit:Ne,location:rt,offsetLocation:Ce,previousLocation:gt,options:s,resizeHandler:rje(e,o,i,n,j,S,T),scrollBody:Ze,scrollBounds:sje(Ne,Ce,Je,Ze,R),scrollLooper:lje(pe,Ne,Ce,[rt,Ce,gt,Je]),scrollProgress:yn,scrollSnapList:xe.map(yn.get),scrollSnaps:xe,scrollTarget:Ie,scrollTo:Ut,slideLooper:mje(j,O,pe,W,$,Q,xe,Ce,n),slideFocus:rn,slidesHandler:gje(e,o,A),slidesInView:In,slideIndexes:Y,slideRegistry:qr,slidesToScroll:se,target:Je,translate:P9(j,e)};return vn}function wje(){let t={},e;function n(u){e=u}function r(u){return t[u]||[]}function i(u){return r(u).forEach(d=>d(e,u)),c}function s(u,d){return t[u]=r(u).concat([d]),c}function o(u,d){return t[u]=r(u).filter(f=>f!==d),c}function a(){t={}}const c={init:n,emit:i,off:o,on:s,clear:a};return c}const Sje={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function _je(t){function e(s,o){return C9(s,o||{})}function n(s){const o=s.breakpoints||{},a=kp(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>e(c,u),{});return e(s,a)}function r(s){return s.map(o=>kp(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Eje(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,c)=>Object.assign(a,{[c.name]:c}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function nx(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=_je(i),o=Eje(s),a=Ip(),c=wje(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=s,{on:h,off:m,emit:v}=c,g=j;let y=!1,b,w=u(Sje,nx.globalOptions),S=u(w),A=[],E,N,_;function T(){const{container:Y,slides:V}=S;N=(G_(Y)?t.querySelector(Y):Y)||t.children[0];const _e=G_(V)?N.querySelectorAll(V):V;_=[].slice.call(_e||N.children)}function P(Y){const V=bje(t,N,_,r,i,Y,c);if(Y.loop&&!V.slideLooper.canLoop()){const we=Object.assign({},Y,{loop:!1});return P(we)}return V}function I(Y,V){y||(w=u(w,Y),S=d(w),A=V||A,T(),b=P(S),f([w,...A.map(({options:we})=>we)]).forEach(we=>a.add(we,"change",j)),S.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(de),b.eventHandler.init(de),b.resizeHandler.init(de),b.slidesHandler.init(de),b.options.loop&&b.slideLooper.loop(),N.offsetParent&&_.length&&b.dragHandler.init(de),E=o.init(de,A)))}function j(Y,V){const we=se();O(),I(u({startIndex:we},Y),V),c.emit("reInit")}function O(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),a.clear()}function R(){y||(y=!0,a.clear(),O(),c.emit("destroy"),c.clear())}function F(Y,V,we){!S.active||y||(b.scrollBody.useBaseFriction().useDuration(V===!0?0:S.duration),b.scrollTo.index(Y,we||0))}function B(Y){const V=b.index.add(1).get();F(V,Y,-1)}function U(Y){const V=b.index.add(-1).get();F(V,Y,1)}function W(){return b.index.add(1).get()!==se()}function $(){return b.index.add(-1).get()!==se()}function z(){return b.scrollSnapList}function re(){return b.scrollProgress.get(b.offsetLocation.get())}function se(){return b.index.get()}function Q(){return b.indexPrevious.get()}function ge(){return b.slidesInView.get()}function pe(){return b.slidesInView.get(!1)}function Ee(){return E}function tt(){return b}function xe(){return t}function Ne(){return N}function le(){return _}const de={canScrollNext:W,canScrollPrev:$,containerNode:Ne,internalEngine:tt,destroy:R,off:m,on:h,emit:v,plugins:Ee,previousScrollSnap:Q,reInit:g,rootNode:xe,scrollNext:B,scrollPrev:U,scrollProgress:re,scrollSnapList:z,scrollTo:F,selectedScrollSnap:se,slideNodes:le,slidesInView:ge,slidesNotInView:pe};return I(e,n),setTimeout(()=>c.emit("init"),0),de}nx.globalOptions=void 0;function KA(t={},e=[]){const n=x.useRef(t),r=x.useRef(e),[i,s]=x.useState(),[o,a]=x.useState(),c=x.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return x.useEffect(()=>{WA(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{GNe(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{if(qNe()&&o){nx.globalOptions=KA.globalOptions;const u=nx(o,n.current,r.current);return s(u),()=>u.destroy()}else s(void 0)},[o,s]),[a,i]}KA.globalOptions=void 0;const N9=x.createContext(null);function X0(){const t=x.useContext(N9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Y_=x.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[c,u]=KA({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=x.useState(!1),[h,m]=x.useState(!1),v=x.useCallback(w=>{w&&(f(w.canScrollPrev()),m(w.canScrollNext()))},[]),g=x.useCallback(()=>{u==null||u.scrollPrev()},[u]),y=x.useCallback(()=>{u==null||u.scrollNext()},[u]),b=x.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),y())},[g,y]);return x.useEffect(()=>{!u||!n||n(u)},[u,n]),x.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),l.jsx(N9.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:y,canScrollPrev:d,canScrollNext:h},children:l.jsx("div",{ref:a,onKeyDownCapture:b,className:ut("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});Y_.displayName="Carousel";const X_=x.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=X0();return l.jsx("div",{ref:r,className:"overflow-hidden",children:l.jsx("div",{ref:n,className:ut("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});X_.displayName="CarouselContent";const Q_=x.forwardRef(({className:t,...e},n)=>{const{orientation:r}=X0();return l.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ut("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Q_.displayName="CarouselItem";const J_=x.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=X0();return l.jsxs(oe,{ref:i,variant:e,size:n,className:ut("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[l.jsx(es,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Previous slide"})]})});J_.displayName="CarouselPrevious";const Z_=x.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=X0();return l.jsxs(oe,{ref:i,variant:e,size:n,className:ut("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[l.jsx(yH,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Next slide"})]})});Z_.displayName="CarouselNext";function Tje({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:s}){const o=t/e*100,a=()=>t===0?"bg-black":o>60?"bg-gradient-to-b from-green-500 to-green-700":o>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":o>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",c=()=>t===0?"text-red-500":"text-white",u=()=>o<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return l.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:s,"data-testid":"display-timer",type:"button",children:[n&&l.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),l.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${c()} ${u()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[l.jsx(Jf,{className:"w-5 h-5 md:w-6 md:h-6"}),l.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[l.jsx(p$,{className:"w-4 h-4 md:w-5 md:h-5"}),l.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&l.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&l.jsxs("div",{className:"flex flex-col items-center mt-2",children:[l.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[l.jsx(Jf,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const BR="shotclock_tutorial_seen",Lw="shotclock_sessions",vg="shotclock_paused_session";function Cje(){var yi,$n;const[,t]=ca(),{settings:e}=fC(),[n,r]=x.useState("setup"),[i,s]=x.useState("solo"),[o,a]=x.useState([{name:"Player 1",extensions:0}]),[c,u]=x.useState(0),[d,f]=x.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[h,m]=x.useState(0),[v,g]=x.useState(0),[y,b]=x.useState(30),[w,S]=x.useState(30),[A,E]=x.useState(30),[N,_]=x.useState(!1),[T,P]=x.useState(!1),[I]=x.useState(3),[j]=x.useState(15),[O,R]=x.useState(!0),[F,B]=x.useState(!1),[U,W]=x.useState([]),[$,z]=x.useState(1),re=x.useRef(null),se=x.useRef(null),[Q,ge]=x.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),pe=x.useRef(0),Ee=x.useRef(0),tt=x.useRef(0),[xe,Ne]=x.useState(!1),[le,de]=x.useState(!1),[Y,V]=x.useState([]),[we,_e]=x.useState(1),[nt,Ye]=x.useState(!1);e6(n==="playing"||n==="paused"),x.useEffect(()=>{(()=>{try{const ie=localStorage.getItem(Lw);ie&&W(JSON.parse(ie))}catch(ie){console.error("Failed to load saved sessions:",ie)}})()},[]),x.useEffect(()=>(mt.startSession("tempo"),()=>{tt.current>0&&mt.trackSkillMetric("tempo","session_complete",1),mt.endSession()}),[]),x.useEffect(()=>{const H=localStorage.getItem(vg);if(H)try{const ie=JSON.parse(H);(ie.gameMode==="paused"||ie.gameMode==="playing")&&(r("paused"),s(ie.playerMode),a(ie.players),u(ie.currentPlayerIndex),b(ie.duration),E(ie.timeRemaining),P(ie.isInExtension),R(ie.soloAutoRestart),ge({...ie.sessionStats,shotEvents:ie.sessionStats.shotEvents||[]}),Ee.current=ie.accumulatedShotTime||0,ie.teams&&f(ie.teams),ie.currentTeamIndex!==void 0&&m(ie.currentTeamIndex),ie.currentPartnerIndex!==void 0&&g(ie.currentPartnerIndex))}catch{localStorage.removeItem(vg)}},[]),x.useEffect(()=>{localStorage.getItem(BR)||B(!0)},[]);const rt=x.useCallback((H=800,ie=.3,je=1)=>{if(!e.soundEnabled)return;se.current||(se.current=new AudioContext);const ze=se.current;for(let Fe=0;Fe<je;Fe++)setTimeout(()=>{const it=ze.createOscillator(),G=ze.createGain();it.connect(G),G.connect(ze.destination),it.frequency.value=H,G.gain.value=.4,G.gain.exponentialRampToValueAtTime(.01,ze.currentTime+ie),it.start(ze.currentTime),it.stop(ze.currentTime+ie)},Fe*150)},[e.soundEnabled]),gt=x.useCallback(()=>{rt(600,.15,1)},[rt]),Ce=x.useCallback(()=>{rt(400,.5,3)},[rt]),Je=x.useCallback(()=>{rt(1e3,.2,2)},[rt]);x.useEffect(()=>(N&&A>0?re.current=setInterval(()=>{E(H=>{if(H<=6&&H>1&&gt(),H<=1){if(Ce(),P(!1),i==="solo"&&O){let ie=Ee.current/1e3;pe.current>0&&(ie+=(Date.now()-pe.current)/1e3),ie<=0&&(ie=y),tt.current++,mt.trackSkillMetric("tempo","shot_time",ie),ge(je=>{var Fe;const ze={shotIndex:je.shotCount,duration:Math.max(0,ie),playerName:((Fe=o[0])==null?void 0:Fe.name)||"Player 1",timestamp:Date.now(),eventType:"stroke"};return{...je,shotCount:je.shotCount+1,shotDurations:[...je.shotDurations,Math.max(0,ie)],shotEvents:[...je.shotEvents||[],ze]}}),Ee.current=0,setTimeout(()=>{Je(),E(y),_(!0),pe.current=Date.now()},1500)}else ge(ie=>({...ie,timeouts:ie.timeouts+1})),_(!1);return 0}return H-1})},1e3):re.current&&clearInterval(re.current),()=>{re.current&&clearInterval(re.current)}),[N,A,i,O,y,gt,Ce,Je]);const Ze=o[c],Ie=d[h];i==="scotch-doubles"?Ie==null||Ie.players[v]:Ze==null||Ze.name;const Ut=()=>{A===0&&(E(y),P(!1)),pe.current===0&&(pe.current=Date.now()),_(!0)},yn=()=>{pe.current>0&&(Ee.current+=Date.now()-pe.current),pe.current=0,_(!1)},hn=x.useCallback(()=>{const H={gameMode:"paused",playerMode:i,players:o,currentPlayerIndex:c,duration:y,timeRemaining:A,isInExtension:T,soloAutoRestart:O,sessionStats:Q,accumulatedShotTime:Ee.current,teams:d,currentTeamIndex:h,currentPartnerIndex:v};localStorage.setItem(vg,JSON.stringify(H))},[i,o,c,y,A,T,O,Q,d,h,v]),In=()=>{localStorage.removeItem(vg)},qr=()=>{pe.current>0&&(Ee.current+=Date.now()-pe.current),pe.current=0,_(!1),r("paused")};x.useEffect(()=>{n==="paused"&&hn()},[n,hn]);const rn=()=>{r("playing"),A>0&&(pe.current=Date.now(),_(!0))},vn=()=>{_(!1),r("paused"),hn(),t("/")};x.useEffect(()=>{const H=()=>{document.hidden&&n==="playing"&&N&&(pe.current>0&&(Ee.current+=Date.now()-pe.current),pe.current=0,_(!1),r("paused"))};return document.addEventListener("visibilitychange",H),()=>{document.removeEventListener("visibilitychange",H)}},[n,N]);const qt=()=>{_(!1),Ye(!0)},pn=H=>{var je;let ie=Ee.current/1e3;if(pe.current>0&&(ie+=(Date.now()-pe.current)/1e3),ie>0){tt.current++,mt.trackSkillMetric("tempo","shot_time",ie),mt.trackSkillMetric("tempo","turn_end_count",1);const ze={shotIndex:Q.shotCount,duration:Math.max(0,ie),playerName:i==="scotch-doubles"?(Ie==null?void 0:Ie.players[v])||"Unknown":i==="two-player"?(Ze==null?void 0:Ze.name)||"Unknown":((je=o[0])==null?void 0:je.name)||"Player 1",teamName:i==="scotch-doubles"?Ie==null?void 0:Ie.name:void 0,timestamp:Date.now(),eventType:H};ge(Fe=>({...Fe,shotCount:Fe.shotCount+1,shotDurations:[...Fe.shotDurations,Math.max(0,ie)],shotEvents:[...Fe.shotEvents||[],ze]}))}E(y),P(!1),Ee.current=0},Ft=()=>{Ye(!1),pn("turn_end"),i==="two-player"?u(H=>(H+1)%o.length):i==="scotch-doubles"&&(m(H=>(H+1)%d.length),g(0)),pe.current=Date.now(),setTimeout(()=>_(!0),100)},Ge=()=>{Ye(!1);const H=zt(),ie=i==="scotch-doubles"?(Ie==null?void 0:Ie.name)||"Team 1":(Ze==null?void 0:Ze.name)||"Player 1",je=i==="scotch-doubles"?"team":"player";ge(ze=>{var Me;const Fe={...ze};let it=[...ze.shotEvents||[]];H&&(it.push(H),Fe.shotDurations=[...ze.shotDurations,H.duration],Fe.shotCount=ze.shotCount+1);const Pe={rackNumber:(((Me=ze.rackResults)==null?void 0:Me.length)||0)+1,winner:ie,winnerType:je,shotEvents:it,timestamp:Date.now()};return Fe.rackResults=[...ze.rackResults||[],Pe],Fe.shotEvents=[],Fe}),_e(ze=>ze+1),Ee.current=0,pe.current=0,E(y),P(!1),_(!1),i==="scotch-doubles"?f(ze=>ze.map(Fe=>({...Fe,extensions:0}))):a(ze=>ze.map(Fe=>({...Fe,extensions:0})))},Gr=()=>{var ze,Fe;Ye(!1);const H=zt();let ie,je;if(i==="scotch-doubles"){const it=(h+1)%d.length;ie=((ze=d[it])==null?void 0:ze.name)||"Team 2",je="team"}else if(i==="two-player"){const it=(c+1)%o.length;ie=((Fe=o[it])==null?void 0:Fe.name)||"Player 2",je="player"}else ie="Opponent",je="player";ge(it=>{var ye;const G={...it};let Pe=[...it.shotEvents||[]];H&&(Pe.push(H),G.shotDurations=[...it.shotDurations,H.duration],G.shotCount=it.shotCount+1);const ee={rackNumber:(((ye=it.rackResults)==null?void 0:ye.length)||0)+1,winner:ie,winnerType:je,shotEvents:Pe,timestamp:Date.now()};return G.rackResults=[...it.rackResults||[],ee],G.shotEvents=[],G}),_e(it=>it+1),Ee.current=0,pe.current=0,E(y),P(!1),_(!1),i==="scotch-doubles"?f(it=>it.map(G=>({...G,extensions:0}))):a(it=>it.map(G=>({...G,extensions:0})))},yr=()=>{let H=Ee.current/1e3;if(pe.current>0&&(H+=(Date.now()-pe.current)/1e3),H>0){tt.current++,mt.trackSkillMetric("tempo","shot_time",H);const ie={shotIndex:Q.shotCount,duration:Math.max(0,H),playerName:(Ie==null?void 0:Ie.players[v])||"Unknown",teamName:Ie==null?void 0:Ie.name,timestamp:Date.now(),eventType:"stroke"};ge(je=>({...je,shotCount:je.shotCount+1,shotDurations:[...je.shotDurations,Math.max(0,H)],shotEvents:[...je.shotEvents||[],ie]}))}_(!1),E(y),P(!1),Ee.current=0,g(ie=>(ie+1)%2),pe.current=Date.now(),setTimeout(()=>_(!0),100)},Nr=()=>{i==="scotch-doubles"?Ie&&Ie.extensions<I&&(E(H=>H+j),P(!0),f(H=>H.map((ie,je)=>je===h?{...ie,extensions:ie.extensions+1}:ie)),ge(H=>({...H,totalExtensions:H.totalExtensions+1}))):Ze&&Ze.extensions<I&&(E(H=>H+j),P(!0),a(H=>H.map((ie,je)=>je===c?{...ie,extensions:ie.extensions+1}:ie)),ge(H=>({...H,totalExtensions:H.totalExtensions+1})))},ti=H=>{const ie=localStorage.getItem(Lw),je=ie?JSON.parse(ie):[],ze={id:Date.now().toString(),date:new Date().toISOString(),stats:H};je.unshift(ze),je.length>20&&je.pop(),localStorage.setItem(Lw,JSON.stringify(je)),W(je)},Gt=()=>{_(!1),Ne(!0)},zt=()=>{var ie;let H=Ee.current/1e3;return pe.current>0&&(H+=(Date.now()-pe.current)/1e3),H>0&&A<y&&A>0?{shotIndex:Q.shotCount,duration:Math.max(0,H),playerName:i==="scotch-doubles"?(Ie==null?void 0:Ie.players[v])||"Unknown":i==="two-player"?(Ze==null?void 0:Ze.name)||"Unknown":((ie=o[0])==null?void 0:ie.name)||"Player 1",teamName:i==="scotch-doubles"?Ie==null?void 0:Ie.name:void 0,timestamp:Date.now(),eventType:"stroke"}:null},vr=(H,ie)=>{const je=zt(),ze={rackNumber:we,winner:H,winnerType:ie,shotEvents:Y,timestamp:Date.now()};ge(Fe=>{const it={...Fe};return je&&(it.shotDurations=[...Fe.shotDurations,je.duration],it.shotCount=Fe.shotCount+1,it.shotEvents=[...Fe.shotEvents||[],je]),it.rackResults=[...Fe.rackResults||[],ze],it}),_e(Fe=>Fe+1),V([]),de(!1),Ee.current=0,pe.current=0,E(y),P(!1),_(!1)},Hn=()=>{Ne(!1),In();const H={...Q,endTime:Date.now(),duration:y,playerMode:i,playerNames:o.map(je=>je.name)},ie=zt();ie&&(H.shotDurations=[...H.shotDurations,ie.duration],H.shotCount+=1,H.shotEvents=[...H.shotEvents||[],ie]),Ee.current=0,pe.current=0,ge(H),ti(H),_e(1),V([]),r("summary")},Kt=()=>{In(),E(y),P(!1),a(H=>H.map(ie=>({...ie,extensions:0}))),f(H=>H.map(ie=>({...ie,extensions:0}))),u(0),m(0),g(0),ge({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],rackResults:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),pe.current=0,Ee.current=0,_e(1),V([]),r("setup")},qn=()=>{Ne(!1),_(!0),pe.current=Date.now()},Gn=()=>{var H;return i==="scotch-doubles"?d.map(ie=>({name:ie.name,type:"team"})):i==="two-player"?o.map(ie=>({name:ie.name,type:"player"})):[{name:((H=o[0])==null?void 0:H.name)||"Player 1",type:"player"}]},xn=H=>{b(H),E(H),S(H)},ds=()=>{b(w),E(w)},Vi=()=>{var ie,je,ze,Fe,it,G,Pe,Me,ee,ye,qe,We;In(),tt.current=0,i==="two-player"?a([{name:((ie=o[0])==null?void 0:ie.name)||"Player 1",extensions:0},{name:((je=o[1])==null?void 0:je.name)||"Player 2",extensions:0}]):i==="scotch-doubles"?(f(jt=>jt.map(Rt=>({...Rt,extensions:0}))),m(0),g(0)):a([{name:((ze=o[0])==null?void 0:ze.name)||"Player 1",extensions:0}]),u(0),E(y),P(!1),Ee.current=0;let H;i==="scotch-doubles"?H=[`${(Fe=d[0])==null?void 0:Fe.name}: ${(it=d[0])==null?void 0:it.players[0]}, ${(G=d[0])==null?void 0:G.players[1]}`,`${(Pe=d[1])==null?void 0:Pe.name}: ${(Me=d[1])==null?void 0:Me.players[0]}, ${(ee=d[1])==null?void 0:ee.players[1]}`]:i==="two-player"?H=[((ye=o[0])==null?void 0:ye.name)||"Player 1",((qe=o[1])==null?void 0:qe.name)||"Player 2"]:H=[((We=o[0])==null?void 0:We.name)||"Player 1"],ge({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:y,playerMode:i,playerNames:H}),pe.current=Date.now(),r("playing")},ni=(H,ie)=>{a(je=>{const ze=[...je];return ze[H]||(ze[H]={name:"",extensions:0}),ze[H]={...ze[H],name:ie},ze})},Eo=(H,ie)=>{f(je=>{const ze=[...je];return ze[H]={...ze[H],name:ie},ze})},ri=(H,ie,je)=>{f(ze=>{const Fe=[...ze],it=[...Fe[H].players];return it[ie]=je,Fe[H]={...Fe[H],players:it},Fe})},fs=()=>{localStorage.setItem(BR,"true"),B(!1),z(1)},Bi=()=>Q.shotDurations.length===0?0:Q.shotDurations.reduce((ie,je)=>ie+je,0)/Q.shotDurations.length,ii=H=>{const ie=Math.floor(H/60),je=Math.floor(H%60);return ie>0?`${ie}m ${je}s`:`${je.toFixed(1)}s`},jr=l.jsx(er,{open:F,onOpenChange:H=>{B(H),H||z(1)},children:l.jsxs(Un,{className:"max-w-md",children:[l.jsxs(Dn,{children:[l.jsx(kn,{children:"Welcome to CueMaster: Tempo"}),l.jsx(ks,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),l.jsxs("div",{className:"space-y-4",children:[$===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",l.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",l.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),$===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),l.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:l.jsx(yf,{className:"w-4 h-4 text-primary"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:l.jsx(Um,{className:"w-4 h-4 text-destructive"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),$===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("li",{children:["Background changes from ",l.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",l.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",l.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",l.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),l.jsx("li",{children:"Warning beeps in the final 5 seconds"}),l.jsx("li",{children:"Triple chime when time expires"}),l.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>z(H=>Math.max(1,H-1)),disabled:$===1,children:"Back"}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>z(H=>Math.min(3,H+1)),disabled:$===3,children:"Next"})]}),l.jsx("div",{className:"flex gap-1",children:[1,2,3].map(H=>l.jsx("div",{className:`w-2 h-2 rounded-full ${H===$?"bg-primary":"bg-muted"}`},H))}),l.jsx(oe,{size:"sm",onClick:fs,"data-testid":"button-complete-tutorial",children:$===3?"Finish":"Skip"})]})]})}),gi=l.jsx(er,{open:xe,onOpenChange:H=>{H||qn()},children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsxs(Dn,{children:[l.jsx(kn,{children:"End Session?"}),l.jsx(ks,{className:"sr-only",children:"Confirm you want to end the session"})]}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Are you sure you want to end this session? Your stats will be saved."}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(oe,{variant:"outline",className:"w-full",onClick:qn,"data-testid":"button-cancel-stop",children:"Cancel"}),l.jsx(oe,{variant:"destructive",className:"w-full",onClick:Hn,"data-testid":"button-end-session",children:"End Session"})]})]})]})}),ma=l.jsx(er,{open:le,onOpenChange:H=>{H||de(!1)},children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsxs(Dn,{children:[l.jsxs(kn,{children:["Who Won Rack ",we,"?"]}),l.jsx(ks,{className:"sr-only",children:"Select the winner of this rack"})]}),l.jsx("div",{className:"space-y-3 py-2",children:l.jsx("div",{className:"grid grid-cols-1 gap-2",children:Gn().map(H=>l.jsx(oe,{variant:"outline",className:"w-full h-auto py-4 text-lg font-semibold",onClick:()=>vr(H.name,H.type),"data-testid":`button-winner-${H.name.replace(/\s+/g,"-").toLowerCase()}`,children:H.name},H.name))})}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{de(!1)},className:"w-full","data-testid":"button-cancel-winner",children:"Cancel"})]})}),kr=()=>i==="scotch-doubles"?(Ie==null?void 0:Ie.name)||"Team 1":(Ze==null?void 0:Ze.name)||"Player 1",ga=l.jsx(er,{open:nt,onOpenChange:H=>{H||(Ye(!1),_(!0),pe.current=Date.now())},children:l.jsxs(Un,{className:"max-w-sm",children:[l.jsxs(Dn,{children:[l.jsx(kn,{children:"Next Action"}),l.jsx(ks,{className:"sr-only",children:"Choose your next action"})]}),l.jsx("div",{className:"space-y-3 py-2",children:l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l.jsx(oe,{variant:"outline",className:"w-full h-auto py-3",onClick:Ft,"data-testid":"button-end-turn",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(yf,{className:"w-5 h-5 text-primary flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("p",{className:"font-semibold",children:"End Turn"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:i==="scotch-doubles"?"Switch to other team":i==="two-player"?"Switch to other player":"End turn"})]})]})}),l.jsx("div",{className:"border-t border-border my-2"}),l.jsx(oe,{variant:"default",className:"w-full h-auto py-3 bg-green-600 hover:bg-green-700",onClick:Ge,"data-testid":"button-player-won",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(Ro,{className:"w-5 h-5 flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsxs("p",{className:"font-semibold",children:[kr()," Won"]}),l.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})}),l.jsx(oe,{variant:"default",className:"w-full h-auto py-3 bg-red-600 hover:bg-red-700",onClick:Gr,"data-testid":"button-player-lost",children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx(Mb,{className:"w-5 h-5 flex-shrink-0"}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsxs("p",{className:"font-semibold",children:[kr()," Lost"]}),l.jsx("p",{className:"text-xs text-white/70",children:"End rack, start next"})]})]})})]})}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{Ye(!1),_(!0),pe.current=Date.now()},className:"w-full","data-testid":"button-cancel-next",children:"Cancel"})]})});if(n==="summary"){const H=Bi(),ie=Q.endTime?(Q.endTime-Q.startTime)/1e3:0;return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:Kt,"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:l.jsx(FN,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Q.playerMode==="two-player"?Q.playerNames.join(" vs "):Q.playerNames[0]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(g$,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:ii(H)})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(yf,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:Q.shotCount})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(sT,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:Q.totalExtensions})]}),l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Cy,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:Q.timeouts})]})]})]}),l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),l.jsxs("span",{className:"font-medium",children:[Q.duration,"s"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),l.jsx("span",{className:"font-medium",children:ii(ie)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),l.jsx("span",{className:"font-medium capitalize",children:Q.playerMode.replace("-"," ")})]})]})]}),Q.rackResults&&Q.rackResults.length>0&&l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Ro,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Rack Results"})]}),l.jsx("div",{className:"space-y-2",children:Q.rackResults.map((je,ze)=>l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("span",{className:"text-muted-foreground",children:["Rack ",je.rackNumber]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ro,{className:"w-4 h-4 text-amber-500"}),l.jsx("span",{className:"font-medium text-foreground",children:je.winner})]})]},ze))})]}),Q.shotEvents&&Q.shotEvents.length>0&&(()=>{var Me;const je=Q.shotEvents.reduce((ee,ye)=>(ee[ye.playerName]||(ee[ye.playerName]={shots:[],total:0,teamName:ye.teamName}),ee[ye.playerName].shots.push(ye),ee[ye.playerName].total+=ye.duration,ee),{}),ze=Q.shotEvents.reduce((ee,ye)=>(ye.teamName&&(ee[ye.teamName]||(ee[ye.teamName]={shots:[],total:0}),ee[ye.teamName].shots.push(ye),ee[ye.teamName].total+=ye.duration),ee),{}),Fe=Object.keys(je),it=Object.keys(ze),Pe=(()=>{if(!Q.rackResults||Q.rackResults.length===0)return null;const ee={},ye={};return Q.rackResults.forEach(qe=>{qe.shotEvents.forEach(We=>{qe.winnerType==="team"&&We.teamName===qe.winner||qe.winnerType==="player"&&We.playerName===qe.winner?(ee[We.playerName]||(ee[We.playerName]={wins:0,totalTime:0,shots:0}),ee[We.playerName].totalTime+=We.duration,ee[We.playerName].shots+=1):(ye[We.playerName]||(ye[We.playerName]={losses:0,totalTime:0,shots:0}),ye[We.playerName].totalTime+=We.duration,ye[We.playerName].shots+=1)}),qe.winnerType==="player"&&(ee[qe.winner]||(ee[qe.winner]={wins:0,totalTime:0,shots:0}),ee[qe.winner].wins+=1)}),{winnerTotals:ee,loserTotals:ye}})();return l.jsxs(l.Fragment,{children:[l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Player Stats"}),l.jsxs(Y_,{className:"w-full",opts:{align:"start",loop:Fe.length>1},children:[l.jsx(X_,{className:"-ml-2",children:Fe.map(ee=>{const ye=je[ee],qe=ye.total/ye.shots.length;return l.jsx(Q_,{className:"pl-2 basis-full sm:basis-1/2",children:l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg h-full",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Og,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-medium text-foreground",children:ee})]}),ye.teamName&&l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:ye.teamName}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Avg Time"}),l.jsx("p",{className:"font-bold text-primary",children:ii(qe)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Shots"}),l.jsx("p",{className:"font-bold",children:ye.shots.length})]})]})]})},ee)})}),Fe.length>1&&l.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[l.jsx(J_,{className:"static translate-y-0"}),l.jsx(Z_,{className:"static translate-y-0"})]})]})]}),it.length>0&&l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:it.map(ee=>{const ye=ze[ee],qe=ye.total/ye.shots.length;return l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:ee}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-primary",children:ii(qe)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ye.shots.length," shots)"]})]})]},ee)})})]}),l.jsx(ot,{className:"p-6",children:l.jsx(_u,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Pi,{value:"charts",className:"border-none",children:[l.jsx(Ni,{className:"hover:no-underline py-0",children:l.jsx("span",{className:"font-semibold text-foreground",children:"Shot Duration Charts"})}),l.jsx(ji,{children:l.jsxs(Y_,{className:"w-full mt-4",opts:{align:"start",loop:Fe.length>1},children:[l.jsx(X_,{className:"-ml-2",children:Fe.map(ee=>{const ye=je[ee],qe=ye.shots.map((We,jt)=>({shot:jt+1,duration:parseFloat(We.duration.toFixed(1))}));return l.jsx(Q_,{className:"pl-2 basis-full",children:l.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Og,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium text-foreground",children:ee}),ye.teamName&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",ye.teamName,")"]})]}),l.jsx("div",{className:"h-40",children:l.jsx(Hve,{width:"100%",height:"100%",children:l.jsxs(WNe,{data:qe,children:[l.jsx(q0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),l.jsx(G0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:We=>`${We}s`}),l.jsx(Xs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:We=>`Shot ${We}`,formatter:We=>[`${We}s`,"Duration"]}),l.jsx(dm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]})},ee)})}),Fe.length>1&&l.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[l.jsx(J_,{className:"static translate-y-0"}),l.jsx(Z_,{className:"static translate-y-0"})]})]})})]})})}),Pe&&(((Me=Q.rackResults)==null?void 0:Me.length)??0)>0&&l.jsx(ot,{className:"p-6",children:l.jsx(_u,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Pi,{value:"advanced",className:"border-none",children:[l.jsx(Ni,{className:"hover:no-underline py-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($1,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-foreground",children:"Advanced Analytics"})]})}),l.jsx(ji,{children:l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ro,{className:"w-4 h-4 text-amber-500"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Winning Racks Avg Speed"})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(Pe.winnerTotals).map(([ee,ye])=>ye.shots>0&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($1,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"font-medium text-foreground",children:ee})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-green-500",children:ii(ye.totalTime/ye.shots)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ye.shots," shots)"]})]})]},ee))})]}),Object.keys(Pe.loserTotals).length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Mb,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Losing Racks Avg Speed"})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(Pe.loserTotals).map(([ee,ye])=>ye.shots>0&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-3 rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mb,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"font-medium text-foreground",children:ee})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-red-500",children:ii(ye.totalTime/ye.shots)}),l.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ye.shots," shots)"]})]})]},ee))})]}),it.length>0&&Q.rackResults&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Fl,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:"Team Performance"})]}),l.jsx("div",{className:"space-y-2",children:it.map(ee=>{var We,jt;const ye=((We=Q.rackResults)==null?void 0:We.filter(Rt=>Rt.winner===ee).length)||0,qe=(((jt=Q.rackResults)==null?void 0:jt.length)||0)-ye;return l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:ee}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-green-500 font-bold",children:[ye,"W"]}),l.jsxs("span",{className:"text-red-500 font-bold",children:[qe,"L"]})]})]})},ee)})})]})]})})]})})})]})})(),l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),l.jsxs(oe,{onClick:Kt,className:"w-full",size:"lg","data-testid":"button-new-session",children:[l.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(n==="paused")return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:rn,"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:l.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[l.jsxs(ot,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(p$,{className:"w-8 h-8 text-primary"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",l.jsxs("span",{className:"font-mono font-bold text-foreground",children:[A,"s"]})]}),l.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Shots"}),l.jsx("p",{className:"font-bold text-lg",children:Q.shotCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),l.jsx("p",{className:"font-bold text-lg",children:Q.totalExtensions})]})]})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(oe,{onClick:rn,className:"w-full",size:"lg","data-testid":"button-resume",children:[l.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),l.jsxs(oe,{onClick:vn,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[l.jsx(AH,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),l.jsxs(oe,{onClick:Gt,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[l.jsx(Um,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(n==="setup")return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>B(!0),"data-testid":"button-tutorial",children:l.jsx(zp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:l.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(oe,{variant:i==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("solo"),"data-testid":"button-mode-solo",children:[l.jsx(Og,{className:"w-4 h-4 mr-2"}),"Solo"]}),l.jsxs(oe,{variant:i==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("two-player"),"data-testid":"button-mode-two-player",children:[l.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Two Players"]}),l.jsxs(_ie,{isLocked:!0,variant:i==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>s("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[l.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),i==="scotch-doubles"&&l.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),i==="scotch-doubles"?l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),l.jsx("div",{className:"space-y-6",children:[0,1].map(H=>{var ie,je,ze;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs(Ht,{htmlFor:`team${H+1}-name`,children:["Team ",H+1," Name"]}),l.jsx(fr,{id:`team${H+1}-name`,value:((ie=d[H])==null?void 0:ie.name)||"",onChange:Fe=>Eo(H,Fe.target.value),placeholder:`Team ${H+1}`,className:"mt-1","data-testid":`input-team${H+1}-name`})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:`team${H+1}-player1`,children:"Partner 1"}),l.jsx(fr,{id:`team${H+1}-player1`,value:((je=d[H])==null?void 0:je.players[0])||"",onChange:Fe=>ri(H,0,Fe.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${H+1}-player1`})]}),l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:`team${H+1}-player2`,children:"Partner 2"}),l.jsx(fr,{id:`team${H+1}-player2`,value:((ze=d[H])==null?void 0:ze.players[1])||"",onChange:Fe=>ri(H,1,Fe.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${H+1}-player2`})]})]})]},H)})})]}):l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:"player1-name",children:i==="solo"?"Your Name":"Player 1"}),l.jsx(fr,{id:"player1-name",value:((yi=o[0])==null?void 0:yi.name)||"",onChange:H=>ni(0,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),i==="two-player"&&l.jsxs("div",{children:[l.jsx(Ht,{htmlFor:"player2-name",children:"Player 2"}),l.jsx(fr,{id:"player2-name",value:(($n=o[1])==null?void 0:$n.name)||"",onChange:H=>ni(1,H.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),l.jsxs(ot,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),l.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(H=>l.jsxs(oe,{variant:y===H?"default":"outline",onClick:()=>xn(H),"data-testid":`button-preset-${H}`,children:[H,"s"]},H))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(fr,{type:"number",min:"5",max:"300",value:w,onChange:H=>S(parseInt(H.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),l.jsx(oe,{onClick:ds,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),i==="solo"&&l.jsx(ot,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),l.jsx(Vr,{checked:O,onCheckedChange:R,"data-testid":"switch-auto-restart"})]})}),l.jsxs(oe,{onClick:Vi,className:"w-full",size:"lg","data-testid":"button-start-game",children:[l.jsx(Jf,{className:"w-5 h-5 mr-2"}),"Start Game"]}),U.length>0&&l.jsx(_u,{type:"single",collapsible:!0,className:"mt-4",children:l.jsxs(Pi,{value:"history",className:"border rounded-lg",children:[l.jsx(Ni,{className:"px-4 hover:no-underline","data-testid":"accordion-session-history",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(FN,{className:"w-4 h-4 text-primary"}),l.jsxs("span",{children:["Session History (",U.length,")"]})]})}),l.jsx(ji,{className:"px-4 pb-4",children:l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:U.slice(0,10).map(H=>{const ie=new Date(H.date),je=H.stats.shotDurations.length>0?H.stats.shotDurations.reduce((ze,Fe)=>ze+Fe,0)/H.stats.shotDurations.length:0;return l.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("span",{className:"text-sm font-medium",children:[ie.toLocaleDateString()," ",ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:H.stats.playerMode.replace("-"," ")})]}),l.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[H.stats.shotCount," shots"]}),l.jsxs("span",{children:["Avg: ",je.toFixed(1),"s"]}),H.stats.rackResults&&H.stats.rackResults.length>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ro,{className:"w-3 h-3 text-amber-500"}),H.stats.rackResults.length," racks"]})]})]},H.id)})})})]})})]})}),jr]});const To=()=>{A===0?(E(y),P(!1),pe.current=Date.now(),_(!0)):N?yn():Ut()};return l.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"flex-[2] relative min-h-0",children:[l.jsx(Tje,{seconds:A,totalSeconds:y,playerName:i==="solo"?Ze==null?void 0:Ze.name:void 0,isExtension:T,isRunning:N,onClick:To}),l.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[l.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",Q.shotCount+1]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oe,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:qr,"data-testid":"button-pause-menu",children:l.jsx(IH,{className:"w-5 h-5"})}),l.jsxs(er,{children:[l.jsx(Rne,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:l.jsx(oT,{className:"w-5 h-5"})})}),l.jsxs(Un,{children:[l.jsx(Dn,{children:l.jsx(kn,{children:"Quick Settings"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(Ht,{children:"Shot Duration"}),l.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(H=>l.jsxs(oe,{variant:y===H?"default":"outline",size:"sm",onClick:()=>{xn(H),N||E(H)},"data-testid":`button-quick-${H}`,children:[H,"s"]},H))})]}),i==="solo"&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ht,{children:"Continuous Play"}),l.jsx(Vr,{checked:O,onCheckedChange:R,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),i==="two-player"&&l.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:l.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((H,ie)=>l.jsx("button",{onClick:()=>{c!==ie&&(u(ie),E(y),P(!1),Je())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${c===ie?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${ie+1}`,children:H.name},ie))})}),i==="scotch-doubles"&&l.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:l.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[l.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:d.map((H,ie)=>l.jsx("button",{onClick:()=>{h!==ie&&(m(ie),g(0),E(y),P(!1),Je())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${h===ie?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${ie+1}`,children:H.name},ie))}),l.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",Ie==null?void 0:Ie.players[v]]})]})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:l.jsxs("button",{onClick:Nr,disabled:i==="scotch-doubles"?((Ie==null?void 0:Ie.extensions)||0)>=I||A===0:((Ze==null?void 0:Ze.extensions)||0)>=I||A===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[l.jsxs("span",{className:"text-white font-bold text-lg",children:["+",j,"s EXTENSION"]}),l.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",i==="scotch-doubles"?(Ie==null?void 0:Ie.extensions)||0:(Ze==null?void 0:Ze.extensions)||0,"/",I," used)"]})]})})]}),i==="scotch-doubles"?l.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[l.jsxs("button",{onClick:Gt,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[l.jsx(Um,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),l.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),l.jsxs("button",{onClick:yr,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[l.jsx(Fl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),l.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),l.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),l.jsxs("button",{onClick:qt,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[l.jsx(yf,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),l.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),l.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):l.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[l.jsxs("button",{onClick:Gt,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[l.jsx(Um,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),l.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),l.jsxs("button",{onClick:qt,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[l.jsx(yf,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),l.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT"})]})]}),gi,ma,ga]})}function Aje({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),s=Math.max(-40,Math.min(40,e/5*40)),o=Math.sqrt(t*t+e*e),a=o<.5;return l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[l.jsx("div",{className:"absolute w-px h-full bg-muted"}),l.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${s}px)`,opacity:n?.5:1}})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[o.toFixed(2),""]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}const UR="tableLevel_tutorial_seen";function Pje(){const[,t]=ca(),{toast:e}=Pd(),[n,r]=x.useState(0),[i,s]=x.useState(0),[o,a]=x.useState({x:0,y:0}),[c,u]=x.useState("home"),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,g]=x.useState(!1),[y,b]=x.useState(null),w=x.useRef(null),S=x.useRef(null),A=[{title:"How It Works",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),l.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),l.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[l.jsx("li",{children:"Place your device flat on a surface you know is level"}),l.jsxs("li",{children:["Tap ",l.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),l.jsx("li",{children:"Hold still for 2 seconds while it samples"}),l.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Save different calibrations for different locations:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),l.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];x.useEffect(()=>(mt.startSession("truelevel"),()=>{mt.endSession()}),[]),x.useEffect(()=>{localStorage.getItem(UR)||g(!0)},[]);const E=()=>{localStorage.setItem(UR,"true"),g(!1)};x.useEffect(()=>{(async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{const I=await DeviceOrientationEvent.requestPermission();m(I==="granted")}catch{e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})()},[e]),x.useEffect(()=>{if(!h)return;let P=!1;const I=j=>{j.beta!==null&&j.gamma!==null&&(P||(P=!0,b(!0),w.current&&clearTimeout(w.current)),S.current={beta:j.beta,gamma:j.gamma},r(j.gamma-o.x),s(j.beta-o.y-90))};return window.addEventListener("deviceorientation",I),w.current=setTimeout(()=>{P||(b(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",I),w.current&&clearTimeout(w.current)}},[o,h,e]);const N=()=>{if(y===!1||y===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const P=[];let I=0;const j=10,O=()=>{if(S.current&&(P.push({x:S.current.gamma,y:S.current.beta-90}),I++,I>=j)){const R=P.reduce((B,U)=>B+U.x,0)/P.length,F=P.reduce((B,U)=>B+U.y,0)/P.length;a({x:R,y:F}),f(!1),localStorage.setItem(`tableLevel_${c}`,JSON.stringify({x:R,y:F})),mt.trackSkillMetric("truelevel","calibration",1,{preset:c}),e({title:"Calibration complete",description:`${c.charAt(0).toUpperCase()+c.slice(1)} calibration saved`});return}I<j&&setTimeout(O,150)};setTimeout(()=>{if(!S.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}O()},300)},_=P=>{u(P);const I=localStorage.getItem(`tableLevel_${P}`);I&&(a(JSON.parse(I)),mt.trackSkillMetric("truelevel","table_check",1,{preset:P}),e({title:"Preset loaded",description:`${P.charAt(0).toUpperCase()+P.slice(1)} calibration applied`}))},T=()=>{localStorage.setItem(`tableLevel_${c}`,JSON.stringify(o)),e({title:"Preset saved",description:`${c.charAt(0).toUpperCase()+c.slice(1)} calibration saved`})};return h?l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(EC,{open:v,onComplete:E,pages:A,toolName:"Table Level Gauge"}),l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:l.jsx(zp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[y===!1&&l.jsx(ot,{className:"p-4 border-destructive bg-destructive/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Cy,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[l.jsx(m$,{className:"w-4 h-4"}),l.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),y===null&&l.jsx(ot,{className:"p-4 border-muted",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Detecting orientation sensors..."})]})}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Aje,{tiltX:n,tiltY:i,isCalibrating:d})}),l.jsxs(ot,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),l.jsx(nv,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:l.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[l.jsx(oe,{variant:c==="home"?"default":"outline",onClick:()=>_("home"),"data-testid":"button-preset-home",children:"Home"}),l.jsx(oe,{variant:c==="league"?"default":"outline",onClick:()=>_("league"),"data-testid":"button-preset-league",children:"League"}),l.jsx(oe,{variant:c==="tournament"?"default":"outline",onClick:()=>_("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{className:"flex-1",onClick:N,disabled:d||y===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),l.jsx(oe,{variant:"outline",onClick:T,disabled:y===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),l.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:l.jsxs(ot,{className:"p-6 max-w-md text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),l.jsx(oe,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var j9=["PageUp","PageDown"],k9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tf="Slider",[eE,Nje,jje]=Bp(tf),[O9,N2e]=Fi(tf,[jje]),[kje,Q0]=O9(tf),R9=x.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...g}=t,y=x.useRef(new Set),b=x.useRef(0),S=o==="horizontal"?Ije:Oje,[A=[],E]=$s({prop:d,defaultProp:u,onChange:j=>{var R;(R=[...y.current][b.current])==null||R.focus(),f(j)}}),N=x.useRef(A);function _(j){const O=$je(A,j);I(j,O)}function T(j){I(j,b.current)}function P(){const j=N.current[b.current];A[b.current]!==j&&h(A)}function I(j,O,{commit:R}={commit:!1}){const F=Uje(s),B=zje(Math.round((j-r)/s)*s+r,F),U=Kh(B,[r,i]);E((W=[])=>{const $=Dje(W,U,O);if(Bje($,c*s)){b.current=$.indexOf(U);const z=String($)!==String(W);return z&&R&&h($),z?$:W}else return W})}return l.jsx(kje,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:A,orientation:o,form:v,children:l.jsx(eE.Provider,{scope:t.__scopeSlider,children:l.jsx(eE.Slot,{scope:t.__scopeSlider,children:l.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:Le(g.onPointerDown,()=>{a||(N.current=A)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:_,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(i,A.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:O})=>{if(!a){const B=j9.includes(j.key)||j.shiftKey&&k9.includes(j.key)?10:1,U=b.current,W=A[U],$=s*B*O;I(W+$,U,{commit:!0})}}})})})})});R9.displayName=tf;var[M9,D9]=O9(tf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ije=x.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=x.useState(null),m=bt(e,S=>h(S)),v=x.useRef(void 0),g=Bd(i),y=g==="ltr",b=y&&!s||!y&&s;function w(S){const A=v.current||f.getBoundingClientRect(),E=[0,A.width],_=YA(E,b?[n,r]:[r,n]);return v.current=A,_(S-A.left)}return l.jsx(M9,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:l.jsx(L9,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const A=w(S.clientX);o==null||o(A)},onSlideMove:S=>{const A=w(S.clientX);a==null||a(A)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:S=>{const E=I9[b?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:E?-1:1})}})})}),Oje=x.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,d=x.useRef(null),f=bt(e,d),h=x.useRef(void 0),m=!i;function v(g){const y=h.current||d.current.getBoundingClientRect(),b=[0,y.height],S=YA(b,m?[r,n]:[n,r]);return h.current=y,S(g-y.top)}return l.jsx(M9,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(L9,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);s==null||s(y)},onSlideMove:g=>{const y=v(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const b=I9[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),L9=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,d=Q0(tf,n);return l.jsx(et.span,{...u,ref:e,onKeyDown:Le(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):j9.concat(k9).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Le(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Le(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Le(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),$9="SliderTrack",F9=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Q0($9,n);return l.jsx(et.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});F9.displayName=$9;var tE="SliderRange",V9=x.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Q0(tE,n),s=D9(tE,n),o=x.useRef(null),a=bt(e,o),c=i.values.length,u=i.values.map(h=>U9(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(et.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});V9.displayName=tE;var nE="SliderThumb",B9=x.forwardRef((t,e)=>{const n=Nje(t.__scopeSlider),[r,i]=x.useState(null),s=bt(e,a=>i(a)),o=x.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return l.jsx(Rje,{...t,ref:s,index:o})}),Rje=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Q0(nE,n),a=D9(nE,n),[c,u]=x.useState(null),d=bt(e,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=mT(c),m=o.values[r],v=m===void 0?0:U9(m,o.min,o.max),g=Lje(r,o.values.length),y=h==null?void 0:h[a.size],b=y?Fje(y,v,a.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[l.jsx(eE.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(et.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Le(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&l.jsx(Mje,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});B9.displayName=nE;var Mje=t=>{const{value:e,...n}=t,r=x.useRef(null),i=xC(e);return x.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[i,e]),l.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Dje(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function U9(t,e,n){const s=100/(n-e)*(t-e);return Kh(s,[0,100])}function Lje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function $je(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Fje(t,e,n){const r=t/2,s=YA([0,50],[0,r]);return(r-s(e)*n)*n}function Vje(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Bje(t,e){if(e>0){const n=Vje(t);return Math.min(...n)>=e}return!0}function YA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Uje(t){return(String(t).split(".")[1]||"").length}function zje(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var z9=R9,Wje=F9,Hje=V9,qje=B9;const Gc=x.forwardRef(({className:t,...e},n)=>l.jsxs(z9,{ref:n,className:ut("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(Wje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Hje,{className:"absolute h-full bg-primary"})}),l.jsx(qje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Gc.displayName=z9.displayName;const zR="cueEmulator_tutorial_seen",Ke=14,ln=1600,wn=800,He=24,WR=.05,HR=.2,Kc=28,Gje=(ln-He*2)/8,Kje=(wn-He*2)/4,Ve=Array.from({length:9},(t,e)=>He+e*Gje),Be=Array.from({length:5},(t,e)=>He+e*Kje),jf=[{x:He,y:He,angle:Math.PI/4},{x:ln/2,y:He-2,angle:Math.PI/2},{x:ln-He,y:He,angle:3*Math.PI/4},{x:He,y:wn-He,angle:-Math.PI/4},{x:ln/2,y:wn-He+2,angle:-Math.PI/2},{x:ln-He,y:wn-He,angle:-3*Math.PI/4}],Yje=Kc+Ke*.5,qR=({size:t=16})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"cueBallGradient",cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),l.jsx("stop",{offset:"50%",stopColor:"#f5f5f5"}),l.jsx("stop",{offset:"100%",stopColor:"#cccccc"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#cueBallGradient)",stroke:"#aaa",strokeWidth:"0.5"}),l.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"rgba(255,255,255,0.7)"})]}),GR=({size:t=16,color:e="#DC143C"})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:`solidBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.7)"}),l.jsx("stop",{offset:"40%",stopColor:e}),l.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.5)",stopOpacity:"1"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#solidBallGradient-${e.replace("#","")})`}),l.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.5)"})]}),KR=({size:t=16,color:e="#FDB515"})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsxs("defs",{children:[l.jsxs("radialGradient",{id:`stripeBallGradient-${e.replace("#","")}`,cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),l.jsx("stop",{offset:"50%",stopColor:"#f8f8f8"}),l.jsx("stop",{offset:"100%",stopColor:"#e0e0e0"})]}),l.jsx("clipPath",{id:"ballClip",children:l.jsx("circle",{cx:"12",cy:"12",r:"10"})})]}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:`url(#stripeBallGradient-${e.replace("#","")})`}),l.jsx("rect",{x:"2",y:"8",width:"20",height:"8",fill:e,clipPath:"url(#ballClip)",opacity:"0.9"}),l.jsx("circle",{cx:"8",cy:"8",r:"2.5",fill:"rgba(255,255,255,0.6)"})]}),YR=({size:t=16})=>l.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:"inline-block",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"eightBallGradient",cx:"35%",cy:"35%",r:"60%",children:[l.jsx("stop",{offset:"0%",stopColor:"#4a4a4a"}),l.jsx("stop",{offset:"40%",stopColor:"#1a1a1a"}),l.jsx("stop",{offset:"100%",stopColor:"#000000"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#eightBallGradient)"}),l.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"white"}),l.jsx("text",{x:"12",y:"14",textAnchor:"middle",fontSize:"6",fontWeight:"bold",fill:"black",children:"8"}),l.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"rgba(255,255,255,0.4)"})]}),Pl={1:{name:"Solid",color:"#DC143C",type:"solid"},2:{name:"Solid",color:"#DC143C",type:"solid"},3:{name:"Solid",color:"#DC143C",type:"solid"},4:{name:"Solid",color:"#DC143C",type:"solid"},5:{name:"Solid",color:"#DC143C",type:"solid"},6:{name:"Solid",color:"#DC143C",type:"solid"},7:{name:"Solid",color:"#DC143C",type:"solid"},8:{name:"8-Ball",color:"#000000",type:"eight"},9:{name:"Stripe",color:"#FDB515",type:"stripe"},10:{name:"Stripe",color:"#FDB515",type:"stripe"},11:{name:"Stripe",color:"#FDB515",type:"stripe"},12:{name:"Stripe",color:"#FDB515",type:"stripe"},13:{name:"Stripe",color:"#FDB515",type:"stripe"},14:{name:"Stripe",color:"#FDB515",type:"stripe"},15:{name:"Stripe",color:"#FDB515",type:"stripe"}},Xje={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ve[6],y:Be[2]},{x:Ve[1],y:Be[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ve[7],y:Be[1]},{x:Ve[1],y:Be[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ve[4],y:Be[1]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ve[2],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[2],y:Be[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ve[4],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[4],y:Be[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ve[7],y:Be[1]},{x:Ve[6],y:Be[2]},{x:Ve[5],y:Be[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ve[4],y:Be[1]},{x:Ve[6],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[2],y:Be[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ve[3],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[5],y:Be[1]},{x:Ve[4],y:Be[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ve[1],y:Be[1]},{x:Ve[7],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ve[4],y:Be[1]},{x:Ve[3],y:Be[2]},{x:Ve[4],y:Be[2]},{x:Ve[5],y:Be[2]},{x:Ve[4],y:Be[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ve[3],y:Be[1]},{x:Ve[5],y:Be[1]},{x:Ve[4],y:Be[2]},{x:Ve[3],y:Be[3]},{x:Ve[5],y:Be[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ve[1],y:Be[1]},{x:Ve[7],y:Be[1]},{x:Ve[1],y:Be[2]},{x:Ve[7],y:Be[2]},{x:Ve[1],y:Be[3]},{x:Ve[7],y:Be[3]}]}};function Qje(){const[,t]=ca(),{toast:e}=Pd(),n=x.useRef(null),[r,i]=x.useState(null),[s,o]=x.useState([]),[a,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(!0),[m,v]=x.useState(!1),[g,y]=x.useState(null),[b,w]=x.useState(null),[S,A]=x.useState(null),[E,N]=x.useState(.5),[_,T]=x.useState(0),[P,I]=x.useState(0),[j,O]=x.useState(.5),[R,F]=x.useState(.5),[B,U]=x.useState("9ft"),[W,$]=x.useState(!1),[z,re]=x.useState([]),[se,Q]=x.useState(""),[ge,pe]=x.useState(null),[Ee,tt]=x.useState(null),[xe,Ne]=x.useState(null),[le,de]=x.useState([null,null,null]),[Y,V]=x.useState(!1),we=x.useRef(null),[_e,nt]=x.useState(!1),[Ye,rt]=x.useState(0),[gt,Ce]=x.useState([]),[Je,Ze]=x.useState([]);x.useState(new Set);const Ie=x.useRef(null),Ut=x.useRef(0),[yn,hn]=x.useState(!1),[In,qr]=x.useState(!1);x.useEffect(()=>{const M=()=>{qr(window.innerWidth>window.innerHeight)};return M(),window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]),x.useEffect(()=>(mt.startSession("vectors"),()=>{mt.endSession()}),[]);const rn=[{title:"Ball Placement",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Place balls on the table using the control buttons:"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(qR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(GR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add red solid balls (1-7)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(KR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add yellow stripe balls (9-15)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(YR,{size:20}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"8-Ball:"})," The black 8-ball (one per table)"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(BN,{className:"w-5 h-5 text-muted-foreground"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Move:"})," Drag any ball to reposition it"]})]})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Snap to Grid:"})," Enable to align balls precisely on diamond intersections."]})})]})},{title:"Aiming & Shooting",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-white rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"White line:"})," Cue ball trajectory"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:l.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"rgba(255,255,0,0.2)",stroke:"#ffff00",strokeWidth:"2",strokeDasharray:"4 3"})}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Contact point indicator"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-cyan-400 rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Cyan line:"})," Object ball trajectory"]})]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-1 bg-red-500 rounded"}),l.jsxs("span",{children:[l.jsx("strong",{className:"text-foreground",children:"Red line:"})," Cue ball deflection"]})]})]}),l.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Shown below table (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),l.jsxs("div",{className:"flex items-center gap-3 my-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded"}),l.jsx("span",{className:"text-xs",children:"Power: 0-100%"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 50 50",className:"border border-muted rounded",children:[l.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),l.jsx("circle",{cx:"25",cy:"18",r:"4",fill:"hsl(var(--primary))"}),l.jsx("text",{x:"25",y:"45",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"English"})]}),l.jsx("span",{className:"text-xs",children:"Click to apply top/bottom spin and left/right english"})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Physics:"})," Includes spin transfer, rail cushion effects, and pocket detection."]})})]})},{title:"Table Conditions",content:l.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Customize the playing environment:"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),l.jsxs("li",{children:[l.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),l.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:l.jsxs("p",{className:"text-xs",children:[l.jsx("strong",{children:"Presets:"})," Save table conditions to 3 slots per table size. Long-press to save, tap to load."]})}),l.jsxs("p",{className:"mt-3",children:["Use ",l.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];x.useEffect(()=>{localStorage.getItem(zR)||V(!0)},[]);const vn=()=>{localStorage.setItem(zR,"true"),V(!1)};x.useEffect(()=>{const M=localStorage.getItem(`cueEmulator_tablePresets_${B}`);if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3?de(L):de([null,null,null])}catch(L){console.error("Failed to load table presets:",L),de([null,null,null])}else de([null,null,null])},[B]);const qt=M=>{const L=[...le];L[M]={clothSpeed:j,cushionQuality:R,name:`Slot ${M+1}`},de(L),localStorage.setItem(`cueEmulator_tablePresets_${B}`,JSON.stringify(L)),e({title:`Saved to Slot ${M+1} (${B})`,description:`Cloth: ${Math.round(j*100)}%, Cushion: ${Math.round(R*100)}%`})},pn=M=>{const L=le[M];L?(O(L.clothSpeed),F(L.cushionQuality),e({title:`Loaded Slot ${M+1} (${B})`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},Ft=M=>{we.current=setTimeout(()=>{qt(M),we.current=null},600)},Ge=M=>{we.current&&(clearTimeout(we.current),we.current=null,pn(M))},Gr=x.useCallback(()=>.85+.1*R,[R]),yr=x.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),Nr=x.useCallback(()=>{const{lengthInches:L}=yr();return L/100},[yr]),ti=x.useCallback(()=>{const M=.3-.15*j,K=1+(1-Nr())*.3;return M*K},[j,Nr]),Gt=x.useCallback((M,L)=>{for(const K of jf){const J=M-K.x,Z=L-K.y;if(Math.sqrt(J*J+Z*Z)<Yje)return!0}return!1},[]),zt=x.useCallback((M,L)=>{const K=He+Ke,J=ln-He-Ke,Z=He+Ke,ue=wn-He-Ke;let ce=Math.max(K,Math.min(J,M)),ne=Math.max(Z,Math.min(ue,L));if(Gt(ce,ne)){let ve=ce,Te=ne,Se=1/0;for(const Oe of Ve)for(const ht of Be)if(Oe>=K&&Oe<=J&&ht>=Z&&ht<=ue&&!Gt(Oe,ht)){const sn=Math.sqrt((M-Oe)**2+(L-ht)**2);sn<Se&&(Se=sn,ve=Oe,Te=ht)}return{x:ve,y:Te}}return{x:ce,y:ne}},[Gt]),vr=x.useCallback((M,L,K,J)=>{const Z=Ke*2.1;if(r&&!J&&Math.sqrt((M-r.x)**2+(L-r.y)**2)<Z)return!0;for(let ue=0;ue<s.length;ue++){if(K!==void 0&&ue===K)continue;const ce=s[ue];if(Math.sqrt((M-ce.x)**2+(L-ce.y)**2)<Z)return!0}return!1},[r,s]),Hn=x.useCallback((M,L,K,J)=>{const Z=He+Ke,ue=ln-He-Ke,ce=He+Ke,ne=wn-He-Ke;if(!f)return zt(M,L);const ve=[];for(const Te of Ve)for(const Se of Be)if(Te>=Z&&Te<=ue&&Se>=ce&&Se<=ne&&!Gt(Te,Se)){const Oe=Math.sqrt((M-Te)**2+(L-Se)**2);ve.push({x:Te,y:Se,dist:Oe})}ve.sort((Te,Se)=>Te.dist-Se.dist);for(const Te of ve)if(!vr(Te.x,Te.y,K,J))return{x:Te.x,y:Te.y};return ve.length>0?{x:ve[0].x,y:ve[0].y}:zt(M,L)},[f,Gt,zt,vr]),Kt=x.useCallback(M=>{const L=s.map(K=>K.number).filter(K=>K!==void 0);if(M==="solid"){for(let K=1;K<=7;K++)if(!L.includes(K))return K}else if(M==="stripe"){for(let K=9;K<=15;K++)if(!L.includes(K))return K}else if(M==="eight"&&!L.includes(8))return 8;return null},[s]),qn=x.useCallback(()=>s.some(M=>M.number===8),[s]),Gn=x.useCallback((M,L)=>{for(const K of jf){const J=M-K.x,Z=L-K.y;if(Math.sqrt(J*J+Z*Z)<Kc)return!0}return!1},[]),xn=(M,L)=>{const K=L.x-M.x,J=L.y-M.y;return Math.sqrt(K*K+J*J)},ds=x.useCallback((M,L)=>{let K=null,J=1/0;for(const Z of jf){const ue=Z.x-M.x,ce=Z.y-M.y,ne=Math.sqrt(ue*ue+ce*ce);if(ne<Ke*2)continue;const ve=ue/ne,Te=ce/ne,Se=M.x-ve*(Ke*2),Oe=M.y-Te*(Ke*2),ht=Se-L.x,sn=Oe-L.y,Kn=Math.sqrt(ht*ht+sn*sn);if(Kn<Ke*2)continue;const Ui=ht/Kn,xr=sn/Kn,vi=Ui*ve+xr*Te,Co=Math.acos(Math.max(-1,Math.min(1,vi)))*(180/Math.PI);Co<J&&(J=Co,K={pocket:Z,angle:Co,ghostBall:{x:Se,y:Oe}})}return K},[]),Vi=x.useCallback((M,L)=>{if(s.length===0)return null;const K=L.x-M.x,J=L.y-M.y,Z=Math.sqrt(K*K+J*J);if(Z<1)return null;const ue=K/Z,ce=J/Z;let ne=null,ve=1/0;for(const Te of s){const Se=Te.x-M.x,Oe=Te.y-M.y,ht=Math.sqrt(Se*Se+Oe*Oe),sn=Se*ue+Oe*ce;if(sn<=0)continue;const Kn=Se-sn*ue,Ui=Oe-sn*ce;Math.sqrt(Kn*Kn+Ui*Ui)<Ke*3&&ht<ve&&(ve=ht,ne=Te)}return ne},[s]),ni=x.useCallback((M,L)=>{if(!m)return null;const K=Vi(M,L);if(!K)return null;const J=ds(K,M);return!J||J.angle<15?null:J.ghostBall},[m,Vi,ds]),Eo=x.useCallback(M=>{const L=Gr(),K=He,J=ln-He,Z=He,ue=wn-He;let ce=!1;return M.x-Ke<K&&(M.x=K+Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ce=!0),M.x+Ke>J&&(M.x=J-Ke,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,ce=!0),M.y-Ke<Z&&(M.y=Z+Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ce=!0),M.y+Ke>ue&&(M.y=ue-Ke,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,ce=!0),ce},[Gr]),ri=x.useCallback((M,L,K,J)=>{var hm,hs,pm;if(!r)return null;const Z=K-M,ue=J-L,ce=Math.sqrt(Z*Z+ue*ue);if(ce<10)return null;const ne=Z/ce,ve=ue/ce,Se=E*15,Oe={x:r.x,y:r.y,vx:ne*Se,vy:ve*Se,spinX:_,spinY:P},ht=s.map(Mt=>({...Mt,vx:0,vy:0,spinX:0,spinY:0})),sn=ti(),Kn=300,Ui=[{x:Oe.x,y:Oe.y}],xr=ht.map(()=>[]);let vi=null,Co=null,nf=null,rf=null,sf=null;const en=[Oe,...ht],si=new Array(en.length).fill(!1),J0=Mt=>{for(const bn of jf){const ps=Mt.x-bn.x,oi=Mt.y-bn.y;if(Math.sqrt(ps*ps+oi*oi)<Kc-Ke*.3)return!0}return!1},Z0=(Mt,bn,ps)=>{const oi=bn.x-Mt.x,xi=bn.y-Mt.y,bi=Math.sqrt(oi*oi+xi*xi);if(bi>=Ke*2||bi===0)return!1;const Xt=oi/bi,Xe=xi/bi,yt=-Xe,ms=Xt,br=Mt.vx-bn.vx,Ir=Mt.vy-bn.vy,ai=br*Xt+Ir*Xe,ya=br*yt+Ir*ms;if(ai<=0)return!1;const of=Mt.spinX*.15*Math.abs(ya)*.3;Mt.vx-=ai*Xt,Mt.vy-=ai*Xe,bn.vx+=ai*Xt*.95,bn.vy+=ai*Xe*.95,bn.vx+=of*yt,bn.vy+=of*ms;const _l=Math.sqrt(br*br+Ir*Ir);if(ps===0&&_l>.1){const mm=br/_l,af=Ir/_l,El=Mt.spinY*.4;Mt.spinY!==0&&(Mt.vx+=mm*El*_l,Mt.vy+=af*El*_l),Mt.spinY*=.3}bn.spinX+=Mt.spinX*.2,bn.spinY+=Mt.spinY*.2;const zs=Ke*2-bi;return Mt.x-=zs/2*Xt,Mt.y-=zs/2*Xe,bn.x+=zs/2*Xt,bn.y+=zs/2*Xe,!0};for(let Mt=0;Mt<Kn;Mt++){let bn=!1,ps=0;for(let Xt=0;Xt<en.length;Xt++){if(si[Xt])continue;const Xe=en[Xt],yt=Math.sqrt(Xe.vx*Xe.vx+Xe.vy*Xe.vy);yt>ps&&(ps=yt)}const oi=ps*WR*60,xi=Math.max(1,Math.ceil(oi/(Ke*.8))),bi=WR/xi;for(let Xt=0;Xt<xi;Xt++){for(let Xe=0;Xe<en.length;Xe++){if(si[Xe])continue;const yt=en[Xe],ms=Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy);if(ms>HR){bn=!0;const br=sn*9.8;if(yt.vx-=yt.vx/ms*br*bi,yt.vy-=yt.vy/ms*br*bi,yt.x+=yt.vx*bi*60,yt.y+=yt.vy*bi*60,Eo(yt),J0(yt)){if(Xe>0){const Ir=Xe-1,ai=((hm=s[Ir])==null?void 0:hm.number)||1,ya=((hs=Pl[ai])==null?void 0:hs.color)||"#ffffff";xr[Ir].push({x:yt.x,y:yt.y,ballIndex:Ir,color:ya})}si[Xe]=!0,yt.vx=0,yt.vy=0}}else yt.vx=0,yt.vy=0}for(let Xe=0;Xe<en.length;Xe++)if(!si[Xe])for(let yt=Xe+1;yt<en.length;yt++){if(si[yt])continue;if(Z0(en[Xe],en[yt],Xe)&&Xe===0&&!vi){vi={x:en[yt].x,y:en[yt].y},sf={x:en[0].x,y:en[0].y};const br=en[yt].x-en[0].x,Ir=en[yt].y-en[0].y,ai=Math.sqrt(br*br+Ir*Ir);ai>0&&(Co={x:en[0].x+br/ai*Ke,y:en[0].y+Ir/ai*Ke}),nf={x:en[yt].vx,y:en[yt].vy},rf={x:en[0].vx,y:en[0].vy}}}}si[0]||Ui.push({x:Oe.x,y:Oe.y});for(let Xt=0;Xt<ht.length;Xt++){if(si[Xt+1])continue;const Xe=ht[Xt];if(Math.sqrt(Xe.vx*Xe.vx+Xe.vy*Xe.vy)>HR*.5||xr[Xt].length>0){const ms=s[Xt].number||1,br=((pm=Pl[ms])==null?void 0:pm.color)||"#ffffff";xr[Xt].push({x:Xe.x,y:Xe.y,ballIndex:Xt,color:br})}}if(!bn)break}return{path:Ui,hitBall:vi,contactPoint:Co,objectBallDirection:nf,cueBallDeflection:rf,cueBallPosAtContact:sf,objectPaths:xr.filter(Mt=>Mt.length>=1)}},[r,s,E,_,P,ti,Eo]),fs=(M,L)=>{const K=Math.sqrt(M.x*M.x+M.y*M.y),J=Math.sqrt(L.x*L.x+L.y*L.y);if(K===0||J===0)return{angle:0,fraction:1};const Z={x:M.x/K,y:M.y/K},ue={x:L.x/J,y:L.y/J},ce=Z.x*ue.x+Z.y*ue.y,ne=Math.max(-1,Math.min(1,ce)),ve=Math.acos(ne),Te=ve*(180/Math.PI),Se=Math.min(Te,90),Oe=Math.cos(ve);return{angle:Se,fraction:Math.max(0,Oe)}},Bi=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",ii=x.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,ln,wn),M.fillStyle="#1a5f3f",M.fillRect(He,He,ln-He*2,wn-He*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(He,He,ln-He*2,wn-He*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="eight"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const Z=He,ue=ln-He,ce=He,ne=wn-He;for(const ve of Ve)ve>Z&&ve<ue&&(M.beginPath(),M.moveTo(ve,ce),M.lineTo(ve,ne),M.stroke());for(const ve of Be)ve>ce&&ve<ne&&(M.beginPath(),M.moveTo(Z,ve),M.lineTo(ue,ve),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const ve of Ve)for(const Te of Be)ve>Z&&ve<ue&&Te>ce&&Te<ne&&(Gt(ve,Te)||(M.beginPath(),M.arc(ve,Te,2,0,Math.PI*2),M.fill()))}jf.forEach(Z=>{const ue=M.createRadialGradient(Z.x,Z.y,0,Z.x,Z.y,Kc);ue.addColorStop(0,"#000000"),ue.addColorStop(.7,"#1a1a1a"),ue.addColorStop(1,"#333333"),M.fillStyle=ue,M.beginPath(),M.arc(Z.x,Z.y,Kc,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(Z.x,Z.y,Kc-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,K=(ln-He*2)/8,J=(wn-He*2)/4;for(let Z=1;Z<8;Z++){if(Z===4)continue;const ue=He+Z*K;M.beginPath(),M.moveTo(ue,He-5),M.lineTo(ue+L,He-2),M.lineTo(ue,He+1),M.lineTo(ue-L,He-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ue,wn-He+5),M.lineTo(ue+L,wn-He+2),M.lineTo(ue,wn-He-1),M.lineTo(ue-L,wn-He+2),M.closePath(),M.fill()}for(let Z=1;Z<4;Z++){const ue=He+Z*J;M.beginPath(),M.moveTo(He-5,ue),M.lineTo(He-2,ue+L),M.lineTo(He+1,ue),M.lineTo(He-2,ue-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(ln-He+5,ue),M.lineTo(ln-He+2,ue+L),M.lineTo(ln-He-1,ue),M.lineTo(ln-He+2,ue-L),M.closePath(),M.fill()}},[f,a]),jr=(M,L,K)=>{const J=Pl[K];if(!J||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const Z=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);Z.addColorStop(0,"rgba(255, 255, 255, 0.7)"),Z.addColorStop(.4,J.color),Z.addColorStop(1,"rgba(0, 0, 0, 0.5)"),M.fillStyle=Z,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.5)",M.beginPath(),M.arc(L.x-Ke*.35,L.y-Ke*.35,Ke*.25,0,Math.PI*2),M.fill()},gi=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Ke,Ke*.8,0,0,Math.PI*2),M.fill();const K=M.createRadialGradient(L.x-Ke*.3,L.y-Ke*.3,0,L.x,L.y,Ke);K.addColorStop(0,"rgba(255, 255, 255, 1)"),K.addColorStop(.5,"#ffffff"),K.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=K,M.beginPath(),M.arc(L.x,L.y,Ke,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-Ke*.4,L.y-Ke*.4,Ke*.3,0,Math.PI*2),M.fill()},ma=(M,L,K)=>{!isFinite(L)||!isFinite(K)||(M.strokeStyle="rgba(255, 255, 0, 0.9)",M.setLineDash([6,4]),M.lineWidth=4,M.beginPath(),M.arc(L,K,Ke,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 0, 0.25)",M.beginPath(),M.arc(L,K,Ke,0,Math.PI*2),M.fill())},kr=(M,L,K,J)=>{M.strokeStyle=J,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(He,K),M.lineTo(ln-He,K),M.stroke(),M.beginPath(),M.moveTo(L,He),M.lineTo(L,wn-He),M.stroke(),M.setLineDash([]),M.strokeStyle=J,M.lineWidth=2,M.beginPath(),M.arc(L,K,Ke+4,0,Math.PI*2),M.stroke()},ga=(M,L,K,J,Z)=>{const ue=J-L,ce=Z-K,ne=Math.atan2(ce,ue),ve=150,Te=Ke+5,Se=L-Math.cos(ne)*Te,Oe=K-Math.sin(ne)*Te,ht=L-Math.cos(ne)*ve,sn=K-Math.sin(ne)*ve,Kn=M.createLinearGradient(Se,Oe,ht,sn);Kn.addColorStop(0,"#D2691E"),Kn.addColorStop(.5,"#8B4513"),Kn.addColorStop(1,"#654321"),M.strokeStyle=Kn,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(Se,Oe),M.lineTo(ht,sn),M.stroke();const Ui=L-Math.cos(ne)*(Te-3),xr=K-Math.sin(ne)*(Te-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Ui,xr,3,0,Math.PI*2),M.fill()},To=(M,L,K)=>{const J=Math.sqrt(K.x*K.x+K.y*K.y);if(J===0)return;const Z=K.x/J,ue=K.y/J,ce=100,ne=L.x+Z*ce,ve=L.y+ue*ce;M.strokeStyle="#00FFFF",M.lineWidth=4,M.setLineDash([8,6]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(ne,ve),M.stroke(),M.setLineDash([]);const Te=10,Se=Math.atan2(ue,Z);M.fillStyle="#00FFFF",M.beginPath(),M.moveTo(ne,ve),M.lineTo(ne-Te*Math.cos(Se-Math.PI/6),ve-Te*Math.sin(Se-Math.PI/6)),M.lineTo(ne-Te*Math.cos(Se+Math.PI/6),ve-Te*Math.sin(Se+Math.PI/6)),M.closePath(),M.fill()},yi=(M,L)=>{if(!(L.length<2)){M.strokeStyle="#FFFF00",M.lineWidth=4,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let K=1;K<L.length;K++)M.lineTo(L[K].x,L[K].y);M.stroke()}},$n=x.useCallback(()=>{if(g&&b&&r){const M=ni(r,b);return M?{start:g,current:M}:{start:g,current:b}}if(S&&r){const M=S.angle*Math.PI/180,L=r.x+Math.cos(M)*S.distance,K=r.y+Math.sin(M)*S.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:K}}}return null},[g,b,S,r,ni]),H=x.useCallback(()=>{const M=$n();if(!M||!r)return 0;const L=M.current.x-r.x,K=M.current.y-r.y;let J=Math.atan2(K,L)*180/Math.PI;return J<0&&(J+=360),J},[$n,r]),ie=x.useCallback(()=>{const M=$n();if(!M)return 100;const L=M.current.x-M.start.x,K=M.current.y-M.start.y;return Math.sqrt(L*L+K*K)},[$n]),je=x.useCallback((M,L)=>{A({angle:M,distance:L})},[]),ze=x.useCallback(()=>{if(g&&b&&r){const M=b.x-r.x,L=b.y-r.y;let K=Math.atan2(L,M)*180/Math.PI;K<0&&(K+=360);const J=Math.sqrt(M*M+L*L);A({angle:K,distance:J})}},[g,b,r]),Fe=x.useCallback(()=>{const M=$n();if(!M||W||!r)return{angle:null,fraction:null};const L=ri(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const K={x:M.current.x-r.x,y:M.current.y-r.y},J={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},Z=fs(K,J);return{angle:Z.angle,fraction:Bi(Z.fraction)}},[$n,W,r,ri]);x.useEffect(()=>{const M=Fe();tt(M.angle),Ne(M.fraction)},[Fe]);const it=x.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,ln,wn),ii(L),_e&&gt.length>0){const J=gt[Ye];if(J.objectBalls.forEach((Z,ue)=>{if(!Z.pocketed){const ce=Je[ue];if(ce!==void 0){const ne={x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:ce};jr(L,ne,ce)}}}),J.cueBall){const Z={x:J.cueBall.x,y:J.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};gi(L,Z)}return}if(W&&z.length>0&&!_e){const J=z.filter(Z=>Z.cueBall).map(Z=>Z.cueBall);J.length>0&&(L.strokeStyle="#FFFF00",L.lineWidth=4,L.beginPath(),L.moveTo(J[0].x,J[0].y),J.forEach(Z=>L.lineTo(Z.x,Z.y)),L.stroke()),Je.forEach((Z,ue)=>{if(Z===void 0)return;const ce=z.map(ne=>ne.objectBalls[ue]).filter(ne=>ne&&!ne.pocketed);if(ce.length>0){const ne=Pl[Z];L.strokeStyle=ne.color,L.lineWidth=4,L.beginPath(),L.moveTo(ce[0].x,ce[0].y),ce.forEach(ve=>L.lineTo(ve.x,ve.y)),L.stroke()}})}const K=$n();if(K&&!W&&r){ga(L,r.x,r.y,K.current.x,K.current.y);const J=ri(r.x,r.y,K.current.x,K.current.y);J&&(yi(L,J.path),J.objectPaths&&J.objectPaths.length>0&&J.objectPaths.forEach(Z=>{if(Z.length>=2){const ue=Z[0].color;L.strokeStyle=ue,L.lineWidth=4,L.setLineDash([6,4]),L.beginPath(),L.moveTo(Z[0].x,Z[0].y);for(let Oe=1;Oe<Z.length;Oe++)L.lineTo(Z[Oe].x,Z[Oe].y);L.stroke(),L.setLineDash([]);const ce=Z[Z.length-1],ne=Z[Math.max(0,Z.length-5)],ve=ce.x-ne.x,Te=ce.y-ne.y;if(Math.sqrt(ve*ve+Te*Te)>5){const Oe=Math.atan2(Te,ve),ht=10;L.fillStyle=ue,L.beginPath(),L.moveTo(ce.x,ce.y),L.lineTo(ce.x-ht*Math.cos(Oe-Math.PI/6),ce.y-ht*Math.sin(Oe-Math.PI/6)),L.lineTo(ce.x-ht*Math.cos(Oe+Math.PI/6),ce.y-ht*Math.sin(Oe+Math.PI/6)),L.closePath(),L.fill()}}}),J.hitBall&&J.cueBallPosAtContact&&J.cueBallDeflection&&(ma(L,J.cueBallPosAtContact.x,J.cueBallPosAtContact.y),To(L,J.cueBallPosAtContact,J.cueBallDeflection)))}s.forEach((J,Z)=>{if(J.number&&jr(L,J,J.number),u&&u.type==="object"&&u.index===Z){const ue=Pl[J.number||1];kr(L,J.x,J.y,ue.color)}}),r&&(gi(L,r),u&&u.type==="cue"&&kr(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,s,g,b,S,W,z,ri,ii,$n,u,_e,Ye,gt,Je,yn]);x.useEffect(()=>{it()},[it]),x.useEffect(()=>{if(yn){const M=setTimeout(()=>it(),50);return()=>clearTimeout(M)}},[yn,it]);const G=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),J=ln/K.width,Z=wn/K.height,ue=(M.clientX-K.left)*J,ce=(M.clientY-K.top)*Z,ne=a==="cue",{x:ve,y:Te}=Hn(ue,ce,void 0,ne);if(a==="cue"){if(Gn(ve,Te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ve,y:Te,vx:0,vy:0,spinX:0,spinY:0}),c(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(Gn(ve,Te)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Kt(a);if(Se!==null)o(Oe=>[...Oe,{x:ve,y:Te,vx:0,vy:0,spinX:0,spinY:0,number:Se}]),a==="eight"&&c(null);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&xn({x:ue,y:ce},r)<Ke*2){d({type:"cue"});return}for(let Se=0;Se<s.length;Se++)if(xn({x:ue,y:ce},s[Se])<Ke*2){d({type:"object",index:Se});return}}else if(a==="remove"){if(r&&xn({x:ue,y:ce},r)<Ke*2){i(null);return}for(let Se=0;Se<s.length;Se++)if(xn({x:ue,y:ce},s[Se])<Ke*2){o(ht=>ht.filter((sn,Kn)=>Kn!==Se));return}}else r&&!W&&(y({x:r.x,y:r.y}),w({x:ue,y:ce}))},Pe=M=>{const L=n.current;if(!L)return;const K=L.getBoundingClientRect(),J=ln/K.width,Z=wn/K.height,ue=(M.clientX-K.left)*J,ce=(M.clientY-K.top)*Z;if(u){const ne=u.type==="cue",ve=u.type==="object"?u.index:void 0,{x:Te,y:Se}=Hn(ue,ce,ve,ne);Gn(Te,Se)||(u.type==="cue"&&r?i({...r,x:Te,y:Se}):u.type==="object"&&u.index!==void 0&&o(Oe=>Oe.map((ht,sn)=>sn===u.index?{...ht,x:Te,y:Se}:ht)))}else g&&!W&&w({x:ue,y:ce})},Me=()=>{u&&d(null),g&&b&&ze(),y(null),w(null)},ee=x.useCallback((M,L)=>{const K=n.current;if(!K)return null;const J=K.getBoundingClientRect(),Z=ln/J.width,ue=wn/J.height,ce=(M-J.left)*Z,ne=(L-J.top)*ue;return{rawX:ce,rawY:ne}},[]),ye=x.useCallback(M=>{var ve,Te;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=ee(L.clientX,L.clientY);if(!K)return;const{rawX:J,rawY:Z}=K,ue=a==="cue",{x:ce,y:ne}=Hn(J,Z,void 0,ue);if(a==="cue"){if(Gn(ce,ne)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:ce,y:ne,vx:0,vy:0,spinX:0,spinY:0}),c(null)}else if(a==="solid"||a==="stripe"||a==="eight"){if(Gn(ce,ne)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const Se=Kt(a);if(Se!==null)o(Oe=>[...Oe,{x:ce,y:ne,vx:0,vy:0,spinX:0,spinY:0,number:Se}]),a==="eight"&&c(null);else{const Oe=a==="eight"?"8-ball already placed":`No more ${a}s available`;e({title:Oe,variant:"destructive"})}}else if(a==="reposition"){if(r&&xn({x:J,y:Z},r)<Ke*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let Se=0;Se<s.length;Se++)if(xn({x:J,y:Z},s[Se])<Ke*2){d({type:"object",index:Se});const ht=s[Se].number;e({title:`Drag to reposition ${ht?(ve=Pl[ht])==null?void 0:ve.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&xn({x:J,y:Z},r)<Ke*2){i(null),e({title:"Cue ball removed"});return}for(let Se=0;Se<s.length;Se++)if(xn({x:J,y:Z},s[Se])<Ke*2){const ht=s[Se].number,sn=ht?(Te=Pl[ht])==null?void 0:Te.name:"ball";o(Kn=>Kn.filter((Ui,xr)=>xr!==Se)),e({title:`${sn} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!W&&(y({x:r.x,y:r.y}),w({x:J,y:Z}))},[r,s,a,W,ee,Hn,Kt,e]),qe=x.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],K=ee(L.clientX,L.clientY);if(!K)return;const{rawX:J,rawY:Z}=K;if(u){const ue=u.type==="cue",ce=u.type==="object"?u.index:void 0,{x:ne,y:ve}=Hn(J,Z,ce,ue);Gn(ne,ve)||(u.type==="cue"&&r?i({...r,x:ne,y:ve}):u.type==="object"&&u.index!==void 0&&o(Te=>Te.map((Se,Oe)=>Oe===u.index?{...Se,x:ne,y:ve}:Se)))}else g&&!W&&w({x:J,y:Z})},[r,u,g,W,ee,Hn]),We=x.useCallback(M=>{M.preventDefault(),u&&d(null),g&&b&&ze(),y(null),w(null)},[u,g,b,ze,e]);x.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",ye,{passive:!1}),M.addEventListener("touchmove",qe,{passive:!1}),M.addEventListener("touchend",We,{passive:!1}),M.addEventListener("touchcancel",We,{passive:!1}),()=>{M.removeEventListener("touchstart",ye),M.removeEventListener("touchmove",qe),M.removeEventListener("touchend",We),M.removeEventListener("touchcancel",We)}},[ye,qe,We]);const jt=()=>{if(!se){e({title:"Please select a course first",variant:"destructive"});return}const M=Xje[se];if(!M)return;const K=(Z=>{const ue=[...Z];for(let ce=ue.length-1;ce>0;ce--){const ne=Math.floor(Math.random()*(ce+1));[ue[ce],ue[ne]]=[ue[ne],ue[ce]]}return ue})(Array.from({length:15},(Z,ue)=>ue+1)),J=M.balls.map((Z,ue)=>({x:Z.x,y:Z.y,vx:0,vy:0,spinX:0,spinY:0,number:K[ue]}));o(J),i({x:Ve[2],y:Be[2],vx:0,vy:0,spinX:0,spinY:0}),A(null),$(!1),re([]),pe(M.name),e({title:`Loaded: ${M.name}`})},Rt=()=>{i(null),o([]),$(!1),re([]),pe(null),Q(""),e({title:"Table cleared"})};x.useCallback(()=>{Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null),nt(!1)},[]),x.useEffect(()=>{if(!_e||gt.length===0)return;const M=2,L=16,K=J=>{Ut.current===0&&(Ut.current=J);const Z=J-Ut.current;if(Z>=L){const ue=Math.floor(Z/L)*M,ce=Math.min(Ye+ue,gt.length-1);if(rt(ce),Ut.current=J,ce>=gt.length-1){const ne=gt[gt.length-1];ne.cueBall?i(ve=>ve?{...ve,x:ne.cueBall.x,y:ne.cueBall.y,vx:0,vy:0}:null):i(null),o(ve=>ve.map((Te,Se)=>{const Oe=ne.objectBalls[Se];return!Oe||Oe.pocketed?null:{...Te,x:Oe.x,y:Oe.y,vx:0,vy:0}}).filter(Te=>Te!==null)),nt(!1),A(null);return}}Ie.current=requestAnimationFrame(K)};return Ie.current=requestAnimationFrame(K),()=>{Ie.current&&cancelAnimationFrame(Ie.current)}},[_e,Ye,gt]);const Yt=M=>{const L=M.currentTarget.getBoundingClientRect(),K=M.clientX-L.left,J=M.clientY-L.top,Z=K/100*2-1,ue=-(J/100*2-1);T(Z),I(ue)},sr=(r?1:0)+s.length,or=Gr().toFixed(3),kt=ti().toFixed(3);return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(EC,{open:Y,onComplete:vn,pages:rn,toolName:"Advanced Cueing Emulator"}),yn&&l.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col","data-testid":"fullscreen-overlay",children:[l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsx("span",{className:"text-white text-sm font-semibold",children:"Landscape Mode"}),l.jsx(oe,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>hn(!1),"data-testid":"button-close-fullscreen",children:l.jsx(Cx,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center w-full px-2 overflow-hidden",children:l.jsx("canvas",{ref:n,width:ln,height:wn,className:"rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:"100%",maxHeight:In?"70vh":"50vh",objectFit:"contain",touchAction:"none"},onMouseDown:G,onMouseMove:Pe,onMouseUp:Me,onMouseLeave:Me,"data-testid":"canvas-fullscreen-table"})}),l.jsxs("div",{className:"w-full px-4 pb-4 space-y-2","data-testid":"fullscreen-controls",children:[l.jsxs("div",{className:"flex items-center justify-between text-white",children:[l.jsx("span",{className:"text-sm font-semibold",children:"Fine-Tune Angle"}),l.jsxs("span",{className:"text-sm font-mono text-primary",children:[((S==null?void 0:S.angle)??H()).toFixed(2),""]})]}),l.jsx(Gc,{value:[(S==null?void 0:S.angle)??H()],onValueChange:([M])=>je(M,(S==null?void 0:S.distance)??ie()),min:0,max:360,step:.01,className:"w-full","data-testid":"slider-fullscreen-angle"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>je(((S==null?void 0:S.angle)??H())-.01,(S==null?void 0:S.distance)??ie()),"data-testid":"button-fullscreen-left",children:" 0.01"}),l.jsx(oe,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>je(((S==null?void 0:S.angle)??H())+.01,(S==null?void 0:S.distance)??ie()),"data-testid":"button-fullscreen-right",children:"0.01 "})]}),(Ee!==null||xe!==null)&&l.jsx("div",{className:"p-2 rounded-md bg-primary/20 border border-primary/40",children:l.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[l.jsxs("span",{className:"font-semibold",children:["Cut Angle: ",l.jsxs("span",{className:"font-mono",children:[(Ee==null?void 0:Ee.toFixed(1))??"--",""]})]}),l.jsxs("span",{className:"font-semibold",children:["Ball Hit: ",l.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})]}),l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>hn(!0),"data-testid":"button-fullscreen",title:"Fullscreen Table View",children:l.jsx(kH,{className:"w-5 h-5"})}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>V(!0),"data-testid":"button-tutorial",children:l.jsx(zp,{className:"w-5 h-5"})})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("div",{className:"flex-1",children:l.jsxs(ot,{className:"p-4",children:[!yn&&l.jsx("canvas",{ref:n,width:ln,height:wn,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:ln,touchAction:"none"},onMouseDown:G,onMouseMove:Pe,onMouseUp:Me,onMouseLeave:Me,"data-testid":"canvas-billiard-table"}),(Ee!==null||xe!==null)&&l.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",l.jsxs("span",{className:"font-mono",children:[(Ee==null?void 0:Ee.toFixed(1))??"--",""]})]}),l.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",l.jsx("span",{className:"font-mono",children:xe??"--"})]})]})})]})}),l.jsx("div",{className:"w-full lg:w-80",children:l.jsx(ot,{className:"p-2",children:l.jsxs(_u,{type:"multiple",className:"w-full",children:[l.jsxs(Pi,{value:"practice-courses",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),l.jsx(ji,{className:"px-2 space-y-3",children:l.jsx(nv,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs(YF,{value:se,onValueChange:Q,children:[l.jsx(SC,{"data-testid":"select-course",children:l.jsx(XF,{placeholder:"-- Select a Course --"})}),l.jsxs(_C,{children:[l.jsx(lr,{value:"par2_01",children:"Par 2 - Course 1"}),l.jsx(lr,{value:"par2_02",children:"Par 2 - Course 2"}),l.jsx(lr,{value:"par2_03",children:"Par 2 - Course 3"}),l.jsx(lr,{value:"par3_01",children:"Par 3 - Course 1"}),l.jsx(lr,{value:"par3_02",children:"Par 3 - Course 2"}),l.jsx(lr,{value:"par3_03",children:"Par 3 - Course 3"}),l.jsx(lr,{value:"par3_04",children:"Par 3 - Course 4"}),l.jsx(lr,{value:"par4_01",children:"Par 4 - Course 1"}),l.jsx(lr,{value:"par4_02",children:"Par 4 - Course 2"}),l.jsx(lr,{value:"par4_03",children:"Par 4 - Course 3"}),l.jsx(lr,{value:"par4_04",children:"Par 4 - Course 4"}),l.jsx(lr,{value:"par4_05",children:"Par 4 - Course 5"}),l.jsx(lr,{value:"par5_01",children:"Par 5 - Course 1"}),l.jsx(lr,{value:"par5_02",children:"Par 5 - Course 2"}),l.jsx(lr,{value:"par5_03",children:"Par 5 - Course 3"}),l.jsx(lr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),l.jsx(oe,{className:"w-full",onClick:jt,"data-testid":"button-load-course",children:"Load Course"}),ge&&l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",l.jsx("span",{className:"text-primary font-semibold",children:ge})]})]})})})]}),l.jsxs(Pi,{value:"ball-placement",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),l.jsxs(ji,{className:"px-2 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(CH,{className:"w-3 h-3 text-muted-foreground"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),l.jsx(Vr,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[l.jsx(qR,{size:14}),l.jsx("span",{className:"ml-1",children:"Cue"})]}),l.jsxs(oe,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[l.jsx(GR,{size:14}),l.jsx("span",{className:"ml-1",children:"Solid"})]}),l.jsxs(oe,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[l.jsx(KR,{size:14}),l.jsx("span",{className:"ml-1",children:"Stripe"})]}),l.jsxs(oe,{variant:a==="eight"?"default":"secondary",className:"flex-1",onClick:()=>{a==="eight"?c(null):qn()||c("eight")},disabled:a!=="eight"&&qn(),"data-testid":"button-add-eight",children:[l.jsx(YR,{size:14}),l.jsx("span",{className:"ml-1",children:"8 Ball"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[l.jsx(BN,{className:"w-4 h-4 mr-1"}),"Move"]}),l.jsxs(oe,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>c(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[l.jsx(MH,{className:"w-4 h-4 mr-1"}),"Remove"]}),l.jsxs(oe,{variant:"secondary",className:"flex-1",onClick:Rt,"data-testid":"button-clear",children:[l.jsx(Ty,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",sr]})]})]}),l.jsxs(Pi,{value:"power-aim",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Rh,{className:"w-4 h-4"}),"Power & Aim"]})}),l.jsxs(ji,{className:"px-2 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),l.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(E*100),"%"]})]}),l.jsx(Gc,{value:[E*100],onValueChange:([M])=>N(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),l.jsxs("div",{className:"border-t border-border pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),S?l.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>A(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[l.jsx(NH,{className:"w-3 h-3 mr-1"}),"Clear"]}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),S||g&&b?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((S==null?void 0:S.angle)??H()).toFixed(2),""]})}),l.jsx(Gc,{value:[(S==null?void 0:S.angle)??H()],onValueChange:([M])=>je(M,(S==null?void 0:S.distance)??ie()),min:0,max:360,step:.1,className:"w-full","data-testid":"slider-aim-angle"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0"}),l.jsx("span",{children:"90"}),l.jsx("span",{children:"180"}),l.jsx("span",{children:"270"}),l.jsx("span",{children:"360"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(oe,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>je(((S==null?void 0:S.angle)??H())-.1,(S==null?void 0:S.distance)??ie()),"data-testid":"button-aim-left",children:" 0.10"}),l.jsx(oe,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>je(((S==null?void 0:S.angle)??H())+.1,(S==null?void 0:S.distance)??ie()),"data-testid":"button-aim-right",children:"0.10 "})]})]}):l.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[l.jsx(D1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),l.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),l.jsxs(Pi,{value:"english-spin",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),l.jsxs(ji,{className:"px-2 space-y-3",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:Yt,"data-testid":"box-spin",children:[l.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),l.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),l.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(_+1)/2*100}%`,top:`${(1-P)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),l.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),l.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),l.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[l.jsxs("span",{children:["x: ",_.toFixed(2)]}),l.jsxs("span",{children:["y: ",P.toFixed(2)]})]})]})]}),l.jsxs(Pi,{value:"environment",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),l.jsxs(ji,{className:"px-2 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),l.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:yr().label})]}),l.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>l.jsx(oe,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>U(M),"data-testid":`button-table-${M}`,children:M},M))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(j*100),"%"]})]}),l.jsx(Gc,{value:[j*100],onValueChange:([M])=>O(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Slow"}),l.jsx("span",{children:"Fast"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),l.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(R*100),"%"]})]}),l.jsx(Gc,{value:[R*100],onValueChange:([M])=>F(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"Dead"}),l.jsx("span",{children:"Lively"})]})]}),l.jsxs("div",{className:"pt-2 border-t border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[l.jsx($H,{className:"w-3 h-3"}),"Table Presets"]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),l.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=le[M];return l.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>Ft(M),onMouseUp:()=>Ge(M),onMouseLeave:()=>{we.current&&(clearTimeout(we.current),we.current=null)},onTouchStart:()=>Ft(M),onTouchEnd:()=>Ge(M),"data-testid":`button-preset-${M+1}`,children:L?l.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):l.jsx("span",{children:"--"})},M)})})]})]})]}),l.jsxs(Pi,{value:"physics",className:"border-b-0",children:[l.jsx(Ni,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),l.jsx(ji,{className:"px-2",children:l.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[l.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),l.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:or})]}),l.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[l.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),l.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:kt})]})]})})]})]})})})]})})})]})}const $w=""+new URL("HEADS_1766274620246-I6Gelmx1.png",import.meta.url).href,XR=""+new URL("TAILS_1766274620247-BjPO4NFE.png",import.meta.url).href;function Jje(){const[,t]=ca(),[e,n]=x.useState("idle"),[r,i]=x.useState(null),[s,o]=x.useState(!1),[a,c]=x.useState(0),[u,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>(mt.startSession("luck"),()=>{mt.endSession(),f.current&&clearTimeout(f.current)}),[]);const h=()=>{n("flipping"),i(null),o(!1),d(!0);const v=Math.random()<.5?"heads":"tails",y=(4+Math.floor(Math.random()*3))*360,b=v==="heads"?y:y+180;c(b),f.current=setTimeout(()=>{i(v),n("result"),d(!1),mt.trackSkillMetric("luck","coin_flip",v==="heads"?1:0),setTimeout(()=>{o(!0)},200)},2500)},m=()=>{n("idle"),i(null),o(!1),c(0),d(!1),f.current&&(clearTimeout(f.current),f.current=null)};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-lg font-bold text-primary",children:"CueMaster: Luck"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Coin Flip"})]}),l.jsx(oe,{variant:"ghost",size:"icon",onClick:m,disabled:e==="idle","data-testid":"button-reset",children:l.jsx(_y,{className:"w-5 h-5"})})]}),l.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 gap-8",children:[e==="idle"&&l.jsxs("div",{className:"flex flex-col items-center gap-8",children:[l.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64",style:{perspective:"1000px"},children:l.jsx("div",{className:"w-full h-full relative",style:{transformStyle:"preserve-3d"},children:l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",style:{backfaceVisibility:"hidden"},children:l.jsx("img",{src:$w,alt:"Heads",className:"w-full h-full object-cover"})})})}),l.jsx(oe,{size:"lg",className:"text-xl px-12 py-6",onClick:h,"data-testid":"button-flip",children:"FLIP COIN"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-xs",children:"Tap to flip. The result is guaranteed 50/50  true random."})]}),e==="flipping"&&l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64",style:{perspective:"1000px"},children:l.jsxs("div",{className:"w-full h-full relative",style:{transformStyle:"preserve-3d",transform:`rotateY(${a}deg)`,transition:u?"transform 2.5s cubic-bezier(0.25, 0.1, 0.25, 1)":"none"},children:[l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden shadow-2xl",style:{backfaceVisibility:"hidden"},children:l.jsx("img",{src:$w,alt:"Heads",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden shadow-2xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:l.jsx("img",{src:XR,alt:"Tails",className:"w-full h-full object-cover"})})]})}),l.jsx("p",{className:"text-lg text-muted-foreground animate-pulse",children:"Flipping..."})]}),e==="result"&&r&&l.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-md",children:[l.jsx("div",{className:`w-full aspect-square max-w-xs md:max-w-sm transition-all duration-700 ease-out ${s?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:l.jsx("img",{src:r==="heads"?$w:XR,alt:r,className:"w-full h-full object-contain rounded-full shadow-2xl","data-testid":`img-result-${r}`})}),l.jsx("h2",{className:`text-5xl md:text-7xl font-black tracking-wider transition-all duration-700 ease-out ${s?"opacity-100 scale-100":"opacity-0 scale-75"} ${r==="heads"?"text-amber-400":"text-slate-400"}`,"data-testid":"text-result",children:r.toUpperCase()}),l.jsx(oe,{size:"lg",variant:"outline",className:"mt-4",onClick:h,"data-testid":"button-flip-again",children:"Flip Again"})]})]}),l.jsx("footer",{className:"py-4 px-6 text-center border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Fair 50/50 random generation. No prediction, no pattern."})})]})}function Zje(){const[,t]=ca(),[e,n]=x.useState(null);x.useEffect(()=>{n(mt.getAggregatedStats())},[]);const r=o=>{const a=Math.floor(o/1e3),c=Math.floor(a/3600),u=Math.floor(a%3600/60),d=a%60;return c>0?`${c}h ${u}m`:u>0?`${u}m ${d}s`:`${d}s`},i=o=>o?new Date(o).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",s=e&&(e.totalSessions>0||mt.hasAnyConsent());return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!mt.hasAnyConsent()&&l.jsx(ot,{className:"p-4 bg-primary/5 border-primary/20",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(lc,{className:"w-5 h-5 text-primary mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),l.jsx(oe,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&l.jsxs(l.Fragment,{children:[l.jsx(ot,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:l.jsx(g$,{className:"w-8 h-8 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ro,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),l.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const o=Math.floor(e.totalTimeMs/1e3),a=Math.floor(o/3600),c=Math.floor(o%3600/60),u=o%60;return l.jsxs(l.Fragment,{children:[a>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),l.jsx("span",{className:"text-3xl font-bold text-foreground",children:u}),l.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(Sy,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(sT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx($1,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),l.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([o,a])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-medium capitalize",children:o})}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},o))})]})]}),!s&&mt.hasAnyConsent()&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function e2e(){const[,t]=ca(),[e,n]=x.useState(""),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[a,c]=x.useState(null),[u,d]=x.useState(null),f=async()=>{if(e){o(!0),c(null);try{const m=await fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){c("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const v=await m.json();d(v),i(!0),localStorage.setItem("admin_secret",e)}catch(m){c(m instanceof Error?m.message:"Unknown error")}finally{o(!1)}}};x.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),x.useEffect(()=>{e&&!r&&!s&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(Ey,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&l.jsx(oe,{variant:"outline",size:"icon",onClick:f,disabled:s,"data-testid":"button-refresh",children:l.jsx(LH,{className:`w-4 h-4 ${s?"animate-spin":""}`})})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&l.jsxs(ot,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ey,{className:"w-6 h-6 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("div",{children:l.jsx(fr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&l.jsx("p",{className:"text-sm text-destructive",children:a}),l.jsx(oe,{type:"submit",className:"w-full",disabled:s||!e,"data-testid":"button-authenticate",children:s?"Authenticating...":"Access Dashboard"})]})]}),r&&u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(Fl,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:u.uniqueUsers})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(lc,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:u.totalSubmissions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(Sy,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:u.aggregateStats.totalSessions})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[l.jsx(sT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:u.aggregateStats.totalTimeHours})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(Rh,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsxs("p",{className:"text-lg font-bold",children:[u.aggregateStats.avgShotTime,"s"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalShots}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(y$,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.avgBreakSpeed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.maxBreakSpeed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalBreaks}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[l.jsx(Sy,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsx("p",{className:"text-lg font-bold",children:u.aggregateStats.totalCalibrations}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),u.recentSubmissions.length>0&&l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),l.jsx("div",{className:"space-y-2",children:u.recentSubmissions.map((m,v)=>l.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[l.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),l.jsxs("span",{children:[m.sessions," sessions"]}),l.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},v))})]}),u.totalSubmissions===0&&l.jsxs(ot,{className:"p-6 text-center",children:[l.jsx(lc,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const t2e=.0254,n2e=.02,r2e=.005;function i2e(){const[,t]=ca(),[e,n]=x.useState(!1),[r,i]=x.useState("Click Start to begin"),[s,o]=x.useState(0),[a,c]=x.useState(.05),[u,d]=x.useState(.22),[f,h]=x.useState(0),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,w]=x.useState(null),[S,A]=x.useState(null),[E,N]=x.useState(null),[_,T]=x.useState([]),[P,I]=x.useState(0),[j,O]=x.useState(60),[R,F]=x.useState(.22),[B,U]=x.useState(2.8),[W,$]=x.useState(.06),[z,re]=x.useState(.01),[se,Q]=x.useState(.25),[ge,pe]=x.useState(300),[Ee,tt]=x.useState(6e3),xe=x.useRef(null),Ne=x.useRef(null),le=x.useRef(!1),de=x.useRef(.05),Y=x.useRef(0),V=x.useRef(null),we=x.useCallback(Ce=>{T(Je=>[Ce,...Je].slice(0,100))},[]),_e=async()=>{i("Requesting microphone..."),T([]),h(0),v(null),y(null),w(null),N(null),A(null),de.current=.05,Y.current=0,V.current=null;try{const Ce=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});Ne.current=Ce;const Je=new AudioContext({sampleRate:48e3});xe.current=Je,Je.state==="suspended"&&await Je.resume(),i(`AudioContext: ${Je.state}`);const Ze=Je.createMediaStreamSource(Ce),Ie=Je.createBiquadFilter();Ie.type="highpass",Ie.frequency.value=ge;const Ut=Je.createBiquadFilter();Ut.type="lowpass",Ut.frequency.value=Ee;const yn=Je.createAnalyser();yn.fftSize=2048,Ze.connect(Ie),Ie.connect(Ut),Ut.connect(yn),le.current=!0,n(!0),we({type:"info",time:0,max:0,thresh:0,floor:0});const hn=new Float32Array(yn.fftSize);let In=0;const qr=()=>{if(!le.current)return;In++,In%30===0&&(I(In),i(`Listening (frame ${In})`)),yn.getFloatTimeDomainData(hn);let rn=0;for(let Ft=0;Ft<hn.length;Ft++)rn=Math.max(rn,Math.abs(hn[Ft]));In<=3&&we({type:"debug",time:Je.currentTime,max:rn,thresh:0,floor:de.current});const vn=de.current;de.current=rn>vn?vn+n2e*(rn-vn):vn-r2e*(vn-rn),de.current=Math.max(.02,Math.min(.6,de.current));const qt=Je.currentTime,pn=Math.max(R,de.current*B);if(o(rn),c(de.current),d(pn),rn>pn&&qt-Y.current>W)if(Y.current=qt,h(Ft=>Ft+1),A(rn),V.current===null)V.current=qt,v(qt),we({type:"tip",time:qt,max:rn,thresh:pn,floor:de.current});else{const Ft=qt-V.current;if(y(qt),w(Ft),Ft>=z&&Ft<=se){we({type:"rack",time:qt,max:rn,thresh:pn,floor:de.current,deltaT:Ft});const yr=j*t2e/Ft*2.23693629;N(yr),V.current=null}else we({type:"rejected",time:qt,max:rn,thresh:pn,floor:de.current,deltaT:Ft,reason:Ft<z?"too fast":"too slow"}),Ft>se&&(V.current=qt,v(qt))}requestAnimationFrame(qr)};requestAnimationFrame(qr)}catch(Ce){console.error(Ce),i(`ERROR: ${Ce.message}`),n(!1)}},nt=()=>{le.current=!1,Ne.current&&Ne.current.getTracks().forEach(Ce=>Ce.stop()),xe.current&&xe.current.close(),n(!1),i("Stopped")},Ye=()=>{T([]),h(0),v(null),y(null),w(null),N(null),A(null)},rt=()=>{const Ce={exportedAt:new Date().toISOString(),config:{distanceIn:j,minThresh:R,floorMult:B,refractTime:W,minDeltaT:z,maxDeltaT:se,hpfFreq:ge,lpfFreq:Ee},peaks:_},Je=new Blob([JSON.stringify(Ce,null,2)],{type:"application/json"}),Ze=URL.createObjectURL(Je),Ie=document.createElement("a");Ie.href=Ze,Ie.download=`break-debug-${Date.now()}.json`,Ie.click(),URL.revokeObjectURL(Ze)};x.useEffect(()=>()=>{le.current=!1,Ne.current&&Ne.current.getTracks().forEach(Ce=>Ce.stop()),xe.current&&xe.current.close()},[]);const gt=Ce=>{switch(Ce){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:l.jsx(es,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),l.jsx("main",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(oe,{onClick:e?nt:_e,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?l.jsx(OH,{className:"w-4 h-4 mr-2"}):l.jsx(RH,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),l.jsxs(oe,{variant:"secondary",onClick:Ye,"data-testid":"button-clear",children:[l.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Clear"]}),l.jsxs(oe,{variant:"secondary",onClick:rt,"data-testid":"button-export",children:[l.jsx(h$,{className:"w-4 h-4 mr-2"}),"Export"]})]}),l.jsxs(ot,{className:"p-4 bg-muted/30",children:[l.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[l.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",l.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",P]})]}),E!==null&&l.jsxs(ot,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[l.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),l.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[E.toFixed(1)," mph"]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",b==null?void 0:b.toFixed(4),"s | Distance: ",j,'"']})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Current"}),l.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[l.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(s*100,100)}%`}}),l.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${u*100}%`}})]}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:s.toFixed(3)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Floor"}),l.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs w-16",children:"Thresh"}),l.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:l.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${u*100}%`}})}),l.jsx("span",{className:"text-xs font-mono w-14 text-right",children:u.toFixed(3)})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold text-primary",children:f}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold font-mono",children:(m==null?void 0:m.toFixed(3))??"-"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),l.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[l.jsx("p",{className:"text-lg font-bold font-mono",children:(b==null?void 0:b.toFixed(4))??"-"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(S==null?void 0:S.toFixed(4))??"-"]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Distance (in)"}),l.jsx(fr,{type:"number",value:j,onChange:Ce=>O(+Ce.target.value),className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Min Threshold"}),l.jsx(fr,{type:"number",value:R,onChange:Ce=>F(+Ce.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Floor Multiplier"}),l.jsx(fr,{type:"number",value:B,onChange:Ce=>U(+Ce.target.value),step:"0.1",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Refractory (s)"}),l.jsx(fr,{type:"number",value:W,onChange:Ce=>$(+Ce.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Min Delta T (s)"}),l.jsx(fr,{type:"number",value:z,onChange:Ce=>re(+Ce.target.value),step:"0.005",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"Max Delta T (s)"}),l.jsx(fr,{type:"number",value:se,onChange:Ce=>Q(+Ce.target.value),step:"0.01",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"HPF Freq (Hz)"}),l.jsx(fr,{type:"number",value:ge,onChange:Ce=>pe(+Ce.target.value),step:"50",className:"h-8"})]}),l.jsxs("div",{children:[l.jsx(Ht,{className:"text-xs",children:"LPF Freq (Hz)"}),l.jsx(fr,{type:"number",value:Ee,onChange:Ce=>tt(+Ce.target.value),step:"100",className:"h-8"})]})]})]}),l.jsxs(ot,{className:"p-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),l.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:_.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):_.map((Ce,Je)=>l.jsxs("div",{className:`flex justify-between ${gt(Ce.type)}`,children:[l.jsxs("span",{children:[Ce.type.toUpperCase()," @ ",Ce.time.toFixed(4),"s"]}),l.jsxs("span",{children:["max: ",Ce.max.toFixed(4)," ",Ce.deltaT?`dt: ${Ce.deltaT.toFixed(4)}`:""," ",Ce.reason||""]})]},Je))})]})]})})]})}function s2e(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(ot,{className:"w-full max-w-md mx-4",children:l.jsxs(N5,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(bH,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const o2e=typeof window<"u"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),a2e=t=>{window.location.hash=t},l2e=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),c2e=()=>window.location.hash.replace(/^#/,"")||"/";function u2e(){const t=x.useSyncExternalStore(l2e,c2e,()=>"/"),e=x.useCallback(n=>a2e(n),[]);return[t,e]}function d2e(){return l.jsx(NL,{hook:o2e?u2e:void 0,children:l.jsxs(q7,{children:[l.jsx(qs,{path:"/",component:aie}),l.jsx(qs,{path:"/break-speed",component:jie}),l.jsx(qs,{path:"/shot-clock",component:Cje}),l.jsx(qs,{path:"/table-level",component:Pje}),l.jsx(qs,{path:"/cue-emulator",component:Qje}),l.jsx(qs,{path:"/coin-flip",component:Jje}),l.jsx(qs,{path:"/insights",component:Zje}),l.jsx(qs,{path:"/admin/analytics",component:e2e}),l.jsx(qs,{path:"/debug/audio",component:i2e}),l.jsx(qs,{component:s2e})]})})}function f2e(){return l.jsx(gW,{client:xW,children:l.jsx(ZG,{children:l.jsx(vte,{children:l.jsx(xte,{children:l.jsx(Ste,{children:l.jsxs(QG,{children:[l.jsx(Tq,{}),l.jsx(d2e,{})]})})})})})})}const XA=t=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; font-family: monospace; color: #ff6b6b; background: #1a1a2e;">
        <h2>Error Loading App</h2>
        <pre style="white-space: pre-wrap; word-break: break-word;">${t instanceof Error?t.message+`
`+t.stack:t}</pre>
      </div>
    `)};window.onerror=(t,e,n,r,i)=>{XA(i||String(t))};window.onunhandledrejection=t=>{XA(t.reason)};try{vL(document.getElementById("root")).render(l.jsx(f2e,{}))}catch(t){XA(t)}
