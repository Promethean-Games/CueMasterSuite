var SNe=Object.defineProperty,ENe=Object.defineProperties;var TNe=Object.getOwnPropertyDescriptors;var W0=Object.getOwnPropertySymbols,PNe=Object.getPrototypeOf,YU=Object.prototype.hasOwnProperty,XU=Object.prototype.propertyIsEnumerable,ANe=Reflect.get;var QU=lt=>{throw TypeError(lt)},Rc=Math.pow,KU=(lt,dt,$e)=>dt in lt?SNe(lt,dt,{enumerable:!0,configurable:!0,writable:!0,value:$e}):lt[dt]=$e,D=(lt,dt)=>{for(var $e in dt||(dt={}))YU.call(dt,$e)&&KU(lt,$e,dt[$e]);if(W0)for(var $e of W0(dt))XU.call(dt,$e)&&KU(lt,$e,dt[$e]);return lt},F=(lt,dt)=>ENe(lt,TNe(dt));var X=(lt,dt)=>{var $e={};for(var Xn in lt)YU.call(lt,Xn)&&dt.indexOf(Xn)<0&&($e[Xn]=lt[Xn]);if(lt!=null&&W0)for(var Xn of W0(lt))dt.indexOf(Xn)<0&&XU.call(lt,Xn)&&($e[Xn]=lt[Xn]);return $e};var AA=(lt,dt,$e)=>dt.has(lt)||QU("Cannot "+$e);var ue=(lt,dt,$e)=>(AA(lt,dt,"read from private field"),$e?$e.call(lt):dt.get(lt)),qt=(lt,dt,$e)=>dt.has(lt)?QU("Cannot add the same private member more than once"):dt instanceof WeakSet?dt.add(lt):dt.set(lt,$e),xt=(lt,dt,$e,Xn)=>(AA(lt,dt,"write to private field"),Xn?Xn.call(lt,$e):dt.set(lt,$e),$e),Fr=(lt,dt,$e)=>(AA(lt,dt,"access private method"),$e);var H0=(lt,dt,$e,Xn)=>({set _(bs){xt(lt,dt,bs,$e)},get _(){return ue(lt,dt,Xn)}}),Mc=(lt,dt,$e)=>ANe(PNe(lt),$e,dt);var V=(lt,dt,$e)=>new Promise((Xn,bs)=>{var hm=_s=>{try{ws($e.next(_s))}catch(af){bs(af)}},bt=_s=>{try{ws($e.throw(_s))}catch(af){bs(af)}},ws=_s=>_s.done?Xn(_s.value):Promise.resolve(_s.value).then(hm,bt);ws(($e=$e.apply(lt,dt)).next())});(function(){"use strict";var Cc,fl,Gd,PU,Kd,hl,Yd,AU,Nc,CU,Xd,Qd,no,Dr,lm,Ic,Oo,ca,NU,ds,IU,fs,qr,jc,hs,Al,jU,Ei,cm,kU,Rn,pl,ml,Jd,Zd,gl,ef,tf,OU;function lt(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var dt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xn={exports:{}},bs={},hm={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),_s=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),JU=Symbol.for("react.strict_mode"),ZU=Symbol.for("react.profiler"),e9=Symbol.for("react.provider"),t9=Symbol.for("react.context"),n9=Symbol.for("react.forward_ref"),r9=Symbol.for("react.suspense"),i9=Symbol.for("react.memo"),o9=Symbol.for("react.lazy"),CA=Symbol.iterator;function s9(t){return t===null||typeof t!="object"?null:(t=CA&&t[CA]||t["@@iterator"],typeof t=="function"?t:null)}var NA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IA=Object.assign,jA={};function Dc(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||NA}Dc.prototype.isReactComponent={},Dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kA(){}kA.prototype=Dc.prototype;function q0(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||NA}var G0=q0.prototype=new kA;G0.constructor=q0,IA(G0,Dc.prototype),G0.isPureReactComponent=!0;var OA=Array.isArray,RA=Object.prototype.hasOwnProperty,K0={current:null},MA={key:!0,ref:!0,__self:!0,__source:!0};function DA(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)RA.call(e,r)&&!MA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ws,type:t,key:o,ref:s,props:i,_owner:K0.current}}function a9(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function l9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $A=/\/+/g;function X0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l9(""+t.key):e.toString(36)}function pm(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ws:case _s:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+X0(s,0):r,OA(i)?(n="",t!=null&&(n=t.replace($A,"$&/")+"/"),pm(i,e,n,"",function(c){return c})):i!=null&&(Y0(i)&&(i=a9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($A,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",OA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+X0(o,a);s+=pm(o,e,n,l,i)}else if(l=s9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+X0(o,a++),s+=pm(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function mm(t,e,n){if(t==null)return t;var r=[],i=0;return pm(t,r,"","",function(o){return e.call(n,o,i++)}),r}function c9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},gm={transition:null},u9={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:K0};function LA(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:mm,forEach:function(t,e,n){mm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mm(t,function(){e++}),e},toArray:function(t){return mm(t,function(e){return e})||[]},only:function(t){if(!Y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},bt.Component=Dc,bt.Fragment=af,bt.Profiler=ZU,bt.PureComponent=q0,bt.StrictMode=JU,bt.Suspense=r9,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u9,bt.act=LA,bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IA({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=K0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RA.call(e,l)&&!MA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ws,type:t.type,key:i,ref:o,props:r,_owner:s}},bt.createContext=function(t){return t={$$typeof:t9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e9,_context:t},t.Consumer=t},bt.createElement=DA,bt.createFactory=function(t){var e=DA.bind(null,t);return e.type=t,e},bt.createRef=function(){return{current:null}},bt.forwardRef=function(t){return{$$typeof:n9,render:t}},bt.isValidElement=Y0,bt.lazy=function(t){return{$$typeof:o9,_payload:{_status:-1,_result:t},_init:c9}},bt.memo=function(t,e){return{$$typeof:i9,type:t,compare:e===void 0?null:e}},bt.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}},bt.unstable_act=LA,bt.useCallback=function(t,e){return Vr.current.useCallback(t,e)},bt.useContext=function(t){return Vr.current.useContext(t)},bt.useDebugValue=function(){},bt.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)},bt.useEffect=function(t,e){return Vr.current.useEffect(t,e)},bt.useId=function(){return Vr.current.useId()},bt.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)},bt.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)},bt.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)},bt.useMemo=function(t,e){return Vr.current.useMemo(t,e)},bt.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)},bt.useRef=function(t){return Vr.current.useRef(t)},bt.useState=function(t){return Vr.current.useState(t)},bt.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)},bt.useTransition=function(){return Vr.current.useTransition()},bt.version="18.3.1",hm.exports=bt;var x=hm.exports;const q=$e(x),FA=lt({__proto__:null,default:q},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d9=x,f9=Symbol.for("react.element"),h9=Symbol.for("react.fragment"),p9=Object.prototype.hasOwnProperty,m9=d9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g9={key:!0,ref:!0,__self:!0,__source:!0};function VA(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)p9.call(e,r)&&!g9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:f9,type:t,key:o,ref:s,props:i,_owner:m9.current}}bs.Fragment=h9,bs.jsx=VA,bs.jsxs=VA,Xn.exports=bs;var u=Xn.exports,BA={exports:{}},ai={},UA={exports:{}},zA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var Q=U.length;U.push(z);e:for(;0<Q;){var J=Q-1>>>1,oe=U[J];if(0<i(oe,z))U[J]=z,U[Q]=oe,Q=J;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],Q=U.pop();if(Q!==z){U[0]=Q;e:for(var J=0,oe=U.length,be=oe>>>1;J<be;){var Me=2*(J+1)-1,ze=U[Me],it=Me+1,Xe=U[it];if(0>i(ze,Q))it<oe&&0>i(Xe,ze)?(U[J]=Xe,U[it]=Q,J=it):(U[J]=ze,U[Me]=Q,J=Me);else if(it<oe&&0>i(Xe,Q))U[J]=Xe,U[it]=Q,J=it;else break e}}return z}function i(U,z){var Q=U.sortIndex-z.sortIndex;return Q!==0?Q:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=U)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function T(U){if(g=!1,w(U),!v)if(n(l)!==null)v=!0,W(S);else{var z=n(c);z!==null&&G(T,z.startTime-U)}}function S(U,z){v=!1,g&&(g=!1,b(A),A=-1),m=!0;var Q=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||U&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var oe=J(f.expirationTime<=z);z=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var be=!0;else{var Me=n(c);Me!==null&&G(T,Me.startTime-z),be=!1}return be}finally{f=null,h=Q,m=!1}}var N=!1,E=null,A=-1,C=5,j=-1;function I(){return!(t.unstable_now()-j<C)}function O(){if(E!==null){var U=t.unstable_now();j=U;var z=!0;try{z=E(!0,U)}finally{z?R():(N=!1,E=null)}}else N=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){y(O,0)};function W(U){E=U,N||(N=!0,R())}function G(U,z){A=y(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,W(S))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return U()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=h;h=U;try{return z()}finally{h=Q}},t.unstable_scheduleCallback=function(U,z,Q){var J=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,U={id:d++,callback:z,priorityLevel:U,startTime:Q,expirationTime:oe,sortIndex:-1},Q>J?(U.sortIndex=Q,e(c,U),n(l)===null&&U===n(c)&&(g?(b(A),A=-1):g=!0,G(T,Q-J))):(U.sortIndex=oe,e(l,U),v||m||(v=!0,W(S))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var z=h;return function(){var Q=h;h=z;try{return U.apply(this,arguments)}finally{h=Q}}}})(zA),UA.exports=zA;var y9=UA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v9=x,li=y9;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WA=new Set,lf={};function Cl(t,e){$c(t,e),$c(t+"Capture",e)}function $c(t,e){for(lf[t]=e,t=0;t<e.length;t++)WA.add(e[t])}var Ss=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Q0=Object.prototype.hasOwnProperty,x9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HA={},qA={};function b9(t){return Q0.call(qA,t)?!0:Q0.call(HA,t)?!1:x9.test(t)?qA[t]=!0:(HA[t]=!0,!1)}function w9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _9(t,e,n,r){if(e===null||typeof e=="undefined"||w9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new Br(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new Br(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new Br(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new Br(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){vr[t]=new Br(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){vr[t]=new Br(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){vr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var J0=/[\-:]([a-z])/g;function Z0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J0,Z0);vr[e]=new Br(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J0,Z0);vr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J0,Z0);vr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)}),vr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){vr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function eb(t,e,n,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_9(e,n,i,r)&&(n=null),r||i===null?b9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Es=v9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ym=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),GA=Symbol.for("react.provider"),KA=Symbol.for("react.context"),rb=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),sb=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),YA=Symbol.for("react.offscreen"),XA=Symbol.iterator;function cf(t){return t===null||typeof t!="object"?null:(t=XA&&t[XA]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,ab;function uf(t){if(ab===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ab=e&&e[1]||""}return`
`+ab+t}var lb=!1;function cb(t,e){if(!t||lb)return"";lb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{lb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uf(t):""}function S9(t){switch(t.tag){case 5:return uf(t.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return t=cb(t.type,!1),t;case 11:return t=cb(t.type.render,!1),t;case 1:return t=cb(t.type,!0),t;default:return""}}function ub(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fc:return"Fragment";case Lc:return"Portal";case nb:return"Profiler";case tb:return"StrictMode";case ib:return"Suspense";case ob:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KA:return(t.displayName||"Context")+".Consumer";case GA:return(t._context.displayName||"Context")+".Provider";case rb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sb:return e=t.displayName||null,e!==null?e:ub(t.type)||"Memo";case ua:e=t._payload,t=t._init;try{return ub(t(e))}catch(n){}}return null}function E9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ub(e);case 8:return e===tb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T9(t){var e=QA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vm(t){t._valueTracker||(t._valueTracker=T9(t))}function JA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xm(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function db(t,e){var n=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ZA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=da(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eC(t,e){e=e.checked,e!=null&&eb(t,"checked",e,!1)}function fb(t,e){eC(t,e);var n=da(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hb(t,e.type,n):e.hasOwnProperty("defaultValue")&&hb(t,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hb(t,e,n){(e!=="number"||xm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var df=Array.isArray;function Vc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+da(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ge(92));if(df(n)){if(1<n.length)throw Error(ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:da(n)}}function rC(t,e){var n=da(e.value),r=da(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,sC=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ff(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P9=["Webkit","ms","Moz","O"];Object.keys(hf).forEach(function(t){P9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hf[e]=hf[t]})});function aC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hf.hasOwnProperty(t)&&hf[t]?(""+e).trim():e+"px"}function lC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var A9=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gb(t,e){if(e){if(A9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function yb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb=null;function xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bb=null,Bc=null,Uc=null;function cC(t){if(t=Mf(t)){if(typeof bb!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=zm(e),bb(t.stateNode,t.type,e))}}function uC(t){Bc?Uc?Uc.push(t):Uc=[t]:Bc=t}function dC(){if(Bc){var t=Bc,e=Uc;if(Uc=Bc=null,cC(t),e)for(t=0;t<e.length;t++)cC(e[t])}}function fC(t,e){return t(e)}function hC(){}var wb=!1;function pC(t,e,n){if(wb)return t(e,n);wb=!0;try{return fC(t,e,n)}finally{wb=!1,(Bc!==null||Uc!==null)&&(hC(),dC())}}function pf(t,e){var n=t.stateNode;if(n===null)return null;var r=zm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ge(231,e,typeof n));return n}var _b=!1;if(Ss)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){_b=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch(t){_b=!1}function C9(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gf=!1,wm=null,_m=!1,Sb=null,N9={onError:function(t){gf=!0,wm=t}};function I9(t,e,n,r,i,o,s,a,l){gf=!1,wm=null,C9.apply(N9,arguments)}function j9(t,e,n,r,i,o,s,a,l){if(I9.apply(this,arguments),gf){if(gf){var c=wm;gf=!1,wm=null}else throw Error(ge(198));_m||(_m=!0,Sb=c)}}function Nl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gC(t){if(Nl(t)!==t)throw Error(ge(188))}function k9(t){var e=t.alternate;if(!e){if(e=Nl(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gC(i),t;if(o===r)return gC(i),e;o=o.sibling}throw Error(ge(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?t:e}function yC(t){return t=k9(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var xC=li.unstable_scheduleCallback,bC=li.unstable_cancelCallback,O9=li.unstable_shouldYield,R9=li.unstable_requestPaint,Ln=li.unstable_now,M9=li.unstable_getCurrentPriorityLevel,Eb=li.unstable_ImmediatePriority,wC=li.unstable_UserBlockingPriority,Sm=li.unstable_NormalPriority,D9=li.unstable_LowPriority,_C=li.unstable_IdlePriority,Em=null,Do=null;function $9(t){if(Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(Em,t,void 0,(t.current.flags&128)===128)}catch(e){}}var ao=Math.clz32?Math.clz32:V9,L9=Math.log,F9=Math.LN2;function V9(t){return t>>>=0,t===0?32:31-(L9(t)/F9|0)|0}var Tm=64,Pm=4194304;function yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Am(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=yf(a):(o&=s,o!==0&&(r=yf(o)))}else s=n&~i,s!==0?r=yf(s):o!==0&&(r=yf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ao(e),i=1<<n,r|=t[n],e&=~i;return r}function B9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ao(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=B9(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Tb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SC(){var t=Tm;return Tm<<=1,!(Tm&4194240)&&(Tm=64),t}function Pb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ao(e),t[e]=n}function z9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ao(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ab(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ao(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function EC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TC,Cb,PC,AC,CC,Nb=!1,Cm=[],fa=null,ha=null,pa=null,xf=new Map,bf=new Map,ma=[],W9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NC(t,e){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":xf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(e.pointerId)}}function wf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mf(e),e!==null&&Cb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function H9(t,e,n,r,i){switch(e){case"focusin":return fa=wf(fa,t,e,n,r,i),!0;case"dragenter":return ha=wf(ha,t,e,n,r,i),!0;case"mouseover":return pa=wf(pa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xf.set(o,wf(xf.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bf.set(o,wf(bf.get(o)||null,t,e,n,r,i)),!0}return!1}function IC(t){var e=Il(t.target);if(e!==null){var n=Nl(e);if(n!==null){if(e=n.tag,e===13){if(e=mC(n),e!==null){t.blockedOn=e,CC(t.priority,function(){PC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vb=r,n.target.dispatchEvent(r),vb=null}else return e=Mf(n),e!==null&&Cb(e),t.blockedOn=n,!1;e.shift()}return!0}function jC(t,e,n){Nm(t)&&n.delete(e)}function q9(){Nb=!1,fa!==null&&Nm(fa)&&(fa=null),ha!==null&&Nm(ha)&&(ha=null),pa!==null&&Nm(pa)&&(pa=null),xf.forEach(jC),bf.forEach(jC)}function _f(t,e){t.blockedOn===e&&(t.blockedOn=null,Nb||(Nb=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,q9)))}function Sf(t){function e(i){return _f(i,t)}if(0<Cm.length){_f(Cm[0],t);for(var n=1;n<Cm.length;n++){var r=Cm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fa!==null&&_f(fa,t),ha!==null&&_f(ha,t),pa!==null&&_f(pa,t),xf.forEach(e),bf.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)IC(n),n.blockedOn===null&&ma.shift()}var zc=Es.ReactCurrentBatchConfig,Im=!0;function G9(t,e,n,r){var i=Gt,o=zc.transition;zc.transition=null;try{Gt=1,Ib(t,e,n,r)}finally{Gt=i,zc.transition=o}}function K9(t,e,n,r){var i=Gt,o=zc.transition;zc.transition=null;try{Gt=4,Ib(t,e,n,r)}finally{Gt=i,zc.transition=o}}function Ib(t,e,n,r){if(Im){var i=jb(t,e,n,r);if(i===null)Kb(t,e,r,jm,n),NC(t,r);else if(H9(i,t,e,n,r))r.stopPropagation();else if(NC(t,r),e&4&&-1<W9.indexOf(t)){for(;i!==null;){var o=Mf(i);if(o!==null&&TC(o),o=jb(t,e,n,r),o===null&&Kb(t,e,r,jm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kb(t,e,r,null,n)}}var jm=null;function jb(t,e,n,r){if(jm=null,t=xb(r),t=Il(t),t!==null)if(e=Nl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jm=t,null}function kC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M9()){case Eb:return 1;case wC:return 4;case Sm:case D9:return 16;case _C:return 536870912;default:return 16}default:return 16}}var ga=null,kb=null,km=null;function OC(){if(km)return km;var t,e=kb,n=e.length,r,i="value"in ga?ga.value:ga.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return km=i.slice(t,1<r?1-r:void 0)}function Om(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rm(){return!0}function RC(){return!1}function ci(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rm:RC,this.isPropagationStopped=RC,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),e}var Wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ob=ci(Wc),Ef=Sn({},Wc,{view:0,detail:0}),Y9=ci(Ef),Rb,Mb,Tf,Mm=Sn({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tf&&(Tf&&t.type==="mousemove"?(Rb=t.screenX-Tf.screenX,Mb=t.screenY-Tf.screenY):Mb=Rb=0,Tf=t),Rb)},movementY:function(t){return"movementY"in t?t.movementY:Mb}}),MC=ci(Mm),X9=Sn({},Mm,{dataTransfer:0}),Q9=ci(X9),J9=Sn({},Ef,{relatedTarget:0}),Db=ci(J9),Z9=Sn({},Wc,{animationName:0,elapsedTime:0,pseudoElement:0}),e8=ci(Z9),t8=Sn({},Wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n8=ci(t8),r8=Sn({},Wc,{data:0}),DC=ci(r8),i8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s8[t])?!!e[t]:!1}function $b(){return a8}var l8=Sn({},Ef,{key:function(t){if(t.key){var e=i8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Om(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(t){return t.type==="keypress"?Om(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Om(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c8=ci(l8),u8=Sn({},Mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$C=ci(u8),d8=Sn({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),f8=ci(d8),h8=Sn({},Wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),p8=ci(h8),m8=Sn({},Mm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g8=ci(m8),y8=[9,13,27,32],Lb=Ss&&"CompositionEvent"in window,Pf=null;Ss&&"documentMode"in document&&(Pf=document.documentMode);var v8=Ss&&"TextEvent"in window&&!Pf,LC=Ss&&(!Lb||Pf&&8<Pf&&11>=Pf),FC=" ",VC=!1;function BC(t,e){switch(t){case"keyup":return y8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hc=!1;function x8(t,e){switch(t){case"compositionend":return UC(e);case"keypress":return e.which!==32?null:(VC=!0,FC);case"textInput":return t=e.data,t===FC&&VC?null:t;default:return null}}function b8(t,e){if(Hc)return t==="compositionend"||!Lb&&BC(t,e)?(t=OC(),km=kb=ga=null,Hc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LC&&e.locale!=="ko"?null:e.data;default:return null}}var w8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w8[t.type]:e==="textarea"}function WC(t,e,n,r){uC(r),e=Vm(e,"onChange"),0<e.length&&(n=new Ob("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Af=null,Cf=null;function _8(t){lN(t,0)}function Dm(t){var e=Xc(t);if(JA(e))return t}function S8(t,e){if(t==="change")return e}var HC=!1;if(Ss){var Fb;if(Ss){var Vb="oninput"in document;if(!Vb){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),Vb=typeof qC.oninput=="function"}Fb=Vb}else Fb=!1;HC=Fb&&(!document.documentMode||9<document.documentMode)}function GC(){Af&&(Af.detachEvent("onpropertychange",KC),Cf=Af=null)}function KC(t){if(t.propertyName==="value"&&Dm(Cf)){var e=[];WC(e,Cf,t,xb(t)),pC(_8,e)}}function E8(t,e,n){t==="focusin"?(GC(),Af=e,Cf=n,Af.attachEvent("onpropertychange",KC)):t==="focusout"&&GC()}function T8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(Cf)}function P8(t,e){if(t==="click")return Dm(e)}function A8(t,e){if(t==="input"||t==="change")return Dm(e)}function C8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lo=typeof Object.is=="function"?Object.is:C8;function Nf(t,e){if(lo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q0.call(e,i)||!lo(t[i],e[i]))return!1}return!0}function YC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XC(t,e){var n=YC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YC(n)}}function QC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JC(){for(var t=window,e=xm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=xm(t.document)}return e}function Bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N8(t){var e=JC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QC(n.ownerDocument.documentElement,n)){if(r!==null&&Bb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=XC(n,o);var s=XC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I8=Ss&&"documentMode"in document&&11>=document.documentMode,qc=null,Ub=null,If=null,zb=!1;function ZC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zb||qc==null||qc!==xm(r)||(r=qc,"selectionStart"in r&&Bb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),If&&Nf(If,r)||(If=r,r=Vm(Ub,"onSelect"),0<r.length&&(e=new Ob("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qc)))}function $m(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gc={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},Wb={},eN={};Ss&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function Lm(t){if(Wb[t])return Wb[t];if(!Gc[t])return t;var e=Gc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eN)return Wb[t]=e[n];return t}var tN=Lm("animationend"),nN=Lm("animationiteration"),rN=Lm("animationstart"),iN=Lm("transitionend"),oN=new Map,sN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(t,e){oN.set(t,e),Cl(e,[t])}for(var Hb=0;Hb<sN.length;Hb++){var qb=sN[Hb],j8=qb.toLowerCase(),k8=qb[0].toUpperCase()+qb.slice(1);ya(j8,"on"+k8)}ya(tN,"onAnimationEnd"),ya(nN,"onAnimationIteration"),ya(rN,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(iN,"onTransitionEnd"),$c("onMouseEnter",["mouseout","mouseover"]),$c("onMouseLeave",["mouseout","mouseover"]),$c("onPointerEnter",["pointerout","pointerover"]),$c("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O8=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function aN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j9(r,e,void 0,t),t.currentTarget=null}function lN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;aN(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;aN(i,a,c),o=l}}}if(_m)throw t=Sb,_m=!1,Sb=null,t}function dn(t,e){var n=e[ew];n===void 0&&(n=e[ew]=new Set);var r=t+"__bubble";n.has(r)||(cN(e,t,2,!1),n.add(r))}function Gb(t,e,n){var r=0;e&&(r|=4),cN(n,t,r,e)}var Fm="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Fm]){t[Fm]=!0,WA.forEach(function(n){n!=="selectionchange"&&(O8.has(n)||Gb(n,!1,t),Gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fm]||(e[Fm]=!0,Gb("selectionchange",!1,e))}}function cN(t,e,n,r){switch(kC(e)){case 1:var i=G9;break;case 4:i=K9;break;default:i=Ib}n=i.bind(null,e,n,t),i=void 0,!_b||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Il(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}pC(function(){var c=o,d=xb(n),f=[];e:{var h=oN.get(t);if(h!==void 0){var m=Ob,v=t;switch(t){case"keypress":if(Om(n)===0)break e;case"keydown":case"keyup":m=c8;break;case"focusin":v="focus",m=Db;break;case"focusout":v="blur",m=Db;break;case"beforeblur":case"afterblur":m=Db;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=MC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Q9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f8;break;case tN:case nN:case rN:m=e8;break;case iN:m=p8;break;case"scroll":m=Y9;break;case"wheel":m=g8;break;case"copy":case"cut":case"paste":m=n8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$C}var g=(e&4)!==0,y=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var _=c,w;_!==null;){w=_;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,b!==null&&(T=pf(_,b),T!=null&&g.push(Of(_,T,w)))),y)break;_=_.return}0<g.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==vb&&(v=n.relatedTarget||n.fromElement)&&(Il(v)||v[Ts]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Il(v):null,v!==null&&(y=Nl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=MC,T="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=$C,T="onPointerLeave",b="onPointerEnter",_="pointer"),y=m==null?h:Xc(m),w=v==null?h:Xc(v),h=new g(T,_+"leave",m,n,d),h.target=y,h.relatedTarget=w,T=null,Il(d)===c&&(g=new g(b,_+"enter",v,n,d),g.target=w,g.relatedTarget=y,T=g),y=T,m&&v)t:{for(g=m,b=v,_=0,w=g;w;w=Kc(w))_++;for(w=0,T=b;T;T=Kc(T))w++;for(;0<_-w;)g=Kc(g),_--;for(;0<w-_;)b=Kc(b),w--;for(;_--;){if(g===b||b!==null&&g===b.alternate)break t;g=Kc(g),b=Kc(b)}g=null}else g=null;m!==null&&uN(f,h,m,g,!1),v!==null&&y!==null&&uN(f,y,v,g,!0)}}e:{if(h=c?Xc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=S8;else if(zC(h))if(HC)S=A8;else{S=T8;var N=E8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=P8);if(S&&(S=S(t,c))){WC(f,S,n,d);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hb(h,"number",h.value)}switch(N=c?Xc(c):window,t){case"focusin":(zC(N)||N.contentEditable==="true")&&(qc=N,Ub=c,If=null);break;case"focusout":If=Ub=qc=null;break;case"mousedown":zb=!0;break;case"contextmenu":case"mouseup":case"dragend":zb=!1,ZC(f,n,d);break;case"selectionchange":if(I8)break;case"keydown":case"keyup":ZC(f,n,d)}var E;if(Lb)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hc?BC(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(LC&&n.locale!=="ko"&&(Hc||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hc&&(E=OC()):(ga=d,kb="value"in ga?ga.value:ga.textContent,Hc=!0)),N=Vm(c,A),0<N.length&&(A=new DC(A,t,null,n,d),f.push({event:A,listeners:N}),E?A.data=E:(E=UC(n),E!==null&&(A.data=E)))),(E=v8?x8(t,n):b8(t,n))&&(c=Vm(c,"onBeforeInput"),0<c.length&&(d=new DC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}lN(f,e)})}function Of(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pf(t,n),o!=null&&r.unshift(Of(t,o,i)),o=pf(t,e),o!=null&&r.push(Of(t,o,i))),t=t.return}return r}function Kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uN(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=pf(n,o),l!=null&&s.unshift(Of(n,l,a))):i||(l=pf(n,o),l!=null&&s.push(Of(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var R8=/\r\n?/g,M8=/\u0000|\uFFFD/g;function dN(t){return(typeof t=="string"?t:""+t).replace(R8,`
`).replace(M8,"")}function Bm(t,e,n){if(e=dN(e),dN(t)!==e&&n)throw Error(ge(425))}function Um(){}var Yb=null,Xb=null;function Qb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jb=typeof setTimeout=="function"?setTimeout:void 0,D8=typeof clearTimeout=="function"?clearTimeout:void 0,fN=typeof Promise=="function"?Promise:void 0,$8=typeof queueMicrotask=="function"?queueMicrotask:typeof fN!="undefined"?function(t){return fN.resolve(null).then(t).catch(L8)}:Jb;function L8(t){setTimeout(function(){throw t})}function Zb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sf(e)}function va(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),$o="__reactFiber$"+Yc,Rf="__reactProps$"+Yc,Ts="__reactContainer$"+Yc,ew="__reactEvents$"+Yc,F8="__reactListeners$"+Yc,V8="__reactHandles$"+Yc;function Il(t){var e=t[$o];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[$o]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hN(t);t!==null;){if(n=t[$o])return n;t=hN(t)}return e}t=n,n=t.parentNode}return null}function Mf(t){return t=t[$o]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function zm(t){return t[Rf]||null}var tw=[],Qc=-1;function xa(t){return{current:t}}function fn(t){0>Qc||(t.current=tw[Qc],tw[Qc]=null,Qc--)}function ln(t,e){Qc++,tw[Qc]=t.current,t.current=e}var ba={},Pr=xa(ba),Xr=xa(!1),jl=ba;function Jc(t,e){var n=t.type.contextTypes;if(!n)return ba;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qr(t){return t=t.childContextTypes,t!=null}function Wm(){fn(Xr),fn(Pr)}function pN(t,e,n){if(Pr.current!==ba)throw Error(ge(168));ln(Pr,e),ln(Xr,n)}function mN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ge(108,E9(t)||"Unknown",i));return Sn({},n,r)}function Hm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ba,jl=Pr.current,ln(Pr,t),ln(Xr,Xr.current),!0}function gN(t,e,n){var r=t.stateNode;if(!r)throw Error(ge(169));n?(t=mN(t,e,jl),r.__reactInternalMemoizedMergedChildContext=t,fn(Xr),fn(Pr),ln(Pr,t)):fn(Xr),ln(Xr,n)}var Ps=null,qm=!1,nw=!1;function yN(t){Ps===null?Ps=[t]:Ps.push(t)}function B8(t){qm=!0,yN(t)}function wa(){if(!nw&&Ps!==null){nw=!0;var t=0,e=Gt;try{var n=Ps;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ps=null,qm=!1}catch(i){throw Ps!==null&&(Ps=Ps.slice(t+1)),xC(Eb,wa),i}finally{Gt=e,nw=!1}}return null}var Zc=[],eu=0,Gm=null,Km=0,Ri=[],Mi=0,kl=null,As=1,Cs="";function Ol(t,e){Zc[eu++]=Km,Zc[eu++]=Gm,Gm=t,Km=e}function vN(t,e,n){Ri[Mi++]=As,Ri[Mi++]=Cs,Ri[Mi++]=kl,kl=t;var r=As;t=Cs;var i=32-ao(r)-1;r&=~(1<<i),n+=1;var o=32-ao(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,As=1<<32-ao(e)+i|n<<i|r,Cs=o+t}else As=1<<o|n<<i|r,Cs=t}function rw(t){t.return!==null&&(Ol(t,1),vN(t,1,0))}function iw(t){for(;t===Gm;)Gm=Zc[--eu],Zc[eu]=null,Km=Zc[--eu],Zc[eu]=null;for(;t===kl;)kl=Ri[--Mi],Ri[Mi]=null,Cs=Ri[--Mi],Ri[Mi]=null,As=Ri[--Mi],Ri[Mi]=null}var ui=null,di=null,vn=!1,co=null;function xN(t,e){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ui=t,di=va(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ui=t,di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kl!==null?{id:As,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ui=t,di=null,!0):!1;default:return!1}}function ow(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sw(t){if(vn){var e=di;if(e){var n=e;if(!bN(t,e)){if(ow(t))throw Error(ge(418));e=va(n.nextSibling);var r=ui;e&&bN(t,e)?xN(r,n):(t.flags=t.flags&-4097|2,vn=!1,ui=t)}}else{if(ow(t))throw Error(ge(418));t.flags=t.flags&-4097|2,vn=!1,ui=t}}}function wN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ui=t}function Ym(t){if(t!==ui)return!1;if(!vn)return wN(t),vn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qb(t.type,t.memoizedProps)),e&&(e=di)){if(ow(t))throw _N(),Error(ge(418));for(;e;)xN(t,e),e=va(e.nextSibling)}if(wN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){di=va(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}di=null}}else di=ui?va(t.stateNode.nextSibling):null;return!0}function _N(){for(var t=di;t;)t=va(t.nextSibling)}function tu(){di=ui=null,vn=!1}function aw(t){co===null?co=[t]:co.push(t)}var U8=Es.ReactCurrentBatchConfig;function Df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,t))}return t}function Xm(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SN(t){var e=t._init;return e(t._payload)}function EN(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Na(b,_),b.index=0,b.sibling=null,b}function o(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,w,T){return _===null||_.tag!==6?(_=Jw(w,b.mode,T),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,T){var S=w.type;return S===Fc?d(b,_,w.props.children,T,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ua&&SN(S)===_.type)?(T=i(_,w.props),T.ref=Df(b,_,w),T.return=b,T):(T=bg(w.type,w.key,w.props,null,b.mode,T),T.ref=Df(b,_,w),T.return=b,T)}function c(b,_,w,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Zw(w,b.mode,T),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function d(b,_,w,T,S){return _===null||_.tag!==7?(_=Bl(w,b.mode,T,S),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Jw(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ym:return w=bg(_.type,_.key,_.props,null,b.mode,w),w.ref=Df(b,null,_),w.return=b,w;case Lc:return _=Zw(_,b.mode,w),_.return=b,_;case ua:var T=_._init;return f(b,T(_._payload),w)}if(df(_)||cf(_))return _=Bl(_,b.mode,w,null),_.return=b,_;Xm(b,_)}return null}function h(b,_,w,T){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(b,_,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ym:return w.key===S?l(b,_,w,T):null;case Lc:return w.key===S?c(b,_,w,T):null;case ua:return S=w._init,h(b,_,S(w._payload),T)}if(df(w)||cf(w))return S!==null?null:d(b,_,w,T,null);Xm(b,w)}return null}function m(b,_,w,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(w)||null,a(_,b,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ym:return b=b.get(T.key===null?w:T.key)||null,l(_,b,T,S);case Lc:return b=b.get(T.key===null?w:T.key)||null,c(_,b,T,S);case ua:var N=T._init;return m(b,_,w,N(T._payload),S)}if(df(T)||cf(T))return b=b.get(w)||null,d(_,b,T,S,null);Xm(_,T)}return null}function v(b,_,w,T){for(var S=null,N=null,E=_,A=_=0,C=null;E!==null&&A<w.length;A++){E.index>A?(C=E,E=null):C=E.sibling;var j=h(b,E,w[A],T);if(j===null){E===null&&(E=C);break}t&&E&&j.alternate===null&&e(b,E),_=o(j,_,A),N===null?S=j:N.sibling=j,N=j,E=C}if(A===w.length)return n(b,E),vn&&Ol(b,A),S;if(E===null){for(;A<w.length;A++)E=f(b,w[A],T),E!==null&&(_=o(E,_,A),N===null?S=E:N.sibling=E,N=E);return vn&&Ol(b,A),S}for(E=r(b,E);A<w.length;A++)C=m(E,b,A,w[A],T),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?A:C.key),_=o(C,_,A),N===null?S=C:N.sibling=C,N=C);return t&&E.forEach(function(I){return e(b,I)}),vn&&Ol(b,A),S}function g(b,_,w,T){var S=cf(w);if(typeof S!="function")throw Error(ge(150));if(w=S.call(w),w==null)throw Error(ge(151));for(var N=S=null,E=_,A=_=0,C=null,j=w.next();E!==null&&!j.done;A++,j=w.next()){E.index>A?(C=E,E=null):C=E.sibling;var I=h(b,E,j.value,T);if(I===null){E===null&&(E=C);break}t&&E&&I.alternate===null&&e(b,E),_=o(I,_,A),N===null?S=I:N.sibling=I,N=I,E=C}if(j.done)return n(b,E),vn&&Ol(b,A),S;if(E===null){for(;!j.done;A++,j=w.next())j=f(b,j.value,T),j!==null&&(_=o(j,_,A),N===null?S=j:N.sibling=j,N=j);return vn&&Ol(b,A),S}for(E=r(b,E);!j.done;A++,j=w.next())j=m(E,b,A,j.value,T),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?A:j.key),_=o(j,_,A),N===null?S=j:N.sibling=j,N=j);return t&&E.forEach(function(O){return e(b,O)}),vn&&Ol(b,A),S}function y(b,_,w,T){if(typeof w=="object"&&w!==null&&w.type===Fc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ym:e:{for(var S=w.key,N=_;N!==null;){if(N.key===S){if(S=w.type,S===Fc){if(N.tag===7){n(b,N.sibling),_=i(N,w.props.children),_.return=b,b=_;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ua&&SN(S)===N.type){n(b,N.sibling),_=i(N,w.props),_.ref=Df(b,N,w),_.return=b,b=_;break e}n(b,N);break}else e(b,N);N=N.sibling}w.type===Fc?(_=Bl(w.props.children,b.mode,T,w.key),_.return=b,b=_):(T=bg(w.type,w.key,w.props,null,b.mode,T),T.ref=Df(b,_,w),T.return=b,b=T)}return s(b);case Lc:e:{for(N=w.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=Zw(w,b.mode,T),_.return=b,b=_}return s(b);case ua:return N=w._init,y(b,_,N(w._payload),T)}if(df(w))return v(b,_,w,T);if(cf(w))return g(b,_,w,T);Xm(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,w),_.return=b,b=_):(n(b,_),_=Jw(w,b.mode,T),_.return=b,b=_),s(b)):n(b,_)}return y}var nu=EN(!0),TN=EN(!1),Qm=xa(null),Jm=null,ru=null,lw=null;function cw(){lw=ru=Jm=null}function uw(t){var e=Qm.current;fn(Qm),t._currentValue=e}function dw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function iu(t,e){Jm=t,lw=ru=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function Di(t){var e=t._currentValue;if(lw!==t)if(t={context:t,memoizedValue:e,next:null},ru===null){if(Jm===null)throw Error(ge(308));ru=t,Jm.dependencies={lanes:0,firstContext:t}}else ru=ru.next=t;return e}var Rl=null;function fw(t){Rl===null?Rl=[t]:Rl.push(t)}function PN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ns(t,r)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _a=!1;function hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ns(t,n)}return i=r.interleaved,i===null?(e.next=e,fw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ns(t,n)}function Zm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}function CN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eg(t,e,n,r){var i=t.updateQueue;_a=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Sn({},f,h);break e;case 2:_a=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);$l|=s,t.lanes=s,t.memoizedState=f}}function NN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var $f={},Lo=xa($f),Lf=xa($f),Ff=xa($f);function Ml(t){if(t===$f)throw Error(ge(174));return t}function pw(t,e){switch(ln(Ff,e),ln(Lf,t),ln(Lo,$f),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mb(e,t)}fn(Lo),ln(Lo,e)}function ou(){fn(Lo),fn(Lf),fn(Ff)}function IN(t){Ml(Ff.current);var e=Ml(Lo.current),n=mb(e,t.type);e!==n&&(ln(Lf,t),ln(Lo,n))}function mw(t){Lf.current===t&&(fn(Lo),fn(Lf))}var En=xa(0);function tg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gw=[];function yw(){for(var t=0;t<gw.length;t++)gw[t]._workInProgressVersionPrimary=null;gw.length=0}var ng=Es.ReactCurrentDispatcher,vw=Es.ReactCurrentBatchConfig,Dl=0,Tn=null,Qn=null,sr=null,rg=!1,Vf=!1,Bf=0,z8=0;function Ar(){throw Error(ge(321))}function xw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lo(t[n],e[n]))return!1;return!0}function bw(t,e,n,r,i,o){if(Dl=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ng.current=t===null||t.memoizedState===null?G8:K8,t=n(r,i),Vf){o=0;do{if(Vf=!1,Bf=0,25<=o)throw Error(ge(301));o+=1,sr=Qn=null,e.updateQueue=null,ng.current=Y8,t=n(r,i)}while(Vf)}if(ng.current=sg,e=Qn!==null&&Qn.next!==null,Dl=0,sr=Qn=Tn=null,rg=!1,e)throw Error(ge(300));return t}function ww(){var t=Bf!==0;return Bf=0,t}function Fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Tn.memoizedState=sr=t:sr=sr.next=t,sr}function $i(){if(Qn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=sr===null?Tn.memoizedState:sr.next;if(e!==null)sr=e,Qn=t;else{if(t===null)throw Error(ge(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},sr===null?Tn.memoizedState=sr=t:sr=sr.next=t}return sr}function Uf(t,e){return typeof e=="function"?e(t):e}function _w(t){var e=$i(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Dl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Tn.lanes|=d,$l|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,lo(r,e.memoizedState)||(Jr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,$l|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sw(t){var e=$i(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);lo(o,e.memoizedState)||(Jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function jN(){}function kN(t,e){var n=Tn,r=$i(),i=e(),o=!lo(r.memoizedState,i);if(o&&(r.memoizedState=i,Jr=!0),r=r.queue,Ew(MN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||sr!==null&&sr.memoizedState.tag&1){if(n.flags|=2048,zf(9,RN.bind(null,n,r,i,e),void 0,null),ar===null)throw Error(ge(349));Dl&30||ON(n,e,i)}return i}function ON(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RN(t,e,n,r){e.value=n,e.getSnapshot=r,DN(e)&&$N(t)}function MN(t,e,n){return n(function(){DN(e)&&$N(t)})}function DN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lo(t,n)}catch(r){return!0}}function $N(t){var e=Ns(t,1);e!==null&&po(e,t,1,-1)}function LN(t){var e=Fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:t},e.queue=t,t=t.dispatch=q8.bind(null,Tn,t),[e.memoizedState,t]}function zf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FN(){return $i().memoizedState}function ig(t,e,n,r){var i=Fo();Tn.flags|=t,i.memoizedState=zf(1|e,n,void 0,r===void 0?null:r)}function og(t,e,n,r){var i=$i();r=r===void 0?null:r;var o=void 0;if(Qn!==null){var s=Qn.memoizedState;if(o=s.destroy,r!==null&&xw(r,s.deps)){i.memoizedState=zf(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=zf(1|e,n,o,r)}function VN(t,e){return ig(8390656,8,t,e)}function Ew(t,e){return og(2048,8,t,e)}function BN(t,e){return og(4,2,t,e)}function UN(t,e){return og(4,4,t,e)}function zN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WN(t,e,n){return n=n!=null?n.concat([t]):null,og(4,4,zN.bind(null,e,t),n)}function Tw(){}function HN(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qN(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GN(t,e,n){return Dl&21?(lo(n,e)||(n=SC(),Tn.lanes|=n,$l|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=n)}function W8(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=vw.transition;vw.transition={};try{t(!1),e()}finally{Gt=n,vw.transition=r}}function KN(){return $i().memoizedState}function H8(t,e,n){var r=Aa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YN(t))XN(e,n);else if(n=PN(t,e,n,r),n!==null){var i=zr();po(n,t,r,i),QN(n,e,r)}}function q8(t,e,n){var r=Aa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YN(t))XN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,lo(a,s)){var l=e.interleaved;l===null?(i.next=i,fw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch(c){}finally{}n=PN(t,e,i,r),n!==null&&(i=zr(),po(n,t,r,i),QN(n,e,r))}}function YN(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function XN(t,e){Vf=rg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}var sg={readContext:Di,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},G8={readContext:Di,useCallback:function(t,e){return Fo().memoizedState=[t,e===void 0?null:e],t},useContext:Di,useEffect:VN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ig(4194308,4,zN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ig(4194308,4,t,e)},useInsertionEffect:function(t,e){return ig(4,2,t,e)},useMemo:function(t,e){var n=Fo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H8.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=Fo();return t={current:t},e.memoizedState=t},useState:LN,useDebugValue:Tw,useDeferredValue:function(t){return Fo().memoizedState=t},useTransition:function(){var t=LN(!1),e=t[0];return t=W8.bind(null,t[1]),Fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=Fo();if(vn){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=e(),ar===null)throw Error(ge(349));Dl&30||ON(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,VN(MN.bind(null,r,o,t),[t]),r.flags|=2048,zf(9,RN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fo(),e=ar.identifierPrefix;if(vn){var n=Cs,r=As;n=(r&~(1<<32-ao(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K8={readContext:Di,useCallback:HN,useContext:Di,useEffect:Ew,useImperativeHandle:WN,useInsertionEffect:BN,useLayoutEffect:UN,useMemo:qN,useReducer:_w,useRef:FN,useState:function(){return _w(Uf)},useDebugValue:Tw,useDeferredValue:function(t){var e=$i();return GN(e,Qn.memoizedState,t)},useTransition:function(){var t=_w(Uf)[0],e=$i().memoizedState;return[t,e]},useMutableSource:jN,useSyncExternalStore:kN,useId:KN,unstable_isNewReconciler:!1},Y8={readContext:Di,useCallback:HN,useContext:Di,useEffect:Ew,useImperativeHandle:WN,useInsertionEffect:BN,useLayoutEffect:UN,useMemo:qN,useReducer:Sw,useRef:FN,useState:function(){return Sw(Uf)},useDebugValue:Tw,useDeferredValue:function(t){var e=$i();return Qn===null?e.memoizedState=t:GN(e,Qn.memoizedState,t)},useTransition:function(){var t=Sw(Uf)[0],e=$i().memoizedState;return[t,e]},useMutableSource:jN,useSyncExternalStore:kN,useId:KN,unstable_isNewReconciler:!1};function uo(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ag={isMounted:function(t){return(t=t._reactInternals)?Nl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Aa(t),o=Is(r,i);o.payload=e,n!=null&&(o.callback=n),e=Sa(t,o,i),e!==null&&(po(e,t,i,r),Zm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Aa(t),o=Is(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Sa(t,o,i),e!==null&&(po(e,t,i,r),Zm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zr(),r=Aa(t),i=Is(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sa(t,i,r),e!==null&&(po(e,t,r,n),Zm(e,t,r))}};function JN(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Nf(n,r)||!Nf(i,o):!0}function ZN(t,e,n){var r=!1,i=ba,o=e.contextType;return typeof o=="object"&&o!==null?o=Di(o):(i=Qr(e)?jl:Pr.current,r=e.contextTypes,o=(r=r!=null)?Jc(t,i):ba),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ag,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ag.enqueueReplaceState(e,e.state,null)}function Aw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Di(o):(o=Qr(e)?jl:Pr.current,i.context=Jc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ag.enqueueReplaceState(i,i.state,null),eg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function su(t,e){try{var n="",r=e;do n+=S9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cw(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Nw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X8=typeof WeakMap=="function"?WeakMap:Map;function tI(t,e,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pg||(pg=!0,Ww=r),Nw(t,e)},n}function nI(t,e,n){n=Is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Nw(t,e),typeof r!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uz.bind(null,t,e,n),e.then(t,t))}function iI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Is(-1,1),e.tag=2,Sa(n,e,1))),n.lanes|=1),t)}var Q8=Es.ReactCurrentOwner,Jr=!1;function Ur(t,e,n,r){e.child=t===null?TN(e,null,n,r):nu(e,t.child,n,r)}function sI(t,e,n,r,i){n=n.render;var o=e.ref;return iu(e,i),r=bw(t,e,n,r,o,i),n=ww(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(vn&&n&&rw(e),e.flags|=1,Ur(t,e,r,i),e.child)}function aI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Qw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lI(t,e,o,r,i)):(t=bg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nf,n(s,r)&&t.ref===e.ref)return js(t,e,i)}return e.flags|=1,t=Na(o,r),t.ref=e.ref,t.return=e,e.child=t}function lI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Nf(o,r)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,js(t,e,i)}return Iw(t,e,n,r,i)}function cI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(lu,fi),fi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(lu,fi),fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ln(lu,fi),fi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ln(lu,fi),fi|=r;return Ur(t,e,i,n),e.child}function uI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Iw(t,e,n,r,i){var o=Qr(n)?jl:Pr.current;return o=Jc(e,o),iu(e,i),n=bw(t,e,n,r,o,i),r=ww(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(vn&&r&&rw(e),e.flags|=1,Ur(t,e,n,i),e.child)}function dI(t,e,n,r,i){if(Qr(n)){var o=!0;Hm(e)}else o=!1;if(iu(e,i),e.stateNode===null)cg(t,e),ZN(e,n,r),Aw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Di(c):(c=Qr(n)?jl:Pr.current,c=Jc(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&eI(e,s,r,c),_a=!1;var h=e.memoizedState;s.state=h,eg(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Xr.current||_a?(typeof d=="function"&&(Pw(e,n,d,r),l=e.memoizedState),(a=_a||JN(e,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,AN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:uo(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Di(l):(l=Qr(n)?jl:Pr.current,l=Jc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&eI(e,s,r,l),_a=!1,h=e.memoizedState,s.state=h,eg(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Xr.current||_a?(typeof m=="function"&&(Pw(e,n,m,r),v=e.memoizedState),(c=_a||JN(e,n,c,r,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return jw(t,e,n,r,o,i)}function jw(t,e,n,r,i,o){uI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&gN(e,n,!1),js(t,e,o);r=e.stateNode,Q8.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=nu(e,t.child,null,o),e.child=nu(e,null,a,o)):Ur(t,e,a,o),e.memoizedState=r.state,i&&gN(e,n,!0),e.child}function fI(t){var e=t.stateNode;e.pendingContext?pN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pN(t,e.context,!1),pw(t,e.containerInfo)}function hI(t,e,n,r,i){return tu(),aw(i),e.flags|=256,Ur(t,e,n,r),e.child}var kw={dehydrated:null,treeContext:null,retryLane:0};function Ow(t){return{baseLanes:t,cachePool:null,transitions:null}}function pI(t,e,n){var r=e.pendingProps,i=En.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ln(En,i&1),t===null)return sw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wg(s,r,0,null),t=Bl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ow(n),e.memoizedState=kw,t):Rw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return J8(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Na(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Na(a,o):(o=Bl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ow(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=kw,r}return o=t.child,t=o.sibling,r=Na(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rw(t,e){return e=wg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lg(t,e,n,r){return r!==null&&aw(r),nu(e,t.child,null,n),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Cw(Error(ge(422))),lg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wg({mode:"visible",children:r.children},i,0,null),o=Bl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&nu(e,t.child,null,s),e.child.memoizedState=Ow(s),e.memoizedState=kw,o);if(!(e.mode&1))return lg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ge(419)),r=Cw(o,r,void 0),lg(t,e,s,r)}if(a=(s&t.childLanes)!==0,Jr||a){if(r=ar,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ns(t,i),po(r,t,i,-1))}return Xw(),r=Cw(Error(ge(421))),lg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dz.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,di=va(i.nextSibling),ui=e,vn=!0,co=null,t!==null&&(Ri[Mi++]=As,Ri[Mi++]=Cs,Ri[Mi++]=kl,As=t.id,Cs=t.overflow,kl=e),e=Rw(e,r.children),e.flags|=4096,e)}function mI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dw(t.return,e,n)}function Mw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ur(t,e,r.children,n),r=En.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mI(t,n,e);else if(t.tag===19)mI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ln(En,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mw(e,!0,n,null,o);break;case"together":Mw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$l|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,n=Na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z8(t,e,n){switch(e.tag){case 3:fI(e),tu();break;case 5:IN(e);break;case 1:Qr(e.type)&&Hm(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(Qm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(En,En.current&1),e.flags|=128,null):n&e.child.childLanes?pI(t,e,n):(ln(En,En.current&1),t=js(t,e,n),t!==null?t.sibling:null);ln(En,En.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(En,En.current),r)break;return null;case 22:case 23:return e.lanes=0,cI(t,e,n)}return js(t,e,n)}var yI,Dw,vI,xI;yI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dw=function(){},vI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ml(Lo.current);var o=null;switch(n){case"input":i=db(t,i),r=db(t,r),o=[];break;case"select":i=Sn({},i,{value:void 0}),r=Sn({},r,{value:void 0}),o=[];break;case"textarea":i=pb(t,i),r=pb(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Um)}gb(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},xI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wf(t,e){if(!vn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ez(t,e,n){var r=e.pendingProps;switch(iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return Qr(e.type)&&Wm(),Cr(e),null;case 3:return r=e.stateNode,ou(),fn(Xr),fn(Pr),yw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ym(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&(Gw(co),co=null))),Dw(t,e),Cr(e),null;case 5:mw(e);var i=Ml(Ff.current);if(n=e.type,t!==null&&e.stateNode!=null)vI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ge(166));return Cr(e),null}if(t=Ml(Lo.current),Ym(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$o]=e,r[Rf]=o,t=(e.mode&1)!==0,n){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(i=0;i<jf.length;i++)dn(jf[i],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":ZA(r,o),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},dn("invalid",r);break;case"textarea":nC(r,o),dn("invalid",r)}gb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bm(r.textContent,a,t),i=["children",""+a]):lf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&dn("scroll",r)}switch(n){case"input":vm(r),tC(r,o,!0);break;case"textarea":vm(r),iC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Um)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$o]=e,t[Rf]=r,yI(t,e,!1,!1),e.stateNode=t;e:{switch(s=yb(n,r),n){case"dialog":dn("cancel",t),dn("close",t),i=r;break;case"iframe":case"object":case"embed":dn("load",t),i=r;break;case"video":case"audio":for(i=0;i<jf.length;i++)dn(jf[i],t);i=r;break;case"source":dn("error",t),i=r;break;case"img":case"image":case"link":dn("error",t),dn("load",t),i=r;break;case"details":dn("toggle",t),i=r;break;case"input":ZA(t,r),i=db(t,r),dn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Sn({},r,{value:void 0}),dn("invalid",t);break;case"textarea":nC(t,r),i=pb(t,r),dn("invalid",t);break;default:i=r}gb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?lC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ff(t,l):typeof l=="number"&&ff(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&dn("scroll",t):l!=null&&eb(t,o,l,s))}switch(n){case"input":vm(t),tC(t,r,!1);break;case"textarea":vm(t),iC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+da(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Vc(t,!!r.multiple,o,!1):r.defaultValue!=null&&Vc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Um)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)xI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ge(166));if(n=Ml(Ff.current),Ml(Lo.current),Ym(e)){if(r=e.stateNode,n=e.memoizedProps,r[$o]=e,(o=r.nodeValue!==n)&&(t=ui,t!==null))switch(t.tag){case 3:Bm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$o]=e,e.stateNode=r}return Cr(e),null;case 13:if(fn(En),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vn&&di!==null&&e.mode&1&&!(e.flags&128))_N(),tu(),e.flags|=98560,o=!1;else if(o=Ym(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ge(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ge(317));o[$o]=e}else tu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),o=!1}else co!==null&&(Gw(co),co=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||En.current&1?Jn===0&&(Jn=3):Xw())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return ou(),Dw(t,e),t===null&&kf(e.stateNode.containerInfo),Cr(e),null;case 10:return uw(e.type._context),Cr(e),null;case 17:return Qr(e.type)&&Wm(),Cr(e),null;case 19:if(fn(En),o=e.memoizedState,o===null)return Cr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Wf(o,!1);else{if(Jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=tg(t),s!==null){for(e.flags|=128,Wf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ln(En,En.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ln()>cu&&(e.flags|=128,r=!0,Wf(o,!1),e.lanes=4194304)}else{if(!r)if(t=tg(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vn)return Cr(e),null}else 2*Ln()-o.renderingStartTime>cu&&n!==1073741824&&(e.flags|=128,r=!0,Wf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ln(),e.sibling=null,n=En.current,ln(En,r?n&1|2:n&1),e):(Cr(e),null);case 22:case 23:return Yw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function tz(t,e){switch(iw(e),e.tag){case 1:return Qr(e.type)&&Wm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ou(),fn(Xr),fn(Pr),yw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mw(e),null;case 13:if(fn(En),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));tu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(En),null;case 4:return ou(),null;case 10:return uw(e.type._context),null;case 22:case 23:return Yw(),null;case 24:return null;default:return null}}var ug=!1,Nr=!1,nz=typeof WeakSet=="function"?WeakSet:Set,ke=null;function au(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(t,e,r)}else n.current=null}function $w(t,e,n){try{n()}catch(r){jn(t,e,r)}}var bI=!1;function rz(t,e){if(Yb=Im,t=JC(),Bb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(T){n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xb={focusedElem:t,selectionRange:n},Im=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:uo(e.type,g),y);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(T){jn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return v=bI,bI=!1,v}function Hf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$w(e,n,o)}i=i.next}while(i!==r)}}function dg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wI(t){var e=t.alternate;e!==null&&(t.alternate=null,wI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$o],delete e[Rf],delete e[ew],delete e[F8],delete e[V8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _I(t){return t.tag===5||t.tag===3||t.tag===4}function SI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_I(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Um));else if(r!==4&&(t=t.child,t!==null))for(Fw(t,e,n),t=t.sibling;t!==null;)Fw(t,e,n),t=t.sibling}function Vw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vw(t,e,n),t=t.sibling;t!==null;)Vw(t,e,n),t=t.sibling}var xr=null,fo=!1;function Ea(t,e,n){for(n=n.child;n!==null;)EI(t,e,n),n=n.sibling}function EI(t,e,n){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(Em,n)}catch(a){}switch(n.tag){case 5:Nr||au(n,e);case 6:var r=xr,i=fo;xr=null,Ea(t,e,n),xr=r,fo=i,xr!==null&&(fo?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(fo?(t=xr,n=n.stateNode,t.nodeType===8?Zb(t.parentNode,n):t.nodeType===1&&Zb(t,n),Sf(t)):Zb(xr,n.stateNode));break;case 4:r=xr,i=fo,xr=n.stateNode.containerInfo,fo=!0,Ea(t,e,n),xr=r,fo=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&$w(n,e,s),i=i.next}while(i!==r)}Ea(t,e,n);break;case 1:if(!Nr&&(au(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jn(n,e,a)}Ea(t,e,n);break;case 21:Ea(t,e,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,Ea(t,e,n),Nr=r):Ea(t,e,n);break;default:Ea(t,e,n)}}function TI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nz),e.forEach(function(r){var i=fz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ho(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,fo=!1;break e;case 3:xr=a.stateNode.containerInfo,fo=!0;break e;case 4:xr=a.stateNode.containerInfo,fo=!0;break e}a=a.return}if(xr===null)throw Error(ge(160));EI(o,s,i),xr=null,fo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PI(e,t),e=e.sibling}function PI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ho(e,t),Vo(t),r&4){try{Hf(3,t,t.return),dg(3,t)}catch(g){jn(t,t.return,g)}try{Hf(5,t,t.return)}catch(g){jn(t,t.return,g)}}break;case 1:ho(e,t),Vo(t),r&512&&n!==null&&au(n,n.return);break;case 5:if(ho(e,t),Vo(t),r&512&&n!==null&&au(n,n.return),t.flags&32){var i=t.stateNode;try{ff(i,"")}catch(g){jn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&eC(i,o),yb(a,s);var c=yb(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?lC(i,f):d==="dangerouslySetInnerHTML"?sC(i,f):d==="children"?ff(i,f):eb(i,d,f,c)}switch(a){case"input":fb(i,o);break;case"textarea":rC(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Vc(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Vc(i,!!o.multiple,o.defaultValue,!0):Vc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rf]=o}catch(g){jn(t,t.return,g)}}break;case 6:if(ho(e,t),Vo(t),r&4){if(t.stateNode===null)throw Error(ge(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){jn(t,t.return,g)}}break;case 3:if(ho(e,t),Vo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sf(e.containerInfo)}catch(g){jn(t,t.return,g)}break;case 4:ho(e,t),Vo(t);break;case 13:ho(e,t),Vo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zw=Ln())),r&4&&TI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nr=(c=Nr)||d,ho(e,t),Nr=c):ho(e,t),Vo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ke=t,d=t.child;d!==null;){for(f=ke=d;ke!==null;){switch(h=ke,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hf(4,h,h.return);break;case 1:au(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){jn(r,n,g)}}break;case 5:au(h,h.return);break;case 22:if(h.memoizedState!==null){NI(f);continue}}m!==null?(m.return=h,ke=m):NI(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aC("display",s))}catch(g){jn(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){jn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ho(e,t),Vo(t),r&4&&TI(t);break;case 21:break;default:ho(e,t),Vo(t)}}function Vo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_I(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ff(i,""),r.flags&=-33);var o=SI(t);Vw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=SI(t);Fw(t,a,s);break;default:throw Error(ge(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iz(t,e,n){ke=t,AI(t)}function AI(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var i=ke,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ug;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nr;a=ug;var c=Nr;if(ug=s,(Nr=l)&&!c)for(ke=i;ke!==null;)s=ke,l=s.child,s.tag===22&&s.memoizedState!==null?II(i):l!==null?(l.return=s,ke=l):II(i);for(;o!==null;)ke=o,AI(o),o=o.sibling;ke=i,ug=a,Nr=c}CI(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ke=o):CI(t)}}function CI(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||dg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:uo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&NN(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NN(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Nr||e.flags&512&&Lw(e)}catch(h){jn(e,e.return,h)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function NI(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function II(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dg(4,e)}catch(l){jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jn(e,i,l)}}var o=e.return;try{Lw(e)}catch(l){jn(e,o,l)}break;case 5:var s=e.return;try{Lw(e)}catch(l){jn(e,s,l)}}}catch(l){jn(e,e.return,l)}if(e===t){ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ke=a;break}ke=e.return}}var oz=Math.ceil,fg=Es.ReactCurrentDispatcher,Bw=Es.ReactCurrentOwner,Li=Es.ReactCurrentBatchConfig,Vt=0,ar=null,Hn=null,br=0,fi=0,lu=xa(0),Jn=0,qf=null,$l=0,hg=0,Uw=0,Gf=null,Zr=null,zw=0,cu=1/0,ks=null,pg=!1,Ww=null,Ta=null,mg=!1,Pa=null,gg=0,Kf=0,Hw=null,yg=-1,vg=0;function zr(){return Vt&6?Ln():yg!==-1?yg:yg=Ln()}function Aa(t){return t.mode&1?Vt&2&&br!==0?br&-br:U8.transition!==null?(vg===0&&(vg=SC()),vg):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:kC(t.type)),t):1}function po(t,e,n,r){if(50<Kf)throw Kf=0,Hw=null,Error(ge(185));vf(t,n,r),(!(Vt&2)||t!==ar)&&(t===ar&&(!(Vt&2)&&(hg|=n),Jn===4&&Ca(t,br)),ei(t,r),n===1&&Vt===0&&!(e.mode&1)&&(cu=Ln()+500,qm&&wa()))}function ei(t,e){var n=t.callbackNode;U9(t,e);var r=Am(t,t===ar?br:0);if(r===0)n!==null&&bC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bC(n),e===1)t.tag===0?B8(kI.bind(null,t)):yN(kI.bind(null,t)),$8(function(){!(Vt&6)&&wa()}),n=null;else{switch(EC(r)){case 1:n=Eb;break;case 4:n=wC;break;case 16:n=Sm;break;case 536870912:n=_C;break;default:n=Sm}n=VI(n,jI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jI(t,e){if(yg=-1,vg=0,Vt&6)throw Error(ge(327));var n=t.callbackNode;if(uu()&&t.callbackNode!==n)return null;var r=Am(t,t===ar?br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xg(t,r);else{e=r;var i=Vt;Vt|=2;var o=RI();(ar!==t||br!==e)&&(ks=null,cu=Ln()+500,Fl(t,e));do try{lz();break}catch(a){OI(t,a)}while(!0);cw(),fg.current=o,Vt=i,Hn!==null?e=0:(ar=null,br=0,e=Jn)}if(e!==0){if(e===2&&(i=Tb(t),i!==0&&(r=i,e=qw(t,i))),e===1)throw n=qf,Fl(t,0),Ca(t,r),ei(t,Ln()),n;if(e===6)Ca(t,r);else{if(i=t.current.alternate,!(r&30)&&!sz(i)&&(e=xg(t,r),e===2&&(o=Tb(t),o!==0&&(r=o,e=qw(t,o))),e===1))throw n=qf,Fl(t,0),Ca(t,r),ei(t,Ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ge(345));case 2:Vl(t,Zr,ks);break;case 3:if(Ca(t,r),(r&130023424)===r&&(e=zw+500-Ln(),10<e)){if(Am(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jb(Vl.bind(null,t,Zr,ks),e);break}Vl(t,Zr,ks);break;case 4:if(Ca(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ao(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oz(r/1960))-r,10<r){t.timeoutHandle=Jb(Vl.bind(null,t,Zr,ks),r);break}Vl(t,Zr,ks);break;case 5:Vl(t,Zr,ks);break;default:throw Error(ge(329))}}}return ei(t,Ln()),t.callbackNode===n?jI.bind(null,t):null}function qw(t,e){var n=Gf;return t.current.memoizedState.isDehydrated&&(Fl(t,e).flags|=256),t=xg(t,e),t!==2&&(e=Zr,Zr=n,e!==null&&Gw(e)),t}function Gw(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function sz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lo(o(),i))return!1}catch(s){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e){for(e&=~Uw,e&=~hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ao(e),r=1<<n;t[n]=-1,e&=~r}}function kI(t){if(Vt&6)throw Error(ge(327));uu();var e=Am(t,0);if(!(e&1))return ei(t,Ln()),null;var n=xg(t,e);if(t.tag!==0&&n===2){var r=Tb(t);r!==0&&(e=r,n=qw(t,r))}if(n===1)throw n=qf,Fl(t,0),Ca(t,e),ei(t,Ln()),n;if(n===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vl(t,Zr,ks),ei(t,Ln()),null}function Kw(t,e){var n=Vt;Vt|=1;try{return t(e)}finally{Vt=n,Vt===0&&(cu=Ln()+500,qm&&wa())}}function Ll(t){Pa!==null&&Pa.tag===0&&!(Vt&6)&&uu();var e=Vt;Vt|=1;var n=Li.transition,r=Gt;try{if(Li.transition=null,Gt=1,t)return t()}finally{Gt=r,Li.transition=n,Vt=e,!(Vt&6)&&wa()}}function Yw(){fi=lu.current,fn(lu)}function Fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D8(n)),Hn!==null)for(n=Hn.return;n!==null;){var r=n;switch(iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wm();break;case 3:ou(),fn(Xr),fn(Pr),yw();break;case 5:mw(r);break;case 4:ou();break;case 13:fn(En);break;case 19:fn(En);break;case 10:uw(r.type._context);break;case 22:case 23:Yw()}n=n.return}if(ar=t,Hn=t=Na(t.current,null),br=fi=e,Jn=0,qf=null,Uw=hg=$l=0,Zr=Gf=null,Rl!==null){for(e=0;e<Rl.length;e++)if(n=Rl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Rl=null}return t}function OI(t,e){do{var n=Hn;try{if(cw(),ng.current=sg,rg){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rg=!1}if(Dl=0,sr=Qn=Tn=null,Vf=!1,Bf=0,Bw.current=null,n===null||n.return===null){Jn=1,qf=e,Hn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=iI(s);if(m!==null){m.flags&=-257,oI(m,s,a,o,e),m.mode&1&&rI(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){rI(o,c,e),Xw();break e}l=Error(ge(426))}}else if(vn&&a.mode&1){var y=iI(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),oI(y,s,a,o,e),aw(su(l,a));break e}}o=l=su(l,a),Jn!==4&&(Jn=2),Gf===null?Gf=[o]:Gf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=tI(o,l,e);CN(o,b);break e;case 1:a=l;var _=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ta===null||!Ta.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=nI(o,a,e);CN(o,T);break e}}o=o.return}while(o!==null)}DI(n)}catch(S){e=S,Hn===n&&n!==null&&(Hn=n=n.return);continue}break}while(!0)}function RI(){var t=fg.current;return fg.current=sg,t===null?sg:t}function Xw(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),ar===null||!($l&268435455)&&!(hg&268435455)||Ca(ar,br)}function xg(t,e){var n=Vt;Vt|=2;var r=RI();(ar!==t||br!==e)&&(ks=null,Fl(t,e));do try{az();break}catch(i){OI(t,i)}while(!0);if(cw(),Vt=n,fg.current=r,Hn!==null)throw Error(ge(261));return ar=null,br=0,Jn}function az(){for(;Hn!==null;)MI(Hn)}function lz(){for(;Hn!==null&&!O9();)MI(Hn)}function MI(t){var e=FI(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?DI(t):Hn=e,Bw.current=null}function DI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tz(n,e),n!==null){n.flags&=32767,Hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jn=6,Hn=null;return}}else if(n=ez(n,e,fi),n!==null){Hn=n;return}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=t}while(e!==null);Jn===0&&(Jn=5)}function Vl(t,e,n){var r=Gt,i=Li.transition;try{Li.transition=null,Gt=1,cz(t,e,n,r)}finally{Li.transition=i,Gt=r}return null}function cz(t,e,n,r){do uu();while(Pa!==null);if(Vt&6)throw Error(ge(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(z9(t,o),t===ar&&(Hn=ar=null,br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mg||(mg=!0,VI(Sm,function(){return uu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Li.transition,Li.transition=null;var s=Gt;Gt=1;var a=Vt;Vt|=4,Bw.current=null,rz(t,n),PI(n,t),N8(Xb),Im=!!Yb,Xb=Yb=null,t.current=n,iz(n),R9(),Vt=a,Gt=s,Li.transition=o}else t.current=n;if(mg&&(mg=!1,Pa=t,gg=i),o=t.pendingLanes,o===0&&(Ta=null),$9(n.stateNode),ei(t,Ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pg)throw pg=!1,t=Ww,Ww=null,t;return gg&1&&t.tag!==0&&uu(),o=t.pendingLanes,o&1?t===Hw?Kf++:(Kf=0,Hw=t):Kf=0,wa(),null}function uu(){if(Pa!==null){var t=EC(gg),e=Li.transition,n=Gt;try{if(Li.transition=null,Gt=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,gg=0,Vt&6)throw Error(ge(331));var i=Vt;for(Vt|=4,ke=t.current;ke!==null;){var o=ke,s=o.child;if(ke.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ke=c;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:Hf(8,d,o)}var f=d.child;if(f!==null)f.return=d,ke=f;else for(;ke!==null;){d=ke;var h=d.sibling,m=d.return;if(wI(d),d===c){ke=null;break}if(h!==null){h.return=m,ke=h;break}ke=m}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ke=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ke=s;else e:for(;ke!==null;){if(o=ke,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hf(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ke=b;break e}ke=o.return}}var _=t.current;for(ke=_;ke!==null;){s=ke;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ke=w;else e:for(s=_;ke!==null;){if(a=ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dg(9,a)}}catch(S){jn(a,a.return,S)}if(a===s){ke=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ke=T;break e}ke=a.return}}if(Vt=i,wa(),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(Em,t)}catch(S){}r=!0}return r}finally{Gt=n,Li.transition=e}}return!1}function $I(t,e,n){e=su(n,e),e=tI(t,e,1),t=Sa(t,e,1),e=zr(),t!==null&&(vf(t,1,e),ei(t,e))}function jn(t,e,n){if(t.tag===3)$I(t,t,n);else for(;e!==null;){if(e.tag===3){$I(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ta===null||!Ta.has(r))){t=su(n,t),t=nI(e,t,1),e=Sa(e,t,1),t=zr(),e!==null&&(vf(e,1,t),ei(e,t));break}}e=e.return}}function uz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&n,ar===t&&(br&n)===n&&(Jn===4||Jn===3&&(br&130023424)===br&&500>Ln()-zw?Fl(t,0):Uw|=n),ei(t,e)}function LI(t,e){e===0&&(t.mode&1?(e=Pm,Pm<<=1,!(Pm&130023424)&&(Pm=4194304)):e=1);var n=zr();t=Ns(t,e),t!==null&&(vf(t,e,n),ei(t,n))}function dz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LI(t,n)}function fz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(e),LI(t,n)}var FI;FI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Jr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jr=!1,Z8(t,e,n);Jr=!!(t.flags&131072)}else Jr=!1,vn&&e.flags&1048576&&vN(e,Km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cg(t,e),t=e.pendingProps;var i=Jc(e,Pr.current);iu(e,n),i=bw(null,e,r,t,i,n);var o=ww();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qr(r)?(o=!0,Hm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(e),i.updater=ag,e.stateNode=i,i._reactInternals=e,Aw(e,r,t,n),e=jw(null,e,r,!0,o,n)):(e.tag=0,vn&&o&&rw(e),Ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pz(r),t=uo(r,t),i){case 0:e=Iw(null,e,r,t,n);break e;case 1:e=dI(null,e,r,t,n);break e;case 11:e=sI(null,e,r,t,n);break e;case 14:e=aI(null,e,r,uo(r.type,t),n);break e}throw Error(ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),Iw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),dI(t,e,r,i,n);case 3:e:{if(fI(e),t===null)throw Error(ge(387));r=e.pendingProps,o=e.memoizedState,i=o.element,AN(t,e),eg(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=su(Error(ge(423)),e),e=hI(t,e,r,n,i);break e}else if(r!==i){i=su(Error(ge(424)),e),e=hI(t,e,r,n,i);break e}else for(di=va(e.stateNode.containerInfo.firstChild),ui=e,vn=!0,co=null,n=TN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tu(),r===i){e=js(t,e,n);break e}Ur(t,e,r,n)}e=e.child}return e;case 5:return IN(e),t===null&&sw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Qb(r,i)?s=null:o!==null&&Qb(r,o)&&(e.flags|=32),uI(t,e),Ur(t,e,s,n),e.child;case 6:return t===null&&sw(e),null;case 13:return pI(t,e,n);case 4:return pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nu(e,null,r,n):Ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),sI(t,e,r,i,n);case 7:return Ur(t,e,e.pendingProps,n),e.child;case 8:return Ur(t,e,e.pendingProps.children,n),e.child;case 12:return Ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ln(Qm,r._currentValue),r._currentValue=s,o!==null)if(lo(o.value,s)){if(o.children===i.children&&!Xr.current){e=js(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Is(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dw(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ge(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),dw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,iu(e,n),i=Di(i),r=r(i),e.flags|=1,Ur(t,e,r,n),e.child;case 14:return r=e.type,i=uo(r,e.pendingProps),i=uo(r.type,i),aI(t,e,r,i,n);case 15:return lI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),cg(t,e),e.tag=1,Qr(r)?(t=!0,Hm(e)):t=!1,iu(e,n),ZN(e,r,i),Aw(e,r,i,n),jw(null,e,r,!0,t,n);case 19:return gI(t,e,n);case 22:return cI(t,e,n)}throw Error(ge(156,e.tag))};function VI(t,e){return xC(t,e)}function hz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,r){return new hz(t,e,n,r)}function Qw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pz(t){if(typeof t=="function")return Qw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rb)return 11;if(t===sb)return 14}return 2}function Na(t,e){var n=t.alternate;return n===null?(n=Fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Qw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fc:return Bl(n.children,i,o,e);case tb:s=8,i|=8;break;case nb:return t=Fi(12,n,e,i|2),t.elementType=nb,t.lanes=o,t;case ib:return t=Fi(13,n,e,i),t.elementType=ib,t.lanes=o,t;case ob:return t=Fi(19,n,e,i),t.elementType=ob,t.lanes=o,t;case YA:return wg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GA:s=10;break e;case KA:s=9;break e;case rb:s=11;break e;case sb:s=14;break e;case ua:s=16,r=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Fi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Bl(t,e,n,r){return t=Fi(7,t,r,e),t.lanes=n,t}function wg(t,e,n,r){return t=Fi(22,t,r,e),t.elementType=YA,t.lanes=n,t.stateNode={isHidden:!1},t}function Jw(t,e,n){return t=Fi(6,t,null,e),t.lanes=n,t}function Zw(t,e,n){return e=Fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pb(0),this.expirationTimes=Pb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e1(t,e,n,r,i,o,s,a,l){return t=new mz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(o),t}function gz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BI(t){if(!t)return ba;t=t._reactInternals;e:{if(Nl(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var n=t.type;if(Qr(n))return mN(t,n,e)}return e}function UI(t,e,n,r,i,o,s,a,l){return t=e1(n,r,!0,t,i,o,s,a,l),t.context=BI(null),n=t.current,r=zr(),i=Aa(n),o=Is(r,i),o.callback=e!=null?e:null,Sa(n,o,i),t.current.lanes=i,vf(t,i,r),ei(t,r),t}function _g(t,e,n,r){var i=e.current,o=zr(),s=Aa(i);return n=BI(n),e.context===null?e.context=n:e.pendingContext=n,e=Is(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sa(i,e,s),t!==null&&(po(t,i,s,o),Zm(t,i,s)),s}function Sg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t1(t,e){zI(t,e),(t=t.alternate)&&zI(t,e)}function yz(){return null}var WI=typeof reportError=="function"?reportError:function(t){console.error(t)};function n1(t){this._internalRoot=t}Eg.prototype.render=n1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));_g(t,e,null,null)},Eg.prototype.unmount=n1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ll(function(){_g(null,t,null,null)}),e[Ts]=null}};function Eg(t){this._internalRoot=t}Eg.prototype.unstable_scheduleHydration=function(t){if(t){var e=AC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ma.length&&e!==0&&e<ma[n].priority;n++);ma.splice(n,0,t),n===0&&IC(t)}};function r1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HI(){}function vz(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Sg(s);o.call(c)}}var s=UI(e,r,t,0,null,!1,!1,"",HI);return t._reactRootContainer=s,t[Ts]=s.current,kf(t.nodeType===8?t.parentNode:t),Ll(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sg(l);a.call(c)}}var l=e1(t,0,!1,null,null,!1,!1,"",HI);return t._reactRootContainer=l,t[Ts]=l.current,kf(t.nodeType===8?t.parentNode:t),Ll(function(){_g(e,l,n,r)}),l}function Pg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sg(s);a.call(l)}}_g(e,s,t,i)}else s=vz(n,e,t,i,r);return Sg(s)}TC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yf(e.pendingLanes);n!==0&&(Ab(e,n|1),ei(e,Ln()),!(Vt&6)&&(cu=Ln()+500,wa()))}break;case 13:Ll(function(){var r=Ns(t,1);if(r!==null){var i=zr();po(r,t,1,i)}}),t1(t,1)}},Cb=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var n=zr();po(e,t,134217728,n)}t1(t,134217728)}},PC=function(t){if(t.tag===13){var e=Aa(t),n=Ns(t,e);if(n!==null){var r=zr();po(n,t,e,r)}t1(t,e)}},AC=function(){return Gt},CC=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}},bb=function(t,e,n){switch(e){case"input":if(fb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zm(r);if(!i)throw Error(ge(90));JA(r),fb(r,i)}}}break;case"textarea":rC(t,n);break;case"select":e=n.value,e!=null&&Vc(t,!!n.multiple,e,!1)}},fC=Kw,hC=Ll;var xz={usingClientEntryPoint:!1,Events:[Mf,Xc,zm,uC,dC,Kw]},Yf={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bz={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yC(t),t===null?null:t.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||yz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ag.isDisabled&&Ag.supportsFiber)try{Em=Ag.inject(bz),Do=Ag}catch(t){}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xz,ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r1(e))throw Error(ge(200));return gz(t,e,null,n)},ai.createRoot=function(t,e){if(!r1(t))throw Error(ge(299));var n=!1,r="",i=WI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e1(t,1,!1,null,null,n,!1,r,i),t[Ts]=e.current,kf(t.nodeType===8?t.parentNode:t),new n1(e)},ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=yC(e),t=t===null?null:t.stateNode,t},ai.flushSync=function(t){return Ll(t)},ai.hydrate=function(t,e,n){if(!Tg(e))throw Error(ge(200));return Pg(null,t,e,!0,n)},ai.hydrateRoot=function(t,e,n){if(!r1(t))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=WI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UI(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Ts]=e.current,kf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eg(e)},ai.render=function(t,e,n){if(!Tg(e))throw Error(ge(200));return Pg(null,t,e,!1,n)},ai.unmountComponentAtNode=function(t){if(!Tg(t))throw Error(ge(40));return t._reactRootContainer?(Ll(function(){Pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1},ai.unstable_batchedUpdates=Kw,ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tg(n))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Pg(t,e,n,!1,r)},ai.version="18.3.1-next-f1338f8080-20240426";function qI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qI)}catch(t){console.error(t)}}qI(),BA.exports=ai;var Ul=BA.exports;const wz=$e(Ul);var GI,KI=Ul;GI=KI.createRoot,KI.hydrateRoot;function _z(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,s=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var YI={exports:{}},XI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=x;function Sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ez=typeof Object.is=="function"?Object.is:Sz,Tz=du.useState,Pz=du.useEffect,Az=du.useLayoutEffect,Cz=du.useDebugValue;function Nz(t,e){var n=e(),r=Tz({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Az(function(){i.value=n,i.getSnapshot=e,i1(i)&&o({inst:i})},[t,n,e]),Pz(function(){return i1(i)&&o({inst:i}),t(function(){i1(i)&&o({inst:i})})},[t]),Cz(n),n}function i1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ez(t,n)}catch(r){return!0}}function Iz(t,e){return e()}var jz=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?Iz:Nz;XI.useSyncExternalStore=du.useSyncExternalStore!==void 0?du.useSyncExternalStore:jz,YI.exports=XI;var kz=YI.exports;const Oz=FA.useInsertionEffect,Rz=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?x.useLayoutEffect:x.useEffect,Mz=Oz||Rz,QI=t=>{const e=x.useRef([t,(...n)=>e[0](...n)]).current;return Mz(()=>{e[0]=t}),e[1]},Dz="popstate",o1="pushState",s1="replaceState",JI=[Dz,o1,s1,"hashchange"],$z=t=>{for(const e of JI)addEventListener(e,t);return()=>{for(const e of JI)removeEventListener(e,t)}},ZI=(t,e)=>kz.useSyncExternalStore($z,t,e),Lz=()=>location.search,Fz=({ssrSearch:t=""}={})=>ZI(Lz,()=>t),ej=()=>location.pathname,Vz=({ssrPath:t}={})=>ZI(ej,t?()=>t:ej),Bz=(t,{replace:e=!1,state:n=null}={})=>history[e?s1:o1](n,"",t),Uz=(t={})=>[Vz(t),Bz],tj=Symbol.for("wouter_v3");if(typeof history!="undefined"&&typeof window[tj]=="undefined"){for(const t of[o1,s1]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,tj,{value:!0})}const zz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nj=(t="")=>t==="/"?"":t,Wz=(t,e)=>t[0]==="~"?t.slice(1):nj(e)+t,Hz=(t="",e)=>zz(rj(nj(t)),rj(e)),rj=t=>{try{return decodeURI(t)}catch(e){return t}},ij={hook:Uz,searchHook:Fz,parser:_z,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},oj=x.createContext(ij),Xf=()=>x.useContext(oj),sj={},aj=x.createContext(sj),qz=()=>x.useContext(aj),Cg=t=>{const[e,n]=t.hook(t);return[Hz(t.base,e),QI((r,i)=>n(Wz(r,t.base),i))]},Ia=()=>Cg(Xf()),lj=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),s=i.exec(n)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,h)=>[f,l[h]])):s.groups;let d=D({},l);return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},cj=n=>{var r=n,{children:t}=r,e=X(r,["children"]);var h,m,v,g;const i=Xf(),o=e.hook?ij:i;let s=o;const[a,l]=(m=(h=e.ssrPath)==null?void 0:h.split("?"))!=null?m:[];l&&(e.ssrSearch=l,e.ssrPath=a),e.hrefs=(g=e.hrefs)!=null?g:(v=e.hook)==null?void 0:v.hrefs;let c=x.useRef({}),d=c.current,f=d;for(let y in o){const b=y==="base"?o[y]+(e[y]||""):e[y]||o[y];d===f&&b!==f[y]&&(c.current=f=D({},f)),f[y]=b,b!==o[y]&&(s=f)}return x.createElement(oj.Provider,{value:s,children:t})},uj=({children:t,component:e},n)=>e?x.createElement(e,{params:n}):typeof t=="function"?t(n):t,Gz=t=>{let e=x.useRef(sj),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Os=i=>{var o=i,{path:t,nest:e,match:n}=o,r=X(o,["path","nest","match"]);const s=Xf(),[a]=Cg(s),[l,c,d]=n!=null?n:lj(s.parser,t,a,e),f=Gz(D(D({},qz()),c));if(!l)return null;const h=d?x.createElement(cj,{base:d},uj(r,f)):uj(r,f);return x.createElement(aj.Provider,{value:f,children:h})};x.forwardRef((t,e)=>{const n=Xf(),[r,i]=Cg(n),y=t,{to:o="",href:s=o,onClick:a,asChild:l,children:c,className:d,replace:f,state:h}=y,m=X(y,["to","href","onClick","asChild","children","className","replace","state"]),v=QI(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),i(s,t)))}),g=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return l&&x.isValidElement(c)?x.cloneElement(c,{onClick:v,href:g}):x.createElement("a",F(D({},m),{onClick:v,href:g,className:d!=null&&d.call?d(r===s):d,children:c,ref:e}))});const dj=t=>Array.isArray(t)?t.flatMap(e=>dj(e&&e.type===x.Fragment?e.props.children:e)):[t],Kz=({children:t,location:e})=>{const n=Xf(),[r]=Cg(n);for(const i of dj(t)){let o=0;if(x.isValidElement(i)&&(o=lj(n.parser,i.props.path,e||r,i.props.nest))[0])return x.cloneElement(i,{match:o})}return null};var Ng=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ig=typeof window=="undefined"||"Deno"in globalThis;function mo(){}function Yz(t,e){return typeof t=="function"?t(e):t}function Xz(t){return typeof t=="number"&&t>=0&&t!==1/0}function Qz(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fj(t,e){return typeof t=="function"?t(e):t}function Jz(t,e){return typeof t=="function"?t(e):t}function hj(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==a1(s,e.options))return!1}else if(!Jf(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function pj(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Qf(e.options.mutationKey)!==Qf(o))return!1}else if(!Jf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function a1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qf)(t)}function Qf(t){return JSON.stringify(t,(e,n)=>l1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jf(t[n],e[n])):!1}function mj(t,e){if(t===e)return t;const n=gj(t)&&gj(e);if(n||l1(t)&&l1(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=mj(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function gj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function l1(t){if(!yj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yj(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zz(t){return new Promise(e=>{setTimeout(e,t)})}function e7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mj(t,e):e}function t7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function n7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var c1=Symbol();function vj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===c1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var r7=(PU=class extends Ng{constructor(){super();qt(this,Cc);qt(this,fl);qt(this,Gd);xt(this,Gd,e=>{if(!Ig&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,fl)||this.setEventListener(ue(this,Gd))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,fl))==null||e.call(this),xt(this,fl,void 0))}setEventListener(e){var n;xt(this,Gd,e),(n=ue(this,fl))==null||n.call(this),xt(this,fl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ue(this,Cc)!==e&&(xt(this,Cc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ue(this,Cc)=="boolean"?ue(this,Cc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cc=new WeakMap,fl=new WeakMap,Gd=new WeakMap,PU),xj=new r7,i7=(AU=class extends Ng{constructor(){super();qt(this,Kd,!0);qt(this,hl);qt(this,Yd);xt(this,Yd,e=>{if(!Ig&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,hl)||this.setEventListener(ue(this,Yd))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,hl))==null||e.call(this),xt(this,hl,void 0))}setEventListener(e){var n;xt(this,Yd,e),(n=ue(this,hl))==null||n.call(this),xt(this,hl,e(this.setOnline.bind(this)))}setOnline(e){ue(this,Kd)!==e&&(xt(this,Kd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ue(this,Kd)}},Kd=new WeakMap,hl=new WeakMap,Yd=new WeakMap,AU),jg=new i7;function o7(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function s7(t){return Math.min(1e3*Rc(2,t),3e4)}function bj(t){return(t!=null?t:"online")==="online"?jg.isOnline():!0}var wj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function u1(t){return t instanceof wj}function _j(t){let e=!1,n=0,r=!1,i;const o=o7(),s=g=>{var y;r||(h(new wj(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>xj.isFocused()&&(t.networkMode==="always"||jg.isOnline())&&t.canRun(),d=()=>bj(t.networkMode)&&t.canRun(),f=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var y;i=b=>{(r||c())&&g(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y!=null?y:t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var N,E,A;if(r)return;const _=(N=t.retry)!=null?N:Ig?0:3,w=(E=t.retryDelay)!=null?E:s7,T=typeof w=="function"?w(n,b):w,S=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(e||!S){h(b);return}n++,(A=t.onFail)==null||A.call(t,n,b),Zz(T).then(()=>c()?void 0:m()).then(()=>{e?h(b):v()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),o)}}function a7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Wr=a7(),Sj=(CU=class{constructor(){qt(this,Nc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xz(this.gcTime)&&xt(this,Nc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t!=null?t:Ig?1/0:5*60*1e3)}clearGcTimeout(){ue(this,Nc)&&(clearTimeout(ue(this,Nc)),xt(this,Nc,void 0))}},Nc=new WeakMap,CU),l7=(NU=class extends Sj{constructor(n){var r;super();qt(this,Oo);qt(this,Xd);qt(this,Qd);qt(this,no);qt(this,Dr);qt(this,lm);qt(this,Ic);xt(this,Ic,!1),xt(this,lm,n.defaultOptions),this.setOptions(n.options),this.observers=[],xt(this,no,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xt(this,Xd,u7(this.options)),this.state=(r=n.state)!=null?r:ue(this,Xd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ue(this,Dr))==null?void 0:n.promise}setOptions(n){this.options=D(D({},ue(this,lm)),n),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,no).remove(this)}setData(n,r){const i=e7(this.state.data,n,this.options);return Fr(this,Oo,ca).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Fr(this,Oo,ca).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=ue(this,Dr))==null?void 0:i.promise;return(o=ue(this,Dr))==null||o.cancel(n),r?r.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Xd))}isActive(){return this.observers.some(n=>Jz(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===c1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Qz(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ue(this,Dr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ue(this,Dr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ue(this,no).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ue(this,Dr)&&(ue(this,Ic)?ue(this,Dr).cancel({revert:!0}):ue(this,Dr).cancelRetry()),this.scheduleGc()),ue(this,no).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fr(this,Oo,ca).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Dr))return ue(this,Dr).continueRetry(),ue(this,Dr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xt(this,Ic,!0),i.signal)})},s=()=>{const h=vj(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),xt(this,Ic,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),xt(this,Qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Fr(this,Oo,ca).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,g,y;u1(h)&&h.silent||Fr(this,Oo,ca).call(this,{type:"error",error:h}),u1(h)||((v=(m=ue(this,no).config).onError)==null||v.call(m,h,this),(y=(g=ue(this,no).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return xt(this,Dr,_j({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,g,y;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(v=(m=ue(this,no).config).onSuccess)==null||v.call(m,h,this),(y=(g=ue(this,no).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Fr(this,Oo,ca).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Fr(this,Oo,ca).call(this,{type:"pause"})},onContinue:()=>{Fr(this,Oo,ca).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ue(this,Dr).start()}},Xd=new WeakMap,Qd=new WeakMap,no=new WeakMap,Dr=new WeakMap,lm=new WeakMap,Ic=new WeakMap,Oo=new WeakSet,ca=function(n){const r=i=>{var o,s;switch(n.type){case"failed":return F(D({},i),{fetchFailureCount:n.failureCount,fetchFailureReason:n.error});case"pause":return F(D({},i),{fetchStatus:"paused"});case"continue":return F(D({},i),{fetchStatus:"fetching"});case"fetch":return F(D(D({},i),c7(i.data,this.options)),{fetchMeta:(o=n.meta)!=null?o:null});case"success":return D(F(D({},i),{data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(s=n.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success"}),!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const a=n.error;return u1(a)&&a.revert&&ue(this,Qd)?F(D({},ue(this,Qd)),{fetchStatus:"idle"}):F(D({},i),{error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return F(D({},i),{isInvalidated:!0});case"setState":return D(D({},i),n.state)}};this.state=r(this.state),Wr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ue(this,no).notify({query:this,type:"updated",action:n})})},NU);function c7(t,e){return D({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bj(e.networkMode)?"fetching":"paused"},t===void 0&&{error:null,status:"pending"})}function u7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r!=null?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d7=(IU=class extends Ng{constructor(e={}){super();qt(this,ds);this.config=e,xt(this,ds,new Map)}build(e,n,r){var a;const i=n.queryKey,o=(a=n.queryHash)!=null?a:a1(i,n);let s=this.get(o);return s||(s=new l7({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ue(this,ds).has(e.queryHash)||(ue(this,ds).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ue(this,ds).get(e.queryHash);n&&(e.destroy(),n===e&&ue(this,ds).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,ds).get(e)}getAll(){return[...ue(this,ds).values()]}find(e){const n=D({exact:!0},e);return this.getAll().find(r=>hj(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hj(e,r)):n}notify(e){Wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ds=new WeakMap,IU),f7=(jU=class extends Sj{constructor(n){super();qt(this,hs);qt(this,fs);qt(this,qr);qt(this,jc);this.mutationId=n.mutationId,xt(this,qr,n.mutationCache),xt(this,fs,[]),this.state=n.state||h7(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ue(this,fs).includes(n)||(ue(this,fs).push(n),this.clearGcTimeout(),ue(this,qr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xt(this,fs,ue(this,fs).filter(r=>r!==n)),this.scheduleGc(),ue(this,qr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ue(this,fs).length||(this.state.status==="pending"?this.scheduleGc():ue(this,qr).remove(this))}continue(){var n,r;return(r=(n=ue(this,jc))==null?void 0:n.continue())!=null?r:this.execute(this.state.variables)}execute(n){return V(this,null,function*(){var o,s,a,l,c,d,f,h,m,v,g,y,b,_,w,T,S,N,E,A,C;xt(this,jc,_j({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,I)=>{Fr(this,hs,Al).call(this,{type:"failed",failureCount:j,error:I})},onPause:()=>{Fr(this,hs,Al).call(this,{type:"pause"})},onContinue:()=>{Fr(this,hs,Al).call(this,{type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,qr).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,jc).canStart();try{if(!r){Fr(this,hs,Al).call(this,{type:"pending",variables:n,isPaused:i}),yield(a=(s=ue(this,qr).config).onMutate)==null?void 0:a.call(s,n,this);const I=yield(c=(l=this.options).onMutate)==null?void 0:c.call(l,n);I!==this.state.context&&Fr(this,hs,Al).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const j=yield ue(this,jc).start();return yield(f=(d=ue(this,qr).config).onSuccess)==null?void 0:f.call(d,j,n,this.state.context,this),yield(m=(h=this.options).onSuccess)==null?void 0:m.call(h,j,n,this.state.context),yield(g=(v=ue(this,qr).config).onSettled)==null?void 0:g.call(v,j,null,this.state.variables,this.state.context,this),yield(b=(y=this.options).onSettled)==null?void 0:b.call(y,j,null,n,this.state.context),Fr(this,hs,Al).call(this,{type:"success",data:j}),j}catch(j){try{throw yield(w=(_=ue(this,qr).config).onError)==null?void 0:w.call(_,j,n,this.state.context,this),yield(S=(T=this.options).onError)==null?void 0:S.call(T,j,n,this.state.context),yield(E=(N=ue(this,qr).config).onSettled)==null?void 0:E.call(N,void 0,j,this.state.variables,this.state.context,this),yield(C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,j,n,this.state.context),j}finally{Fr(this,hs,Al).call(this,{type:"error",error:j})}}finally{ue(this,qr).runNext(this)}})}},fs=new WeakMap,qr=new WeakMap,jc=new WeakMap,hs=new WeakSet,Al=function(n){const r=i=>{switch(n.type){case"failed":return F(D({},i),{failureCount:n.failureCount,failureReason:n.error});case"pause":return F(D({},i),{isPaused:!0});case"continue":return F(D({},i),{isPaused:!1});case"pending":return F(D({},i),{context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()});case"success":return F(D({},i),{data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return F(D({},i),{data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"})}};this.state=r(this.state),Wr.batch(()=>{ue(this,fs).forEach(i=>{i.onMutationUpdate(n)}),ue(this,qr).notify({mutation:this,type:"updated",action:n})})},jU);function h7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var p7=(kU=class extends Ng{constructor(e={}){super();qt(this,Ei);qt(this,cm);this.config=e,xt(this,Ei,new Map),xt(this,cm,Date.now())}build(e,n,r){const i=new f7({mutationCache:this,mutationId:++H0(this,cm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){var i;const n=kg(e),r=(i=ue(this,Ei).get(n))!=null?i:[];r.push(e),ue(this,Ei).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=kg(e);if(ue(this,Ei).has(n)){const i=(r=ue(this,Ei).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?ue(this,Ei).delete(n):ue(this,Ei).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ue(this,Ei).get(kg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r,i;const n=(r=ue(this,Ei).get(kg(e)))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i=n==null?void 0:n.continue())!=null?i:Promise.resolve()}clear(){Wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ue(this,Ei).values()].flat()}find(e){const n=D({exact:!0},e);return this.getAll().find(r=>pj(n,r))}findAll(e={}){return this.getAll().filter(n=>pj(e,n))}notify(e){Wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wr.batch(()=>Promise.all(e.map(n=>n.continue().catch(mo))))}},Ei=new WeakMap,cm=new WeakMap,kU);function kg(t){var e,n;return(n=(e=t.options.scope)==null?void 0:e.id)!=null?n:String(t.mutationId)}function Ej(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=()=>V(this,null,function*(){var w;let g=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=vj(e.options,e.fetchOptions),_=(T,S,N)=>V(this,null,function*(){if(g)return Promise.reject();if(S==null&&T.pages.length)return Promise.resolve(T);const E={queryKey:e.queryKey,pageParam:S,direction:N?"backward":"forward",meta:e.options.meta};y(E);const A=yield b(E),{maxPages:C}=e.options,j=N?n7:t7;return{pages:j(T.pages,A,C),pageParams:j(T.pageParams,S,C)}});if(i&&o.length){const T=i==="backward",S=T?m7:Tj,N={pages:o,pageParams:s},E=S(r,N);a=yield _(N,E,T)}else{const T=t!=null?t:o.length;do{const S=l===0?(w=s[0])!=null?w:r.initialPageParam:Tj(r,a);if(l>0&&S==null)break;a=yield _(a,S),l++}while(l<T)}return a});e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Tj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function m7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var g7=(OU=class{constructor(t={}){qt(this,Rn);qt(this,pl);qt(this,ml);qt(this,Jd);qt(this,Zd);qt(this,gl);qt(this,ef);qt(this,tf);xt(this,Rn,t.queryCache||new d7),xt(this,pl,t.mutationCache||new p7),xt(this,ml,t.defaultOptions||{}),xt(this,Jd,new Map),xt(this,Zd,new Map),xt(this,gl,0)}mount(){H0(this,gl)._++,ue(this,gl)===1&&(xt(this,ef,xj.subscribe(t=>V(this,null,function*(){t&&(yield this.resumePausedMutations(),ue(this,Rn).onFocus())}))),xt(this,tf,jg.subscribe(t=>V(this,null,function*(){t&&(yield this.resumePausedMutations(),ue(this,Rn).onOnline())}))))}unmount(){var t,e;H0(this,gl)._--,ue(this,gl)===0&&((t=ue(this,ef))==null||t.call(this),xt(this,ef,void 0),(e=ue(this,tf))==null||e.call(this),xt(this,tf,void 0))}isFetching(t){return ue(this,Rn).findAll(F(D({},t),{fetchStatus:"fetching"})).length}isMutating(t){return ue(this,pl).findAll(F(D({},t),{status:"pending"})).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,Rn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ue(this,Rn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(fj(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ue(this,Rn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ue(this,Rn).get(r.queryHash),o=i==null?void 0:i.state.data,s=Yz(e,o);if(s!==void 0)return ue(this,Rn).build(this,r).setData(s,F(D({},n),{manual:!0}))}setQueriesData(t,e,n){return Wr.batch(()=>ue(this,Rn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,Rn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ue(this,Rn);Wr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ue(this,Rn),r=D({type:"active"},t);return Wr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n=D({revert:!0},e),r=Wr.batch(()=>ue(this,Rn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(t={},e={}){return Wr.batch(()=>{var r,i;if(ue(this,Rn).findAll(t).forEach(o=>{o.invalidate()}),t.refetchType==="none")return Promise.resolve();const n=F(D({},t),{type:(i=(r=t.refetchType)!=null?r:t.type)!=null?i:"active"});return this.refetchQueries(n,e)})}refetchQueries(t={},e){var i;const n=F(D({},e),{cancelRefetch:(i=e==null?void 0:e.cancelRefetch)!=null?i:!0}),r=Wr.batch(()=>ue(this,Rn).findAll(t).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(mo)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(mo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ue(this,Rn).build(this,e);return n.isStaleByTime(fj(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mo).catch(mo)}fetchInfiniteQuery(t){return t.behavior=Ej(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mo).catch(mo)}ensureInfiniteQueryData(t){return t.behavior=Ej(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jg.isOnline()?ue(this,pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,Rn)}getMutationCache(){return ue(this,pl)}getDefaultOptions(){return ue(this,ml)}setDefaultOptions(t){xt(this,ml,t)}setQueryDefaults(t,e){ue(this,Jd).set(Qf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ue(this,Jd).values()];let n={};return e.forEach(r=>{Jf(t,r.queryKey)&&(n=D(D({},n),r.defaultOptions))}),n}setMutationDefaults(t,e){ue(this,Zd).set(Qf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ue(this,Zd).values()];let n={};return e.forEach(r=>{Jf(t,r.mutationKey)&&(n=D(D({},n),r.defaultOptions))}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e=F(D(D(D({},ue(this,ml).queries),this.getQueryDefaults(t.queryKey)),t),{_defaulted:!0});return e.queryHash||(e.queryHash=a1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===c1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:F(D(D(D({},ue(this,ml).mutations),(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey)),t),{_defaulted:!0})}clear(){ue(this,Rn).clear(),ue(this,pl).clear()}},Rn=new WeakMap,pl=new WeakMap,ml=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,gl=new WeakMap,ef=new WeakMap,tf=new WeakMap,OU),y7=x.createContext(void 0),v7=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(y7.Provider,{value:t,children:e}));function x7(t){return V(this,null,function*(){if(!t.ok){const e=(yield t.text())||t.statusText;throw new Error(`${t.status}: ${e}`)}})}const b7=({on401:t})=>n=>V(this,[n],function*({queryKey:e}){const r=yield fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(yield x7(r),yield r.json())}),w7=new g7({defaultOptions:{queries:{queryFn:b7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),_7=1,S7=1e6;let d1=0;function E7(){return d1=(d1+1)%Number.MAX_SAFE_INTEGER,d1.toString()}const f1=new Map,Pj=t=>{if(f1.has(t))return;const e=setTimeout(()=>{f1.delete(t),Zf({type:"REMOVE_TOAST",toastId:t})},S7);f1.set(t,e)},T7=(t,e)=>{switch(e.type){case"ADD_TOAST":return F(D({},t),{toasts:[e.toast,...t.toasts].slice(0,_7)});case"UPDATE_TOAST":return F(D({},t),{toasts:t.toasts.map(n=>n.id===e.toast.id?D(D({},n),e.toast):n)});case"DISMISS_TOAST":{const{toastId:n}=e;return n?Pj(n):t.toasts.forEach(r=>{Pj(r.id)}),F(D({},t),{toasts:t.toasts.map(r=>r.id===n||n===void 0?F(D({},r),{open:!1}):r)})}case"REMOVE_TOAST":return e.toastId===void 0?F(D({},t),{toasts:[]}):F(D({},t),{toasts:t.toasts.filter(n=>n.id!==e.toastId)})}},Og=[];let Rg={toasts:[]};function Zf(t){Rg=T7(Rg,t),Og.forEach(e=>{e(Rg)})}function P7(e){var t=X(e,[]);const n=E7(),r=o=>Zf({type:"UPDATE_TOAST",toast:F(D({},o),{id:n})}),i=()=>Zf({type:"DISMISS_TOAST",toastId:n});return Zf({type:"ADD_TOAST",toast:F(D({},t),{id:n,open:!0,onOpenChange:o=>{o||i()}})}),{id:n,dismiss:i,update:r}}function fu(){const[t,e]=x.useState(Rg);return x.useEffect(()=>(Og.push(e),()=>{const n=Og.indexOf(e);n>-1&&Og.splice(n,1)}),[t]),F(D({},t),{toast:P7,dismiss:n=>Zf({type:"DISMISS_TOAST",toastId:n})})}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Aj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cj(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Aj(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Aj(t[i],null)}}}}function mt(...t){return x.useCallback(Cj(...t),t)}function A7(t,e){const n=x.createContext(e),r=o=>{const c=o,{children:s}=c,a=X(c,["children"]),l=x.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=x.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function hi(t,e=[]){let n=[];function r(o,s){const a=x.createContext(s),l=n.length;n=[...n,s];const c=f=>{var _;const b=f,{scope:h,children:m}=b,v=X(b,["scope","children"]),g=((_=h==null?void 0:h[t])==null?void 0:_[l])||a,y=x.useMemo(()=>v,Object.values(v));return u.jsx(g.Provider,{value:y,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=x.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return x.useMemo(()=>({[`__scope${t}`]:F(D({},a),{[t]:l})}),[a,l])}};return i.scopeName=t,[r,C7(i,...e)]}function C7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return D(D({},a),f)},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function hu(t){const e=I7(t),n=x.forwardRef((r,i)=>{const c=r,{children:o}=c,s=X(c,["children"]),a=x.Children.toArray(o),l=a.find(k7);if(l){const d=l.props.children,f=a.map(h=>h===l?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:h);return u.jsx(e,F(D({},s),{ref:i,children:x.isValidElement(d)?x.cloneElement(d,void 0,f):null}))}return u.jsx(e,F(D({},s),{ref:i,children:o}))});return n.displayName=`${t}.Slot`,n}var N7=hu("Slot");function I7(t){const e=x.forwardRef((n,r)=>{const s=n,{children:i}=s,o=X(s,["children"]);if(x.isValidElement(i)){const a=R7(i),l=O7(o,i.props);return i.type!==x.Fragment&&(l.ref=r?Cj(r,a):a),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nj=Symbol("radix.slottable");function j7(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Nj,e}function k7(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nj}function O7(t,e){const n=D({},e);for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]=D(D({},i),o):r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return D(D({},t),n)}function R7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eh(t){const e=t+"CollectionProvider",[n,r]=hi(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:b}=g,_=q.useRef(null),w=q.useRef(new Map).current;return u.jsx(i,{scope:y,itemMap:w,collectionRef:_,children:b})};s.displayName=e;const a=t+"CollectionSlot",l=hu(a),c=q.forwardRef((g,y)=>{const{scope:b,children:_}=g,w=o(a,b),T=mt(y,w.collectionRef);return u.jsx(l,{ref:T,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=hu(d),m=q.forwardRef((g,y)=>{const E=g,{scope:b,children:_}=E,w=X(E,["scope","children"]),T=q.useRef(null),S=mt(y,T),N=o(d,b);return q.useEffect(()=>(N.itemMap.set(T,D({ref:T},w)),()=>void N.itemMap.delete(T))),u.jsx(h,{[f]:"",ref:S,children:_})});m.displayName=d;function v(g){const y=o(t+"CollectionConsumer",g);return q.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,E)=>w.indexOf(N.ref.current)-w.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},v,r]}var M7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=M7.reduce((t,e)=>{const n=hu(`Primitive.${e}`),r=x.forwardRef((i,o)=>{const c=i,{asChild:s}=c,a=X(c,["asChild"]),l=s?n:e;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,F(D({},a),{ref:o}))});return r.displayName=`Primitive.${e}`,F(D({},t),{[e]:r})},{});function Ij(t,e){t&&Ul.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function D7(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $7="DismissableLayer",h1="dismissableLayer.update",L7="dismissableLayer.pointerDownOutside",F7="dismissableLayer.focusOutside",jj,kj=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),th=x.forwardRef((t,e)=>{var A;const E=t,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a}=E,l=X(E,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),c=x.useContext(kj),[d,f]=x.useState(null),h=(A=d==null?void 0:d.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,m]=x.useState({}),v=mt(e,C=>f(C)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),_=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,T=_>=b,S=B7(C=>{const j=C.target,I=[...c.branches].some(O=>O.contains(j));!T||I||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},h),N=U7(C=>{const j=C.target;[...c.branches].some(O=>O.contains(j))||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},h);return D7(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),x.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(jj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Rj(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jj)}},[d,h,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Rj())},[d,c]),x.useEffect(()=>{const C=()=>m({});return document.addEventListener(h1,C),()=>document.removeEventListener(h1,C)},[]),u.jsx(Ue.div,F(D({},l),{ref:v,style:D({pointerEvents:w?T?"auto":"none":void 0},t.style),onFocusCapture:Oe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,S.onPointerDownCapture)}))});th.displayName=$7;var V7="DismissableLayerBranch",Oj=x.forwardRef((t,e)=>{const n=x.useContext(kj),r=x.useRef(null),i=mt(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Ue.div,F(D({},t),{ref:i}))});Oj.displayName=V7;function B7(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Mj(L7,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function U7(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&Mj(F7,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rj(){const t=new CustomEvent(h1);document.dispatchEvent(t)}function Mj(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ij(i,o):i.dispatchEvent(o)}var z7=th,W7=Oj,lr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},H7="Portal",Mg=x.forwardRef((t,e)=>{var l;const a=t,{container:n}=a,r=X(a,["container"]),[i,o]=x.useState(!1);lr(()=>o(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?wz.createPortal(u.jsx(Ue.div,F(D({},r),{ref:e})),s):null});Mg.displayName=H7;function q7(t,e){return x.useReducer((n,r)=>{const i=e[n][r];return i!=null?i:n},t)}var Vi=t=>{const{present:e,children:n}=t,r=G7(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=mt(r.ref,K7(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};Vi.displayName="Presence";function G7(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),o=x.useRef("none"),s=t?"mounted":"unmounted",[a,l]=q7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Dg(r.current);o.current=a==="mounted"?c:"none"},[a]),lr(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=Dg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),lr(()=>{var c;if(e){let d;const f=(c=e.ownerDocument.defaultView)!=null?c:window,h=v=>{const y=Dg(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=v=>{v.target===e&&(o.current=Dg(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dg(t){return(t==null?void 0:t.animationName)||"none"}function K7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function go({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Y7({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Fn(n),l=x.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[o,t,i,a]);return[s,l]}function Y7({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),o=Fn(e);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var X7="VisuallyHidden",nh=x.forwardRef((t,e)=>u.jsx(Ue.span,F(D({},t),{ref:e,style:D({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},t.style)})));nh.displayName=X7;var Q7=nh,p1="ToastProvider",[m1,J7,Z7]=eh("Toast"),[Dj,INe]=hi("Toast",[Z7]),[eW,$g]=Dj(p1),$j=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=x.useState(null),[c,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${p1}\`. Expected non-empty \`string\`.`),u.jsx(m1.Provider,{scope:e,children:u.jsx(eW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};$j.displayName=p1;var Lj="ToastViewport",tW=["F8"],g1="toast.viewportPause",y1="toast.viewportResume",Fj=x.forwardRef((t,e)=>{const y=t,{__scopeToast:n,hotkey:r=tW,label:i="Notifications ({hotkey})"}=y,o=X(y,["__scopeToast","hotkey","label"]),s=$g(Lj,n),a=J7(n),l=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=mt(e,f,s.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;x.useEffect(()=>{const b=_=>{var T;r.length!==0&&r.every(S=>_[S]||_.code===S)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),x.useEffect(()=>{const b=l.current,_=f.current;if(v&&b&&_){const w=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(g1);_.dispatchEvent(E),s.isClosePausedRef.current=!0}},T=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(y1);_.dispatchEvent(E),s.isClosePausedRef.current=!1}},S=E=>{!b.contains(E.relatedTarget)&&T()},N=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",w),b.addEventListener("focusout",S),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[v,s.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:b})=>{const w=a().map(T=>{const S=T.ref.current,N=[S,...pW(S)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const b=f.current;if(b){const _=w=>{var N,E,A;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const C=document.activeElement,j=w.shiftKey;if(w.target===b&&j){(N=c.current)==null||N.focus();return}const R=g({tabbingDirection:j?"backwards":"forwards"}),H=R.findIndex(B=>B===C);b1(R.slice(H+1))?w.preventDefault():j?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,g]),u.jsxs(W7,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(v1,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});b1(b)}}),u.jsx(m1.Slot,{scope:n,children:u.jsx(Ue.ol,F(D({tabIndex:-1},o),{ref:h}))}),v&&u.jsx(v1,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});b1(b)}})]})});Fj.displayName=Lj;var Vj="ToastFocusProxy",v1=x.forwardRef((t,e)=>{const s=t,{__scopeToast:n,onFocusFromOutsideViewport:r}=s,i=X(s,["__scopeToast","onFocusFromOutsideViewport"]),o=$g(Vj,n);return u.jsx(nh,F(D({"aria-hidden":!0,tabIndex:0},i),{ref:e,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&r()}}))});v1.displayName=Vj;var Lg="Toast",nW="toast.swipeStart",rW="toast.swipeMove",iW="toast.swipeCancel",oW="toast.swipeEnd",Bj=x.forwardRef((t,e)=>{const c=t,{forceMount:n,open:r,defaultOpen:i,onOpenChange:o}=c,s=X(c,["forceMount","open","defaultOpen","onOpenChange"]),[a=!0,l]=go({prop:r,defaultProp:i,onChange:o});return u.jsx(Vi,{present:n||a,children:u.jsx(lW,F(D({open:a},s),{ref:e,onClose:()=>l(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:Oe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})}))})});Bj.displayName=Lg;var[sW,aW]=Dj(Lg,{onClose(){}}),lW=x.forwardRef((t,e)=>{const H=t,{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m}=H,v=X(H,["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"]),g=$g(Lg,n),[y,b]=x.useState(null),_=mt(e,B=>b(B)),w=x.useRef(null),T=x.useRef(null),S=i||g.duration,N=x.useRef(0),E=x.useRef(S),A=x.useRef(0),{onToastAdd:C,onToastRemove:j}=g,I=Fn(()=>{var W;(y==null?void 0:y.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),s()}),O=x.useCallback(B=>{!B||B===1/0||(window.clearTimeout(A.current),N.current=new Date().getTime(),A.current=window.setTimeout(I,B))},[I]);x.useEffect(()=>{const B=g.viewport;if(B){const W=()=>{O(E.current),c==null||c()},G=()=>{const U=new Date().getTime()-N.current;E.current=E.current-U,window.clearTimeout(A.current),l==null||l()};return B.addEventListener(g1,G),B.addEventListener(y1,W),()=>{B.removeEventListener(g1,G),B.removeEventListener(y1,W)}}},[g.viewport,S,l,c,O]),x.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(S)},[o,S,g.isClosePausedRef,O]),x.useEffect(()=>(C(),()=>j()),[C,j]);const R=x.useMemo(()=>y?Kj(y):null,[y]);return g.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(cW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(sW,{scope:n,onClose:I,children:Ul.createPortal(u.jsx(m1.ItemSlot,{scope:n,children:u.jsx(z7,{asChild:!0,onEscapeKeyDown:Oe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ue.li,F(D({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},v),{ref:_,style:D({userSelect:"none",touchAction:"none"},t.style),onKeyDown:Oe(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Oe(t.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:Oe(t.onPointerMove,B=>{if(!w.current)return;const W=B.clientX-w.current.x,G=B.clientY-w.current.y,U=!!T.current,z=["left","right"].includes(g.swipeDirection),Q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,J=z?Q(0,W):0,oe=z?0:Q(0,G),be=B.pointerType==="touch"?10:2,Me={x:J,y:oe},ze={originalEvent:B,delta:Me};U?(T.current=Me,Fg(rW,f,ze,{discrete:!1})):Yj(Me,g.swipeDirection,be)?(T.current=Me,Fg(nW,d,ze,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(W)>be||Math.abs(G)>be)&&(w.current=null)}),onPointerUp:Oe(t.onPointerUp,B=>{const W=T.current,G=B.target;if(G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),T.current=null,w.current=null,W){const U=B.currentTarget,z={originalEvent:B,delta:W};Yj(W,g.swipeDirection,g.swipeThreshold)?Fg(oW,m,z,{discrete:!0}):Fg(iW,h,z,{discrete:!0}),U.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})}))})}),g.viewport)})]}):null}),cW=t=>{const c=t,{__scopeToast:e,children:n}=c,r=X(c,["__scopeToast","children"]),i=$g(Lg,e),[o,s]=x.useState(!1),[a,l]=x.useState(!1);return fW(()=>s(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:u.jsx(Mg,{asChild:!0,children:u.jsx(nh,F(D({},r),{children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})}))})},uW="ToastTitle",Uj=x.forwardRef((t,e)=>{const i=t,{__scopeToast:n}=i,r=X(i,["__scopeToast"]);return u.jsx(Ue.div,F(D({},r),{ref:e}))});Uj.displayName=uW;var dW="ToastDescription",zj=x.forwardRef((t,e)=>{const i=t,{__scopeToast:n}=i,r=X(i,["__scopeToast"]);return u.jsx(Ue.div,F(D({},r),{ref:e}))});zj.displayName=dW;var Wj="ToastAction",Hj=x.forwardRef((t,e)=>{const i=t,{altText:n}=i,r=X(i,["altText"]);return n.trim()?u.jsx(Gj,{altText:n,asChild:!0,children:u.jsx(x1,F(D({},r),{ref:e}))}):(console.error(`Invalid prop \`altText\` supplied to \`${Wj}\`. Expected non-empty \`string\`.`),null)});Hj.displayName=Wj;var qj="ToastClose",x1=x.forwardRef((t,e)=>{const o=t,{__scopeToast:n}=o,r=X(o,["__scopeToast"]),i=aW(qj,n);return u.jsx(Gj,{asChild:!0,children:u.jsx(Ue.button,F(D({type:"button"},r),{ref:e,onClick:Oe(t.onClick,i.onClose)}))})});x1.displayName=qj;var Gj=x.forwardRef((t,e)=>{const o=t,{__scopeToast:n,altText:r}=o,i=X(o,["__scopeToast","altText"]);return u.jsx(Ue.div,F(D({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i),{ref:e}))});function Kj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...Kj(r))}}),e}function Fg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ij(i,o):i.dispatchEvent(o)}var Yj=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function fW(t=()=>{}){const e=Fn(t);lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hW(t){return t.nodeType===t.ELEMENT_NODE}function pW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function b1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mW=$j,Xj=Fj,Qj=Bj,Jj=Uj,Zj=zj,ek=Hj,tk=x1;function nk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nk(t))&&(r&&(r+=" "),r+=e);return r}const rk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ik=jt,Vg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ik(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=rk(d)||rk(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let v=d,{class:f,className:h}=v,m=X(v,["class","className"]);return Object.entries(m).every(g=>{let[y,b]=g;return Array.isArray(b)?b.includes(D(D({},o),a)[y]):D(D({},o),a)[y]===b})?[...c,f,h]:c},[]);return ik(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=x.forwardRef((c,l)=>{var d=c,{color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s}=d,a=X(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return x.createElement("svg",D(F(D({ref:l},yW),{width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ok("lucide",i)}),a),[...s.map(([f,h])=>x.createElement(f,h)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=x.forwardRef((s,o)=>{var a=s,{className:r}=a,i=X(a,["className"]);return x.createElement(vW,D({ref:o,iconNode:e,className:ok(`lucide-${gW(t)}`,r)},i))});return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=qe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=qe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=qe("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=qe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),P1="-",UW=t=>{const e=WW(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(P1);return a[0]===""&&a.length!==1&&a.shift(),pk(a,e)||zW(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},pk=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(P1);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},mk=/^\[(.+)\]$/,zW=t=>{if(mk.test(t)){const e=mk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WW=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qW(Object.entries(t.classGroups),n).forEach(([o,s])=>{A1(s,r,o,e)}),r},A1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:gk(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(HW(i)){A1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{A1(s,gk(e,o),n,r)})})},gk=(t,e)=>{let n=t;return e.split(P1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HW=t=>t.isThemeGetter,qW=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,GW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},yk="!",KW=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,d=0,f;for(let y=0;y<a.length;y++){let b=a[y];if(c===0){if(b===i&&(r||a.slice(y,y+o)===e)){l.push(a.slice(d,y)),d=y+o;continue}if(b==="/"){f=y;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(yk),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},YW=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},XW=t=>D({cache:GW(t.cacheSize),parseClassName:KW(t)},UW(t)),QW=/\s+/,JW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(QW);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=YW(d).join(":"),b=f?y+yk:y,_=b+g;if(o.includes(_))continue;o.push(_);const w=i(g,v);for(let T=0;T<w.length;++T){const S=w[T];o.push(b+S)}a=c+(a.length>0?" "+a:a)}return a};function ZW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vk(e))&&(r&&(r+=" "),r+=n);return r}const vk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vk(t[r]))&&(n&&(n+=" "),n+=e);return n};function eH(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=XW(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=JW(l,n);return i(l,d),d}return function(){return o(ZW.apply(null,arguments))}}const hn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xk=/^\[(?:([a-z-]+):)?(.+)\]$/i,tH=/^\d+\/\d+$/,nH=new Set(["px","full","screen"]),rH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=t=>mu(t)||nH.has(t)||tH.test(t),ka=t=>gu(t,"length",mH),mu=t=>!!t&&!Number.isNaN(Number(t)),C1=t=>gu(t,"number",mu),dh=t=>!!t&&Number.isInteger(Number(t)),lH=t=>t.endsWith("%")&&mu(t.slice(0,-1)),ht=t=>xk.test(t),Oa=t=>rH.test(t),cH=new Set(["length","size","percentage"]),uH=t=>gu(t,cH,bk),dH=t=>gu(t,"position",bk),fH=new Set(["image","url"]),hH=t=>gu(t,fH,yH),pH=t=>gu(t,"",gH),fh=()=>!0,gu=(t,e,n)=>{const r=xk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},mH=t=>iH.test(t)&&!oH.test(t),bk=()=>!1,gH=t=>sH.test(t),yH=t=>aH.test(t),vH=eH(()=>{const t=hn("colors"),e=hn("spacing"),n=hn("blur"),r=hn("brightness"),i=hn("borderColor"),o=hn("borderRadius"),s=hn("borderSpacing"),a=hn("borderWidth"),l=hn("contrast"),c=hn("grayscale"),d=hn("hueRotate"),f=hn("invert"),h=hn("gap"),m=hn("gradientColorStops"),v=hn("gradientColorStopPositions"),g=hn("inset"),y=hn("margin"),b=hn("opacity"),_=hn("padding"),w=hn("saturate"),T=hn("scale"),S=hn("sepia"),N=hn("skew"),E=hn("space"),A=hn("translate"),C=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ht,e],O=()=>[ht,e],R=()=>["",Rs,ka],H=()=>["auto",mu,ht],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ht],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[mu,ht];return{cacheSize:500,separator:":",theme:{colors:[fh],spacing:[Rs,ka],blur:["none","",Oa,ht],brightness:J(),borderColor:[t],borderRadius:["none","","full",Oa,ht],borderSpacing:O(),borderWidth:R(),contrast:J(),grayscale:z(),hueRotate:J(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[lH,ka],inset:I(),margin:I(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:z(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[Oa]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ht]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dh,ht]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",dh,ht]}],"grid-cols":[{"grid-cols":[fh]}],"col-start-end":[{col:["auto",{span:["full",dh,ht]},ht]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[fh]}],"row-start-end":[{row:["auto",{span:[dh,ht]},ht]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[Oa]},Oa]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oa,ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",C1]}],"font-family":[{font:[fh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",mu,C1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,ka]}],"underline-offset":[{"underline-offset":["auto",Rs,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),dH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Rs,ht]}],"outline-w":[{outline:[Rs,ka]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Rs,ka]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Oa,pH]}],"shadow-color":[{shadow:[fh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Oa,ht]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[dh,ht]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rs,ka,C1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function ft(...t){return vH(jt(t))}const xH=mW,wk=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(Xj,D({ref:n,className:ft("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t)},e))});wk.displayName=Xj.displayName;const bH=Vg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_k=x.forwardRef((i,r)=>{var o=i,{className:t,variant:e}=o,n=X(o,["className","variant"]);return u.jsx(Qj,D({ref:r,className:ft(bH({variant:e}),t)},n))});_k.displayName=Qj.displayName;const wH=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(ek,D({ref:n,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t)},e))});wH.displayName=ek.displayName;const Sk=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(tk,F(D({ref:n,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":""},e),{children:u.jsx(uh,{className:"h-4 w-4"})}))});Sk.displayName=tk.displayName;const Ek=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(Jj,D({ref:n,className:ft("text-sm font-semibold",t)},e))});Ek.displayName=Jj.displayName;const Tk=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(Zj,D({ref:n,className:ft("text-sm opacity-90",t)},e))});Tk.displayName=Zj.displayName;function _H(){const{toasts:t}=fu();return u.jsxs(xH,{children:[t.map(function(s){var a=s,{id:e,title:n,description:r,action:i}=a,o=X(a,["id","title","description","action"]);return u.jsxs(_k,F(D({},o),{children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Ek,{children:n}),r&&u.jsx(Tk,{children:r})]}),i,u.jsx(Sk,{})]}),e)}),u.jsx(wk,{})]})}var SH=FA[" useId ".trim().toString()]||(()=>{}),EH=0;function Uo(t){const[e,n]=x.useState(SH());return lr(()=>{n(r=>r!=null?r:String(EH++))},[t]),e?`radix-${e}`:""}const TH=["top","right","bottom","left"],Ra=Math.min,pi=Math.max,qg=Math.round,Gg=Math.floor,zo=t=>({x:t,y:t}),PH={left:"right",right:"left",bottom:"top",top:"bottom"},AH={start:"end",end:"start"};function N1(t,e,n){return pi(t,Ra(e,n))}function Ms(t,e){return typeof t=="function"?t(e):t}function Ds(t){return t.split("-")[0]}function yu(t){return t.split("-")[1]}function I1(t){return t==="x"?"y":"x"}function j1(t){return t==="y"?"height":"width"}function Ma(t){return["top","bottom"].includes(Ds(t))?"y":"x"}function k1(t){return I1(Ma(t))}function CH(t,e,n){n===void 0&&(n=!1);const r=yu(t),i=k1(t),o=j1(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Kg(s)),[s,Kg(s)]}function NH(t){const e=Kg(t);return[O1(t),e,O1(e)]}function O1(t){return t.replace(/start|end/g,e=>AH[e])}function IH(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function jH(t,e,n,r){const i=yu(t);let o=IH(Ds(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(O1)))),o}function Kg(t){return t.replace(/left|right|bottom|top/g,e=>PH[e])}function kH(t){return D({top:0,right:0,bottom:0,left:0},t)}function Pk(t){return typeof t!="number"?kH(t):{top:t,right:t,bottom:t,left:t}}function Yg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ak(t,e,n){let{reference:r,floating:i}=t;const o=Ma(e),s=k1(e),a=j1(s),l=Ds(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(yu(e)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const OH=(t,e,n)=>V(this,null,function*(){const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=yield s.isRTL==null?void 0:s.isRTL(e);let c=yield s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Ak(c,r,l),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x:_,y:w,data:T,reset:S}=yield b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});d=_!=null?_:d,f=w!=null?w:f,m=F(D({},m),{[y]:D(D({},m[y]),T)}),S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?yield s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:f}=Ak(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}});function hh(t,e){return V(this,null,function*(){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ms(e,t),v=Pk(m),y=a[h?f==="floating"?"reference":"floating":f],b=Yg(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(y))==null||n?y:y.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=yield o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating),T=(yield o.isElement==null?void 0:o.isElement(w))?(yield o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Yg(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(b.top-S.top+v.top)/T.y,bottom:(S.bottom-b.bottom+v.bottom)/T.y,left:(b.left-S.left+v.left)/T.x,right:(S.right-b.right+v.right)/T.x}})}const RH=t=>({name:"arrow",options:t,fn(n){return V(this,null,function*(){const{x:r,y:i,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=n,{element:d,padding:f=0}=Ms(t,n)||{};if(d==null)return{};const h=Pk(f),m={x:r,y:i},v=k1(o),g=j1(v),y=yield a.getDimensions(d),b=v==="y",_=b?"top":"left",w=b?"bottom":"right",T=b?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[v]-m[v]-s.floating[g],N=m[v]-s.reference[v],E=yield a.getOffsetParent==null?void 0:a.getOffsetParent(d);let A=E?E[T]:0;(!A||!(yield a.isElement==null?void 0:a.isElement(E)))&&(A=l.floating[T]||s.floating[g]);const C=S/2-N/2,j=A/2-y[g]/2-1,I=Ra(h[_],j),O=Ra(h[w],j),R=I,H=A-y[g]-O,B=A/2-y[g]/2+C,W=N1(R,B,H),G=!c.arrow&&yu(o)!=null&&B!==W&&s.reference[g]/2-(B<R?I:O)-y[g]/2<0,U=G?B<R?B-R:B-H:0;return{[v]:m[v]+U,data:D({[v]:W,centerOffset:B-W-U},G&&{alignmentOffset:U}),reset:G}})}}),MH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn(n){return V(this,null,function*(){var r,i;const{placement:o,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=n,B=Ms(t,n),{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0}=B,b=X(B,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=Ds(o),w=Ma(l),T=Ds(l)===l,S=yield c.isRTL==null?void 0:c.isRTL(d.floating),N=m||(T||!y?[Kg(l)]:NH(l)),E=g!=="none";!m&&E&&N.push(...jH(l,y,g,S));const A=[l,...N],C=yield hh(n,b),j=[];let I=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&j.push(C[_]),h){const W=CH(o,a,S);j.push(C[W[0]],C[W[1]])}if(I=[...I,{placement:o,overflows:j}],!j.every(W=>W<=0)){var O,R;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,G=A[W];if(G)return{data:{index:W,overflows:I},reset:{placement:G}};let U=(R=I.filter(z=>z.overflows[0]<=0).sort((z,Q)=>z.overflows[1]-Q.overflows[1])[0])==null?void 0:R.placement;if(!U)switch(v){case"bestFit":{var H;const z=(H=I.filter(Q=>{if(E){const J=Ma(Q.placement);return J===w||J==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(J=>J>0).reduce((J,oe)=>J+oe,0)]).sort((Q,J)=>Q[1]-J[1])[0])==null?void 0:H[0];z&&(U=z);break}case"initialPlacement":U=l;break}if(o!==U)return{reset:{placement:U}}}return{}})}}};function Ck(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Nk(t){return TH.some(e=>t[e]>=0)}const DH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,fn(n){return V(this,null,function*(){const{rects:r}=n,s=Ms(t,n),{strategy:i="referenceHidden"}=s,o=X(s,["strategy"]);switch(i){case"referenceHidden":{const a=yield hh(n,F(D({},o),{elementContext:"reference"})),l=Ck(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Nk(l)}}}case"escaped":{const a=yield hh(n,F(D({},o),{altBoundary:!0})),l=Ck(a,r.floating);return{data:{escapedOffsets:l,escaped:Nk(l)}}}default:return{}}})}}};function $H(t,e){return V(this,null,function*(){const{placement:n,platform:r,elements:i}=t,o=yield r.isRTL==null?void 0:r.isRTL(i.floating),s=Ds(n),a=yu(n),l=Ma(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,f=Ms(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}})}const LH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(n){return V(this,null,function*(){var r,i;const{x:o,y:s,placement:a,middlewareData:l}=n,c=yield $H(n,t);return a===((r=l.offset)==null?void 0:r.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:F(D({},c),{placement:a})}})}}},FH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn(n){return V(this,null,function*(){const{x:r,y:i,placement:o}=n,b=Ms(t,n),{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:w,y:T}=_;return{x:w,y:T}}}}=b,c=X(b,["mainAxis","crossAxis","limiter"]),d={x:r,y:i},f=yield hh(n,c),h=Ma(Ds(o)),m=I1(h);let v=d[m],g=d[h];if(s){const _=m==="y"?"top":"left",w=m==="y"?"bottom":"right",T=v+f[_],S=v-f[w];v=N1(T,v,S)}if(a){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",T=g+f[_],S=g-f[w];g=N1(T,g,S)}const y=l.fn(F(D({},n),{[m]:v,[h]:g}));return F(D({},y),{data:{x:y.x-r,y:y.y-i,enabled:{[m]:s,[h]:a}}})})}}},VH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ms(t,e),d={x:n,y:r},f=Ma(i),h=I1(f);let m=d[h],v=d[f];const g=Ms(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:D({mainAxis:0,crossAxis:0},g);if(l){const w=h==="y"?"height":"width",T=o.reference[h]-o.floating[w]+y.mainAxis,S=o.reference[h]+o.reference[w]-y.mainAxis;m<T?m=T:m>S&&(m=S)}if(c){var b,_;const w=h==="y"?"width":"height",T=["top","left"].includes(Ds(i)),S=o.reference[f]-o.floating[w]+(T&&((b=s.offset)==null?void 0:b[f])||0)+(T?0:y.crossAxis),N=o.reference[f]+o.reference[w]+(T?0:((_=s.offset)==null?void 0:_[f])||0)-(T?y.crossAxis:0);v<S?v=S:v>N&&(v=N)}return{[h]:m,[f]:v}}}},BH=function(t){return t===void 0&&(t={}),{name:"size",options:t,fn(n){return V(this,null,function*(){var r,i;const{placement:o,rects:s,platform:a,elements:l}=n,I=Ms(t,n),{apply:c=()=>{}}=I,d=X(I,["apply"]),f=yield hh(n,d),h=Ds(o),m=yu(o),v=Ma(o)==="y",{width:g,height:y}=s.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=m===((yield a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(_=h,b=m==="end"?"top":"bottom");const w=y-f.top-f.bottom,T=g-f.left-f.right,S=Ra(y-f[b],w),N=Ra(g-f[_],T),E=!n.middlewareData.shift;let A=S,C=N;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(C=T),(i=n.middlewareData.shift)!=null&&i.enabled.y&&(A=w),E&&!m){const O=pi(f.left,0),R=pi(f.right,0),H=pi(f.top,0),B=pi(f.bottom,0);v?C=g-2*(O!==0||R!==0?O+R:pi(f.left,f.right)):A=y-2*(H!==0||B!==0?H+B:pi(f.top,f.bottom))}yield c(F(D({},n),{availableWidth:C,availableHeight:A}));const j=yield a.getDimensions(l.floating);return g!==j.width||y!==j.height?{reset:{rects:!0}}:{}})}}};function Xg(){return typeof window!="undefined"}function vu(t){return Ik(t)?(t.nodeName||"").toLowerCase():"#document"}function mi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wo(t){var e;return(e=(Ik(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ik(t){return Xg()?t instanceof Node||t instanceof mi(t).Node:!1}function yo(t){return Xg()?t instanceof Element||t instanceof mi(t).Element:!1}function Ho(t){return Xg()?t instanceof HTMLElement||t instanceof mi(t).HTMLElement:!1}function jk(t){return!Xg()||typeof ShadowRoot=="undefined"?!1:t instanceof ShadowRoot||t instanceof mi(t).ShadowRoot}function ph(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function UH(t){return["table","td","th"].includes(vu(t))}function Qg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(n){return!1}})}function R1(t){const e=M1(),n=yo(t)?vo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zH(t){let e=Da(t);for(;Ho(e)&&!xu(e);){if(R1(e))return e;if(Qg(e))return null;e=Da(e)}return null}function M1(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xu(t){return["html","body","#document"].includes(vu(t))}function vo(t){return mi(t).getComputedStyle(t)}function Jg(t){return yo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Da(t){if(vu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jk(t)&&t.host||Wo(t);return jk(e)?e.host:e}function kk(t){const e=Da(t);return xu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ho(e)&&ph(e)?e:kk(e)}function mh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kk(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=mi(i);if(o){const a=D1(s);return e.concat(s,s.visualViewport||[],ph(i)?i:[],a&&n?mh(a):[])}return e.concat(i,mh(i,[],n))}function D1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ok(t){const e=vo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ho(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=qg(n)!==o||qg(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function $1(t){return yo(t)?t:t.contextElement}function bu(t){const e=$1(t);if(!Ho(e))return zo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Ok(e);let s=(o?qg(n.width):n.width)/r,a=(o?qg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const WH=zo(0);function Rk(t){const e=mi(t);return!M1()||!e.visualViewport?WH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mi(t)?!1:e}function zl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=$1(t);let s=zo(1);e&&(r?yo(r)&&(s=bu(r)):s=bu(t));const a=HH(o,n,r)?Rk(o):zo(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const h=mi(o),m=r&&yo(r)?mi(r):r;let v=h,g=D1(v);for(;g&&r&&m!==v;){const y=bu(g),b=g.getBoundingClientRect(),_=vo(g),w=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,T=b.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,f*=y.y,l+=w,c+=T,v=mi(g),g=D1(v)}}return Yg({width:d,height:f,x:l,y:c})}function L1(t,e){const n=Jg(t).scrollLeft;return e?e.left+n:zl(Wo(t)).left+n}function Mk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:L1(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function qH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Wo(r),a=e?Qg(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=zo(1);const d=zo(0),f=Ho(r);if((f||!f&&!o)&&((vu(r)!=="body"||ph(s))&&(l=Jg(r)),Ho(r))){const m=zl(r);c=bu(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?Mk(s,l,!0):zo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function GH(t){return Array.from(t.getClientRects())}function KH(t){const e=Wo(t),n=Jg(t),r=t.ownerDocument.body,i=pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+L1(t);const a=-n.scrollTop;return vo(r).direction==="rtl"&&(s+=pi(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function YH(t,e){const n=mi(t),r=Wo(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=M1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function XH(t,e){const n=zl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Ho(t)?bu(t):zo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function Dk(t,e,n){let r;if(e==="viewport")r=YH(t,n);else if(e==="document")r=KH(Wo(t));else if(yo(e))r=XH(e,n);else{const i=Rk(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yg(r)}function $k(t,e){const n=Da(t);return n===e||!yo(n)||xu(n)?!1:vo(n).position==="fixed"||$k(n,e)}function QH(t,e){const n=e.get(t);if(n)return n;let r=mh(t,[],!1).filter(a=>yo(a)&&vu(a)!=="body"),i=null;const o=vo(t).position==="fixed";let s=o?Da(t):t;for(;yo(s)&&!xu(s);){const a=vo(s),l=R1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ph(s)&&!l&&$k(t,s))?r=r.filter(d=>d!==s):i=a,s=Da(s)}return e.set(t,r),r}function JH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Qg(e)?[]:QH(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,d)=>{const f=Dk(e,d,i);return c.top=pi(f.top,c.top),c.right=Ra(f.right,c.right),c.bottom=Ra(f.bottom,c.bottom),c.left=pi(f.left,c.left),c},Dk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZH(t){const{width:e,height:n}=Ok(t);return{width:e,height:n}}function eq(t,e,n){const r=Ho(e),i=Wo(e),o=n==="fixed",s=zl(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=zo(0);if(r||!r&&!o)if((vu(e)!=="body"||ph(i))&&(a=Jg(e)),r){const h=zl(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=L1(i));const c=i&&!r&&!o?Mk(i,a):zo(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function F1(t){return vo(t).position==="static"}function Lk(t,e){if(!Ho(t)||vo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wo(t)===n&&(n=n.ownerDocument.body),n}function Fk(t,e){const n=mi(t);if(Qg(t))return n;if(!Ho(t)){let i=Da(t);for(;i&&!xu(i);){if(yo(i)&&!F1(i))return i;i=Da(i)}return n}let r=Lk(t,e);for(;r&&UH(r)&&F1(r);)r=Lk(r,e);return r&&xu(r)&&F1(r)&&!R1(r)?n:r||zH(t)||n}const tq=function(t){return V(this,null,function*(){const e=this.getOffsetParent||Fk,n=this.getDimensions,r=yield n(t.floating);return{reference:eq(t.reference,yield e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function nq(t){return vo(t).direction==="rtl"}const rq={convertOffsetParentRelativeRectToViewportRelativeRect:qH,getDocumentElement:Wo,getClippingRect:JH,getOffsetParent:Fk,getElementRects:tq,getClientRects:GH,getDimensions:ZH,getScale:bu,isElement:yo,isRTL:nq};function Vk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function iq(t,e){let n=null,r;const i=Wo(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||e(),!h||!m)return;const v=Gg(f),g=Gg(i.clientWidth-(d+h)),y=Gg(i.clientHeight-(f+m)),b=Gg(d),w={rootMargin:-v+"px "+-g+"px "+-y+"px "+-b+"px",threshold:pi(0,Ra(1,l))||1};let T=!0;function S(N){const E=N[0].intersectionRatio;if(E!==l){if(!T)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!Vk(c,t.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(S,F(D({},w),{root:i.ownerDocument}))}catch(N){n=new IntersectionObserver(S,w)}n.observe(t)}return s(!0),o}function oq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$1(t),d=i||o?[...c?mh(c):[],...mh(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=c&&a?iq(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?zl(t):null;l&&y();function y(){const b=zl(t);g&&!Vk(g,b)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const sq=LH,aq=FH,lq=MH,cq=BH,uq=DH,Bk=RH,dq=VH,fq=(t,e,n)=>{const r=new Map,i=D({platform:rq},n),o=F(D({},i.platform),{_c:r});return OH(t,e,F(D({},i),{platform:o}))};var Zg=typeof document!="undefined"?x.useLayoutEffect:x.useEffect;function ey(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ey(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!ey(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Uk(t){return typeof window=="undefined"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zk(t,e){const n=Uk(t);return Math.round(e*n)/n}function V1(t){const e=x.useRef(t);return Zg(()=>{e.current=t}),e}function hq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(r);ey(h,r)||m(r);const[v,g]=x.useState(null),[y,b]=x.useState(null),_=x.useCallback(U=>{U!==N.current&&(N.current=U,g(U))},[]),w=x.useCallback(U=>{U!==E.current&&(E.current=U,b(U))},[]),T=o||v,S=s||y,N=x.useRef(null),E=x.useRef(null),A=x.useRef(d),C=l!=null,j=V1(l),I=V1(i),O=V1(c),R=x.useCallback(()=>{if(!N.current||!E.current)return;const U={placement:e,strategy:n,middleware:h};I.current&&(U.platform=I.current),fq(N.current,E.current,U).then(z=>{const Q=F(D({},z),{isPositioned:O.current!==!1});H.current&&!ey(A.current,Q)&&(A.current=Q,Ul.flushSync(()=>{f(Q)}))})},[h,e,n,I,O]);Zg(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(U=>F(D({},U),{isPositioned:!1})))},[c]);const H=x.useRef(!1);Zg(()=>(H.current=!0,()=>{H.current=!1}),[]),Zg(()=>{if(T&&(N.current=T),S&&(E.current=S),T&&S){if(j.current)return j.current(T,S,R);R()}},[T,S,R,j,C]);const B=x.useMemo(()=>({reference:N,floating:E,setReference:_,setFloating:w}),[_,w]),W=x.useMemo(()=>({reference:T,floating:S}),[T,S]),G=x.useMemo(()=>{const U={position:n,left:0,top:0};if(!W.floating)return U;const z=zk(W.floating,d.x),Q=zk(W.floating,d.y);return a?D(F(D({},U),{transform:"translate("+z+"px, "+Q+"px)"}),Uk(W.floating)>=1.5&&{willChange:"transform"}):{position:n,left:z,top:Q}},[n,a,W.floating,d.x,d.y]);return x.useMemo(()=>F(D({},d),{update:R,refs:B,elements:W,floatingStyles:G}),[d,R,B,W,G])}const pq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Bk({element:r.current,padding:i}).fn(n):{}:r?Bk({element:r,padding:i}).fn(n):{}}}},mq=(t,e)=>F(D({},sq(t)),{options:[t,e]}),gq=(t,e)=>F(D({},aq(t)),{options:[t,e]}),yq=(t,e)=>F(D({},dq(t)),{options:[t,e]}),vq=(t,e)=>F(D({},lq(t)),{options:[t,e]}),xq=(t,e)=>F(D({},cq(t)),{options:[t,e]}),bq=(t,e)=>F(D({},uq(t)),{options:[t,e]}),wq=(t,e)=>F(D({},pq(t)),{options:[t,e]});var _q="Arrow",Wk=x.forwardRef((t,e)=>{const s=t,{children:n,width:r=10,height:i=5}=s,o=X(s,["children","width","height"]);return u.jsx(Ue.svg,F(D({},o),{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Wk.displayName=_q;var Sq=Wk;function B1(t){const[e,n]=x.useState(void 0);return lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var U1="Popper",[Hk,ty]=hi(U1),[Eq,qk]=Hk(U1),Gk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return u.jsx(Eq,{scope:e,anchor:r,onAnchorChange:i,children:n})};Gk.displayName=U1;var Kk="PopperAnchor",Yk=x.forwardRef((t,e)=>{const l=t,{__scopePopper:n,virtualRef:r}=l,i=X(l,["__scopePopper","virtualRef"]),o=qk(Kk,n),s=x.useRef(null),a=mt(e,s);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Ue.div,F(D({},i),{ref:a}))});Yk.displayName=Kk;var z1="PopperContent",[Tq,Pq]=Hk(z1),Xk=x.forwardRef((t,e)=>{var me,re,Se,xe,ee,ve,De,ot;const Xe=t,{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v}=Xe,g=X(Xe,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),y=qk(z1,n),[b,_]=x.useState(null),w=mt(e,st=>_(st)),[T,S]=x.useState(null),N=B1(T),E=(me=N==null?void 0:N.width)!=null?me:0,A=(re=N==null?void 0:N.height)!=null?re:0,C=r+(o!=="center"?"-"+o:""),j=typeof d=="number"?d:D({top:0,right:0,bottom:0,left:0},d),I=Array.isArray(c)?c:[c],O=I.length>0,R={padding:j,boundary:I.filter(Cq),altBoundary:O},{refs:H,floatingStyles:B,placement:W,isPositioned:G,middlewareData:U}=hq({strategy:"fixed",placement:C,whileElementsMounted:(...st)=>oq(...st,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[mq({mainAxis:i+A,alignmentAxis:s}),l&&gq(D({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yq():void 0},R)),l&&vq(D({},R)),xq(F(D({},R),{apply:({elements:st,rects:Lt,availableWidth:Ft,availableHeight:wt})=>{const{width:kt,height:_n}=Lt.reference,je=st.floating.style;je.setProperty("--radix-popper-available-width",`${Ft}px`),je.setProperty("--radix-popper-available-height",`${wt}px`),je.setProperty("--radix-popper-anchor-width",`${kt}px`),je.setProperty("--radix-popper-anchor-height",`${_n}px`)}})),T&&wq({element:T,padding:a}),Nq({arrowWidth:E,arrowHeight:A}),h&&bq(D({strategy:"referenceHidden"},R))]}),[z,Q]=Zk(W),J=Fn(v);lr(()=>{G&&(J==null||J())},[G,J]);const oe=(Se=U.arrow)==null?void 0:Se.x,be=(xe=U.arrow)==null?void 0:xe.y,Me=((ee=U.arrow)==null?void 0:ee.centerOffset)!==0,[ze,it]=x.useState();return lr(()=>{b&&it(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:D(F(D({},B),{transform:G?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(ve=U.transformOrigin)==null?void 0:ve.x,(De=U.transformOrigin)==null?void 0:De.y].join(" ")}),((ot=U.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:t.dir,children:u.jsx(Tq,{scope:n,placedSide:z,onArrowChange:S,arrowX:oe,arrowY:be,shouldHideArrow:Me,children:u.jsx(Ue.div,F(D({"data-side":z,"data-align":Q},g),{ref:w,style:F(D({},g.style),{animation:G?void 0:"none"})}))})})});Xk.displayName=z1;var Qk="PopperArrow",Aq={top:"bottom",right:"left",bottom:"top",left:"right"},Jk=x.forwardRef(function(e,n){const a=e,{__scopePopper:r}=a,i=X(a,["__scopePopper"]),o=Pq(Qk,r),s=Aq[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(Sq,F(D({},i),{ref:n,style:F(D({},i.style),{display:"block"})}))})});Jk.displayName=Qk;function Cq(t){return t!==null}var Nq=t=>({name:"transformOrigin",options:t,fn(e){var y,b,_,w,T;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=Zk(n),f={start:"0%",center:"50%",end:"100%"}[d],h=((_=(b=i.arrow)==null?void 0:b.x)!=null?_:0)+a/2,m=((T=(w=i.arrow)==null?void 0:w.y)!=null?T:0)+l/2;let v="",g="";return c==="bottom"?(v=s?f:`${h}px`,g=`${-l}px`):c==="top"?(v=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=s?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:v,y:g}}}});function Zk(t){const[e,n="center"]=t.split("-");return[e,n]}var Iq=Gk,e2=Yk,t2=Xk,n2=Jk,[ny,kNe]=hi("Tooltip",[ty]),W1=ty(),r2="TooltipProvider",jq=700,i2="tooltip.open",[kq,o2]=ny(r2),s2=t=>{const{__scopeTooltip:e,delayDuration:n=jq,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(kq,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};s2.displayName=r2;var a2="Tooltip",[ONe,ry]=ny(a2),H1="TooltipTrigger",Oq=x.forwardRef((t,e)=>{const h=t,{__scopeTooltip:n}=h,r=X(h,["__scopeTooltip"]),i=ry(H1,n),o=o2(H1,n),s=W1(n),a=x.useRef(null),l=mt(e,a,i.onTriggerChange),c=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(e2,F(D({asChild:!0},s),{children:u.jsx(Ue.button,F(D({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r),{ref:l,onPointerMove:Oe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Oe(t.onBlur,i.onClose),onClick:Oe(t.onClick,i.onClose)}))}))});Oq.displayName=H1;var Rq="TooltipPortal",[RNe,Mq]=ny(Rq,{forceMount:void 0}),wu="TooltipContent",l2=x.forwardRef((t,e)=>{const n=Mq(wu,t.__scopeTooltip),a=t,{forceMount:r=n.forceMount,side:i="top"}=a,o=X(a,["forceMount","side"]),s=ry(wu,t.__scopeTooltip);return u.jsx(Vi,{present:r||s.open,children:s.disableHoverableContent?u.jsx(c2,F(D({side:i},o),{ref:e})):u.jsx(Dq,F(D({side:i},o),{ref:e}))})}),Dq=x.forwardRef((t,e)=>{const n=ry(wu,t.__scopeTooltip),r=o2(wu,t.__scopeTooltip),i=x.useRef(null),o=mt(e,i),[s,a]=x.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{a(null),f(!1)},[f]),m=x.useCallback((v,g)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},_=Bq(b,y.getBoundingClientRect()),w=Uq(b,_),T=zq(g.getBoundingClientRect()),S=Hq([...w,...T]);a(S),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){const v=y=>m(y,d),g=y=>m(y,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),x.useEffect(()=>{if(s){const v=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),w=!Wq(b,s);_?h():w&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,c,h]),u.jsx(c2,F(D({},t),{ref:o}))}),[$q,Lq]=ny(a2,{isInside:!1}),Fq=j7("TooltipContent"),c2=x.forwardRef((t,e)=>{const f=t,{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s}=f,a=X(f,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),l=ry(wu,n),c=W1(n),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(i2,d),()=>document.removeEventListener(i2,d)),[d]),x.useEffect(()=>{if(l.trigger){const h=m=>{const v=m.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(th,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(t2,F(D(D({"data-state":l.stateAttribute},c),a),{ref:e,style:F(D({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[u.jsx(Fq,{children:r}),u.jsx($q,{scope:n,isInside:!0,children:u.jsx(Q7,{id:l.contentId,role:"tooltip",children:i||r})})]}))})});l2.displayName=wu;var u2="TooltipArrow",Vq=x.forwardRef((t,e)=>{const s=t,{__scopeTooltip:n}=s,r=X(s,["__scopeTooltip"]),i=W1(n);return Lq(u2,n).isInside?null:u.jsx(n2,F(D(D({},i),r),{ref:e}))});Vq.displayName=u2;function Bq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Uq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zq(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Wq(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function Hq(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qq(e)}function qq(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Gq=s2,d2=l2;const Kq=Gq,Yq=x.forwardRef((i,r)=>{var o=i,{className:t,sideOffset:e=4}=o,n=X(o,["className","sideOffset"]);return u.jsx(d2,D({ref:r,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t)},n))});Yq.displayName=d2.displayName;const iy=[{id:"promethean",name:"Promethean Red",primary:"0 84% 42%",primaryLight:"0 84% 45%"},{id:"ocean",name:"Ocean Blue",primary:"210 84% 42%",primaryLight:"210 84% 50%"},{id:"forest",name:"Forest Green",primary:"140 70% 35%",primaryLight:"140 70% 42%"},{id:"amethyst",name:"Amethyst Purple",primary:"270 70% 45%",primaryLight:"270 70% 52%"},{id:"sunset",name:"Sunset Orange",primary:"25 95% 50%",primaryLight:"25 95% 55%"},{id:"gold",name:"Classic Gold",primary:"45 90% 45%",primaryLight:"45 90% 52%"},{id:"teal",name:"Teal",primary:"175 70% 40%",primaryLight:"175 70% 48%"},{id:"rose",name:"Rose Pink",primary:"340 75% 55%",primaryLight:"340 75% 62%"}],f2=x.createContext(void 0);function Xq({children:t}){const[e,n]=x.useState(()=>localStorage.getItem("cuemaster-theme")||"dark"),[r,i]=x.useState(()=>{const a=localStorage.getItem("cuemaster-color-theme");return a&&iy.find(c=>c.id===a)||iy[0]});x.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("cuemaster-theme",e)},[e]),x.useEffect(()=>{const a=document.documentElement,l=r.primary,c=r.primaryLight;a.style.setProperty("--primary",l),a.style.setProperty("--ring",l),a.style.setProperty("--sidebar-primary",e==="dark"?c:l),a.style.setProperty("--sidebar-ring",e==="dark"?c:l);const[d]=l.split(" "),f=parseFloat(d);e==="dark"?(a.style.setProperty("--sidebar-accent",`${f} 5% 15%`),a.style.setProperty("--accent",`${f} 6% 13%`)):(a.style.setProperty("--sidebar-accent",`${f} 5% 90%`),a.style.setProperty("--accent",`${f} 6% 92%`)),localStorage.setItem("cuemaster-color-theme",r.id)},[r,e]);const o=()=>{n(a=>a==="light"?"dark":"light")},s=a=>{i(a)};return u.jsx(f2.Provider,{value:{theme:e,setTheme:n,toggleTheme:o,colorTheme:r,setColorTheme:s},children:t})}function Qq(){const t=x.useContext(f2);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const Jq=()=>{};var h2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},m2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new eG;const h=o<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tG=function(t){const e=p2(t);return m2.encodeByteArray(e,!0)},oy=function(t){return tG(t).replace(/\./g,"")},g2=function(t){try{return m2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=()=>nG().__FIREBASE_DEFAULTS__,iG=()=>{if(typeof process=="undefined"||typeof h2=="undefined")return;const t=h2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oG=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&g2(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return Jq()||rG()||iG()||oG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y2=t=>{var e,n;return(n=(e=sy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},sG=t=>{const e=y2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v2=()=>{var t;return(t=sy())==null?void 0:t.config},x2=t=>{var e;return(e=sy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function b2(t){return V(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=D({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oy(JSON.stringify(n)),oy(JSON.stringify(s)),""].join(".")}const gh={};function cG(){const t={prod:[],emulator:[]};for(const e of Object.keys(gh))gh[e]?t.emulator.push(e):t.prod.push(e);return t}function uG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w2=!1;function _2(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!_u(window.location.host)||gh[t]===e||gh[t]||w2)return;gh[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=cG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{w2=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=uG(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;a(w),d(y,g);const T=c();l(_,b),w.append(_,v,y,T),document.body.appendChild(w)}o?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dG(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function fG(){var e;const t=(e=sy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function hG(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function pG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gG(){const t=Ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yG(){return!fG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vG(){try{return typeof indexedDB=="object"}catch(t){return!1}}function xG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="FirebaseError";class $s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bG,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yh.prototype.create)}}class yh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wG(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $s(i,a,r)}}function wG(t,e){return t.replace(_G,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _G=/\{\$([^}]+)}/g;function SG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(S2(o)&&S2(s)){if(!Wl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EG(t,e){const n=new TG(t,e);return n.subscribe.bind(n)}class TG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=q1),i.error===void 0&&(i.error=q1),i.complete===void 0&&(i.complete=q1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(s){}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function q1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){return t&&t._delegate?t._delegate:t}class Hl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NG(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return V(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!=null?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CG(t){return t===ql?void 0:t}function NG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const jG={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},kG=Pt.INFO,OG={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},RG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G1{constructor(e){this.name=e,this._logLevel=kG,this._logHandler=RG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const MG=(t,e)=>e.some(n=>t instanceof n);let E2,T2;function DG(){return E2||(E2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $G(){return T2||(T2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P2=new WeakMap,K1=new WeakMap,A2=new WeakMap,Y1=new WeakMap,X1=new WeakMap;function LG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($a(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&P2.set(n,t)}).catch(()=>{}),X1.set(e,t),e}function FG(t){if(K1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});K1.set(t,e)}let Q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VG(t){Q1=t(Q1)}function BG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J1(this),e,...n);return A2.set(r,e.sort?e.sort():[e]),$a(r)}:$G().includes(t)?function(...e){return t.apply(J1(this),e),$a(P2.get(this))}:function(...e){return $a(t.apply(J1(this),e))}}function UG(t){return typeof t=="function"?BG(t):(t instanceof IDBTransaction&&FG(t),MG(t,DG())?new Proxy(t,Q1):t)}function $a(t){if(t instanceof IDBRequest)return LG(t);if(Y1.has(t))return Y1.get(t);const e=UG(t);return e!==t&&(Y1.set(t,e),X1.set(e,t)),e}const J1=t=>X1.get(t);function zG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=$a(s);return r&&s.addEventListener("upgradeneeded",l=>{r($a(s.result),l.oldVersion,l.newVersion,$a(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const WG=["get","getKey","getAll","getAllKeys","count"],HG=["put","add","delete","clear"],Z1=new Map;function C2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z1.get(e))return Z1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WG.includes(n)))return;const o=function(s,...a){return V(this,null,function*(){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Z1.set(e,o),o}VG(t=>F(D({},t),{get:(e,n,r)=>C2(e,n)||t.get(e,n,r),has:(e,n)=>!!C2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e_="@firebase/app",N2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new G1("@firebase/app"),KG="@firebase/app-compat",YG="@firebase/analytics-compat",XG="@firebase/analytics",QG="@firebase/app-check-compat",JG="@firebase/app-check",ZG="@firebase/auth",eK="@firebase/auth-compat",tK="@firebase/database",nK="@firebase/data-connect",rK="@firebase/database-compat",iK="@firebase/functions",oK="@firebase/functions-compat",sK="@firebase/installations",aK="@firebase/installations-compat",lK="@firebase/messaging",cK="@firebase/messaging-compat",uK="@firebase/performance",dK="@firebase/performance-compat",fK="@firebase/remote-config",hK="@firebase/remote-config-compat",pK="@firebase/storage",mK="@firebase/storage-compat",gK="@firebase/firestore",yK="@firebase/ai",vK="@firebase/firestore-compat",xK="firebase",bK="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="[DEFAULT]",wK={[e_]:"fire-core",[KG]:"fire-core-compat",[XG]:"fire-analytics",[YG]:"fire-analytics-compat",[JG]:"fire-app-check",[QG]:"fire-app-check-compat",[ZG]:"fire-auth",[eK]:"fire-auth-compat",[tK]:"fire-rtdb",[nK]:"fire-data-connect",[rK]:"fire-rtdb-compat",[iK]:"fire-fn",[oK]:"fire-fn-compat",[sK]:"fire-iid",[aK]:"fire-iid-compat",[lK]:"fire-fcm",[cK]:"fire-fcm-compat",[uK]:"fire-perf",[dK]:"fire-perf-compat",[fK]:"fire-rc",[hK]:"fire-rc-compat",[pK]:"fire-gcs",[mK]:"fire-gcs-compat",[gK]:"fire-fst",[vK]:"fire-fst-compat",[yK]:"fire-vertex","fire-js":"fire-js",[xK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map,_K=new Map,n_=new Map;function I2(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Su(t){const e=t.name;if(n_.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;n_.set(e,t);for(const n of ay.values())I2(n,t);for(const n of _K.values())I2(n,t);return!0}function r_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new yh("app","Firebase",SK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e,n,r){this._isDeleted=!1,this._options=D({},e),this._config=D({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=bK;function j2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=D({name:t_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw La.create("bad-app-name",{appName:String(i)});if(n||(n=v2()),!n)throw La.create("no-options");const o=ay.get(i);if(o){if(Wl(n,o.options)&&Wl(r,o.config))return o;throw La.create("duplicate-app",{appName:i})}const s=new IG(i);for(const l of n_.values())s.addComponent(l);const a=new EK(n,r,s);return ay.set(i,a),a}function k2(t=t_){const e=ay.get(t);if(!e&&t===t_&&v2())return j2();if(!e)throw La.create("no-app",{appName:t});return e}function Fa(t,e,n){var s;let r=(s=wK[t])!=null?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}Su(new Hl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK="firebase-heartbeat-database",PK=1,xh="firebase-heartbeat-store";let i_=null;function O2(){return i_||(i_=zG(TK,PK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw La.create("idb-open",{originalErrorMessage:t.message})})),i_}function AK(t){return V(this,null,function*(){try{const n=(yield O2()).transaction(xh),r=yield n.objectStore(xh).get(M2(t));return yield n.done,r}catch(e){if(e instanceof $s)Ls.warn(e.message);else{const n=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}})}function R2(t,e){return V(this,null,function*(){try{const r=(yield O2()).transaction(xh,"readwrite");yield r.objectStore(xh).put(e,M2(t)),yield r.done}catch(n){if(n instanceof $s)Ls.warn(n.message);else{const r=La.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}})}function M2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=1024,NK=30;class IK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return V(this,null,function*(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=D2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NK){const s=OK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}})}getHeartbeatsHeader(){return V(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D2(),{heartbeatsToSend:r,unsentEntries:i}=jK(this._heartbeatsCache.heartbeats),o=oy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ls.warn(n),""}})}}function D2(){return new Date().toISOString().substring(0,10)}function jK(t,e=CK){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return V(this,null,function*(){return vG()?xG().then(()=>!0).catch(()=>!1):!1})}read(){return V(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield AK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return V(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return R2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return V(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return R2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}}function $2(t){return oy(JSON.stringify({version:2,heartbeats:t})).length}function OK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t){Su(new Hl("platform-logger",e=>new qG(e),"PRIVATE")),Su(new Hl("heartbeat",e=>new IK(e),"PRIVATE")),Fa(e_,N2,t),Fa(e_,N2,"esm2020"),Fa("fire-js","")}RK("");var MK="firebase",DK="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(MK,DK,"app");function L2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $K=L2,F2=new yh("auth","Firebase",L2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new G1("@firebase/auth");function LK(t,...e){ly.logLevel<=Pt.WARN&&ly.warn(`Auth (${Eu}): ${t}`,...e)}function cy(t,...e){ly.logLevel<=Pt.ERROR&&ly.error(`Auth (${Eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,...e){throw s_(t,...e)}function bo(t,...e){return s_(t,...e)}function o_(t,e,n){const r=F(D({},$K()),{[e]:n});return new yh("auth","Firebase",r).create(e,{appName:t.name})}function Gl(t){return o_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qo(t,"argument-error"),o_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F2.create(t,...e)}function tt(t,e,...n){if(!t)throw s_(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cy(e),new Error(e)}function Vs(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.href)||""}function VK(){return V2()==="http:"||V2()==="https:"}function V2(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VK()||pG()||"connection"in navigator)?navigator.onLine:!0}function UK(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=dG()||mG()}get(){return BK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HK=new bh(3e4,6e4);function c_(t,e){return t.tenantId&&!e.tenantId?F(D({},e),{tenantId:t.tenantId}):e}function Tu(o,s,a,l){return V(this,arguments,function*(t,e,n,r,i={}){return U2(t,i,()=>V(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const f=vh(D({key:t.config.apiKey},d)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=D({method:e,headers:h},c);return hG()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&_u(t.emulatorConfig.host)&&(m.credentials="include"),B2.fetch()(yield z2(t,t.config.apiHost,n,f),m)}))})}function U2(t,e,n){return V(this,null,function*(){t._canInitEmulator=!1;const r=D(D({},zK),e);try{const i=new GK(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw uy(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uy(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw uy(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw uy(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw o_(t,d,c);qo(t,d)}}catch(i){if(i instanceof $s)throw i;qo(t,"network-request-failed",{message:String(i)})}})}function qK(o,s,a,l){return V(this,arguments,function*(t,e,n,r,i={}){const c=yield Tu(t,e,n,r,i);return"mfaPendingCredential"in c&&qo(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function z2(t,e,n,r){return V(this,null,function*(){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?l_(t.config,i):`${t.config.apiScheme}://${i}`;return WK.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}class GK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),HK.get())})}}function uy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t,e){return V(this,null,function*(){return Tu(t,"POST","/v1/accounts:delete",e)})}function dy(t,e){return V(this,null,function*(){return Tu(t,"POST","/v1/accounts:lookup",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function YK(t,e=!1){return V(this,null,function*(){const n=Bi(t),r=yield n.getIdToken(e),i=d_(r);tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wh(u_(i.auth_time)),issuedAtTime:wh(u_(i.iat)),expirationTime:wh(u_(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}})}function u_(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cy("JWT malformed, contained fewer than 3 sections"),null;try{const i=g2(n);return i?JSON.parse(i):(cy("Failed to decode base64 JWT payload"),null)}catch(i){return cy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W2(t){const e=d_(t);return tt(e,"internal-error"),tt(typeof e.exp!="undefined","internal-error"),tt(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n=!1){return V(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $s&&XK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function XK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!=null?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(()=>V(this,null,function*(){yield this.iteration()}),n)}iteration(){return V(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return V(this,null,function*(){var f;const e=t.auth,n=yield t.getIdToken(),r=yield _h(t,dy(e,{idToken:n}));tt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?H2(i.providerUserInfo):[],s=ZK(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new f_(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)})}function JK(t){return V(this,null,function*(){const e=Bi(t);yield fy(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ZK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function H2(t){return t.map(r=>{var i=r,{providerId:e}=i,n=X(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e){return V(this,null,function*(){const n=yield U2(t,{},()=>V(this,null,function*(){const r=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield z2(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&_u(t.emulatorConfig.host)&&(l.credentials="include"),B2.fetch()(s,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function tY(t,e){return V(this,null,function*(){return Tu(t,"POST","/v2/accounts:revokeToken",c_(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken!="undefined","internal-error"),tt(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):W2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const n=W2(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return V(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return V(this,null,function*(){const{accessToken:r,refreshToken:i,expiresIn:o}=yield eY(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Pu;return r&&(tt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(tt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(tt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,e){tt(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class wo{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=X(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new f_(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return V(this,null,function*(){const n=yield _h(this,this.stsTokenManager.getToken(this.auth,e));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return YK(this,e)}reload(){return JK(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>D({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(F(D({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return V(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fy(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return V(this,null,function*(){if(xo(this.auth.app))return Promise.reject(Gl(this.auth));const e=yield this.getIdToken();return yield _h(this,KK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return F(D({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>D({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var _,w,T,S,N,E,A,C;const r=(_=n.displayName)!=null?_:void 0,i=(w=n.email)!=null?w:void 0,o=(T=n.phoneNumber)!=null?T:void 0,s=(S=n.photoURL)!=null?S:void 0,a=(N=n.tenantId)!=null?N:void 0,l=(E=n._redirectEventId)!=null?E:void 0,c=(A=n.createdAt)!=null?A:void 0,d=(C=n.lastLoginAt)!=null?C:void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:v,stsTokenManager:g}=n;tt(f&&g,e,"internal-error");const y=Pu.fromJSON(this.name,g);tt(typeof f=="string",e,"internal-error"),Va(r,e.name),Va(i,e.name),tt(typeof h=="boolean",e,"internal-error"),tt(typeof m=="boolean",e,"internal-error"),Va(o,e.name),Va(s,e.name),Va(a,e.name),Va(l,e.name),Va(c,e.name),Va(d,e.name);const b=new wo({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:y,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(b.providerData=v.map(j=>D({},j))),l&&(b._redirectEventId=l),b}static _fromIdTokenResponse(e,n,r=!1){return V(this,null,function*(){const i=new Pu;i.updateFromServerResponse(n);const o=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fy(o),o})}static _fromGetAccountInfoResponse(e,n,r){return V(this,null,function*(){const i=n.users[0];tt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?H2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Pu;a.updateFromIdToken(r);const l=new wo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new f_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function Bs(t){Vs(t instanceof Function,"Expected a class definition");let e=q2.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return V(this,null,function*(){return!0})}_set(e,n){return V(this,null,function*(){this.storage[e]=n})}_get(e){return V(this,null,function*(){const n=this.storage[e];return n===void 0?null:n})}_remove(e){return V(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}G2.type="NONE";const K2=G2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){return`firebase:${t}:${e}:${n}`}class Au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hy(this.userKey,i.apiKey,o),this.fullPersistenceKey=hy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return V(this,null,function*(){const e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=yield dy(this.auth,{idToken:e}).catch(()=>{});return n?wo._fromGetAccountInfoResponse(this.auth,n,e):null}return wo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return V(this,null,function*(){if(this.persistence===e)return;const n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return V(this,null,function*(){if(!n.length)return new Au(Bs(K2),e,r);const i=(yield Promise.all(n.map(c=>V(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c);let o=i[0]||Bs(K2);const s=hy(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=yield c._get(s);if(d){let f;if(typeof d=="string"){const h=yield dy(e,{idToken:d}).catch(()=>{});if(!h)break;f=yield wo._fromGetAccountInfoResponse(e,h,d)}else f=wo._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch(d){}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Au(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(c=>V(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch(d){}}))),new Au(o,e,r))})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tO(e))return"Blackberry";if(nO(e))return"Webos";if(Q2(e))return"Safari";if((e.includes("chrome/")||J2(e))&&!e.includes("edge/"))return"Chrome";if(eO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X2(t=Ir()){return/firefox\//i.test(t)}function Q2(t=Ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J2(t=Ir()){return/crios\//i.test(t)}function Z2(t=Ir()){return/iemobile/i.test(t)}function eO(t=Ir()){return/android/i.test(t)}function tO(t=Ir()){return/blackberry/i.test(t)}function nO(t=Ir()){return/webos/i.test(t)}function h_(t=Ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nY(t=Ir()){var e;return h_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rY(){return gG()&&document.documentMode===10}function rO(t=Ir()){return h_(t)||eO(t)||nO(t)||tO(t)||/windows phone/i.test(t)||Z2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e=[]){let n;switch(t){case"Browser":n=Y2(Ir());break;case"Worker":n=`${Y2(Ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return V(this,null,function*(){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(n){return V(this,arguments,function*(t,e={}){return Tu(t,"GET","/v2/passwordPolicy",c_(t,e))})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=6;class aY{constructor(e){var r,i,o,s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=n.minPasswordLength)!=null?r:sY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))!=null?o:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!=null?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,o,s,a,l;const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=(r=n.meetsMinPasswordLength)!=null?r:!0),n.isValid&&(n.isValid=(i=n.meetsMaxPasswordLength)!=null?i:!0),n.isValid&&(n.isValid=(o=n.containsLowercaseLetter)!=null?o:!0),n.isValid&&(n.isValid=(s=n.containsUppercaseLetter)!=null?s:!0),n.isValid&&(n.isValid=(a=n.containsNumericCharacter)!=null?a:!0),n.isValid&&(n.isValid=(l=n.containsNonAlphanumericCharacter)!=null?l:!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oO(this),this.idTokenSubscription=new oO(this),this.beforeStateQueue=new iY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(()=>V(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Au.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(s){}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return V(this,null,function*(){if(this._deleted)return;const e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return V(this,null,function*(){try{const n=yield dy(this,{idToken:e}),r=yield wo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return V(this,null,function*(){var o;if(xo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=yield this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return V(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return V(this,null,function*(){try{yield fy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UK()}_delete(){return V(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return V(this,null,function*(){if(xo(this.app))return Promise.reject(Gl(this));const n=e?Bi(e):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return V(this,null,function*(){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>V(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return V(this,null,function*(){return xo(this.app)?Promise.reject(Gl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xo(this.app)?Promise.reject(Gl(this)):this.queue(()=>V(this,null,function*(){yield this.assertedPersistence.setPersistence(Bs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return V(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return V(this,null,function*(){const e=yield oY(this),n=new aY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return V(this,null,function*(){if(this.currentUser){const n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tY(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}_setRedirectUser(e,n){return V(this,null,function*(){const r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return V(this,null,function*(){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=yield Au.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return V(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>V(this,null,function*(){}))),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return V(this,null,function*(){if(e===this.currentUser)return this.queue(()=>V(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=(r=(n=this.currentUser)==null?void 0:n.uid)!=null?r:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return V(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return V(this,null,function*(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=yield(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return V(this,null,function*(){var n;if(xo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=yield(n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken();return e!=null&&e.error&&LK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token})}}function py(t){return Bi(t)}class oO{constructor(e){this.auth=e,this.observer=null,this.addObserver=EG(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_={loadJS(){return V(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cY(t){p_=t}function uY(t){return p_.loadJS(t)}function dY(){return p_.gapiScript}function fY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t,e){const n=r_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Wl(o,e!=null?e:{}))return i;qo(i,"already-initialized")}return n.initialize({options:e})}function pY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mY(t,e,n){const r=py(t);tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=sO(e),{host:s,port:a}=gY(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),tt(Wl(c,r.config.emulator)&&Wl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,_u(s)?(b2(`${o}//${s}${l}`),_2("Auth",!0)):yY()}function sO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gY(t){const e=sO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aO(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:aO(s)}}}function aO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return V(this,null,function*(){return qK(t,"POST","/v1/accounts:signInWithIdp",c_(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="http://localhost";class Kl extends lO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=a,o=X(a,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Kl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Cu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cu(e,n)}buildRequest(){const e={requestUri:vY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends m_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Sh{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch(n){return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com",Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch(i){return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com",zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Sh{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch(n){return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com",Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Sh{constructor(){super("twitter.com")}static credential(e,n){return Kl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ua.credential(n,r)}catch(i){return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com",Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return V(this,null,function*(){const o=yield wo._fromIdTokenResponse(e,r,i),s=cO(r);return new Nu({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return V(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);const i=cO(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})})}}function cO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends $s{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,my.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!=null?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new my(e,n,r,i)}}function uO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?my._fromErrorAndOperation(t,o,e,r):o})}function xY(t,e,n=!1){return V(this,null,function*(){const r=yield _h(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Nu._forOperation(t,"link",r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t,e,n=!1){return V(this,null,function*(){const{auth:r}=t;if(xo(r.app))return Promise.reject(Gl(r));const i="reauthenticate";try{const o=yield _h(t,uO(r,i,e,t),n);tt(o.idToken,r,"internal-error");const s=d_(o.idToken);tt(s,r,"internal-error");const{sub:a}=s;return tt(t.uid===a,r,"user-mismatch"),Nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qo(r,"user-mismatch"),o}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t,e,n=!1){return V(this,null,function*(){if(xo(t.app))return Promise.reject(Gl(t));const r="signIn",i=yield uO(t,r,e),o=yield Nu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function _Y(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}function SY(t,e,n){return Bi(t).beforeAuthStateChanged(e,n)}function EY(t,e,n,r){return Bi(t).onAuthStateChanged(e,n,r)}function TY(t){return Bi(t).signOut()}const gy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gy,"1"),this.storage.removeItem(gy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=1e3,AY=10;class Iu extends dO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);rY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return V(this,null,function*(){yield Mc(Iu.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return V(this,null,function*(){const n=yield Mc(Iu.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return V(this,null,function*(){yield Mc(Iu.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}Iu.type="LOCAL";const CY=Iu;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO extends dO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fO.type="SESSION";const hO=fO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){return Promise.all(t.map(e=>V(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return V(this,null,function*(){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(c=>V(this,null,function*(){return c(n.origin,o)})),l=yield NY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return V(this,null,function*(){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=g_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return window}function jY(t){Go().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return typeof Go().WorkerGlobalScope!="undefined"&&typeof Go().importScripts=="function"}function kY(){return V(this,null,function*(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})}function OY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function RY(){return pO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebaseLocalStorageDb",MY=1,vy="firebaseLocalStorage",gO="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xy(t,e){return t.transaction([vy],e?"readwrite":"readonly").objectStore(vy)}function DY(){const t=indexedDB.deleteDatabase(mO);return new Eh(t).toPromise()}function y_(){const t=indexedDB.open(mO,MY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vy,{keyPath:gO})}catch(i){n(i)}}),t.addEventListener("success",()=>V(this,null,function*(){const r=t.result;r.objectStoreNames.contains(vy)?e(r):(r.close(),yield DY(),e(yield y_()))}))})}function yO(t,e,n){return V(this,null,function*(){const r=xy(t,!0).put({[gO]:e,value:n});return new Eh(r).toPromise()})}function $Y(t,e){return V(this,null,function*(){const n=xy(t,!1).get(e),r=yield new Eh(n).toPromise();return r===void 0?null:r.value})}function vO(t,e){const n=xy(t,!0).delete(e);return new Eh(n).toPromise()}const LY=800,FY=3;class xO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return V(this,null,function*(){return this.db?this.db:(this.db=yield y_(),this.db)})}_withRetries(e){return V(this,null,function*(){let n=0;for(;;)try{const r=yield this._openDb();return yield e(r)}catch(r){if(n++>FY)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return V(this,null,function*(){return pO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return V(this,null,function*(){this.receiver=yy._getInstance(RY()),this.receiver._subscribe("keyChanged",(e,n)=>V(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>V(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return V(this,null,function*(){var n,r;if(this.activeServiceWorker=yield kY(),!this.activeServiceWorker)return;this.sender=new IY(this.activeServiceWorker);const e=yield this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return V(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||OY()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}})}_isAvailable(){return V(this,null,function*(){try{if(!indexedDB)return!1;const e=yield y_();return yield yO(e,gy,"1"),yield vO(e,gy),!0}catch(e){}return!1})}_withPendingWrite(e){return V(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return V(this,null,function*(){return this._withPendingWrite(()=>V(this,null,function*(){return yield this._withRetries(r=>yO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return V(this,null,function*(){const n=yield this._withRetries(r=>$Y(r,e));return this.localCache[e]=n,n})}_remove(e){return V(this,null,function*(){return this._withPendingWrite(()=>V(this,null,function*(){return yield this._withRetries(n=>vO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return V(this,null,function*(){const e=yield this._withRetries(i=>{const o=xy(i,!1).getAll();return new Eh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n})}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>V(this,null,function*(){return this._poll()}),LY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xO.type="LOCAL";const VY=xO;new bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return e?Bs(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends lO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BY(t){return wY(t.auth,new v_(t),t.bypassAuthState)}function UY(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),bY(n,new v_(t),t.bypassAuthState)}function zY(t){return V(this,null,function*(){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),xY(n,new v_(t),t.bypassAuthState)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>V(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return V(this,null,function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BY;case"linkViaPopup":case"linkViaRedirect":return zY;case"reauthViaPopup":case"reauthViaRedirect":return UY;default:qo(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=new bh(2e3,1e4);function _O(t,e,n){return V(this,null,function*(){if(xo(t.app))return Promise.reject(bo(t,"operation-not-supported-in-this-environment"));const r=py(t);FK(t,e,m_);const i=bO(r,n);return new Yl(r,"signInViaPopup",e,i).executeNotNull()})}class Yl extends wO{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}executeNotNull(){return V(this,null,function*(){const e=yield this.execute();return tt(e,this.auth,"internal-error"),e})}onExecution(){return V(this,null,function*(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WY.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY="pendingRedirect",by=new Map;class Th extends wO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return V(this,null,function*(){let e=by.get(this.auth._key());if(!e){try{const r=(yield qY(this.resolver,this.auth))?yield Mc(Th.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}by.set(this.auth._key(),e)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return V(this,null,function*(){if(e.type==="signInViaRedirect")return Mc(Th.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Mc(Th.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return V(this,null,function*(){})}cleanUp(){}}function qY(t,e){return V(this,null,function*(){const n=YY(e),r=KY(t);if(!(yield r._isAvailable()))return!1;const i=(yield r._get(n))==="true";return yield r._remove(n),i})}function GY(t,e){by.set(t._key(),e)}function KY(t){return Bs(t._redirectPersistence)}function YY(t){return hy(HY,t.config.apiKey,t.name)}function XY(t,e,n=!1){return V(this,null,function*(){if(xo(t.app))return Promise.reject(Gl(t));const r=py(t),i=bO(r,e),s=yield new Th(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=10*60*1e3;class JY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EO(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QY&&this.cachedEventUids.clear(),this.cachedEventUids.has(SO(e))}saveEventToCache(e){this.cachedEventUids.add(SO(e)),this.lastProcessedEventTime=Date.now()}}function SO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(n){return V(this,arguments,function*(t,e={}){return Tu(t,"GET","/v1/projects",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nX=/^https?/;function rX(t){return V(this,null,function*(){if(t.config.emulator)return;const{authorizedDomains:e}=yield eX(t);for(const n of e)try{if(iX(n))return}catch(r){}qo(t,"unauthorized-domain")})}function iX(t){const e=a_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!nX.test(n))return!1;if(tX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=new bh(3e4,6e4);function TO(){const t=Go().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sX(t){return new Promise((e,n)=>{var i,o,s;function r(){TO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TO(),n(bo(t,"network-request-failed"))},timeout:oX.get()})}if((o=(i=Go().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Go().gapi)!=null&&s.load)r();else{const a=fY("iframefcb");return Go()[a]=()=>{gapi.load?r():n(bo(t,"network-request-failed"))},uY(`${dY()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wy=null,e})}let wy=null;function aX(t){return wy=wy||sX(t),wy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX=new bh(5e3,15e3),cX="__/auth/iframe",uX="emulator/auth/iframe",dX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hX(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l_(e,uX):`https://${t.config.authDomain}/${cX}`,r={apiKey:e.apiKey,appName:t.name,v:Eu},i=fX.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${vh(r).slice(1)}`}function pX(t){return V(this,null,function*(){const e=yield aX(t),n=Go().gapi;return tt(n,t,"internal-error"),e.open({where:document.body,url:hX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dX,dontclear:!0},r=>new Promise((i,o)=>V(this,null,function*(){yield r.restyle({setHideOnLeave:!1});const s=bo(t,"network-request-failed"),a=Go().setTimeout(()=>{o(s)},lX.get());function l(){Go().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gX=500,yX=600,vX="_blank",xX="http://localhost";class PO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function bX(t,e,n,r=gX,i=yX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=F(D({},mX),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ir().toLowerCase();n&&(a=J2(c)?vX:n),X2(c)&&(e=e||xX,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(nY(c)&&a!=="_self")return wX(e||"",a),new PO(null);const f=window.open(e||"",a,d);tt(f,t,"popup-blocked");try{f.focus()}catch(h){}return new PO(f)}function wX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X="__/auth/handler",SX="emulator/auth/handler",EX=encodeURIComponent("fac");function AO(t,e,n,r,i,o){return V(this,null,function*(){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eu,eventId:i};if(e instanceof m_){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",SG(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Sh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=yield t._getAppCheckToken(),c=l?`#${EX}=${encodeURIComponent(l)}`:"";return`${TX(t)}?${vh(a).slice(1)}${c}`})}function TX({config:t}){return t.emulator?l_(t,SX):`https://${t.authDomain}/${_X}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="webStorageSupport";class PX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hO,this._completeRedirectFn=XY,this._overrideRedirectResult=GY}_openPopup(e,n,r,i){return V(this,null,function*(){var s;Vs((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=yield AO(e,n,r,a_(),i);return bX(e,o,g_())})}_openRedirect(e,n,r,i){return V(this,null,function*(){yield this._originValidation(e);const o=yield AO(e,n,r,a_(),i);return jY(o),new Promise(()=>{})})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return V(this,null,function*(){const n=yield pX(e),r=new JY(e);return n.register("authEvent",i=>(tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x_,{type:x_},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[x_];o!==void 0&&n(!!o),qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rO()||Q2()||h_()}}const AX=PX;var CO="@firebase/auth",NO="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}getToken(e){return V(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IX(t){Su(new Hl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;tt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iO(t)},c=new lY(r,i,o,l);return pY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Su(new Hl("auth-internal",e=>{const n=py(e.getProvider("auth").getImmediate());return(r=>new CX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(CO,NO,NX(t)),Fa(CO,NO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=5*60,kX=x2("authIdTokenMaxAge")||jX;let IO=null;const OX=t=>e=>V(this,null,function*(){const n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kX)return;const i=n==null?void 0:n.token;IO!==i&&(IO=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function RX(t=k2()){const e=r_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hY(t,{popupRedirectResolver:AX,persistence:[VY,CY,hO]}),r=x2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=OX(o.toString());SY(n,s,()=>s(n.currentUser)),_Y(n,a=>s(a))}}const i=y2("auth");return i&&mY(n,`http://${i}`),n}function MX(){var t,e;return(e=(t=document.getElementsByTagName("head"))==null?void 0:t[0])!=null?e:document}cY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",MX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),IX("Browser");var jO=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,kO;(function(){var t;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(E,A){function C(){}C.prototype=A.prototype,E.F=A.prototype,E.prototype=new C,E.prototype.constructor=E,E.D=function(j,I,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return A.prototype[I].apply(j,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,C){C||(C=0);const j=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)j[I]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(I=0;I<16;++I)j[I]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=E.g[0],C=E.g[1],I=E.g[2];let O=E.g[3],R;R=A+(O^C&(I^O))+j[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=O+(I^A&(C^I))+j[1]+3905402710&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(C^O&(A^C))+j[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=C+(A^I&(O^A))+j[3]+3250441966&4294967295,C=I+(R<<22&4294967295|R>>>10),R=A+(O^C&(I^O))+j[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=O+(I^A&(C^I))+j[5]+1200080426&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(C^O&(A^C))+j[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=C+(A^I&(O^A))+j[7]+4249261313&4294967295,C=I+(R<<22&4294967295|R>>>10),R=A+(O^C&(I^O))+j[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=O+(I^A&(C^I))+j[9]+2336552879&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(C^O&(A^C))+j[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=C+(A^I&(O^A))+j[11]+2304563134&4294967295,C=I+(R<<22&4294967295|R>>>10),R=A+(O^C&(I^O))+j[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=O+(I^A&(C^I))+j[13]+4254626195&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(C^O&(A^C))+j[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=C+(A^I&(O^A))+j[15]+1236535329&4294967295,C=I+(R<<22&4294967295|R>>>10),R=A+(I^O&(C^I))+j[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=O+(C^I&(A^C))+j[6]+3225465664&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^C&(O^A))+j[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=C+(O^A&(I^O))+j[0]+3921069994&4294967295,C=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(C^I))+j[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=O+(C^I&(A^C))+j[10]+38016083&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^C&(O^A))+j[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=C+(O^A&(I^O))+j[4]+3889429448&4294967295,C=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(C^I))+j[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=O+(C^I&(A^C))+j[14]+3275163606&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^C&(O^A))+j[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=C+(O^A&(I^O))+j[8]+1163531501&4294967295,C=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(C^I))+j[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=O+(C^I&(A^C))+j[2]+4243563512&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^C&(O^A))+j[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=C+(O^A&(I^O))+j[12]+2368359562&4294967295,C=I+(R<<20&4294967295|R>>>12),R=A+(C^I^O)+j[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=O+(A^C^I)+j[8]+2272392833&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^C)+j[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=C+(I^O^A)+j[14]+4259657740&4294967295,C=I+(R<<23&4294967295|R>>>9),R=A+(C^I^O)+j[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=O+(A^C^I)+j[4]+1272893353&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^C)+j[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=C+(I^O^A)+j[10]+3200236656&4294967295,C=I+(R<<23&4294967295|R>>>9),R=A+(C^I^O)+j[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=O+(A^C^I)+j[0]+3936430074&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^C)+j[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=C+(I^O^A)+j[6]+76029189&4294967295,C=I+(R<<23&4294967295|R>>>9),R=A+(C^I^O)+j[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=O+(A^C^I)+j[12]+3873151461&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^C)+j[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=C+(I^O^A)+j[2]+3299628645&4294967295,C=I+(R<<23&4294967295|R>>>9),R=A+(I^(C|~O))+j[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=O+(C^(A|~I))+j[7]+1126891415&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~C))+j[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=C+(O^(I|~A))+j[5]+4237533241&4294967295,C=I+(R<<21&4294967295|R>>>11),R=A+(I^(C|~O))+j[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=O+(C^(A|~I))+j[3]+2399980690&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~C))+j[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=C+(O^(I|~A))+j[1]+2240044497&4294967295,C=I+(R<<21&4294967295|R>>>11),R=A+(I^(C|~O))+j[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=O+(C^(A|~I))+j[15]+4264355552&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~C))+j[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=C+(O^(I|~A))+j[13]+1309151649&4294967295,C=I+(R<<21&4294967295|R>>>11),R=A+(I^(C|~O))+j[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=O+(C^(A|~I))+j[11]+3174756917&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~C))+j[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=C+(O^(I|~A))+j[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.v=function(E,A){A===void 0&&(A=E.length);const C=A-this.blockSize,j=this.C;let I=this.h,O=0;for(;O<A;){if(I==0)for(;O<=C;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<A;)if(j[I++]=E.charCodeAt(O++),I==this.blockSize){i(this,j),I=0;break}}else for(;O<A;)if(j[I++]=E[O++],I==this.blockSize){i(this,j),I=0;break}}this.h=I,this.o+=A},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;A=this.o*8;for(var C=E.length-8;C<E.length;++C)E[C]=A&255,A/=256;for(this.v(E),E=Array(16),A=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)E[A++]=this.g[C]>>>j&255;return E};function o(E,A){var C=a;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=A(E)}function s(E,A){this.h=A;const C=[];let j=!0;for(let I=E.length-1;I>=0;I--){const O=E[I]|0;j&&O==A||(C[I]=O,j=!1)}this.g=C}var a={};function l(E){return-128<=E&&E<128?o(E,function(A){return new s([A|0],A<0?-1:0)}):new s([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return y(c(-E));const A=[];let C=1;for(let j=0;E>=C;j++)A[j]=E/C|0,C*=4294967296;return new s(A,0)}function d(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return y(d(E.substring(1),A));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(A,8));let j=f;for(let O=0;O<E.length;O+=8){var I=Math.min(8,E.length-O);const R=parseInt(E.substring(O,O+I),A);I<8?(I=c(Math.pow(A,I)),j=j.j(I).add(c(R))):(j=j.j(C),j=j.add(c(R)))}return j}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,A=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);E+=(j>=0?j:4294967296+j)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(g(this))return"-"+y(this).toString(E);const A=c(Math.pow(E,6));var C=this;let j="";for(;;){const I=T(C,A).g;C=b(C,I.j(A));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(E);if(C=I,v(C))return O+j;for(;O.length<6;)O="0"+O;j=O+j}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(let A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=b(this,E),g(E)?-1:v(E)?0:1};function y(E){const A=E.g.length,C=[];for(let j=0;j<A;j++)C[j]=~E.g[j];return new s(C,~E.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const A=Math.max(this.g.length,E.g.length),C=[];let j=0;for(let I=0;I<=A;I++){let O=j+(this.i(I)&65535)+(E.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);j=R>>>16,O&=65535,R&=65535,C[I]=R<<16|O}return new s(C,C[C.length-1]&-2147483648?-1:0)};function b(E,A){return E.add(y(A))}t.j=function(E){if(v(this)||v(E))return f;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(m)<0&&E.l(m)<0)return c(this.m()*E.m());const A=this.g.length+E.g.length,C=[];for(var j=0;j<2*A;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<E.g.length;I++){const O=this.i(j)>>>16,R=this.i(j)&65535,H=E.i(I)>>>16,B=E.i(I)&65535;C[2*j+2*I]+=R*B,_(C,2*j+2*I),C[2*j+2*I+1]+=O*B,_(C,2*j+2*I+1),C[2*j+2*I+1]+=R*H,_(C,2*j+2*I+1),C[2*j+2*I+2]+=O*H,_(C,2*j+2*I+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new s(C,0)};function _(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function w(E,A){this.g=E,this.h=A}function T(E,A){if(v(A))throw Error("division by zero");if(v(E))return new w(f,f);if(g(E))return A=T(y(E),A),new w(y(A.g),y(A.h));if(g(A))return A=T(E,y(A)),new w(y(A.g),A.h);if(E.g.length>30){if(g(E)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var C=h,j=A;j.l(E)<=0;)C=S(C),j=S(j);var I=N(C,1),O=N(j,1);for(j=N(j,2),C=N(C,2);!v(j);){var R=O.add(j);R.l(E)<=0&&(I=I.add(C),O=R),j=N(j,1),C=N(C,1)}return A=b(E,I.j(A)),new w(I,A)}for(I=f;E.l(A)>=0;){for(C=Math.max(1,Math.floor(E.m()/A.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),O=c(C),R=O.j(A);g(R)||R.l(E)>0;)C-=j,O=c(C),R=O.j(A);v(O)&&(O=h),I=I.add(O),E=b(E,R)}return new w(I,E)}t.B=function(E){return T(this,E).h},t.and=function(E){const A=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)&E.i(j);return new s(C,this.h&E.h)},t.or=function(E){const A=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)|E.i(j);return new s(C,this.h|E.h)},t.xor=function(E){const A=Math.max(this.g.length,E.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)^E.i(j);return new s(C,this.h^E.h)};function S(E){const A=E.g.length+1,C=[];for(let j=0;j<A;j++)C[j]=E.i(j)<<1|E.i(j-1)>>>31;return new s(C,E.h)}function N(E,A){const C=A>>5;A%=32;const j=E.g.length-C,I=[];for(let O=0;O<j;O++)I[O]=A>0?E.i(O+C)>>>A|E.i(O+C+1)<<32-A:E.i(O+C);return new s(I,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kO=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,za=s}).apply(typeof jO!="undefined"?jO:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var _y=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OO,Ph,RO,Sy,b_,MO,DO,$O;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof _y=="object"&&_y];for(var P=0;P<p.length;++P){var k=p[P];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,P){if(P)e:{var k=r;p=p.split(".");for(var $=0;$<p.length-1;$++){var K=p[$];if(!(K in k))break e;k=k[K]}p=p[p.length-1],$=k[p],P=P($),P!=$&&P!=null&&e(k,p,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(P){var k=[],$;for($ in P)Object.prototype.hasOwnProperty.call(P,$)&&k.push([$,P[$]]);return k}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var o=o||{},s=this||self;function a(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function l(p,P,k){return p.call.apply(p.bind,arguments)}function c(p,P,k){return c=l,c.apply(null,arguments)}function d(p,P){var k=Array.prototype.slice.call(arguments,1);return function(){var $=k.slice();return $.push.apply($,arguments),p.apply(this,$)}}function f(p,P){function k(){}k.prototype=P.prototype,p.Z=P.prototype,p.prototype=new k,p.prototype.constructor=p,p.Ob=function($,K,ie){for(var _e=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)_e[vt-2]=arguments[vt];return P.prototype[K].apply($,_e)}}var h=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function m(p){const P=p.length;if(P>0){const k=Array(P);for(let $=0;$<P;$++)k[$]=p[$];return k}return[]}function v(p,P){for(let $=1;$<arguments.length;$++){const K=arguments[$];var k=typeof K;if(k=k!="object"?k:K?Array.isArray(K)?"array":k:"null",k=="array"||k=="object"&&typeof K.length=="number"){k=p.length||0;const ie=K.length||0;p.length=k+ie;for(let _e=0;_e<ie;_e++)p[k+_e]=K[_e]}else p.push(K)}}class g{constructor(P,k){this.i=P,this.j=k,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function y(p){s.setTimeout(()=>{throw p},0)}function b(){var p=E;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class _{constructor(){this.h=this.g=null}add(P,k){const $=w.get();$.set(P,k),this.h?this.h.next=$:this.g=$,this.h=$}}var w=new g(()=>new T,p=>p.reset());class T{constructor(){this.next=this.g=this.h=null}set(P,k){this.h=P,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let S,N=!1,E=new _,A=()=>{const p=Promise.resolve(void 0);S=()=>{p.then(C)}};function C(){for(var p;p=b();){try{p.h.call(p.g)}catch(k){y(k)}var P=w;P.j(p),P.h<100&&(P.h++,p.next=P.g,P.g=p)}N=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};s.addEventListener("test",k,P),s.removeEventListener("test",k,P)}catch(k){}return p}();function R(p){return/^[\s\xa0]*$/.test(p)}function H(p,P){I.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,P)}f(H,I),H.prototype.init=function(p,P){const k=this.type=p.type,$=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget,P||(k=="mouseover"?P=p.fromElement:k=="mouseout"&&(P=p.toElement)),this.relatedTarget=P,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),W=0;function G(p,P,k,$,K){this.listener=p,this.proxy=null,this.src=P,this.type=k,this.capture=!!$,this.ha=K,this.key=++W,this.da=this.fa=!1}function U(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function z(p,P,k){for(const $ in p)P.call(k,p[$],$,p)}function Q(p,P){for(const k in p)P.call(void 0,p[k],k,p)}function J(p){const P={};for(const k in p)P[k]=p[k];return P}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(p,P){let k,$;for(let K=1;K<arguments.length;K++){$=arguments[K];for(k in $)p[k]=$[k];for(let ie=0;ie<oe.length;ie++)k=oe[ie],Object.prototype.hasOwnProperty.call($,k)&&(p[k]=$[k])}}function Me(p){this.src=p,this.g={},this.h=0}Me.prototype.add=function(p,P,k,$,K){const ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);const _e=it(p,P,$,K);return _e>-1?(P=p[_e],k||(P.fa=!1)):(P=new G(P,this.src,ie,!!$,K),P.fa=k,p.push(P)),P};function ze(p,P){const k=P.type;if(k in p.g){var $=p.g[k],K=Array.prototype.indexOf.call($,P,void 0),ie;(ie=K>=0)&&Array.prototype.splice.call($,K,1),ie&&(U(P),p.g[k].length==0&&(delete p.g[k],p.h--))}}function it(p,P,k,$){for(let K=0;K<p.length;++K){const ie=p[K];if(!ie.da&&ie.listener==P&&ie.capture==!!k&&ie.ha==$)return K}return-1}var Xe="closure_lm_"+(Math.random()*1e6|0),me={};function re(p,P,k,$,K){if(Array.isArray(P)){for(let ie=0;ie<P.length;ie++)re(p,P[ie],k,$,K);return null}return k=Ft(k),p&&p[B]?p.J(P,k,a($)?!!$.capture:!!$,K):Se(p,P,k,!1,$,K)}function Se(p,P,k,$,K,ie){if(!P)throw Error("Invalid event type");const _e=a(K)?!!K.capture:!!K;let vt=st(p);if(vt||(p[Xe]=vt=new Me(p)),k=vt.add(P,k,$,_e,ie),k.proxy)return k;if($=xe(),k.proxy=$,$.src=p,$.listener=k,p.addEventListener)O||(K=_e),K===void 0&&(K=!1),p.addEventListener(P.toString(),$,K);else if(p.attachEvent)p.attachEvent(De(P.toString()),$);else if(p.addListener&&p.removeListener)p.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return k}function xe(){function p(k){return P.call(p.src,p.listener,k)}const P=ot;return p}function ee(p,P,k,$,K){if(Array.isArray(P))for(var ie=0;ie<P.length;ie++)ee(p,P[ie],k,$,K);else $=a($)?!!$.capture:!!$,k=Ft(k),p&&p[B]?(p=p.i,ie=String(P).toString(),ie in p.g&&(P=p.g[ie],k=it(P,k,$,K),k>-1&&(U(P[k]),Array.prototype.splice.call(P,k,1),P.length==0&&(delete p.g[ie],p.h--)))):p&&(p=st(p))&&(P=p.g[P.toString()],p=-1,P&&(p=it(P,k,$,K)),(k=p>-1?P[p]:null)&&ve(k))}function ve(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[B])ze(P.i,p);else{var k=p.type,$=p.proxy;P.removeEventListener?P.removeEventListener(k,$,p.capture):P.detachEvent?P.detachEvent(De(k),$):P.addListener&&P.removeListener&&P.removeListener($),(k=st(P))?(ze(k,p),k.h==0&&(k.src=null,P[Xe]=null)):U(p)}}}function De(p){return p in me?me[p]:me[p]="on"+p}function ot(p,P){if(p.da)p=!0;else{P=new H(P,this);const k=p.listener,$=p.ha||p.src;p.fa&&ve(p),p=k.call($,P)}return p}function st(p){return p=p[Xe],p instanceof Me?p:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ft(p){return typeof p=="function"?p:(p[Lt]||(p[Lt]=function(P){return p.handleEvent(P)}),p[Lt])}function wt(){j.call(this),this.i=new Me(this),this.M=this,this.G=null}f(wt,j),wt.prototype[B]=!0,wt.prototype.removeEventListener=function(p,P,k,$){ee(this,p,P,k,$)};function kt(p,P){var k,$=p.G;if($)for(k=[];$;$=$.G)k.push($);if(p=p.M,$=P.type||P,typeof P=="string")P=new I(P,p);else if(P instanceof I)P.target=P.target||p;else{var K=P;P=new I($,p),be(P,K)}K=!0;let ie,_e;if(k)for(_e=k.length-1;_e>=0;_e--)ie=P.g=k[_e],K=_n(ie,$,!0,P)&&K;if(ie=P.g=p,K=_n(ie,$,!0,P)&&K,K=_n(ie,$,!1,P)&&K,k)for(_e=0;_e<k.length;_e++)ie=P.g=k[_e],K=_n(ie,$,!1,P)&&K}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var p=this.i;for(const P in p.g){const k=p.g[P];for(let $=0;$<k.length;$++)U(k[$]);delete p.g[P],p.h--}}this.G=null},wt.prototype.J=function(p,P,k,$){return this.i.add(String(p),P,!1,k,$)},wt.prototype.K=function(p,P,k,$){return this.i.add(String(p),P,!0,k,$)};function _n(p,P,k,$){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();let K=!0;for(let ie=0;ie<P.length;++ie){const _e=P[ie];if(_e&&!_e.da&&_e.capture==k){const vt=_e.listener,or=_e.ha||_e.src;_e.fa&&ze(p.i,_e),K=vt.call(or,$)!==!1&&K}}return K&&!$.defaultPrevented}function je(p,P){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:s.setTimeout(p,P||0)}function Ot(p){p.g=je(()=>{p.g=null,p.i&&(p.i=!1,Ot(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class $r extends j{constructor(P,k){super(),this.m=P,this.l=k,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(p){j.call(this),this.h=p,this.g={}}f(rn,j);var Gr=[];function Ti(p){z(p.g,function(P,k){this.g.hasOwnProperty(k)&&ve(P)},p),p.g={}}rn.prototype.N=function(){rn.Z.N.call(this),Ti(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=s.JSON.stringify,Kr=s.JSON.parse,ro=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Zt(){}function Cn(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yn(){I.call(this,"d")}f(yn,I);function Yt(){I.call(this,"c")}f(Yt,I);var Y={},fe=null;function Pe(){return fe=fe||new wt}Y.Ia="serverreachability";function We(p){I.call(this,Y.Ia,p)}f(We,I);function Rt(p){const P=Pe();kt(P,new We(P))}Y.STAT_EVENT="statevent";function Un(p,P){I.call(this,Y.STAT_EVENT,p),this.stat=P}f(Un,I);function He(p){const P=Pe();kt(P,new Un(P,p))}Y.Ja="timingevent";function gt(p,P){I.call(this,Y.Ja,p),this.size=P}f(gt,I);function Mn(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},P)}function Dn(){this.g=!0}Dn.prototype.ua=function(){this.g=!1};function Ro(p,P,k,$,K,ie){p.info(function(){if(p.g)if(ie){var _e="",vt=ie.split("&");for(let an=0;an<vt.length;an++){var or=vt[an].split("=");if(or.length>1){const yr=or[0];or=or[1];const xs=yr.split("_");_e=xs.length>=2&&xs[1]=="type"?_e+(yr+"="+or+"&"):_e+(yr+"=redacted&")}}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+$+") [attempt "+K+"]: "+P+`
`+k+`
`+_e})}function Pi(p,P,k,$,K,ie,_e){p.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+K+"]: "+P+`
`+k+`
`+ie+" "+_e})}function ii(p,P,k,$){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+yl(p,k)+($?" "+$:"")})}function oi(p,P){p.info(function(){return"TIMEOUT: "+P})}Dn.prototype.info=function(){};function yl(p,P){if(!p.g)return P;if(!P)return null;try{const ie=JSON.parse(P);if(ie){for(p=0;p<ie.length;p++)if(Array.isArray(ie[p])){var k=ie[p];if(!(k.length<2)){var $=k[1];if(Array.isArray($)&&!($.length<1)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(let _e=1;_e<$.length;_e++)$[_e]=""}}}}return mr(ie)}catch(ie){return P}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rf;function vl(){}f(vl,Zt),vl.prototype.g=function(){return new XMLHttpRequest},rf=new vl;function zn(p){return encodeURIComponent(String(p))}function Mo(p){var P=1;p=p.split(":");const k=[];for(;P>0&&p.length;)k.push(p.shift()),P--;return p.length&&k.push(p.join(":")),k}function Lr(p,P,k,$){this.j=p,this.i=P,this.l=k,this.S=$||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var xl={},bl={};function wl(p,P,k){p.M=1,p.A=et(le(P)),p.u=k,p.R=!0,Z(p,null)}function Z(p,P){p.F=Date.now(),ut(p),p.B=le(p.A);var k=p.B,$=p.S;Array.isArray($)||($=[String($)]),R0(k.i,"t",$),p.C=0,k=p.j.L,p.h=new Ai,p.g=WU(p.j,k?P:null,!p.u),p.P>0&&(p.O=new $r(c(p.Y,p,p.g),p.P)),P=p.V,k=p.g,$=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(Gr[0]=K.toString()),K=Gr);for(let ie=0;ie<K.length;ie++){const _e=re(k,K[ie],$||P.handleEvent,!1,P.h||P);if(!_e)break;P.g[_e.key]=_e}P=p.J?J(p.J):{},p.u?(p.v||(p.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,P)):(p.v="GET",p.g.ea(p.B,p.v,null,P)),Rt(),Ro(p.i,p.v,p.B,p.l,p.S,p.u)}Lr.prototype.ba=function(p){p=p.target;const P=this.O;P&&ki(p)==3?P.j():this.Y(p)},Lr.prototype.Y=function(p){try{if(p==this.g)e:{const vt=ki(this.g),or=this.g.ya(),an=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||L0(this.g)))){this.K||vt!=4||or==7||(or==8||an<=0?Rt(3):Rt(2)),Ut(this);var P=this.g.ca();this.X=P;var k=Ve(this);if(this.o=P==200,Pi(this.i,this.v,this.B,this.l,this.S,vt,P),this.o){if(this.U&&!this.L){t:{if(this.g){var $,K=this.g;if(($=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R($)){var ie=$;break t}}ie=null}if(p=ie)ii(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,p);else{this.o=!1,this.m=3,He(12),en(this),on(this);break e}}if(this.R){p=!0;let yr;for(;!this.K&&this.C<k.length;)if(yr=Ye(this,k),yr==bl){vt==4&&(this.m=4,He(14),p=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==xl){this.m=4,He(15),ii(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else ii(this.i,this.l,yr,null),_t(this,yr);if(Ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||k.length!=0||this.h.h||(this.m=1,He(16),p=!1),this.o=this.o&&p,!p)ii(this.i,this.l,k,"[Invalid Chunked Response]"),en(this),on(this);else if(k.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),TA(_e),_e.P=!0,He(11))}}else ii(this.i,this.l,k,null),_t(this,k);vt==4&&en(this),this.o&&!this.K&&(vt==4?VU(this.j,this):(this.o=!1,ut(this)))}else _A(this.g),P==400&&k.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),en(this),on(this)}}}catch(vt){}finally{}};function Ve(p){if(!Ze(p))return p.g.la();const P=L0(p.g);if(P==="")return"";let k="";const $=P.length,K=ki(p.g)==4;if(!p.h.i){if(typeof TextDecoder=="undefined")return en(p),on(p),"";p.h.i=new s.TextDecoder}for(let ie=0;ie<$;ie++)p.h.h=!0,k+=p.h.i.decode(P[ie],{stream:!(K&&ie==$-1)});return P.length=0,p.h.g+=k,p.C=0,p.h.g}function Ze(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ye(p,P){var k=p.C,$=P.indexOf(`
`,k);return $==-1?bl:(k=Number(P.substring(k,$)),isNaN(k)?xl:($+=1,$+k>P.length?bl:(P=P.slice($,$+k),p.C=$+k,P)))}Lr.prototype.cancel=function(){this.K=!0,en(this)};function ut(p){p.T=Date.now()+p.H,at(p,p.H)}function at(p,P){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Mn(c(p.aa,p),P)}function Ut(p){p.D&&(s.clearTimeout(p.D),p.D=null)}Lr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(oi(this.i,this.B),this.M!=2&&(Rt(),He(17)),en(this),this.m=2,on(this)):at(this,this.T-p)};function on(p){p.j.I==0||p.K||VU(p.j,p)}function en(p){Ut(p);var P=p.O;P&&typeof P.dispose=="function"&&P.dispose(),p.O=null,Ti(p.V),p.g&&(P=p.g,p.g=null,P.abort(),P.dispose())}function _t(p,P){try{var k=p.j;if(k.I!=0&&(k.g==p||Nn(k.h,p))){if(!p.L&&Nn(k.h,p)&&k.I==3){try{var $=k.Ba.g.parse(P)}catch(an){$=null}if(Array.isArray($)&&$.length==3){var K=$;if(K[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<p.F)B0(k),F0(k);else break e;EA(k),He(18)}}else k.xa=K[1],0<k.xa-k.K&&K[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Mn(c(k.Va,k),6e3));zt(k.h)<=1&&k.ta&&(k.ta=void 0)}else kc(k,11)}else if((p.L||k.g==p)&&B0(k),!R(P))for(K=k.Ba.g.parse(P),P=0;P<K.length;P++){let an=K[P];const yr=an[0];if(!(yr<=k.K))if(k.K=yr,an=an[1],k.I==2)if(an[0]=="c"){k.M=an[1],k.ba=an[2];const xs=an[3];xs!=null&&(k.ka=xs,k.j.info("VER="+k.ka));const Oc=an[4];Oc!=null&&(k.za=Oc,k.j.info("SVER="+k.za));const Tl=an[5];Tl!=null&&typeof Tl=="number"&&Tl>0&&($=1.5*Tl,k.O=$,k.j.info("backChannelRequestTimeoutMs_="+$)),$=k;const Pl=p.g;if(Pl){const z0=Pl.g?Pl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z0){var ie=$.h;ie.g||z0.indexOf("spdy")==-1&&z0.indexOf("quic")==-1&&z0.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(In(ie,ie.h),ie.h=null))}if($.G){const PA=Pl.g?Pl.g.getResponseHeader("X-HTTP-Session-Id"):null;PA&&($.wa=PA,ye($.J,$.G,PA))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-p.F,k.j.info("Handshake RTT: "+k.T+"ms")),$=k;var _e=p;if($.na=zU($,$.L?$.ba:null,$.W),_e.L){M($.h,_e);var vt=_e,or=$.O;or&&(vt.H=or),vt.D&&(Ut(vt),ut(vt)),$.g=_e}else LU($);k.i.length>0&&V0(k)}else an[0]!="stop"&&an[0]!="close"||kc(k,7);else k.I==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?kc(k,7):SA(k):an[0]!="noop"&&k.l&&k.l.qa(an),k.A=0)}}Rt(4)}catch(an){}}var Ci=class{constructor(p,P){this.g=p,this.map=P}};function si(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function zt(p){return p.h?1:p.g?p.g.size:0}function Nn(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function In(p,P){p.g?p.g.add(P):p.h=P}function M(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}si.prototype.cancel=function(){if(this.i=L(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function L(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const k of p.g.values())P=P.concat(k.G);return P}return m(p.i)}var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(p,P){if(p){p=p.split("&");for(let k=0;k<p.length;k++){const $=p[k].indexOf("=");let K,ie=null;$>=0?(K=p[k].substring(0,$),ie=p[k].substring($+1)):K=p[k],P(K,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function te(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;p instanceof te?(this.l=p.l,pe(this,p.j),this.o=p.o,this.g=p.g,Ee(this,p.u),this.h=p.h,Ae(this,M0(p.i)),this.m=p.m):p&&(P=String(p).match(ne))?(this.l=!1,pe(this,P[1]||"",!0),this.o=we(P[2]||""),this.g=we(P[3]||"",!0),Ee(this,P[4]),this.h=we(P[5]||"",!0),Ae(this,P[6]||"",!0),this.m=we(P[7]||"")):(this.l=!1,this.i=new Sl(null,this.l))}te.prototype.toString=function(){const p=[];var P=this.j;P&&p.push(nt(P,$n,!0),":");var k=this.g;return(k||P=="file")&&(p.push("//"),(P=this.o)&&p.push(nt(P,$n,!0),"@"),p.push(zn(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&p.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(nt(k,k.charAt(0)=="/"?gr:Wn,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",nt(k,_l)),p.join("")},te.prototype.resolve=function(p){const P=le(this);let k=!!p.j;k?pe(P,p.j):k=!!p.o,k?P.o=p.o:k=!!p.g,k?P.g=p.g:k=p.u!=null;var $=p.h;if(k)Ee(P,p.u);else if(k=!!p.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var K=P.h.lastIndexOf("/");K!=-1&&($=P.h.slice(0,K+1)+$)}if(K=$,K==".."||K==".")$="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){$=K.lastIndexOf("/",0)==0,K=K.split("/");const ie=[];for(let _e=0;_e<K.length;){const vt=K[_e++];vt=="."?$&&_e==K.length&&ie.push(""):vt==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),$&&_e==K.length&&ie.push("")):(ie.push(vt),$=!0)}$=ie.join("/")}else $=K}return k?P.h=$:k=p.i.toString()!=="",k?Ae(P,M0(p.i)):k=!!p.m,k&&(P.m=p.m),P};function le(p){return new te(p)}function pe(p,P,k){p.j=k?we(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function Ee(p,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);p.u=P}else p.u=null}function Ae(p,P,k){P instanceof Sl?(p.i=P,D0(p.i,p.l)):(k||(P=nt(P,io)),p.i=new Sl(P,p.l))}function ye(p,P,k){p.i.set(P,k)}function et(p){return ye(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function we(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function nt(p,P,k){return typeof p=="string"?(p=encodeURI(p).replace(P,It),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function It(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var $n=/[#\/\?@]/g,Wn=/[#\?:]/g,gr=/[#\?]/g,io=/[#\?@]/g,_l=/#/g;function Sl(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function ms(p){p.g||(p.g=new Map,p.h=0,p.i&&se(p.i,function(P,k){p.add(decodeURIComponent(P.replace(/\+/g," ")),k)}))}t=Sl.prototype,t.add=function(p,P){ms(this),this.i=null,p=la(this,p);let k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(P),this.h+=1,this};function um(p,P){ms(p),P=la(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function un(p,P){return ms(p),P=la(p,P),p.g.has(P)}t.forEach=function(p,P){ms(this),this.g.forEach(function(k,$){k.forEach(function(K){p.call(P,K,$,this)},this)},this)};function gs(p,P){ms(p);let k=[];if(typeof P=="string")un(p,P)&&(k=k.concat(p.g.get(la(p,P))));else for(p=Array.from(p.g.values()),P=0;P<p.length;P++)k=k.concat(p[P]);return k}t.set=function(p,P){return ms(this),this.i=null,p=la(this,p),un(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},t.get=function(p,P){return p?(p=gs(this,p),p.length>0?String(p[0]):P):P};function R0(p,P,k){um(p,P),k.length>0&&(p.i=null,p.g.set(la(p,P),m(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(let $=0;$<P.length;$++){var k=P[$];const K=zn(k);k=gs(this,k);for(let ie=0;ie<k.length;ie++){let _e=K;k[ie]!==""&&(_e+="="+zn(k[ie])),p.push(_e)}}return this.i=p.join("&")};function M0(p){const P=new Sl;return P.i=p.i,p.g&&(P.g=new Map(p.g),P.h=p.h),P}function la(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function D0(p,P){P&&!p.j&&(ms(p),p.i=null,p.g.forEach(function(k,$){const K=$.toLowerCase();$!=K&&(um(this,$),R0(this,K,k))},p)),p.j=P}function $0(p,P){const k=new Dn;if(s.Image){const $=new Image;$.onload=d(sn,k,"TestLoadImage: loaded",!0,P,$),$.onerror=d(sn,k,"TestLoadImage: error",!1,P,$),$.onabort=d(sn,k,"TestLoadImage: abort",!1,P,$),$.ontimeout=d(sn,k,"TestLoadImage: timeout",!1,P,$),s.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=p}else P(!1)}function tn(p,P){const k=new Dn,$=new AbortController,K=setTimeout(()=>{$.abort(),sn(k,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:$.signal}).then(ie=>{clearTimeout(K),ie.ok?sn(k,"TestPingServer: ok",!0,P):sn(k,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(K),sn(k,"TestPingServer: error",!1,P)})}function sn(p,P,k,$,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),$(k)}catch(ie){}}function ys(){this.g=new ro}function oo(p){this.i=p.Sb||null,this.h=p.ab||!1}f(oo,Zt),oo.prototype.g=function(){return new so(this.i,this.h)};function so(p,P){wt.call(this),this.H=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(so,wt),t=so.prototype,t.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=P,this.readyState=1,yt(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(P.body=p),(this.H||s).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qt(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,yt(this)),this.g&&(this.readyState=3,yt(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream!="undefined"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ni(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ni(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?Qt(this):yt(this),this.readyState==3&&Ni(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Qt(this))},t.Na=function(p){this.g&&(this.response=p,Qt(this))},t.ga=function(){this.g&&Qt(this)};function Qt(p){p.readyState=4,p.l=null,p.j=null,p.B=null,yt(p)}t.setRequestHeader=function(p,P){this.A.append(p,P)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var k=P.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=P.next();return p.join(`\r
`)};function yt(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function pt(p){let P="";return z(p,function(k,$){P+=$,P+=":",P+=k,P+=`\r
`}),P}function Ii(p,P,k){e:{for($ in k){var $=!1;break e}$=!0}$||(k=pt(k),typeof p=="string"?k!=null&&zn(k):ye(p,P,k))}function Tt(p){wt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Tt,wt);var Yr=/^https?$/i,ji=["POST","PUT"];t=Tt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,P,k,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rf.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(ie){of(this,ie);return}if(p=k||"",k=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var K in $)k.set(K,$[K]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ie of $.keys())k.set(ie,$.get(ie));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(k.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(ji,P,void 0)>=0)||$||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of k)this.g.setRequestHeader(ie,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ie){of(this,ie)}};function of(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.o=5,wA(p),vs(p)}function wA(p){p.A||(p.A=!0,kt(p,"complete"),kt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,kt(this,"complete"),kt(this,"abort"),vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?dm(this):this.Xa())},t.Xa=function(){dm(this)};function dm(p){if(p.h&&typeof o!="undefined"){if(p.v&&ki(p)==4)setTimeout(p.Ca.bind(p),0);else if(kt(p,"readystatechange"),ki(p)==4){p.h=!1;try{const ie=p.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var k;if(!(k=P)){var $;if($=ie===0){let _e=String(p.D).match(ne)[1]||null;!_e&&s.self&&s.self.location&&(_e=s.self.location.protocol.slice(0,-1)),$=!Yr.test(_e?_e.toLowerCase():"")}k=$}if(k)kt(p,"complete"),kt(p,"success");else{p.o=6;try{var K=ki(p)>2?p.g.statusText:""}catch(_e){K=""}p.l=K+" ["+p.ca()+"]",wA(p)}}finally{vs(p)}}}}function vs(p,P){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const k=p.g;p.g=null,P||kt(p,"ready");try{k.onreadystatechange=null}catch($){}}}t.isActive=function(){return!!this.g};function ki(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch(p){return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(p){return""}},t.La=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),Kr(P)}};function L0(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch(P){return null}}function _A(p){const P={};p=(p.g&&ki(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<p.length;$++){if(R(p[$]))continue;var k=Mo(p[$]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ie=P[K]||[];P[K]=ie,ie.push(k)}Q(P,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(p,P,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||P}function RU(p){this.za=0,this.i=[],this.j=new Dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=El("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=El("baseRetryDelayMs",5e3,p),this.Za=El("retryDelaySeedMs",1e4,p),this.Ta=El("forwardChannelMaxRetries",2,p),this.va=El("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new si(p&&p.concurrentRequestLimit),this.Ba=new ys,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=RU.prototype,t.ka=8,t.I=1,t.connect=function(p,P,k,$){He(0),this.W=p,this.H=P||{},k&&$!==void 0&&(this.H.OSID=k,this.H.OAID=$),this.F=this.X,this.J=zU(this,null,this.W),V0(this)};function SA(p){if(MU(p),p.I==3){var P=p.V++,k=le(p.J);if(ye(k,"SID",p.M),ye(k,"RID",P),ye(k,"TYPE","terminate"),fm(p,k),P=new Lr(p,p.j,P),P.M=2,P.A=et(le(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(P.A.toString(),"")}catch($){}!k&&s.Image&&(new Image().src=P.A,k=!0),k||(P.g=WU(P.j,null),P.g.ea(P.A)),P.F=Date.now(),ut(P)}UU(p)}function F0(p){p.g&&(TA(p),p.g.cancel(),p.g=null)}function MU(p){F0(p),p.v&&(s.clearTimeout(p.v),p.v=null),B0(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function V0(p){if(!Xt(p.h)&&!p.m){p.m=!0;var P=p.Ea;S||A(),N||(S(),N=!0),E.add(P,p),p.D=0}}function _Ne(p,P){return zt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=P.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Mn(c(p.Ea,p,P),BU(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new Lr(this,this.j,p);let ie=this.o;if(this.U&&(ie?(ie=J(ie),be(ie,this.U)):ie=this.U),this.u!==null||this.R||(K.J=ie,ie=null),this.S)e:{for(var P=0,k=0;k<this.i.length;k++){t:{var $=this.i[k];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(P+=$,P>4096){P=k;break e}if(P===4096||k===this.i.length-1){P=k+1;break e}}P=1e3}else P=1e3;P=$U(this,K,P),k=le(this.J),ye(k,"RID",p),ye(k,"CVER",22),this.G&&ye(k,"X-HTTP-Session-Id",this.G),fm(this,k),ie&&(this.R?P="headers="+zn(pt(ie))+"&"+P:this.u&&Ii(k,this.u,ie)),In(this.h,K),this.Ra&&ye(k,"TYPE","init"),this.S?(ye(k,"$req",P),ye(k,"SID","null"),K.U=!0,wl(K,k,null)):wl(K,k,P),this.I=2}}else this.I==3&&(p?DU(this,p):this.i.length==0||Xt(this.h)||DU(this))};function DU(p,P){var k;P?k=P.l:k=p.V++;const $=le(p.J);ye($,"SID",p.M),ye($,"RID",k),ye($,"AID",p.K),fm(p,$),p.u&&p.o&&Ii($,p.u,p.o),k=new Lr(p,p.j,k,p.D+1),p.u===null&&(k.J=p.o),P&&(p.i=P.G.concat(p.i)),P=$U(p,k,1e3),k.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),In(p.h,k),wl(k,$,P)}function fm(p,P){p.H&&z(p.H,function(k,$){ye(P,$,k)}),p.l&&z({},function(k,$){ye(P,$,k)})}function $U(p,P,k){k=Math.min(p.i.length,k);const $=p.l?c(p.l.Ka,p.l,p):null;e:{var K=p.i;let vt=-1;for(;;){const or=["count="+k];vt==-1?k>0?(vt=K[0].g,or.push("ofs="+vt)):vt=0:or.push("ofs="+vt);let an=!0;for(let yr=0;yr<k;yr++){var ie=K[yr].g;const xs=K[yr].map;if(ie-=vt,ie<0)vt=Math.max(0,K[yr].g-100),an=!1;else try{ie="req"+ie+"_"||"";try{var _e=xs instanceof Map?xs:Object.entries(xs);for(const[Oc,Tl]of _e){let Pl=Tl;a(Tl)&&(Pl=mr(Tl)),or.push(ie+Oc+"="+encodeURIComponent(Pl))}}catch(Oc){throw or.push(ie+"type="+encodeURIComponent("_badmap")),Oc}}catch(Oc){$&&$(xs)}}if(an){_e=or.join("&");break e}}_e=void 0}return p=p.i.splice(0,k),P.G=p,_e}function LU(p){if(!p.g&&!p.v){p.Y=1;var P=p.Da;S||A(),N||(S(),N=!0),E.add(P,p),p.A=0}}function EA(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Mn(c(p.Da,p),BU(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,FU(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Mn(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),F0(this),FU(this))};function TA(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function FU(p){p.g=new Lr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var P=le(p.na);ye(P,"RID","rpc"),ye(P,"SID",p.M),ye(P,"AID",p.K),ye(P,"CI",p.F?"0":"1"),!p.F&&p.ia&&ye(P,"TO",p.ia),ye(P,"TYPE","xmlhttp"),fm(p,P),p.u&&p.o&&Ii(P,p.u,p.o),p.O&&(p.g.H=p.O);var k=p.g;p=p.ba,k.M=1,k.A=et(le(P)),k.u=null,k.R=!0,Z(k,p)}t.Va=function(){this.C!=null&&(this.C=null,F0(this),EA(this),He(19))};function B0(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function VU(p,P){var k=null;if(p.g==P){B0(p),TA(p),p.g=null;var $=2}else if(Nn(p.h,P))k=P.G,M(p.h,P),$=1;else return;if(p.I!=0){if(P.o)if($==1){k=P.u?P.u.length:0,P=Date.now()-P.F;var K=p.D;$=Pe(),kt($,new gt($,k)),V0(p)}else LU(p);else if(K=P.m,K==3||K==0&&P.X>0||!($==1&&_Ne(p,P)||$==2&&EA(p)))switch(k&&k.length>0&&(P=p.h,P.i=P.i.concat(k)),K){case 1:kc(p,5);break;case 4:kc(p,10);break;case 3:kc(p,6);break;default:kc(p,2)}}}function BU(p,P){let k=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(k*=2),k*P}function kc(p,P){if(p.j.info("Error code "+P),P==2){var k=c(p.bb,p),$=p.Ua;const K=!$;$=new te($||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pe($,"https"),et($),K?$0($.toString(),k):tn($.toString(),k)}else He(2);p.I=0,p.l&&p.l.pa(P),UU(p),MU(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function UU(p){if(p.I=0,p.ja=[],p.l){const P=L(p.h);(P.length!=0||p.i.length!=0)&&(v(p.ja,P),v(p.ja,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.oa()}}function zU(p,P,k){var $=k instanceof te?le(k):new te(k);if($.g!="")P&&($.g=P+"."+$.g),Ee($,$.u);else{var K=s.location;$=K.protocol,P=P?P+"."+K.hostname:K.hostname,K=+K.port;const ie=new te(null);$&&pe(ie,$),P&&(ie.g=P),K&&Ee(ie,K),k&&(ie.h=k),$=ie}return k=p.G,P=p.wa,k&&P&&ye($,k,P),ye($,"VER",p.ka),fm(p,$),$}function WU(p,P,k){if(P&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Aa&&!p.ma?new Tt(new oo({ab:k})):new Tt(p.ma),P.Fa(p.L),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HU(){}t=HU.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function U0(){}U0.prototype.g=function(p,P){return new Oi(p,P)};function Oi(p,P){wt.call(this),this.g=new RU(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(p?p["X-WebChannel-Client-Profile"]=P.sa:p={"X-WebChannel-Client-Profile":P.sa}),this.g.U=p,(p=P&&P.Qb)&&!R(p)&&(this.g.u=p),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!R(P)&&(this.g.G=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new sf(this)}f(Oi,wt),Oi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Oi.prototype.close=function(){SA(this.g)},Oi.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.v&&(k={},k.__data__=mr(p),p=k);P.i.push(new Ci(P.Ya++,p)),P.I==3&&V0(P)},Oi.prototype.N=function(){this.g.l=null,delete this.j,SA(this.g),delete this.g,Oi.Z.N.call(this)};function qU(p){yn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const k in P){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}f(qU,yn);function GU(){Yt.call(this),this.status=1}f(GU,Yt);function sf(p){this.g=p}f(sf,HU),sf.prototype.ra=function(){kt(this.g,"a")},sf.prototype.qa=function(p){kt(this.g,new qU(p))},sf.prototype.pa=function(p){kt(this.g,new GU)},sf.prototype.oa=function(){kt(this.g,"b")},U0.prototype.createWebChannel=U0.prototype.g,Oi.prototype.send=Oi.prototype.o,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,$O=function(){return new U0},DO=function(){return Pe()},MO=Y,b_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Sy=ps,nf.COMPLETE="complete",RO=nf,Cn.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ph=Cn,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,OO=Tt}).apply(typeof _y!="undefined"?_y:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const LO="@firebase/firestore",FO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new G1("@firebase/firestore");function ku(){return Xl.logLevel}function Ce(t,...e){if(Xl.logLevel<=Pt.DEBUG){const n=e.map(w_);Xl.debug(`Firestore (${ju}): ${t}`,...n)}}function Ws(t,...e){if(Xl.logLevel<=Pt.ERROR){const n=e.map(w_);Xl.error(`Firestore (${ju}): ${t}`,...n)}}function Ou(t,...e){if(Xl.logLevel<=Pt.WARN){const n=e.map(w_);Xl.warn(`Firestore (${ju}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VO(t,r,n)}function VO(t,e,n){let r=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw Ws(r),new Error(r)}function Wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VO(e,i,r)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jr.UNAUTHENTICATED))}shutdown(){}}class $X{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LX{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(()=>V(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new BO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class FX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function At(t,e){return t<e?-1:t>e?1:0}function S_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return E_(i)===E_(o)?At(i,o):E_(i)?1:-1}return At(t.length,e.length)}const zX=55296,WX=57343;function E_(t){const e=t.charCodeAt(0);return e>=zX&&e<=WX}function Ru(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="__name__";class Ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&Je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ko.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return At(e.length,n.length)}static compareSegments(e,n){const r=Ko.isNumericId(e),i=Ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ko.extractNumericId(e).compare(Ko.extractNumericId(n)):S_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class Pn extends Ko{construct(e,n,r){return new Pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pn(n)}static emptyPath(){return new Pn([])}}const HX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Ko{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return HX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zO}static keyField(){return new wr([zO])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Pn.fromString(e))}static fromName(e){return new Ge(Pn.fromString(e).popFirst(5))}static empty(){return new Ge(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Pn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t,e,n){if(!n)throw new Be(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GX(t,e,n,r){if(e===!0&&r===!0)throw new Be(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WO(t){if(!Ge.isDocumentKey(t))throw new Be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function T_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je(12329,{type:typeof t})}function Ah(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=T_(t);throw new Be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ch(t,e){if(!HO(t))throw new Be(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Be(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=-62135596800,GO=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GO);return new pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qO)throw new Be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GO}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ch(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:qn("string",pn._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new pn(0,0))}static max(){return new rt(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=-1;function KX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new Ha(i,Ge.empty(),e)}function YX(t){return new Ha(t.readTime,t.key,Nh)}class Ha{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ha(rt.min(),Ge.empty(),Nh)}static max(){return new Ha(rt.max(),Ge.empty(),Nh)}}function XX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return V(this,null,function*(){if(t.code!==de.FAILED_PRECONDITION||t.message!==QX)throw t;Ce("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ZX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ey.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-1;function Ty(t){return t==null}function Py(t){return t===0&&1/t==-1/0}function eQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="";function tQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YO(e)),e=nQ(t.get(n),e);return YO(e)}function nQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case KO:n+="";break;default:n+=o}}return n}function YO(t){return t+KO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:_r.RED,this.left=i!=null?i:_r.EMPTY,this.right=o!=null?o:_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new _r(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JO(this.data.getIterator())}getIteratorFrom(e){return new JO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class JO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new _o([])}unionWith(e){let n=new Zn(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _o(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new ZO("Invalid base64 string: "+o):o}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const rQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(Wt(!!t,39018),typeof t=="string"){let e=0;const n=rQ.exec(t);if(Wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ga(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="server_timestamp",tR="__type__",nR="__previous_value__",rR="__local_write_time__";function A_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tR])==null?void 0:r.stringValue)===eR}function Cy(t){const e=t.mapValue.fields[nR];return A_(e)?Cy(e):e}function Ih(t){const e=qa(t.mapValue.fields[rR].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n,r,i,o,s,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ny="(default)";class jh{constructor(e,n){this.projectId=e,this.database=n||Ny}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database===Ny}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__type__",oR="__max__",Iy={mapValue:{fields:{__type__:{stringValue:oR}}}},sR="__vector__",jy="value";function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:sQ(t)?9007199254740991:oQ(t)?10:11:Je(28295,{value:t})}function Yo(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ih(t).isEqual(Ih(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qa(i.timestampValue),a=qa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ga(i.bytesValue).isEqual(Ga(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vn(i.geoPointValue.latitude)===Vn(o.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vn(i.integerValue)===Vn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vn(i.doubleValue),a=Vn(o.doubleValue);return s===a?Py(s)===Py(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ru(t.arrayValue.values||[],e.arrayValue.values||[],Yo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XO(s)!==XO(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Yo(s[l],a[l])))return!1;return!0}(t,e);default:return Je(52216,{left:t})}}function kh(t,e){return(t.values||[]).find(n=>Yo(n,e))!==void 0}function $u(t,e){if(t===e)return 0;const n=Ka(t),r=Ka(e);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Vn(o.integerValue||o.doubleValue),l=Vn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aR(t.timestampValue,e.timestampValue);case 4:return aR(Ih(t),Ih(e));case 5:return S_(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ga(o),l=Ga(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=At(a[c],l[c]);if(d!==0)return d}return At(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=At(Vn(o.latitude),Vn(s.latitude));return a!==0?a:At(Vn(o.longitude),Vn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,m,v,g;const a=o.fields||{},l=s.fields||{},c=(h=a[jy])==null?void 0:h.arrayValue,d=(m=l[jy])==null?void 0:m.arrayValue,f=At(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return f!==0?f:lR(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Iy.mapValue&&s===Iy.mapValue)return 0;if(o===Iy.mapValue)return 1;if(s===Iy.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=S_(l[f],d[f]);if(h!==0)return h;const m=$u(a[l[f]],c[d[f]]);if(m!==0)return m}return At(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Je(23264,{he:n})}}function aR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=qa(t),r=qa(e),i=At(n.seconds,r.seconds);return i!==0?i:At(n.nanos,r.nanos)}function lR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$u(n[i],r[i]);if(o)return o}return At(n.length,r.length)}function Lu(t){return C_(t)}function C_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ga(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=C_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${C_(n.fields[s])}`;return i+"}"}(t.mapValue):Je(61005,{value:t})}function ky(t){switch(Ka(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cy(t);return e?16+ky(e):16;case 5:return 2*t.stringValue.length;case 6:return Ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ky(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ql(r.fields,(o,s)=>{i+=o.length+ky(s)}),i}(t.mapValue);default:throw Je(13486,{value:t})}}function N_(t){return!!t&&"integerValue"in t}function I_(t){return!!t&&"arrayValue"in t}function cR(t){return!!t&&"nullValue"in t}function uR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oy(t){return!!t&&"mapValue"in t}function oQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iR])==null?void 0:r.stringValue)===sR}function Oh(t){if(t.geoPointValue)return{geoPointValue:D({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:D({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return D({},t)}function sQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Oh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Oy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ql(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ui(Oh(this.value))}}function dR(t){const e=[];return Ql(t.fields,(n,r)=>{const i=new wr([n]);if(Oy(r)){const o=dR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new _o(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new kr(e,0,rt.min(),rt.min(),rt.min(),Ui.empty(),0)}static newFoundDocument(e,n,r,i){return new kr(e,1,n,rt.min(),r,i,0)}static newNoDocument(e,n){return new kr(e,2,n,rt.min(),rt.min(),Ui.empty(),0)}static newUnknownDocument(e,n){return new kr(e,3,n,rt.min(),rt.min(),Ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.position=e,this.inclusive=n}}function fR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ge.comparator(Ge.fromName(s.referenceValue),n.key):r=$u(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n="asc"){this.field=e,this.dir=n}}function aQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{}class er extends pR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cQ(e,n,r):n==="array-contains"?new fQ(e,r):n==="in"?new hQ(e,r):n==="not-in"?new pQ(e,r):n==="array-contains-any"?new mQ(e,r):new er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uQ(e,r):new dQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($u(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison($u(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xo extends pR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xo(e,n)}matches(e){return mR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mR(t){return t.op==="and"}function gR(t){return lQ(t)&&mR(t)}function lQ(t){for(const e of t.filters)if(e instanceof Xo)return!1;return!0}function j_(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+Lu(t.value);if(gR(t))return t.filters.map(e=>j_(e)).join(",");{const e=t.filters.map(n=>j_(n)).join(",");return`${t.op}(${e})`}}function yR(t,e){return t instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.field.isEqual(i.field)&&Yo(r.value,i.value)}(t,e):t instanceof Xo?function(r,i){return i instanceof Xo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yR(s,i.filters[a]),!0):!1}(t,e):void Je(19439)}function vR(t){return t instanceof er?function(n){return`${n.field.canonicalString()} ${n.op} ${Lu(n.value)}`}(t):t instanceof Xo?function(n){return n.op.toString()+" {"+n.getFilters().map(vR).join(" ,")+"}"}(t):"Filter"}class cQ extends er{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class uQ extends er{constructor(e,n){super(e,"in",n),this.keys=xR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dQ extends er{constructor(e,n){super(e,"not-in",n),this.keys=xR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class fQ extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I_(n)&&kh(n.arrayValue,this.value)}}class hQ extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class pQ extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kh(this.value.arrayValue,n)}}class mQ extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function bR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gQ(t,e,n,r,i,o,s)}function k_(t){const e=ct(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ty(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lu(r)).join(",")),e.Te=n}return e.Te}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hR(t.startAt,e.startAt)&&hR(t.endAt,e.endAt)}function R_(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yQ(t,e,n,r,i,o,s,a){return new Dy(t,e,n,r,i,o,s,a)}function M_(t){return new Dy(t)}function wR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vQ(t){return t.collectionGroup!==null}function Rh(t){const e=ct(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zn(wr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new My(o,r))}),n.has(wr.keyField().canonicalString())||e.Ie.push(new My(wr.keyField(),r))}return e.Ie}function Qo(t){const e=ct(t);return e.Ee||(e.Ee=xQ(e,Rh(t))),e.Ee}function xQ(t,e){if(t.limitType==="F")return bR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new My(i.field,o)});const n=t.endAt?new Ry(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ry(t.startAt.position,t.startAt.inclusive):null;return bR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D_(t,e,n){return new Dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $y(t,e){return O_(Qo(t),Qo(e))&&t.limitType===e.limitType}function _R(t){return`${k_(Qo(t))}|lt:${t.limitType}`}function Fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vR(i)).join(", ")}]`),Ty(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lu(i)).join(",")),`Target(${r})`}(Qo(t))}; limitType=${t.limitType})`}function Ly(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=fR(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Rh(r),i)||r.endAt&&!function(s,a,l){const c=fR(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Rh(r),i))}(t,e)}function bQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SR(t){return(e,n)=>{let r=!1;for(const i of Rh(t)){const o=wQ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wQ(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?$u(l,c):Je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=new An(Ge.comparator);function Hs(){return _Q}const ER=new An(Ge.comparator);function Mh(...t){let e=ER;for(const n of t)e=e.insert(n.key,n);return e}function TR(t){let e=ER;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zl(){return Dh()}function PR(){return Dh()}function Dh(){return new Jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SQ=new An(Ge.comparator),EQ=new Zn(Ge.comparator);function Ct(...t){let e=EQ;for(const n of t)e=e.add(n);return e}const TQ=new Zn(At);function PQ(){return TQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Py(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function AQ(t,e){return eQ(e)?AR(e):$_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this._=void 0}}function CQ(t,e,n){return t instanceof $h?function(i,o){const s={fields:{[tR]:{stringValue:eR},[rR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&A_(o)&&(o=Cy(o)),o&&(s.fields[nR]=o),{mapValue:s}}(n,e):t instanceof Lh?NR(t,e):t instanceof Fh?IR(t,e):function(i,o){const s=CR(i,o),a=jR(s)+jR(i.Ae);return N_(s)&&N_(i.Ae)?AR(a):$_(i.serializer,a)}(t,e)}function NQ(t,e,n){return t instanceof Lh?NR(t,e):t instanceof Fh?IR(t,e):n}function CR(t,e){return t instanceof Vy?function(r){return N_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $h extends Fy{}class Lh extends Fy{constructor(e){super(),this.elements=e}}function NR(t,e){const n=kR(e);for(const r of t.elements)n.some(i=>Yo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fh extends Fy{constructor(e){super(),this.elements=e}}function IR(t,e){let n=kR(e);for(const r of t.elements)n=n.filter(i=>!Yo(i,r));return{arrayValue:{values:n}}}class Vy extends Fy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jR(t){return Vn(t.integerValue||t.doubleValue)}function kR(t){return I_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n){this.field=e,this.transform=n}}function jQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lh&&i instanceof Lh||r instanceof Fh&&i instanceof Fh?Ru(r.elements,i.elements,Yo):r instanceof Vy&&i instanceof Vy?Yo(r.Ae,i.Ae):r instanceof $h&&i instanceof $h}(t.transform,e.transform)}class kQ{constructor(e,n){this.version=e,this.transformResults=n}}class qs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qs}static exists(e){return new qs(void 0,e)}static updateTime(e){return new qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function By(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uy{}function OR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LR(t.key,qs.none()):new Bh(t.key,t.data,qs.none());{const n=t.data,r=Ui.empty();let i=new Zn(wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ec(t.key,r,new _o(i.toArray()),qs.none())}}function OQ(t,e,n){t instanceof Bh?function(i,o,s){const a=i.value.clone(),l=DR(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ec?function(i,o,s){if(!By(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=DR(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(MR(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n,r){return t instanceof Bh?function(o,s,a,l){if(!By(o.precondition,s))return a;const c=o.value.clone(),d=$R(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ec?function(o,s,a,l){if(!By(o.precondition,s))return a;const c=$R(o.fieldTransforms,l,s),d=s.data;return d.setAll(MR(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return By(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function RQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CR(r.transform,i||null);o!=null&&(n===null&&(n=Ui.empty()),n.set(r.field,o))}return n||null}function RR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ru(r,i,(o,s)=>jQ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bh extends Uy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ec extends Uy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DR(t,e,n){const r=new Map;Wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,NQ(s,a,n[i]))}return r}function $R(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,CQ(o,s,e))}return r}class LR extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MQ extends Uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&OQ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PR();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=OR(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(n,r)=>RR(n,r))&&Ru(this.baseMutations,e.baseMutations,(n,r)=>RR(n,r))}}class L_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return SQ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new L_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $Q=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Mt;function FQ(t){switch(t){case de.OK:return Je(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Je(15467,{code:t})}}function FR(t){if(t===void 0)return Ws("GRPC error has no .code"),de.UNKNOWN;switch(t){case Gn.OK:return de.OK;case Gn.CANCELLED:return de.CANCELLED;case Gn.UNKNOWN:return de.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return de.INTERNAL;case Gn.UNAVAILABLE:return de.UNAVAILABLE;case Gn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Gn.NOT_FOUND:return de.NOT_FOUND;case Gn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Gn.ABORTED:return de.ABORTED;case Gn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Gn.DATA_LOSS:return de.DATA_LOSS;default:return Je(39323,{code:t})}}(Mt=Gn||(Gn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=new za([4294967295,4294967295],0);function VR(t){const e=VQ().encode(t),n=new kO;return n.update(e),new Uint8Array(n.digest())}function BR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new za([n,r],0),new za([i,o],0)]}class F_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uh(`Invalid padding: ${n}`);if(r<0)throw new Uh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(za.fromNumber(r)));return i.compare(BQ)===1&&(i=new za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VR(e),[r,i]=BR(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new F_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=VR(e),[r,i]=BR(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zy(rt.min(),i,new An(At),Hs(),Ct())}}class zh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zh(r,n,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class UR{constructor(e,n){this.targetId=e,this.Ce=n}}class zR{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WR{constructor(){this.ve=0,this.Fe=HR(),this.Me=Sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),n=Ct(),r=Ct();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Je(38017,{changeType:o})}}),new zh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=Hy(),this.He=Hy(),this.Ye=new An(At)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(R_(o))if(r===0){const s=new Ge(o.path);this.et(n,s,kr.newNoDocument(s,rt.min()))}else Wt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ga(r).toUint8Array()}catch(l){if(l instanceof ZO)return Ou("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new F_(s,i,o)}catch(l){return Ou(l instanceof Uh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&R_(a.target)){const l=new Ge(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,kr.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ct();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new zy(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=Hy(),this.He=Hy(),this.Ye=new An(At),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new WR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(At),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(At),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WR),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hy(){return new An(Ge.comparator)}function HR(){return new An(Ge.comparator)}const zQ={asc:"ASCENDING",desc:"DESCENDING"},WQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HQ={and:"AND",or:"OR"};class qQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V_(t,e){return t.useProto3Json||Ty(e)?e:{value:e}}function qy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GQ(t,e){return qy(t,e.toTimestamp())}function Jo(t){return Wt(!!t,49232),rt.fromTimestamp(function(n){const r=qa(n);return new pn(r.seconds,r.nanos)}(t))}function B_(t,e){return U_(t,e).canonicalString()}function U_(t,e){const n=function(i){return new Pn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GR(t){const e=Pn.fromString(t);return Wt(ZR(e),10190,{key:e.toString()}),e}function z_(t,e){return B_(t.databaseId,e.path)}function W_(t,e){const n=GR(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(YR(n))}function KR(t,e){return B_(t.databaseId,e)}function KQ(t){const e=GR(t);return e.length===4?Pn.emptyPath():YR(e)}function H_(t){return new Pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YR(t){return Wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XR(t,e,n){return{name:z_(t,e),fields:n.value.mapValue.fields}}function YQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Wt(d===void 0||typeof d=="string",58123),Sr.fromBase64String(d||"")):(Wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?de.UNKNOWN:FR(c.code);return new Be(d,c.message||"")}(s);n=new zR(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=W_(t,r.document.name),o=Jo(r.document.updateTime),s=r.document.createTime?Jo(r.document.createTime):rt.min(),a=new Ui({mapValue:{fields:r.document.fields}}),l=kr.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wy(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=W_(t,r.document),o=r.readTime?Jo(r.readTime):rt.min(),s=kr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wy([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=W_(t,r.document),o=r.removedTargetIds||[];n=new Wy([],o,i,null)}else{if(!("filter"in e))return Je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new LQ(i,o),a=r.targetId;n=new UR(a,s)}}return n}function XQ(t,e){let n;if(e instanceof Bh)n={update:XR(t,e.key,e.value)};else if(e instanceof LR)n={delete:z_(t,e.key)};else if(e instanceof ec)n={update:XR(t,e.key,e.data),updateMask:oJ(e.fieldMask)};else{if(!(e instanceof MQ))return Je(16599,{Vt:e.type});n={verify:z_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof $h)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vy)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Je(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je(27497)}(t,e.precondition)),n}function QQ(t,e){return t&&t.length>0?(Wt(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Jo(i.updateTime):Jo(o);return s.isEqual(rt.min())&&(s=Jo(o)),new kQ(s,i.transformResults||[])}(n,e))):[]}function JQ(t,e){return{documents:[KR(t,e.path)]}}function ZQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KR(t,i);const o=function(c){if(c.length!==0)return JR(Xo.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Vu(h.field),direction:nJ(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=V_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function eJ(t){let e=KQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=QR(f);return h instanceof Xo&&gR(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new My(Bu(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Ty(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Ry(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Ry(m,h)}(n.endAt)),yQ(e,i,s,o,a,"F",l,c)}function tJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bu(n.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bu(n.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bu(n.unaryFilter.field);return er.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bu(n.unaryFilter.field);return er.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}}(t):t.fieldFilter!==void 0?function(n){return er.create(Bu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xo.create(n.compositeFilter.filters.map(r=>QR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je(1026)}}(n.compositeFilter.op))}(t):Je(30097,{filter:t})}function nJ(t){return zQ[t]}function rJ(t){return WQ[t]}function iJ(t){return HQ[t]}function Vu(t){return{fieldPath:t.canonicalString()}}function Bu(t){return wr.fromServerFormat(t.fieldPath)}function JR(t){return t instanceof er?function(n){if(n.op==="=="){if(uR(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NAN"}};if(cR(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uR(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NAN"}};if(cR(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(n.field),op:rJ(n.op),value:n.value}}}(t):t instanceof Xo?function(n){const r=n.getFilters().map(i=>JR(i));return r.length===1?r[0]:{compositeFilter:{op:iJ(n.op),filters:r}}}(t):Je(54877,{filter:t})}function oJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,i,o=rt.min(),s=rt.min(),a=Sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e){this.yt=e}}function aJ(t){const e=eJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(){this.Cn=new cJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Ha.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class cJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(Pn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tM=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(tM,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uu(0)}static cr(){return new Uu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="LruGarbageCollector",uJ=1048576;function rM([t,e],[n,r]){const i=At(t,n);return i===0?At(e,r):i}class dJ{constructor(e){this.Ir=e,this.buffer=new Zn(rM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(nM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>V(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Du(n)?Ce(nM,"Ignoring IndexedDB error during garbage collection: ",n):yield Mu(n)}yield this.Vr(3e5)}))}}class hJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Ey.ce);const r=new dJ(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(eM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ku()<=Pt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function pJ(t,e){return new hJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(){this.changes=new Jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vh(r.mutation,i,_o.empty(),pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ct()){const i=Zl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Mh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Zl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hs();const s=Dh(),a=function(){return Dh()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ec)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Vh(d.mutation,c,d.mutation.getFieldMask(),pn.now())):s.set(c.key,_o.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new gJ(d,(f=s.get(c))!=null?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new An((s,a)=>s-a),o=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||_o.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=PR();d.forEach(h=>{if(!o.has(h)){const m=OR(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(Zl());let a=Nh,l=o;return s.next(c=>ce.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?ce.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ct())).next(d=>({batchId:a,changes:TR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next(r=>{let i=Mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Mh();return this.indexManager.getCollectionParents(e,o).next(a=>ce.forEach(a,l=>{const c=function(f,h){return new Dy(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,kr.newInvalidDocument(d)))});let a=Mh();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&Vh(d.mutation,c,_o.empty(),pn.now()),Ly(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jo(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:aJ(i.bundledQuery),readTime:Jo(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(){this.overlays=new An(Ge.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zl();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Zl(),o=n.length+1,s=new Ge(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new An((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Zl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Zl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return ce.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $Q(n,r));let o=this.qr.get(n);o===void 0&&(o=Ct(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Qr=new Zn(cr.$r),this.Ur=new Zn(cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new cr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ge(new Pn([])),r=new cr(n,e),i=new cr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new Pn([])),r=new cr(n,e),i=new cr(n,e+1);let o=Ct();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new cr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||At(e.Yr,n.Yr)}static Kr(e,n){return At(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(cr.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DQ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new cr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?P_:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cr(n,0),i=new cr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(At);return n.forEach(i=>{const o=new cr(i,0),s=new cr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ge.isDocumentKey(o)||(o=o.child(""));const s=new cr(new Ge(o),0);let a=new Zn(At);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),ce.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(n.mutations,i=>{const o=new cr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new cr(n,0),i=this.Zr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.ri=e,this.docs=function(){return new An(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hs();const s=n.path,a=new Ge(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||XX(YX(d),r)<=0||(i.has(d.key)||Ly(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Je(9500)}ii(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SJ(this)}getSize(e){return ce.resolve(this.size)}}class SJ extends mJ{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.persistence=e,this.si=new Jl(n=>k_(n),O_),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.oi=0,this._i=new q_,this.targetCount=0,this.ai=Uu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ey(0),this.li=!1,this.li=!0,this.hi=new bJ,this.referenceDelegate=e(this),this.Pi=new EJ(this),this.indexManager=new lJ,this.remoteDocumentCache=function(i){return new _J(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new sJ(n),this.Ii=new vJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wJ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new TJ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return ce.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class TJ extends JX{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Ri=new q_,this.Vi=null}static mi(e){return new G_(e)}get fi(){if(this.Vi)return this.Vi;throw Je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,r=>{const i=Ge.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,rt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gy{constructor(e,n){this.persistence=e,this.pi=new Jl(r=>tQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pJ(this,n)}static mi(e,n){return new Gy(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ce.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?ce.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,rt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ky(e.data.value)),n}br(e,n,r){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ct(),i=Ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new K_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yG()?8:ZX(Ir())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new PJ;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ku()<=Pt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(ku()<=Pt.DEBUG&&Ce("QueryEngine","Query:",Fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ku()<=Pt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(n))):ce.resolve())}ys(e,n){if(wR(n))return ce.resolve(null);let r=Qo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=D_(n,null,"F"),r=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ct(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,D_(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return wR(n)||i.isEqual(rt.min())?ce.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?ce.resolve(null):(ku()<=Pt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fu(n)),this.vs(e,s,n,KX(i,Nh)).next(a=>a))})}Ds(e,n){let r=new Zn(SR(e));return n.forEach((i,o)=>{Ly(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ku()<=Pt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Fu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ha.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LocalStore",CJ=3e8;class NJ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new An(At),this.xs=new Jl(o=>k_(o),O_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yJ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function IJ(t,e,n,r){return new NJ(t,e,n,r)}function oM(t,e){return V(this,null,function*(){const n=ct(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ct();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})})}function jJ(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=ce.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(g=>{const y=c.docVersions.get(v);Wt(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sM(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function kJ(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Sr.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=CJ?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let l=Hs(),c=Ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(OJ(o,s,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(rt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return ce.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function OJ(t,e,n){let r=Ct(),i=Ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hs();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(rt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ce(Y_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function RJ(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=P_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MJ(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Ya(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}function X_(t,e,n){return V(this,null,function*(){const r=ct(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Du(s))throw s;Ce(Y_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)})}function aM(t,e,n){const r=ct(t);let i=rt.min(),o=Ct();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=ct(l),h=f.xs.get(d);return h!==void 0?ce.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,d)}(r,s,Qo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:rt.min(),n?o:Ct())).next(a=>(DJ(r,bQ(e),a),{documents:a,Qs:o})))}function DJ(t,e,n){let r=t.Os.get(e)||rt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class lM{constructor(){this.activeTargetIds=PQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $J{constructor(){this.Mo=new lM,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="ConnectivityMonitor";class uM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(cM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(cM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky=null;function Q_(){return Ky===null?Ky=function(){return 268435456+Math.round(2147483648*Math.random())}():Ky++,"0x"+Ky.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="RestConnection",FJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VJ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ny?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=Q_(),a=this.zo(e,n.toUriEncodedString());Ce(J_,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),d=_u(c);return this.Jo(e,a,l,r,d).then(f=>(Ce(J_,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ou(J_,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=FJ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class UJ extends VJ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=Q_();return new Promise((a,l)=>{const c=new OO;c.setWithCredentials(!0),c.listenOnce(RO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sy.NO_ERROR:const f=c.getResponseJson();Ce(Or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Sy.TIMEOUT:Ce(Or,`RPC '${e}' ${s} timed out`),l(new Be(de.DEADLINE_EXCEEDED,"Request time out"));break;case Sy.HTTP_ERROR:const h=c.getStatus();if(Ce(Or,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(_)>=0?_:de.UNKNOWN}(v.status);l(new Be(g,v.message))}else l(new Be(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Be(de.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ce(Or,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ce(Or,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Q_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$O(),a=DO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");Ce(Or,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const v=new BJ({Yo:y=>{m?Ce(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(Ce(Or,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ce(Or,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,_)=>{y.listen(b,w=>{try{_(w)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Ph.EventType.OPEN,()=>{m||(Ce(Or,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(f,Ph.EventType.CLOSE,()=>{m||(m=!0,Ce(Or,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),g(f,Ph.EventType.ERROR,y=>{m||(m=!0,Ou(Or,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new Be(de.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ph.EventType.MESSAGE,y=>{var b;if(!m){const _=y.data[0];Wt(!!_,16349);const w=_,T=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(T){Ce(Or,`RPC '${e}' stream ${i} received error:`,T);const S=T.status;let N=function(C){const j=Gn[C];if(j!==void 0)return FR(j)}(S),E=T.message;N===void 0&&(N=de.INTERNAL,E="Unknown error status: "+S+" with message "+T.message),m=!0,v.a_(new Be(N,E)),f.close()}else Ce(Or,`RPC '${e}' stream ${i} received:`,_),v.u_(_)}}),g(a,MO.STAT_EVENT,y=>{y.stat===b_.PROXY?Ce(Or,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===b_.NOPROXY&&Ce(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Z_(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){return new qQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="PersistentStream";class hM{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return V(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return V(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return V(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(n)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(()=>V(this,null,function*(){this.state=0,this.start()}))}z_(e){return Ce(fM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ce(fM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zJ extends hM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return rt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?rt.min():s.readTime?Jo(s.readTime):rt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=H_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=R_(l)?{documents:JQ(o,l)}:{query:ZQ(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qR(o,s.resumeToken);const c=V_(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(rt.min())>0){a.readTime=qy(o,s.snapshotVersion.toTimestamp());const c=V_(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=tJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=H_(this.serializer),n.removeTarget=e,this.q_(n)}}class WJ extends hM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QQ(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=H_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XQ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{}class qJ extends HJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,U_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(de.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,U_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(de.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class GJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="RemoteStore";class KJ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(()=>V(this,null,function*(){nc(this)&&(Ce(tc,"Restarting streams for network reachability change."),yield function(l){return V(this,null,function*(){const c=ct(l);c.Ea.add(4),yield Wh(c),c.Ra.set("Unknown"),c.Ea.delete(4),yield Xy(c)})}(this))}))}),this.Ra=new GJ(r,i)}}function Xy(t){return V(this,null,function*(){if(nc(t))for(const e of t.da)yield e(!0)})}function Wh(t){return V(this,null,function*(){for(const e of t.da)yield e(!1)})}function pM(t,e){const n=ct(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rS(n)?nS(n):zu(n).O_()&&tS(n,e))}function eS(t,e){const n=ct(t),r=zu(n);n.Ia.delete(e),r.O_()&&mM(n,e),n.Ia.size===0&&(r.O_()?r.L_():nc(n)&&n.Ra.set("Unknown"))}function tS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zu(t).Y_(e)}function mM(t,e){t.Va.Ue(e),zu(t).Z_(e)}function nS(t){t.Va=new UQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zu(t).start(),t.Ra.ua()}function rS(t){return nc(t)&&!zu(t).x_()&&t.Ia.size>0}function nc(t){return ct(t).Ea.size===0}function gM(t){t.Va=void 0}function YJ(t){return V(this,null,function*(){t.Ra.set("Online")})}function XJ(t){return V(this,null,function*(){t.Ia.forEach((e,n)=>{tS(t,e)})})}function QJ(t,e){return V(this,null,function*(){gM(t),rS(t)?(t.Ra.ha(e),nS(t)):t.Ra.set("Unknown")})}function JJ(t,e,n){return V(this,null,function*(){if(t.Ra.set("Online"),e instanceof zR&&e.state===2&&e.cause)try{yield function(i,o){return V(this,null,function*(){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})}(t,e)}catch(r){Ce(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qy(t,r)}else if(e instanceof Wy?t.Va.Ze(e):e instanceof UR?t.Va.st(e):t.Va.tt(e),!n.isEqual(rt.min()))try{const r=yield sM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.Ia.get(l);if(!d)return;o.Ia.set(l,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),mM(o,l);const f=new Ya(d.target,l,c,d.sequenceNumber);tS(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Ce(tc,"Failed to raise snapshot:",r),yield Qy(t,r)}})}function Qy(t,e,n){return V(this,null,function*(){if(!Du(e))throw e;t.Ea.add(1),yield Wh(t),t.Ra.set("Offline"),n||(n=()=>sM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>V(this,null,function*(){Ce(tc,"Retrying IndexedDB access"),yield n(),t.Ea.delete(1),yield Xy(t)}))})}function yM(t,e){return e().catch(n=>Qy(t,n,e))}function Jy(t){return V(this,null,function*(){const e=ct(t),n=Xa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P_;for(;ZJ(e);)try{const i=yield RJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,eZ(e,i)}catch(i){yield Qy(e,i)}vM(e)&&xM(e)})}function ZJ(t){return nc(t)&&t.Ta.length<10}function eZ(t,e){t.Ta.push(e);const n=Xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vM(t){return nc(t)&&!Xa(t).x_()&&t.Ta.length>0}function xM(t){Xa(t).start()}function tZ(t){return V(this,null,function*(){Xa(t).ra()})}function nZ(t){return V(this,null,function*(){const e=Xa(t);for(const n of t.Ta)e.ea(n.mutations)})}function rZ(t,e,n){return V(this,null,function*(){const r=t.Ta.shift(),i=L_.from(r,e,n);yield yM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Jy(t)})}function iZ(t,e){return V(this,null,function*(){e&&Xa(t).X_&&(yield function(r,i){return V(this,null,function*(){if(function(s){return FQ(s)&&s!==de.ABORTED}(i.code)){const o=r.Ta.shift();Xa(r).B_(),yield yM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jy(r)}})}(t,e)),vM(t)&&xM(t)})}function bM(t,e){return V(this,null,function*(){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Ce(tc,"RemoteStore received new credentials");const r=nc(n);n.Ea.add(3),yield Wh(n),r&&n.Ra.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),yield Xy(n)})}function oZ(t,e){return V(this,null,function*(){const n=ct(t);e?(n.Ea.delete(2),yield Xy(n)):e||(n.Ea.add(2),yield Wh(n),n.Ra.set("Unknown"))})}function zu(t){return t.ma||(t.ma=function(n,r,i){const o=ct(n);return o.sa(),new zJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:YJ.bind(null,t),t_:XJ.bind(null,t),r_:QJ.bind(null,t),H_:JJ.bind(null,t)}),t.da.push(e=>V(this,null,function*(){e?(t.ma.B_(),rS(t)?nS(t):t.Ra.set("Unknown")):(yield t.ma.stop(),gM(t))}))),t.ma}function Xa(t){return t.fa||(t.fa=function(n,r,i){const o=ct(n);return o.sa(),new WJ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tZ.bind(null,t),r_:iZ.bind(null,t),ta:nZ.bind(null,t),na:rZ.bind(null,t)}),t.da.push(e=>V(this,null,function*(){e?(t.fa.B_(),yield Jy(t)):(yield t.fa.stop(),t.Ta.length>0&&(Ce(tc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new iS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oS(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),Du(t))return new Be(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Mh(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.ga=new An(Ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Hu(e,n,Wu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aZ{constructor(){this.queries=_M(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ct(n),o=i.queries;i.queries=_M(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Be(de.ABORTED,"Firestore shutting down"))}}function _M(){return new Jl(t=>_R(t),$y)}function lZ(t,e){return V(this,null,function*(){const n=ct(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new sZ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=yield n.onListen(i,!0);break;case 1:o.wa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=oS(s,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&sS(n)})}function cZ(t,e){return V(this,null,function*(){const n=ct(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function uZ(t,e){const n=ct(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&sS(n)}function dZ(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function sS(t){t.Ca.forEach(e=>{e.next()})}var aS,SM;(SM=aS||(aS={})).Ma="default",SM.Cache="cache";class fZ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.key=e}}class TM{constructor(e){this.key=e}}class hZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=SR(e),this.tu=new Wu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wM,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Ly(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),y=!0):this.su(h,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),y=!0):h&&!m&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(m?(s=s.add(m),o=g?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(m,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je(20277,{Rt:y})}};return g(m)-g(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i!=null?i:!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Hu(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TM(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new EM(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lS="SyncEngine";class pZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mZ{constructor(e){this.key=e,this.hu=!1}}class gZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Jl(a=>_R(a),$y),this.Iu=new Map,this.Eu=new Set,this.du=new An(Ge.comparator),this.Au=new Map,this.Ru=new q_,this.Vu={},this.mu=new Map,this.fu=Uu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function yZ(t,e,n=!0){return V(this,null,function*(){const r=OM(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=yield PM(r,e,n,!0),i})}function vZ(t,e){return V(this,null,function*(){const n=OM(t);yield PM(n,e,!0,!1)})}function PM(t,e,n,r){return V(this,null,function*(){const i=yield MJ(t.localStore,Qo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield xZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pM(t.remoteStore,i),a})}function xZ(t,e,n,r,i){return V(this,null,function*(){t.pu=(f,h,m)=>function(g,y,b,_){return V(this,null,function*(){let w=y.view.ru(b);w.Cs&&(w=yield aM(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,w)));const T=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(w,g.isPrimaryClient,T,S);return kM(g,y.targetId,N.au),N.snapshot})}(t,f,h,m);const o=yield aM(t.localStore,e,!0),s=new hZ(e,o.Qs),a=s.ru(o.documents),l=zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);kM(t,n,c.au);const d=new pZ(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot})}function bZ(t,e,n){return V(this,null,function*(){const r=ct(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!$y(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield X_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eS(r.remoteStore,i.targetId),cS(r,i.targetId)}).catch(Mu))):(cS(r,i.targetId),yield X_(r.localStore,i.targetId,!0))})}function wZ(t,e){return V(this,null,function*(){const n=ct(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eS(n.remoteStore,r.targetId))})}function _Z(t,e,n){return V(this,null,function*(){const r=NZ(t);try{const i=yield function(s,a){const l=ct(s),c=pn.now(),d=a.reduce((m,v)=>m.add(v.key),Ct());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Hs(),g=Ct();return l.Ns.getEntries(m,d).next(y=>{v=y,v.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(y=>{f=y;const b=[];for(const _ of a){const w=RQ(_,f.get(_.key).overlayedDocument);w!=null&&b.push(new ec(_.key,w,dR(w.value.mapValue),qs.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:TR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new An(At)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Hh(r,i.changes),yield Jy(r.remoteStore)}catch(i){const o=oS(i,"Failed to persist write");n.reject(o)}})}function AM(t,e){return V(this,null,function*(){const n=ct(t);try{const r=yield kJ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Wt(s.hu,14607):i.removedDocuments.size>0&&(Wt(s.hu,42227),s.hu=!1))}),yield Hh(n,r,e)}catch(r){yield Mu(r)}})}function CM(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ct(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(c=!0)}),c&&sS(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SZ(t,e,n){return V(this,null,function*(){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new An(Ge.comparator);s=s.insert(o,kr.newNoDocument(o,rt.min()));const a=Ct().add(o),l=new zy(rt.min(),new Map,new An(At),s,a);yield AM(r,l),r.du=r.du.remove(o),r.Au.delete(e),uS(r)}else yield X_(r.localStore,e,!1).then(()=>cS(r,e,n)).catch(Mu)})}function EZ(t,e){return V(this,null,function*(){const n=ct(t),r=e.batch.batchId;try{const i=yield jJ(n.localStore,e);IM(n,r,null),NM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hh(n,i)}catch(i){yield Mu(i)}})}function TZ(t,e,n){return V(this,null,function*(){const r=ct(t);try{const i=yield function(s,a){const l=ct(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Wt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);IM(r,e,n),NM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hh(r,i)}catch(i){yield Mu(i)}})}function NM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function IM(t,e,n){const r=ct(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||jM(t,r)})}function jM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(eS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uS(t))}function kM(t,e,n){for(const r of n)r instanceof EM?(t.Ru.addReference(r.key,e),PZ(t,r)):r instanceof TM?(Ce(lS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jM(t,r.key)):Je(19791,{wu:r})}function PZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(lS,"New document in limbo: "+n),t.Eu.add(r),uS(t))}function uS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ge(Pn.fromString(e)),r=t.fu.next();t.Au.set(r,new mZ(n)),t.du=t.du.insert(n,r),pM(t.remoteStore,new Ya(Qo(M_(n.path)),r,"TargetPurposeLimboResolution",Ey.ce))}}function Hh(t,e,n){return V(this,null,function*(){const r=ct(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=K_.As(l.targetId,c);o.push(f)}}))}),yield Promise.all(s),r.Pu.H_(i),yield function(l,c){return V(this,null,function*(){const d=ct(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ce.forEach(c,h=>ce.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ce.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Du(f))throw f;Ce(Y_,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,g)}}})}(r.localStore,o))})}function AZ(t,e){return V(this,null,function*(){const n=ct(t);if(!n.currentUser.isEqual(e)){Ce(lS,"User change. New user:",e.toKey());const r=yield oM(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Be(de.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hh(n,r.Ls)}})}function CZ(t,e){const n=ct(t),r=n.Au.get(e);if(r&&r.hu)return Ct().add(r.key);{let i=Ct();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function OM(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SZ.bind(null,e),e.Pu.H_=uZ.bind(null,e.eventManager),e.Pu.yu=dZ.bind(null,e.eventManager),e}function NZ(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TZ.bind(null,e),e}class Zy{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return V(this,null,function*(){this.serializer=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IJ(this.persistence,new AJ,e.initialUser,this.serializer)}Cu(e){return new iM(G_.mi,this.serializer)}Du(e){return new $J}terminate(){return V(this,null,function*(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}Zy.provider={build:()=>new Zy};class IZ extends Zy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Wt(this.persistence.referenceDelegate instanceof Gy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new iM(r=>Gy.mi(r,n),this.serializer)}}class dS{initialize(e,n){return V(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AZ.bind(null,this.syncEngine),yield oZ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new aZ}()}createDatastore(e){const n=Yy(e.databaseInfo.databaseId),r=function(o){return new UJ(o)}(e.databaseInfo);return function(o,s,a,l){return new qJ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new KJ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>CM(this.syncEngine,n,0),function(){return uM.v()?new uM:new LJ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const f=new gZ(i,o,s,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return V(this,null,function*(){var e,n;yield function(i){return V(this,null,function*(){const o=ct(i);Ce(tc,"RemoteStore shutting down."),o.Ea.add(5),yield Wh(o),o.Aa.shutdown(),o.Ra.set("Unknown")})}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()})}}dS.provider={build:()=>new dS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class kZ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>V(this,null,function*(){Ce(Qa,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Ce(Qa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>V(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function fS(t,e){return V(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Ce(Qa,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>V(this,null,function*(){r.isEqual(i)||(yield oM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function RM(t,e){return V(this,null,function*(){t.asyncQueue.verifyOperationInProgress();const n=yield OZ(t);Ce(Qa,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bM(e.remoteStore,i)),t._onlineComponents=e})}function OZ(t){return V(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Qa,"Using user provided OfflineComponentProvider");try{yield fS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ou("Error using user provided cache. Falling back to memory cache: "+n),yield fS(t,new Zy)}}else Ce(Qa,"Using default OfflineComponentProvider"),yield fS(t,new IZ(void 0));return t._offlineComponents})}function MM(t){return V(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Qa,"Using user provided OnlineComponentProvider"),yield RM(t,t._uninitializedComponentsProvider._online)):(Ce(Qa,"Using default OnlineComponentProvider"),yield RM(t,new dS))),t._onlineComponents})}function RZ(t){return MM(t).then(e=>e.syncEngine)}function MZ(t){return V(this,null,function*(){const e=yield MM(t),n=e.eventManager;return n.onListen=yZ.bind(null,e.syncEngine),n.onUnlisten=bZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wZ.bind(null,e.syncEngine),n})}function DZ(t,e,n={}){const r=new Wa;return t.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return function(o,s,a,l,c){const d=new jZ({next:h=>{d.Nu(),s.enqueueAndForget(()=>cZ(o,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new Be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new Be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new fZ(M_(a.path),d,{includeMetadataChanges:!0,qa:!0});return lZ(o,f)}(yield MZ(t),t.asyncQueue,e,n,r)})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="firestore.googleapis.com",FM=!0;class VM{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LM,this.ssl=FM}else this.host=e.host,this.ssl=(n=e.ssl)!=null?n:FM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uJ)throw new Be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DM((r=e.experimentalLongPollingOptions)!=null?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hS{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DX;switch(r.type){case"firstParty":return new VX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return V(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$M.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),$M.delete(n),r.terminate())}(this),Promise.resolve()}}function $Z(t,e,n,r={}){var c;t=Ah(t,hS);const i=_u(e),o=t._getSettings(),s=F(D({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(b2(`https://${a}`),_2("Firestore",!0)),o.host!==LM&&o.host!==a&&Ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=F(D({},o),{host:a,ssl:i,emulatorOptions:r});if(!Wl(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=jr.MOCK_USER;else{d=lG(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jr(h)}t._authCredentials=new $X(new BO(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pS(this.firestore,e,this._query)}}class ur{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}toJSON(){return{type:ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ch(n,ur._jsonSchema))return new ur(e,r||null,new Ge(Pn.fromString(n.referencePath)))}}ur._jsonSchemaVersion="firestore/documentReference/1.0",ur._jsonSchema={type:qn("string",ur._jsonSchemaVersion),referencePath:qn("string")};class qh extends pS{constructor(e,n,r){super(e,n,M_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new Ge(e))}withConverter(e){return new qh(this.firestore,e,this._path)}}function BM(t,e,...n){if(t=Bi(t),arguments.length===1&&(e=__.newId()),qX("doc","path",e),t instanceof hS){const r=Pn.fromString(e,...n);return WO(r),new ur(t,null,new Ge(r))}{if(!(t instanceof ur||t instanceof qh))throw new Be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pn.fromString(e,...n));return WO(r),new ur(t.firestore,t instanceof qh?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="AsyncQueue";class zM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dM(this,"async_queue_retry"),this._c=()=>{const r=Z_();r&&Ce(UM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Z_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Z_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return V(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Du(e))throw e;Ce(UM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",WM(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=iS.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Je(47125,{Pc:WM(this.nc)})}verifyOperationInProgress(){}Tc(){return V(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mS extends hS{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return V(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zM(e),this._firestoreClient=void 0,yield e}})}}function LZ(t,e){const n=typeof t=="object"?t:k2(),r=typeof t=="string"?t:Ny,i=r_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=sG("firestore");o&&$Z(i,...o)}return i}function HM(t){if(t._terminated)throw new Be(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FZ(t),t._firestoreClient}function FZ(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,d){return new iQ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zi(Sr.fromBase64String(e))}catch(n){throw new Be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zi(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ch(e,zi._jsonSchema))return zi.fromBase64String(e.bytes)}}zi._jsonSchemaVersion="firestore/bytes/1.0",zi._jsonSchema={type:qn("string",zi._jsonSchemaVersion),bytes:qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zo._jsonSchemaVersion}}static fromJSON(e){if(Ch(e,Zo._jsonSchema))return new Zo(e.latitude,e.longitude)}}Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:qn("string",Zo._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ch(e,es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new es(e.vectorValues);throw new Be(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:qn("string",es._jsonSchemaVersion),vectorValues:qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=/^__.*__$/;class BZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ec(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bh(e,this.data,n,this.fieldTransforms)}}function qM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{Ac:t})}}class vS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vS(D(D({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ev(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qM(this.Ac)&&VZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yy(e)}Cc(e,n,r,i=!1){return new vS({Ac:e,methodName:n,Dc:r,path:wr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zZ(t){const e=t._freezeSettings(),n=Yy(t._databaseId);return new UZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WZ(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);XM("Data must be an object, but it was:",s,r);const a=KM(r,s);let l,c;if(o.merge)l=new _o(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=HZ(e,f,n);if(!s.contains(h))throw new Be(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);GZ(d,h)||d.push(h)}l=new _o(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new BZ(new Ui(a),l,c)}class xS extends yS{_toFieldTransform(e){return new IQ(e.path,new $h)}isEqual(e){return e instanceof xS}}function GM(t,e){if(YM(t=Bi(t)))return XM("Unsupported field value:",e,t),KM(t,e);if(t instanceof yS)return function(r,i){if(!qM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=GM(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Bi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=pn.fromDate(r);return{timestampValue:qy(i.serializer,o)}}if(r instanceof pn){const o=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qy(i.serializer,o)}}if(r instanceof Zo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zi)return{bytesValue:qR(i.serializer,r._byteString)};if(r instanceof ur){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof es)return function(s,a){return{mapValue:{fields:{[iR]:{stringValue:sR},[jy]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return $_(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${T_(r)}`)}(t,e)}function KM(t,e){const n={};return QO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,(r,i)=>{const o=GM(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function YM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof Zo||t instanceof zi||t instanceof ur||t instanceof yS||t instanceof es)}function XM(t,e,n){if(!YM(n)||!HO(n)){const r=T_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function HZ(t,e,n){if((e=Bi(e))instanceof gS)return e._internalPath;if(typeof e=="string")return QM(t,e);throw ev("Field path arguments must be of type string or ",t,!1,void 0,n)}const qZ=new RegExp("[~\\*/\\[\\]]");function QM(t,e,n){if(e.search(qZ)>=0)throw ev(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gS(...e.split("."))._internalPath}catch(r){throw ev(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ev(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Be(de.INVALID_ARGUMENT,a+t+l)}function GZ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KZ extends JM{data(){return super.data()}}function ZM(t,e){return typeof e=="string"?QM(t,e):e instanceof gS?e._internalPath:e._delegate._internalPath}class YZ{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ql(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[jy].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Vn(s.doubleValue));return new es(n)}convertGeoPoint(e){return new Zo(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ih(e));default:return null}}convertTimestamp(e){const n=qa(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pn.fromString(e);Wt(ZR(r),9688,{name:e});const i=new jh(r.get(1),r.get(3)),o=new Ge(r.popFirst(5));return i.isEqual(n)||Ws(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends JM{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=rc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",rc._jsonSchema={type:qn("string",rc._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class tv extends rc{data(e={}){return super.data(e)}}class Kh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tv(this._firestore,this._userDataWriter,r.key,r,new Gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new tv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:QZ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=__.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t){t=Ah(t,ur);const e=Ah(t.firestore,mS);return DZ(HM(e),t._key).then(n=>nee(e,t,n))}Kh._jsonSchemaVersion="firestore/querySnapshot/1.0",Kh._jsonSchema={type:qn("string",Kh._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class ZZ extends YZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new zi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,n)}}function eee(t,e,n){t=Ah(t,ur);const r=Ah(t.firestore,mS),i=XZ(t.converter,e,n);return tee(r,[WZ(zZ(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qs.none())])}function tee(t,e){return function(r,i){const o=new Wa;return r.asyncQueue.enqueueAndForget(()=>V(this,null,function*(){return _Z(yield RZ(r),i,o)})),o.promise}(HM(t),e)}function nee(t,e,n){const r=n.docs.get(e._key),i=new ZZ(t);return new rc(t,i,e._key,r,new Gh(n.hasPendingWrites,n.fromCache),e.converter)}function ree(){return new xS("serverTimestamp")}(function(e,n=!0){(function(i){ju=i})(Eu),Su(new Hl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new mS(new LX(r.getProvider("auth-internal")),new BX(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(c.options.projectId,d)}(s,i),s);return o=D({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fa(LO,FO,e),Fa(LO,FO,"esm2020")})();const eD=j2({apiKey:"AIzaSyA3jeqtK7sD7WGDSiGTW0sZO4CxwYimkNc",authDomain:"cuemastersuite.firebaseapp.com",projectId:"cuemastersuite",storageBucket:"cuemastersuite.firebasestorage.app",messagingSenderId:"565840195638",appId:"1:565840195638:web:1aa5acd2440bd998ffa897",measurementId:"G-0WVC9LP6WX"}),nv=RX(eD),tD=LZ(eD),iee=new zs,oee=new Us;function see(){return V(this,null,function*(){try{return(yield _O(nv,iee)).user}catch(t){return console.error("Google sign-in error:",t),null}})}function aee(){return V(this,null,function*(){try{return(yield _O(nv,oee)).user}catch(t){return console.error("Facebook sign-in error:",t),null}})}function lee(){return V(this,null,function*(){try{yield TY(nv)}catch(t){console.error("Sign-out error:",t)}})}function cee(t){return EY(nv,t)}function nD(t){return V(this,null,function*(){try{const e=yield JZ(BM(tD,"users",t));if(e.exists()){const n=e.data();return{isPro:(n==null?void 0:n.isPro)===!0,promoCode:(n==null?void 0:n.promoCode)||null}}return{isPro:!1,promoCode:null}}catch(e){return console.error("Error fetching Pro status:",e),{isPro:!1,promoCode:null}}})}function uee(t,e,n){return V(this,null,function*(){try{return yield eee(BM(tD,"users",t),{isPro:e,promoCode:n||null,updatedAt:ree()},{merge:!0}),!0}catch(r){return console.error("Error setting Pro status:",r),!1}})}const rD=x.createContext(null);function Yh(){const t=x.useContext(rD);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function dee(){const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,o]=x.useState(null),[s,a]=x.useState(!0),l=()=>V(this,null,function*(){if(t){const m=yield nD(t.uid);r(m.isPro),o(m.promoCode)}else{const m=localStorage.getItem("cuemaster_pro_unlocked")==="true",v=localStorage.getItem("cuemaster_promo_code");r(m),o(v)}});return x.useEffect(()=>{const m=cee(v=>V(this,null,function*(){if(e(v),v){const g=yield nD(v.uid);r(g.isPro),o(g.promoCode)}else{const g=localStorage.getItem("cuemaster_pro_unlocked")==="true",y=localStorage.getItem("cuemaster_promo_code");r(g),o(y)}a(!1)}));return()=>m()},[]),{user:t,isPro:n,promoCode:i,isLoading:s,signInWithGoogle:()=>V(this,null,function*(){a(!0),yield see(),a(!1)}),signInWithFacebook:()=>V(this,null,function*(){a(!0),yield aee(),a(!1)}),signOut:()=>V(this,null,function*(){yield lee(),r(!1)}),refreshProStatus:l,unlockPro:m=>V(this,null,function*(){if(t){const v=yield uee(t.uid,!0,m);return v&&(r(!0),o(m||null)),v}else return localStorage.setItem("cuemaster_pro_unlocked","true"),m&&localStorage.setItem("cuemaster_promo_code",m),r(!0),o(m||null),!0})}}function fee({children:t}){const e=dee();return u.jsx(rD.Provider,{value:e,children:t})}const Ke=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t)},e))});Ke.displayName="Card";const hee=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("flex flex-col space-y-1.5 p-6",t)},e))});hee.displayName="CardHeader";const pee=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("text-2xl font-semibold leading-none tracking-tight",t)},e))});pee.displayName="CardTitle";const mee=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("text-sm text-muted-foreground",t)},e))});mee.displayName="CardDescription";const iD=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("p-6 pt-0",t)},e))});iD.displayName="CardContent";const gee=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("div",D({ref:n,className:ft("flex items-center p-6 pt-0",t)},e))});gee.displayName="CardFooter";function rv({icon:t,title:e,subtitle:n,description:r,onClick:i,testId:o,disabled:s=!1}){return u.jsx(Ke,{className:`p-6 ${s?"border border-dashed border-muted-foreground/40 bg-muted/30 cursor-not-allowed opacity-70":"cursor-pointer hover-elevate active-elevate-2 border-l-4 border-l-primary"}`,onClick:s?void 0:i,"data-testid":o,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${s?"bg-muted/50":"bg-primary/10"}`,children:t}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider mb-0.5 ${s?"text-muted-foreground/60":"text-primary"}`,children:n}),u.jsx("h3",{className:`text-xl font-bold mb-1 ${s?"text-muted-foreground":"text-foreground"}`,children:e}),u.jsx("p",{className:`text-sm ${s?"text-muted-foreground/70":"text-muted-foreground"}`,children:r}),s&&u.jsx("p",{className:"text-xs font-medium text-primary/70 mt-3 uppercase tracking-wider",children:"Coming Soon"})]})]})})}function yee(){const[t,e]=x.useState(null),{toast:n}=fu(),r="0.9.7.1",i=()=>{const s=setTimeout(()=>{navigator.clipboard.writeText(r),n({title:"Version copied",description:`v${r} copied to clipboard`,duration:2e3})},500);e(s)},o=()=>{t&&(clearTimeout(t),e(null))};return u.jsxs("span",{className:"text-xs text-muted-foreground select-none cursor-pointer hover-elevate active-elevate-2 px-2 py-1 rounded-md",onMouseDown:i,onMouseUp:o,onMouseLeave:o,onTouchStart:i,onTouchEnd:o,"data-testid":"text-version",children:["v",r]})}var bS="focusScope.autoFocusOnMount",wS="focusScope.autoFocusOnUnmount",oD={bubbles:!1,cancelable:!0},vee="FocusScope",_S=x.forwardRef((t,e)=>{const g=t,{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=g,s=X(g,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,l]=x.useState(null),c=Fn(i),d=Fn(o),f=x.useRef(null),h=mt(e,y=>l(y)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const S=T.target;a.contains(S)?f.current=S:Ja(f.current,{select:!0})},b=function(T){if(m.paused||!a)return;const S=T.relatedTarget;S!==null&&(a.contains(S)||Ja(f.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&Ja(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){lD.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(bS,oD);a.addEventListener(bS,c),a.dispatchEvent(_),_.defaultPrevented||(xee(Eee(sD(a)),{select:!0}),document.activeElement===y&&Ja(a))}return()=>{a.removeEventListener(bS,c),setTimeout(()=>{const _=new CustomEvent(wS,oD);a.addEventListener(wS,d),a.dispatchEvent(_),_.defaultPrevented||Ja(y!=null?y:document.body,{select:!0}),a.removeEventListener(wS,d),lD.remove(m)},0)}}},[a,c,d,m]);const v=x.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const w=y.currentTarget,[T,S]=bee(w);T&&S?!y.shiftKey&&_===S?(y.preventDefault(),n&&Ja(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&Ja(S,{select:!0})):_===w&&y.preventDefault()}},[n,r,m.paused]);return u.jsx(Ue.div,F(D({tabIndex:-1},s),{ref:h,onKeyDown:v}))});_S.displayName=vee;function xee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ja(r,{select:e}),document.activeElement!==n)return}function bee(t){const e=sD(t),n=aD(e,t),r=aD(e.reverse(),t);return[n,r]}function sD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aD(t,e){for(const n of t)if(!wee(n,{upTo:e}))return n}function wee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _ee(t){return t instanceof HTMLInputElement&&"select"in t}function Ja(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_ee(t)&&e&&t.select()}}var lD=See();function See(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cD(t,e),t.unshift(e)},remove(e){var n;t=cD(t,e),(n=t[0])==null||n.resume()}}}function cD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Eee(t){return t.filter(e=>e.tagName!=="A")}var SS=0;function uD(){x.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:dD()),document.body.insertAdjacentElement("beforeend",(n=t[1])!=null?n:dD()),SS++,()=>{SS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),SS--}},[])}function dD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ts=function(){return ts=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ts.apply(this,arguments)};function fD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tee(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var iv="right-scroll-bar-position",ov="width-before-scroll-bar",Pee="with-scroll-bars-hidden",Aee="--removed-body-scroll-bar-size";function ES(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Cee(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nee=typeof window!="undefined"?x.useLayoutEffect:x.useEffect,hD=new WeakMap;function Iee(t,e){var n=Cee(null,function(r){return t.forEach(function(i){return ES(i,r)})});return Nee(function(){var r=hD.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||ES(a,null)}),o.forEach(function(a){i.has(a)||ES(a,s)})}hD.set(n,t)},[t]),n}function jee(t){return t}function kee(t,e){e===void 0&&(e=jee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function Oee(t){t===void 0&&(t={});var e=kee(null);return e.options=ts({async:!0,ssr:!1},t),e}var pD=function(t){var e=t.sideCar,n=fD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ts({},n))};pD.isSideCarExport=!0;function Ree(t,e){return t.useMedium(e),pD}var mD=Oee(),TS=function(){},sv=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:TS,onWheelCapture:TS,onTouchMoveCapture:TS}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,_=t.gapMode,w=fD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,S=Iee([n,e]),N=ts(ts({},w),i);return x.createElement(x.Fragment,null,d&&x.createElement(T,{sideCar:mD,removeScrollBar:c,shards:f,noIsolation:m,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:_}),s?x.cloneElement(x.Children.only(a),ts(ts({},N),{ref:S})):x.createElement(b,ts({},N,{className:l,ref:S}),a))});sv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},sv.classNames={fullWidth:ov,zeroRight:iv};var Mee=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function Dee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mee();return e&&t.setAttribute("nonce",e),t}function $ee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Dee())&&($ee(e,n),Lee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vee=function(){var t=Fee();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gD=function(){var t=Vee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Bee={left:0,top:0,right:0,gap:0},PS=function(t){return parseInt(t||"",10)||0},Uee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[PS(n),PS(r),PS(i)]},zee=function(t){if(t===void 0&&(t="margin"),typeof window=="undefined")return Bee;var e=Uee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Wee=gD(),qu="data-scroll-locked",Hee=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Pee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ov,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(iv," .").concat(iv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ov," .").concat(ov,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(Aee,": ").concat(a,`px;
  }
`)},yD=function(){var t=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(t)?t:0},qee=function(){x.useEffect(function(){return document.body.setAttribute(qu,(yD()+1).toString()),function(){var t=yD()-1;t<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,t.toString())}},[])},Gee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;qee();var o=x.useMemo(function(){return zee(i)},[i]);return x.createElement(Wee,{styles:Hee(o,!e,i,n?"":"!important")})},AS=!1;if(typeof window!="undefined")try{var av=Object.defineProperty({},"passive",{get:function(){return AS=!0,!0}});window.addEventListener("test",av,av),window.removeEventListener("test",av,av)}catch(t){AS=!1}var Gu=AS?{passive:!1}:!1,Kee=function(t){return t.tagName==="TEXTAREA"},vD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kee(t)&&n[e]==="visible")},Yee=function(t){return vD(t,"overflowY")},Xee=function(t){return vD(t,"overflowX")},xD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot!="undefined"&&r instanceof ShadowRoot&&(r=r.host);var i=bD(t,r);if(i){var o=wD(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bD=function(t,e){return t==="v"?Yee(e):Xee(e)},wD=function(t,e){return t==="v"?Qee(e):Jee(e)},Zee=function(t,e){return t==="h"&&e==="rtl"?-1:1},ete=function(t,e,n,r,i){var o=Zee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,d=s>0,f=0,h=0;do{var m=wD(t,a),v=m[0],g=m[1],y=m[2],b=g-y-o*v;(v||b)&&bD(t,a)&&(f+=b,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},lv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_D=function(t){return[t.deltaX,t.deltaY]},SD=function(t){return t&&"current"in t?t.current:t},tte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rte=0,Ku=[];function ite(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(rte++)[0],o=x.useState(gD)[0],s=x.useRef(t);x.useEffect(function(){s.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Tee([t.lockRef.current],(t.shards||[]).map(SD),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var b=lv(g),_=n.current,w="deltaX"in g?g.deltaX:_[0]-b[0],T="deltaY"in g?g.deltaY:_[1]-b[1],S,N=g.target,E=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in g&&E==="h"&&N.type==="range")return!1;var A=xD(E,N);if(!A)return!0;if(A?S=E:(S=E==="v"?"h":"v",A=xD(E,N)),!A)return!1;if(!r.current&&"changedTouches"in g&&(w||T)&&(r.current=S),!S)return!0;var C=r.current||S;return ete(C,y,g,C==="h"?w:T,!0)},[]),l=x.useCallback(function(g){var y=g;if(!(!Ku.length||Ku[Ku.length-1]!==o)){var b="deltaY"in y?_D(y):lv(y),_=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&tte(S.delta,b)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var w=(s.current.shards||[]).map(SD).filter(Boolean).filter(function(S){return S.contains(y.target)}),T=w.length>0?a(y,w[0]):!s.current.noIsolation;T&&y.cancelable&&y.preventDefault()}}},[]),c=x.useCallback(function(g,y,b,_){var w={name:g,delta:y,target:b,should:_,shadowParent:ote(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(T){return T!==w})},1)},[]),d=x.useCallback(function(g){n.current=lv(g),r.current=void 0},[]),f=x.useCallback(function(g){c(g.type,_D(g),g.target,a(g,t.lockRef.current))},[]),h=x.useCallback(function(g){c(g.type,lv(g),g.target,a(g,t.lockRef.current))},[]);x.useEffect(function(){return Ku.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gu),document.addEventListener("touchmove",l,Gu),document.addEventListener("touchstart",d,Gu),function(){Ku=Ku.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Gu),document.removeEventListener("touchmove",l,Gu),document.removeEventListener("touchstart",d,Gu)}},[]);var m=t.removeScrollBar,v=t.inert;return x.createElement(x.Fragment,null,v?x.createElement(o,{styles:nte(i)}):null,m?x.createElement(Gee,{gapMode:t.gapMode}):null)}function ote(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ste=Ree(mD,ite);var CS=x.forwardRef(function(t,e){return x.createElement(sv,ts({},t,{ref:e,sideCar:ste}))});CS.classNames=sv.classNames;var ate=function(t){if(typeof document=="undefined")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yu=new WeakMap,cv=new WeakMap,uv={},NS=0,ED=function(t){return t&&(t.host||ED(t.parentNode))},lte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ED(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cte=function(t,e,n,r){var i=lte(e,Array.isArray(t)?t:[t]);uv[n]||(uv[n]=new WeakMap);var o=uv[n],s=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Yu.get(h)||0)+1,y=(o.get(h)||0)+1;Yu.set(h,g),o.set(h,y),s.push(h),g===1&&v&&cv.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),a.clear(),NS++,function(){s.forEach(function(f){var h=Yu.get(f)-1,m=o.get(f)-1;Yu.set(f,h),o.set(f,m),h||(cv.has(f)||f.removeAttribute(r),cv.delete(f)),m||f.removeAttribute(n)}),NS--,NS||(Yu=new WeakMap,Yu=new WeakMap,cv=new WeakMap,uv={})}},TD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ate(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cte(r,i,n,"aria-hidden")):function(){return null}},IS="Dialog",[PD,DNe]=hi(IS),[ute,So]=PD(IS),AD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,d]=go({prop:r,defaultProp:i,onChange:o});return u.jsx(ute,{scope:e,triggerRef:a,contentRef:l,contentId:Uo(),titleId:Uo(),descriptionId:Uo(),open:c,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};AD.displayName=IS;var CD="DialogTrigger",ND=x.forwardRef((t,e)=>{const s=t,{__scopeDialog:n}=s,r=X(s,["__scopeDialog"]),i=So(CD,n),o=mt(e,i.triggerRef);return u.jsx(Ue.button,F(D({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OS(i.open)},r),{ref:o,onClick:Oe(t.onClick,i.onOpenToggle)}))});ND.displayName=CD;var jS="DialogPortal",[dte,ID]=PD(jS,{forceMount:void 0}),jD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=So(jS,e);return u.jsx(dte,{scope:e,forceMount:n,children:x.Children.map(r,s=>u.jsx(Vi,{present:n||o.open,children:u.jsx(Mg,{asChild:!0,container:i,children:s})}))})};jD.displayName=jS;var dv="DialogOverlay",kD=x.forwardRef((t,e)=>{const n=ID(dv,t.__scopeDialog),s=t,{forceMount:r=n.forceMount}=s,i=X(s,["forceMount"]),o=So(dv,t.__scopeDialog);return o.modal?u.jsx(Vi,{present:r||o.open,children:u.jsx(hte,F(D({},i),{ref:e}))}):null});kD.displayName=dv;var fte=hu("DialogOverlay.RemoveScroll"),hte=x.forwardRef((t,e)=>{const o=t,{__scopeDialog:n}=o,r=X(o,["__scopeDialog"]),i=So(dv,n);return u.jsx(CS,{as:fte,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ue.div,F(D({"data-state":OS(i.open)},r),{ref:e,style:D({pointerEvents:"auto"},r.style)}))})}),ic="DialogContent",OD=x.forwardRef((t,e)=>{const n=ID(ic,t.__scopeDialog),s=t,{forceMount:r=n.forceMount}=s,i=X(s,["forceMount"]),o=So(ic,t.__scopeDialog);return u.jsx(Vi,{present:r||o.open,children:o.modal?u.jsx(pte,F(D({},i),{ref:e})):u.jsx(mte,F(D({},i),{ref:e}))})});OD.displayName=ic;var pte=x.forwardRef((t,e)=>{const n=So(ic,t.__scopeDialog),r=x.useRef(null),i=mt(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return TD(o)},[]),u.jsx(RD,F(D({},t),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault())}))}),mte=x.forwardRef((t,e)=>{const n=So(ic,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return u.jsx(RD,F(D({},t),{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),RD=x.forwardRef((t,e)=>{const d=t,{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o}=d,s=X(d,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=So(ic,n),l=x.useRef(null),c=mt(e,l);return uD(),u.jsxs(u.Fragment,{children:[u.jsx(_S,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(th,F(D({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":OS(a.open)},s),{ref:c,onDismiss:()=>a.onOpenChange(!1)}))}),u.jsxs(u.Fragment,{children:[u.jsx(gte,{titleId:a.titleId}),u.jsx(vte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),kS="DialogTitle",MD=x.forwardRef((t,e)=>{const o=t,{__scopeDialog:n}=o,r=X(o,["__scopeDialog"]),i=So(kS,n);return u.jsx(Ue.h2,F(D({id:i.titleId},r),{ref:e}))});MD.displayName=kS;var DD="DialogDescription",$D=x.forwardRef((t,e)=>{const o=t,{__scopeDialog:n}=o,r=X(o,["__scopeDialog"]),i=So(DD,n);return u.jsx(Ue.p,F(D({id:i.descriptionId},r),{ref:e}))});$D.displayName=DD;var LD="DialogClose",FD=x.forwardRef((t,e)=>{const o=t,{__scopeDialog:n}=o,r=X(o,["__scopeDialog"]),i=So(LD,n);return u.jsx(Ue.button,F(D({type:"button"},r),{ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))}))});FD.displayName=LD;function OS(t){return t?"open":"closed"}var VD="DialogTitleWarning",[$Ne,BD]=A7(VD,{contentName:ic,titleName:kS,docsSlug:"dialog"}),gte=({titleId:t})=>{const e=BD(VD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},yte="DialogDescriptionWarning",vte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BD(yte).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},xte=AD,bte=ND,wte=jD,UD=kD,zD=OD,WD=MD,HD=$D,_te=FD;const Wi=xte,Ste=bte,Ete=wte,qD=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(UD,D({ref:n,className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},e))});qD.displayName=UD.displayName;const gi=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsxs(Ete,{children:[u.jsx(qD,{}),u.jsxs(zD,F(D({ref:r,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},n),{children:[e,u.jsxs(_te,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(uh,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});gi.displayName=zD.displayName;const yi=n=>{var r=n,{className:t}=r,e=X(r,["className"]);return u.jsx("div",D({className:ft("flex flex-col space-y-1.5 text-center sm:text-left",t)},e))};yi.displayName="DialogHeader";const vi=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(WD,D({ref:n,className:ft("text-lg font-semibold leading-none tracking-tight",t)},e))});vi.displayName=WD.displayName;const oc=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(HD,D({ref:n,className:ft("text-sm text-muted-foreground",t)},e))});oc.displayName=HD.displayName;const Tte=Vg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),he=x.forwardRef((s,o)=>{var a=s,{className:t,variant:e,size:n,asChild:r=!1}=a,i=X(a,["className","variant","size","asChild"]);const l=r?N7:"button";return u.jsx(l,D({className:ft(Tte({variant:e,size:n,className:t})),ref:o},i))});he.displayName="Button";function RS(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var MS="Switch",[Pte,LNe]=hi(MS),[Ate,Cte]=Pte(MS),GD=x.forwardRef((t,e)=>{const w=t,{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:d}=w,f=X(w,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[h,m]=x.useState(null),v=mt(e,T=>m(T)),g=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b=!1,_]=go({prop:i,defaultProp:o,onChange:c});return u.jsxs(Ate,{scope:n,checked:b,disabled:a,children:[u.jsx(Ue.button,F(D({type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":XD(b),"data-disabled":a?"":void 0,disabled:a,value:l},f),{ref:v,onClick:Oe(t.onClick,T=>{_(S=>!S),y&&(g.current=T.isPropagationStopped(),g.current||T.stopPropagation())})})),y&&u.jsx(Nte,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});GD.displayName=MS;var KD="SwitchThumb",YD=x.forwardRef((t,e)=>{const o=t,{__scopeSwitch:n}=o,r=X(o,["__scopeSwitch"]),i=Cte(KD,n);return u.jsx(Ue.span,F(D({"data-state":XD(i.checked),"data-disabled":i.disabled?"":void 0},r),{ref:e}))});YD.displayName=KD;var Nte=t=>{const l=t,{control:e,checked:n,bubbles:r=!0}=l,i=X(l,["control","checked","bubbles"]),o=x.useRef(null),s=RS(n),a=B1(e);return x.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[s,n,r]),u.jsx("input",F(D({type:"checkbox","aria-hidden":!0,defaultChecked:n},i),{tabIndex:-1,ref:o,style:F(D(D({},t.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function XD(t){return t?"checked":"unchecked"}var QD=GD,Ite=YD;const Hi=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(QD,F(D({className:ft("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t)},e),{ref:n,children:u.jsx(Ite,{className:ft("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});Hi.displayName=QD.displayName;const DS="cuemaster_analytics_consent",$S="cuemaster_analytics_events",fv="cuemaster_analytics_sessions",hv="cuemaster_analytics_stats",LS="cuemaster_first_launch_complete",pv=()=>Math.random().toString(36).substring(2,15)+Date.now().toString(36);class jte{constructor(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},this.currentSession=null,this.events=[],this.initialized=!1,this.loadConsent(),this.loadEvents()}loadConsent(){try{const e=localStorage.getItem(DS);e&&(this.consent=JSON.parse(e))}catch(e){console.error("Failed to load analytics consent:",e)}}loadEvents(){try{const e=localStorage.getItem($S);e&&(this.events=JSON.parse(e))}catch(e){console.error("Failed to load analytics events:",e),this.events=[]}}saveEvents(){try{this.events.length>1e3&&(this.events=this.events.slice(-1e3)),localStorage.setItem($S,JSON.stringify(this.events))}catch(e){console.error("Failed to save analytics events:",e)}}saveSession(e){try{const n=localStorage.getItem(fv);let r=n?JSON.parse(n):[];r.push(e);const i=100;r.length>i&&(r=r.slice(-i)),localStorage.setItem(fv,JSON.stringify(r))}catch(n){console.error("Failed to save session:",n)}}isFirstLaunch(){return!localStorage.getItem(LS)}markFirstLaunchComplete(){localStorage.setItem(LS,"true")}getConsent(){return D({},this.consent)}hasAnyConsent(){return this.consent.usageStats||this.consent.skillMetrics||this.consent.benchmarking}setConsent(e){this.consent=e;try{localStorage.setItem(DS,JSON.stringify(e))}catch(n){console.error("Failed to save consent:",n)}}startSession(e){this.consent.usageStats&&(this.currentSession&&this.endSession(),this.currentSession={id:pv(),startTime:Date.now(),module:e,events:[]},this.track("session_start",e,"start"))}endSession(){this.currentSession&&(this.currentSession.endTime=Date.now(),this.track("session_end",this.currentSession.module,"end",{duration:this.currentSession.endTime-this.currentSession.startTime}),this.saveSession(this.currentSession),this.updateAggregatedStats(this.currentSession),this.currentSession=null,this.consent.benchmarking&&this.submitToBenchmarking().catch(()=>{}))}track(e,n,r,i){var s;if(!this.consent.usageStats&&e!=="consent_updated")return;const o={id:pv(),type:e,module:n,action:r,data:i,timestamp:Date.now(),sessionId:((s=this.currentSession)==null?void 0:s.id)||"no-session"};this.events.push(o),this.currentSession&&this.currentSession.events.push(o),this.saveEvents()}trackSkillMetric(e,n,r,i){this.consent.skillMetrics&&(this.track("skill_metric",e,n,D({value:r},i)),this.updateSkillStats(e,n,r))}trackFeatureUsage(e,n,r){this.consent.usageStats&&this.track("feature_usage",e,n,r)}updateAggregatedStats(e){try{const n=this.getAggregatedStats();n.totalSessions++,n.totalTimeMs+=(e.endTime||Date.now())-e.startTime,n.lastActive=Date.now(),n.moduleUsage[e.module]||(n.moduleUsage[e.module]={sessions:0,timeMs:0}),n.moduleUsage[e.module].sessions++,n.moduleUsage[e.module].timeMs+=(e.endTime||Date.now())-e.startTime,localStorage.setItem(hv,JSON.stringify(n))}catch(n){console.error("Failed to update aggregated stats:",n)}}updateSkillStats(e,n,r){try{const i=this.getAggregatedStats();switch(e){case"tempo":if(n==="shot_time"){const o=i.skillMetrics.tempo.avgShotTime*i.skillMetrics.tempo.totalShots;i.skillMetrics.tempo.totalShots++,i.skillMetrics.tempo.avgShotTime=(o+r)/i.skillMetrics.tempo.totalShots}else n==="session_complete"&&i.skillMetrics.tempo.sessionsPlayed++;break;case"velocity":if(n==="break_speed"){const o=i.skillMetrics.velocity.avgBreakSpeed*i.skillMetrics.velocity.breaksRecorded;i.skillMetrics.velocity.breaksRecorded++,i.skillMetrics.velocity.avgBreakSpeed=(o+r)/i.skillMetrics.velocity.breaksRecorded,i.skillMetrics.velocity.maxBreakSpeed=Math.max(i.skillMetrics.velocity.maxBreakSpeed,r)}break;case"vectors":if(n==="shot_simulated")i.skillMetrics.vectors.shotsSimulated++;else if(n==="shot_power"){const o=i.skillMetrics.vectors.avgPower*(i.skillMetrics.vectors.shotsSimulated-1);i.skillMetrics.vectors.avgPower=(o+r)/i.skillMetrics.vectors.shotsSimulated}else n==="session_complete"&&i.skillMetrics.vectors.sessionsPlayed++;break;case"truelevel":n==="calibration"?i.skillMetrics.truelevel.calibrationsPerformed++:n==="table_check"&&i.skillMetrics.truelevel.tablesChecked++;break}localStorage.setItem(hv,JSON.stringify(i))}catch(i){console.error("Failed to update skill stats:",i)}}getAggregatedStats(){try{const e=localStorage.getItem(hv);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load aggregated stats:",e)}return{totalSessions:0,totalTimeMs:0,moduleUsage:{},lastActive:0,skillMetrics:{tempo:{avgShotTime:0,totalShots:0,sessionsPlayed:0},velocity:{avgBreakSpeed:0,maxBreakSpeed:0,breaksRecorded:0},vectors:{shotsSimulated:0,avgPower:0,sessionsPlayed:0},truelevel:{calibrationsPerformed:0,tablesChecked:0}}}}getSessions(){try{const e=localStorage.getItem(fv);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load sessions:",e),[]}}getEvents(){return[...this.events]}exportData(){const e={consent:this.consent,stats:this.getAggregatedStats(),sessions:this.getSessions(),events:this.events,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}deleteAllData(){this.events=[],this.currentSession=null,localStorage.removeItem($S),localStorage.removeItem(fv),localStorage.removeItem(hv)}resetConsent(){this.consent={usageStats:!1,skillMetrics:!1,benchmarking:!1},localStorage.removeItem(DS),localStorage.removeItem(LS)}getAnonymousId(){const e="cuemaster_anonymous_id";let n=localStorage.getItem(e);return n||(n=pv()+pv(),localStorage.setItem(e,n)),n}submitToBenchmarking(){return V(this,null,function*(){if(!this.consent.benchmarking)return!1;try{const e=this.getAggregatedStats(),n={anonymousId:this.getAnonymousId(),timestamp:new Date().toISOString(),moduleUsage:e.moduleUsage,skillMetrics:e.skillMetrics},r="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";if(r){const i=encodeURIComponent(JSON.stringify(n)),o=`${r}?action=submit&data=${i}`,s=yield fetch(o,{method:"GET"});return s.ok?(yield s.json()).result==="success":!1}}catch(e){return console.error("Failed to submit benchmarking data:",e),!1}})}getExternalSummary(){return V(this,null,function*(){const e="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";try{const n=yield fetch(`${e}?action=summary`);if(n.ok)return yield n.json()}catch(n){console.error("Failed to fetch external summary:",n)}return null})}}const Dt=new jte;function kte({open:t,onComplete:e}){const[n,r]=x.useState(0),[i,o]=x.useState({usageStats:!1,skillMetrics:!1,benchmarking:!1}),s=()=>{Dt.setConsent(i),Dt.markFirstLaunchComplete(),Dt.track("consent_updated","home","initial_consent",{consent:i}),e()},a=()=>{const c={usageStats:!0,skillMetrics:!0,benchmarking:!0};o(c),Dt.setConsent(c),Dt.markFirstLaunchComplete(),Dt.track("consent_updated","home","accept_all",{consent:c}),e()},l=()=>{const c={usageStats:!1,skillMetrics:!1,benchmarking:!1};Dt.setConsent(c),Dt.markFirstLaunchComplete(),e()};return u.jsx(Wi,{open:t,onOpenChange:()=>{},children:u.jsxs(gi,{className:"max-w-md",onPointerDownOutside:c=>c.preventDefault(),children:[n===0&&u.jsxs(u.Fragment,{children:[u.jsxs(yi,{children:[u.jsxs(vi,{className:"text-xl flex items-center gap-2",children:[u.jsx(Ug,{className:"w-5 h-5 text-primary"}),"Welcome to CueMaster Suite"]}),u.jsx(oc,{className:"text-left pt-2",children:"Help us improve your experience by sharing anonymous usage data. Your privacy is our priority."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"What we collect (with your permission):"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ja,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Which tools you use and for how long"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ch,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Your skill metrics to show personal progress"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(pu,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),u.jsx("span",{children:"Anonymous benchmarks to compare with others"})]})]})]}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-sm text-primary mb-2",children:"Your data stays local"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data is stored on your device. You can export or delete it anytime from Settings. No account required."})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(he,{onClick:a,className:"w-full","data-testid":"button-accept-all",children:"Accept All"}),u.jsxs(he,{variant:"outline",onClick:()=>r(1),className:"w-full","data-testid":"button-customize",children:["Customize",u.jsx(sk,{className:"w-4 h-4 ml-1"})]}),u.jsx(he,{variant:"ghost",onClick:l,className:"w-full text-muted-foreground","data-testid":"button-decline-all",children:"Continue without sharing"})]})]}),n===1&&u.jsxs(u.Fragment,{children:[u.jsxs(yi,{children:[u.jsx(vi,{className:"text-xl",children:"Customize Your Preferences"}),u.jsx(oc,{className:"text-left pt-2",children:"Choose exactly what you want to share. You can change these anytime in Settings."})]}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ja,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use, session duration, and feature adoption. Helps us understand what's valuable."})]}),u.jsx(Hi,{checked:i.usageStats,onCheckedChange:c=>o(d=>F(D({},d),{usageStats:c})),"data-testid":"switch-usage-stats"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ch,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record shot times, break speeds, and other performance data. See your personal progress over time."})]}),u.jsx(Hi,{checked:i.skillMetrics,onCheckedChange:c=>o(d=>F(D({},d),{skillMetrics:c})),"data-testid":"switch-skill-metrics"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-4 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pu,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-medium text-sm",children:"Anonymous Benchmarking"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compare your stats with other players anonymously. See where you rank and track improvement.",!i.usageStats&&u.jsx("span",{className:"text-primary",children:" (Requires Usage Statistics)"})]})]}),u.jsx(Hi,{checked:i.benchmarking,onCheckedChange:c=>o(d=>F(D({},d),{benchmarking:c,usageStats:c?!0:d.usageStats})),"data-testid":"switch-benchmarking"})]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(he,{variant:"outline",onClick:()=>r(0),className:"flex-1","data-testid":"button-back",children:"Back"}),u.jsx(he,{onClick:s,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"})]})]})]})})}const JD=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx("textarea",D({className:ft("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n},e))});JD.displayName="Textarea";function Xh(t,[e,n]){return Math.min(n,Math.max(e,t))}var Ote=x.createContext(void 0);function Xu(t){const e=x.useContext(Ote);return t||e||"ltr"}var Rte=[" ","Enter","ArrowUp","ArrowDown"],Mte=[" ","Enter"],Qh="Select",[mv,gv,Dte]=eh(Qh),[Qu,FNe]=hi(Qh,[Dte,ty]),yv=ty(),[$te,Za]=Qu(Qh),[Lte,Fte]=Qu(Qh),ZD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,g=yv(e),[y,b]=x.useState(null),[_,w]=x.useState(null),[T,S]=x.useState(!1),N=Xu(c),[E=!1,A]=go({prop:r,defaultProp:i,onChange:o}),[C,j]=go({prop:s,defaultProp:a,onChange:l}),I=x.useRef(null),O=y?v||!!y.closest("form"):!0,[R,H]=x.useState(new Set),B=Array.from(R).map(W=>W.props.value).join(";");return u.jsx(Iq,F(D({},g),{children:u.jsxs($te,{required:m,scope:e,trigger:y,onTriggerChange:b,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:S,contentId:Uo(),value:C,onValueChange:j,open:E,onOpenChange:A,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[u.jsx(mv.Provider,{scope:e,children:u.jsx(Lte,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(W=>{H(G=>new Set(G).add(W))},[]),onNativeOptionRemove:x.useCallback(W=>{H(G=>{const U=new Set(G);return U.delete(W),U})},[]),children:n})}),O?u.jsxs(E$,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:W=>j(W.target.value),disabled:h,form:v,children:[C===void 0?u.jsx("option",{value:""}):null,Array.from(R)]},B):null]})}))};ZD.displayName=Qh;var e$="SelectTrigger",t$=x.forwardRef((t,e)=>{const g=t,{__scopeSelect:n,disabled:r=!1}=g,i=X(g,["__scopeSelect","disabled"]),o=yv(n),s=Za(e$,n),a=s.disabled||r,l=mt(e,s.onTriggerChange),c=gv(n),d=x.useRef("touch"),[f,h,m]=T$(y=>{const b=c().filter(T=>!T.disabled),_=b.find(T=>T.value===s.value),w=P$(b,y,_);w!==void 0&&s.onValueChange(w.value)}),v=y=>{a||(s.onOpenChange(!0),m()),y&&(s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(e2,F(D({asChild:!0},o),{children:u.jsx(Ue.button,F(D({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":S$(s.value)?"":void 0},i),{ref:l,onClick:Oe(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:Oe(i.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Oe(i.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(b&&y.key===" ")&&Rte.includes(y.key)&&(v(),y.preventDefault())})}))}))});t$.displayName=e$;var n$="SelectValue",r$=x.forwardRef((t,e)=>{const h=t,{__scopeSelect:n,className:r,style:i,children:o,placeholder:s=""}=h,a=X(h,["__scopeSelect","className","style","children","placeholder"]),l=Za(n$,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=mt(e,l.onValueNodeChange);return lr(()=>{c(d)},[c,d]),u.jsx(Ue.span,F(D({},a),{ref:f,style:{pointerEvents:"none"},children:S$(l.value)?u.jsx(u.Fragment,{children:s}):o}))});r$.displayName=n$;var Vte="SelectIcon",i$=x.forwardRef((t,e)=>{const o=t,{__scopeSelect:n,children:r}=o,i=X(o,["__scopeSelect","children"]);return u.jsx(Ue.span,F(D({"aria-hidden":!0},i),{ref:e,children:r||""}))});i$.displayName=Vte;var Bte="SelectPortal",o$=t=>u.jsx(Mg,D({asChild:!0},t));o$.displayName=Bte;var sc="SelectContent",s$=x.forwardRef((t,e)=>{const n=Za(sc,t.__scopeSelect),[r,i]=x.useState();if(lr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ul.createPortal(u.jsx(a$,{scope:t.__scopeSelect,children:u.jsx(mv.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(l$,F(D({},t),{ref:e}))});s$.displayName=sc;var Eo=10,[a$,el]=Qu(sc),Ute="SelectContentImpl",zte=hu("SelectContent.RemoveScroll"),l$=x.forwardRef((t,e)=>{const Xe=t,{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}=Xe,b=X(Xe,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),_=Za(sc,n),[w,T]=x.useState(null),[S,N]=x.useState(null),E=mt(e,me=>T(me)),[A,C]=x.useState(null),[j,I]=x.useState(null),O=gv(n),[R,H]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(w)return TD(w)},[w]),uD();const W=x.useCallback(me=>{const[re,...Se]=O().map(ve=>ve.ref.current),[xe]=Se.slice(-1),ee=document.activeElement;for(const ve of me)if(ve===ee||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===re&&S&&(S.scrollTop=0),ve===xe&&S&&(S.scrollTop=S.scrollHeight),ve==null||ve.focus(),document.activeElement!==ee))return},[O,S]),G=x.useCallback(()=>W([A,w]),[W,A,w]);x.useEffect(()=>{R&&G()},[R,G]);const{onOpenChange:U,triggerPointerDownPosRef:z}=_;x.useEffect(()=>{if(w){let me={x:0,y:0};const re=xe=>{var ee,ve,De,ot;me={x:Math.abs(Math.round(xe.pageX)-((ve=(ee=z.current)==null?void 0:ee.x)!=null?ve:0)),y:Math.abs(Math.round(xe.pageY)-((ot=(De=z.current)==null?void 0:De.y)!=null?ot:0))}},Se=xe=>{me.x<=10&&me.y<=10?xe.preventDefault():w.contains(xe.target)||U(!1),document.removeEventListener("pointermove",re),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",Se,{capture:!0})}}},[w,U,z]),x.useEffect(()=>{const me=()=>U(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[U]);const[Q,J]=T$(me=>{const re=O().filter(ee=>!ee.disabled),Se=re.find(ee=>ee.ref.current===document.activeElement),xe=P$(re,me,Se);xe&&setTimeout(()=>xe.ref.current.focus())}),oe=x.useCallback((me,re,Se)=>{const xe=!B.current&&!Se;(_.value!==void 0&&_.value===re||xe)&&(C(me),xe&&(B.current=!0))},[_.value]),be=x.useCallback(()=>w==null?void 0:w.focus(),[w]),Me=x.useCallback((me,re,Se)=>{const xe=!B.current&&!Se;(_.value!==void 0&&_.value===re||xe)&&I(me)},[_.value]),ze=r==="popper"?FS:c$,it=ze===FS?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return u.jsx(a$,{scope:n,content:w,viewport:S,onViewportChange:N,itemRefCallback:oe,selectedItem:A,onItemLeave:be,itemTextRefCallback:Me,focusSelectedItem:G,selectedItemText:j,position:r,isPositioned:R,searchRef:Q,children:u.jsx(CS,{as:zte,allowPinchZoom:!0,children:u.jsx(_S,{asChild:!0,trapped:_.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Oe(i,me=>{var re;(re=_.trigger)==null||re.focus({preventScroll:!0}),me.preventDefault()}),children:u.jsx(th,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(ze,F(D(D({role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:me=>me.preventDefault()},b),it),{onPlaced:()=>H(!0),ref:E,style:D({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:Oe(b.onKeyDown,me=>{const re=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!re&&me.key.length===1&&J(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let xe=O().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(me.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ee=me.target,ve=xe.indexOf(ee);xe=xe.slice(ve+1)}setTimeout(()=>W(xe)),me.preventDefault()}})}))})})})})});l$.displayName=Ute;var Wte="SelectItemAlignedPosition",c$=x.forwardRef((t,e)=>{const E=t,{__scopeSelect:n,onPlaced:r}=E,i=X(E,["__scopeSelect","onPlaced"]),o=Za(sc,n),s=el(sc,n),[a,l]=x.useState(null),[c,d]=x.useState(null),f=mt(e,A=>d(A)),h=gv(n),m=x.useRef(!1),v=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:_}=s,w=x.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&y&&b){const A=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(o.dir!=="rtl"){const ee=I.left-C.left,ve=j.left-ee,De=A.left-ve,ot=A.width+De,st=Math.max(ot,C.width),Lt=window.innerWidth-Eo,Ft=Xh(ve,[Eo,Math.max(Eo,Lt-st)]);a.style.minWidth=ot+"px",a.style.left=Ft+"px"}else{const ee=C.right-I.right,ve=window.innerWidth-j.right-ee,De=window.innerWidth-A.right-ve,ot=A.width+De,st=Math.max(ot,C.width),Lt=window.innerWidth-Eo,Ft=Xh(ve,[Eo,Math.max(Eo,Lt-st)]);a.style.minWidth=ot+"px",a.style.right=Ft+"px"}const O=h(),R=window.innerHeight-Eo*2,H=g.scrollHeight,B=window.getComputedStyle(c),W=parseInt(B.borderTopWidth,10),G=parseInt(B.paddingTop,10),U=parseInt(B.borderBottomWidth,10),z=parseInt(B.paddingBottom,10),Q=W+G+H+z+U,J=Math.min(y.offsetHeight*5,Q),oe=window.getComputedStyle(g),be=parseInt(oe.paddingTop,10),Me=parseInt(oe.paddingBottom,10),ze=A.top+A.height/2-Eo,it=R-ze,Xe=y.offsetHeight/2,me=y.offsetTop+Xe,re=W+G+me,Se=Q-re;if(re<=ze){const ee=O.length>0&&y===O[O.length-1].ref.current;a.style.bottom="0px";const ve=c.clientHeight-g.offsetTop-g.offsetHeight,De=Math.max(it,Xe+(ee?Me:0)+ve+U),ot=re+De;a.style.height=ot+"px"}else{const ee=O.length>0&&y===O[0].ref.current;a.style.top="0px";const De=Math.max(ze,W+g.offsetTop+(ee?be:0)+Xe)+Se;a.style.height=De+"px",g.scrollTop=re-ze+g.offsetTop}a.style.margin=`${Eo}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,c,g,y,b,o.dir,r]);lr(()=>w(),[w]);const[T,S]=x.useState();lr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const N=x.useCallback(A=>{A&&v.current===!0&&(w(),_==null||_(),v.current=!1)},[w,_]);return u.jsx(qte,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:u.jsx(Ue.div,F(D({},i),{ref:f,style:D({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});c$.displayName=Wte;var Hte="SelectPopperPosition",FS=x.forwardRef((t,e)=>{const a=t,{__scopeSelect:n,align:r="start",collisionPadding:i=Eo}=a,o=X(a,["__scopeSelect","align","collisionPadding"]),s=yv(n);return u.jsx(t2,F(D(D({},s),o),{ref:e,align:r,collisionPadding:i,style:F(D({boxSizing:"border-box"},o.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});FS.displayName=Hte;var[qte,VS]=Qu(sc,{}),BS="SelectViewport",u$=x.forwardRef((t,e)=>{const c=t,{__scopeSelect:n,nonce:r}=c,i=X(c,["__scopeSelect","nonce"]),o=el(BS,n),s=VS(BS,n),a=mt(e,o.onViewportChange),l=x.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(mv.Slot,{scope:n,children:u.jsx(Ue.div,F(D({"data-radix-select-viewport":"",role:"presentation"},i),{ref:a,style:D({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:Oe(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&h){const v=Math.abs(l.current-f.scrollTop);if(v>0){const g=window.innerHeight-Eo*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),_=Math.max(y,b);if(_<g){const w=_+v,T=Math.min(g,w),S=w-T;h.style.height=T+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})}))})]})});u$.displayName=BS;var d$="SelectGroup",[Gte,Kte]=Qu(d$),Yte=x.forwardRef((t,e)=>{const o=t,{__scopeSelect:n}=o,r=X(o,["__scopeSelect"]),i=Uo();return u.jsx(Gte,{scope:n,id:i,children:u.jsx(Ue.div,F(D({role:"group","aria-labelledby":i},r),{ref:e}))})});Yte.displayName=d$;var f$="SelectLabel",h$=x.forwardRef((t,e)=>{const o=t,{__scopeSelect:n}=o,r=X(o,["__scopeSelect"]),i=Kte(f$,n);return u.jsx(Ue.div,F(D({id:i.id},r),{ref:e}))});h$.displayName=f$;var vv="SelectItem",[Xte,p$]=Qu(vv),m$=x.forwardRef((t,e)=>{const _=t,{__scopeSelect:n,value:r,disabled:i=!1,textValue:o}=_,s=X(_,["__scopeSelect","value","disabled","textValue"]),a=Za(vv,n),l=el(vv,n),c=a.value===r,[d,f]=x.useState(o!=null?o:""),[h,m]=x.useState(!1),v=mt(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,i)}),g=Uo(),y=x.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Xte,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:x.useCallback(w=>{f(T=>{var S;return T||((S=w==null?void 0:w.textContent)!=null?S:"").trim()})},[]),children:u.jsx(mv.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ue.div,F(D({role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s),{ref:v,onFocus:Oe(s.onFocus,()=>m(!0)),onBlur:Oe(s.onBlur,()=>m(!1)),onClick:Oe(s.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Oe(s.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Oe(s.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Oe(s.onPointerMove,w=>{var T;y.current=w.pointerType,i?(T=l.onItemLeave)==null||T.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(s.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:Oe(s.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Mte.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})}))})})});m$.displayName=vv;var Jh="SelectItemText",g$=x.forwardRef((t,e)=>{const b=t,{__scopeSelect:n,className:r,style:i}=b,o=X(b,["__scopeSelect","className","style"]),s=Za(Jh,n),a=el(Jh,n),l=p$(Jh,n),c=Fte(Jh,n),[d,f]=x.useState(null),h=mt(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return lr(()=>(g(v),()=>y(v)),[g,y,v]),u.jsxs(u.Fragment,{children:[u.jsx(Ue.span,F(D({id:l.textId},o),{ref:h})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ul.createPortal(o.children,s.valueNode):null]})});g$.displayName=Jh;var y$="SelectItemIndicator",v$=x.forwardRef((t,e)=>{const o=t,{__scopeSelect:n}=o,r=X(o,["__scopeSelect"]);return p$(y$,n).isSelected?u.jsx(Ue.span,F(D({"aria-hidden":!0},r),{ref:e})):null});v$.displayName=y$;var US="SelectScrollUpButton",x$=x.forwardRef((t,e)=>{const n=el(US,t.__scopeSelect),r=VS(US,t.__scopeSelect),[i,o]=x.useState(!1),s=mt(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(w$,F(D({},t),{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null});x$.displayName=US;var zS="SelectScrollDownButton",b$=x.forwardRef((t,e)=>{const n=el(zS,t.__scopeSelect),r=VS(zS,t.__scopeSelect),[i,o]=x.useState(!1),s=mt(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(w$,F(D({},t),{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null});b$.displayName=zS;var w$=x.forwardRef((t,e)=>{const c=t,{__scopeSelect:n,onAutoScroll:r}=c,i=X(c,["__scopeSelect","onAutoScroll"]),o=el("SelectScrollButton",n),s=x.useRef(null),a=gv(n),l=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),lr(()=>{var f;const d=a().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ue.div,F(D({"aria-hidden":!0},i),{ref:e,style:D({flexShrink:0},i.style),onPointerDown:Oe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Oe(i.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Oe(i.onPointerLeave,()=>{l()})}))}),Qte="SelectSeparator",_$=x.forwardRef((t,e)=>{const i=t,{__scopeSelect:n}=i,r=X(i,["__scopeSelect"]);return u.jsx(Ue.div,F(D({"aria-hidden":!0},r),{ref:e}))});_$.displayName=Qte;var WS="SelectArrow",Jte=x.forwardRef((t,e)=>{const a=t,{__scopeSelect:n}=a,r=X(a,["__scopeSelect"]),i=yv(n),o=Za(WS,n),s=el(WS,n);return o.open&&s.position==="popper"?u.jsx(n2,F(D(D({},i),r),{ref:e})):null});Jte.displayName=WS;function S$(t){return t===""||t===void 0}var E$=x.forwardRef((t,e)=>{const a=t,{value:n}=a,r=X(a,["value"]),i=x.useRef(null),o=mt(e,i),s=RS(n);return x.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[s,n]),u.jsx(nh,{asChild:!0,children:u.jsx("select",F(D({},r),{ref:o,defaultValue:n}))})});E$.displayName="BubbleSelect";function T$(t){const e=Fn(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function P$(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Zte(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Zte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ene=ZD,A$=t$,tne=r$,nne=i$,rne=o$,C$=s$,ine=u$,N$=h$,I$=m$,one=g$,sne=v$,j$=x$,k$=b$,O$=_$;const R$=ene,M$=tne,HS=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsxs(A$,F(D({ref:r,className:ft("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},n),{children:[e,u.jsx(nne,{asChild:!0,children:u.jsx(ih,{className:"h-4 w-4 opacity-50"})})]}))});HS.displayName=A$.displayName;const D$=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(j$,F(D({ref:n,className:ft("flex cursor-default items-center justify-center py-1",t)},e),{children:u.jsx(_W,{className:"h-4 w-4"})}))});D$.displayName=j$.displayName;const $$=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(k$,F(D({ref:n,className:ft("flex cursor-default items-center justify-center py-1",t)},e),{children:u.jsx(ih,{className:"h-4 w-4"})}))});$$.displayName=k$.displayName;const qS=x.forwardRef((o,i)=>{var s=o,{className:t,children:e,position:n="popper"}=s,r=X(s,["className","children","position"]);return u.jsx(rne,{children:u.jsxs(C$,F(D({ref:i,className:ft("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n},r),{children:[u.jsx(D$,{}),u.jsx(ine,{className:ft("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx($$,{})]}))})});qS.displayName=C$.displayName;const ane=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(N$,D({ref:n,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",t)},e))});ane.displayName=N$.displayName;const dr=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsxs(I$,F(D({ref:r,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},n),{children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(sne,{children:u.jsx(bW,{className:"h-4 w-4"})})}),u.jsx(one,{children:e})]}))});dr.displayName=I$.displayName;const lne=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(O$,D({ref:n,className:ft("-mx-1 my-1 h-px bg-muted",t)},e))});lne.displayName=O$.displayName;const cne=[{value:"tempo",label:"Tempo (Shot Clock)"},{value:"velocity",label:"Velocity (Break Speed)"},{value:"truelevel",label:"TrueLevel (Table Gauge)"},{value:"vectors",label:"Vectors (Cueing Emulator)"},{value:"general",label:"General / App Overall"}];function une(){const{promoCode:t,user:e}=Yh(),{toast:n}=fu(),[r,i]=x.useState(!1),[o,s]=x.useState(""),[a,l]=x.useState(0),[c,d]=x.useState(""),[f,h]=x.useState(!1);if(!((t==null?void 0:t.toUpperCase())==="EARLYBIRD"))return null;const v=()=>V(this,null,function*(){if(!o||a===0){n({title:"Missing info",description:"Please select a tool and rating",variant:"destructive"});return}h(!0);try{const g={tool:o,rating:a,comment:c,userId:(e==null?void 0:e.uid)||"anonymous",userEmail:(e==null?void 0:e.email)||"anonymous",promoCode:t,timestamp:new Date().toISOString()},y="https://script.google.com/macros/s/AKfycbxH1ctwtZvyzCzAX9rYdo4soR_N7F0M7TbUaI3-0Gi_YidzeUOhsYs5vDbEtNm81wiAlw/exec";y&&(yield fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D({action:"feedback"},g))})),n({title:"Thank you!",description:"Your feedback helps us improve CueMaster Suite."}),i(!1),s(""),l(0),d("")}catch(g){console.error("Feedback error:",g),n({title:"Feedback sent",description:"Thank you for your input!"}),i(!1)}finally{h(!1)}});return u.jsxs(u.Fragment,{children:[u.jsx(he,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 rounded-full w-14 h-14 shadow-lg z-50",size:"icon","data-testid":"button-feedback",children:u.jsx(ck,{className:"w-6 h-6"})}),u.jsx(Wi,{open:r,onOpenChange:i,children:u.jsxs(gi,{className:"max-w-sm",children:[u.jsxs(yi,{children:[u.jsxs(vi,{className:"flex items-center gap-2",children:[u.jsx(ck,{className:"w-5 h-5 text-primary"}),"Early Adopter Feedback"]}),u.jsx(oc,{children:"Thanks for being an early adopter! Your feedback shapes CueMaster."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Which tool?"}),u.jsxs(R$,{value:o,onValueChange:s,children:[u.jsx(HS,{"data-testid":"select-feedback-tool",children:u.jsx(M$,{placeholder:"Select a tool"})}),u.jsx(qS,{children:cne.map(g=>u.jsx(dr,{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rating"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>u.jsx("button",{onClick:()=>l(g),className:"p-1 transition-colors","data-testid":`button-star-${g}`,children:u.jsx(FW,{className:`w-8 h-8 ${g<=a?"fill-amber-400 text-amber-400":"text-muted-foreground"}`})},g))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comments (optional)"}),u.jsx(JD,{placeholder:"What's working? What could be better?",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-feedback-comment"})]}),u.jsxs(he,{onClick:v,className:"w-full gap-2",disabled:f,"data-testid":"button-submit-feedback",children:[u.jsx($W,{className:"w-4 h-4"}),f?"Sending...":"Send Feedback"]})]})]})})]})}const dne=Vg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function fne(r){var i=r,{className:t,variant:e}=i,n=X(i,["className","variant"]);return u.jsx("div",D({className:ft(dne({variant:e}),t)},n))}var hne="Label",L$=x.forwardRef((t,e)=>u.jsx(Ue.label,F(D({},t),{ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}})));L$.displayName=hne;var F$=L$;const pne=Vg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xn=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(F$,D({ref:n,className:ft(pne(),t)},e))});xn.displayName=F$.displayName;var GS="rovingFocusGroup.onEntryFocus",mne={bubbles:!1,cancelable:!0},xv="RovingFocusGroup",[KS,V$,gne]=eh(xv),[yne,B$]=hi(xv,[gne]),[vne,xne]=yne(xv),U$=x.forwardRef((t,e)=>u.jsx(KS.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(KS.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(bne,F(D({},t),{ref:e}))})}));U$.displayName=xv;var bne=x.forwardRef((t,e)=>{const A=t,{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1}=A,f=X(A,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),h=x.useRef(null),m=mt(e,h),v=Xu(o),[g=null,y]=go({prop:s,defaultProp:a,onChange:l}),[b,_]=x.useState(!1),w=Fn(c),T=V$(n),S=x.useRef(!1),[N,E]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(GS,w),()=>C.removeEventListener(GS,w)},[w]),u.jsx(vne,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(C=>y(C),[y]),onItemShiftTab:x.useCallback(()=>_(!0),[]),onFocusableItemAdd:x.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>E(C=>C-1),[]),children:u.jsx(Ue.div,F(D({tabIndex:b||N===0?-1:0,"data-orientation":r},f),{ref:m,style:D({outline:"none"},t.style),onMouseDown:Oe(t.onMouseDown,()=>{S.current=!0}),onFocus:Oe(t.onFocus,C=>{const j=!S.current;if(C.target===C.currentTarget&&j&&!b){const I=new CustomEvent(GS,mne);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=T().filter(G=>G.focusable),R=O.find(G=>G.active),H=O.find(G=>G.id===g),W=[R,H,...O].filter(Boolean).map(G=>G.ref.current);H$(W,d)}}S.current=!1}),onBlur:Oe(t.onBlur,()=>_(!1))}))})}),z$="RovingFocusGroupItem",W$=x.forwardRef((t,e)=>{const v=t,{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o}=v,s=X(v,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=Uo(),l=o||a,c=xne(z$,n),d=c.currentTabStopId===l,f=V$(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return x.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(KS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ue.span,F(D({tabIndex:d?0:-1,"data-orientation":c.orientation},s),{ref:e,onMouseDown:Oe(t.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:Oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Oe(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Sne(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const w=_.indexOf(g.currentTarget);_=c.loop?Ene(_,w+1):_.slice(w+1)}setTimeout(()=>H$(_))}})}))})});W$.displayName=z$;var wne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _ne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Sne(t,e,n){const r=_ne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wne[r]}function H$(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ene(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Tne=U$,Pne=W$,YS="Tabs",[Ane,VNe]=hi(YS,[B$]),q$=B$(),[Cne,XS]=Ane(YS),G$=x.forwardRef((t,e)=>{const m=t,{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic"}=m,c=X(m,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),d=Xu(a),[f,h]=go({prop:r,onChange:i,defaultProp:o});return u.jsx(Cne,{scope:n,baseId:Uo(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Ue.div,F(D({dir:d,"data-orientation":s},c),{ref:e}))})});G$.displayName=YS;var K$="TabsList",Y$=x.forwardRef((t,e)=>{const a=t,{__scopeTabs:n,loop:r=!0}=a,i=X(a,["__scopeTabs","loop"]),o=XS(K$,n),s=q$(n);return u.jsx(Tne,F(D({asChild:!0},s),{orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(Ue.div,F(D({role:"tablist","aria-orientation":o.orientation},i),{ref:e}))}))});Y$.displayName=K$;var X$="TabsTrigger",Q$=x.forwardRef((t,e)=>{const f=t,{__scopeTabs:n,value:r,disabled:i=!1}=f,o=X(f,["__scopeTabs","value","disabled"]),s=XS(X$,n),a=q$(n),l=eL(s.baseId,r),c=tL(s.baseId,r),d=r===s.value;return u.jsx(Pne,F(D({asChild:!0},a),{focusable:!i,active:d,children:u.jsx(Ue.button,F(D({type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},o),{ref:e,onMouseDown:Oe(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:Oe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:Oe(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(r)})}))}))});Q$.displayName=X$;var J$="TabsContent",Z$=x.forwardRef((t,e)=>{const h=t,{__scopeTabs:n,value:r,forceMount:i,children:o}=h,s=X(h,["__scopeTabs","value","forceMount","children"]),a=XS(J$,n),l=eL(a.baseId,r),c=tL(a.baseId,r),d=r===a.value,f=x.useRef(d);return x.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(Vi,{present:i||d,children:({present:m})=>u.jsx(Ue.div,F(D({"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0},s),{ref:e,style:F(D({},t.style),{animationDuration:f.current?"0s":void 0}),children:m&&o}))})});Z$.displayName=J$;function eL(t,e){return`${t}-trigger-${e}`}function tL(t,e){return`${t}-content-${e}`}var Nne=G$,nL=Y$,rL=Q$,iL=Z$;const oL=Nne,QS=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(nL,D({ref:n,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},e))});QS.displayName=nL.displayName;const ac=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(rL,D({ref:n,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},e))});ac.displayName=rL.displayName;const lc=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(iL,D({ref:n,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},e))});lc.displayName=iL.displayName;function Ine(t,e){return x.useReducer((n,r)=>{const i=e[n][r];return i!=null?i:n},t)}var JS="ScrollArea",[sL,BNe]=hi(JS),[jne,qi]=sL(JS),aL=x.forwardRef((t,e)=>{const I=t,{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600}=I,s=X(I,["__scopeScrollArea","type","dir","scrollHideDelay"]),[a,l]=x.useState(null),[c,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(0),[w,T]=x.useState(0),[S,N]=x.useState(!1),[E,A]=x.useState(!1),C=mt(e,O=>l(O)),j=Xu(i);return u.jsx(jne,{scope:n,type:r,dir:j,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T,children:u.jsx(Ue.div,F(D({dir:j},s),{ref:C,style:D({position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px"},t.style)}))})});aL.displayName=JS;var lL="ScrollAreaViewport",cL=x.forwardRef((t,e)=>{const c=t,{__scopeScrollArea:n,children:r,nonce:i}=c,o=X(c,["__scopeScrollArea","children","nonce"]),s=qi(lL,n),a=x.useRef(null),l=mt(e,a,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ue.div,F(D({"data-radix-scroll-area-viewport":""},o),{ref:l,style:D({overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden"},t.style),children:u.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})}))]})});cL.displayName=lL;var ns="ScrollAreaScrollbar",ZS=x.forwardRef((t,e)=>{const l=t,{forceMount:n}=l,r=X(l,["forceMount"]),i=qi(ns,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return x.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(kne,F(D({},r),{ref:e,forceMount:n})):i.type==="scroll"?u.jsx(One,F(D({},r),{ref:e,forceMount:n})):i.type==="auto"?u.jsx(uL,F(D({},r),{ref:e,forceMount:n})):i.type==="always"?u.jsx(eE,F(D({},r),{ref:e})):null});ZS.displayName=ns;var kne=x.forwardRef((t,e)=>{const a=t,{forceMount:n}=a,r=X(a,["forceMount"]),i=qi(ns,t.__scopeScrollArea),[o,s]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),s(!0)},f=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(Vi,{present:n||o,children:u.jsx(uL,F(D({"data-state":o?"visible":"hidden"},r),{ref:e}))})}),One=x.forwardRef((t,e)=>{const c=t,{forceMount:n}=c,r=X(c,["forceMount"]),i=qi(ns,t.__scopeScrollArea),o=t.orientation==="horizontal",s=Sv(()=>l("SCROLL_END"),100),[a,l]=Ine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,i.scrollHideDelay,l]),x.useEffect(()=>{const d=i.viewport,f=o?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const v=d[f];h!==v&&(l("SCROLL"),s()),h=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,o,l,s]),u.jsx(Vi,{present:n||a!=="hidden",children:u.jsx(eE,F(D({"data-state":a==="hidden"?"hidden":"visible"},r),{ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))}))})}),uL=x.forwardRef((t,e)=>{const n=qi(ns,t.__scopeScrollArea),c=t,{forceMount:r}=c,i=X(c,["forceMount"]),[o,s]=x.useState(!1),a=t.orientation==="horizontal",l=Sv(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?d:f)}},10);return Ju(n.viewport,l),Ju(n.content,l),u.jsx(Vi,{present:r||o,children:u.jsx(eE,F(D({"data-state":o?"visible":"hidden"},i),{ref:e}))})}),eE=x.forwardRef((t,e)=>{const h=t,{orientation:n="vertical"}=h,r=X(h,["orientation"]),i=qi(ns,t.__scopeScrollArea),o=x.useRef(null),s=x.useRef(0),[a,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=mL(a.viewport,a.content),d=F(D({},r),{sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m});function f(m,v){return Fne(m,s.current,a,v)}return n==="horizontal"?u.jsx(Rne,F(D({},d),{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,v=gL(m,a,i.dir);o.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}})):n==="vertical"?u.jsx(Mne,F(D({},d),{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,v=gL(m,a);o.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}})):null}),Rne=x.forwardRef((t,e)=>{const d=t,{sizes:n,onSizesChange:r}=d,i=X(d,["sizes","onSizesChange"]),o=qi(ns,t.__scopeScrollArea),[s,a]=x.useState(),l=x.useRef(null),c=mt(e,l,o.onScrollbarXChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(fL,F(D({"data-orientation":"horizontal"},i),{ref:c,sizes:n,style:D({bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_v(n)+"px"},t.style),onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),vL(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wv(s.paddingLeft),paddingEnd:wv(s.paddingRight)}})}}))}),Mne=x.forwardRef((t,e)=>{const d=t,{sizes:n,onSizesChange:r}=d,i=X(d,["sizes","onSizesChange"]),o=qi(ns,t.__scopeScrollArea),[s,a]=x.useState(),l=x.useRef(null),c=mt(e,l,o.onScrollbarYChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(fL,F(D({"data-orientation":"vertical"},i),{ref:c,sizes:n,style:D({top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_v(n)+"px"},t.style),onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),vL(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wv(s.paddingTop),paddingEnd:wv(s.paddingBottom)}})}}))}),[Dne,dL]=sL(ns),fL=x.forwardRef((t,e)=>{const C=t,{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f}=C,h=X(C,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),m=qi(ns,n),[v,g]=x.useState(null),y=mt(e,j=>g(j)),b=x.useRef(null),_=x.useRef(""),w=m.viewport,T=r.content-r.viewport,S=Fn(d),N=Fn(l),E=Sv(f,10);function A(j){if(b.current){const I=j.clientX-b.current.left,O=j.clientY-b.current.top;c({x:I,y:O})}}return x.useEffect(()=>{const j=I=>{const O=I.target;(v==null?void 0:v.contains(O))&&S(I,T)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[w,v,T,S]),x.useEffect(N,[r,N]),Ju(v,E),Ju(m.content,E),u.jsx(Dne,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Fn(o),onThumbPointerUp:Fn(s),onThumbPositionChange:N,onThumbPointerDown:Fn(a),children:u.jsx(Ue.div,F(D({},h),{ref:y,style:D({position:"absolute"},h.style),onPointerDown:Oe(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),b.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),A(j))}),onPointerMove:Oe(t.onPointerMove,A),onPointerUp:Oe(t.onPointerUp,j=>{const I=j.target;I.hasPointerCapture(j.pointerId)&&I.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})}))})}),bv="ScrollAreaThumb",hL=x.forwardRef((t,e)=>{const o=t,{forceMount:n}=o,r=X(o,["forceMount"]),i=dL(bv,t.__scopeScrollArea);return u.jsx(Vi,{present:n||i.hasThumb,children:u.jsx($ne,D({ref:e},r))})}),$ne=x.forwardRef((t,e)=>{const f=t,{__scopeScrollArea:n,style:r}=f,i=X(f,["__scopeScrollArea","style"]),o=qi(bv,n),s=dL(bv,n),{onThumbPositionChange:a}=s,l=mt(e,h=>s.onThumbChange(h)),c=x.useRef(void 0),d=Sv(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(d(),!c.current){const v=Vne(h,a);c.current=v,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,d,a]),u.jsx(Ue.div,F(D({"data-state":s.hasThumb?"visible":"hidden"},i),{ref:l,style:D({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},r),onPointerDownCapture:Oe(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),g=h.clientX-v.left,y=h.clientY-v.top;s.onThumbPointerDown({x:g,y})}),onPointerUp:Oe(t.onPointerUp,s.onThumbPointerUp)}))});hL.displayName=bv;var tE="ScrollAreaCorner",pL=x.forwardRef((t,e)=>{const n=qi(tE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Lne,F(D({},t),{ref:e})):null});pL.displayName=tE;var Lne=x.forwardRef((t,e)=>{const d=t,{__scopeScrollArea:n}=d,r=X(d,["__scopeScrollArea"]),i=qi(tE,n),[o,s]=x.useState(0),[a,l]=x.useState(0),c=!!(o&&a);return Ju(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),Ju(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),c?u.jsx(Ue.div,F(D({},r),{ref:e,style:D({width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0},t.style)})):null});function wv(t){return t?parseInt(t,10):0}function mL(t,e){const n=t/e;return isNaN(n)?0:n}function _v(t){const e=mL(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Fne(t,e,n,r="ltr"){const i=_v(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return yL([l,c],f)(t)}function gL(t,e,n="ltr"){const r=_v(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Xh(t,l);return yL([0,s],[0,a])(c)}function yL(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function vL(t,e){return t>0&&t<e}var Vne=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Sv(t,e){const n=Fn(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ju(t,e){const n=Fn(e);lr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var xL=aL,Bne=cL,Une=pL;const bL=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsxs(xL,F(D({ref:r,className:ft("relative overflow-hidden",t)},n),{children:[u.jsx(Bne,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(wL,{}),u.jsx(Une,{})]}))});bL.displayName=xL.displayName;const wL=x.forwardRef((i,r)=>{var o=i,{className:t,orientation:e="vertical"}=o,n=X(o,["className","orientation"]);return u.jsx(ZS,F(D({ref:r,orientation:e,className:ft("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t)},n),{children:u.jsx(hL,{className:"relative flex-1 rounded-full bg-border"})}))});wL.displayName=ZS.displayName;const nE="shotclock_sessions";function zne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"20",strokeDasharray:"4 2"}),u.jsx("circle",{cx:"24",cy:"24",r:"16"}),u.jsx("line",{x1:"24",y1:"24",x2:"24",y2:"10",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"24",x2:"32",y2:"18",strokeWidth:"2",strokeLinecap:"round"})]})}function Wne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"18",width:"44",height:"12",rx:"2"}),u.jsx("rect",{x:"16",y:"20",width:"16",height:"8",rx:"4",strokeWidth:"1.5"}),u.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"currentColor"}),u.jsx("line",{x1:"24",y1:"20",x2:"24",y2:"21",strokeWidth:"1"}),u.jsx("line",{x1:"24",y1:"27",x2:"24",y2:"28",strokeWidth:"1"}),u.jsx("line",{x1:"6",y1:"24",x2:"8",y2:"24",strokeWidth:"1.5"}),u.jsx("line",{x1:"40",y1:"24",x2:"42",y2:"24",strokeWidth:"1.5"})]})}function Hne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("path",{d:"M6 38 A22 22 0 0 1 42 38",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"36",x2:"34",y2:"18",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:"24",cy:"36",r:"3",fill:"currentColor"}),u.jsx("line",{x1:"10",y1:"28",x2:"10",y2:"24",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"16",y1:"18",x2:"18",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"10",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"32",y1:"18",x2:"30",y2:"15",strokeWidth:"2",strokeLinecap:"round"}),u.jsx("line",{x1:"38",y1:"28",x2:"38",y2:"24",strokeWidth:"2",strokeLinecap:"round"})]})}function qne({disabled:t=!1}){const e=t?"text-muted-foreground/50":"text-primary";return u.jsxs("svg",{viewBox:"0 0 48 48",className:`w-8 h-8 ${e}`,fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[u.jsx("circle",{cx:"24",cy:"24",r:"10"}),u.jsx("line",{x1:"24",y1:"14",x2:"24",y2:"4",strokeWidth:"2",markerEnd:"url(#arrowUp)"}),u.jsx("line",{x1:"24",y1:"34",x2:"24",y2:"44",strokeWidth:"2"}),u.jsx("line",{x1:"14",y1:"24",x2:"4",y2:"24",strokeWidth:"2"}),u.jsx("line",{x1:"34",y1:"24",x2:"44",y2:"24",strokeWidth:"2"}),u.jsx("path",{d:"M24 4 L22 8 L26 8 Z",fill:"currentColor"}),u.jsx("path",{d:"M44 24 L40 22 L40 26 Z",fill:"currentColor"}),u.jsx("path",{d:"M38 10 L24 24",strokeWidth:"2",strokeDasharray:"3 2"}),u.jsx("circle",{cx:"38",cy:"10",r:"3",fill:"currentColor"}),u.jsx("path",{d:"M10 38 C16 32, 20 28, 24 24",strokeWidth:"2",strokeDasharray:"3 2"})]})}const _L="cuemaster_dev_mode";function Gne(){const{promoCode:t}=Yh();return(t==null?void 0:t.toUpperCase())==="EARLYBIRD"?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xW,{className:"w-5 h-5 text-amber-500"}),u.jsxs("div",{children:[u.jsx(fne,{variant:"secondary",className:"bg-amber-500/20 text-amber-500 border-amber-500/30",children:"Early Adopter"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Thanks for being an early supporter! Use the feedback button to share your thoughts."})]})]})}):null}function Kne(){const[,t]=Ia(),[e,n]=x.useState(!1),{theme:r,toggleTheme:i,colorTheme:o,setColorTheme:s}=Qq(),[a,l]=x.useState([]),[c,d]=x.useState(!1),[f,h]=x.useState(0),m=x.useRef(null),v=x.useRef(0),[g,y]=x.useState(!1),[b,_]=x.useState(Dt.getConsent());x.useEffect(()=>{localStorage.getItem(_L)==="true"&&d(!0),Dt.isFirstLaunch()&&y(!0)},[]);const w=C=>{if(C.type==="click"&&v.current>Date.now()-300||(C.type==="touchend"&&(v.current=Date.now(),C.preventDefault()),c))return;const j=f+1;h(j),m.current&&clearTimeout(m.current),j>=7?(d(!0),localStorage.setItem(_L,"true"),h(0)):m.current=setTimeout(()=>h(0),2e3)};x.useEffect(()=>{const C=()=>{try{const I=localStorage.getItem(nE);if(I){const O=JSON.parse(I);Array.isArray(O)&&l(O)}}catch(I){console.error("Failed to parse sessions:",I),l([])}};C();const j=()=>C();return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[]);const T=()=>{localStorage.removeItem(nE),l([])},S=C=>{const j=a.filter(I=>I.id!==C);localStorage.setItem(nE,JSON.stringify(j)),l(j)},N=C=>new Date(C).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=C=>{const j=Math.floor(C/60),I=Math.floor(C%60);return j>0?`${j}m ${I}s`:`${I.toFixed(1)}s`},A=C=>C.stats.shotDurations.length===0?0:C.stats.shotDurations.reduce((I,O)=>I+O,0)/C.stats.shotDurations.length;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"CUEMASTER"}),u.jsx("p",{className:"text-sm font-light text-muted-foreground",children:"Suite"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{onClick:w,onTouchEnd:w,className:"cursor-default select-none touch-manipulation",children:u.jsx(yee,{})}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/insights"),"data-testid":"button-insights",children:u.jsx(ja,{className:"w-5 h-5"})}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>n(!0),"data-testid":"button-settings",children:u.jsx(S1,{className:"w-5 h-5"})})]})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Tool"}),u.jsx("p",{className:"text-muted-foreground",children:"Professional billiards companion utilities"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(rv,{icon:u.jsx(qne,{}),title:"Vectors",subtitle:"CueMaster",description:"Test spin, angles, and speed before you ever pull the trigger.",onClick:()=>t("/cue-emulator"),testId:"card-cue-emulator"}),u.jsx(rv,{icon:u.jsx(Wne,{}),title:"TrueLevel",subtitle:"CueMaster",description:"Verify your battlefield. No excuses, no hidden slopes.",onClick:()=>t("/table-level"),testId:"card-table-level"}),u.jsx(rv,{icon:u.jsx(zne,{disabled:!c}),title:"Tempo",subtitle:"CueMaster",description:"Own the pace of play  solo drills or match pressure, on a clock.",onClick:c?()=>t("/shot-clock"):void 0,disabled:!c,testId:"card-shot-clock"}),u.jsx(rv,{icon:u.jsx(Hne,{disabled:!c}),title:"Velocity",subtitle:"CueMaster",description:"Dial in raw power with break speed you can actually measure.",onClick:c?()=>t("/break-speed"):void 0,disabled:!c,testId:"card-break-speed"})]})]})}),u.jsx("footer",{className:"py-4 px-6 text-center border-t",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:" Promethean Games. Promethean-Games.com, All rights reserved."})}),u.jsx(Wi,{open:e,onOpenChange:n,children:u.jsxs(gi,{className:"max-w-md max-h-[85vh] overflow-hidden flex flex-col",children:[u.jsx(yi,{className:"flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(vi,{children:"Settings"}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>n(!1),"data-testid":"button-close-settings",children:u.jsx(uh,{className:"w-5 h-5"})})]})}),u.jsxs(oL,{defaultValue:"appearance",className:"flex-1 overflow-hidden flex flex-col",children:[u.jsxs(QS,{className:"grid w-full grid-cols-3 flex-shrink-0",children:[u.jsxs(ac,{value:"appearance","data-testid":"tab-appearance",children:[u.jsx(uk,{className:"w-4 h-4 mr-2"}),"Theme"]}),u.jsxs(ac,{value:"analytics","data-testid":"tab-analytics",children:[u.jsx(ja,{className:"w-4 h-4 mr-2"}),"Privacy"]}),u.jsxs(ac,{value:"history","data-testid":"tab-history",children:[u.jsx(w1,{className:"w-4 h-4 mr-2"}),"History"]})]}),u.jsxs(lc,{value:"appearance",className:"flex-1 overflow-auto mt-4 space-y-6",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(xn,{htmlFor:"theme-toggle",className:"flex items-center gap-2",children:[r==="dark"?u.jsx(kW,{className:"w-4 h-4"}):u.jsx(VW,{className:"w-4 h-4"}),"Theme Mode"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:r==="dark"?"Dark":"Light"}),u.jsx(Hi,{id:"theme-toggle",checked:r==="dark",onCheckedChange:i,"data-testid":"switch-theme"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(uk,{className:"w-4 h-4"}),"Accent Color"]}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:iy.map(C=>u.jsx("button",{onClick:()=>s(C),className:`relative aspect-square rounded-lg transition-all ${o.id===C.id?"ring-2 ring-offset-2 ring-offset-background ring-foreground scale-105":"hover:scale-105"}`,style:{backgroundColor:`hsl(${C.primary})`},title:C.name,"data-testid":`button-color-${C.id}`,children:o.id===C.id&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})},C.id))}),u.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Selected: ",o.name]})]})]}),u.jsxs(lc,{value:"analytics",className:"flex-1 overflow-auto mt-4 space-y-4",children:[u.jsx(Gne,{}),u.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ug,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-sm",children:"Your Privacy"})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"All data stays on your device. No account required. Export or delete anytime."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(xn,{className:"text-sm font-medium",children:"Data Collection"}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Usage Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Track which tools you use and session duration"})]}),u.jsx(Hi,{checked:b.usageStats,onCheckedChange:C=>{const j=F(D({},b),{usageStats:C});_(j),Dt.setConsent(j)},"data-testid":"switch-settings-usage"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Skill Metrics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Record performance data for personal insights"})]}),u.jsx(Hi,{checked:b.skillMetrics,onCheckedChange:C=>{const j=F(D({},b),{skillMetrics:C});_(j),Dt.setConsent(j)},"data-testid":"switch-settings-skills"})]}),u.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 rounded-lg border",children:[u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:"Benchmarking"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anonymous comparison with other players",!b.usageStats&&u.jsx("span",{className:"text-primary",children:" (Enables Usage Stats)"})]})]}),u.jsx(Hi,{checked:b.benchmarking,onCheckedChange:C=>{const j=F(D({},b),{benchmarking:C,usageStats:C?!0:b.usageStats});_(j),Dt.setConsent(j)},"data-testid":"switch-settings-benchmark"})]})]}),u.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[u.jsx(xn,{className:"text-sm font-medium",children:"Data Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(he,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const C=Dt.exportData(),j=new Blob([C],{type:"application/json"}),I=URL.createObjectURL(j),O=document.createElement("a");O.href=I,O.download=`cuemaster-data-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(I)},"data-testid":"button-export-data",children:[u.jsx(ak,{className:"w-4 h-4 mr-2"}),"Export"]}),u.jsxs(he,{variant:"outline",size:"sm",className:"flex-1 text-destructive hover:text-destructive",onClick:()=>{confirm("Delete all analytics data? This cannot be undone.")&&Dt.deleteAllData()},"data-testid":"button-delete-data",children:[u.jsx(Wg,{className:"w-4 h-4 mr-2"}),"Delete All"]})]})]})]}),u.jsxs(lc,{value:"history",className:"flex-1 overflow-hidden mt-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[u.jsxs(xn,{className:"flex items-center gap-2",children:[u.jsx(oh,{className:"w-4 h-4"}),"Shot Clock Sessions"]}),a.length>0&&u.jsxs(he,{variant:"ghost",size:"sm",onClick:T,className:"text-destructive hover:text-destructive","data-testid":"button-clear-sessions",children:[u.jsx(Wg,{className:"w-4 h-4 mr-1"}),"Clear All"]})]}),u.jsx(bL,{className:"flex-1",children:a.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(w1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No session history yet"}),u.jsx("p",{className:"text-xs mt-1",children:"Complete a Shot Clock session to see stats here"})]}):u.jsx("div",{className:"space-y-3 pr-3",children:a.map(C=>u.jsxs(Ke,{className:"p-3","data-testid":`card-session-${C.id}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:C.stats.playerNames.join(" vs ")}),u.jsx("p",{className:"text-xs text-muted-foreground",children:N(C.date)})]}),u.jsx(he,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>S(C.id),"data-testid":`button-delete-session-${C.id}`,children:u.jsx(uh,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(E1,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:E(A(C))}),u.jsx("p",{className:"text-muted-foreground",children:"Avg"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(lh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:C.stats.shotCount}),u.jsx("p",{className:"text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(oh,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:C.stats.totalExtensions}),u.jsx("p",{className:"text-muted-foreground",children:"Ext"})]}),u.jsxs("div",{className:"bg-muted/30 p-2 rounded text-center",children:[u.jsx(T1,{className:"w-3 h-3 mx-auto mb-1 text-muted-foreground"}),u.jsx("p",{className:"font-medium",children:C.stats.timeouts}),u.jsx("p",{className:"text-muted-foreground",children:"T/O"})]})]})]},C.id))})})]})]})]})}),u.jsx(kte,{open:g,onComplete:()=>{y(!1),_(Dt.getConsent())}}),u.jsx(une,{})]})}var rE="Collapsible",[Yne,SL]=hi(rE),[Xne,iE]=Yne(rE),EL=x.forwardRef((t,e)=>{const d=t,{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s}=d,a=X(d,["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"]),[l=!1,c]=go({prop:r,defaultProp:i,onChange:s});return u.jsx(Xne,{scope:n,disabled:o,contentId:Uo(),open:l,onOpenToggle:x.useCallback(()=>c(f=>!f),[c]),children:u.jsx(Ue.div,F(D({"data-state":lE(l),"data-disabled":o?"":void 0},a),{ref:e}))})});EL.displayName=rE;var TL="CollapsibleTrigger",oE=x.forwardRef((t,e)=>{const o=t,{__scopeCollapsible:n}=o,r=X(o,["__scopeCollapsible"]),i=iE(TL,n);return u.jsx(Ue.button,F(D({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":lE(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r),{ref:e,onClick:Oe(t.onClick,i.onOpenToggle)}))});oE.displayName=TL;var sE="CollapsibleContent",aE=x.forwardRef((t,e)=>{const o=t,{forceMount:n}=o,r=X(o,["forceMount"]),i=iE(sE,t.__scopeCollapsible);return u.jsx(Vi,{present:n||i.open,children:({present:s})=>u.jsx(Qne,F(D({},r),{ref:e,present:s}))})});aE.displayName=sE;var Qne=x.forwardRef((t,e)=>{const _=t,{__scopeCollapsible:n,present:r,children:i}=_,o=X(_,["__scopeCollapsible","present","children"]),s=iE(sE,n),[a,l]=x.useState(r),c=x.useRef(null),d=mt(e,c),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,g=s.open||a,y=x.useRef(g),b=x.useRef(void 0);return x.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),lr(()=>{const w=c.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const T=w.getBoundingClientRect();f.current=T.height,m.current=T.width,y.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),l(r)}},[s.open,r]),u.jsx(Ue.div,F(D({"data-state":lE(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g},o),{ref:d,style:D({"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0},t.style),children:g&&i}))});function lE(t){return t?"open":"closed"}var PL=EL,Jne=oE,Zne=aE;const AL=PL,CL=oE,NL=aE,fr=x.forwardRef((i,r)=>{var o=i,{className:t,type:e}=o,n=X(o,["className","type"]);return u.jsx("input",D({type:e,className:ft("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r},n))});fr.displayName="Input";var Gs="Accordion",ere=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[cE,tre,nre]=eh(Gs),[Ev,UNe]=hi(Gs,[nre,SL]),uE=SL(),IL=q.forwardRef((t,e)=>{const s=t,{type:n}=s,r=X(s,["type"]),i=r,o=r;return u.jsx(cE.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(sre,F(D({},o),{ref:e})):u.jsx(ore,F(D({},i),{ref:e}))})});IL.displayName=Gs;var[jL,rre]=Ev(Gs),[kL,ire]=Ev(Gs,{collapsible:!1}),ore=q.forwardRef((t,e)=>{const c=t,{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1}=c,s=X(c,["value","defaultValue","onValueChange","collapsible"]),[a,l]=go({prop:n,defaultProp:r,onChange:i});return u.jsx(jL,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:q.useCallback(()=>o&&l(""),[o,l]),children:u.jsx(kL,{scope:t.__scopeAccordion,collapsible:o,children:u.jsx(OL,F(D({},s),{ref:e}))})})}),sre=q.forwardRef((t,e)=>{const d=t,{value:n,defaultValue:r,onValueChange:i=()=>{}}=d,o=X(d,["value","defaultValue","onValueChange"]),[s=[],a]=go({prop:n,defaultProp:r,onChange:i}),l=q.useCallback(f=>a((h=[])=>[...h,f]),[a]),c=q.useCallback(f=>a((h=[])=>h.filter(m=>m!==f)),[a]);return u.jsx(jL,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:u.jsx(kL,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(OL,F(D({},o),{ref:e}))})})}),[are,Tv]=Ev(Gs),OL=q.forwardRef((t,e)=>{const m=t,{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical"}=m,s=X(m,["__scopeAccordion","disabled","dir","orientation"]),a=q.useRef(null),l=mt(a,e),c=tre(n),f=Xu(i)==="ltr",h=Oe(t.onKeyDown,v=>{var C;if(!ere.includes(v.key))return;const g=v.target,y=c().filter(j=>{var I;return!((I=j.ref.current)!=null&&I.disabled)}),b=y.findIndex(j=>j.ref.current===g),_=y.length;if(b===-1)return;v.preventDefault();let w=b;const T=0,S=_-1,N=()=>{w=b+1,w>S&&(w=T)},E=()=>{w=b-1,w<T&&(w=S)};switch(v.key){case"Home":w=T;break;case"End":w=S;break;case"ArrowRight":o==="horizontal"&&(f?N():E());break;case"ArrowDown":o==="vertical"&&N();break;case"ArrowLeft":o==="horizontal"&&(f?E():N());break;case"ArrowUp":o==="vertical"&&E();break}const A=w%_;(C=y[A].ref.current)==null||C.focus()});return u.jsx(are,{scope:n,disabled:r,direction:i,orientation:o,children:u.jsx(cE.Slot,{scope:n,children:u.jsx(Ue.div,F(D({},s),{"data-orientation":o,ref:l,onKeyDown:r?void 0:h}))})})}),Pv="AccordionItem",[lre,dE]=Ev(Pv),RL=q.forwardRef((t,e)=>{const f=t,{__scopeAccordion:n,value:r}=f,i=X(f,["__scopeAccordion","value"]),o=Tv(Pv,n),s=rre(Pv,n),a=uE(n),l=Uo(),c=r&&s.value.includes(r)||!1,d=o.disabled||t.disabled;return u.jsx(lre,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(PL,F(D(D({"data-orientation":o.orientation,"data-state":VL(c)},a),i),{ref:e,disabled:d,open:c,onOpenChange:h=>{h?s.onItemOpen(r):s.onItemClose(r)}}))})});RL.displayName=Pv;var ML="AccordionHeader",DL=q.forwardRef((t,e)=>{const s=t,{__scopeAccordion:n}=s,r=X(s,["__scopeAccordion"]),i=Tv(Gs,n),o=dE(ML,n);return u.jsx(Ue.h3,F(D({"data-orientation":i.orientation,"data-state":VL(o.open),"data-disabled":o.disabled?"":void 0},r),{ref:e}))});DL.displayName=ML;var fE="AccordionTrigger",$L=q.forwardRef((t,e)=>{const l=t,{__scopeAccordion:n}=l,r=X(l,["__scopeAccordion"]),i=Tv(Gs,n),o=dE(fE,n),s=ire(fE,n),a=uE(n);return u.jsx(cE.ItemSlot,{scope:n,children:u.jsx(Jne,F(D(D({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a),r),{ref:e}))})});$L.displayName=fE;var LL="AccordionContent",FL=q.forwardRef((t,e)=>{const a=t,{__scopeAccordion:n}=a,r=X(a,["__scopeAccordion"]),i=Tv(Gs,n),o=dE(LL,n),s=uE(n);return u.jsx(Zne,F(D(D({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s),r),{ref:e,style:D({"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)"},t.style)}))});FL.displayName=LL;function VL(t){return t?"open":"closed"}var cre=IL,ure=RL,dre=DL,BL=$L,UL=FL;const zL=cre,tl=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsx(ure,D({ref:n,className:ft("border-b",t)},e))});tl.displayName="AccordionItem";const nl=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsx(dre,{className:"flex",children:u.jsxs(BL,F(D({ref:r,className:ft("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t)},n),{children:[e,u.jsx(ih,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]}))})});nl.displayName=BL.displayName;const rl=x.forwardRef((i,r)=>{var o=i,{className:t,children:e}=o,n=X(o,["className","children"]);return u.jsx(UL,F(D({ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"},n),{children:u.jsx("div",{className:ft("pb-4 pt-0",t),children:e})}))});rl.displayName=UL.displayName;const fre=["CUEMASTER2024","PROMETHEAN","EARLYBIRD"];function hre(t){return fre.includes(t.toUpperCase().trim())}function hE({className:t=""}){return u.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 bg-gradient-to-r from-amber-500 to-yellow-400 text-black rounded-full ${t}`,children:u.jsx(sh,{className:"w-3 h-3"})})}function Av({open:t,onOpenChange:e}){const{user:n,signInWithGoogle:r,signInWithFacebook:i,unlockPro:o,isLoading:s}=Yh(),[a,l]=x.useState(""),[c,d]=x.useState(""),[f,h]=x.useState(!1),m=v=>V(this,null,function*(){if(v.preventDefault(),!hre(a)){d("Invalid promo code. Please try again.");return}h(!0);const g=yield o(a);h(!1),g?(e(!1),window.location.reload()):d("Failed to unlock. Please try again.")});return u.jsx(Wi,{open:t,onOpenChange:e,children:u.jsxs(gi,{className:"max-w-sm",children:[u.jsxs(yi,{children:[u.jsxs(vi,{className:"flex items-center gap-2",children:[u.jsx(sh,{className:"w-5 h-5 text-amber-500"}),"Upgrade to Pro"]}),u.jsx(oc,{children:n?"Enter a promo code to unlock all premium features.":"Sign in to sync your Pro status across devices, or enter a promo code."})]}),!n&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(he,{variant:"outline",className:"w-full gap-2",onClick:r,disabled:s,"data-testid":"button-google-signin",children:[u.jsx(lk,{className:"w-4 h-4"}),"Sign in with Google"]}),u.jsxs(he,{variant:"outline",className:"w-full gap-2",onClick:i,disabled:s,"data-testid":"button-facebook-signin",children:[u.jsx(lk,{className:"w-4 h-4"}),"Sign in with Facebook"]})]}),n&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["Signed in as ",n.displayName||n.email]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(fr,{placeholder:"Enter promo code",value:a,onChange:v=>{l(v.target.value),d("")},className:"text-center uppercase tracking-widest","data-testid":"input-promo-code"}),c&&u.jsx("p",{className:"text-sm text-destructive mt-2",children:c})]}),u.jsxs(he,{type:"submit",className:"w-full gap-2",disabled:f,"data-testid":"button-submit-promo",children:[u.jsx(sh,{className:"w-4 h-4"}),f?"Unlocking...":"Unlock Pro"]})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Full payment integration coming soon."})]})})}function pE({children:t,isLocked:e=!0,featureName:n="This feature",variant:r="blur",onUpgradeClick:i}){const[o,s]=x.useState(!1),{isPro:a}=Yh();if(a||!e)return u.jsx(u.Fragment,{children:t});const l=()=>{i?i():s(!0)};return r==="badge"?u.jsxs("div",{className:"relative",children:[t,u.jsx("div",{className:"absolute top-1 right-1",children:u.jsx(hE,{})}),u.jsx(Av,{open:o,onOpenChange:s})]}):r==="overlay"?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"opacity-50 pointer-events-none select-none",children:t}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 backdrop-blur-sm rounded-lg",children:[u.jsx(_1,{className:"w-8 h-8 text-muted-foreground mb-2"}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n," requires Pro"]}),u.jsxs(he,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(sh,{className:"w-4 h-4"}),"Upgrade to Pro"]})]}),u.jsx(Av,{open:o,onOpenChange:s})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"blur-sm opacity-60 pointer-events-none select-none",children:t}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:u.jsxs("div",{className:"bg-background/90 backdrop-blur-sm p-4 rounded-lg text-center border shadow-lg",children:[u.jsx(_1,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),u.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Unlock with CueMaster Pro"}),u.jsxs(he,{size:"sm",onClick:l,className:"gap-1","data-testid":"button-upgrade-pro",children:[u.jsx(sh,{className:"w-4 h-4"}),"Upgrade"]})]})}),u.jsx(Av,{open:o,onOpenChange:s})]})}function pre(i){var o=i,{children:t,isLocked:e=!0,onClick:n}=o,r=X(o,["children","isLocked","onClick"]);const[s,a]=x.useState(!1),{isPro:l}=Yh();if(l||!e)return u.jsx(he,F(D({onClick:n},r),{children:t}));const c=d=>{d.preventDefault(),a(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(he,F(D({onClick:c},r),{className:`relative ${r.className||""}`,children:[t,u.jsx("span",{className:"absolute -top-1 -right-1",children:u.jsx(hE,{})})]})),u.jsx(Av,{open:s,onOpenChange:a})]})}const Zu=["mph","kph","m/s","ft/s"],Cv={"7' (bar)":{W:39,L:78},"8' (standard)":{W:44,L:88},"8' (pro)":{W:46,L:92},"9' (tournament)":{W:50,L:100}},WL=Object.keys(Cv),rs=(t,e,n)=>Math.min(n,Math.max(e,t)),mre=.0254,is=2.25,Ks=is/2,HL="cuemaster-velocity-v1";function gre(){try{const t=localStorage.getItem(HL);return t?JSON.parse(t):null}catch(t){return null}}function yre(t){try{localStorage.setItem(HL,JSON.stringify(t))}catch(e){}}function vre(t,e,n){const r=3*n/4,i=e/2,o=[];if(t==="8"){const s=[1,2,3,4,5];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*is,d=(l-1)*is;for(let f=0;f<l;f++)o.push({x:i-d/2+f*is,y:c,row:a,idx:f,n:l})}}else{const s=[1,2,3,2,1];for(let a=0;a<s.length;a++){const l=s[a],c=r+a*is,d=(l-1)*is;for(let f=0;f<l;f++)o.push({x:i-d/2+f*is,y:c,row:a,idx:f,n:l})}}return o}function xre(t){if(!t||!t.length)return null;const e=t.map(r=>r.mph).filter(r=>Number.isFinite(r));return e.length?{avg:e.reduce((r,i)=>r+i,0)/e.length,high:Math.max(...e),low:Math.min(...e)}:null}function bre({x0:t,y0:e,dx:n,dy:r,W:i,L:o}){const s=[];r>0&&s.push((o-e)/r),n<0&&s.push((0-t)/n),n>0&&s.push((i-t)/n);const a=Math.min(...s.filter(l=>l>0));return isFinite(a)?a:null}function wre(){const[,t]=Ia(),{toast:e}=fu(),[n,r]=x.useState("record"),[i,o]=x.useState(3),s=WL[i]||"9' (tournament)",a=Cv[s],l=a.W,c=a.L,[d,f]=x.useState("9"),[h,m]=x.useState(!0),[v,g]=x.useState("mph"),[y,b]=x.useState(!1),_=()=>{const Z=Zu.indexOf(v);g(Zu[(Z+1)%Zu.length])},[w,T]=x.useState({x:25,y:20}),[S,N]=x.useState({x:l/2,y:3*c/4-is}),[E,A]=x.useState(null),[C,j]=x.useState(null),[I,O]=x.useState(!1),[R,H]=x.useState(null),[B,W]=x.useState(null),[G,U]=x.useState(null),[z,Q]=x.useState(null),[J,oe]=x.useState([]),[be,Me]=x.useState(!1),[ze,it]=x.useState(!1),[Xe,me]=x.useState(1),[re,Se]=x.useState(!1),[xe,ee]=x.useState([null,null,null,null,null]),[ve,De]=x.useState({open:!1,kind:null,index:null}),[ot,st]=x.useState(!1),[Lt,Ft]=x.useState(!1),[wt,kt]=x.useState([]),[_n,je]=x.useState(!1),[Ot,$r]=x.useState(""),[rn,Gr]=x.useState(""),[Ti,mr]=x.useState(!1),[Kr,ro]=x.useState(0),Zt=x.useRef(null),Cn=x.useRef(null),Et=x.useRef(null),yn=x.useRef(!1),Yt=x.useRef(!1);x.useEffect(()=>(Dt.startSession("velocity"),()=>{Dt.endSession()}),[]),x.useEffect(()=>{var Ve,Ze;const Z=gre();Z?(o((Ve=Z.presetIndex)!=null?Ve:3),T(Z.cue||{x:25,y:20}),N(Z.ghost||{x:l/2,y:3*c/4-is}),g(Z.unit||"mph"),oe(Z.history||[]),f(Z.variant||"9"),m((Ze=Z.snap)!=null?Ze:!0),ee(Z.breakSlots||[null,null,null,null,null]),kt(Z.leaderboard||[]),Gr(Z.storedInitials||""),Z.tutorialDone||it(!0)):it(!0)},[]),x.useEffect(()=>{yre({presetIndex:i,cue:w,ghost:S,unit:v,history:J,variant:d,snap:h,breakSlots:xe,leaderboard:wt,storedInitials:rn,tutorialDone:!0})},[i,w,S,v,J,d,h,xe,wt,rn]),x.useEffect(()=>{const Z=setInterval(()=>{ro(Ve=>(Ve+1)%Zu.length)},4e3);return()=>clearInterval(Z)},[]),x.useEffect(()=>{T(Z=>({x:rs(Z.x,0,l),y:rs(Z.y,0,c/4)})),N(Z=>({x:rs(Z.x,0,l),y:rs(Z.y,Ks,c-Ks)}))},[l,c]);const Y=x.useMemo(()=>vre(d,l,c),[d,l,c]),fe=x.useCallback((Z,Ve)=>{const Ze=Ve.x-Z.x,Ye=Ve.y-Z.y,ut=Math.hypot(Ze,Ye);if(!ut)return null;const at=Ze/ut,Ut=Ye/ut,on=is;let en=1/0,_t=null,Ci=null;for(let si=0;si<Y.length;si++){const Xt=Y[si],zt=Xt.x-Z.x,Nn=Xt.y-Z.y,In=zt*at+Nn*Ut;if(In<=0)continue;const M=Z.x+at*In,L=Z.y+Ut*In,ne=Math.hypot(Xt.x-M,Xt.y-L);if(ne>on)continue;const se=Math.sqrt(on*on-ne*ne),te=In-se;te<=0||te<en&&(en=te,_t={x:Z.x+at*te,y:Z.y+Ut*te},Ci=si)}return _t?{point:_t,index:Ci}:null},[Y]),Pe=x.useCallback((Z=w,Ve=S)=>{const Ze=Ve.x-Z.x,Ye=Ve.y-Z.y,ut=Math.hypot(Ze,Ye);return Ye<=0||ut<=0?null:ut},[w,S]),We=x.useMemo(()=>{const Z=Pe();if(!Z)return!1;const Ve=(S.x-w.x)/Z,Ze=(S.y-w.y)/Z,Ye=bre({x0:w.x,y0:w.y,dx:Ve,dy:Ze,W:l,L:c});return!Ye||Z<=Ye+1e-6},[w,S,l,c,Pe]),Rt=x.useMemo(()=>{const Z=Pe();return{dCG:Z?Z.toFixed(2):""}},[Pe]),Un=Z=>{switch(v){case"ft/s":return(Z*3.28084).toFixed(2);case"m/s":return Z.toFixed(2);case"kph":return(Z*3.6).toFixed(2);default:return(Z*2.23693629).toFixed(2)}},He=Z=>{switch(v){case"ft/s":return(Z*1.46667).toFixed(2);case"m/s":return(Z*.44704).toFixed(2);case"kph":return(Z*1.60934).toFixed(2);default:return Z.toFixed(2)}},gt=(Z,Ve)=>{switch(Ve){case"ft/s":return(Z*1.46667).toFixed(2);case"m/s":return(Z*.44704).toFixed(2);case"kph":return(Z*1.60934).toFixed(2);default:return Z.toFixed(2)}},Mn=(Z,Ve,Ze=!1)=>{const Ye=Z.toUpperCase().slice(0,3),ut=Math.min(100,Math.round(Ve/25*100)),at={initials:Ye,mph:Ve,percentage:ut,ts:Date.now()};kt(Ut=>[...Ut,at].sort((en,_t)=>_t.percentage-en.percentage).slice(0,1e3)),Ye.length===3&&Gr(Ye),mr(!1),$r(""),Ze||e({title:"Added to Leaderboard",description:`${Ye} - ${ut}%`})},Dn=x.useRef([]),[Ro,Pi]=x.useState(0),[ii,oi]=x.useState(null),yl=3e3,ps=48e3,nf=Z=>{if(Z.length<10)return null;let Ve=0;for(let _t=0;_t<Z.length;_t++)Z[_t].amplitude>Ve&&(Ve=Z[_t].amplitude);if(Ve<.1)return null;const Ze=40,Ye=300;let ut=0,at=Z[0].amplitude;for(let _t=0;_t<Z.length&&!(Z[_t].time>50);_t++)Z[_t].amplitude>at&&(at=Z[_t].amplitude,ut=_t);const Ut=Z[ut].time;let on=-1,en=0;for(let _t=0;_t<Z.length;_t++){const Ci=Z[_t].time-Ut;Ci>=Ze&&Ci<=Ye&&Z[_t].amplitude>en&&(en=Z[_t].amplitude,on=_t)}return on===-1||en<Ve*.1?null:{first:Z[ut],second:Z[on]}},rf=()=>V(this,null,function*(){const Z={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:ps}},Ve=yield navigator.mediaDevices.getUserMedia(Z),Ze=new AudioContext({sampleRate:ps});Ze.state==="suspended"&&(yield Ze.resume());const Ye=Ze.createMediaStreamSource(Ve),ut=Ze.createBiquadFilter();ut.type="highpass",ut.frequency.value=150;const at=Ze.createBiquadFilter();at.type="lowpass",at.frequency.value=8e3;const Ut=Ze.createAnalyser();Ut.fftSize=2048,Ye.connect(ut),ut.connect(at),at.connect(Ut);const on=new Float32Array(Ut.fftSize);Dn.current=[];let en=null,_t=null;const Ci=.15,si=()=>{if(!yn.current)return;Ut.getFloatTimeDomainData(on);let Xt=0;for(let Nn=0;Nn<on.length;Nn++)Xt=Math.max(Xt,Math.abs(on[Nn]));const zt=performance.now();if(en===null&&Xt>Ci&&(en=zt,_t=zt,oi("Recording break...")),en!==null){Dn.current.push({time:zt-en,amplitude:Xt});const Nn=zt-_t;if(Pi(Math.min(100,Nn/yl*100)),Nn>=yl){yn.current=!1,oi("Analyzing audio...");const In=nf(Dn.current);if(In){const M=(In.second.time-In.first.time)/1e3;if(M>=.04&&M<=.3)W(In.first.time/1e3),U(In.second.time/1e3),oi(`Found peaks: ${M.toFixed(4)}s apart`);else{const L=`Peaks were ${(M*1e3).toFixed(0)}ms apart (expected 40-300ms)`;Et.current&&(Et.current.stream.getTracks().forEach(ne=>ne.stop()),Et.current.audioCtx.close(),Et.current=null),O(!1),Pi(0),oi(null),Cn.current&&clearTimeout(Cn.current),e({title:"Detection failed",description:L,variant:"destructive"})}}else Et.current&&(Et.current.stream.getTracks().forEach(M=>M.stop()),Et.current.audioCtx.close(),Et.current=null),O(!1),Pi(0),oi(null),Cn.current&&clearTimeout(Cn.current),e({title:"Detection failed",description:"Could not find two distinct impact sounds",variant:"destructive"});return}}requestAnimationFrame(si)};return requestAnimationFrame(si),{audioCtx:Ze,stream:Ve}}),vl=()=>V(this,null,function*(){if(!Pe()){e({title:"Invalid setup",description:"Line would hit a cushion before the rack. Adjust cue/ghost.",variant:"destructive"});return}Q(null),W(null),U(null),Pi(0),oi(null),Yt.current=!1;for(let Ve=5;Ve>0;Ve--){if(Yt.current){H(null);return}H(Ve),yield new Promise(Ze=>setTimeout(Ze,1e3))}if(Yt.current){H(null);return}H(null),O(!0);try{yn.current=!0,Et.current=yield rf(),Cn.current&&clearTimeout(Cn.current),Cn.current=setTimeout(()=>{zn(),e({title:"No break detected",description:"Recording stopped after 30 seconds - no loud sound detected"})},3e4),e({title:"Listening...",description:"Break when ready - recording starts on impact"})}catch(Ve){console.error(Ve),O(!1),e({title:"Microphone error",description:"Please allow microphone access",variant:"destructive"})}}),zn=()=>{yn.current=!1,Yt.current=!0,H(null),Et.current&&(Et.current.stream.getTracks().forEach(Z=>Z.stop()),Et.current.audioCtx.close(),Et.current=null),O(!1),Pi(0),oi(null),Cn.current&&clearTimeout(Cn.current)};x.useEffect(()=>{if(B!==null&&G!==null&&I){const Z=Pe()||0,Ve=Z*mre,Ze=Math.max(.005,G-B),Ye=Ve/Ze,ut=Ye*2.23693629,at={raw_mps:Ye,mph:Number(ut.toFixed(2)),distanceIn:Number(Z.toFixed(1)),deltaT:Number(Ze.toFixed(4)),ts:Date.now(),cue:w,ghost:S,table:{W:l,L:c},variant:d};oe(Ut=>[at,...Ut].slice(0,500)),Q(at),O(!1),zn(),Me(!0),n==="shark"&&rn.length===3&&Mn(rn,at.mph,!0),Dt.trackSkillMetric("velocity","break_speed",at.mph,{distanceIn:at.distanceIn,variant:at.variant})}},[B,G,I,w,S,l,c,d,Pe,n,rn]);const Mo=(Z,Ve,Ze)=>{const Ye=Ve/Ze,at=Math.round(Z/Ye)*Ye;return Math.abs(Z-at)<=.35&&h?at:Z},Lr=()=>{const Ve=Math.min(typeof window!="undefined"?window.innerWidth-48:400,500),Ye=Math.min(Ve/l,400/c),ut=l*Ye,at=c*Ye,Ut=w.x*Ye+8,on=at-w.y*Ye+8,en=S.x*Ye+8,_t=at-S.y*Ye+8,Ci=Xt=>{var M;Xt.preventDefault(),Ft(!0);const zt=(M=Zt.current)==null?void 0:M.getBoundingClientRect();if(!zt)return;const Nn=L=>{var Ee;const ne={x:L.clientX-zt.left,y:L.clientY-zt.top};let se=(ne.x-8)/Ye,te=(at-(ne.y-8))/Ye;se=rs(Mo(se,l,8),0,l),te=rs(Mo(te,c,8),Ks,c-Ks);const pe=fe(w,{x:se,y:te});if(pe&&pe.point){const{point:Ae,index:ye}=pe,et=rs(Ae.x,0,l),we=rs(Ae.y,Ks,c-Ks);N({x:et,y:we}),A({x:et,y:we,index:ye}),j(ye)}else E&&(N({x:E.x,y:E.y}),j((Ee=E.index)!=null?Ee:null))},In=()=>{Ft(!1),window.removeEventListener("pointermove",Nn)};window.addEventListener("pointermove",Nn),window.addEventListener("pointerup",In,{once:!0})},si=Xt=>{var M;Xt.preventDefault(),st(!0);const zt=(M=Zt.current)==null?void 0:M.getBoundingClientRect();if(!zt)return;const Nn=L=>{const ne={x:L.clientX-zt.left,y:L.clientY-zt.top};let se=(ne.x-8)/Ye,te=(at-(ne.y-8))/Ye;se=rs(Mo(se,l,8),0,l),te=rs(Mo(te,c,8),0,c/4),T({x:se,y:te})},In=()=>{st(!1),window.removeEventListener("pointermove",Nn)};window.addEventListener("pointermove",Nn),window.addEventListener("pointerup",In,{once:!0})};return u.jsxs("svg",{ref:Zt,width:ut+8*2,height:at+8*2,className:"rounded-xl touch-none mx-auto block",style:{background:"hsl(var(--muted))"},children:[u.jsx("rect",{x:8,y:8,width:ut,height:at,fill:"#03C04A",stroke:We?"hsl(var(--primary))":"#cc8400",strokeWidth:"2"}),Array.from({length:7},(Xt,zt)=>(zt+1)/8*ut+8).map((Xt,zt)=>u.jsx("line",{x1:Xt,x2:Xt,y1:8,y2:8+at,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gx"+zt)),Array.from({length:7},(Xt,zt)=>(zt+1)/8*at+8).map((Xt,zt)=>u.jsx("line",{x1:8,x2:8+ut,y1:Xt,y2:Xt,stroke:"#2a2a2a",strokeDasharray:"4 6"},"gy"+zt)),u.jsx("line",{x1:Ut,y1:on,x2:en,y2:_t,stroke:"#1e1e1e",strokeWidth:"2.5"}),Y.map((Xt,zt)=>{const Nn=Xt.x*Ye+8,In=at-Xt.y*Ye+8,M=zt===C;return u.jsx("circle",{cx:Nn,cy:In,r:Ks*Ye,fill:M?"#ffe9e9":"#ffffff",stroke:M?"hsl(var(--primary))":"#000000",strokeWidth:M?2.2:1.25,opacity:M?1:.9},zt)}),Lt&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:_t,x2:8+ut,y2:_t,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:en,y1:8,x2:en,y2:8+at,stroke:"hsl(var(--primary))",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),ot&&u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:8,y1:on,x2:8+ut,y2:on,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"}),u.jsx("line",{x1:Ut,y1:8,x2:Ut,y2:8+at,stroke:"#ffffff",strokeWidth:"1.5",strokeDasharray:"5 5"})]}),u.jsx("circle",{cx:en,cy:_t,r:Ks*Ye,fill:"hsl(var(--primary))",stroke:"#000000",strokeWidth:"2",onPointerDown:Ci,style:{cursor:"grab"}}),u.jsx("circle",{cx:Ut,cy:on,r:Ks*Ye,fill:"#ffffff",stroke:"#000000",strokeWidth:"1.75",onPointerDown:si,style:{cursor:"grab"}})]})},Ai=x.useMemo(()=>xre(J),[J]),xl=Z=>De({open:!0,kind:"load",index:Z}),bl=Z=>De({open:!0,kind:"save",index:Z}),wl=({i:Z})=>{const Ve=!!xe[Z],Ze=x.useRef(null),Ye=()=>{Ze.current=setTimeout(()=>{bl(Z),Ze.current=null},520)},ut=()=>{Ze.current&&(clearTimeout(Ze.current),xl(Z),Ze.current=null)};return u.jsxs("button",{className:`text-xs py-2 px-3 rounded-lg border transition-colors ${Ve?"bg-primary/20 border-primary/40":"bg-muted border-muted-foreground/20"}`,onPointerDown:Ye,onPointerUp:ut,onPointerLeave:()=>Ze.current&&clearTimeout(Ze.current),"data-testid":`button-slot-${Z+1}`,children:["Slot ",Z+1]})};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"CueMaster: Velocity"}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>it(!0),"data-testid":"button-help",children:u.jsx(Bg,{className:"w-5 h-5"})}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>Se(!0),"data-testid":"button-settings",children:u.jsx(S1,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-4",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(oL,{value:n,onValueChange:r,className:"w-full",children:[u.jsxs(QS,{className:"grid w-full grid-cols-3",children:[u.jsx(ac,{value:"record","data-testid":"tab-record",children:"Record"}),u.jsx(ac,{value:"stats","data-testid":"tab-stats",children:"Stats"}),u.jsxs(ac,{value:"shark","data-testid":"tab-shark",className:"gap-1",children:["Shark ",u.jsx(hE,{})]})]}),u.jsxs(lc,{value:"record",className:"space-y-3 mt-3",children:[u.jsxs(Ke,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Cue  Rack Speed"}),u.jsxs("button",{onClick:_,className:"text-4xl font-bold text-foreground hover:text-primary transition-colors cursor-pointer","data-testid":"button-cycle-unit",children:[z?Un(z.raw_mps):"--.--.",u.jsx("span",{className:"text-2xl ml-1 text-primary underline decoration-dotted underline-offset-4",children:v})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tap unit to change"})]}),u.jsx(he,{className:"w-full",size:"lg",variant:I||R!==null?"destructive":"default",onClick:I||R!==null?zn:vl,"data-testid":"button-record",children:R!==null?`Cancel (${R})`:I?"Stop Recording":"Tap to Record  Break"}),I&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-muted-foreground",children:ii||"Waiting for sound..."}),u.jsxs("span",{className:"font-mono text-primary",children:[Math.round(Ro),"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all duration-100",style:{width:`${Ro}%`}})})]})]}),u.jsx(Ke,{className:"p-3",children:u.jsxs(AL,{open:y,onOpenChange:b,children:[u.jsxs(CL,{className:"flex items-center justify-between w-full py-2","data-testid":"button-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[Rt.dCG,'"  ',d,"-ball"]})]}),u.jsx(ih,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),u.jsxs(NL,{className:"pt-2",children:[u.jsx("div",{className:"flex items-center justify-end gap-2 mb-2",children:["8","9"].map(Z=>u.jsxs(he,{variant:d===Z?"default":"outline",size:"sm",onClick:()=>f(Z),"data-testid":`button-variant-${Z}`,children:[Z,"-ball"]},Z))}),u.jsx(Lr,{}),!We&&u.jsx("p",{className:"text-xs text-amber-500 mt-2 text-center",children:"Warning: current ray hits a cushion before rack."}),u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Presets"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load  Hold to save"})]}),u.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4].map(Z=>u.jsx(wl,{i:Z},Z))})]})]})]})})]}),u.jsx(lc,{value:"stats",className:"space-y-3 mt-3",children:u.jsxs(Ke,{className:"p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Statistics"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tap to change units"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-high",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"High"}),u.jsx("div",{className:"text-lg font-bold",children:Ai?He(Ai.high):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-avg",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"}),u.jsx("div",{className:"text-lg font-bold",children:Ai?He(Ai.avg):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]}),u.jsxs("button",{onClick:_,className:"p-3 rounded-lg bg-muted text-center hover:bg-muted/80 transition-colors cursor-pointer","data-testid":"button-stat-low",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Low"}),u.jsx("div",{className:"text-lg font-bold",children:Ai?He(Ai.low):""}),u.jsx("div",{className:"text-xs text-primary underline decoration-dotted underline-offset-2",children:v})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-muted-foreground text-center",children:[J.length," breaks recorded"]}),J.length>0&&u.jsxs(he,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>oe([]),"data-testid":"button-clear-history",children:[u.jsx(MW,{className:"w-4 h-4 mr-2"}),"Clear History"]})]})}),u.jsx(lc,{value:"shark",className:"space-y-3 mt-3",children:u.jsxs(pE,{isLocked:!0,featureName:"Shark Mode",variant:"blur",children:[u.jsxs(Ke,{className:"p-3",children:[u.jsxs("div",{className:"text-center mb-2",children:[u.jsx("div",{className:"text-2xl font-extrabold",children:"Shark Mode"}),u.jsx("button",{onClick:_,className:"text-sm text-primary underline decoration-dotted underline-offset-2 hover:text-primary/80 transition-colors cursor-pointer","data-testid":"button-shark-cycle-unit",children:v})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{width:"180",height:"100",viewBox:"0 0 180 100",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),u.jsx("stop",{offset:"50%",stopColor:"#eab308"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))"})]})}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),u.jsx("path",{d:"M 20 90 A 70 70 0 0 1 160 90",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${Math.min(100,z?z.mph/25*100:0)*2.2} 220`}),(()=>{const Ze=(-180+Math.min(100,z?z.mph/25*100:0)/100*180)*Math.PI/180,Ye=90,ut=90,at=55,Ut=Ye+at*Math.cos(Ze),on=ut+at*Math.sin(Ze);return u.jsxs("g",{children:[u.jsx("line",{x1:Ye,y1:ut,x2:Ut,y2:on,stroke:"hsl(var(--foreground))",strokeWidth:"3",strokeLinecap:"round"}),u.jsx("circle",{cx:Ye,cy:ut,r:"6",fill:"hsl(var(--foreground))"})]})})(),u.jsxs("text",{x:"90",y:"75",fontSize:"24",fontWeight:"bold",fill:"hsl(var(--foreground))",textAnchor:"middle",children:[z?Math.min(100,Math.round(z.mph/25*100)):0,"%"]})]})}),u.jsx(he,{className:"w-full",size:"lg",variant:I?"destructive":"default",onClick:I?zn:vl,"data-testid":"button-shark-record",children:I?"STOP":"REC"})]}),u.jsx(Ke,{className:"p-3",children:u.jsxs(AL,{open:y,onOpenChange:b,children:[u.jsxs(CL,{className:"flex items-center justify-between w-full py-2","data-testid":"button-shark-toggle-table",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm font-medium",children:"Table Setup"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[Rt.dCG,'"  ',d,"-ball"]})]}),u.jsx(ih,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),u.jsx(NL,{className:"pt-2",children:u.jsx(Lr,{})})]})}),z&&u.jsxs(he,{variant:"outline",className:"w-full",onClick:()=>mr(!0),"data-testid":"button-add-to-leaderboard",children:[u.jsx(Hg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]}),u.jsx(Ke,{className:"p-3",children:u.jsx(zL,{type:"single",collapsible:!0,value:_n?"leaderboard":"",onValueChange:Z=>je(Z==="leaderboard"),children:u.jsxs(tl,{value:"leaderboard",className:"border-none",children:[u.jsx(nl,{className:"py-2 hover:no-underline","data-testid":"button-toggle-leaderboard",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium",children:"Leaderboard"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",wt.length,")"]})]})}),u.jsxs(rl,{children:[wt.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No entries yet. Record a break and add it to the leaderboard!"}):u.jsx("div",{className:"max-h-64 overflow-y-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-card",children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"#"}),u.jsx("th",{className:"text-left py-2 px-1 text-muted-foreground font-medium",children:"Player"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:"Score"}),u.jsx("th",{className:"text-right py-2 px-1 text-muted-foreground font-medium",children:u.jsx("span",{className:"text-primary",children:Zu[Kr]})})]})}),u.jsx("tbody",{children:wt.map((Z,Ve)=>u.jsxs("tr",{className:`border-b border-border/50 ${Ve<3?"bg-primary/5":""}`,"data-testid":`row-leaderboard-${Ve}`,children:[u.jsxs("td",{className:"py-2 px-1 font-mono text-muted-foreground",children:[Ve===0&&u.jsx("span",{className:"text-yellow-500",children:""}),Ve===1&&u.jsx("span",{className:"text-gray-400",children:""}),Ve===2&&u.jsx("span",{className:"text-amber-600",children:""}),Ve>2&&Ve+1]}),u.jsx("td",{className:"py-2 px-1 font-bold tracking-wider",children:Z.initials}),u.jsxs("td",{className:"py-2 px-1 text-right font-mono text-primary",children:[Z.percentage,"%"]}),u.jsx("td",{className:"py-2 px-1 text-right font-mono text-muted-foreground transition-opacity duration-300",children:gt(Z.mph,Zu[Kr])})]},`${Z.initials}-${Z.ts}`))})]})}),wt.length>0&&u.jsx(he,{variant:"ghost",size:"sm",className:"w-full mt-2 text-destructive hover:text-destructive",onClick:()=>{confirm("Clear all leaderboard entries?")&&kt([])},"data-testid":"button-clear-leaderboard",children:"Clear Leaderboard"})]})]})})})]})})]})})}),u.jsx(Wi,{open:ze,onOpenChange:it,children:u.jsxs(gi,{className:"max-w-md",children:[u.jsx(yi,{children:u.jsx(vi,{children:"Welcome to CueMaster: Velocity"})}),u.jsxs("div",{className:"space-y-4",children:[Xe===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Microphone Access"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We detect two sharp sounds: ",u.jsx("span",{className:"font-semibold text-foreground",children:"tip impact"})," and"," ",u.jsx("span",{className:"font-semibold text-foreground",children:"cue-ball / rack"})," contact. Time between them plus the measured distance yields your speed. Audio is processed locally; nothing leaves your device."]}),u.jsx(he,{variant:"outline",onClick:()=>V(this,null,function*(){try{yield navigator.mediaDevices.getUserMedia({audio:!0}),e({title:"Microphone permission granted"})}catch(Z){e({title:"Permission denied",variant:"destructive"})}}),"data-testid":"button-allow-mic",children:"Allow Microphone"})]}),Xe===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Aim Setup"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Drag the ",u.jsx("span",{className:"font-semibold text-foreground",children:"white"})," cue ball and"," ",u.jsx("span",{className:"font-semibold text-red-500",children:"red"})," ghost ball on the table to match your intended first contact. Enable snap-to-grid in Settings for quick alignment."]})]}),Xe===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Record & Confirm"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tap ",u.jsx("span",{className:"font-semibold text-foreground",children:"Record"}),", break, then confirm the first contact if needed. Results save to Stats. Auto-timeout after 30s if no break is detected."]})]}),Xe===4&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"4) Shark Mode"}),u.jsx("p",{className:"text-sm text-primary italic",children:"Can you out pace a Great White?"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Switch to the ",u.jsx("span",{className:"font-semibold text-foreground",children:"Shark"})," tab for a focused speed challenge. The speedometer gauge shows your power level from 0-100%. Push your limits and see how you stack up!"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(he,{variant:"outline",size:"sm",onClick:()=>me(Z=>Math.max(1,Z-1)),disabled:Xe===1,children:"Back"}),u.jsx(he,{variant:"outline",size:"sm",onClick:()=>me(Z=>Math.min(4,Z+1)),disabled:Xe===4,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(Z=>u.jsx("div",{className:`w-2 h-2 rounded-full ${Z===Xe?"bg-primary":"bg-muted"}`},Z))}),u.jsx(he,{size:"sm",onClick:()=>it(!1),children:Xe===4?"Finish":"Skip"})]})]})}),u.jsx(Wi,{open:be,onOpenChange:Me,children:u.jsxs(gi,{className:"max-w-md",children:[u.jsx(yi,{children:u.jsx(vi,{children:"Confirm First Contact"})}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If the real first contact differed, drag to match what actually happened, then confirm."}),u.jsx(Lr,{}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(he,{variant:"outline",onClick:()=>Me(!1),children:"Looks Right"}),u.jsx(he,{onClick:()=>Me(!1),children:"Confirm"})]})]})}),u.jsx(Wi,{open:ve.open,onOpenChange:Z=>De(F(D({},ve),{open:Z})),children:u.jsxs(gi,{className:"max-w-sm",children:[u.jsx(yi,{children:u.jsx(vi,{children:ve.kind==="load"?"Load Preset":"Save Preset"})}),u.jsx("p",{className:"text-sm text-muted-foreground",children:ve.kind==="load"?xe[ve.index]?"Load this saved break setup?":"This slot is empty.":xe[ve.index]?"Overwrite the existing setup for this slot?":"Save your current layout to this slot?"}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(he,{variant:"outline",onClick:()=>De({open:!1,kind:null,index:null}),children:"Cancel"}),u.jsx(he,{onClick:()=>{if(ve.kind==="load"){const Z=xe[ve.index];Z&&(T(Z.cue),N(Z.ghost),f(Z.variant),o(Z.presetIndex),m(Z.snap),e({title:"Preset loaded"}))}else{const Z={cue:w,ghost:S,variant:d,presetIndex:i,snap:h,savedAt:Date.now()};ee(Ve=>{const Ze=[...Ve];return Ze[ve.index]=Z,Ze}),e({title:"Preset saved"})}De({open:!1,kind:null,index:null})},disabled:ve.kind==="load"&&!xe[ve.index],children:ve.kind==="load"?"Load":xe[ve.index]?"Overwrite":"Save"})]})]})}),u.jsx(Wi,{open:re,onOpenChange:Se,children:u.jsxs(gi,{className:"max-w-md",children:[u.jsx(yi,{children:u.jsx(vi,{children:"Settings"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(xn,{children:"Snap to Grid"}),u.jsx(Hi,{checked:h,onCheckedChange:m,"data-testid":"switch-snap"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"mb-2 block",children:"Table Size"}),u.jsx("div",{className:"space-y-1",children:WL.map((Z,Ve)=>u.jsxs("button",{onClick:()=>o(Ve),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Ve===i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`button-table-${Ve}`,children:[u.jsx("span",{className:"font-medium",children:Z}),u.jsxs("span",{className:"text-xs ml-2 opacity-70",children:[Cv[Z].W,"",Cv[Z].L," in"]})]},Z))})]}),u.jsx(he,{variant:"outline",className:"w-full",onClick:()=>it(!0),children:"Open Tutorial"})]})]})}),u.jsx(Wi,{open:Ti,onOpenChange:mr,children:u.jsxs(gi,{className:"max-w-sm",children:[u.jsxs(yi,{children:[u.jsx(vi,{children:"Enter Your Initials"}),u.jsx(oc,{children:"Add your break to the leaderboard with your 3-letter initials."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx(xn,{htmlFor:"initials",children:"Initials (3 letters)"}),u.jsx(fr,{id:"initials",value:Ot,onChange:Z=>$r(Z.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3)),placeholder:"ABC",maxLength:3,className:"text-center text-2xl font-bold tracking-[0.5em] uppercase",autoComplete:"off","data-testid":"input-initials"})]}),z&&u.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"}),u.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.min(100,Math.round(z.mph/25*100)),"%"]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.mph.toFixed(2)," mph"]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(he,{variant:"outline",onClick:()=>mr(!1),children:"Cancel"}),u.jsxs(he,{onClick:()=>z&&Mn(Ot,z.mph),disabled:Ot.length!==3,"data-testid":"button-submit-initials",children:[u.jsx(Hg,{className:"w-4 h-4 mr-2"}),"Add to Leaderboard"]})]})]})]})}),R!==null&&u.jsxs("div",{className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex flex-col items-center justify-center",onClick:zn,children:[u.jsx("div",{className:"text-[12rem] font-bold text-primary animate-pulse leading-none",children:R}),u.jsx("p",{className:"text-2xl text-muted-foreground mt-4",children:"Get into position..."}),u.jsx(he,{variant:"destructive",size:"lg",className:"mt-8",onClick:zn,children:"Cancel"})]})]})}var _re=Array.isArray,ni=_re,Sre=typeof dt=="object"&&dt&&dt.Object===Object&&dt,qL=Sre,Ere=qL,Tre=typeof self=="object"&&self&&self.Object===Object&&self,Pre=Ere||Tre||Function("return this")(),os=Pre,Are=os,Cre=Are.Symbol,Zh=Cre,GL=Zh,KL=Object.prototype,Nre=KL.hasOwnProperty,Ire=KL.toString,ep=GL?GL.toStringTag:void 0;function jre(t){var e=Nre.call(t,ep),n=t[ep];try{t[ep]=void 0;var r=!0}catch(o){}var i=Ire.call(t);return r&&(e?t[ep]=n:delete t[ep]),i}var kre=jre,Ore=Object.prototype,Rre=Ore.toString;function Mre(t){return Rre.call(t)}var Dre=Mre,YL=Zh,$re=kre,Lre=Dre,Fre="[object Null]",Vre="[object Undefined]",XL=YL?YL.toStringTag:void 0;function Bre(t){return t==null?t===void 0?Vre:Fre:XL&&XL in Object(t)?$re(t):Lre(t)}var Ys=Bre;function Ure(t){return t!=null&&typeof t=="object"}var Xs=Ure,zre=Ys,Wre=Xs,Hre="[object Symbol]";function qre(t){return typeof t=="symbol"||Wre(t)&&zre(t)==Hre}var ed=qre,Gre=ni,Kre=ed,Yre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xre=/^\w*$/;function Qre(t,e){if(Gre(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Kre(t)?!0:Xre.test(t)||!Yre.test(t)||e!=null&&t in Object(e)}var mE=Qre;function Jre(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var il=Jre;const td=$e(il);var Zre=Ys,eie=il,tie="[object AsyncFunction]",nie="[object Function]",rie="[object GeneratorFunction]",iie="[object Proxy]";function oie(t){if(!eie(t))return!1;var e=Zre(t);return e==nie||e==rie||e==tie||e==iie}var gE=oie;const Nt=$e(gE);var sie=os,aie=sie["__core-js_shared__"],lie=aie,yE=lie,QL=function(){var t=/[^.]+$/.exec(yE&&yE.keys&&yE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cie(t){return!!QL&&QL in t}var uie=cie,die=Function.prototype,fie=die.toString;function hie(t){if(t!=null){try{return fie.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var JL=hie,pie=gE,mie=uie,gie=il,yie=JL,vie=/[\\^$.*+?()[\]{}|]/g,xie=/^\[object .+?Constructor\]$/,bie=Function.prototype,wie=Object.prototype,_ie=bie.toString,Sie=wie.hasOwnProperty,Eie=RegExp("^"+_ie.call(Sie).replace(vie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tie(t){if(!gie(t)||mie(t))return!1;var e=pie(t)?Eie:xie;return e.test(yie(t))}var Pie=Tie;function Aie(t,e){return t==null?void 0:t[e]}var Cie=Aie,Nie=Pie,Iie=Cie;function jie(t,e){var n=Iie(t,e);return Nie(n)?n:void 0}var cc=jie,kie=cc,Oie=kie(Object,"create"),Nv=Oie,ZL=Nv;function Rie(){this.__data__=ZL?ZL(null):{},this.size=0}var Mie=Rie;function Die(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $ie=Die,Lie=Nv,Fie="__lodash_hash_undefined__",Vie=Object.prototype,Bie=Vie.hasOwnProperty;function Uie(t){var e=this.__data__;if(Lie){var n=e[t];return n===Fie?void 0:n}return Bie.call(e,t)?e[t]:void 0}var zie=Uie,Wie=Nv,Hie=Object.prototype,qie=Hie.hasOwnProperty;function Gie(t){var e=this.__data__;return Wie?e[t]!==void 0:qie.call(e,t)}var Kie=Gie,Yie=Nv,Xie="__lodash_hash_undefined__";function Qie(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yie&&e===void 0?Xie:e,this}var Jie=Qie,Zie=Mie,eoe=$ie,toe=zie,noe=Kie,roe=Jie;function nd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nd.prototype.clear=Zie,nd.prototype.delete=eoe,nd.prototype.get=toe,nd.prototype.has=noe,nd.prototype.set=roe;var ioe=nd;function ooe(){this.__data__=[],this.size=0}var soe=ooe;function aoe(t,e){return t===e||t!==t&&e!==e}var vE=aoe,loe=vE;function coe(t,e){for(var n=t.length;n--;)if(loe(t[n][0],e))return n;return-1}var Iv=coe,uoe=Iv,doe=Array.prototype,foe=doe.splice;function hoe(t){var e=this.__data__,n=uoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():foe.call(e,n,1),--this.size,!0}var poe=hoe,moe=Iv;function goe(t){var e=this.__data__,n=moe(e,t);return n<0?void 0:e[n][1]}var yoe=goe,voe=Iv;function xoe(t){return voe(this.__data__,t)>-1}var boe=xoe,woe=Iv;function _oe(t,e){var n=this.__data__,r=woe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Soe=_oe,Eoe=soe,Toe=poe,Poe=yoe,Aoe=boe,Coe=Soe;function rd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rd.prototype.clear=Eoe,rd.prototype.delete=Toe,rd.prototype.get=Poe,rd.prototype.has=Aoe,rd.prototype.set=Coe;var jv=rd,Noe=cc,Ioe=os,joe=Noe(Ioe,"Map"),xE=joe,e4=ioe,koe=jv,Ooe=xE;function Roe(){this.size=0,this.__data__={hash:new e4,map:new(Ooe||koe),string:new e4}}var Moe=Roe;function Doe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $oe=Doe,Loe=$oe;function Foe(t,e){var n=t.__data__;return Loe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var kv=Foe,Voe=kv;function Boe(t){var e=Voe(this,t).delete(t);return this.size-=e?1:0,e}var Uoe=Boe,zoe=kv;function Woe(t){return zoe(this,t).get(t)}var Hoe=Woe,qoe=kv;function Goe(t){return qoe(this,t).has(t)}var Koe=Goe,Yoe=kv;function Xoe(t,e){var n=Yoe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Qoe=Xoe,Joe=Moe,Zoe=Uoe,ese=Hoe,tse=Koe,nse=Qoe;function id(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}id.prototype.clear=Joe,id.prototype.delete=Zoe,id.prototype.get=ese,id.prototype.has=tse,id.prototype.set=nse;var bE=id,t4=bE,rse="Expected a function";function wE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(wE.Cache||t4),n}wE.Cache=t4;var n4=wE;const ise=$e(n4);var ose=n4,sse=500;function ase(t){var e=ose(t,function(r){return n.size===sse&&n.clear(),r}),n=e.cache;return e}var lse=ase,cse=lse,use=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dse=/\\(\\)?/g,fse=cse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(use,function(n,r,i,o){e.push(i?o.replace(dse,"$1"):r||n)}),e}),hse=fse;function pse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var _E=pse,r4=Zh,mse=_E,gse=ni,yse=ed,vse=1/0,i4=r4?r4.prototype:void 0,o4=i4?i4.toString:void 0;function s4(t){if(typeof t=="string")return t;if(gse(t))return mse(t,s4)+"";if(yse(t))return o4?o4.call(t):"";var e=t+"";return e=="0"&&1/t==-vse?"-0":e}var xse=s4,bse=xse;function wse(t){return t==null?"":bse(t)}var a4=wse,_se=ni,Sse=mE,Ese=hse,Tse=a4;function Pse(t,e){return _se(t)?t:Sse(t,e)?[t]:Ese(Tse(t))}var l4=Pse,Ase=ed,Cse=1/0;function Nse(t){if(typeof t=="string"||Ase(t))return t;var e=t+"";return e=="0"&&1/t==-Cse?"-0":e}var Ov=Nse,Ise=l4,jse=Ov;function kse(t,e){e=Ise(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jse(e[n++])];return n&&n==r?t:void 0}var SE=kse,Ose=SE;function Rse(t,e,n){var r=t==null?void 0:Ose(t,e);return r===void 0?n:r}var c4=Rse;const Gi=$e(c4);function Mse(t){return t==null}var Dse=Mse;const St=$e(Dse);var $se=Ys,Lse=ni,Fse=Xs,Vse="[object String]";function Bse(t){return typeof t=="string"||!Lse(t)&&Fse(t)&&$se(t)==Vse}var Use=Bse;const uc=$e(Use);var u4={exports:{}},Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=Symbol.for("react.element"),TE=Symbol.for("react.portal"),Rv=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Dv=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),zse=Symbol.for("react.server_context"),Fv=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Bv=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),Wse=Symbol.for("react.offscreen"),d4;d4=Symbol.for("react.module.reference");function Ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EE:switch(t=t.type,t){case Rv:case Dv:case Mv:case Vv:case Bv:return t;default:switch(t=t&&t.$$typeof,t){case zse:case Lv:case Fv:case zv:case Uv:case $v:return t;default:return e}}case TE:return e}}}Kt.ContextConsumer=Lv,Kt.ContextProvider=$v,Kt.Element=EE,Kt.ForwardRef=Fv,Kt.Fragment=Rv,Kt.Lazy=zv,Kt.Memo=Uv,Kt.Portal=TE,Kt.Profiler=Dv,Kt.StrictMode=Mv,Kt.Suspense=Vv,Kt.SuspenseList=Bv,Kt.isAsyncMode=function(){return!1},Kt.isConcurrentMode=function(){return!1},Kt.isContextConsumer=function(t){return Ki(t)===Lv},Kt.isContextProvider=function(t){return Ki(t)===$v},Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EE},Kt.isForwardRef=function(t){return Ki(t)===Fv},Kt.isFragment=function(t){return Ki(t)===Rv},Kt.isLazy=function(t){return Ki(t)===zv},Kt.isMemo=function(t){return Ki(t)===Uv},Kt.isPortal=function(t){return Ki(t)===TE},Kt.isProfiler=function(t){return Ki(t)===Dv},Kt.isStrictMode=function(t){return Ki(t)===Mv},Kt.isSuspense=function(t){return Ki(t)===Vv},Kt.isSuspenseList=function(t){return Ki(t)===Bv},Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rv||t===Dv||t===Mv||t===Vv||t===Bv||t===Wse||typeof t=="object"&&t!==null&&(t.$$typeof===zv||t.$$typeof===Uv||t.$$typeof===$v||t.$$typeof===Lv||t.$$typeof===Fv||t.$$typeof===d4||t.getModuleId!==void 0)},Kt.typeOf=Ki,u4.exports=Kt;var Hse=u4.exports,qse=Ys,Gse=Xs,Kse="[object Number]";function Yse(t){return typeof t=="number"||Gse(t)&&qse(t)==Kse}var f4=Yse;const Xse=$e(f4);var Qse=f4;function Jse(t){return Qse(t)&&t!=+t}var Zse=Jse;const tp=$e(Zse);var To=function(e){return e===0?0:e>0?1:-1},dc=function(e){return uc(e)&&e.indexOf("%")===e.length-1},Te=function(e){return Xse(e)&&!tp(e)},eae=function(e){return St(e)},tr=function(e){return Te(e)||uc(e)},tae=0,np=function(e){var n=++tae;return"".concat(e||"").concat(n)},fc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!uc(e))return r;var o;if(dc(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return tp(o)&&(o=r),i&&o>n&&(o=n),o},od=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},nae=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Po=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Gi(r,e))===n})}var rae=function(e,n){return Te(e)&&Te(n)?e-n:uc(e)&&uc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function PE(t){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(t)}var iae=["viewBox","children"],oae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],h4=["points","pathLength"],AE={svg:iae,polygon:h4,polyline:h4},CE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!td(r))return null;var i={};return Object.keys(r).forEach(function(o){CE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},sae=function(e,n,r){return function(i){return e(n,r,i),null}},qv=function(e,n,r){if(!td(e)||PE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];CE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=sae(s,n,r))}),i},aae=["children"],lae=["children"];function p4(t,e){if(t==null)return{};var n=cae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}var m4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},g4=null,IE=null,jE=function t(e){if(e===g4&&Array.isArray(IE))return IE;var n=[];return x.Children.forEach(e,function(r){St(r)||(Hse.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),IE=n,g4=e,n};function Yi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Qs(i)}):r=[Qs(e)],jE(t).forEach(function(i){var o=Gi(i,"type.displayName")||Gi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function xi(t,e){var n=Yi(t,e);return n&&n[0]}var y4=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},uae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dae=function(e){return e&&e.type&&uc(e.type)&&uae.indexOf(e.type)>=0},fae=function(e){return e&&NE(e)==="object"&&"clipDot"in e},hae=function(e,n,r,i){var o,s=(o=AE==null?void 0:AE[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Nt(e)&&(i&&s.includes(n)||oae.includes(n))||r&&CE.includes(n)},$t=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!td(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;hae((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},kE=function t(e,n){if(e===n)return!0;var r=x.Children.count(e);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return v4(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!v4(o,s))return!1}return!0},v4=function(e,n){if(St(e)&&St(n))return!0;if(!St(e)&&!St(n)){var r=e.props||{},i=r.children,o=p4(r,aae),s=n.props||{},a=s.children,l=p4(s,lae);return i&&a?sd(o,l)&&kE(i,a):!i&&!a?sd(o,l):!1}return!1},x4=function(e,n){var r=[],i={};return jE(e).forEach(function(o,s){if(dae(o))r.push(o);else if(o){var a=Qs(o.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var f=c(o,a,s);r.push(f),i[a]=!0}}}),r},pae=function(e){var n=e&&e.type;return n&&m4[n]?m4[n]:null},mae=function(e,n){return jE(n).indexOf(e)},gae=["children","width","height","viewBox","className","style","title","desc"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function yae(t,e){if(t==null)return{};var n=vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=yae(t,gae),d=i||{width:n,height:r,x:0,y:0},f=jt("recharts-surface",o);return q.createElement("svg",OE({},$t(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,a),q.createElement("desc",null,l),e)}var xae=["children","className"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function bae(t,e){if(t==null)return{};var n=wae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bn=q.forwardRef(function(t,e){var n=t.children,r=t.className,i=bae(t,xae),o=jt("recharts-layer",r);return q.createElement("g",ME({className:o},$t(i,!0),{ref:e}),n)}),hc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function _ae(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Sae=_ae,Eae=Sae;function Tae(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Eae(t,e,n)}var Pae=Tae,Aae="\\ud800-\\udfff",Cae="\\u0300-\\u036f",Nae="\\ufe20-\\ufe2f",Iae="\\u20d0-\\u20ff",jae=Cae+Nae+Iae,kae="\\ufe0e\\ufe0f",Oae="\\u200d",Rae=RegExp("["+Oae+Aae+jae+kae+"]");function Mae(t){return Rae.test(t)}var b4=Mae;function Dae(t){return t.split("")}var $ae=Dae,w4="\\ud800-\\udfff",Lae="\\u0300-\\u036f",Fae="\\ufe20-\\ufe2f",Vae="\\u20d0-\\u20ff",Bae=Lae+Fae+Vae,Uae="\\ufe0e\\ufe0f",zae="["+w4+"]",DE="["+Bae+"]",$E="\\ud83c[\\udffb-\\udfff]",Wae="(?:"+DE+"|"+$E+")",_4="[^"+w4+"]",S4="(?:\\ud83c[\\udde6-\\uddff]){2}",E4="[\\ud800-\\udbff][\\udc00-\\udfff]",Hae="\\u200d",T4=Wae+"?",P4="["+Uae+"]?",qae="(?:"+Hae+"(?:"+[_4,S4,E4].join("|")+")"+P4+T4+")*",Gae=P4+T4+qae,Kae="(?:"+[_4+DE+"?",DE,S4,E4,zae].join("|")+")",Yae=RegExp($E+"(?="+$E+")|"+Kae+Gae,"g");function Xae(t){return t.match(Yae)||[]}var Qae=Xae,Jae=$ae,Zae=b4,ele=Qae;function tle(t){return Zae(t)?ele(t):Jae(t)}var nle=tle,rle=Pae,ile=b4,ole=nle,sle=a4;function ale(t){return function(e){e=sle(e);var n=ile(e)?ole(e):void 0,r=n?n[0]:e.charAt(0),i=n?rle(n,1).join(""):e.slice(1);return r[t]()+i}}var lle=ale,cle=lle,ule=cle("toUpperCase"),dle=ule;const Gv=$e(dle);function cn(t){return function(){return t}}const A4=Math.cos,Kv=Math.sin,Ao=Math.sqrt,Yv=Math.PI,Xv=2*Yv,LE=Math.PI,FE=2*LE,pc=1e-6,fle=FE-pc;function C4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return C4;const n=Rc(10,e);return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ple{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C4:hle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>pc)if(!(Math.abs(f*l-c*d)>pc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,v=i-a,g=l*l+c*c,y=m*m+v*v,b=Math.sqrt(g),_=Math.sqrt(h),w=o*Math.tan((LE-Math.acos((g+h-y)/(2*b*_)))/2),T=w/_,S=w/b;Math.abs(T-1)>pc&&this._append`L${e+T*d},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*m>d*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>pc||Math.abs(this._y1-d)>pc)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%FE+FE),h>fle?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>pc&&this._append`A${r},${r},0,${+(h>=LE)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ple(e)}function BE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N4(t){this._context=t}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qv(t){return new N4(t)}function I4(t){return t[0]}function j4(t){return t[1]}function k4(t,e){var n=cn(!0),r=null,i=Qv,o=null,s=VE(a);t=typeof t=="function"?t:t===void 0?I4:cn(t),e=typeof e=="function"?e:e===void 0?j4:cn(e);function a(l){var c,d=(l=BE(l)).length,f,h=!1,m;for(r==null&&(o=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:cn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:cn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:cn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Jv(t,e,n){var r=null,i=cn(!0),o=null,s=Qv,a=null,l=VE(c);t=typeof t=="function"?t:t===void 0?I4:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?j4:cn(+n);function c(f){var h,m,v,g=(f=BE(f)).length,y,b=!1,_,w=new Array(g),T=new Array(g);for(o==null&&(a=s(_=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===b)if(b=!b)m=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=m;--v)a.point(w[v],T[v]);a.lineEnd(),a.areaEnd()}b&&(w[h]=+t(y,h,f),T[h]=+e(y,h,f),a.point(r?+r(y,h,f):w[h],n?+n(y,h,f):T[h]))}if(_)return a=null,_+""||null}function d(){return k4().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:cn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class O4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mle(t){return new O4(t,!0)}function gle(t){return new O4(t,!1)}const UE={draw(t,e){const n=Ao(e/Yv);t.moveTo(n,0),t.arc(0,0,n,0,Xv)}},yle={draw(t,e){const n=Ao(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},R4=Ao(1/3),vle=R4*2,xle={draw(t,e){const n=Ao(e/vle),r=n*R4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ble={draw(t,e){const n=Ao(e),r=-n/2;t.rect(r,r,n,n)}},wle=.8908130915292852,M4=Kv(Yv/10)/Kv(7*Yv/10),_le=Kv(Xv/10)*M4,Sle=-A4(Xv/10)*M4,Ele={draw(t,e){const n=Ao(e*wle),r=_le*n,i=Sle*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Xv*o/5,a=A4(s),l=Kv(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},zE=Ao(3),Tle={draw(t,e){const n=-Ao(e/(zE*3));t.moveTo(0,n*2),t.lineTo(-zE*n,-n),t.lineTo(zE*n,-n),t.closePath()}},Xi=-.5,Qi=Ao(3)/2,WE=1/Ao(12),Ple=(WE/2+1)*3,Ale={draw(t,e){const n=Ao(e/Ple),r=n/2,i=n*WE,o=r,s=n*WE+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Xi*r-Qi*i,Qi*r+Xi*i),t.lineTo(Xi*o-Qi*s,Qi*o+Xi*s),t.lineTo(Xi*a-Qi*l,Qi*a+Xi*l),t.lineTo(Xi*r+Qi*i,Xi*i-Qi*r),t.lineTo(Xi*o+Qi*s,Xi*s-Qi*o),t.lineTo(Xi*a+Qi*l,Xi*l-Qi*a),t.closePath()}};function Cle(t,e){let n=null,r=VE(i);t=typeof t=="function"?t:cn(t||UE),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:cn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:cn(+o),i):e},i.context=function(o){return arguments.length?(n=o==null?null:o,i):n},i}function Zv(){}function ex(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function D4(t){this._context=t}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ex(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ex(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nle(t){return new D4(t)}function $4(t){this._context=t}$4.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ex(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ile(t){return new $4(t)}function L4(t){this._context=t}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ex(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jle(t){return new L4(t)}function F4(t){this._context=t}F4.prototype={areaStart:Zv,areaEnd:Zv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kle(t){return new F4(t)}function V4(t){return t<0?-1:1}function B4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(V4(o)+V4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function U4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function HE(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function tx(t){this._context=t}tx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:HE(this,this._t0,U4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,HE(this,U4(this,n=B4(this,t,e)),n);break;default:HE(this,this._t0,n=B4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function z4(t){this._context=new W4(t)}(z4.prototype=Object.create(tx.prototype)).point=function(t,e){tx.prototype.point.call(this,e,t)};function W4(t){this._context=t}W4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Ole(t){return new tx(t)}function Rle(t){return new z4(t)}function H4(t){this._context=t}H4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=q4(t),i=q4(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q4(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Mle(t){return new H4(t)}function nx(t,e){this._context=t,this._t=e}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dle(t){return new nx(t,.5)}function $le(t){return new nx(t,0)}function Lle(t){return new nx(t,1)}function ad(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Fle(t,e){return t[e]}function Vle(t){const e=[];return e.key=t,e}function Ble(){var t=cn([]),e=qE,n=ad,r=Fle;function i(o){var s=Array.from(t.apply(this,arguments),Vle),a,l=s.length,c=-1,d;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(f,s[a].key,c,o)]).data=f;for(a=0,d=BE(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:cn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:cn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?qE:typeof o=="function"?o:cn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o==null?ad:o,i):n},i}function Ule(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ad(t,e)}}function zle(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}ad(t,e)}}function Wle(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<a;++v){var g=t[e[v]],y=g[r][1]||0,b=g[r-1][1]||0;m+=y-b}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ad(t,e)}}function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}var Hle=["type","size","sizeType"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return e=Gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Kle(t,"string");return rp(e)=="symbol"?e:e+""}function Kle(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yle(t,e){if(t==null)return{};var n=Xle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y4={symbolCircle:UE,symbolCross:yle,symbolDiamond:xle,symbolSquare:ble,symbolStar:Ele,symbolTriangle:Tle,symbolWye:Ale},Qle=Math.PI/180,Jle=function(e){var n="symbol".concat(Gv(e));return Y4[n]||UE},Zle=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Qle;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ece=function(e,n){Y4["symbol".concat(Gv(e))]=n},KE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Yle(e,Hle),c=K4(K4({},l),{},{type:r,size:o,sizeType:a}),d=function(){var y=Jle(r),b=Cle().type(y).size(Zle(o,a,r));return b()},f=c.className,h=c.cx,m=c.cy,v=$t(c,!0);return h===+h&&m===+m&&o===+o?q.createElement("path",GE({},v,{className:jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};KE.registerSymbol=ece;function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J4(r.key),r)}}function ice(t,e,n){return e&&rce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oce(t,e,n){return e=rx(e),sce(t,Q4()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function sce(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ace(t)}function ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Q4=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function ip(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=cce(t,"string");return ld(e)=="symbol"?e:e+""}function cce(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ji=32,QE=function(t){function e(){return nce(this,e),oce(this,e,arguments)}return lce(e,t),ice(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ji/2,s=Ji/6,a=Ji/3,l=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ji,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Ji,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ji/8,"h").concat(Ji,"v").concat(Ji*3/4,"h").concat(-Ji,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var c=tce({},r);return delete c.legendIcon,q.cloneElement(r.legendIcon,c)}return q.createElement(KE,{fill:l,cx:o,cy:o,size:Ji,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Ji,height:Ji},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var g=m.formatter||l,y=jt(ip(ip({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Nt(m.value)?null:m.value;hc(!Nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?c:m.color;return q.createElement("li",YE({className:y,style:f,key:"legend-item-".concat(v)},qv(r.props,m,v)),q.createElement(RE,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,m,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(x.PureComponent);ip(QE,"displayName","Legend"),ip(QE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uce=jv;function dce(){this.__data__=new uce,this.size=0}var fce=dce;function hce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var pce=hce;function mce(t){return this.__data__.get(t)}var gce=mce;function yce(t){return this.__data__.has(t)}var vce=yce,xce=jv,bce=xE,wce=bE,_ce=200;function Sce(t,e){var n=this.__data__;if(n instanceof xce){var r=n.__data__;if(!bce||r.length<_ce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wce(r)}return n.set(t,e),this.size=n.size,this}var Ece=Sce,Tce=jv,Pce=fce,Ace=pce,Cce=gce,Nce=vce,Ice=Ece;function cd(t){var e=this.__data__=new Tce(t);this.size=e.size}cd.prototype.clear=Pce,cd.prototype.delete=Ace,cd.prototype.get=Cce,cd.prototype.has=Nce,cd.prototype.set=Ice;var Z4=cd,jce="__lodash_hash_undefined__";function kce(t){return this.__data__.set(t,jce),this}var Oce=kce;function Rce(t){return this.__data__.has(t)}var Mce=Rce,Dce=bE,$ce=Oce,Lce=Mce;function ix(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Dce;++e<n;)this.add(t[e])}ix.prototype.add=ix.prototype.push=$ce,ix.prototype.has=Lce;var e3=ix;function Fce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var t3=Fce;function Vce(t,e){return t.has(e)}var n3=Vce,Bce=e3,Uce=t3,zce=n3,Wce=1,Hce=2;function qce(t,e,n,r,i,o){var s=n&Wce,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Hce?new Bce:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],g=e[f];if(r)var y=s?r(g,v,f,e,t,o):r(v,g,f,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Uce(e,function(b,_){if(!zce(m,_)&&(v===b||i(v,b,n,r,o)))return m.push(_)})){h=!1;break}}else if(!(v===g||i(v,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var r3=qce,Gce=os,Kce=Gce.Uint8Array,Yce=Kce;function Xce(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Qce=Xce;function Jce(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JE=Jce,i3=Zh,o3=Yce,Zce=vE,eue=r3,tue=Qce,nue=JE,rue=1,iue=2,oue="[object Boolean]",sue="[object Date]",aue="[object Error]",lue="[object Map]",cue="[object Number]",uue="[object RegExp]",due="[object Set]",fue="[object String]",hue="[object Symbol]",pue="[object ArrayBuffer]",mue="[object DataView]",s3=i3?i3.prototype:void 0,ZE=s3?s3.valueOf:void 0;function gue(t,e,n,r,i,o,s){switch(n){case mue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pue:return!(t.byteLength!=e.byteLength||!o(new o3(t),new o3(e)));case oue:case sue:case cue:return Zce(+t,+e);case aue:return t.name==e.name&&t.message==e.message;case uue:case fue:return t==e+"";case lue:var a=tue;case due:var l=r&rue;if(a||(a=nue),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=iue,s.set(t,e);var d=eue(a(t),a(e),r,i,o,s);return s.delete(t),d;case hue:if(ZE)return ZE.call(t)==ZE.call(e)}return!1}var yue=gue;function vue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var a3=vue,xue=a3,bue=ni;function wue(t,e,n){var r=e(t);return bue(t)?r:xue(r,n(t))}var _ue=wue;function Sue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Eue=Sue;function Tue(){return[]}var Pue=Tue,Aue=Eue,Cue=Pue,Nue=Object.prototype,Iue=Nue.propertyIsEnumerable,l3=Object.getOwnPropertySymbols,jue=l3?function(t){return t==null?[]:(t=Object(t),Aue(l3(t),function(e){return Iue.call(t,e)}))}:Cue,kue=jue;function Oue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Rue=Oue,Mue=Ys,Due=Xs,$ue="[object Arguments]";function Lue(t){return Due(t)&&Mue(t)==$ue}var Fue=Lue,c3=Fue,Vue=Xs,u3=Object.prototype,Bue=u3.hasOwnProperty,Uue=u3.propertyIsEnumerable,zue=c3(function(){return arguments}())?c3:function(t){return Vue(t)&&Bue.call(t,"callee")&&!Uue.call(t,"callee")},eT=zue,ox={exports:{}};function Wue(){return!1}var Hue=Wue;ox.exports,function(t,e){var n=os,r=Hue,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c}(ox,ox.exports);var d3=ox.exports,que=9007199254740991,Gue=/^(?:0|[1-9]\d*)$/;function Kue(t,e){var n=typeof t;return e=e==null?que:e,!!e&&(n=="number"||n!="symbol"&&Gue.test(t))&&t>-1&&t%1==0&&t<e}var tT=Kue,Yue=9007199254740991;function Xue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Yue}var nT=Xue,Que=Ys,Jue=nT,Zue=Xs,ede="[object Arguments]",tde="[object Array]",nde="[object Boolean]",rde="[object Date]",ide="[object Error]",ode="[object Function]",sde="[object Map]",ade="[object Number]",lde="[object Object]",cde="[object RegExp]",ude="[object Set]",dde="[object String]",fde="[object WeakMap]",hde="[object ArrayBuffer]",pde="[object DataView]",mde="[object Float32Array]",gde="[object Float64Array]",yde="[object Int8Array]",vde="[object Int16Array]",xde="[object Int32Array]",bde="[object Uint8Array]",wde="[object Uint8ClampedArray]",_de="[object Uint16Array]",Sde="[object Uint32Array]",mn={};mn[mde]=mn[gde]=mn[yde]=mn[vde]=mn[xde]=mn[bde]=mn[wde]=mn[_de]=mn[Sde]=!0,mn[ede]=mn[tde]=mn[hde]=mn[nde]=mn[pde]=mn[rde]=mn[ide]=mn[ode]=mn[sde]=mn[ade]=mn[lde]=mn[cde]=mn[ude]=mn[dde]=mn[fde]=!1;function Ede(t){return Zue(t)&&Jue(t.length)&&!!mn[Que(t)]}var Tde=Ede;function Pde(t){return function(e){return t(e)}}var f3=Pde,sx={exports:{}};sx.exports,function(t,e){var n=qL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch(c){}}();t.exports=a}(sx,sx.exports);var Ade=sx.exports,Cde=Tde,Nde=f3,h3=Ade,p3=h3&&h3.isTypedArray,Ide=p3?Nde(p3):Cde,m3=Ide,jde=Rue,kde=eT,Ode=ni,Rde=d3,Mde=tT,Dde=m3,$de=Object.prototype,Lde=$de.hasOwnProperty;function Fde(t,e){var n=Ode(t),r=!n&&kde(t),i=!n&&!r&&Rde(t),o=!n&&!r&&!i&&Dde(t),s=n||r||i||o,a=s?jde(t.length,String):[],l=a.length;for(var c in t)(e||Lde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Mde(c,l)))&&a.push(c);return a}var Vde=Fde,Bde=Object.prototype;function Ude(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Bde;return t===n}var zde=Ude;function Wde(t,e){return function(n){return t(e(n))}}var g3=Wde,Hde=g3,qde=Hde(Object.keys,Object),Gde=qde,Kde=zde,Yde=Gde,Xde=Object.prototype,Qde=Xde.hasOwnProperty;function Jde(t){if(!Kde(t))return Yde(t);var e=[];for(var n in Object(t))Qde.call(t,n)&&n!="constructor"&&e.push(n);return e}var Zde=Jde,efe=gE,tfe=nT;function nfe(t){return t!=null&&tfe(t.length)&&!efe(t)}var ax=nfe,rfe=Vde,ife=Zde,ofe=ax;function sfe(t){return ofe(t)?rfe(t):ife(t)}var rT=sfe,afe=_ue,lfe=kue,cfe=rT;function ufe(t){return afe(t,cfe,lfe)}var dfe=ufe,y3=dfe,ffe=1,hfe=Object.prototype,pfe=hfe.hasOwnProperty;function mfe(t,e,n,r,i,o){var s=n&ffe,a=y3(t),l=a.length,c=y3(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:pfe.call(e,h)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++f<l;){h=a[f];var b=t[h],_=e[h];if(r)var w=s?r(_,b,h,e,t,o):r(b,_,h,t,e,o);if(!(w===void 0?b===_||i(b,_,n,r,o):w)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var gfe=mfe,yfe=cc,vfe=os,xfe=yfe(vfe,"DataView"),bfe=xfe,wfe=cc,_fe=os,Sfe=wfe(_fe,"Promise"),Efe=Sfe,Tfe=cc,Pfe=os,Afe=Tfe(Pfe,"Set"),v3=Afe,Cfe=cc,Nfe=os,Ife=Cfe(Nfe,"WeakMap"),jfe=Ife,iT=bfe,oT=xE,sT=Efe,aT=v3,lT=jfe,x3=Ys,ud=JL,b3="[object Map]",kfe="[object Object]",w3="[object Promise]",_3="[object Set]",S3="[object WeakMap]",E3="[object DataView]",Ofe=ud(iT),Rfe=ud(oT),Mfe=ud(sT),Dfe=ud(aT),$fe=ud(lT),mc=x3;(iT&&mc(new iT(new ArrayBuffer(1)))!=E3||oT&&mc(new oT)!=b3||sT&&mc(sT.resolve())!=w3||aT&&mc(new aT)!=_3||lT&&mc(new lT)!=S3)&&(mc=function(t){var e=x3(t),n=e==kfe?t.constructor:void 0,r=n?ud(n):"";if(r)switch(r){case Ofe:return E3;case Rfe:return b3;case Mfe:return w3;case Dfe:return _3;case $fe:return S3}return e});var Lfe=mc,cT=Z4,Ffe=r3,Vfe=yue,Bfe=gfe,T3=Lfe,P3=ni,A3=d3,Ufe=m3,zfe=1,C3="[object Arguments]",N3="[object Array]",lx="[object Object]",Wfe=Object.prototype,I3=Wfe.hasOwnProperty;function Hfe(t,e,n,r,i,o){var s=P3(t),a=P3(e),l=s?N3:T3(t),c=a?N3:T3(e);l=l==C3?lx:l,c=c==C3?lx:c;var d=l==lx,f=c==lx,h=l==c;if(h&&A3(t)){if(!A3(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new cT),s||Ufe(t)?Ffe(t,e,n,r,i,o):Vfe(t,e,l,n,r,i,o);if(!(n&zfe)){var m=d&&I3.call(t,"__wrapped__"),v=f&&I3.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,y=v?e.value():e;return o||(o=new cT),i(g,y,n,r,o)}}return h?(o||(o=new cT),Bfe(t,e,n,r,i,o)):!1}var qfe=Hfe,Gfe=qfe,j3=Xs;function k3(t,e,n,r,i){return t===e?!0:t==null||e==null||!j3(t)&&!j3(e)?t!==t&&e!==e:Gfe(t,e,n,r,k3,i)}var uT=k3,Kfe=Z4,Yfe=uT,Xfe=1,Qfe=2;function Jfe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Kfe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?Yfe(d,c,Xfe|Qfe,r,f):h))return!1}}return!0}var Zfe=Jfe,ehe=il;function the(t){return t===t&&!ehe(t)}var O3=the,nhe=O3,rhe=rT;function ihe(t){for(var e=rhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nhe(i)]}return e}var ohe=ihe;function she(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var R3=she,ahe=Zfe,lhe=ohe,che=R3;function uhe(t){var e=lhe(t);return e.length==1&&e[0][2]?che(e[0][0],e[0][1]):function(n){return n===t||ahe(n,t,e)}}var dhe=uhe;function fhe(t,e){return t!=null&&e in Object(t)}var hhe=fhe,phe=l4,mhe=eT,ghe=ni,yhe=tT,vhe=nT,xhe=Ov;function bhe(t,e,n){e=phe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=xhe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&vhe(i)&&yhe(s,i)&&(ghe(t)||mhe(t)))}var whe=bhe,_he=hhe,She=whe;function Ehe(t,e){return t!=null&&She(t,e,_he)}var The=Ehe,Phe=uT,Ahe=c4,Che=The,Nhe=mE,Ihe=O3,jhe=R3,khe=Ov,Ohe=1,Rhe=2;function Mhe(t,e){return Nhe(t)&&Ihe(e)?jhe(khe(t),e):function(n){var r=Ahe(n,t);return r===void 0&&r===e?Che(n,t):Phe(e,r,Ohe|Rhe)}}var Dhe=Mhe;function $he(t){return t}var dd=$he;function Lhe(t){return function(e){return e==null?void 0:e[t]}}var Fhe=Lhe,Vhe=SE;function Bhe(t){return function(e){return Vhe(e,t)}}var Uhe=Bhe,zhe=Fhe,Whe=Uhe,Hhe=mE,qhe=Ov;function Ghe(t){return Hhe(t)?zhe(qhe(t)):Whe(t)}var Khe=Ghe,Yhe=dhe,Xhe=Dhe,Qhe=dd,Jhe=ni,Zhe=Khe;function epe(t){return typeof t=="function"?t:t==null?Qhe:typeof t=="object"?Jhe(t)?Xhe(t[0],t[1]):Yhe(t):Zhe(t)}var fd=epe;function tpe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var npe=tpe;function rpe(t){return t!==t}var ipe=rpe;function ope(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var spe=ope,ape=npe,lpe=ipe,cpe=spe;function upe(t,e,n){return e===e?cpe(t,e,n):ape(t,lpe,n)}var dpe=upe,fpe=dpe;function hpe(t,e){var n=t==null?0:t.length;return!!n&&fpe(t,e,0)>-1}var ppe=hpe;function mpe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var gpe=mpe;function ype(){}var vpe=ype,dT=v3,xpe=vpe,bpe=JE,wpe=1/0,_pe=dT&&1/bpe(new dT([,-0]))[1]==wpe?function(t){return new dT(t)}:xpe,Spe=_pe,Epe=e3,Tpe=ppe,Ppe=gpe,Ape=n3,Cpe=Spe,Npe=JE,Ipe=200;function jpe(t,e,n){var r=-1,i=Tpe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Ppe;else if(o>=Ipe){var c=e?null:Cpe(t);if(c)return Npe(c);s=!1,i=Ape,l=new Epe}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var kpe=jpe,Ope=fd,Rpe=kpe;function Mpe(t,e){return t&&t.length?Rpe(t,Ope(e)):[]}var Dpe=Mpe;const M3=$e(Dpe);function D3(t,e,n){return e===!0?M3(t,n):Nt(e)?M3(t,e):t}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var $pe=["ref"];function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V3(r.key),r)}}function Fpe(t,e,n){return e&&L3(t.prototype,e),n&&L3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vpe(t,e,n){return e=cx(e),Bpe(t,F3()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function Bpe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(t)}function Upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(F3=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function ux(t,e,n){return e=V3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V3(t){var e=Wpe(t,"string");return hd(e)=="symbol"?e:e+""}function Wpe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hpe(t,e){if(t==null)return{};var n=qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gpe(t){return t.value}function Kpe(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var n=Hpe(e,$pe);return q.createElement(QE,n)}var B3=1,pd=function(t){function e(){var n;Lpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Vpe(this,e,[].concat(i)),ux(n,"lastBoundingBox",{width:-1,height:-1}),n}return zpe(e,t),Fpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>B3||Math.abs(i.height-this.lastBoundingBox.height)>B3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Js(Js({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Js(Js({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Kpe(o,Js(Js({},this.props),{},{payload:D3(d,c,Gpe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Js(Js({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&Te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);ux(pd,"displayName","Legend"),ux(pd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var U3=Zh,Ype=eT,Xpe=ni,z3=U3?U3.isConcatSpreadable:void 0;function Qpe(t){return Xpe(t)||Ype(t)||!!(z3&&t&&t[z3])}var Jpe=Qpe,Zpe=a3,eme=Jpe;function W3(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=eme),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?W3(a,e-1,n,r,i):Zpe(i,a):r||(i[i.length]=a)}return i}var H3=W3;function tme(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var nme=tme,rme=nme,ime=rme(),ome=ime,sme=ome,ame=rT;function lme(t,e){return t&&sme(t,e,ame)}var q3=lme,cme=ax;function ume(t,e){return function(n,r){if(n==null)return n;if(!cme(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var dme=ume,fme=q3,hme=dme,pme=hme(fme),hT=pme,mme=hT,gme=ax;function yme(t,e){var n=-1,r=gme(t)?Array(t.length):[];return mme(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var G3=yme;function vme(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var xme=vme,K3=ed;function bme(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=K3(t),s=e!==void 0,a=e===null,l=e===e,c=K3(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var wme=bme,_me=wme;function Sme(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=_me(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Eme=Sme,pT=_E,Tme=SE,Pme=fd,Ame=G3,Cme=xme,Nme=f3,Ime=Eme,jme=dd,kme=ni;function Ome(t,e,n){e.length?e=pT(e,function(o){return kme(o)?function(s){return Tme(s,o.length===1?o[0]:o)}:o}):e=[jme];var r=-1;e=pT(e,Nme(Pme));var i=Ame(t,function(o,s,a){var l=pT(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Cme(i,function(o,s){return Ime(o,s,n)})}var Rme=Ome;function Mme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Dme=Mme,$me=Dme,Y3=Math.max;function Lme(t,e,n){return e=Y3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Y3(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),$me(t,this,a)}}var Fme=Lme;function Vme(t){return function(){return t}}var Bme=Vme,Ume=cc,zme=function(){try{var t=Ume(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),X3=zme,Wme=Bme,Q3=X3,Hme=dd,qme=Q3?function(t,e){return Q3(t,"toString",{configurable:!0,enumerable:!1,value:Wme(e),writable:!0})}:Hme,Gme=qme,Kme=800,Yme=16,Xme=Date.now;function Qme(t){var e=0,n=0;return function(){var r=Xme(),i=Yme-(r-n);if(n=r,i>0){if(++e>=Kme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jme=Qme,Zme=Gme,ege=Jme,tge=ege(Zme),nge=tge,rge=dd,ige=Fme,oge=nge;function sge(t,e){return oge(ige(t,e,rge),t+"")}var age=sge,lge=vE,cge=ax,uge=tT,dge=il;function fge(t,e,n){if(!dge(n))return!1;var r=typeof e;return(r=="number"?cge(n)&&uge(e,n.length):r=="string"&&e in n)?lge(n[e],t):!1}var dx=fge,hge=H3,pge=Rme,mge=age,J3=dx,gge=mge(function(t,e){if(t==null)return[];var n=e.length;return n>1&&J3(t,e[0],e[1])?e=[]:n>2&&J3(e[0],e[1],e[2])&&(e=[e[0]]),pge(t,hge(e,1),[])}),yge=gge;const mT=$e(yge);function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(this,arguments)}function vge(t,e){return _ge(t)||wge(t,e)||bge(t,e)||xge()}function xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(t,e){if(t){if(typeof t=="string")return Z3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z3(t,e)}}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wge(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _ge(t){if(Array.isArray(t))return t}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){Sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e,n){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return op(e)=="symbol"?e:e+""}function Tge(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pge(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var Age=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,y=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?mT(d,h):d).map(function(H,B){if(H.type==="none")return null;var W=yT({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},a),G=H.formatter||f||Pge,U=H.value,z=H.name,Q=U,J=z;if(G&&Q!=null&&J!=null){var oe=G(U,z,H,B,d);if(Array.isArray(oe)){var be=vge(oe,2);Q=be[0],J=be[1]}else Q=oe}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:W},tr(J)?q.createElement("span",{className:"recharts-tooltip-item-name"},J):null,tr(J)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},Q),q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},T=yT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=yT({margin:0},c),N=!St(g),E=N?g:"",A=jt("recharts-default-tooltip",m),C=jt("recharts-tooltip-label",v);N&&y&&d!==void 0&&d!==null&&(E=y(g,d));var j=_?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",gT({className:A,style:T},j),q.createElement("p",{className:C,style:S},q.isValidElement(E)?E:"".concat(E)),w())};function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function fx(t,e,n){return e=Cge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=Nge(t,"string");return sp(e)=="symbol"?e:e+""}function Nge(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ap="recharts-tooltip-wrapper",Ige={visibility:"hidden"};function jge(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return jt(ap,fx(fx(fx(fx({},"".concat(ap,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(ap,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(ap,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(ap,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function t5(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Te(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+a,g=l[r]+c;return v>g?Math.max(d,l[r]):Math.max(f,l[r])}function kge(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Oge(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=t5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=t5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=kge({translateX:d,translateY:f,useTranslate3d:a})):c=Ige,{cssProperties:c,cssClasses:jge({translateX:d,translateY:f,coordinate:n})}}function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){xT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function Dge(t,e,n){return e&&Mge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ge(t,e,n){return e=hx(e),Lge(t,i5()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function Lge(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fge(t)}function Fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i5=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function Vge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vT(t,e)}function vT(t,e){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vT(t,e)}function xT(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=Bge(t,"string");return md(e)=="symbol"?e:e+""}function Bge(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s5=1,Uge=function(t){function e(){var n;Rge(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=$ge(this,e,[].concat(i)),xT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Vge(e,t),Dge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>s5||Math.abs(r.height-this.state.lastBoundingBox.height)>s5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=Oge({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),T=w.cssClasses,S=w.cssProperties,N=r5(r5({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return q.createElement("div",{tabIndex:-1,className:T,style:N,ref:function(A){r.wrapperNode=A}},c)}}])}(x.PureComponent),zge=function(){return!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout)},Zs={isSsr:zge(),get:function(e){return Zs[e]},set:function(e,n){if(typeof e=="string")Zs[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Zs[i]=e[i]})}}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){wT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function qge(t,e,n){return e&&Hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gge(t,e,n){return e=px(e),Kge(t,c5()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function Kge(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yge(t)}function Yge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c5=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function Xge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bT(t,e)}function wT(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=Qge(t,"string");return gd(e)=="symbol"?e:e+""}function Qge(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jge(t){return t.dataKey}function Zge(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(Age,e)}var ss=function(t){function e(){return Wge(this,e),Gge(this,e,arguments)}return Xge(e,t),qge(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,y=i.position,b=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,T=i.wrapperStyle,S=v!=null?v:[];f&&S.length&&(S=D3(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,Jge));var N=S.length>0;return q.createElement(Uge,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:T},Zge(c,l5(l5({},this.props),{},{payload:S})))}}])}(x.PureComponent);wT(ss,"displayName","Tooltip"),wT(ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var eye=os,tye=function(){return eye.Date.now()},nye=tye,rye=/\s/;function iye(t){for(var e=t.length;e--&&rye.test(t.charAt(e)););return e}var oye=iye,sye=oye,aye=/^\s+/;function lye(t){return t&&t.slice(0,sye(t)+1).replace(aye,"")}var cye=lye,uye=cye,d5=il,dye=ed,f5=NaN,fye=/^[-+]0x[0-9a-f]+$/i,hye=/^0b[01]+$/i,pye=/^0o[0-7]+$/i,mye=parseInt;function gye(t){if(typeof t=="number")return t;if(dye(t))return f5;if(d5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=d5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uye(t);var n=hye.test(t);return n||pye.test(t)?mye(t.slice(2),n?2:8):fye.test(t)?f5:+t}var h5=gye,yye=il,_T=nye,p5=h5,vye="Expected a function",xye=Math.max,bye=Math.min;function wye(t,e,n){var r,i,o,s,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(vye);e=p5(e)||0,yye(n)&&(d=!!n.leading,f="maxWait"in n,o=f?xye(p5(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(N){var E=r,A=i;return r=i=void 0,c=N,s=t.apply(A,E),s}function v(N){return c=N,a=setTimeout(b,e),d?m(N):s}function g(N){var E=N-l,A=N-c,C=e-E;return f?bye(C,o-A):C}function y(N){var E=N-l,A=N-c;return l===void 0||E>=e||E<0||f&&A>=o}function b(){var N=_T();if(y(N))return _(N);a=setTimeout(b,g(N))}function _(N){return a=void 0,h&&r?m(N):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function T(){return a===void 0?s:_(_T())}function S(){var N=_T(),E=y(N);if(r=arguments,i=this,l=N,E){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),s}return S.cancel=w,S.flush=T,S}var _ye=wye,Sye=_ye,Eye=il,Tye="Expected a function";function Pye(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Tye);return Eye(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Sye(t,e,{leading:r,maxWait:e,trailing:i})}var Aye=Pye;const m5=$e(Aye);function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){Cye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cye(t,e,n){return e=Nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Iye(t,"string");return lp(e)=="symbol"?e:e+""}function Iye(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jye(t,e){return Mye(t)||Rye(t,e)||Oye(t,e)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(t,e){if(t){if(typeof t=="string")return y5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y5(t,e)}}function y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rye(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Mye(t){if(Array.isArray(t))return t}var Dye=x.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,y=t.id,b=t.className,_=t.onResize,w=t.style,T=w===void 0?{}:w,S=x.useRef(null),N=x.useRef();N.current=_,x.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=x.useState({containerWidth:i.width,containerHeight:i.height}),A=jye(E,2),C=A[0],j=A[1],I=x.useCallback(function(R,H){j(function(B){var W=Math.round(R),G=Math.round(H);return B.containerWidth===W&&B.containerHeight===G?B:{containerWidth:W,containerHeight:G}})},[]);x.useEffect(function(){var R=function(z){var Q,J=z[0].contentRect,oe=J.width,be=J.height;I(oe,be),(Q=N.current)===null||Q===void 0||Q.call(N,oe,be)};g>0&&(R=m5(R,g,{trailing:!0,leading:!1}));var H=new ResizeObserver(R),B=S.current.getBoundingClientRect(),W=B.width,G=B.height;return I(W,G),H.observe(S.current),function(){H.disconnect()}},[I,g]);var O=x.useMemo(function(){var R=C.containerWidth,H=C.containerHeight;if(R<0||H<0)return null;hc(dc(s)||dc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),hc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=dc(s)?R:s,W=dc(l)?H:l;n&&n>0&&(B?W=B/n:W&&(B=W*n),h&&W>h&&(W=h)),hc(B>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,W,s,l,d,f,n);var G=!Array.isArray(m)&&Qs(m.type).endsWith("Chart");return q.Children.map(m,function(U){return q.isValidElement(U)?x.cloneElement(U,mx({width:B,height:W},G?{style:mx({height:"100%",width:"100%",maxHeight:W,maxWidth:B},U.props.style)}:{})):U})},[n,m,l,h,f,d,C,s]);return q.createElement("div",{id:y?"".concat(y):void 0,className:jt("recharts-responsive-container",b),style:mx(mx({},T),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),v5=function(e){return null};v5.displayName="Cell";function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){$ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ye(t,e,n){return e=Lye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lye(t){var e=Fye(t,"string");return cp(e)=="symbol"?e:e+""}function Fye(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yd={widthCache:{},cacheCount:0},Vye=2e3,Bye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b5="recharts_measurement_span";function Uye(t){var e=ST({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var up=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zs.isSsr)return{width:0,height:0};var r=Uye(n),i=JSON.stringify({text:e,copyStyle:r});if(yd.widthCache[i])return yd.widthCache[i];try{var o=document.getElementById(b5);o||(o=document.createElement("span"),o.setAttribute("id",b5),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=ST(ST({},Bye),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return yd.widthCache[i]=l,++yd.cacheCount>Vye&&(yd.cacheCount=0,yd.widthCache={}),l}catch(c){return{width:0,height:0}}},zye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function gx(t,e){return Gye(t)||qye(t,e)||Hye(t,e)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hye(t,e){if(t){if(typeof t=="string")return w5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w5(t,e)}}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qye(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Gye(t){if(Array.isArray(t))return t}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xye(r.key),r)}}function Yye(t,e,n){return e&&_5(t.prototype,e),n&&_5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xye(t){var e=Qye(t,"string");return dp(e)=="symbol"?e:e+""}function Qye(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eve=Object.keys(T5),vd="NaN";function tve(t,e){return t*T5[e]}var yx=function(){function t(e,n){Kye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Jye.test(n)&&(this.num=NaN,this.unit=""),eve.includes(n)&&(this.num=tve(e,n),this.unit="px")}return Yye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Zye.exec(n))!==null&&r!==void 0?r:[],o=gx(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a!=null?a:"")}}])}();function P5(t){if(t.includes(vd))return vd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=S5.exec(e))!==null&&n!==void 0?n:[],i=gx(r,4),o=i[1],s=i[2],a=i[3],l=yx.parse(o!=null?o:""),c=yx.parse(a!=null?a:""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return vd;e=e.replace(S5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=E5.exec(e))!==null&&f!==void 0?f:[],m=gx(h,4),v=m[1],g=m[2],y=m[3],b=yx.parse(v!=null?v:""),_=yx.parse(y!=null?y:""),w=g==="+"?b.add(_):b.subtract(_);if(w.isNaN())return vd;e=e.replace(E5,w.toString())}return e}var A5=/\(([^()]*)\)/;function nve(t){for(var e=t;e.includes("(");){var n=A5.exec(e),r=gx(n,2),i=r[1];e=e.replace(A5,P5(i))}return e}function rve(t){var e=t.replace(/\s+/g,"");return e=nve(e),e=P5(e),e}function ive(t){try{return rve(t)}catch(e){return vd}}function ET(t){var e=ive(t.slice(5,-1));return e===vd?"":e}var ove=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sve=["dx","dy","angle","className","breakAll"];function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(this,arguments)}function C5(t,e){if(t==null)return{};var n=ave(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ave(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N5(t,e){return dve(t)||uve(t,e)||cve(t,e)||lve()}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t,e){if(t){if(typeof t=="string")return I5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I5(t,e)}}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uve(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function dve(t){if(Array.isArray(t))return t}var j5=/[ \f\n\r\t\v\u2028\u2029]+/,k5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];St(n)||(r?o=n.toString().split(""):o=n.toString().split(j5));var s=o.map(function(l){return{word:l,width:up(l,i).width}}),a=r?0:up("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch(l){return null}},fve=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=Te(s),f=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(W,G){var U=G.word,z=G.width,Q=W[W.length-1];if(Q&&(i==null||o||Q.width+z+r<Number(i)))Q.words.push(U),Q.width+=z+r;else{var J={words:[U],width:z};W.push(J)}return W},[])},m=h(n),v=function(B){return B.reduce(function(W,G){return W.width>G.width?W:G})};if(!d)return m;for(var g="",y=function(B){var W=f.slice(0,B),G=k5({breakAll:c,style:l,children:W+g}).wordsWithComputedWidth,U=h(G),z=U.length>s||v(U).width>Number(i);return[z,U]},b=0,_=f.length-1,w=0,T;b<=_&&w<=f.length-1;){var S=Math.floor((b+_)/2),N=S-1,E=y(N),A=N5(E,2),C=A[0],j=A[1],I=y(S),O=N5(I,1),R=O[0];if(!C&&!R&&(b=S+1),C&&R&&(_=S-1),!C&&R){T=j;break}w++}return T||m},O5=function(e){var n=St(e)?[]:e.toString().split(j5);return[{words:n}]},hve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Zs.isSsr){var l,c,d=k5({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return O5(i);return fve({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return O5(i)},R5="#808080",vx=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,y=e.fill,b=y===void 0?R5:y,_=C5(e,ove),w=x.useMemo(function(){return hve({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),T=_.dx,S=_.dy,N=_.angle,E=_.className,A=_.breakAll,C=C5(_,sve);if(!tr(r)||!tr(o))return null;var j=r+(Te(T)?T:0),I=o+(Te(S)?S:0),O;switch(g){case"start":O=ET("calc(".concat(c,")"));break;case"middle":O=ET("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:O=ET("calc(".concat(w.length-1," * -").concat(a,")"));break}var R=[];if(f){var H=w[0].width,B=_.width;R.push("scale(".concat((Te(B)?B/H:1)/H,")"))}return N&&R.push("rotate(".concat(N,", ").concat(j,", ").concat(I,")")),R.length&&(C.transform=R.join(" ")),q.createElement("text",TT({},$t(C,!0),{x:j,y:I,className:jt("recharts-text",E),textAnchor:m,fill:b.includes("url")?R5:b}),w.map(function(W,G){var U=W.words.join(A?"":" ");return q.createElement("tspan",{x:j,dy:G===0?O:a,key:"".concat(U,"-").concat(G)},U)}))};function ol(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PT(t){let e,n,r;t.length!==2?(e=ol,n=(a,l)=>ol(t(a),l),r=(a,l)=>t(a)-l):(e=t===ol||t===pve?t:mve,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function mve(){return 0}function M5(t){return t===null?NaN:+t}function*gve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fp=PT(ol).right;PT(M5).center;class D5 extends Map{constructor(e,n=xve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($5(this,e))}has(e){return super.has($5(this,e))}set(e,n){return super.set(yve(this,e),n)}delete(e){return super.delete(vve(this,e))}}function $5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bve(t=ol){if(t===ol)return L5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wve=Math.sqrt(50),_ve=Math.sqrt(10),Sve=Math.sqrt(2);function xx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=wve?10:o>=_ve?5:o>=Sve?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?xx(t,e,n*2):[a,l,c]}function AT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?xx(e,t,n):xx(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function CT(t,e,n){return e=+e,t=+t,n=+n,xx(t,e,n)[2]}function NT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?CT(e,t,n):CT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function F5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function V5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function B5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L5:bve(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),v=Math.min(r,Math.floor(e+(l-c)*f/l+h));B5(t,e,m,v,i)}const o=t[e];let s=n,a=r;for(hp(t,n,e),i(t[r],o)>0&&hp(t,n,r);s<a;){for(hp(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?hp(t,n,a):(++a,hp(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function hp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Eve(t,e,n){if(t=Float64Array.from(gve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return V5(t);if(e>=1)return F5(t);var r,i=(r-1)*e,o=Math.floor(i),s=F5(B5(t,o).subarray(0,o+1)),a=V5(t.subarray(o+1));return s+(a-s)*(i-o)}}function Tve(t,e,n=M5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Pve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ea(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IT=Symbol("implicit");function jT(){var t=new D5,e=[],n=[],r=IT;function i(o){let s=t.get(o);if(s===void 0){if(r!==IT)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new D5;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return jT(e,n).unknown(r)},Zi.apply(i,arguments),i}function pp(){var t=jT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,g=m?r:i;o=(g-v)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),v+=(g-v-o*(h-l))*d,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var y=Pve(h).map(function(b){return v+o*b});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return pp(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Zi.apply(f(),arguments)}function U5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return U5(e())},t}function mp(){return U5(pp.apply(null,arguments).paddingInner(1))}function kT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function z5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gp(){}var yp=.7,bx=1/yp,xd="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ave=/^#([0-9a-f]{3,8})$/,Cve=new RegExp(`^rgb\\(${xd},${xd},${xd}\\)$`),Nve=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),Ive=new RegExp(`^rgba\\(${xd},${xd},${xd},${vp}\\)$`),jve=new RegExp(`^rgba\\(${as},${as},${as},${vp}\\)$`),kve=new RegExp(`^hsl\\(${vp},${as},${as}\\)$`),Ove=new RegExp(`^hsla\\(${vp},${as},${as},${vp}\\)$`),W5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kT(gp,xp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H5,formatHex:H5,formatHex8:Rve,formatHsl:Mve,formatRgb:q5,toString:q5});function H5(){return this.rgb().formatHex()}function Rve(){return this.rgb().formatHex8()}function Mve(){return Q5(this).formatHsl()}function q5(){return this.rgb().formatRgb()}function xp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ave.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?G5(e):n===3?new ri(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cve.exec(t))?new ri(e[1],e[2],e[3],1):(e=Nve.exec(t))?new ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ive.exec(t))?wx(e[1],e[2],e[3],e[4]):(e=jve.exec(t))?wx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kve.exec(t))?X5(e[1],e[2]/100,e[3]/100,1):(e=Ove.exec(t))?X5(e[1],e[2]/100,e[3]/100,e[4]):W5.hasOwnProperty(t)?G5(W5[t]):t==="transparent"?new ri(NaN,NaN,NaN,0):null}function G5(t){return new ri(t>>16&255,t>>8&255,t&255,1)}function wx(t,e,n,r){return r<=0&&(t=e=n=NaN),new ri(t,e,n,r)}function Dve(t){return t instanceof gp||(t=xp(t)),t?(t=t.rgb(),new ri(t.r,t.g,t.b,t.opacity)):new ri}function OT(t,e,n,r){return arguments.length===1?Dve(t):new ri(t,e,n,r==null?1:r)}function ri(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kT(ri,OT,z5(gp,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ri(gc(this.r),gc(this.g),gc(this.b),_x(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K5,formatHex:K5,formatHex8:$ve,formatRgb:Y5,toString:Y5}));function K5(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}`}function $ve(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}${yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y5(){const t=_x(this.opacity);return`${t===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${t===1?")":`, ${t})`}`}function _x(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yc(t){return t=gc(t),(t<16?"0":"")+t.toString(16)}function X5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Co(t,e,n,r)}function Q5(t){if(t instanceof Co)return new Co(t.h,t.s,t.l,t.opacity);if(t instanceof gp||(t=xp(t)),!t)return new Co;if(t instanceof Co)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Co(s,a,l,t.opacity)}function Lve(t,e,n,r){return arguments.length===1?Q5(t):new Co(t,e,n,r==null?1:r)}function Co(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kT(Co,Lve,z5(gp,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new Co(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new Co(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ri(RT(t>=240?t-240:t+120,i,r),RT(t,i,r),RT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Co(J5(this.h),Sx(this.s),Sx(this.l),_x(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_x(this.opacity);return`${t===1?"hsl(":"hsla("}${J5(this.h)}, ${Sx(this.s)*100}%, ${Sx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function J5(t){return t=(t||0)%360,t<0?t+360:t}function Sx(t){return Math.max(0,Math.min(1,t||0))}function RT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MT=t=>()=>t;function Fve(t,e){return function(n){return t+n*e}}function Vve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bve(t){return(t=+t)==1?Z5:function(e,n){return n-e?Vve(e,n,t):MT(isNaN(e)?n:e)}}function Z5(t,e){var n=e-t;return n?Fve(t,n):MT(isNaN(t)?e:t)}const eF=function t(e){var n=Bve(e);function r(i,o){var s=n((i=OT(i)).r,(o=OT(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Z5(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function Uve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function zve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wve(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=bd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Hve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ex(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var DT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$T=new RegExp(DT.source,"g");function Gve(t){return function(){return t}}function Kve(t){return function(e){return t(e)+""}}function Yve(t,e){var n=DT.lastIndex=$T.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=DT.exec(t))&&(i=$T.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ex(r,i)})),n=$T.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Kve(l[0].x):Gve(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function bd(t,e){var n=typeof e,r;return e==null||n==="boolean"?MT(e):(n==="number"?Ex:n==="string"?(r=xp(e))?(e=r,eF):Yve:e instanceof xp?eF:e instanceof Date?Hve:zve(e)?Uve:Array.isArray(e)?Wve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qve:Ex)(t,e)}function LT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Xve(t,e){e===void 0&&(e=t,t=bd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Qve(t){return function(){return t}}function Tx(t){return+t}var tF=[0,1];function Hr(t){return t}function FT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Qve(isNaN(e)?NaN:.5)}function Jve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Zve(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=FT(i,r),o=n(s,o)):(r=FT(r,i),o=n(o,s)),function(a){return o(r(a))}}function exe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=FT(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=fp(t,a,1,r)-1;return o[l](i[l](a))}}function bp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Px(){var t=tF,e=tF,n=bd,r,i,o,s=Hr,a,l,c;function d(){var h=Math.min(t.length,e.length);return s!==Hr&&(s=Jve(t[0],t[h-1])),a=h>2?exe:Zve,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(r),Ex)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Tx),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=LT,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Hr,d()):s!==Hr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function VT(){return Px()(Hr,Hr)}function txe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ax(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wd(t){return t=Ax(Math.abs(t)),t?t[1]:NaN}function nxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function rxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ixe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wp(t){if(!(e=ixe.exec(t)))throw new Error("invalid format: "+t);var e;return new BT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wp.prototype=BT.prototype;function BT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}BT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nF;function sxe(t,e){var n=Ax(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(nF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ax(t,Math.max(0,e+o-1))[0]}function rF(t,e){var n=Ax(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:txe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rF(t*100,e),r:rF,s:sxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oF(t){return t}var sF=Array.prototype.map,aF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function axe(t){var e=t.grouping===void 0||t.thousands===void 0?oF:nxe(sF.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?oF:rxe(sF.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=wp(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,b=f.width,_=f.comma,w=f.precision,T=f.trim,S=f.type;S==="n"?(_=!0,S="g"):iF[S]||(w===void 0&&(w=12),T=!0,S="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?r:/[%p]/.test(S)?s:"",A=iF[S],C=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function j(I){var O=N,R=E,H,B,W;if(S==="c")R=A(I)+R,I="";else{I=+I;var G=I<0||1/I<0;if(I=isNaN(I)?l:A(Math.abs(I),w),T&&(I=oxe(I)),G&&+I==0&&v!=="+"&&(G=!1),O=(G?v==="("?v:a:v==="-"||v==="("?"":v)+O,R=(S==="s"?aF[8+nF/3]:"")+R+(G&&v==="("?")":""),C){for(H=-1,B=I.length;++H<B;)if(W=I.charCodeAt(H),48>W||W>57){R=(W===46?i+I.slice(H+1):I.slice(H))+R,I=I.slice(0,H);break}}}_&&!y&&(I=e(I,1/0));var U=O.length+I.length+R.length,z=U<b?new Array(b-U+1).join(h):"";switch(_&&y&&(I=e(z+I,z.length?b-R.length:1/0),z=""),m){case"<":I=O+I+R+z;break;case"=":I=O+z+I+R;break;case"^":I=z.slice(0,U=z.length>>1)+O+I+R+z.slice(U);break;default:I=z+O+I+R;break}return o(I)}return j.toString=function(){return f+""},j}function d(f,h){var m=c((f=wp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(wd(h)/3)))*3,g=Math.pow(10,-v),y=aF[8+v/3];return function(b){return m(g*b)+y}}return{format:c,formatPrefix:d}}var Cx,UT,lF;lxe({thousands:",",grouping:[3],currency:["$",""]});function lxe(t){return Cx=axe(t),UT=Cx.format,lF=Cx.formatPrefix,Cx}function cxe(t){return Math.max(0,-wd(Math.abs(t)))}function uxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wd(e)/3)))*3-wd(Math.abs(t)))}function dxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wd(e)-wd(t))+1}function cF(t,e,n,r){var i=NT(t,e,n),o;switch(r=wp(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=uxe(i,s))&&(r.precision=o),lF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return UT(r)}function sl(t){var e=t.domain;return t.ticks=function(n){var r=e();return AT(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return cF(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,d=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);d-- >0;){if(c=CT(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Nx(){var t=VT();return t.copy=function(){return bp(t,Nx())},Zi.apply(t,arguments),sl(t)}function uF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return uF(t).unknown(e)},t=arguments.length?Array.from(t,Tx):[0,1],sl(n)}function dF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function fF(t){return Math.log(t)}function hF(t){return Math.exp(t)}function fxe(t){return-Math.log(-t)}function hxe(t){return-Math.exp(-t)}function pxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mxe(t){return t===10?pxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pF(t){return(e,n)=>-t(-e,n)}function zT(t){const e=t(fF,hF),n=e.domain;let r=10,i,o;function s(){return i=gxe(r),o=mxe(r),n()[0]<0?(i=pF(i),o=pF(o),t(fxe,hxe)):t(fF,hF),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),v,g;const y=a==null?10:+a;let b=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(v=1;v<r;++v)if(g=h<0?v/o(-h):v*o(h),!(g<c)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/o(-h):v*o(h),!(g<c)){if(g>d)break;b.push(g)}b.length*2<y&&(b=AT(c,d,y))}else b=AT(h,m,Math.min(m-h,y)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=wp(l)).precision==null&&(l.trim=!0),l=UT(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(dF(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function mF(){const t=zT(Px()).domain([1,10]);return t.copy=()=>bp(t,mF()).base(t.base()),Zi.apply(t,arguments),t}function gF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WT(t){var e=1,n=t(gF(e),yF(e));return n.constant=function(r){return arguments.length?t(gF(e=+r),yF(e)):e},sl(n)}function vF(){var t=WT(Px());return t.copy=function(){return bp(t,vF()).constant(t.constant())},Zi.apply(t,arguments)}function xF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vxe(t){return t<0?-t*t:t*t}function HT(t){var e=t(Hr,Hr),n=1;function r(){return n===1?t(Hr,Hr):n===.5?t(yxe,vxe):t(xF(n),xF(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},sl(e)}function qT(){var t=HT(Px());return t.copy=function(){return bp(t,qT()).exponent(t.exponent())},Zi.apply(t,arguments),t}function xxe(){return qT.apply(null,arguments).exponent(.5)}function bF(t){return Math.sign(t)*t*t}function bxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wF(){var t=VT(),e=[0,1],n=!1,r;function i(o){var s=bxe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(bF(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Tx)).map(bF)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Zi.apply(i,arguments),sl(i)}function _F(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Tve(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[fp(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ol),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _F().domain(t).range(e).unknown(r)},Zi.apply(o,arguments)}function SF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[fp(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return SF().domain([t,e]).range(i).unknown(o)},Zi.apply(sl(s),arguments)}function EF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[fp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EF().domain(t).range(e).unknown(n)},Zi.apply(i,arguments)}const GT=new Date,KT=new Date;function nr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>nr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(GT.setTime(+o),KT.setTime(+s),t(GT),t(KT),Math.floor(n(GT,KT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ix=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ix.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ix),Ix.range;const ta=1e3,eo=ta*60,na=eo*60,ra=na*24,YT=ra*7,TF=ra*30,XT=ra*365,vc=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCSeconds());vc.range;const QT=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getMinutes());QT.range;const JT=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getUTCMinutes());JT.range;const ZT=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta-t.getMinutes()*eo)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getHours());ZT.range;const eP=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCHours());eP.range;const _p=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*eo)/ra,t=>t.getDate()-1);_p.range;const jx=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);jx.range;const PF=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));PF.range;function xc(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*eo)/YT)}const kx=xc(0),Ox=xc(1),wxe=xc(2),_xe=xc(3),_d=xc(4),Sxe=xc(5),Exe=xc(6);kx.range,Ox.range,wxe.range,_xe.range,_d.range,Sxe.range,Exe.range;function bc(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/YT)}const Rx=bc(0),Mx=bc(1),Txe=bc(2),Pxe=bc(3),Sd=bc(4),Axe=bc(5),Cxe=bc(6);Rx.range,Mx.range,Txe.range,Pxe.range,Sd.range,Axe.range,Cxe.range;const tP=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tP.range;const nP=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nP.range;const ia=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}),ia.range;const oa=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}),oa.range;function AF(t,e,n,r,i,o){const s=[[vc,1,ta],[vc,5,5*ta],[vc,15,15*ta],[vc,30,30*ta],[o,1,eo],[o,5,5*eo],[o,15,15*eo],[o,30,30*eo],[i,1,na],[i,3,3*na],[i,6,6*na],[i,12,12*na],[r,1,ra],[r,2,2*ra],[n,1,YT],[e,1,TF],[e,3,3*TF],[t,1,XT]];function a(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),v=m?m.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,m=PT(([,,y])=>y).right(s,h);if(m===s.length)return t.every(NT(c/XT,d/XT,f));if(m===0)return Ix.every(Math.max(NT(c,d,f),1));const[v,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(g)}return[a,l]}const[Nxe,Ixe]=AF(oa,nP,Rx,PF,eP,JT),[jxe,kxe]=AF(ia,tP,kx,_p,ZT,QT);function rP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oxe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Ep(i),d=Tp(i),f=Ep(o),h=Tp(o),m=Ep(s),v=Tp(s),g=Ep(a),y=Tp(a),b=Ep(l),_=Tp(l),w={a:G,A:U,b:z,B:Q,c:null,d:OF,e:OF,f:n0e,g:f0e,G:p0e,H:Zxe,I:e0e,j:t0e,L:RF,m:r0e,M:i0e,p:J,q:oe,Q:VF,s:BF,S:o0e,u:s0e,U:a0e,V:l0e,w:c0e,W:u0e,x:null,X:null,y:d0e,Y:h0e,Z:m0e,"%":FF},T={a:be,A:Me,b:ze,B:it,c:null,d:DF,e:DF,f:x0e,g:N0e,G:j0e,H:g0e,I:y0e,j:v0e,L:$F,m:b0e,M:w0e,p:Xe,q:me,Q:VF,s:BF,S:_0e,u:S0e,U:E0e,V:T0e,w:P0e,W:A0e,x:null,X:null,y:C0e,Y:I0e,Z:k0e,"%":FF},S={a:j,A:I,b:O,B:R,c:H,d:jF,e:jF,f:Yxe,g:IF,G:NF,H:kF,I:kF,j:Hxe,L:Kxe,m:Wxe,M:qxe,p:C,q:zxe,Q:Qxe,s:Jxe,S:Gxe,u:Lxe,U:Fxe,V:Vxe,w:$xe,W:Bxe,x:B,X:W,y:IF,Y:NF,Z:Uxe,"%":Xxe};w.x=N(n,w),w.X=N(r,w),w.c=N(e,w),T.x=N(n,T),T.X=N(r,T),T.c=N(e,T);function N(re,Se){return function(xe){var ee=[],ve=-1,De=0,ot=re.length,st,Lt,Ft;for(xe instanceof Date||(xe=new Date(+xe));++ve<ot;)re.charCodeAt(ve)===37&&(ee.push(re.slice(De,ve)),(Lt=CF[st=re.charAt(++ve)])!=null?st=re.charAt(++ve):Lt=st==="e"?" ":"0",(Ft=Se[st])&&(st=Ft(xe,Lt)),ee.push(st),De=ve+1);return ee.push(re.slice(De,ve)),ee.join("")}}function E(re,Se){return function(xe){var ee=Sp(1900,void 0,1),ve=A(ee,re,xe+="",0),De,ot;if(ve!=xe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Se&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(De=iP(Sp(ee.y,0,1)),ot=De.getUTCDay(),De=ot>4||ot===0?Mx.ceil(De):Mx(De),De=jx.offset(De,(ee.V-1)*7),ee.y=De.getUTCFullYear(),ee.m=De.getUTCMonth(),ee.d=De.getUTCDate()+(ee.w+6)%7):(De=rP(Sp(ee.y,0,1)),ot=De.getDay(),De=ot>4||ot===0?Ox.ceil(De):Ox(De),De=_p.offset(De,(ee.V-1)*7),ee.y=De.getFullYear(),ee.m=De.getMonth(),ee.d=De.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ot="Z"in ee?iP(Sp(ee.y,0,1)).getUTCDay():rP(Sp(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ot+5)%7:ee.w+ee.U*7-(ot+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,iP(ee)):rP(ee)}}function A(re,Se,xe,ee){for(var ve=0,De=Se.length,ot=xe.length,st,Lt;ve<De;){if(ee>=ot)return-1;if(st=Se.charCodeAt(ve++),st===37){if(st=Se.charAt(ve++),Lt=S[st in CF?Se.charAt(ve++):st],!Lt||(ee=Lt(re,xe,ee))<0)return-1}else if(st!=xe.charCodeAt(ee++))return-1}return ee}function C(re,Se,xe){var ee=c.exec(Se.slice(xe));return ee?(re.p=d.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function j(re,Se,xe){var ee=m.exec(Se.slice(xe));return ee?(re.w=v.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function I(re,Se,xe){var ee=f.exec(Se.slice(xe));return ee?(re.w=h.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function O(re,Se,xe){var ee=b.exec(Se.slice(xe));return ee?(re.m=_.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function R(re,Se,xe){var ee=g.exec(Se.slice(xe));return ee?(re.m=y.get(ee[0].toLowerCase()),xe+ee[0].length):-1}function H(re,Se,xe){return A(re,e,Se,xe)}function B(re,Se,xe){return A(re,n,Se,xe)}function W(re,Se,xe){return A(re,r,Se,xe)}function G(re){return s[re.getDay()]}function U(re){return o[re.getDay()]}function z(re){return l[re.getMonth()]}function Q(re){return a[re.getMonth()]}function J(re){return i[+(re.getHours()>=12)]}function oe(re){return 1+~~(re.getMonth()/3)}function be(re){return s[re.getUTCDay()]}function Me(re){return o[re.getUTCDay()]}function ze(re){return l[re.getUTCMonth()]}function it(re){return a[re.getUTCMonth()]}function Xe(re){return i[+(re.getUTCHours()>=12)]}function me(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Se=N(re+="",w);return Se.toString=function(){return re},Se},parse:function(re){var Se=E(re+="",!1);return Se.toString=function(){return re},Se},utcFormat:function(re){var Se=N(re+="",T);return Se.toString=function(){return re},Se},utcParse:function(re){var Se=E(re+="",!0);return Se.toString=function(){return re},Se}}}var CF={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,Rxe=/^%/,Mxe=/[\\^$*+?|[\]().{}]/g;function Bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Dxe(t){return t.replace(Mxe,"\\$&")}function Ep(t){return new RegExp("^(?:"+t.map(Dxe).join("|")+")","i")}function Tp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $xe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lxe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Bxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function NF(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IF(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uxe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zxe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Wxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jF(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hxe(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kF(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Gxe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Kxe(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Yxe(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Xxe(t,e,n){var r=Rxe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Qxe(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jxe(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OF(t,e){return Bt(t.getDate(),e,2)}function Zxe(t,e){return Bt(t.getHours(),e,2)}function e0e(t,e){return Bt(t.getHours()%12||12,e,2)}function t0e(t,e){return Bt(1+_p.count(ia(t),t),e,3)}function RF(t,e){return Bt(t.getMilliseconds(),e,3)}function n0e(t,e){return RF(t,e)+"000"}function r0e(t,e){return Bt(t.getMonth()+1,e,2)}function i0e(t,e){return Bt(t.getMinutes(),e,2)}function o0e(t,e){return Bt(t.getSeconds(),e,2)}function s0e(t){var e=t.getDay();return e===0?7:e}function a0e(t,e){return Bt(kx.count(ia(t)-1,t),e,2)}function MF(t){var e=t.getDay();return e>=4||e===0?_d(t):_d.ceil(t)}function l0e(t,e){return t=MF(t),Bt(_d.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function c0e(t){return t.getDay()}function u0e(t,e){return Bt(Ox.count(ia(t)-1,t),e,2)}function d0e(t,e){return Bt(t.getFullYear()%100,e,2)}function f0e(t,e){return t=MF(t),Bt(t.getFullYear()%100,e,2)}function h0e(t,e){return Bt(t.getFullYear()%1e4,e,4)}function p0e(t,e){var n=t.getDay();return t=n>=4||n===0?_d(t):_d.ceil(t),Bt(t.getFullYear()%1e4,e,4)}function m0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bt(e/60|0,"0",2)+Bt(e%60,"0",2)}function DF(t,e){return Bt(t.getUTCDate(),e,2)}function g0e(t,e){return Bt(t.getUTCHours(),e,2)}function y0e(t,e){return Bt(t.getUTCHours()%12||12,e,2)}function v0e(t,e){return Bt(1+jx.count(oa(t),t),e,3)}function $F(t,e){return Bt(t.getUTCMilliseconds(),e,3)}function x0e(t,e){return $F(t,e)+"000"}function b0e(t,e){return Bt(t.getUTCMonth()+1,e,2)}function w0e(t,e){return Bt(t.getUTCMinutes(),e,2)}function _0e(t,e){return Bt(t.getUTCSeconds(),e,2)}function S0e(t){var e=t.getUTCDay();return e===0?7:e}function E0e(t,e){return Bt(Rx.count(oa(t)-1,t),e,2)}function LF(t){var e=t.getUTCDay();return e>=4||e===0?Sd(t):Sd.ceil(t)}function T0e(t,e){return t=LF(t),Bt(Sd.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function P0e(t){return t.getUTCDay()}function A0e(t,e){return Bt(Mx.count(oa(t)-1,t),e,2)}function C0e(t,e){return Bt(t.getUTCFullYear()%100,e,2)}function N0e(t,e){return t=LF(t),Bt(t.getUTCFullYear()%100,e,2)}function I0e(t,e){return Bt(t.getUTCFullYear()%1e4,e,4)}function j0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Sd(t):Sd.ceil(t),Bt(t.getUTCFullYear()%1e4,e,4)}function k0e(){return"+0000"}function FF(){return"%"}function VF(t){return+t}function BF(t){return Math.floor(+t/1e3)}var Ed,UF,zF;O0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O0e(t){return Ed=Oxe(t),UF=Ed.format,Ed.parse,zF=Ed.utcFormat,Ed.utcParse,Ed}function R0e(t){return new Date(t)}function M0e(t){return t instanceof Date?+t:+new Date(+t)}function oP(t,e,n,r,i,o,s,a,l,c){var d=VT(),f=d.invert,h=d.domain,m=c(".%L"),v=c(":%S"),g=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),_=c("%b %d"),w=c("%B"),T=c("%Y");function S(N){return(l(N)<N?m:a(N)<N?v:s(N)<N?g:o(N)<N?y:r(N)<N?i(N)<N?b:_:n(N)<N?w:T)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,M0e)):h().map(R0e)},d.ticks=function(N){var E=h();return t(E[0],E[E.length-1],N==null?10:N)},d.tickFormat=function(N,E){return E==null?S:c(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N==null?10:N)),N?h(dF(E,N)):d},d.copy=function(){return bp(d,oP(t,e,n,r,i,o,s,a,l,c))},d}function D0e(){return Zi.apply(oP(jxe,kxe,ia,tP,kx,_p,ZT,QT,vc,UF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $0e(){return Zi.apply(oP(Nxe,Ixe,oa,nP,Rx,jx,eP,JT,vc,zF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dx(){var t=0,e=1,n,r,i,o,s=Hr,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),c):[s(0),s(1)]}}return c.range=d(bd),c.rangeRound=d(LT),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WF(){var t=sl(Dx()(Hr));return t.copy=function(){return al(t,WF())},ea.apply(t,arguments)}function HF(){var t=zT(Dx()).domain([1,10]);return t.copy=function(){return al(t,HF()).base(t.base())},ea.apply(t,arguments)}function qF(){var t=WT(Dx());return t.copy=function(){return al(t,qF()).constant(t.constant())},ea.apply(t,arguments)}function sP(){var t=HT(Dx());return t.copy=function(){return al(t,sP()).exponent(t.exponent())},ea.apply(t,arguments)}function L0e(){return sP.apply(null,arguments).exponent(.5)}function GF(){var t=[],e=Hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((fp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ol),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Eve(t,o/r))},n.copy=function(){return GF(e).domain(t)},ea.apply(n,arguments)}function $x(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=Hr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function v(g){return function(y){var b,_,w;return arguments.length?([b,_,w]=y,c=Xve(g,[b,_,w]),m):[c(0),c(.5),c(1)]}}return m.range=v(bd),m.rangeRound=v(LT),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,m}}function KF(){var t=sl($x()(Hr));return t.copy=function(){return al(t,KF())},ea.apply(t,arguments)}function YF(){var t=zT($x()).domain([.1,1,10]);return t.copy=function(){return al(t,YF()).base(t.base())},ea.apply(t,arguments)}function XF(){var t=WT($x());return t.copy=function(){return al(t,XF()).constant(t.constant())},ea.apply(t,arguments)}function aP(){var t=HT($x());return t.copy=function(){return al(t,aP()).exponent(t.exponent())},ea.apply(t,arguments)}function F0e(){return aP.apply(null,arguments).exponent(.5)}const QF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pp,scaleDiverging:KF,scaleDivergingLog:YF,scaleDivergingPow:aP,scaleDivergingSqrt:F0e,scaleDivergingSymlog:XF,scaleIdentity:uF,scaleImplicit:IT,scaleLinear:Nx,scaleLog:mF,scaleOrdinal:jT,scalePoint:mp,scalePow:qT,scaleQuantile:_F,scaleQuantize:SF,scaleRadial:wF,scaleSequential:WF,scaleSequentialLog:HF,scaleSequentialPow:sP,scaleSequentialQuantile:GF,scaleSequentialSqrt:L0e,scaleSequentialSymlog:qF,scaleSqrt:xxe,scaleSymlog:vF,scaleThreshold:EF,scaleTime:D0e,scaleUtc:$0e,tickFormat:cF},Symbol.toStringTag,{value:"Module"}));var V0e=ed;function B0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!V0e(s):n(s,a)))var a=s,l=o}return l}var JF=B0e;function U0e(t,e){return t>e}var z0e=U0e,W0e=JF,H0e=z0e,q0e=dd;function G0e(t){return t&&t.length?W0e(t,q0e,H0e):void 0}var K0e=G0e;const Lx=$e(K0e);function Y0e(t,e){return t<e}var X0e=Y0e,Q0e=JF,J0e=X0e,Z0e=dd;function ebe(t){return t&&t.length?Q0e(t,Z0e,J0e):void 0}var tbe=ebe;const Fx=$e(tbe);var nbe=_E,rbe=fd,ibe=G3,obe=ni;function sbe(t,e){var n=obe(t)?nbe:ibe;return n(t,rbe(e))}var abe=sbe,lbe=H3,cbe=abe;function ube(t,e){return lbe(cbe(t,e),1)}var dbe=ube;const fbe=$e(dbe);var hbe=uT;function pbe(t,e){return hbe(t,e)}var mbe=pbe;const Vx=$e(mbe);var Td=1e9,gbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uP,bn=!0,to="[DecimalError] ",wc=to+"Invalid argument: ",lP=to+"Exponent out of range: ",Pd=Math.floor,_c=Math.pow,ybe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bi,pr=1e7,gn=7,ZF=9007199254740991,Bx=Pd(ZF/gn),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},Re.comparedTo=Re.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n},Re.dividedBy=Re.div=function(t){return sa(this,new this.constructor(t))},Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return nn(sa(e,new n(t),0,1),n.precision)},Re.equals=Re.eq=function(t){return!this.cmp(t)},Re.exponent=function(){return Kn(this)},Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0},Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0},Re.isInteger=Re.isint=function(){return this.e>this.d.length-2},Re.isNegative=Re.isneg=function(){return this.s<0},Re.isPositive=Re.ispos=function(){return this.s>0},Re.isZero=function(){return this.s===0},Re.lessThan=Re.lt=function(t){return this.cmp(t)<0},Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1},Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(bi))throw Error(to+"NaN");if(n.s<1)throw Error(to+(n.s?"NaN":"-Infinity"));return n.eq(bi)?new r(0):(bn=!1,e=sa(Pp(n,o),Pp(t,o),o),bn=!0,nn(e,i))},Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rV(e,t):eV(e,(t.s=-t.s,t))},Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(to+"NaN");return n.s?(bn=!1,e=sa(n,t,0,1).times(t),bn=!0,n.minus(e)):nn(new r(n),i)},Re.naturalExponential=Re.exp=function(){return tV(this)},Re.naturalLogarithm=Re.ln=function(){return Pp(this)},Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eV(e,t):rV(e,(t.s=-t.s,t))},Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wc+t);if(e=Kn(i)+1,r=i.d.length-1,n=r*gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(to+"NaN")}for(t=Kn(a),bn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=cs(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(sa(a,o,s+2)).times(.5),cs(o.d).slice(0,s)===(e=cs(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(nn(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return bn=!0,nn(r,n)},Re.times=Re.mul=function(t){var e,n,r,i,o,s,a,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%pr|0,e=a/pr|0;o[i]=(o[i]+e)%pr|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,bn?nn(t,f.precision):t},Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ls(t,0,Td),e===void 0?e=r.rounding:ls(e,0,8),nn(n,t+Kn(n)+1,e))},Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sc(r,!0):(ls(t,0,Td),e===void 0?e=i.rounding:ls(e,0,8),r=nn(new i(r),t+1,e),n=Sc(r,!0,t+1)),n},Re.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sc(i):(ls(t,0,Td),e===void 0?e=o.rounding:ls(e,0,8),r=nn(new o(i),t+Kn(i)+1,e),n=Sc(r.abs(),!1,t+Kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return nn(new e(t),Kn(t)+1,e.rounding)},Re.toNumber=function(){return+this},Re.toPower=Re.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(bi);if(a=new l(a),!a.s){if(t.s<1)throw Error(to+"Infinity");return a}if(a.eq(bi))return a;if(r=l.precision,t.eq(bi))return nn(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=ZF){for(i=new l(bi),e=Math.ceil(r/gn+4),bn=!1;n%2&&(i=i.times(a),iV(i.d,e)),n=Pd(n/2),n!==0;)a=a.times(a),iV(a.d,e);return bn=!0,t.s<0?new l(bi).div(i):nn(i,r)}}else if(o<0)throw Error(to+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,bn=!1,i=t.times(Pp(a,r+c)),bn=!0,i=tV(i),i.s=o,i},Re.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Kn(i),r=Sc(i,n<=o.toExpNeg||n>=o.toExpPos)):(ls(t,1,Td),e===void 0?e=o.rounding:ls(e,0,8),i=nn(new o(i),t,e),n=Kn(i),r=Sc(i,t<=n||n<=o.toExpNeg,t)),r},Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ls(t,1,Td),e===void 0?e=r.rounding:ls(e,0,8)),nn(new r(n),t,e)},Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kn(t),n=t.constructor;return Sc(t,e<=n.toExpNeg||e>=n.toExpPos)};function eV(t,e){var n,r,i,o,s,a,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),bn?nn(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(f/gn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/pr|0,l[o]%=pr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,bn?nn(e,f):e}function ls(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wc+t)}function cs(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=gn-r.length,n&&(o+=ll(n)),o+=r;s=t[e],r=s+"",n=gn-r.length,n&&(o+=ll(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var sa=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%pr|0,s=o/pr|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*pr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,d,f,h,m,v,g,y,b,_,w,T,S,N,E,A,C=r.constructor,j=r.s==i.s?1:-1,I=r.d,O=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(to+"Division by zero");for(l=r.e-i.e,E=O.length,S=I.length,m=new C(j),v=m.d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,o==null?_=o=C.precision:s?_=o+(Kn(r)-Kn(i))+1:_=o,_<0)return new C(0);if(_=_/gn+2|0,c=0,E==1)for(d=0,O=O[0],_++;(c<S||d)&&_--;c++)w=d*pr+(I[c]||0),v[c]=w/O|0,d=w%O|0;else{for(d=pr/(O[0]+1)|0,d>1&&(O=t(O,d),I=t(I,d),E=O.length,S=I.length),T=E,g=I.slice(0,E),y=g.length;y<E;)g[y++]=0;A=O.slice(),A.unshift(0),N=O[0],O[1]>=pr/2&&++N;do d=0,a=e(O,g,E,y),a<0?(b=g[0],E!=y&&(b=b*pr+(g[1]||0)),d=b/N|0,d>1?(d>=pr&&(d=pr-1),f=t(O,d),h=f.length,y=g.length,a=e(f,g,h,y),a==1&&(d--,n(f,E<h?A:O,h))):(d==0&&(a=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),a==-1&&(y=g.length,a=e(O,g,E,y),a<1&&(d++,n(g,E<y?A:O,y))),y=g.length):a===0&&(d++,g=[0]),v[c++]=d,a&&g[0]?g[y++]=I[T]||0:(g=[I[T]],y=1);while((T++<S||g[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,nn(m,s?o+Kn(m)+1:o)}}();function tV(t,e){var n,r,i,o,s,a,l=0,c=0,d=t.constructor,f=d.precision;if(Kn(t)>16)throw Error(lP+Kn(t));if(!t.s)return new d(bi);for(e==null?(bn=!1,a=f):a=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(_c(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new d(bi),d.precision=a;;){if(i=nn(i.times(t),a),n=n.times(++l),s=o.plus(sa(i,n,a)),cs(s.d).slice(0,a)===cs(o.d).slice(0,a)){for(;c--;)o=nn(o.times(o),a);return d.precision=f,e==null?(bn=!0,nn(o,f)):o}o=s}}function Kn(t){for(var e=t.e*gn,n=t.d[0];n>=10;n/=10)e++;return e}function cP(t,e,n){if(e>t.LN10.sd())throw bn=!0,n&&(t.precision=n),Error(to+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function ll(t){for(var e="";t--;)e+="0";return e}function Pp(t,e){var n,r,i,o,s,a,l,c,d,f=1,h=10,m=t,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(to+(m.s?"NaN":"-Infinity"));if(m.eq(bi))return new g(0);if(e==null?(bn=!1,c=y):c=e,m.eq(10))return e==null&&(bn=!0),cP(g,c);if(c+=h,g.precision=c,n=cs(v),r=n.charAt(0),o=Kn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=cs(m.d),r=n.charAt(0),f++;o=Kn(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=cP(g,c+2,y).times(o+""),m=Pp(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,e==null?(bn=!0,nn(m,y)):m;for(a=s=m=sa(m.minus(bi),m.plus(bi),c),d=nn(m.times(m),c),i=3;;){if(s=nn(s.times(d),c),l=a.plus(sa(s,new g(i),c)),cs(l.d).slice(0,c)===cs(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(cP(g,c+2,y).times(o+""))),a=sa(a,new g(f),c),g.precision=y,e==null?(bn=!0,nn(a,y)):a;a=l,i+=2}}function nV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pd(n/gn),t.d=[],r=(n+1)%gn,n<0&&(r+=gn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gn;r<i;)t.d.push(+e.slice(r,r+=gn));e=e.slice(r),r=gn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bn&&(t.e>Bx||t.e<-Bx))throw Error(lP+n)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,n){var r,i,o,s,a,l,c,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=gn,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/gn),o=f.length,d>=o)return t;for(c=o=f[d],s=1;o>=10;o/=10)s++;r%=gn,i=r-gn+s}if(n!==void 0&&(o=_c(10,s-i-1),a=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/_c(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Kn(t),f.length=1,e=e-o-1,f[0]=_c(10,(gn-e%gn)%gn),t.e=Pd(-e/gn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=_c(10,gn-r),f[d]=i>0?(c/_c(10,s-i)%_c(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==pr&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=pr)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(bn&&(t.e>Bx||t.e<-Bx))throw Error(lP+Kn(t));return t}function rV(t,e){var n,r,i,o,s,a,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),bn?nn(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(m/gn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=pr-1;--l[o],l[i]+=pr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,bn?nn(e,m):e):new h(0)}function Sc(t,e,n){var r,i=Kn(t),o=cs(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ll(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ll(-i-1)+o,n&&(r=n-s)>0&&(o+=ll(r))):i>=s?(o+=ll(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ll(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ll(r))),t.s<0?"-"+o:o}function iV(t,e){if(t.length>e)return t.length=e,!0}function oV(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return nV(s,o.toString())}else if(typeof o!="string")throw Error(wc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,ybe.test(o))nV(s,o);else throw Error(wc+o)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oV,i.config=i.set=vbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vbe(t){if(!t||typeof t!="object")throw Error(to+"Object expected");var e,n,r,i=["precision",1,Td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wc+n+": "+r);return this}var uP=oV(gbe);bi=new uP(1);const Jt=uP;function xbe(t){return Sbe(t)||_be(t)||wbe(t)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function _be(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Sbe(t){if(Array.isArray(t))return dP(t)}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ebe=function(e){return e},sV={"@@functional/placeholder":!0},aV=function(e){return e===sV},lV=function(e){return function n(){return arguments.length===0||arguments.length===1&&aV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Tbe=function t(e,n){return e===1?n:lV(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==sV}).length;return s>=e?n.apply(void 0,i):t(e-s,lV(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(f){return aV(f)?l.shift():f});return n.apply(void 0,xbe(d).concat(l))}))})},Ux=function(e){return Tbe(e.length,e)},fP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Pbe=Ux(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Abe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ebe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},hP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Cbe(t){var e;return t===0?e=1:e=Math.floor(new Jt(t).abs().log(10).toNumber())+1,e}function Nbe(t,e,n){for(var r=new Jt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Ibe=Ux(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),jbe=Ux(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kbe=Ux(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const zx={rangeStep:Nbe,getDigitCount:Cbe,interpolateNumber:Ibe,uninterpolateNumber:jbe,uninterpolateTruncation:kbe};function pP(t){return Mbe(t)||Rbe(t)||uV(t)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Mbe(t){if(Array.isArray(t))return mP(t)}function Ap(t,e){return Lbe(t)||$be(t,e)||uV(t,e)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uV(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $be(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Lbe(t){if(Array.isArray(t))return t}function dV(t){var e=Ap(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fV(t,e,n){if(t.lte(0))return new Jt(0);var r=zx.getDigitCount(t.toNumber()),i=new Jt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Jt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Jt(Math.ceil(l))}function Fbe(t,e,n){var r=1,i=new Jt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Jt(10).pow(zx.getDigitCount(t)-1),i=new Jt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Jt(Math.floor(t)))}else t===0?i=new Jt(Math.floor((e-1)/2)):n||(i=new Jt(Math.floor(t)));var s=Math.floor((e-1)/2),a=Abe(Pbe(function(l){return i.add(new Jt(l-s).mul(r)).toNumber()}),fP);return a(0,e)}function hV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var o=fV(new Jt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Jt(0):(s=new Jt(t).add(e).div(2),s=s.sub(new Jt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Jt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?hV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new Jt(a).mul(o)),tickMax:s.add(new Jt(l).mul(o))})}function Vbe(t){var e=Ap(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=dV([n,r]),l=Ap(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(pP(fP(0,i-1).map(function(){return 1/0}))):[].concat(pP(fP(0,i-1).map(function(){return-1/0})),[d]);return n>r?hP(f):f}if(c===d)return Fbe(c,i,o);var h=hV(c,d,s,o),m=h.step,v=h.tickMin,g=h.tickMax,y=zx.rangeStep(v,g.add(new Jt(.1).mul(m)),m);return n>r?hP(y):y}function Bbe(t,e){var n=Ap(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=dV([r,i]),a=Ap(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=fV(new Jt(c).sub(l).div(d-1),o,0),h=[].concat(pP(zx.rangeStep(new Jt(l),new Jt(c).sub(new Jt(.99).mul(f)),f)),[c]);return r>i?hP(h):h}var Ube=cV(Vbe),zbe=cV(Bbe),Wbe="Invariant failed";function Ec(t,e){throw new Error(Wbe)}var Hbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function qbe(t,e){return Xbe(t)||Ybe(t,e)||Kbe(t,e)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(t,e){if(t){if(typeof t=="string")return pV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pV(t,e)}}function pV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ybe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Xbe(t){if(Array.isArray(t))return t}function Qbe(t,e){if(t==null)return{};var n=Jbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ewe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function twe(t,e,n){return e&&ewe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nwe(t,e,n){return e=Hx(e),rwe(t,mV()?Reflect.construct(e,n||[],Hx(t).constructor):e.apply(t,n))}function rwe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(t)}function iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mV=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(t)}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gP(t,e)}function gP(t,e){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gP(t,e)}function gV(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=swe(t,"string");return Ad(e)=="symbol"?e:e+""}function swe(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cp=function(t){function e(){return Zbe(this,e),nwe(this,e,arguments)}return owe(e,t),twe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Qbe(r,Hbe),m=$t(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ec();var v=l.map(function(g){var y=c(g,a),b=y.x,_=y.y,w=y.value,T=y.errorVal;if(!T)return null;var S=[],N,E;if(Array.isArray(T)){var A=qbe(T,2);N=A[0],E=A[1]}else N=E=T;if(o==="vertical"){var C=d.scale,j=_+i,I=j+s,O=j-s,R=C(w-N),H=C(w+E);S.push({x1:H,y1:I,x2:H,y2:O}),S.push({x1:R,y1:j,x2:H,y2:j}),S.push({x1:R,y1:I,x2:R,y2:O})}else if(o==="horizontal"){var B=f.scale,W=b+i,G=W-s,U=W+s,z=B(w-N),Q=B(w+E);S.push({x1:G,y1:Q,x2:U,y2:Q}),S.push({x1:W,y1:z,x2:W,y2:Q}),S.push({x1:G,y1:z,x2:U,y2:z})}return q.createElement(Bn,Wx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),S.map(function(J){return q.createElement("line",Wx({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return q.createElement(Bn,{className:"recharts-errorBars"},v)}}])}(q.Component);gV(Cp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),gV(Cp,"displayName","ErrorBar");function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function awe(t,e,n){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=cwe(t,"string");return Np(e)=="symbol"?e:e+""}function cwe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=xi(n,pd);if(!s)return null;var a=pd.defaultProps,l=a!==void 0?Tc(Tc({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Tc(Tc({},h),f.props):{},v=m.dataKey,g=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:l.iconType||y||"square",color:vP(f),value:g||v,payload:m}}),Tc(Tc(Tc({},l),pd.getWithHeight(s,i)),{},{payload:c,item:s})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function bV(t){return hwe(t)||fwe(t)||dwe(t)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function fwe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hwe(t){if(Array.isArray(t))return yP(t)}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(n),!0).forEach(function(r){Cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cd(t,e,n){return e=pwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=mwe(t,"string");return Ip(e)=="symbol"?e:e+""}function mwe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wi(t,e,n){return St(t)||St(e)?n:tr(e)?Gi(t,e,n):Nt(e)?e(t):n}function jp(t,e,n,r){var i=fbe(t,function(a){return wi(a,e)});if(n==="number"){var o=i.filter(function(a){return Te(a)||parseFloat(a)});return o.length?[Fx(o),Lx(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!St(a)}):i;return s.map(function(a){return tr(a)||a instanceof Date?a:""})}var gwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(To(f-d)!==To(h-f)){var v=[];if(To(h-f)===To(l[1]-l[0])){m=h;var g=f+l[1]-l[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+l[1]-l[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){s=i[c].index;break}}else{var _=Math.min(d,h),w=Math.max(d,h);if(e>(_+f)/2&&e<=(w+f)/2){s=i[c].index;break}}}else for(var T=0;T<a;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<a-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===a-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){s=r[T].index;break}return s},vP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},ywe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,y=v.cateAxisId,b=g.filter(function(E){return Qs(E.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?kn(kn({},_),b[0].props):b[0].props,T=w.barSize,S=w[y];s[S]||(s[S]=[]);var N=St(T)?n:T;s[S].push({item:b[0],stackList:b.slice(1),barSize:St(N)?void 0:fc(N,r,0)})}}return s},vwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=fc(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,v=s.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var g=(i-v)/2>>0,y={offset:g-c,size:0};d=s.reduce(function(T,S){var N={item:S.item,position:{offset:y.offset+y.size+c,size:h?m:S.barSize}},E=[].concat(bV(T),[N]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:y})}),E},f)}else{var b=fc(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var _=(i-2*b-(l-1)*c)/l;_>1&&(_>>=0);var w=a===+a?Math.min(_,a):_;d=s.reduce(function(T,S,N){var E=[].concat(bV(T),[{item:S.item,position:{offset:b+(_+c)*N+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},xwe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=xV({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,v=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&Te(e[m]))return kn(kn({},e),{},Cd({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&Te(e[v]))return kn(kn({},e),{},Cd({},v,e[v]+(h||0)))}return e},bwe=function(e,n,r){return St(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},_V=function(e,n,r,i,o){var s=n.props.children,a=Yi(s,Cp).filter(function(c){return bwe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=wi(d,r);if(St(f))return c;var h=Array.isArray(f)?[Fx(f),Lx(f)]:[f,f],m=l.reduce(function(v,g){var y=wi(d,g,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),_=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},wwe=function(e,n,r,i,o){var s=n.map(function(a){return _V(e,a,r,o,i)}).filter(function(a){return!St(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},SV=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&_V(e,l,c,i)||jp(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},EV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Pc=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?To(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!tp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},xP=new WeakMap,qx=function(e,n){if(typeof n!="function")return e;xP.has(e)||xP.set(e,new WeakMap);var r=xP.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_we=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:pp(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Nx(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:mp(),realScaleType:"point"}:o==="category"?{scale:pp(),realScaleType:"band"}:{scale:Nx(),realScaleType:"linear"};if(uc(i)){var l="scale".concat(Gv(i));return{scale:(QF[l]||mp)(),realScaleType:QF[l]?l:"point"}}return Nt(i)?{scale:i}:{scale:mp(),realScaleType:"point"}},TV=1e-4,Swe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-TV,s=Math.max(i[0],i[1])+TV,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Ewe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Twe=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(o[0]=r),(!Te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Pwe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=tp(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Awe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=tp(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Cwe={sign:Pwe,expand:Ule,none:ad,silhouette:zle,wiggle:Wle,positive:Awe},Nwe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Cwe[r],s=Ble().keys(i).value(function(a,l){return+wi(a,l,0)}).order(qE).offset(o);return s(e)},Iwe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?kn(kn({},h.type.defaultProps),h.props):h.props,g=v.stackId,y=v.hide;if(y)return f;var b=v[r],_=f[b]||{hasStack:!1,stackGroups:{}};if(tr(g)){var w=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[g]=w}else _.stackGroups[np("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return kn(kn({},f),{},Cd({},b,_))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var b=m.stackGroups[y];return kn(kn({},g),{},Cd({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:Nwe(e,b.items,o)}))},v)}return kn(kn({},f),{},Cd({},h,m))},d)},jwe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=Ube(c,o,a);return e.domain([Fx(d),Lx(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=zbe(f,o,a);return{niceTicks:h}}return null};function PV(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!St(i[e.dataKey])){var a=Wv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=wi(i,St(s)?e.dataKey:s);return St(l)?null:e.scale(l)}var AV=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=wi(s,n.dataKey,n.domain[a]);return St(l)?null:n.scale(l)-o/2+i},kwe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Owe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(tr(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Rwe=function(e){return e.reduce(function(n,r){return[Fx(r.concat([n[0]]).filter(Te)),Lx(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},CV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,d){var f=Rwe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},NV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bP=function(e,n,r){if(Nt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(NV.test(e[0])){var o=+NV.exec(e[0])[1];i[0]=n[0]-o}else Nt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(IV.test(e[1])){var s=+IV.exec(e[1])[1];i[1]=n[1]+s}else Nt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Gx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=mT(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],d=o[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},jV=function(e,n,r){return!e||!e.length||Vx(e,Gi(r,"type.defaultProps.domain"))?n:e},kV=function(e,n){var r=e.type.defaultProps?kn(kn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return kn(kn({},$t(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:vP(e),value:wi(n,i),type:l,payload:n,chartType:c,hide:d})};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function OV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=$we(t,"string");return kp(e)=="symbol"?e:e+""}function $we(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kx=Math.PI/180,Lwe=function(e){return e*180/Math.PI},Er=function(e,n,r,i){return{x:e+Math.cos(-Kx*i)*r,y:n+Math.sin(-Kx*i)*r}},Fwe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Vwe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Fwe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:Lwe(c),angleInRadian:c}},Bwe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Uwe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},MV=function(e,n){var r=e.x,i=e.y,o=Vwe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=Bwe(n),f=d.startAngle,h=d.endAngle,m=a,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?RV(RV({},n),{},{radius:s,angle:Uwe(m,n)}):null};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}var zwe=["offset"];function Wwe(t){return Kwe(t)||Gwe(t)||qwe(t)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function Gwe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kwe(t){if(Array.isArray(t))return wP(t)}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ywe(t,e){if(t==null)return{};var n=Xwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){Qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e,n){return e=Jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=Zwe(t,"string");return Op(e)=="symbol"?e:e+""}function Zwe(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}var e1e=function(e){var n=e.value,r=e.formatter,i=St(e.children)?n:e.children;return Nt(r)?r(i):i},t1e=function(e,n){var r=To(n-e),i=Math.min(Math.abs(n-e),360);return r*i},n1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,g=l.clockWise,y=(f+h)/2,b=t1e(m,v),_=b>=0?1:-1,w,T;i==="insideStart"?(w=m+_*s,T=g):i==="insideEnd"?(w=v-_*s,T=!g):i==="end"&&(w=v+_*s,T=g),T=b<=0?T:!T;var S=Er(c,d,y,w),N=Er(c,d,y,w+(T?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(N.x,",").concat(N.y),A=St(e.id)?np("recharts-radial-line-"):e.id;return q.createElement("text",Rp({},r,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",a)}),q.createElement("defs",null,q.createElement("path",{id:A,d:E})),q.createElement("textPath",{xlinkHref:"#".concat(A)},n))},r1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Er(s,a,c+r,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=Er(s,a,y,h),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},i1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",g=c>=0?1:-1,y=g*i,b=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var w={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return rr(rr({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var T={x:a+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return rr(rr({},T),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var S={x:a-y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return rr(rr({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var N={x:a+c+y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return rr(rr({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var E=r?{width:c,height:d}:{};return o==="insideLeft"?rr({x:a+y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?rr({x:a+c-y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},E):o==="insideTop"?rr({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):o==="insideBottom"?rr({x:a+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},E):o==="insideTopLeft"?rr({x:a+y,y:l+h,textAnchor:_,verticalAnchor:v},E):o==="insideTopRight"?rr({x:a+c-y,y:l+h,textAnchor:b,verticalAnchor:v},E):o==="insideBottomLeft"?rr({x:a+y,y:l+d-h,textAnchor:_,verticalAnchor:m},E):o==="insideBottomRight"?rr({x:a+c-y,y:l+d-h,textAnchor:b,verticalAnchor:m},E):td(o)&&(Te(o.x)||dc(o.x))&&(Te(o.y)||dc(o.y))?rr({x:a+fc(o.x,c),y:l+fc(o.y,d),textAnchor:"end",verticalAnchor:"end"},E):rr({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},o1e=function(e){return"cx"in e&&Te(e.cx)};function Rr(t){var e=t.offset,n=e===void 0?5:e,r=Ywe(t,zwe),i=rr({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||St(a)&&St(l)&&!x.isValidElement(c)&&!Nt(c))return null;if(x.isValidElement(c))return x.cloneElement(c,i);var m;if(Nt(c)){if(m=x.createElement(c,i),x.isValidElement(m))return m}else m=e1e(i);var v=o1e(o),g=$t(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return n1e(i,m,g);var y=v?r1e(i):i1e(i);return q.createElement(vx,Rp({className:jt("recharts-label",f)},g,y,{breakAll:h}),m)}Rr.displayName="Label";var $V=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,g=e.width,y=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(Te(g)&&Te(y)){if(Te(f)&&Te(h))return{x:f,y:h,width:g,height:y};if(Te(m)&&Te(v))return{x:m,y:v,width:g,height:y}}return Te(f)&&Te(h)?{x:f,y:h,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},s1e=function(e,n){return e?e===!0?q.createElement(Rr,{key:"label-implicit",viewBox:n}):tr(e)?q.createElement(Rr,{key:"label-implicit",viewBox:n,value:e}):x.isValidElement(e)?e.type===Rr?x.cloneElement(e,{key:"label-implicit",viewBox:n}):q.createElement(Rr,{key:"label-implicit",content:e,viewBox:n}):Nt(e)?q.createElement(Rr,{key:"label-implicit",content:e,viewBox:n}):td(e)?q.createElement(Rr,Rp({viewBox:n},e,{key:"label-implicit"})):null:null},a1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=$V(e),s=Yi(i,Rr).map(function(l,c){return x.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=s1e(e.label,n||o);return[a].concat(Wwe(s))};Rr.parseViewBox=$V,Rr.renderCallByParent=a1e;function l1e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var c1e=l1e;const u1e=$e(c1e);function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}var d1e=["valueAccessor"],f1e=["data","dataKey","clockWise","id","textBreakAll"];function h1e(t){return y1e(t)||g1e(t)||m1e(t)||p1e()}function p1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(t,e){if(t){if(typeof t=="string")return _P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(t,e)}}function g1e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y1e(t){if(Array.isArray(t))return _P(t)}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function LV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(n),!0).forEach(function(r){v1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1e(t,e,n){return e=x1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x1e(t){var e=b1e(t,"string");return Mp(e)=="symbol"?e:e+""}function b1e(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VV(t,e){if(t==null)return{};var n=w1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _1e=function(e){return Array.isArray(e.value)?u1e(e.value):e.value};function cl(t){var e=t.valueAccessor,n=e===void 0?_1e:e,r=VV(t,d1e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=VV(r,f1e);return!i||!i.length?null:q.createElement(Bn,{className:"recharts-label-list"},i.map(function(d,f){var h=St(o)?n(d,f):wi(d&&d.payload,o),m=St(a)?{}:{id:"".concat(a,"-").concat(f)};return q.createElement(Rr,Yx({},$t(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Rr.parseViewBox(St(s)?d:FV(FV({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}cl.displayName="LabelList";function S1e(t,e){return t?t===!0?q.createElement(cl,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Nt(t)?q.createElement(cl,{key:"labelList-implicit",data:e,content:t}):td(t)?q.createElement(cl,Yx({data:e},t,{key:"labelList-implicit"})):null:null}function E1e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yi(r,cl).map(function(s,a){return x.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=S1e(t.label,e);return[o].concat(h1e(i))}cl.renderCallByParent=E1e;function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function SP(){return SP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SP.apply(this,arguments)}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){T1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1e(t,e,n){return e=P1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P1e(t){var e=A1e(t,"string");return Dp(e)=="symbol"?e:e+""}function A1e(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C1e=function(e,n){var r=To(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Xx=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/Kx,h=c?o:o+s*f,m=Er(n,r,d,h),v=Er(n,r,i,h),g=c?o-s*f:o,y=Er(n,r,d*Math.cos(f*Kx),g);return{center:m,circleTangency:v,lineTangency:y,theta:f}},zV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=C1e(s,a),c=s+l,d=Er(n,r,o,s),f=Er(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Er(n,r,i,s),v=Er(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},N1e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=To(d-c),h=Xx({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,g=h.theta,y=Xx({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=y.circleTangency,_=y.lineTangency,w=y.theta,T=l?Math.abs(c-d):Math.abs(c-d)-g-w;if(T<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var N=Xx({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=N.circleTangency,A=N.lineTangency,C=N.theta,j=Xx({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=j.circleTangency,O=j.lineTangency,R=j.theta,H=l?Math.abs(c-d):Math.abs(c-d)-C-R;if(H<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},I1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WV=function(e){var n=UV(UV({},I1e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var m=jt("recharts-sector",h),v=s-o,g=fc(a,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=N1e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):y=zV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),q.createElement("path",SP({},$t(n,!0),{className:m,d:y,role:"img"}))};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}function HV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(n),!0).forEach(function(r){j1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1e(t,e,n){return e=k1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1e(t){var e=O1e(t,"string");return $p(e)=="symbol"?e:e+""}function O1e(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GV={curveBasisClosed:Ile,curveBasisOpen:jle,curveBasis:Nle,curveBumpX:mle,curveBumpY:gle,curveLinearClosed:kle,curveLinear:Qv,curveMonotoneX:Ole,curveMonotoneY:Rle,curveNatural:Mle,curveStep:Dle,curveStepAfter:Lle,curveStepBefore:$le},Qx=function(e){return e.x===+e.x&&e.y===+e.y},Lp=function(e){return e.x},Fp=function(e){return e.y},R1e=function(e,n){if(Nt(e))return e;var r="curve".concat(Gv(e));return(r==="curveMonotone"||r==="curveBump")&&n?GV["".concat(r).concat(n==="vertical"?"Y":"X")]:GV[r]||Qv},M1e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=R1e(r,a),f=c?o.filter(function(g){return Qx(g)}):o,h;if(Array.isArray(s)){var m=c?s.filter(function(g){return Qx(g)}):s,v=f.map(function(g,y){return qV(qV({},g),{},{base:m[y]})});return a==="vertical"?h=Jv().y(Fp).x1(Lp).x0(function(g){return g.base.x}):h=Jv().x(Lp).y1(Fp).y0(function(g){return g.base.y}),h.defined(Qx).curve(d),h(v)}return a==="vertical"&&Te(s)?h=Jv().y(Fp).x1(Lp).x0(s):Te(s)?h=Jv().x(Lp).y1(Fp).y0(s):h=k4().x(Lp).y(Fp),h.defined(Qx).curve(d),h(f)},TP=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?M1e(e):i;return x.createElement("path",EP({},$t(e,!1),Hv(e),{className:jt("recharts-curve",n),d:s,ref:o}))},KV={exports:{}},D1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$1e=D1e,L1e=$1e;function YV(){}function XV(){}XV.resetWarningCache=YV;var F1e=function(){function t(r,i,o,s,a,l){if(l!==L1e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XV,resetWarningCache:YV};return n.PropTypes=n,n};KV.exports=F1e();var V1e=KV.exports;const Ht=$e(V1e);var B1e=Object.getOwnPropertyNames,U1e=Object.getOwnPropertySymbols,z1e=Object.prototype.hasOwnProperty;function QV(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Jx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function JV(t){return B1e(t).concat(U1e(t))}var W1e=Object.hasOwn||function(t,e){return z1e.call(t,e)};function Ac(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var H1e="__v",q1e="__o",G1e="_owner",ZV=Object.getOwnPropertyDescriptor,e6=Object.keys;function K1e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Y1e(t,e){return Ac(t.getTime(),e.getTime())}function X1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Q1e(t,e){return t===e}function t6(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,m=a.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var J1e=Ac;function Z1e(t,e,n){var r=e6(t),i=r.length;if(e6(e).length!==i)return!1;for(;i-- >0;)if(!r6(t,e,n,r[i]))return!1;return!0}function Vp(t,e,n){var r=JV(t),i=r.length;if(JV(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!r6(t,e,n,o)||(s=ZV(t,o),a=ZV(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function e_e(t,e){return Ac(t.valueOf(),e.valueOf())}function t_e(t,e){return t.source===e.source&&t.flags===e.flags}function n6(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function n_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function r_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function r6(t,e,n,r){return(r===G1e||r===q1e||r===H1e)&&(t.$$typeof||e.$$typeof)?!0:W1e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var i_e="[object Arguments]",o_e="[object Boolean]",s_e="[object Date]",a_e="[object Error]",l_e="[object Map]",c_e="[object Number]",u_e="[object Object]",d_e="[object RegExp]",f_e="[object Set]",h_e="[object String]",p_e="[object URL]",m_e=Array.isArray,i6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,o6=Object.assign,g_e=Object.prototype.toString.call.bind(Object.prototype.toString);function y_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(v,g,y):b==="function"?i(v,g,y):!1;var _=v.constructor;if(_!==g.constructor)return!1;if(_===Object)return a(v,g,y);if(m_e(v))return e(v,g,y);if(i6!=null&&i6(v))return f(v,g,y);if(_===Date)return n(v,g,y);if(_===RegExp)return c(v,g,y);if(_===Map)return o(v,g,y);if(_===Set)return d(v,g,y);var w=g_e(v);return w===s_e?n(v,g,y):w===d_e?c(v,g,y):w===l_e?o(v,g,y):w===f_e?d(v,g,y):w===u_e?typeof v.then!="function"&&typeof g.then!="function"&&a(v,g,y):w===p_e?h(v,g,y):w===a_e?r(v,g,y):w===i_e?a(v,g,y):w===o_e||w===c_e||w===h_e?l(v,g,y):!1}}function v_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Vp:K1e,areDatesEqual:Y1e,areErrorsEqual:X1e,areFunctionsEqual:Q1e,areMapsEqual:r?QV(t6,Vp):t6,areNumbersEqual:J1e,areObjectsEqual:r?Vp:Z1e,arePrimitiveWrappersEqual:e_e,areRegExpsEqual:t_e,areSetsEqual:r?QV(n6,Vp):n6,areTypedArraysEqual:r?Vp:n_e,areUrlsEqual:r_e};if(n&&(i=o6({},i,n(i))),e){var o=Jx(i.areArraysEqual),s=Jx(i.areMapsEqual),a=Jx(i.areObjectsEqual),l=Jx(i.areSetsEqual);i=o6({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function x_e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function b_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var w_e=ul();ul({strict:!0}),ul({circular:!0}),ul({circular:!0,strict:!0}),ul({createInternalComparator:function(){return Ac}}),ul({strict:!0,createInternalComparator:function(){return Ac}}),ul({circular:!0,createInternalComparator:function(){return Ac}}),ul({circular:!0,createInternalComparator:function(){return Ac},strict:!0});function ul(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=v_e(t),l=y_e(a),c=r?r(l):x_e(l);return b_e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function __e(t){typeof requestAnimationFrame!="undefined"&&requestAnimationFrame(t)}function s6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):__e(i)};requestAnimationFrame(r)}function PP(t){"@babel/helpers - typeof";return PP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(t)}function S_e(t){return A_e(t)||P_e(t)||T_e(t)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,e){if(t){if(typeof t=="string")return a6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P_e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A_e(t){if(Array.isArray(t))return t}function C_e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=S_e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){s6(i.bind(null,c),l);return}i(l),s6(i.bind(null,c));return}PP(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t,e,n){return e=N_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_e(t){var e=I_e(t,"string");return Bp(e)==="symbol"?e:String(e)}function I_e(t,e){if(Bp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j_e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},k_e=function(e){return e},O_e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Up=function(e,n){return Object.keys(n).reduce(function(r,i){return c6(c6({},r),{},u6({},i,e(i,n[i])))},{})},d6=function(e,n,r){return e.map(function(i){return"".concat(O_e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function R_e(t,e){return $_e(t)||D_e(t,e)||f6(t,e)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_e(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function $_e(t){if(Array.isArray(t))return t}function L_e(t){return B_e(t)||V_e(t)||f6(t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function V_e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B_e(t){if(Array.isArray(t))return AP(t)}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zx=1e-4,h6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},p6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},m6=function(e,n){return function(r){var i=h6(e,n);return p6(i,r)}},U_e=function(e,n){return function(r){var i=h6(e,n),o=[].concat(L_e(i.map(function(s,a){return s*a}).slice(1)),[0]);return p6(o,r)}},g6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=R_e(c,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=m6(i,s),h=m6(o,a),m=U_e(i,s),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,w=_,T=0;T<8;++T){var S=f(w)-_,N=m(w);if(Math.abs(S-_)<Zx||N<Zx)return h(w);w=v(w-S/N)}return h(w)};return g.isStepper=!1,g},z_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*r,v=h*o,g=h+(m-v)*a/1e3,y=h*a/1e3+d;return Math.abs(y-f)<Zx&&Math.abs(g)<Zx?[f,0]:[y,g]};return l.isStepper=!0,l.dt=a,l},W_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g6(i);case"spring":return z_e();default:if(i.split("(")[0]==="cubic-bezier")return g6(i)}return typeof i=="function"?i:null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function y6(t){return G_e(t)||q_e(t)||x6(t)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G_e(t){if(Array.isArray(t))return NP(t)}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){CP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CP(t,e,n){return e=K_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_e(t){var e=Y_e(t,"string");return zp(e)==="symbol"?e:String(e)}function Y_e(t,e){if(zp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X_e(t,e){return Z_e(t)||J_e(t,e)||x6(t,e)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(t,e){if(t){if(typeof t=="string")return NP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(t,e)}}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J_e(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Z_e(t){if(Array.isArray(t))return t}var e0=function(e,n,r){return e+(n-e)*r},IP=function(e){var n=e.from,r=e.to;return n!==r},eSe=function t(e,n,r){var i=Up(function(o,s){if(IP(s)){var a=e(s.from,s.to,s.velocity),l=X_e(a,2),c=l[0],d=l[1];return Tr(Tr({},s),{},{from:c,velocity:d})}return s},n);return r<1?Up(function(o,s){return IP(s)?Tr(Tr({},s),{},{velocity:e0(s.velocity,i[o].velocity,r),from:e0(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const tSe=function(t,e,n,r,i){var o=j_e(t,e),s=o.reduce(function(y,b){return Tr(Tr({},y),{},CP({},b,[t[b],e[b]]))},{}),a=o.reduce(function(y,b){return Tr(Tr({},y),{},CP({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Up(function(b,_){return _.from},a)},m=function(){return!Object.values(a).filter(IP).length},v=function(b){c||(c=b);var _=b-c,w=_/n.dt;a=eSe(n,a,w),i(Tr(Tr(Tr({},t),e),h())),c=b,m()||(l=requestAnimationFrame(f))},g=function(b){d||(d=b);var _=(b-d)/r,w=Up(function(S,N){return e0.apply(void 0,y6(N).concat([n(_)]))},s);if(i(Tr(Tr(Tr({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var T=Up(function(S,N){return e0.apply(void 0,y6(N).concat([n(1)]))},s);i(Tr(Tr(Tr({},t),e),T))}};return f=n.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var nSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rSe(t,e){if(t==null)return{};var n=iSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jP(t){return lSe(t)||aSe(t)||sSe(t)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sSe(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function aSe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lSe(t){if(Array.isArray(t))return kP(t)}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){Wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wp(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6(r.key),r)}}function dSe(t,e,n){return e&&uSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w6(t){var e=fSe(t,"string");return Nd(e)==="symbol"?e:String(e)}function fSe(t,e){if(Nd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OP(t,e)}function OP(t,e){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OP(t,e)}function pSe(t){var e=mSe();return function(){var r=t0(t),i;if(e){var o=t0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RP(this,i)}}function RP(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MP(t)}function MP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mSe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}var aa=function(t){hSe(n,t);var e=pSe(n);function n(r,i){var o;cSe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(MP(o)),o.changeStyle=o.changeStyle.bind(MP(o)),!a||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),RP(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},RP(o);o.state={style:l?Wp({},l,c):c}}else o.state={style:{}};return o}return dSe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var m={style:l?Wp({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(w_e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||c?f:i.to;if(this.state&&h){var y={style:l?Wp({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(y)}this.runAnimation(No(No({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=tSe(s,a,W_e(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,y,b){if(b===0)return g;var _=y.duration,w=y.easing,T=w===void 0?"ease":w,S=y.style,N=y.properties,E=y.onAnimationEnd,A=b>0?s[b-1]:y,C=N||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(jP(g),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:_,easing:T}),_]);var j=d6(C,_,T),I=No(No(No({},A.style),S),{},{transition:j});return[].concat(jP(g),[I,_,E]).filter(k_e)};return this.manager.start([l].concat(jP(s.reduce(m,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=C_e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=a?Wp({},a,l):l,y=d6(Object.keys(g),s,c);v.start([d,o,No(No({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=rSe(i,nSe),c=x.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||c===0||s<=0)return o;var f=function(m){var v=m.props,g=v.style,y=g===void 0?{}:g,b=v.className,_=x.cloneElement(m,No(No({},l),{},{style:No(No({},y),d),className:b}));return _};return c===1?f(x.Children.only(o)):q.createElement("div",null,x.Children.map(o,function(h){return f(h)}))}}]),n}(x.PureComponent);aa.displayName="Animate",aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},aa.propTypes={from:Ht.oneOfType([Ht.object,Ht.string]),to:Ht.oneOfType([Ht.object,Ht.string]),attributeName:Ht.string,duration:Ht.number,begin:Ht.number,easing:Ht.oneOfType([Ht.string,Ht.func]),steps:Ht.arrayOf(Ht.shape({duration:Ht.number.isRequired,style:Ht.object.isRequired,easing:Ht.oneOfType([Ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ht.func]),properties:Ht.arrayOf("string"),onAnimationEnd:Ht.func})),children:Ht.oneOfType([Ht.node,Ht.func]),isActive:Ht.bool,canBegin:Ht.bool,onAnimationEnd:Ht.func,shouldReAnimate:Ht.bool,onAnimationStart:Ht.func,onAnimationReStart:Ht.func};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function gSe(t,e){return bSe(t)||xSe(t,e)||vSe(t,e)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(t,e){if(t){if(typeof t=="string")return _6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _6(t,e)}}function _6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xSe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function bSe(t){if(Array.isArray(t))return t}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){wSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wSe(t,e,n){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Se(t){var e=SSe(t,"string");return Hp(e)=="symbol"?e:e+""}function SSe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T6=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},ESe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},TSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DP=function(e){var n=E6(E6({},TSe),e),r=x.useRef(),i=x.useState(-1),o=gSe(i,2),s=o[0],a=o[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch(S){}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=jt("recharts-rectangle",m);return _?q.createElement(aa,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:v,isActive:_},function(T){var S=T.width,N=T.height,E=T.x,A=T.y;return q.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:v},q.createElement("path",n0({},$t(n,!0),{className:w,d:T6(E,A,S,N,h),ref:r})))}):q.createElement("path",n0({},$t(n,!0),{className:w,d:T6(l,c,d,f,h)}))};function $P(){return $P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$P.apply(this,arguments)}var LP=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=jt("recharts-dot",o);return n===+n&&r===+r&&i===+i?x.createElement("circle",$P({},$t(e,!1),Hv(e),{className:s,cx:n,cy:r,r:i})):null};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var PSe=["x","y","top","left","width","height","className"];function FP(){return FP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FP.apply(this,arguments)}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ASe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){CSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CSe(t,e,n){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NSe(t){var e=ISe(t,"string");return qp(e)=="symbol"?e:e+""}function ISe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jSe(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OSe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},RSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,g=jSe(e,PSe),y=ASe({x:r,y:o,top:a,left:c,width:f,height:m},g);return!Te(r)||!Te(o)||!Te(f)||!Te(m)||!Te(a)||!Te(c)?null:q.createElement("path",FP({},$t(y,!0),{className:jt("recharts-cross",v),d:OSe(r,o,f,m,a,c)}))},MSe=g3,DSe=MSe(Object.getPrototypeOf,Object),$Se=DSe,LSe=Ys,FSe=$Se,VSe=Xs,BSe="[object Object]",USe=Function.prototype,zSe=Object.prototype,A6=USe.toString,WSe=zSe.hasOwnProperty,HSe=A6.call(Object);function qSe(t){if(!VSe(t)||LSe(t)!=BSe)return!1;var e=FSe(t);if(e===null)return!0;var n=WSe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&A6.call(n)==HSe}var GSe=qSe;const KSe=$e(GSe);var YSe=Ys,XSe=Xs,QSe="[object Boolean]";function JSe(t){return t===!0||t===!1||XSe(t)&&YSe(t)==QSe}var ZSe=JSe;const eEe=$e(ZSe);function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(this,arguments)}function tEe(t,e){return oEe(t)||iEe(t,e)||rEe(t,e)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rEe(t,e){if(t){if(typeof t=="string")return C6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C6(t,e)}}function C6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iEe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function oEe(t){if(Array.isArray(t))return t}function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){sEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sEe(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=lEe(t,"string");return Gp(e)=="symbol"?e:e+""}function lEe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j6=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},cEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uEe=function(e){var n=I6(I6({},cEe),e),r=x.useRef(),i=x.useState(-1),o=tEe(i,2),s=o[0],a=o[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch(T){}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=jt("recharts-trapezoid",m);return b?q.createElement(aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:v,isActive:b},function(w){var T=w.upperWidth,S=w.lowerWidth,N=w.height,E=w.x,A=w.y;return q.createElement(aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},q.createElement("path",r0({},$t(n,!0),{className:_,d:j6(E,A,T,S,N),ref:r})))}):q.createElement("g",null,q.createElement("path",r0({},$t(n,!0),{className:_,d:j6(l,c,d,f,h)})))},dEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function fEe(t,e){if(t==null)return{};var n=hEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){pEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pEe(t,e,n){return e=mEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mEe(t){var e=gEe(t,"string");return Kp(e)=="symbol"?e:e+""}function gEe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yEe(t,e){return i0(i0({},e),t)}function vEe(t,e){return t==="symbols"}function O6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return q.createElement(DP,n);case"trapezoid":return q.createElement(uEe,n);case"sector":return q.createElement(WV,n);case"symbols":if(vEe(e))return q.createElement(KE,n);break;default:return null}}function xEe(t){return x.isValidElement(t)?t.props:t}function bEe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?yEe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=fEe(t,dEe),c;if(x.isValidElement(e))c=x.cloneElement(e,i0(i0({},l),xEe(e)));else if(Nt(e))c=e(l);else if(KSe(e)&&!eEe(e)){var d=i(e,l);c=q.createElement(O6,{shapeType:n,elementProps:d})}else{var f=l;c=q.createElement(O6,{shapeType:n,elementProps:f})}return a?q.createElement(Bn,{className:s},c):c}function o0(t,e){return e!=null&&"trapezoids"in t.props}function s0(t,e){return e!=null&&"sectors"in t.props}function Yp(t,e){return e!=null&&"points"in t.props}function wEe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function _Ee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function SEe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function EEe(t,e){var n;return o0(t,e)?n=wEe:s0(t,e)?n=_Ee:Yp(t,e)&&(n=SEe),n}function TEe(t,e){var n;return o0(t,e)?n="trapezoids":s0(t,e)?n="sectors":Yp(t,e)&&(n="points"),n}function PEe(t,e){if(o0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(s0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Yp(t,e)?e.payload:{}}function AEe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=TEe(n,e),o=PEe(n,e),s=r.filter(function(l,c){var d=Vx(o,l),f=n.props[i].filter(function(v){var g=EEe(n,e);return g(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),a=r.indexOf(s[s.length-1]);return a}var CEe=Math.ceil,NEe=Math.max;function IEe(t,e,n,r){for(var i=-1,o=NEe(CEe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var jEe=IEe,kEe=h5,R6=1/0,OEe=17976931348623157e292;function REe(t){if(!t)return t===0?t:0;if(t=kEe(t),t===R6||t===-R6){var e=t<0?-1:1;return e*OEe}return t===t?t:0}var MEe=REe,DEe=jEe,$Ee=dx,VP=MEe;function LEe(t){return function(e,n,r){return r&&typeof r!="number"&&$Ee(e,n,r)&&(n=r=void 0),e=VP(e),n===void 0?(n=e,e=0):n=VP(n),r=r===void 0?e<n?1:-1:VP(r),DEe(e,n,r,t)}}var FEe=LEe,VEe=FEe,BEe=VEe(),UEe=BEe;const a0=$e(UEe);function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){$6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $6(t,e,n){return e=zEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zEe(t){var e=WEe(t,"string");return Xp(e)=="symbol"?e:e+""}function WEe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HEe=["Webkit","Moz","O","ms"],qEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=HEe.reduce(function(o,s){return D6(D6({},o),{},$6({},s+r,n))},{});return i[e]=n,i};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B6(r.key),r)}}function KEe(t,e,n){return e&&F6(t.prototype,e),n&&F6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YEe(t,e,n){return e=c0(e),XEe(t,V6()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function XEe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QEe(t)}function QEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V6=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function JEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UP(t,e)}function _i(t,e,n){return e=B6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B6(t){var e=ZEe(t,"string");return Id(e)=="symbol"?e:e+""}function ZEe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=mp().domain(a0(0,l)).range([o,o+s-a]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},U6=function(e){return e.changedTouches&&!!e.changedTouches.length},jd=function(t){function e(n){var r;return GEe(this,e),r=YEe(this,e,[n]),_i(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_i(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_i(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),_i(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_i(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_i(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_i(r,"handleSlideDragStart",function(i){var o=U6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return JEe(e,t),KEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=wi(o[r],a,r);return Nt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-a,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-a));var y=this.getIndex({startX:s+g,endX:a+g});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=U6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-m-c):_<0&&(_=Math.max(_,f-c)),b[s]=c+_;var w=this.getIndex(b),T=w.startIndex,S=w.endIndex,N=function(){var A=y.length-1;return s==="startX"&&(a>l?T%g===0:S%g===0)||a<l&&S===A||s==="endX"&&(a>l?S%g===0:T%g===0)||a>l&&S===A};this.setState(_i(_i({},s,c+_),"brushMoveStartX",r.pageX),function(){v&&N()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var m=a[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(_i({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return q.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,f=x.Children.only(c);return f?q.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,g=l.startIndex,y=l.endIndex,b=Math.max(r,this.props.x),_=BP(BP({},$t(this.props,!1)),{},{x:b,y:c,width:d,height:f}),w=m||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[y])===null||s===void 0?void 0:s.name);return q.createElement(Bn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:c};return q.createElement(Bn,{className:"recharts-brush-texts"},q.createElement(vx,l0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+a/2},v),this.getTextOfTick(i)),q.createElement(vx,l0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!Te(a)||!Te(l)||!Te(c)||!Te(d)||c<=0||d<=0)return null;var w=jt("recharts-brush",o),T=q.Children.count(s)===1,S=qEe("userSelect","none");return q.createElement(Bn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),q.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):Nt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return BP({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?eTe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(x.PureComponent);_i(jd,"displayName","Brush"),_i(jd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tTe=hT;function nTe(t,e){var n;return tTe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var rTe=nTe,iTe=t3,oTe=fd,sTe=rTe,aTe=ni,lTe=dx;function cTe(t,e,n){var r=aTe(t)?iTe:sTe;return n&&lTe(t,e,n)&&(e=void 0),r(t,oTe(e))}var uTe=cTe;const dTe=$e(uTe);var us=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},z6=X3;function fTe(t,e,n){e=="__proto__"&&z6?z6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var hTe=fTe,pTe=hTe,mTe=q3,gTe=fd;function yTe(t,e){var n={};return e=gTe(e),mTe(t,function(r,i,o){pTe(n,i,e(r,i,o))}),n}var vTe=yTe;const xTe=$e(vTe);function bTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var wTe=bTe,_Te=hT;function STe(t,e){var n=!0;return _Te(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ETe=STe,TTe=wTe,PTe=ETe,ATe=fd,CTe=ni,NTe=dx;function ITe(t,e,n){var r=CTe(t)?TTe:PTe;return n&&NTe(t,e,n)&&(e=void 0),r(t,ATe(e))}var jTe=ITe;const kTe=$e(jTe);var OTe=["x","y"];function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zP.apply(this,arguments)}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){RTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RTe(t,e,n){return e=MTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MTe(t){var e=DTe(t,"string");return Qp(e)=="symbol"?e:e+""}function DTe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Te(t,e){if(t==null)return{};var n=LTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FTe(t,e){var n=t.x,r=t.y,i=$Te(t,OTe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Jp(Jp(Jp(Jp(Jp({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function H6(t){return q.createElement(bEe,zP({shapeType:"rectangle",propTransformer:FTe,activeClassName:"recharts-active-bar"},t))}var VTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Te(r)||eae(r);return o?e(r,i):(o||Ec(),n)}},BTe=["value","background"],q6;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function UTe(t,e){if(t==null)return{};var n=zTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X6(r.key),r)}}function HTe(t,e,n){return e&&K6(t.prototype,e),n&&K6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qTe(t,e,n){return e=d0(e),GTe(t,Y6()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function GTe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KTe(t)}function KTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y6=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function YTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WP(t,e)}function dl(t,e,n){return e=X6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6(t){var e=XTe(t,"string");return kd(e)=="symbol"?e:e+""}function XTe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zp=function(t){function e(){var n;WTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=qTe(this,e,[].concat(i)),dl(n,"state",{isAnimationFinished:!1}),dl(n,"id",np("recharts-bar-")),dl(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),dl(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return YTe(e,t),HTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,d=$t(this.props,!1);return r&&r.map(function(f,h){var m=h===l,v=m?c:s,g=Yn(Yn(Yn({},d),f),{},{isActive:m,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Bn,u0({className:"recharts-bar-rectangle"},qv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),q.createElement(H6,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return q.createElement(aa,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=o.map(function(y,b){var _=h&&h[b];if(_){var w=Po(_.x,y.x),T=Po(_.y,y.y),S=Po(_.width,y.width),N=Po(_.height,y.height);return Yn(Yn({},y),{},{x:w(v),y:T(v),width:S(v),height:N(v)})}if(s==="horizontal"){var E=Po(0,y.height),A=E(v);return Yn(Yn({},y),{},{y:y.y+y.height-A,height:A})}var C=Po(0,y.width),j=C(v);return Yn(Yn({},y),{},{width:j})});return q.createElement(Bn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Vx(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=$t(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=UTe(c,BTe);if(!f)return null;var m=Yn(Yn(Yn(Yn(Yn({},h),{},{fill:"#eee"},f),l),qv(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return q.createElement(H6,u0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Yi(d,Cp);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,m=function(y,b){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:wi(y,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Bn,v,f.map(function(g){return q.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=jt("recharts-bar",s),_=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,T=_||w,S=St(g)?this.id:g;return q.createElement(Bn,{className:b},_||w?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(S)},q.createElement("rect",{x:_?c:c-f/2,y:w?d:d-h/2,width:_?f:f*2,height:w?h:h*2}))):null,q.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!m||y)&&cl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);q6=Zp,dl(Zp,"displayName","Bar"),dl(Zp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),dl(Zp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Ewe(r,n);if(!m)return null;var v=e.layout,g=n.type.defaultProps,y=g!==void 0?Yn(Yn({},g),n.props):n.props,b=y.dataKey,_=y.children,w=y.minPointSize,T=v==="horizontal"?s:o,S=c?T.scale.domain():null,N=kwe({numericAxis:T}),E=Yi(_,v5),A=f.map(function(C,j){var I,O,R,H,B,W;c?I=Twe(c[d+j],S):(I=wi(C,b),Array.isArray(I)||(I=[N,I]));var G=VTe(w,q6.defaultProps.minPointSize)(I[1],j);if(v==="horizontal"){var U,z=[s.scale(I[0]),s.scale(I[1])],Q=z[0],J=z[1];O=AV({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:C,index:j}),R=(U=J!=null?J:Q)!==null&&U!==void 0?U:void 0,H=m.size;var oe=Q-J;if(B=Number.isNaN(oe)?0:oe,W={x:O,y:s.y,width:H,height:s.height},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var be=To(B||G)*(Math.abs(G)-Math.abs(B));R-=be,B+=be}}else{var Me=[o.scale(I[0]),o.scale(I[1])],ze=Me[0],it=Me[1];if(O=ze,R=AV({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:C,index:j}),H=it-ze,B=m.size,W={x:o.x,y:R,width:o.width,height:B},Math.abs(G)>0&&Math.abs(H)<Math.abs(G)){var Xe=To(H||G)*(Math.abs(G)-Math.abs(H));H+=Xe}}return Yn(Yn(Yn({},C),{},{x:O,y:R,width:H,height:B,value:c?I:I[1],payload:C,background:W},E&&E[j]&&E[j].props),{},{tooltipPayload:[kV(n,C)],tooltipPosition:{x:O+H/2,y:R+B/2}})});return Yn({data:A,layout:v},h)});function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function QTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z6(r.key),r)}}function JTe(t,e,n){return e&&Q6(t.prototype,e),n&&Q6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(n),!0).forEach(function(r){f0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0(t,e,n){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t){var e=ZTe(t,"string");return em(e)=="symbol"?e:e+""}function ZTe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ePe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!xi(c,Zp);return d.reduce(function(m,v){var g=n[v],y=g.orientation,b=g.domain,_=g.padding,w=_===void 0?{}:_,T=g.mirror,S=g.reversed,N="".concat(y).concat(T?"Mirror":""),E,A,C,j,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],R=1/0,H=g.categoricalDomain.sort(rae);if(H.forEach(function(Me,ze){ze>0&&(R=Math.min((Me||0)-(H[ze-1]||0),R))}),Number.isFinite(R)){var B=R/O,W=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=B*W/2),g.padding==="no-gap"){var G=fc(e.barCategoryGap,B*W),U=B*W/2;E=U-G-(U-G)/W*G}}}i==="xAxis"?A=[r.left+(w.left||0)+(E||0),r.left+r.width-(w.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(E||0),r.top+r.height-(w.bottom||0)-(E||0)]:A=g.range,S&&(A=[A[1],A[0]]);var z=_we(g,o,h),Q=z.scale,J=z.realScaleType;Q.domain(b).range(A),Swe(Q);var oe=jwe(Q,Io(Io({},g),{},{realScaleType:J}));i==="xAxis"?(I=y==="top"&&!T||y==="bottom"&&T,C=r.left,j=f[N]-I*g.height):i==="yAxis"&&(I=y==="left"&&!T||y==="right"&&T,C=f[N]-I*g.width,j=r.top);var be=Io(Io(Io({},g),oe),{},{realScaleType:J,x:C,y:j,scale:Q,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return be.bandSize=Gx(be,oe),!g.hide&&i==="xAxis"?f[N]+=(I?-1:1)*be.height:g.hide||(f[N]+=(I?-1:1)*be.width),Io(Io({},m),{},f0({},v,be))},{})},eB=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},tPe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return eB({x:n,y:r},{x:i,y:o})},tB=function(){function t(e){QTe(this,t),this.scale=e}return JTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();f0(tB,"EPS",1e-4);var HP=function(e){var n=Object.keys(e).reduce(function(r,i){return Io(Io({},r),{},f0({},i,tB.create(e[i])))},{});return Io(Io({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return xTe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return kTe(i,function(o,s){return n[s].isInRange(o)})}})};function nPe(t){return(t%180+180)%180}var rPe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=nPe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},iPe=ise(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nB=x.createContext(void 0),rB=x.createContext(void 0),iB=x.createContext(void 0),oPe=x.createContext({}),oB=x.createContext(void 0),sB=x.createContext(0),aB=x.createContext(0),lB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,d=iPe(o);return q.createElement(nB.Provider,{value:r},q.createElement(rB.Provider,{value:i},q.createElement(oPe.Provider,{value:o},q.createElement(iB.Provider,{value:d},q.createElement(oB.Provider,{value:s},q.createElement(sB.Provider,{value:c},q.createElement(aB.Provider,{value:l},a)))))))},sPe=function(){return x.useContext(oB)},cB=function(e){var n=x.useContext(nB);n==null&&Ec();var r=n[e];return r==null&&Ec(),r},uB=function(e){var n=x.useContext(rB);n==null&&Ec();var r=n[e];return r==null&&Ec(),r},aPe=function(){var e=x.useContext(iB);return e},dB=function(){return x.useContext(aB)},fB=function(){return x.useContext(sB)};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function lPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gB(r.key),r)}}function uPe(t,e,n){return e&&cPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dPe(t,e,n){return e=h0(e),fPe(t,hB()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function fPe(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hPe(t)}function hPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hB=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function pPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}function qP(t,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qP(t,e)}function pB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(n),!0).forEach(function(r){GP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GP(t,e,n){return e=gB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gB(t){var e=mPe(t,"string");return Od(e)=="symbol"?e:e+""}function mPe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gPe(t,e){return bPe(t)||xPe(t,e)||vPe(t,e)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(t,e){if(t){if(typeof t=="string")return yB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(t,e)}}function yB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xPe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function bPe(t){if(Array.isArray(t))return t}function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KP.apply(this,arguments)}var wPe=function(e,n){var r;return q.isValidElement(e)?r=q.cloneElement(e,n):Nt(e)?r=e(n):r=q.createElement("line",KP({},n,{className:"recharts-reference-line-line"})),r},_Pe=function(e,n,r,i,o,s,a,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var v=c.y,g=e.y.apply(v,{position:s});if(us(c,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?y.reverse():y}if(n){var b=c.x,_=e.x.apply(b,{position:s});if(us(c,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+m},{x:_,y:f}];return a==="top"?w.reverse():w}if(i){var T=c.segment,S=T.map(function(N){return e.apply(N,{position:s})});return us(c,"discard")&&dTe(S,function(N){return!e.isInRange(N)})?null:S}return null};function SPe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=sPe(),d=cB(i),f=uB(o),h=aPe();if(!c||!h)return null;hc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=HP({x:d.scale,y:f.scale}),v=tr(e),g=tr(n),y=r&&r.length===2,b=_Pe(m,v,g,y,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var _=gPe(b,2),w=_[0],T=w.x,S=w.y,N=_[1],E=N.x,A=N.y,C=us(t,"hidden")?"url(#".concat(c,")"):void 0,j=mB(mB({clipPath:C},$t(t,!0)),{},{x1:T,y1:S,x2:E,y2:A});return q.createElement(Bn,{className:jt("recharts-reference-line",a)},wPe(s,j),Rr.renderCallByParent(t,tPe({x1:T,y1:S,x2:E,y2:A})))}var YP=function(t){function e(){return lPe(this,e),dPe(this,e,arguments)}return pPe(e,t),uPe(e,[{key:"render",value:function(){return q.createElement(SPe,this.props)}}])}(q.Component);GP(YP,"displayName","ReferenceLine"),GP(YP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function vB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(n),!0).forEach(function(r){m0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wB(r.key),r)}}function PPe(t,e,n){return e&&TPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function APe(t,e,n){return e=p0(e),CPe(t,bB()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function CPe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NPe(t)}function NPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bB=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QP(t,e)}function QP(t,e){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QP(t,e)}function m0(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=jPe(t,"string");return Rd(e)=="symbol"?e:e+""}function jPe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kPe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=HP({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return us(e,"discard")&&!s.isInRange(a)?null:a},g0=function(t){function e(){return EPe(this,e),APe(this,e,arguments)}return IPe(e,t),PPe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=tr(i),d=tr(o);if(hc(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=kPe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,y=v.className,b=us(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=xB(xB({clipPath:b},$t(this.props,!0)),{},{cx:h,cy:m});return q.createElement(Bn,{className:jt("recharts-reference-dot",y)},e.renderDot(g,_),Rr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(q.Component);m0(g0,"displayName","ReferenceDot"),m0(g0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),m0(g0,"renderDot",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Nt(t)?n=t(e):n=q.createElement(LP,XP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function JP(){return JP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JP.apply(this,arguments)}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){v0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TB(r.key),r)}}function MPe(t,e,n){return e&&RPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DPe(t,e,n){return e=y0(e),$Pe(t,EB()?Reflect.construct(e,n||[],y0(t).constructor):e.apply(t,n))}function $Pe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LPe(t)}function LPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EB=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function v0(t,e,n){return e=TB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TB(t){var e=VPe(t,"string");return Md(e)=="symbol"?e:e+""}function VPe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BPe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=HP({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return us(o,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:eB(m,v)},x0=function(t){function e(){return OPe(this,e),DPe(this,e,arguments)}return FPe(e,t),MPe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;hc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tr(i),h=tr(o),m=tr(s),v=tr(a),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var y=BPe(f,h,m,v,this.props);if(!y&&!g)return null;var b=us(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Bn,{className:jt("recharts-reference-area",l)},e.renderRect(g,SB(SB({clipPath:b},$t(this.props,!0)),y)),Rr.renderCallByParent(this.props,y))}}])}(q.Component);v0(x0,"displayName","ReferenceArea"),v0(x0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),v0(x0,"renderRect",function(t,e){var n;return q.isValidElement(t)?n=q.cloneElement(t,e):Nt(t)?n=t(e):n=q.createElement(DP,JP({},e,{className:"recharts-reference-area-rect"})),n});function PB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function UPe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rPe(r,n)}function zPe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function b0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function WPe(t,e){return PB(t,e+1)}function HPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,d=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:PB(r,c)};var g=l,y,b=function(){return y===void 0&&(y=n(v,g)),y},_=v.coordinate,w=l===0||b0(t,_,b,d,a);w||(l=0,d=s,c+=1),w&&(d=_+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){qPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qPe(t,e,n){return e=GPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GPe(t){var e=KPe(t,"string");return tm(e)=="symbol"?e:e+""}function KPe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YPe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var m=o[h],v,g=function(){return v===void 0&&(v=n(m,h)),v};if(h===s-1){var y=t*(m.coordinate+t*g()/2-l);o[h]=m=Mr(Mr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else o[h]=m=Mr(Mr({},m),{},{tickCoord:m.coordinate});var b=b0(t,m.tickCoord,g,a,l);b&&(l=m.tickCoord-t*(g()/2+i),o[h]=Mr(Mr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function XPe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-c);s[a-1]=d=Mr(Mr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=b0(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),s[a-1]=Mr(Mr({},d),{},{isShow:!0}))}for(var v=o?a-1:a,g=function(_){var w=s[_],T,S=function(){return T===void 0&&(T=n(w,_)),T};if(_===0){var N=t*(w.coordinate-t*S()/2-l);s[_]=w=Mr(Mr({},w),{},{tickCoord:N<0?w.coordinate-N*t:w.coordinate})}else s[_]=w=Mr(Mr({},w),{},{tickCoord:w.coordinate});var E=b0(t,w.tickCoord,S,l,c);E&&(l=w.tickCoord+t*(S()/2+i),s[_]=Mr(Mr({},w),{},{isShow:!0}))},y=0;y<v;y++)g(y);return s}function QPe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Te(l)||Zs.isSsr)return WPe(i,typeof l=="number"&&Te(l)?l:0);var h=[],m=a==="top"||a==="bottom"?"width":"height",v=d&&m==="width"?up(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,T){var S=Nt(c)?c(w.value,T):w.value;return m==="width"?UPe(up(S,{fontSize:e,letterSpacing:n}),v,f):up(S,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?To(i[1].coordinate-i[0].coordinate):1,b=zPe(o,y,m);return l==="equidistantPreserveStart"?HPe(y,b,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=XPe(y,b,g,i,s,l==="preserveStartEnd"):h=YPe(y,b,g,i,s),h.filter(function(_){return _.isShow}))}var JPe=["viewBox"],ZPe=["viewBox"],eAe=["ticks"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){nA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eA(t,e){if(t==null)return{};var n=tAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function rAe(t,e,n){return e&&NB(t.prototype,e),n&&NB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iAe(t,e,n){return e=w0(e),oAe(t,IB()?Reflect.construct(e,n||[],w0(t).constructor):e.apply(t,n))}function oAe(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sAe(t)}function sAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IB=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(t)}function aAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(t,e)}function nA(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jB(t){var e=lAe(t,"string");return Dd(e)=="symbol"?e:e+""}function lAe(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _0=function(t){function e(n){var r;return nAe(this,e),r=iAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return aAe(e,t),rAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=eA(r,JPe),a=this.props,l=a.viewBox,c=eA(a,ZPe);return!sd(o,l)||!sd(s,c)||!sd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,g,y,b,_,w=f?-1:1,T=r.tickSize||d,S=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=v=r.coordinate,y=s+ +!f*l,g=y-w*T,_=g-w*h,b=S;break;case"left":g=y=r.coordinate,v=o+ +!f*a,m=v-w*T,b=m-w*h,_=S;break;case"right":g=y=r.coordinate,v=o+ +f*a,m=v+w*T,b=m+w*h,_=S;break;default:m=v=r.coordinate,y=s+ +f*l,g=y+w*T,_=g+w*h,b=S;break}return{line:{x1:m,y1:g,x2:v,y2:y},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ir(ir(ir({},$t(this.props,!1)),$t(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ir(ir({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=ir(ir({},f),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return q.createElement("line",$d({},f,{className:jt("recharts-cartesian-axis-line",Gi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,m=QPe(ir(ir({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=$t(this.props,!1),b=$t(d,!1),_=ir(ir({},y),{},{fill:"none"},$t(l,!1)),w=m.map(function(T,S){var N=s.getTickLineCoord(T),E=N.line,A=N.tick,C=ir(ir(ir(ir({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:c},b),A),{},{index:S,payload:T,visibleTicksCount:m.length,tickFormatter:f});return q.createElement(Bn,$d({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},qv(s.props,T,S)),l&&q.createElement("line",$d({},_,E,{className:jt("recharts-cartesian-axis-tick-line",Gi(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(Nt(f)?f(T.value,S):T.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=eA(f,eAe),v=h;return Nt(l)&&(v=h&&h.length>0?l(this.props):l(m)),s<=0||a<=0||!v||!v.length?null:q.createElement(Bn,{className:jt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=jt(i.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(r)?s=q.cloneElement(r,ir(ir({},i),{},{className:a})):Nt(r)?s=r(ir(ir({},i),{},{className:a})):s=q.createElement(vx,$d({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(x.Component);nA(_0,"displayName","CartesianAxis"),nA(_0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cAe=["type","layout","connectNulls","ref"],uAe=["key"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function kB(t,e){if(t==null)return{};var n=dAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fd(t){return mAe(t)||pAe(t)||hAe(t)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hAe(t,e){if(t){if(typeof t=="string")return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(t,e)}}function pAe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mAe(t){if(Array.isArray(t))return rA(t)}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DB(r.key),r)}}function yAe(t,e,n){return e&&RB(t.prototype,e),n&&RB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=S0(e),xAe(t,MB()?Reflect.construct(e,n||[],S0(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(t)}function bAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MB=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function wAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iA(t,e)}function iA(t,e){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iA(t,e)}function jo(t,e,n){return e=DB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DB(t){var e=_Ae(t,"string");return Ld(e)=="symbol"?e:e+""}function _Ae(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm=function(t){function e(){var n;gAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vAe(this,e,[].concat(i)),jo(n,"state",{isAnimationFinished:!0,totalLength:0}),jo(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),jo(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(b,_){return b+_});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/c),f=s%c,h=a-s,m=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>f){m=[].concat(Fd(l.slice(0,v)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Fd(e.repeat(l,d)),Fd(m),y).map(function(b){return"".concat(b,"px")}).join(", ")}),jo(n,"id",np("recharts-line-")),jo(n,"pathRef",function(s){n.mainCurve=s}),jo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),jo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return wAe(e,t),yAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch(i){return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Yi(d,Cp);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:wi(g.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Bn,m,f.map(function(v){return q.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,f=$t(this.props,!1),h=$t(l,!0),m=c.map(function(g,y){var b=Si(Si(Si({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:c});return e.renderDotItem(l,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Bn,nm({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var f=kB(a,cAe),h=Si(Si(Si({},$t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return q.createElement(TP,nm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,v=s.animateNewValues,g=s.width,y=s.height,b=this.state,_=b.prevPoints,w=b.totalLength;return q.createElement(aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(_){var N=_.length/a.length,E=a.map(function(O,R){var H=Math.floor(R*N);if(_[H]){var B=_[H],W=Po(B.x,O.x),G=Po(B.y,O.y);return Si(Si({},O),{},{x:W(S),y:G(S)})}if(v){var U=Po(g*2,O.x),z=Po(y/2,O.y);return Si(Si({},O),{},{x:U(S),y:z(S)})}return Si(Si({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(E,r,i)}var A=Po(0,w),C=A(S),j;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});j=o.getStrokeDasharray(C,w,I)}else j=o.generateSimpleStrokeDasharray(w,C);return o.renderCurveStatically(a,r,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!c&&d>0||!Vx(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,_=a.length===1,w=jt("recharts-line",l),T=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,N=T||S,E=St(y)?this.id:y,A=(r=$t(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,j=C===void 0?3:C,I=A.strokeWidth,O=I===void 0?2:I,R=fae(s)?s:{},H=R.clipDot,B=H===void 0?!0:H,W=j*2+O;return q.createElement(Bn,{className:w},T||S?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(E)},q.createElement("rect",{x:T?h:h-m/2,y:S?f:f-v/2,width:T?m:m*2,height:S?v:v*2})),!B&&q.createElement("clipPath",{id:"clipPath-dots-".concat(E)},q.createElement("rect",{x:h-W/2,y:f-W/2,width:m+W,height:v+W}))):null,!_&&this.renderCurve(N,E),this.renderErrorBar(N,E),(_||s)&&this.renderDots(N,B,E),(!g||b)&&cl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Fd(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Fd(s),Fd(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(q.isValidElement(r))o=q.cloneElement(r,i);else if(Nt(r))o=r(i);else{var s=i.key,a=kB(i,uAe),l=jt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=q.createElement(LP,nm({key:s},a,{className:l}))}return o}}])}(x.PureComponent);jo(rm,"displayName","Line"),jo(rm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),jo(rm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,m){var v=wi(h,s);return d==="horizontal"?{x:PV({axis:n,ticks:i,bandSize:a,entry:h,index:m}),y:St(v)?null:r.scale(v),value:v,payload:h}:{x:St(v)?null:n.scale(v),y:PV({axis:r,ticks:o,bandSize:a,entry:h,index:m}),value:v,payload:h}});return Si({points:f,layout:d},c)});function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function SAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FB(r.key),r)}}function TAe(t,e,n){return e&&EAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PAe(t,e,n){return e=E0(e),AAe(t,$B()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function AAe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(t)}function CAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($B=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function NAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}function oA(t,e){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oA(t,e)}function LB(t,e,n){return e=FB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FB(t){var e=IAe(t,"string");return Vd(e)=="symbol"?e:e+""}function IAe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(this,arguments)}function jAe(t){var e=t.xAxisId,n=dB(),r=fB(),i=cB(e);return i==null?null:x.createElement(_0,sA({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Pc(s,!0)}}))}var T0=function(t){function e(){return SAe(this,e),PAe(this,e,arguments)}return NAe(e,t),TAe(e,[{key:"render",value:function(){return x.createElement(jAe,this.props)}}])}(x.Component);LB(T0,"displayName","XAxis"),LB(T0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function kAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UB(r.key),r)}}function RAe(t,e,n){return e&&OAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MAe(t,e,n){return e=P0(e),DAe(t,VB()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function DAe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(t)}function $Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VB=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function LAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function BB(t,e,n){return e=UB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UB(t){var e=FAe(t,"string");return Bd(e)=="symbol"?e:e+""}function FAe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(this,arguments)}var VAe=function(e){var n=e.yAxisId,r=dB(),i=fB(),o=uB(n);return o==null?null:x.createElement(_0,lA({},o,{className:jt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Pc(a,!0)}}))},A0=function(t){function e(){return kAe(this,e),MAe(this,e,arguments)}return LAe(e,t),RAe(e,[{key:"render",value:function(){return x.createElement(VAe,this.props)}}])}(x.Component);BB(A0,"displayName","YAxis"),BB(A0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zB(t){return WAe(t)||zAe(t)||UAe(t)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function zAe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WAe(t){if(Array.isArray(t))return cA(t)}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uA=function(e,n,r,i,o){var s=Yi(e,YP),a=Yi(e,g0),l=[].concat(zB(s),zB(a)),c=Yi(e,x0),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,y){if(y.props[d]===r&&us(y.props,"extendDomain")&&Te(y.props[f])){var b=y.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),c.length){var m="".concat(f,"1"),v="".concat(f,"2");h=c.reduce(function(g,y){if(y.props[d]===r&&us(y.props,"extendDomain")&&Te(y.props[m])&&Te(y.props[v])){var b=y.props[m],_=y.props[v];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,y){return Te(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},WB={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];y.fn.apply(y.context,_)}else{var T=y.length,S;for(w=0;w<T;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!_)for(S=1,_=new Array(b-1);S<b;S++)_[S-1]=arguments[S];y[w].fn.apply(y[w].context,_)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var g=0,y=[],b=v.length;g<b;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(WB);var HAe=WB.exports;const qAe=$e(HAe);var dA=new qAe,fA="recharts.syncMouseEvents";function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function YAe(t,e,n){return e&&KAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hA(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=XAe(t,"string");return im(e)=="symbol"?e:e+""}function XAe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QAe=function(){function t(){GAe(this,t),hA(this,"activeIndex",0),hA(this,"coordinateList",[]),hA(this,"layout","horizontal")}return YAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o!=null?o:this.coordinateList)!==null&&r!==void 0?r:[],this.container=a!=null?a:this.container,this.layout=c!=null?c:this.layout,this.offset=f!=null?f:this.offset,this.mouseHandlerCallback=m!=null?m:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function JAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function ZAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Er(e,n,r,i),a=Er(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function eCe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Er(a,l,c,f),m=Er(a,l,d,f);r=h.x,i=h.y,o=m.x,s=m.y}else return qB(e);return[{x:r,y:i},{x:o,y:s}]}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){tCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tCe(t,e,n){return e=nCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=rCe(t,"string");return om(e)=="symbol"?e:e+""}function rCe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iCe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,g=TP;if(h==="ScatterChart")v=s,g=RSe;else if(h==="BarChart")v=ZAe(f,s,l,d),g=DP;else if(f==="radial"){var y=qB(s),b=y.cx,_=y.cy,w=y.radius,T=y.startAngle,S=y.endAngle;v={cx:b,cy:_,startAngle:T,endAngle:S,innerRadius:w,outerRadius:w},g=WV}else v={points:eCe(f,s,l)},g=TP;var N=C0(C0(C0(C0({stroke:"#ccc",pointerEvents:"none"},l),v),$t(m,!1)),{},{payload:a,payloadIndex:c,className:jt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var oCe=["item"],sCe=["children","className","width","height","style","compact","title","desc"];function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function KB(t,e){return cCe(t)||lCe(t,e)||QB(t,e)||aCe()}function aCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function cCe(t){if(Array.isArray(t))return t}function YB(t,e){if(t==null)return{};var n=uCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZB(r.key),r)}}function hCe(t,e,n){return e&&fCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pCe(t,e,n){return e=N0(e),mCe(t,XB()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function mCe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gCe(t)}function gCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XB=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function yCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pA(t,e)}function Wd(t){return bCe(t)||xCe(t)||QB(t)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function xCe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bCe(t){if(Array.isArray(t))return mA(t)}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qe(t,e,n){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=wCe(t,"string");return Ud(e)=="symbol"?e:e+""}function wCe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ce={xAxis:["bottom","top"],yAxis:["left","right"]},SCe={width:"100%",height:"100%"},eU={x:0,y:0};function I0(t){return t}var ECe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},TCe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ae(ae(ae({},i),Er(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return ae(ae(ae({},i),Er(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return eU},j0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r!=null?r:[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Wd(a),Wd(c)):a},[]);return s.length>0?s:e&&e.length&&Te(i)&&Te(o)?e.slice(i,o+1):[]};function tU(t){return t==="number"?[0,"auto"]:void 0}var gA=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=j0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?a:f;h=Wv(m,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Wd(l),[kV(c,h)]):l},[])},nU=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=ECe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=gwe(s,a,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=gA(e,n,d,f),m=TCe(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},PCe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=EV(d,o);return r.reduce(function(v,g){var y,b=g.type.defaultProps!==void 0?ae(ae({},g.type.defaultProps),g.props):g.props,_=b.type,w=b.dataKey,T=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,E=b.ticks,A=b.includeHidden,C=b[s];if(v[C])return v;var j=j0(e.data,{graphicalItems:i.filter(function(oe){var be,Me=s in oe.props?oe.props[s]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[s];return Me===C}),dataStartIndex:l,dataEndIndex:c}),I=j.length,O,R,H;JAe(b.domain,T,_)&&(O=bP(b.domain,null,T),m&&(_==="number"||N!=="auto")&&(H=jp(j,w,"category")));var B=tU(_);if(!O||O.length===0){var W,G=(W=b.domain)!==null&&W!==void 0?W:B;if(w){if(O=jp(j,w,_),_==="category"&&m){var U=nae(O);S&&U?(R=O,O=a0(0,I)):S||(O=jV(G,O,g).reduce(function(oe,be){return oe.indexOf(be)>=0?oe:[].concat(Wd(oe),[be])},[]))}else if(_==="category")S?O=O.filter(function(oe){return oe!==""&&!St(oe)}):O=jV(G,O,g).reduce(function(oe,be){return oe.indexOf(be)>=0||be===""||St(be)?oe:[].concat(Wd(oe),[be])},[]);else if(_==="number"){var z=wwe(j,i.filter(function(oe){var be,Me,ze=s in oe.props?oe.props[s]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[s],it="hide"in oe.props?oe.props.hide:(Me=oe.type.defaultProps)===null||Me===void 0?void 0:Me.hide;return ze===C&&(A||!it)}),w,o,d);z&&(O=z)}m&&(_==="number"||N!=="auto")&&(H=jp(j,w,"category"))}else m?O=a0(0,I):a&&a[C]&&a[C].hasStack&&_==="number"?O=h==="expand"?[0,1]:CV(a[C].stackGroups,l,c):O=SV(j,i.filter(function(oe){var be=s in oe.props?oe.props[s]:oe.type.defaultProps[s],Me="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return be===C&&(A||!Me)}),_,d,!0);if(_==="number")O=uA(f,O,C,o,E),G&&(O=bP(G,O,T));else if(_==="category"&&G){var Q=G,J=O.every(function(oe){return Q.indexOf(oe)>=0});J&&(O=Q)}}return ae(ae({},v),{},Qe({},C,ae(ae({},b),{},{axisType:o,domain:O,categoricalDomain:H,duplicateDomain:R,originalDomain:(y=b.domain)!==null&&y!==void 0?y:B,isCategorical:m,layout:d})))},{})},ACe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=j0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,v=EV(d,o),g=-1;return r.reduce(function(y,b){var _=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=_[s],T=tU("number");if(!y[w]){g++;var S;return v?S=a0(0,m):a&&a[w]&&a[w].hasStack?(S=CV(a[w].stackGroups,l,c),S=uA(f,S,w,o)):(S=bP(T,SV(h,r.filter(function(N){var E,A,C=s in N.props?N.props[s]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[s],j="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===w&&!j}),"number",d),i.defaultProps.allowDataOverflow),S=uA(f,S,w,o)),ae(ae({},y),{},Qe({},w,ae(ae({axisType:o},i.defaultProps),{},{hide:!0,orientation:Gi(_Ce,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:T,isCategorical:v,layout:d})))}return y},{})},CCe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Yi(d,o),m={};return h&&h.length?m=PCe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=ACe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},NCe=function(e){var n=od(e),r=Pc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:mT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Gx(n,r)}},rU=function(e){var n=e.children,r=e.defaultShowTooltip,i=xi(n,jd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ICe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Qs(n&&n.type);return r&&r.indexOf("Bar")>=0})},iU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jCe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=xi(f,jd),v=xi(f,pd),g=Object.keys(l).reduce(function(S,N){var E=l[N],A=E.orientation;return!E.mirror&&!E.hide?ae(ae({},S),{},Qe({},A,S[A]+E.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(S,N){var E=s[N],A=E.orientation;return!E.mirror&&!E.hide?ae(ae({},S),{},Qe({},A,Gi(S,"".concat(A))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},y),g),_=b.bottom;m&&(b.bottom+=m.props.height||jd.defaultProps.height),v&&n&&(b=xwe(b,i,r,n));var w=c-b.left-b.right,T=d-b.top-b.bottom;return ae(ae({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(T,0)})},kCe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},OCe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,_){var w=_.graphicalItems,T=_.stackGroups,S=_.offset,N=_.updateId,E=_.dataStartIndex,A=_.dataEndIndex,C=b.barSize,j=b.layout,I=b.barGap,O=b.barCategoryGap,R=b.maxBarSize,H=iU(j),B=H.numericAxisName,W=H.cateAxisName,G=ICe(w),U=[];return w.forEach(function(z,Q){var J=j0(b.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:A}),oe=z.type.defaultProps!==void 0?ae(ae({},z.type.defaultProps),z.props):z.props,be=oe.dataKey,Me=oe.maxBarSize,ze=oe["".concat(B,"Id")],it=oe["".concat(W,"Id")],Xe={},me=l.reduce(function(_n,je){var Ot=_["".concat(je.axisType,"Map")],$r=oe["".concat(je.axisType,"Id")];Ot&&Ot[$r]||je.axisType==="zAxis"||Ec();var rn=Ot[$r];return ae(ae({},_n),{},Qe(Qe({},je.axisType,rn),"".concat(je.axisType,"Ticks"),Pc(rn)))},Xe),re=me[W],Se=me["".concat(W,"Ticks")],xe=T&&T[ze]&&T[ze].hasStack&&Owe(z,T[ze].stackGroups),ee=Qs(z.type).indexOf("Bar")>=0,ve=Gx(re,Se),De=[],ot=G&&ywe({barSize:C,stackGroups:T,totalSize:kCe(me,W)});if(ee){var st,Lt,Ft=St(Me)?R:Me,wt=(st=(Lt=Gx(re,Se,!0))!==null&&Lt!==void 0?Lt:Ft)!==null&&st!==void 0?st:0;De=vwe({barGap:I,barCategoryGap:O,bandSize:wt!==ve?wt:ve,sizeList:ot[it],maxBarSize:Ft}),wt!==ve&&(De=De.map(function(_n){return ae(ae({},_n),{},{position:ae(ae({},_n.position),{},{offset:_n.position.offset-wt/2})})}))}var kt=z&&z.type&&z.type.getComposedData;kt&&U.push({props:ae(ae({},kt(ae(ae({},me),{},{displayedData:J,props:b,dataKey:be,item:z,bandSize:ve,barPosition:De,offset:S,stackedData:xe,layout:j,dataStartIndex:E,dataEndIndex:A}))),{},Qe(Qe(Qe({key:z.key||"item-".concat(Q)},B,me[B]),W,me[W]),"animationId",N)),childIndex:mae(z,b.children),item:z})}),U},m=function(b,_){var w=b.props,T=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!y4({props:w}))return null;var E=w.children,A=w.layout,C=w.stackOffset,j=w.data,I=w.reverseStackOrder,O=iU(A),R=O.numericAxisName,H=O.cateAxisName,B=Yi(E,r),W=Iwe(j,B,"".concat(R,"Id"),"".concat(H,"Id"),C,I),G=l.reduce(function(oe,be){var Me="".concat(be.axisType,"Map");return ae(ae({},oe),{},Qe({},Me,CCe(w,ae(ae({},be),{},{graphicalItems:B,stackGroups:be.axisType===R&&W,dataStartIndex:T,dataEndIndex:S}))))},{}),U=jCe(ae(ae({},G),{},{props:w,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(G).forEach(function(oe){G[oe]=d(w,G[oe],U,oe.replace("Map",""),n)});var z=G["".concat(H,"Map")],Q=NCe(z),J=h(w,ae(ae({},G),{},{dataStartIndex:T,dataEndIndex:S,updateId:N,graphicalItems:B,stackGroups:W,offset:U}));return ae(ae({formattedGraphicalItems:J,graphicalItems:B,offset:U,stackGroups:W},Q),G)},v=function(y){function b(_){var w,T,S;return dCe(this,b),S=pCe(this,b,[_]),Qe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(S,"accessibilityManager",new QAe),Qe(S,"handleLegendBBoxUpdate",function(N){if(N){var E=S.state,A=E.dataStartIndex,C=E.dataEndIndex,j=E.updateId;S.setState(ae({legendBBox:N},m({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:j},ae(ae({},S.state),{},{legendBBox:N}))))}}),Qe(S,"handleReceiveSyncEvent",function(N,E,A){if(S.props.syncId===N){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Qe(S,"handleBrushChange",function(N){var E=N.startIndex,A=N.endIndex;if(E!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return ae({dataStartIndex:E,dataEndIndex:A},m({props:S.props,dataStartIndex:E,dataEndIndex:A,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Qe(S,"handleMouseEnter",function(N){var E=S.getMouseInfo(N);if(E){var A=ae(ae({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseEnter;Nt(C)&&C(A,N)}}),Qe(S,"triggeredAfterMouseMove",function(N){var E=S.getMouseInfo(N),A=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseMove;Nt(C)&&C(A,N)}),Qe(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Qe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Qe(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Qe(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var A=S.props.onMouseLeave;Nt(A)&&A(E,N)}),Qe(S,"handleOuterEvent",function(N){var E=pae(N),A=Gi(S.props,"".concat(E));if(E&&Nt(A)){var C,j;/.*touch.*/i.test(E)?j=S.getMouseInfo(N.changedTouches[0]):j=S.getMouseInfo(N),A((C=j)!==null&&C!==void 0?C:{},N)}}),Qe(S,"handleClick",function(N){var E=S.getMouseInfo(N);if(E){var A=ae(ae({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onClick;Nt(C)&&C(A,N)}}),Qe(S,"handleMouseDown",function(N){var E=S.props.onMouseDown;if(Nt(E)){var A=S.getMouseInfo(N);E(A,N)}}),Qe(S,"handleMouseUp",function(N){var E=S.props.onMouseUp;if(Nt(E)){var A=S.getMouseInfo(N);E(A,N)}}),Qe(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Qe(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Qe(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Qe(S,"handleDoubleClick",function(N){var E=S.props.onDoubleClick;if(Nt(E)){var A=S.getMouseInfo(N);E(A,N)}}),Qe(S,"handleContextMenu",function(N){var E=S.props.onContextMenu;if(Nt(E)){var A=S.getMouseInfo(N);E(A,N)}}),Qe(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&dA.emit(fA,S.props.syncId,N,S.eventEmitterSymbol)}),Qe(S,"applySyncEvent",function(N){var E=S.props,A=E.layout,C=E.syncMethod,j=S.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ae({dataStartIndex:I,dataEndIndex:O},m({props:S.props,dataStartIndex:I,dataEndIndex:O,updateId:j},S.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,H=N.chartY,B=N.activeTooltipIndex,W=S.state,G=W.offset,U=W.tooltipTicks;if(!G)return;if(typeof C=="function")B=C(U,N);else if(C==="value"){B=-1;for(var z=0;z<U.length;z++)if(U[z].value===N.activeLabel){B=z;break}}var Q=ae(ae({},G),{},{x:G.left,y:G.top}),J=Math.min(R,Q.x+Q.width),oe=Math.min(H,Q.y+Q.height),be=U[B]&&U[B].value,Me=gA(S.state,S.props.data,B),ze=U[B]?{x:A==="horizontal"?U[B].coordinate:J,y:A==="horizontal"?oe:U[B].coordinate}:eU;S.setState(ae(ae({},N),{},{activeLabel:be,activeCoordinate:ze,activePayload:Me,activeTooltipIndex:B}))}else S.setState(N)}),Qe(S,"renderCursor",function(N){var E,A=S.state,C=A.isTooltipActive,j=A.activeCoordinate,I=A.activePayload,O=A.offset,R=A.activeTooltipIndex,H=A.tooltipAxisBandSize,B=S.getTooltipEventType(),W=(E=N.props.active)!==null&&E!==void 0?E:C,G=S.props.layout,U=N.key||"_recharts-cursor";return q.createElement(iCe,{key:U,activeCoordinate:j,activePayload:I,activeTooltipIndex:R,chartName:n,element:N,isActive:W,layout:G,offset:O,tooltipAxisBandSize:H,tooltipEventType:B})}),Qe(S,"renderPolarAxis",function(N,E,A){var C=Gi(N,"type.axisType"),j=Gi(S.state,"".concat(C,"Map")),I=N.type.defaultProps,O=I!==void 0?ae(ae({},I),N.props):N.props,R=j&&j[O["".concat(C,"Id")]];return x.cloneElement(N,ae(ae({},R),{},{className:jt(C,R.className),key:N.key||"".concat(E,"-").concat(A),ticks:Pc(R,!0)}))}),Qe(S,"renderPolarGrid",function(N){var E=N.props,A=E.radialLines,C=E.polarAngles,j=E.polarRadius,I=S.state,O=I.radiusAxisMap,R=I.angleAxisMap,H=od(O),B=od(R),W=B.cx,G=B.cy,U=B.innerRadius,z=B.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Pc(B,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(j)?j:Pc(H,!0).map(function(Q){return Q.coordinate}),cx:W,cy:G,innerRadius:U,outerRadius:z,key:N.key||"polar-grid",radialLines:A})}),Qe(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,E=S.props,A=E.children,C=E.width,j=E.height,I=S.props.margin||{},O=C-(I.left||0)-(I.right||0),R=xV({children:A,formattedGraphicalItems:N,legendWidth:O,legendContent:c});if(!R)return null;var H=R.item,B=YB(R,oCe);return x.cloneElement(H,ae(ae({},B),{},{chartWidth:C,chartHeight:j,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Qe(S,"renderTooltip",function(){var N,E=S.props,A=E.children,C=E.accessibilityLayer,j=xi(A,ss);if(!j)return null;var I=S.state,O=I.isTooltipActive,R=I.activeCoordinate,H=I.activePayload,B=I.activeLabel,W=I.offset,G=(N=j.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(j,{viewBox:ae(ae({},W),{},{x:W.left,y:W.top}),active:G,label:B,payload:G?H:[],coordinate:R,accessibilityLayer:C})}),Qe(S,"renderBrush",function(N){var E=S.props,A=E.margin,C=E.data,j=S.state,I=j.offset,O=j.dataStartIndex,R=j.dataEndIndex,H=j.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:qx(S.handleBrushChange,N.props.onChange),data:C,x:Te(N.props.x)?N.props.x:I.left,y:Te(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(A.bottom||0),width:Te(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:R,updateId:"brush-".concat(H)})}),Qe(S,"renderReferenceElement",function(N,E,A){if(!N)return null;var C=S,j=C.clipPathId,I=S.state,O=I.xAxisMap,R=I.yAxisMap,H=I.offset,B=N.type.defaultProps||{},W=N.props,G=W.xAxisId,U=G===void 0?B.xAxisId:G,z=W.yAxisId,Q=z===void 0?B.yAxisId:z;return x.cloneElement(N,{key:N.key||"".concat(E,"-").concat(A),xAxis:O[U],yAxis:R[Q],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:j})}),Qe(S,"renderActivePoints",function(N){var E=N.item,A=N.activePoint,C=N.basePoint,j=N.childIndex,I=N.isRange,O=[],R=E.props.key,H=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,B=H.activeDot,W=H.dataKey,G=ae(ae({index:j,dataKey:W,cx:A.x,cy:A.y,r:4,fill:vP(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},$t(B,!1)),Hv(B));return O.push(b.renderActiveDot(B,G,"".concat(R,"-activePoint-").concat(j))),C?O.push(b.renderActiveDot(B,ae(ae({},G),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(j))):I&&O.push(null),O}),Qe(S,"renderGraphicChild",function(N,E,A){var C=S.filterFormatItem(N,E,A);if(!C)return null;var j=S.getTooltipEventType(),I=S.state,O=I.isTooltipActive,R=I.tooltipAxis,H=I.activeTooltipIndex,B=I.activeLabel,W=S.props.children,G=xi(W,ss),U=C.props,z=U.points,Q=U.isRange,J=U.baseLine,oe=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,be=oe.activeDot,Me=oe.hide,ze=oe.activeBar,it=oe.activeShape,Xe=!!(!Me&&O&&G&&(be||ze||it)),me={};j!=="axis"&&G&&G.props.trigger==="click"?me={onClick:qx(S.handleItemMouseEnter,N.props.onClick)}:j!=="axis"&&(me={onMouseLeave:qx(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:qx(S.handleItemMouseEnter,N.props.onMouseEnter)});var re=x.cloneElement(N,ae(ae({},C.props),me));function Se(je){return typeof R.dataKey=="function"?R.dataKey(je.payload):null}if(Xe)if(H>=0){var xe,ee;if(R.dataKey&&!R.allowDuplicatedCategory){var ve=typeof R.dataKey=="function"?Se:"payload.".concat(R.dataKey.toString());xe=Wv(z,ve,B),ee=Q&&J&&Wv(J,ve,B)}else xe=z==null?void 0:z[H],ee=Q&&J&&J[H];if(it||ze){var De=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[x.cloneElement(N,ae(ae(ae({},C.props),me),{},{activeIndex:De})),null,null]}if(!St(xe))return[re].concat(Wd(S.renderActivePoints({item:C,activePoint:xe,basePoint:ee,childIndex:H,isRange:Q})))}else{var ot,st=(ot=S.getItemByXY(S.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:re},Lt=st.graphicalItem,Ft=Lt.item,wt=Ft===void 0?N:Ft,kt=Lt.childIndex,_n=ae(ae(ae({},C.props),me),{},{activeIndex:kt});return[x.cloneElement(wt,_n),null,null]}return Q?[re,null,null]:[re,null]}),Qe(S,"renderCustomized",function(N,E,A){return x.cloneElement(N,ae(ae({key:"recharts-customized-".concat(A)},S.props),S.state))}),Qe(S,"renderMap",{CartesianGrid:{handler:I0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:I0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:I0},YAxis:{handler:I0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:np("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=m5(S.triggeredAfterMouseMove,(T=_.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return yCe(b,y),hCe(b,[{key:"componentDidMount",value:function(){var w,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,T=w.children,S=w.data,N=w.height,E=w.layout,A=xi(T,ss);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=gA(this.state,S,C,j),O=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+N)/2,H=E==="horizontal",B=H?{x:O,y:R}:{y:O,x:R},W=this.state.formattedGraphicalItems.find(function(U){var z=U.item;return z.type.name==="Scatter"});W&&(B=ae(ae({},B),W.props.points[C].tooltipPosition),I=W.props.points[C].tooltipPayload);var G={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:j,activePayload:I,activeCoordinate:B};this.setState(G),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){kE([xi(w.children,ss)],[xi(this.props.children,ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=xi(this.props.children,ss);if(w&&typeof w.props.shared=="boolean"){var T=w.props.shared?"axis":"item";return a.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),N=zye(S),E={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},A=S.width/T.offsetWidth||1,C=this.inRange(E.chartX,E.chartY,A);if(!C)return null;var j=this.state,I=j.xAxisMap,O=j.yAxisMap,R=this.getTooltipEventType(),H=nU(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&I&&O){var B=od(I).scale,W=od(O).scale,G=B&&B.invert?B.invert(E.chartX):null,U=W&&W.invert?W.invert(E.chartY):null;return ae(ae({},E),{},{xValue:G,yValue:U},H)}return H?ae(ae({},E),H):null}},{key:"inRange",value:function(w,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=w/S,A=T/S;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,j=E>=C.left&&E<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return j?{x:E,y:A}:null}var I=this.state,O=I.angleAxisMap,R=I.radiusAxisMap;if(O&&R){var H=od(O);return MV({x:E,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,T=this.getTooltipEventType(),S=xi(w,ss),N={};S&&T==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Hv(this.props,this.handleOuterEvent);return ae(ae({},E),N)}},{key:"addListener",value:function(){dA.on(fA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dA.removeListener(fA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,T,S){for(var N=this.state.formattedGraphicalItems,E=0,A=N.length;E<A;E++){var C=N[E];if(C.item===w||C.props.key===w.key||T===Qs(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,T=this.state.offset,S=T.left,N=T.top,E=T.height,A=T.width;return q.createElement("defs",null,q.createElement("clipPath",{id:w},q.createElement("rect",{x:S,y:N,height:E,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(T,S){var N=KB(S,2),E=N[0],A=N[1];return ae(ae({},T),{},Qe({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(T,S){var N=KB(S,2),E=N[0],A=N[1];return ae(ae({},T),{},Qe({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(w){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(w){var T=this.state,S=T.formattedGraphicalItems,N=T.activeItem;if(S&&S.length)for(var E=0,A=S.length;E<A;E++){var C=S[E],j=C.props,I=C.item,O=I.type.defaultProps!==void 0?ae(ae({},I.type.defaultProps),I.props):I.props,R=Qs(I.type);if(R==="Bar"){var H=(j.data||[]).find(function(U){return ESe(w,U)});if(H)return{graphicalItem:C,payload:H}}else if(R==="RadialBar"){var B=(j.data||[]).find(function(U){return MV(w,U)});if(B)return{graphicalItem:C,payload:B}}else if(o0(C,N)||s0(C,N)||Yp(C,N)){var W=AEe({graphicalItem:C,activeTooltipItem:N,itemData:O.data}),G=O.activeIndex===void 0?W:O.activeIndex;return{graphicalItem:ae(ae({},C),{},{childIndex:G}),payload:Yp(C,N)?O.data[W]:C.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!y4(this))return null;var T=this.props,S=T.children,N=T.className,E=T.width,A=T.height,C=T.style,j=T.compact,I=T.title,O=T.desc,R=YB(T,sCe),H=$t(R,!1);if(j)return q.createElement(lB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(RE,zd({},H,{width:E,height:A,title:I,desc:O}),this.renderClipPath(),x4(S,this.renderMap)));if(this.props.accessibilityLayer){var B,W;H.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,H.role=(W=this.props.role)!==null&&W!==void 0?W:"application",H.onKeyDown=function(U){w.accessibilityManager.keyboardEvent(U)},H.onFocus=function(){w.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return q.createElement(lB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",zd({className:jt("recharts-wrapper",N),style:ae({position:"relative",cursor:"default",width:E,height:A},C)},G,{ref:function(z){w.container=z}}),q.createElement(RE,zd({},H,{width:E,height:A,title:I,desc:O,style:SCe}),this.renderClipPath(),x4(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Qe(v,"displayName",n),Qe(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qe(v,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,w=y.data,T=y.children,S=y.width,N=y.height,E=y.layout,A=y.stackOffset,C=y.margin,j=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=rU(y);return ae(ae(ae({},O),{},{updateId:0},m(ae(ae({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(_!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||E!==b.prevLayout||A!==b.prevStackOffset||!sd(C,b.prevMargin)){var R=rU(y),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=ae(ae({},nU(b,w,E)),{},{updateId:b.updateId+1}),W=ae(ae(ae({},R),H),B);return ae(ae(ae({},W),m(ae({props:y},W),b)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(!kE(T,b.prevChildren)){var G,U,z,Q,J=xi(T,jd),oe=J&&(G=(U=J.props)===null||U===void 0?void 0:U.startIndex)!==null&&G!==void 0?G:j,be=J&&(z=(Q=J.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&z!==void 0?z:I,Me=oe!==j||be!==I,ze=!St(w),it=ze&&!Me?b.updateId:b.updateId+1;return ae(ae({updateId:it},m(ae(ae({props:y},b),{},{updateId:it,dataStartIndex:oe,dataEndIndex:be}),b)),{},{prevChildren:T,dataStartIndex:oe,dataEndIndex:be})}return null}),Qe(v,"renderActiveDot",function(y,b,_){var w;return x.isValidElement(y)?w=x.cloneElement(y,b):Nt(y)?w=y(b):w=q.createElement(LP,b),q.createElement(Bn,{className:"recharts-active-dot",key:_},w)});var g=x.forwardRef(function(b,_){return q.createElement(v,zd({},b,{ref:_}))});return g.displayName=v.displayName,g},RCe=OCe({chartName:"LineChart",GraphicalChild:rm,axisComponents:[{axisType:"xAxis",AxisComp:T0},{axisType:"yAxis",AxisComp:A0}],formatAxisMap:ePe});function MCe({seconds:t,totalSeconds:e,playerName:n,isExtension:r,isRunning:i=!0,onClick:o}){const s=t/e*100,a=()=>t===0?"bg-black":s>60?"bg-gradient-to-b from-green-500 to-green-700":s>40?"bg-gradient-to-b from-yellow-500 to-yellow-600":s>20?"bg-gradient-to-b from-orange-500 to-orange-600":"bg-gradient-to-b from-red-600 to-red-800",l=()=>t===0?"text-red-500":"text-white",c=()=>s<=20&&t>0?"animate-pulse":"",d=f=>{if(f>=60){const h=Math.floor(f/60),m=f%60;return`${h}:${m.toString().padStart(2,"0")}`}return f.toString()};return u.jsxs("button",{className:`flex flex-col items-center justify-center w-full h-full transition-all duration-500 ${a()} cursor-pointer active:opacity-90 select-none focus:outline-none focus:ring-2 focus:ring-white/30`,onClick:o,"data-testid":"display-timer",type:"button",children:[n&&u.jsx("div",{className:"text-[clamp(1.25rem,4vw,2rem)] font-semibold text-white/90 mb-1 tracking-wide","data-testid":"text-player-name",children:n}),u.jsx("div",{className:`font-mono font-bold transition-all duration-300 ${l()} ${c()}`,style:{fontSize:"clamp(6rem, 30vw, 18rem)",lineHeight:1,textShadow:t>0?"0 4px 20px rgba(0,0,0,0.3)":"none"},children:d(t)}),!i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(ah,{className:"w-5 h-5 md:w-6 md:h-6"}),u.jsx("span",{className:"text-sm md:text-base font-medium",children:"TAP TO RESUME"})]}),i&&t>0&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/50",children:[u.jsx(dk,{className:"w-4 h-4 md:w-5 md:h-5"}),u.jsx("span",{className:"text-xs md:text-sm",children:"tap to pause"})]}),r&&u.jsx("div",{className:"text-base md:text-lg text-white/80 mt-1 font-medium","data-testid":"text-extension-indicator",children:"EXTENSION"}),t===0&&u.jsxs("div",{className:"flex flex-col items-center mt-2",children:[u.jsx("div",{className:"text-xl md:text-3xl text-red-400 font-bold animate-pulse","data-testid":"text-time-expired",children:"TIME EXPIRED"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-white/70",children:[u.jsx(ah,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:"TAP TO RESTART"})]})]})]})}const oU="shotclock_tutorial_seen",sU="shotclock_sessions",k0="shotclock_paused_session";function DCe(){var yn,Yt;const[,t]=Ia(),[e,n]=x.useState("setup"),[r,i]=x.useState("solo"),[o,s]=x.useState([{name:"Player 1",extensions:0}]),[a,l]=x.useState(0),[c,d]=x.useState([{name:"Team 1",players:["Player 1A","Player 1B"],extensions:0},{name:"Team 2",players:["Player 2A","Player 2B"],extensions:0}]),[f,h]=x.useState(0),[m,v]=x.useState(0),[g,y]=x.useState(30),[b,_]=x.useState(30),[w,T]=x.useState(30),[S,N]=x.useState(!1),[E,A]=x.useState(!1),[C]=x.useState(3),[j]=x.useState(15),[I,O]=x.useState(!0),[R,H]=x.useState(!1),[B,W]=x.useState(1),G=x.useRef(null),U=x.useRef(null),[z,Q]=x.useState({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),J=x.useRef(0),oe=x.useRef(0),be=x.useRef(0);x.useEffect(()=>(Dt.startSession("tempo"),()=>{be.current>0&&Dt.trackSkillMetric("tempo","session_complete",1),Dt.endSession()}),[]),x.useEffect(()=>{const Y=localStorage.getItem(k0);if(Y)try{const fe=JSON.parse(Y);(fe.gameMode==="paused"||fe.gameMode==="playing")&&(n("paused"),i(fe.playerMode),s(fe.players),l(fe.currentPlayerIndex),y(fe.duration),T(fe.timeRemaining),A(fe.isInExtension),O(fe.soloAutoRestart),Q(F(D({},fe.sessionStats),{shotEvents:fe.sessionStats.shotEvents||[]})),oe.current=fe.accumulatedShotTime||0,fe.teams&&d(fe.teams),fe.currentTeamIndex!==void 0&&h(fe.currentTeamIndex),fe.currentPartnerIndex!==void 0&&v(fe.currentPartnerIndex))}catch(fe){localStorage.removeItem(k0)}},[]),x.useEffect(()=>{localStorage.getItem(oU)||H(!0)},[]);const Me=x.useCallback((Y=800,fe=.3,Pe=1)=>{U.current||(U.current=new AudioContext);const We=U.current;for(let Rt=0;Rt<Pe;Rt++)setTimeout(()=>{const Un=We.createOscillator(),He=We.createGain();Un.connect(He),He.connect(We.destination),Un.frequency.value=Y,He.gain.value=.4,He.gain.exponentialRampToValueAtTime(.01,We.currentTime+fe),Un.start(We.currentTime),Un.stop(We.currentTime+fe)},Rt*150)},[]),ze=x.useCallback(()=>{Me(600,.15,1)},[Me]),it=x.useCallback(()=>{Me(400,.5,3)},[Me]),Xe=x.useCallback(()=>{Me(1e3,.2,2)},[Me]);x.useEffect(()=>(S&&w>0?G.current=setInterval(()=>{T(Y=>{if(Y<=6&&Y>1&&ze(),Y<=1){if(it(),A(!1),r==="solo"&&I){let fe=oe.current/1e3;J.current>0&&(fe+=(Date.now()-J.current)/1e3),fe<=0&&(fe=g),be.current++,Dt.trackSkillMetric("tempo","shot_time",fe),Q(Pe=>{var Rt;const We={shotIndex:Pe.shotCount,duration:Math.max(0,fe),playerName:((Rt=o[0])==null?void 0:Rt.name)||"Player 1",timestamp:Date.now()};return F(D({},Pe),{shotCount:Pe.shotCount+1,shotDurations:[...Pe.shotDurations,Math.max(0,fe)],shotEvents:[...Pe.shotEvents||[],We]})}),oe.current=0,setTimeout(()=>{Xe(),T(g),N(!0),J.current=Date.now()},1500)}else Q(fe=>F(D({},fe),{timeouts:fe.timeouts+1})),N(!1);return 0}return Y-1})},1e3):G.current&&clearInterval(G.current),()=>{G.current&&clearInterval(G.current)}),[S,w,r,I,g,ze,it,Xe]);const me=o[a],re=c[f];r==="scotch-doubles"?re==null||re.players[m]:me==null||me.name;const Se=()=>{w===0&&(T(g),A(!1)),J.current===0&&(J.current=Date.now()),N(!0)},xe=()=>{J.current>0&&(oe.current+=Date.now()-J.current),J.current=0,N(!1)},ee=x.useCallback(()=>{const Y={gameMode:"paused",playerMode:r,players:o,currentPlayerIndex:a,duration:g,timeRemaining:w,isInExtension:E,soloAutoRestart:I,sessionStats:z,accumulatedShotTime:oe.current,teams:c,currentTeamIndex:f,currentPartnerIndex:m};localStorage.setItem(k0,JSON.stringify(Y))},[r,o,a,g,w,E,I,z,c,f,m]),ve=()=>{localStorage.removeItem(k0)},De=()=>{J.current>0&&(oe.current+=Date.now()-J.current),J.current=0,N(!1),n("paused")};x.useEffect(()=>{e==="paused"&&ee()},[e,ee]);const ot=()=>{n("playing"),w>0&&(J.current=Date.now(),N(!0))},st=()=>{N(!1),n("paused"),ee(),t("/")};x.useEffect(()=>{const Y=()=>{document.hidden&&e==="playing"&&S&&(J.current>0&&(oe.current+=Date.now()-J.current),J.current=0,N(!1),n("paused"))};return document.addEventListener("visibilitychange",Y),()=>{document.removeEventListener("visibilitychange",Y)}},[e,S]);const Lt=()=>{var fe;let Y=oe.current/1e3;if(J.current>0&&(Y+=(Date.now()-J.current)/1e3),Y>0){be.current++,Dt.trackSkillMetric("tempo","shot_time",Y);const Pe={shotIndex:z.shotCount,duration:Math.max(0,Y),playerName:r==="scotch-doubles"?(re==null?void 0:re.players[m])||"Unknown":r==="two-player"?(me==null?void 0:me.name)||"Unknown":((fe=o[0])==null?void 0:fe.name)||"Player 1",teamName:r==="scotch-doubles"?re==null?void 0:re.name:void 0,timestamp:Date.now()};Q(We=>F(D({},We),{shotCount:We.shotCount+1,shotDurations:[...We.shotDurations,Math.max(0,Y)],shotEvents:[...We.shotEvents||[],Pe]}))}N(!1),T(g),A(!1),oe.current=0,r==="two-player"?l(Pe=>(Pe+1)%o.length):r==="scotch-doubles"&&(h(Pe=>(Pe+1)%c.length),v(0)),J.current=Date.now(),setTimeout(()=>N(!0),100)},Ft=()=>{let Y=oe.current/1e3;if(J.current>0&&(Y+=(Date.now()-J.current)/1e3),Y>0){be.current++,Dt.trackSkillMetric("tempo","shot_time",Y);const fe={shotIndex:z.shotCount,duration:Math.max(0,Y),playerName:(re==null?void 0:re.players[m])||"Unknown",teamName:re==null?void 0:re.name,timestamp:Date.now()};Q(Pe=>F(D({},Pe),{shotCount:Pe.shotCount+1,shotDurations:[...Pe.shotDurations,Math.max(0,Y)],shotEvents:[...Pe.shotEvents||[],fe]}))}N(!1),T(g),A(!1),oe.current=0,v(fe=>(fe+1)%2),J.current=Date.now(),setTimeout(()=>N(!0),100)},wt=()=>{r==="scotch-doubles"?re&&re.extensions<C&&(T(Y=>Y+j),A(!0),d(Y=>Y.map((fe,Pe)=>Pe===f?F(D({},fe),{extensions:fe.extensions+1}):fe)),Q(Y=>F(D({},Y),{totalExtensions:Y.totalExtensions+1}))):me&&me.extensions<C&&(T(Y=>Y+j),A(!0),s(Y=>Y.map((fe,Pe)=>Pe===a?F(D({},fe),{extensions:fe.extensions+1}):fe)),Q(Y=>F(D({},Y),{totalExtensions:Y.totalExtensions+1})))},kt=Y=>{const fe=localStorage.getItem(sU),Pe=fe?JSON.parse(fe):[],We={id:Date.now().toString(),date:new Date().toISOString(),stats:Y};Pe.unshift(We),Pe.length>20&&Pe.pop(),localStorage.setItem(sU,JSON.stringify(Pe))},_n=()=>{var Pe;N(!1),ve();const Y=F(D({},z),{endTime:Date.now(),duration:g,playerMode:r,playerNames:o.map(We=>We.name)});let fe=oe.current/1e3;if(J.current>0&&(fe+=(Date.now()-J.current)/1e3),fe>0&&w<g&&w>0){Y.shotDurations=[...Y.shotDurations,Math.max(0,fe)],Y.shotCount+=1;const We={shotIndex:Y.shotCount-1,duration:Math.max(0,fe),playerName:r==="scotch-doubles"?(re==null?void 0:re.players[m])||"Unknown":r==="two-player"?(me==null?void 0:me.name)||"Unknown":((Pe=o[0])==null?void 0:Pe.name)||"Player 1",teamName:r==="scotch-doubles"?re==null?void 0:re.name:void 0,timestamp:Date.now()};Y.shotEvents=[...Y.shotEvents||[],We]}oe.current=0,J.current=0,Q(Y),kt(Y),n("summary")},je=()=>{ve(),T(g),A(!1),s(Y=>Y.map(fe=>F(D({},fe),{extensions:0}))),d(Y=>Y.map(fe=>F(D({},fe),{extensions:0}))),l(0),h(0),v(0),Q({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:0,duration:30,playerMode:"solo",playerNames:["Player 1"]}),J.current=0,oe.current=0,n("setup")},Ot=Y=>{y(Y),T(Y),_(Y)},$r=()=>{y(b),T(b)},rn=()=>{var fe,Pe,We,Rt,Un,He,gt,Mn,Dn,Ro,Pi,ii;ve(),be.current=0,r==="two-player"?s([{name:((fe=o[0])==null?void 0:fe.name)||"Player 1",extensions:0},{name:((Pe=o[1])==null?void 0:Pe.name)||"Player 2",extensions:0}]):r==="scotch-doubles"?(d(oi=>oi.map(yl=>F(D({},yl),{extensions:0}))),h(0),v(0)):s([{name:((We=o[0])==null?void 0:We.name)||"Player 1",extensions:0}]),l(0),T(g),A(!1),oe.current=0;let Y;r==="scotch-doubles"?Y=[`${(Rt=c[0])==null?void 0:Rt.name}: ${(Un=c[0])==null?void 0:Un.players[0]}, ${(He=c[0])==null?void 0:He.players[1]}`,`${(gt=c[1])==null?void 0:gt.name}: ${(Mn=c[1])==null?void 0:Mn.players[0]}, ${(Dn=c[1])==null?void 0:Dn.players[1]}`]:r==="two-player"?Y=[((Ro=o[0])==null?void 0:Ro.name)||"Player 1",((Pi=o[1])==null?void 0:Pi.name)||"Player 2"]:Y=[((ii=o[0])==null?void 0:ii.name)||"Player 1"],Q({shotCount:0,totalExtensions:0,timeouts:0,shotDurations:[],shotEvents:[],startTime:Date.now(),duration:g,playerMode:r,playerNames:Y}),J.current=Date.now(),n("playing")},Gr=(Y,fe)=>{s(Pe=>{const We=[...Pe];return We[Y]||(We[Y]={name:"",extensions:0}),We[Y]=F(D({},We[Y]),{name:fe}),We})},Ti=(Y,fe)=>{d(Pe=>{const We=[...Pe];return We[Y]=F(D({},We[Y]),{name:fe}),We})},mr=(Y,fe,Pe)=>{d(We=>{const Rt=[...We],Un=[...Rt[Y].players];return Un[fe]=Pe,Rt[Y]=F(D({},Rt[Y]),{players:Un}),Rt})},Kr=()=>{localStorage.setItem(oU,"true"),H(!1),W(1)},ro=()=>z.shotDurations.length===0?0:z.shotDurations.reduce((fe,Pe)=>fe+Pe,0)/z.shotDurations.length,Zt=Y=>{const fe=Math.floor(Y/60),Pe=Math.floor(Y%60);return fe>0?`${fe}m ${Pe}s`:`${Pe.toFixed(1)}s`},Cn=u.jsx(Wi,{open:R,onOpenChange:Y=>{H(Y),Y||W(1)},children:u.jsxs(gi,{className:"max-w-md",children:[u.jsxs(yi,{children:[u.jsx(vi,{children:"Welcome to CueMaster: Tempo"}),u.jsx(oc,{className:"sr-only",children:"Shot clock tutorial with game modes, controls, and audio cues"})]}),u.jsxs("div",{className:"space-y-4",children:[B===1&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"1) Game Modes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Shot Clock helps maintain game pace during practice or competitive play."}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Solo Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Practice your timing with continuous countdown and interval chimes"})]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold text-foreground",children:"Two-Player Mode:"})," ",u.jsx("span",{className:"text-muted-foreground",children:"Alternate between players, each with their own extension bank"})]})]})]}),B===2&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"2) Controls During Play"}),u.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(lh,{className:"w-4 h-4 text-primary"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Next Shot:"})," Reset clock for next shot (switches player in 2P mode)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold text-primary",children:"+15s"}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Extension:"})," Add 15 seconds (max 3 per player)"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-destructive/20 rounded flex items-center justify-center flex-shrink-0",children:u.jsx(zg,{className:"w-4 h-4 text-destructive"})}),u.jsxs("span",{children:[u.jsx("strong",{className:"text-foreground",children:"Stop:"})," End the game and view session stats"]})]})]})]}),B===3&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:"3) Visual & Audio Cues"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{children:["Background changes from ",u.jsx("span",{className:"text-green-500 font-semibold",children:"green"}),"  ",u.jsx("span",{className:"text-yellow-500 font-semibold",children:"yellow"}),"  ",u.jsx("span",{className:"text-orange-500 font-semibold",children:"orange"}),"  ",u.jsx("span",{className:"text-red-500 font-semibold",children:"red"})]}),u.jsx("li",{children:"Warning beeps in the final 5 seconds"}),u.jsx("li",{children:"Triple chime when time expires"}),u.jsx("li",{children:"In solo mode with auto-restart, a double chime signals the interval"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(he,{variant:"outline",size:"sm",onClick:()=>W(Y=>Math.max(1,Y-1)),disabled:B===1,children:"Back"}),u.jsx(he,{variant:"outline",size:"sm",onClick:()=>W(Y=>Math.min(3,Y+1)),disabled:B===3,children:"Next"})]}),u.jsx("div",{className:"flex gap-1",children:[1,2,3].map(Y=>u.jsx("div",{className:`w-2 h-2 rounded-full ${Y===B?"bg-primary":"bg-muted"}`},Y))}),u.jsx(he,{size:"sm",onClick:Kr,"data-testid":"button-complete-tutorial",children:B===3?"Finish":"Skip"})]})]})});if(e==="summary"){const Y=ro(),fe=z.endTime?(z.endTime-z.startTime)/1e3:0;return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:je,"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Session Summary"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Ke,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:u.jsx(w1,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Session Complete"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:z.playerMode==="two-player"?z.playerNames.join(" vs "):z.playerNames[0]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(E1,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Shot Time"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-avg-duration",children:Zt(Y)})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(lh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Shots"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-shot-count",children:z.shotCount})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(oh,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Extensions"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-extensions-count",children:z.totalExtensions})]}),u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(T1,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeouts"})]}),u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-timeouts",children:z.timeouts})]})]})]}),u.jsxs(Ke,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Session Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shot Clock Duration"}),u.jsxs("span",{className:"font-medium",children:[z.duration,"s"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Session Time"}),u.jsx("span",{className:"font-medium",children:Zt(fe)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Game Mode"}),u.jsx("span",{className:"font-medium capitalize",children:z.playerMode.replace("-"," ")})]})]})]}),z.shotEvents&&z.shotEvents.length>0&&(()=>{const Pe=z.shotEvents.reduce((He,gt)=>(He[gt.playerName]||(He[gt.playerName]={shots:[],total:0,teamName:gt.teamName}),He[gt.playerName].shots.push(gt),He[gt.playerName].total+=gt.duration,He),{}),We=z.shotEvents.reduce((He,gt)=>(gt.teamName&&(He[gt.teamName]||(He[gt.teamName]={shots:[],total:0}),He[gt.teamName].shots.push(gt),He[gt.teamName].total+=gt.duration),He),{}),Rt=Object.keys(Pe),Un=Object.keys(We);return u.jsxs(u.Fragment,{children:[Un.length>0&&u.jsxs(Ke,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Team Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:Un.map(He=>{const gt=We[He],Mn=gt.total/gt.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-medium text-foreground",children:He}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Zt(Mn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",gt.shots.length," shots)"]})]})]},He)})})]}),u.jsxs(Ke,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Player Averages"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:Rt.map(He=>{const gt=Pe[He],Mn=gt.total/gt.shots.length;return u.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-foreground",children:He}),gt.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",gt.teamName,")"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-lg font-bold text-primary",children:Zt(Mn)}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",gt.shots.length," shots)"]})]})]},He)})})]}),u.jsxs(Ke,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Shot Duration Over Time"}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:Rt.map(He=>{const gt=Pe[He],Mn=gt.shots.map((Dn,Ro)=>({shot:Ro+1,duration:parseFloat(Dn.duration.toFixed(1))}));return u.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(fk,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"font-medium text-foreground",children:He}),gt.teamName&&u.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",gt.teamName,")"]})]}),u.jsx("div",{className:"h-40",children:u.jsx(Dye,{width:"100%",height:"100%",children:u.jsxs(RCe,{data:Mn,children:[u.jsx(T0,{dataKey:"shot",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),u.jsx(A0,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:Dn=>`${Dn}s`}),u.jsx(ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelFormatter:Dn=>`Shot ${Dn}`,formatter:Dn=>[`${Dn}s`,"Duration"]}),u.jsx(rm,{type:"monotone",dataKey:"duration",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:3},activeDot:{r:5}})]})})})]},He)})})]})]})})(),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Session saved to history"}),u.jsxs(he,{onClick:je,className:"w-full",size:"lg","data-testid":"button-new-session",children:[u.jsx(ah,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})})]})}if(e==="paused")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:ot,"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Game Paused"})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:u.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[u.jsxs(Ke,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(dk,{className:"w-8 h-8 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Timer Paused"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Time remaining: ",u.jsxs("span",{className:"font-mono font-bold text-foreground",children:[w,"s"]})]}),u.jsx("div",{className:"bg-muted/30 p-4 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Shots"}),u.jsx("p",{className:"font-bold text-lg",children:z.shotCount})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Extensions"}),u.jsx("p",{className:"font-bold text-lg",children:z.totalExtensions})]})]})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session is preserved. Resume to continue or return to the main menu."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(he,{onClick:ot,className:"w-full",size:"lg","data-testid":"button-resume",children:[u.jsx(ah,{className:"w-5 h-5 mr-2"}),"Resume Game"]}),u.jsxs(he,{onClick:st,variant:"outline",className:"w-full",size:"lg","data-testid":"button-return-menu",children:[u.jsx(PW,{className:"w-5 h-5 mr-2"}),"Return to Main Menu"]}),u.jsxs(he,{onClick:_n,variant:"destructive",className:"w-full",size:"lg","data-testid":"button-end-session",children:[u.jsx(zg,{className:"w-5 h-5 mr-2"}),"End Session"]})]})]})})]});if(e==="setup")return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Shot Clock Setup"}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>H(!0),"data-testid":"button-tutorial",children:u.jsx(Bg,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-6 overflow-auto",children:u.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[u.jsxs(Ke,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Game Mode"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(he,{variant:r==="solo"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("solo"),"data-testid":"button-mode-solo",children:[u.jsx(fk,{className:"w-4 h-4 mr-2"}),"Solo"]}),u.jsxs(he,{variant:r==="two-player"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("two-player"),"data-testid":"button-mode-two-player",children:[u.jsx(pu,{className:"w-4 h-4 mr-2"}),"Two Players"]}),u.jsxs(pre,{isLocked:!0,variant:r==="scotch-doubles"?"default":"outline",className:"flex-1 min-w-[100px]",onClick:()=>i("scotch-doubles"),"data-testid":"button-mode-scotch-doubles",children:[u.jsx(pu,{className:"w-4 h-4 mr-2"}),"Scotch Doubles"]})]}),r==="scotch-doubles"&&u.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:`Partners alternate shots within their team's turn. Use "Next Shot" to switch to the other team.`})]}),r==="scotch-doubles"?u.jsxs(Ke,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams & Players"}),u.jsx("div",{className:"space-y-6",children:[0,1].map(Y=>{var fe,Pe,We;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs(xn,{htmlFor:`team${Y+1}-name`,children:["Team ",Y+1," Name"]}),u.jsx(fr,{id:`team${Y+1}-name`,value:((fe=c[Y])==null?void 0:fe.name)||"",onChange:Rt=>Ti(Y,Rt.target.value),placeholder:`Team ${Y+1}`,className:"mt-1","data-testid":`input-team${Y+1}-name`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx(xn,{htmlFor:`team${Y+1}-player1`,children:"Partner 1"}),u.jsx(fr,{id:`team${Y+1}-player1`,value:((Pe=c[Y])==null?void 0:Pe.players[0])||"",onChange:Rt=>mr(Y,0,Rt.target.value),placeholder:"Partner 1",className:"mt-1","data-testid":`input-team${Y+1}-player1`})]}),u.jsxs("div",{children:[u.jsx(xn,{htmlFor:`team${Y+1}-player2`,children:"Partner 2"}),u.jsx(fr,{id:`team${Y+1}-player2`,value:((We=c[Y])==null?void 0:We.players[1])||"",onChange:Rt=>mr(Y,1,Rt.target.value),placeholder:"Partner 2",className:"mt-1","data-testid":`input-team${Y+1}-player2`})]})]})]},Y)})})]}):u.jsxs(Ke,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Player Names"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(xn,{htmlFor:"player1-name",children:r==="solo"?"Your Name":"Player 1"}),u.jsx(fr,{id:"player1-name",value:((yn=o[0])==null?void 0:yn.name)||"",onChange:Y=>Gr(0,Y.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player1-name"})]}),r==="two-player"&&u.jsxs("div",{children:[u.jsx(xn,{htmlFor:"player2-name",children:"Player 2"}),u.jsx(fr,{id:"player2-name",value:((Yt=o[1])==null?void 0:Yt.name)||"",onChange:Y=>Gr(1,Y.target.value),placeholder:"Enter name",className:"mt-1","data-testid":"input-player2-name"})]})]})]}),u.jsxs(Ke,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:[30,45,60,90].map(Y=>u.jsxs(he,{variant:g===Y?"default":"outline",onClick:()=>Ot(Y),"data-testid":`button-preset-${Y}`,children:[Y,"s"]},Y))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(fr,{type:"number",min:"5",max:"300",value:b,onChange:Y=>_(parseInt(Y.target.value)||30),className:"flex-1","data-testid":"input-custom-duration"}),u.jsx(he,{onClick:$r,variant:"outline","data-testid":"button-apply-custom",children:"Apply"})]})]}),r==="solo"&&u.jsx(Ke,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Continuous Play"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-chime at each interval for timing practice"})]}),u.jsx(Hi,{checked:I,onCheckedChange:O,"data-testid":"switch-auto-restart"})]})}),u.jsxs(he,{onClick:rn,className:"w-full",size:"lg","data-testid":"button-start-game",children:[u.jsx(ah,{className:"w-5 h-5 mr-2"}),"Start Game"]})]})}),Cn]});const Et=()=>{w===0?(T(g),A(!1),J.current=Date.now(),N(!0)):S?xe():Se()};return u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-[2] relative min-h-0",children:[u.jsx(MCe,{seconds:w,totalSeconds:g,playerName:r==="solo"?me==null?void 0:me.name:void 0,isExtension:E,isRunning:S,onClick:Et}),u.jsxs("div",{className:"absolute top-2 left-2 right-2 flex justify-between items-start pointer-events-none",children:[u.jsxs("div",{className:"bg-black/30 px-2 py-1 rounded text-white text-xs font-mono","data-testid":"text-shot-counter",children:["Shot ",z.shotCount+1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(he,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto",onClick:De,"data-testid":"button-pause-menu",children:u.jsx(CW,{className:"w-5 h-5"})}),u.jsxs(Wi,{children:[u.jsx(Ste,{asChild:!0,children:u.jsx(he,{variant:"ghost",size:"icon",className:"bg-black/30 hover:bg-black/50 text-white pointer-events-auto","data-testid":"button-settings",children:u.jsx(S1,{className:"w-5 h-5"})})}),u.jsxs(gi,{children:[u.jsx(yi,{children:u.jsx(vi,{children:"Quick Settings"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(xn,{children:"Shot Duration"}),u.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:[30,45,60].map(Y=>u.jsxs(he,{variant:g===Y?"default":"outline",size:"sm",onClick:()=>{Ot(Y),S||T(Y)},"data-testid":`button-quick-${Y}`,children:[Y,"s"]},Y))})]}),r==="solo"&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(xn,{children:"Continuous Play"}),u.jsx(Hi,{checked:I,onCheckedChange:O,"data-testid":"switch-continuous-play"})]})]})]})]})]})]}),r==="two-player"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"player-toggle-container",children:u.jsx("div",{className:"w-3/4 mx-auto flex items-center justify-center pointer-events-auto bg-neutral-800/50 rounded-lg overflow-hidden",children:o.map((Y,fe)=>u.jsx("button",{onClick:()=>{a!==fe&&(l(fe),T(g),A(!1),Xe())},className:`flex-1 px-4 py-3 text-base font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${a===fe?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`player-toggle-${fe+1}`,children:Y.name},fe))})}),r==="scotch-doubles"&&u.jsx("div",{className:"absolute top-14 left-0 right-0 px-4 pointer-events-none","data-testid":"team-toggle-container",children:u.jsxs("div",{className:"w-full mx-auto flex flex-col items-center gap-2 pointer-events-auto",children:[u.jsx("div",{className:"flex items-center justify-center bg-neutral-800/50 rounded-lg overflow-hidden w-3/4",children:c.map((Y,fe)=>u.jsx("button",{onClick:()=>{f!==fe&&(h(fe),v(0),T(g),A(!1),Xe())},className:`flex-1 px-4 py-2 text-sm font-bold uppercase tracking-widest transition-all duration-200 rounded-lg ${f===fe?"bg-amber-400 text-neutral-900 shadow-lg":"bg-transparent text-neutral-400 hover:text-neutral-200"}`,"data-testid":`team-toggle-${fe+1}`,children:Y.name},fe))}),u.jsxs("div",{className:"text-white text-center text-lg font-semibold bg-black/40 px-4 py-1 rounded-full","data-testid":"text-current-shooter",children:["Shooting: ",re==null?void 0:re.players[m]]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-3 py-4 pointer-events-none",children:u.jsxs("button",{onClick:wt,disabled:r==="scotch-doubles"?((re==null?void 0:re.extensions)||0)>=C||w===0:((me==null?void 0:me.extensions)||0)>=C||w===0,className:"w-full py-4 bg-black/50 backdrop-blur-sm hover:bg-black/60 active:bg-black/70 disabled:opacity-40 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-3 pointer-events-auto transition-colors focus:outline-none","data-testid":"button-extension",children:[u.jsxs("span",{className:"text-white font-bold text-lg",children:["+",j,"s EXTENSION"]}),u.jsxs("span",{className:"text-white/70 font-mono text-base","data-testid":"text-extensions",children:["(",r==="scotch-doubles"?(re==null?void 0:re.extensions)||0:(me==null?void 0:me.extensions)||0,"/",C," used)"]})]})})]}),r==="scotch-doubles"?u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:_n,className:"w-1/5 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(zg,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),u.jsx("span",{className:"text-xs md:text-base font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Ft,className:"w-2/5 bg-amber-500 hover:bg-amber-500/90 active:bg-amber-500/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-next-partner",children:[u.jsx(pu,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-sm md:text-xl font-bold text-white tracking-wide",children:"PARTNER"}),u.jsx("span",{className:"text-xs text-white/70",children:"Same Team"})]}),u.jsxs("button",{onClick:Lt,className:"w-2/5 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(lh,{className:"w-10 h-10 md:w-12 md:h-12 text-white"}),u.jsx("span",{className:"text-lg md:text-2xl font-bold text-white tracking-wide",children:"NEXT"}),u.jsx("span",{className:"text-xs text-white/70",children:"Switch Team"})]})]}):u.jsxs("div",{className:"flex-1 min-h-[33vh] flex",children:[u.jsxs("button",{onClick:_n,className:"w-1/4 bg-destructive hover:bg-destructive/90 active:bg-destructive/80 transition-colors flex flex-col items-center justify-center gap-1 focus:outline-none border-r border-white/10","data-testid":"button-stop-game",children:[u.jsx(zg,{className:"w-8 h-8 md:w-10 md:h-10 text-white"}),u.jsx("span",{className:"text-base md:text-xl font-bold text-white tracking-wide",children:"STOP"})]}),u.jsxs("button",{onClick:Lt,className:"w-3/4 bg-primary hover:bg-primary/90 active:bg-primary/80 transition-colors flex flex-col items-center justify-center gap-2 focus:outline-none","data-testid":"button-next-shot",children:[u.jsx(lh,{className:"w-12 h-12 md:w-16 md:h-16 text-white"}),u.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tracking-wide",children:"NEXT SHOT"})]})]})]})}function $Ce({tiltX:t,tiltY:e,isCalibrating:n=!1}){const i=Math.max(-40,Math.min(40,t/5*40)),o=Math.max(-40,Math.min(40,e/5*40)),s=Math.sqrt(t*t+e*e),a=s<.5;return u.jsxs("div",{className:"flex flex-col items-center gap-6",children:[u.jsxs("div",{className:"relative w-64 h-64 rounded-full border-4 border-foreground bg-card","data-testid":"gauge-bubble-level",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-px h-full bg-muted"}),u.jsx("div",{className:"absolute w-full h-px bg-muted"})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-lg transition-all duration-150",style:{transform:`translate(${i}px, ${o}px)`,opacity:n?.5:1}})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:`w-8 h-8 rounded-full border-2 ${a?"border-green-500":"border-muted"}`})})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-3xl font-mono font-bold text-foreground","data-testid":"text-tilt-value",children:[s.toFixed(2),""]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:a?"Level":"Not Level"})]})]})}function aU({open:t,onComplete:e,pages:n,toolName:r}){const[i,o]=x.useState(0),s=x.useRef(0),a=x.useRef(0),l=n[i],c=h=>{s.current=h.touches[0].clientX,a.current=h.touches[0].clientY},d=h=>{const m=h.changedTouches[0].clientX,v=h.changedTouches[0].clientY,g=m-s.current,y=v-a.current;Math.abs(g)>Math.abs(y)&&Math.abs(g)>50&&(g>0&&i>0?o(b=>b-1):g<0&&i<n.length-1&&o(b=>b+1))},f=()=>{o(0),e()};return u.jsx(Wi,{open:t,onOpenChange:f,children:u.jsx(gi,{className:"max-w-md [&>button]:hidden",onTouchStart:c,onTouchEnd:d,children:u.jsxs("div",{className:"py-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),u.jsx("h2",{className:"text-xl font-bold",children:l.title})]}),u.jsx(he,{variant:"ghost",size:"icon",onClick:f,className:"h-8 w-8","data-testid":"button-close-tutorial",children:u.jsx(uh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"min-h-[200px]",children:l.content}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsxs(he,{variant:"ghost",onClick:()=>o(h=>Math.max(0,h-1)),disabled:i===0,"data-testid":"button-tutorial-prev",children:[u.jsx(wW,{className:"w-4 h-4 mr-1"}),"Back"]}),u.jsx("div",{className:"flex gap-2",children:n.map((h,m)=>u.jsx("button",{onClick:()=>o(m),className:`h-2 w-2 rounded-full transition-colors ${m===i?"bg-primary":"bg-muted hover:bg-muted-foreground/30"}`,"data-testid":`tutorial-indicator-${m}`},m))}),i<n.length-1?u.jsxs(he,{onClick:()=>o(h=>Math.min(n.length-1,h+1)),"data-testid":"button-tutorial-next",children:["Next",u.jsx(sk,{className:"w-4 h-4 ml-1"})]}):u.jsx(he,{onClick:f,"data-testid":"button-tutorial-done",children:"Got It"})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Swipe left/right to navigate"})]})})})}const lU="tableLevel_tutorial_seen";function LCe(){const[,t]=Ia(),{toast:e}=fu(),[n,r]=x.useState(0),[i,o]=x.useState(0),[s,a]=x.useState({x:0,y:0}),[l,c]=x.useState("home"),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,g]=x.useState(!1),[y,b]=x.useState(null),_=x.useRef(null),w=x.useRef(null),T=[{title:"How It Works",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"The Table Level Gauge uses your device's orientation sensors to detect table tilt."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Requirements:"})," Works best on mobile devices or tablets with gyroscope/accelerometer sensors."]})}),u.jsx("p",{className:"mt-3",children:"The bubble indicator shows deviation from level - just like a carpenter's level but in all directions!"})]})},{title:"Calibration",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"For accurate readings, calibrate on a known level surface:"}),u.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Place your device flat on a surface you know is level"}),u.jsxs("li",{children:["Tap ",u.jsx("strong",{className:"text-foreground",children:'"Calibrate Current Preset"'})]}),u.jsx("li",{children:"Hold still for 2 seconds while it samples"}),u.jsx("li",{children:"The bubble will now show deviation from this reference"})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Use a known-level surface like a properly installed countertop for initial calibration."]})})]})},{title:"Presets",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Save different calibrations for different locations:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Home:"})," Your home practice table"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"League:"})," Your regular league venue"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Tournament:"})," Competition tables"]})]}),u.jsx("p",{className:"mt-3",children:"Tap a preset to load it, then calibrate and save to store your settings."}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Usage:"})," Place your device on the table surface. A centered bubble means the table is level relative to your calibrated reference."]})})]})}];x.useEffect(()=>(Dt.startSession("truelevel"),()=>{Dt.endSession()}),[]),x.useEffect(()=>{localStorage.getItem(lU)||g(!0)},[]);const S=()=>{localStorage.setItem(lU,"true"),g(!1)};x.useEffect(()=>{V(this,null,function*(){if(typeof DeviceOrientationEvent.requestPermission=="function")try{const j=yield DeviceOrientationEvent.requestPermission();m(j==="granted")}catch(j){e({title:"Permission denied",description:"Device orientation access is required for this feature",variant:"destructive"})}else m(!0)})},[e]),x.useEffect(()=>{if(!h)return;let C=!1;const j=I=>{I.beta!==null&&I.gamma!==null&&(C||(C=!0,b(!0),_.current&&clearTimeout(_.current)),w.current={beta:I.beta,gamma:I.gamma},r(I.gamma-s.x),o(I.beta-s.y-90))};return window.addEventListener("deviceorientation",j),_.current=setTimeout(()=>{C||(b(!1),e({title:"No orientation sensor detected",description:"This feature requires a device with gyroscope/accelerometer (mobile phone or tablet).",variant:"destructive"}))},2e3),()=>{window.removeEventListener("deviceorientation",j),_.current&&clearTimeout(_.current)}},[s,h,e]);const N=()=>{if(y===!1||y===null){e({title:"Cannot calibrate",description:"No orientation sensor detected. Please use a mobile device with gyroscope support.",variant:"destructive"});return}f(!0);const C=[];let j=0;const I=10,O=()=>{if(w.current&&(C.push({x:w.current.gamma,y:w.current.beta-90}),j++,j>=I)){const R=C.reduce((B,W)=>B+W.x,0)/C.length,H=C.reduce((B,W)=>B+W.y,0)/C.length;a({x:R,y:H}),f(!1),localStorage.setItem(`tableLevel_${l}`,JSON.stringify({x:R,y:H})),Dt.trackSkillMetric("truelevel","calibration",1,{preset:l}),e({title:"Calibration complete",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`});return}j<I&&setTimeout(O,150)};setTimeout(()=>{if(!w.current){f(!1),e({title:"Calibration failed",description:"No sensor data available. Make sure your device has orientation sensors and they are enabled.",variant:"destructive"});return}O()},300)},E=C=>{c(C);const j=localStorage.getItem(`tableLevel_${C}`);j&&(a(JSON.parse(j)),e({title:"Preset loaded",description:`${C.charAt(0).toUpperCase()+C.slice(1)} calibration applied`}))},A=()=>{localStorage.setItem(`tableLevel_${l}`,JSON.stringify(s)),e({title:"Preset saved",description:`${l.charAt(0).toUpperCase()+l.slice(1)} calibration saved`})};return h?u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(aU,{open:v,onComplete:S,pages:T,toolName:"Table Level Gauge"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground flex-1",children:"Table Level Gauge"}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>g(!0),"data-testid":"button-tutorial",children:u.jsx(Bg,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[y===!1&&u.jsx(Ke,{className:"p-4 border-destructive bg-destructive/10",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(T1,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-destructive mb-1",children:"No Orientation Sensor Detected"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This feature requires a device with gyroscope/accelerometer sensors (typically a smartphone or tablet)."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded",children:[u.jsx(LW,{className:"w-4 h-4"}),u.jsx("span",{children:"Open this page on your mobile device to use the level gauge"})]})]})]})}),y===null&&u.jsx(Ke,{className:"p-4 border-muted",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Detecting orientation sensors..."})]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx($Ce,{tiltX:n,tiltY:i,isCalibrating:d})}),u.jsxs(Ke,{className:"p-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Calibration Presets"}),u.jsx(pE,{isLocked:!0,featureName:"Calibration Presets",variant:"overlay",children:u.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[u.jsx(he,{variant:l==="home"?"default":"outline",onClick:()=>E("home"),"data-testid":"button-preset-home",children:"Home"}),u.jsx(he,{variant:l==="league"?"default":"outline",onClick:()=>E("league"),"data-testid":"button-preset-league",children:"League"}),u.jsx(he,{variant:l==="tournament"?"default":"outline",onClick:()=>E("tournament"),"data-testid":"button-preset-tournament",children:"Tournament"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(he,{className:"flex-1",onClick:N,disabled:d||y===!1,"data-testid":"button-calibrate",children:d?"Calibrating...":"Calibrate Current Preset"}),u.jsx(he,{variant:"outline",onClick:A,disabled:y===!1,"data-testid":"button-save-preset",children:"Save"})]})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Table Level Gauge"})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6",children:u.jsxs(Ke,{className:"p-6 max-w-md text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permission Required"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This feature requires access to your device's orientation sensors to measure table level."}),u.jsx(he,{onClick:()=>window.location.reload(),children:"Grant Permission"})]})})]})}var cU=["PageUp","PageDown"],uU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dU={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hd="Slider",[yA,FCe,VCe]=eh(Hd),[fU,WNe]=hi(Hd,[VCe]),[BCe,O0]=fU(Hd),hU=x.forwardRef((t,e)=>{const I=t,{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v}=I,g=X(I,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),y=x.useRef(new Set),b=x.useRef(0),w=s==="horizontal"?UCe:zCe,[T=[],S]=go({prop:d,defaultProp:c,onChange:O=>{var H;(H=[...y.current][b.current])==null||H.focus(),f(O)}}),N=x.useRef(T);function E(O){const R=KCe(T,O);j(O,R)}function A(O){j(O,b.current)}function C(){const O=N.current[b.current];T[b.current]!==O&&h(T)}function j(O,R,{commit:H}={commit:!1}){const B=JCe(o),W=ZCe(Math.round((O-r)/o)*o+r,B),G=Xh(W,[r,i]);S((U=[])=>{const z=qCe(U,G,R);if(QCe(z,l*o)){b.current=z.indexOf(G);const Q=String(z)!==String(U);return Q&&H&&h(z),Q?z:U}else return U})}return u.jsx(BCe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:T,orientation:s,form:v,children:u.jsx(yA.Provider,{scope:t.__scopeSlider,children:u.jsx(yA.Slot,{scope:t.__scopeSlider,children:u.jsx(w,F(D({"aria-disabled":a,"data-disabled":a?"":void 0},g),{ref:e,onPointerDown:Oe(g.onPointerDown,()=>{a||(N.current=T)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:E,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:C,onHomeKeyDown:()=>!a&&j(r,0,{commit:!0}),onEndKeyDown:()=>!a&&j(i,T.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:R})=>{if(!a){const W=cU.includes(O.key)||O.shiftKey&&uU.includes(O.key)?10:1,G=b.current,U=T[G],z=o*W*R;j(U+z,G,{commit:!0})}}}))})})})});hU.displayName=Hd;var[pU,mU]=fU(Hd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),UCe=x.forwardRef((t,e)=>{const w=t,{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c}=w,d=X(w,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[f,h]=x.useState(null),m=mt(e,T=>h(T)),v=x.useRef(void 0),g=Xu(i),y=g==="ltr",b=y&&!o||!y&&o;function _(T){const S=v.current||f.getBoundingClientRect(),N=[0,S.width],A=bA(N,b?[n,r]:[r,n]);return v.current=S,A(T-S.left)}return u.jsx(pU,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:u.jsx(gU,F(D({dir:g,"data-orientation":"horizontal"},d),{ref:m,style:F(D({},d.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:T=>{const S=_(T.clientX);s==null||s(S)},onSlideMove:T=>{const S=_(T.clientX);a==null||a(S)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:T=>{const N=dU[b?"from-left":"from-right"].includes(T.key);c==null||c({event:T,direction:N?-1:1})}}))})}),zCe=x.forwardRef((t,e)=>{const g=t,{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l}=g,c=X(g,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),d=x.useRef(null),f=mt(e,d),h=x.useRef(void 0),m=!i;function v(y){const b=h.current||d.current.getBoundingClientRect(),_=[0,b.height],T=bA(_,m?[r,n]:[n,r]);return h.current=b,T(y-b.top)}return u.jsx(pU,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:u.jsx(gU,F(D({"data-orientation":"vertical"},c),{ref:f,style:F(D({},c.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:y=>{const b=v(y.clientY);o==null||o(b)},onSlideMove:y=>{const b=v(y.clientY);s==null||s(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:y=>{const _=dU[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:_?-1:1})}}))})}),gU=x.forwardRef((t,e)=>{const f=t,{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l}=f,c=X(f,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),d=O0(Hd,n);return u.jsx(Ue.span,F(D({},c),{ref:e,onKeyDown:Oe(t.onKeyDown,h=>{h.key==="Home"?(s(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):cU.concat(uU).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Oe(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():r(h)}),onPointerMove:Oe(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Oe(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),o(h))})}))}),yU="SliderTrack",vU=x.forwardRef((t,e)=>{const o=t,{__scopeSlider:n}=o,r=X(o,["__scopeSlider"]),i=O0(yU,n);return u.jsx(Ue.span,F(D({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r),{ref:e}))});vU.displayName=yU;var vA="SliderRange",xU=x.forwardRef((t,e)=>{const h=t,{__scopeSlider:n}=h,r=X(h,["__scopeSlider"]),i=O0(vA,n),o=mU(vA,n),s=x.useRef(null),a=mt(e,s),l=i.values.length,c=i.values.map(m=>wU(m,i.min,i.max)),d=l>1?Math.min(...c):0,f=100-Math.max(...c);return u.jsx(Ue.span,F(D({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r),{ref:a,style:F(D({},t.style),{[o.startEdge]:d+"%",[o.endEdge]:f+"%"})}))});xU.displayName=vA;var xA="SliderThumb",bU=x.forwardRef((t,e)=>{const n=FCe(t.__scopeSlider),[r,i]=x.useState(null),o=mt(e,a=>i(a)),s=x.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(WCe,F(D({},t),{ref:o,index:s}))}),WCe=x.forwardRef((t,e)=>{const _=t,{__scopeSlider:n,index:r,name:i}=_,o=X(_,["__scopeSlider","index","name"]),s=O0(xA,n),a=mU(xA,n),[l,c]=x.useState(null),d=mt(e,w=>c(w)),f=l?s.form||!!l.closest("form"):!0,h=B1(l),m=s.values[r],v=m===void 0?0:wU(m,s.min,s.max),g=GCe(r,s.values.length),y=h==null?void 0:h[a.size],b=y?YCe(y,v,a.direction):0;return x.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[u.jsx(yA.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Ue.span,F(D({role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0},o),{ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})}))}),f&&u.jsx(HCe,{name:i!=null?i:s.name?s.name+(s.values.length>1?"[]":""):void 0,form:s.form,value:m},r)]})});bU.displayName=xA;var HCe=t=>{const o=t,{value:e}=o,n=X(o,["value"]),r=x.useRef(null),i=RS(e);return x.useEffect(()=>{const s=r.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&c){const d=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(d)}},[i,e]),u.jsx("input",F(D({style:{display:"none"}},n),{ref:r,defaultValue:e}))};function qCe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function wU(t,e,n){const o=100/(n-e)*(t-e);return Xh(o,[0,100])}function GCe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function KCe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function YCe(t,e,n){const r=t/2,o=bA([0,50],[0,r]);return(r-o(e)*n)*n}function XCe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function QCe(t,e){if(e>0){const n=XCe(t);return Math.min(...n)>=e}return!0}function bA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function JCe(t){return(String(t).split(".")[1]||"").length}function ZCe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var _U=hU,eNe=vU,tNe=xU,nNe=bU;const sm=x.forwardRef((r,n)=>{var i=r,{className:t}=i,e=X(i,["className"]);return u.jsxs(_U,F(D({ref:n,className:ft("relative flex w-full touch-none select-none items-center",t)},e),{children:[u.jsx(eNe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(tNe,{className:"absolute h-full bg-primary"})}),u.jsx(nNe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))});sm.displayName=_U.displayName;const SU="cueEmulator_tutorial_seen",Le=14,wn=1600,On=800,Fe=24,EU=.05,TU=.2,qd=28,rNe=(wn-Fe*2)/8,iNe=(On-Fe*2)/4,Ne=Array.from({length:9},(t,e)=>Fe+e*rNe),Ie=Array.from({length:5},(t,e)=>Fe+e*iNe),am=[{x:Fe,y:Fe,angle:Math.PI/4},{x:wn/2,y:Fe-2,angle:Math.PI/2},{x:wn-Fe,y:Fe,angle:3*Math.PI/4},{x:Fe,y:On-Fe,angle:-Math.PI/4},{x:wn/2,y:On-Fe+2,angle:-Math.PI/2},{x:wn-Fe,y:On-Fe,angle:-3*Math.PI/4}],oNe=qd+Le*.5,ko={1:{name:"Yellow",color:"#FDB515",solid:!0},2:{name:"Blue",color:"#003DA5",solid:!0},3:{name:"Red",color:"#DC143C",solid:!0},4:{name:"Purple",color:"#8A2BE2",solid:!0},5:{name:"Orange",color:"#FF8C00",solid:!0},6:{name:"Green",color:"#228B22",solid:!0},7:{name:"Maroon",color:"#800000",solid:!0},8:{name:"Black",color:"#000000",solid:!0},9:{name:"Yellow Stripe",color:"#FDB515",solid:!1},10:{name:"Blue Stripe",color:"#003DA5",solid:!1},11:{name:"Red Stripe",color:"#DC143C",solid:!1},12:{name:"Purple Stripe",color:"#8A2BE2",solid:!1},13:{name:"Orange Stripe",color:"#FF8C00",solid:!1},14:{name:"Green Stripe",color:"#228B22",solid:!1},15:{name:"Maroon Stripe",color:"#800000",solid:!1}},sNe={par2_01:{name:"Par 2 - Course 1",balls:[{x:Ne[6],y:Ie[2]},{x:Ne[1],y:Ie[3]}]},par2_02:{name:"Par 2 - Course 2",balls:[{x:Ne[7],y:Ie[1]},{x:Ne[1],y:Ie[2]}]},par2_03:{name:"Par 2 - Course 3",balls:[{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par3_01:{name:"Par 3 - Course 1",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par3_02:{name:"Par 3 - Course 2",balls:[{x:Ne[2],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[2],y:Ie[3]}]},par3_03:{name:"Par 3 - Course 3",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par3_04:{name:"Par 3 - Course 4",balls:[{x:Ne[7],y:Ie[1]},{x:Ne[6],y:Ie[2]},{x:Ne[5],y:Ie[2]}]},par4_01:{name:"Par 4 - Course 1",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par4_02:{name:"Par 4 - Course 2",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par4_03:{name:"Par 4 - Course 3",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]},par4_04:{name:"Par 4 - Course 4",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[6],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[2],y:Ie[2]}]},par4_05:{name:"Par 4 - Course 5",balls:[{x:Ne[3],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[5],y:Ie[1]},{x:Ne[4],y:Ie[1]}]},par5_01:{name:"Par 5 - Course 1",balls:[{x:Ne[1],y:Ie[1]},{x:Ne[7],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[1]}]},par5_02:{name:"Par 5 - Course 2",balls:[{x:Ne[4],y:Ie[1]},{x:Ne[3],y:Ie[2]},{x:Ne[4],y:Ie[2]},{x:Ne[5],y:Ie[2]},{x:Ne[4],y:Ie[3]}]},par5_03:{name:"Par 5 - Course 3",balls:[{x:Ne[3],y:Ie[1]},{x:Ne[5],y:Ie[1]},{x:Ne[4],y:Ie[2]},{x:Ne[3],y:Ie[3]},{x:Ne[5],y:Ie[3]}]},par6_01:{name:"Par 6 - Course 1",balls:[{x:Ne[1],y:Ie[1]},{x:Ne[7],y:Ie[1]},{x:Ne[1],y:Ie[2]},{x:Ne[7],y:Ie[2]},{x:Ne[1],y:Ie[3]},{x:Ne[7],y:Ie[3]}]}};function aNe(){var zt,Nn,In;const[,t]=Ia(),{toast:e}=fu(),n=x.useRef(null),[r,i]=x.useState(null),[o,s]=x.useState([]),[a,l]=x.useState(null),[c,d]=x.useState(null),[f,h]=x.useState(!0),[m,v]=x.useState(!1),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,T]=x.useState(null),[S,N]=x.useState(.5),[E,A]=x.useState(0),[C,j]=x.useState(0),[I,O]=x.useState(.5),[R,H]=x.useState(.5),[B,W]=x.useState("9ft"),[G,U]=x.useState(!1),[z,Q]=x.useState([]),[J,oe]=x.useState(""),[be,Me]=x.useState(null),[ze,it]=x.useState(null),[Xe,me]=x.useState(null),[re,Se]=x.useState([null,null,null]),[xe,ee]=x.useState(!1),ve=x.useRef(null),[De,ot]=x.useState(!1),[st,Lt]=x.useState(0),[Ft,wt]=x.useState([]),[kt,_n]=x.useState([]);x.useState(new Set);const je=x.useRef(null),Ot=x.useRef(0);x.useEffect(()=>(Dt.startSession("vectors"),()=>{Dt.endSession()}),[]);const $r=[{title:"Ball Placement",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Place balls on the table using the control buttons:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cue:"})," Place the white cue ball"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Solid:"})," Add solid balls 1-7 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Stripe:"})," Add stripe balls 9-15 in order"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Reposition:"})," Click and drag any ball to move it"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Clear:"})," Remove all balls from the table"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Tip:"})," Enable Snap-to-Grid for precise ball placement with a visible grid overlay."]})})]})},{title:"Aiming & Shooting",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Click and drag from the cue ball to aim your shot:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"White line:"})," Shows cue ball trajectory"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Ghost ball:"})," Dashed circle at contact point"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Colored lines:"})," Object ball trajectories after impact"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Red tangent:"})," Cue ball deflection after contact"]})]}),u.jsx("div",{className:"bg-primary/10 p-3 rounded-lg border border-primary/30 mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Cut Angle & Ball Hit:"})," Displayed below the table showing the angle and hit fraction (Full, 3/4, 1/2, 1/4, Thin)."]})})]})},{title:"Power & English",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Adjust shot power and spin for realistic physics:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Power Slider:"})," 0-100% shot power"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"English Box:"})," Click to apply side spin and follow/draw"]})]}),u.jsxs("p",{className:"mt-3",children:["Click ",u.jsx("strong",{children:'"Simulate Shot"'})," to execute your shot with physics simulation including:"]}),u.jsxs("ul",{className:"space-y-1 mt-2",children:[u.jsx("li",{children:"Ball-to-ball collisions with spin transfer"}),u.jsx("li",{children:"Rail bounces with cushion effects"}),u.jsx("li",{children:"Pocket detection for pocketed balls"})]})]})},{title:"Table Conditions",content:u.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[u.jsx("p",{children:"Customize the playing environment:"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cloth Speed:"})," Affects ball friction (slow to fast felt)"]}),u.jsxs("li",{children:[u.jsx("strong",{className:"text-foreground",children:"Cushion Quality:"})," Affects rail bounce (dead to lively)"]})]}),u.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mt-3",children:u.jsxs("p",{className:"text-xs",children:[u.jsx("strong",{children:"Presets:"})," Save your table conditions to 3 slots. Long-press a slot to save, tap to load."]})}),u.jsxs("p",{className:"mt-3",children:["Use ",u.jsx("strong",{children:"Practice Courses"})," to load preset ball configurations from Par 2 to Par 6 difficulty!"]})]})}];x.useEffect(()=>{localStorage.getItem(SU)||ee(!0)},[]);const rn=()=>{localStorage.setItem(SU,"true"),ee(!1)};x.useEffect(()=>{const M=localStorage.getItem("cueEmulator_tablePresets");if(M)try{const L=JSON.parse(M);Array.isArray(L)&&L.length===3&&Se(L)}catch(L){console.error("Failed to load table presets:",L)}},[]);const Gr=M=>{const L=[...re];L[M]={clothSpeed:I,cushionQuality:R,name:`Slot ${M+1}`},Se(L),localStorage.setItem("cueEmulator_tablePresets",JSON.stringify(L)),e({title:`Saved to Slot ${M+1}`,description:`Cloth: ${Math.round(I*100)}%, Cushion: ${Math.round(R*100)}%`})},Ti=M=>{const L=re[M];L?(O(L.clothSpeed),H(L.cushionQuality),e({title:`Loaded Slot ${M+1}`,description:`Cloth: ${Math.round(L.clothSpeed*100)}%, Cushion: ${Math.round(L.cushionQuality*100)}%`})):e({title:`Slot ${M+1} is empty`,description:"Long-press to save current settings"})},mr=M=>{ve.current=setTimeout(()=>{Gr(M),ve.current=null},600)},Kr=M=>{ve.current&&(clearTimeout(ve.current),ve.current=null,Ti(M))},ro=x.useCallback(()=>.85+.1*R,[R]),Zt=x.useCallback(()=>{const M={"7ft":{lengthInches:78,widthInches:39,label:"7ft (Bar Box)"},"8ft":{lengthInches:88,widthInches:44,label:"8ft (Standard)"},"9ft":{lengthInches:100,widthInches:50,label:"9ft (Professional)"},"10ft":{lengthInches:112,widthInches:56,label:"10ft (Snooker)"}};return M[B]||M["9ft"]},[B]),Cn=x.useCallback(()=>{const{lengthInches:L}=Zt();return L/100},[Zt]),Et=x.useCallback(()=>{const M=.3-.15*I,ne=1+(1-Cn())*.3;return M*ne},[I,Cn]),yn=x.useCallback((M,L)=>{for(const ne of am){const se=M-ne.x,te=L-ne.y;if(Math.sqrt(se*se+te*te)<oNe)return!0}return!1},[]),Yt=x.useCallback((M,L)=>{const ne=Fe+Le,se=wn-Fe-Le,te=Fe+Le,le=On-Fe-Le;let pe=Math.max(ne,Math.min(se,M)),Ee=Math.max(te,Math.min(le,L));if(yn(pe,Ee)){let Ae=pe,ye=Ee,et=1/0;for(const we of Ne)for(const nt of Ie)if(we>=ne&&we<=se&&nt>=te&&nt<=le&&!yn(we,nt)){const It=Math.sqrt(Rc(M-we,2)+Rc(L-nt,2));It<et&&(et=It,Ae=we,ye=nt)}return{x:Ae,y:ye}}return{x:pe,y:Ee}},[yn]),Y=x.useCallback((M,L)=>{const ne=Fe+Le,se=wn-Fe-Le,te=Fe+Le,le=On-Fe-Le;if(!f)return Yt(M,L);let pe=Ne[0],Ee=Ie[0],Ae=Math.abs(M-Ne[0]),ye=Math.abs(L-Ie[0]);for(const nt of Ne){const It=Math.abs(M-nt);It<Ae&&(Ae=It,pe=nt)}for(const nt of Ie){const It=Math.abs(L-nt);It<ye&&(ye=It,Ee=nt)}let et=Math.max(ne,Math.min(se,pe)),we=Math.max(te,Math.min(le,Ee));if(yn(et,we)){let nt=et,It=we,$n=1/0;for(const Wn of Ne)for(const gr of Ie)if(Wn>=ne&&Wn<=se&&gr>=te&&gr<=le&&!yn(Wn,gr)){const io=Math.sqrt(Rc(M-Wn,2)+Rc(L-gr,2));io<$n&&($n=io,nt=Wn,It=gr)}return{x:nt,y:It}}return{x:et,y:we}},[f,yn,Yt]),fe=x.useCallback(M=>{const L=o.map(ne=>ne.number).filter(ne=>ne!==void 0);if(M==="solid"){for(let ne=1;ne<=7;ne++)if(!L.includes(ne))return ne}else for(let ne=9;ne<=15;ne++)if(!L.includes(ne))return ne;return null},[o]),Pe=x.useCallback((M,L)=>{for(const ne of am){const se=M-ne.x,te=L-ne.y;if(Math.sqrt(se*se+te*te)<qd)return!0}return!1},[]),We=(M,L)=>{const ne=L.x-M.x,se=L.y-M.y;return Math.sqrt(ne*ne+se*se)},Rt=x.useCallback((M,L)=>{let ne=null,se=1/0;for(const te of am){const le=te.x-M.x,pe=te.y-M.y,Ee=Math.sqrt(le*le+pe*pe);if(Ee<Le*2)continue;const Ae=le/Ee,ye=pe/Ee,et=M.x-Ae*(Le*2),we=M.y-ye*(Le*2),nt=et-L.x,It=we-L.y,$n=Math.sqrt(nt*nt+It*It);if($n<Le*2)continue;const Wn=nt/$n,gr=It/$n,io=Wn*Ae+gr*ye,_l=Math.acos(Math.max(-1,Math.min(1,io)))*(180/Math.PI);_l<se&&(se=_l,ne={pocket:te,angle:_l,ghostBall:{x:et,y:we}})}return ne},[]),Un=x.useCallback((M,L)=>{if(o.length===0)return null;const ne=L.x-M.x,se=L.y-M.y,te=Math.sqrt(ne*ne+se*se);if(te<1)return null;const le=ne/te,pe=se/te;let Ee=null,Ae=1/0;for(const ye of o){const et=ye.x-M.x,we=ye.y-M.y,nt=Math.sqrt(et*et+we*we),It=et*le+we*pe;if(It<=0)continue;const $n=et-It*le,Wn=we-It*pe;Math.sqrt($n*$n+Wn*Wn)<Le*3&&nt<Ae&&(Ae=nt,Ee=ye)}return Ee},[o]),He=x.useCallback((M,L)=>{if(!m)return null;const ne=Un(M,L);if(!ne)return null;const se=Rt(ne,M);return!se||se.angle<15?null:se.ghostBall},[m,Un,Rt]),gt=x.useCallback(M=>{const L=ro(),ne=Fe,se=wn-Fe,te=Fe,le=On-Fe;let pe=!1;return M.x-Le<ne&&(M.x=ne+Le,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,pe=!0),M.x+Le>se&&(M.x=se-Le,M.vx=-M.vx*L,M.vy+=M.spinY*.3,M.spinX*=.7,pe=!0),M.y-Le<te&&(M.y=te+Le,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,pe=!0),M.y+Le>le&&(M.y=le-Le,M.vy=-M.vy*L,M.vx+=M.spinX*.3,M.spinY*=.7,pe=!0),pe},[ro]),Mn=x.useCallback((M,L,ne,se)=>{var la,D0,$0;if(!r)return null;const te=ne-M,le=se-L,pe=Math.sqrt(te*te+le*le);if(pe<10)return null;const Ee=te/pe,Ae=le/pe,et=S*15,we={x:r.x,y:r.y,vx:Ee*et,vy:Ae*et,spinX:E,spinY:C},nt=o.map(tn=>F(D({},tn),{vx:0,vy:0,spinX:0,spinY:0})),It=Et(),$n=300,Wn=[{x:we.x,y:we.y}],gr=nt.map(()=>[]);let io=null,_l=null,Sl=null,ms=null,um=null;const un=[we,...nt],gs=new Array(un.length).fill(!1),R0=tn=>{for(const sn of am){const ys=tn.x-sn.x,oo=tn.y-sn.y;if(Math.sqrt(ys*ys+oo*oo)<qd-Le*.3)return!0}return!1},M0=(tn,sn,ys)=>{const oo=sn.x-tn.x,so=sn.y-tn.y,Ni=Math.sqrt(oo*oo+so*so);if(Ni>=Le*2||Ni===0)return!1;const Qt=oo/Ni,yt=so/Ni,pt=-yt,Ii=Qt,Tt=tn.vx-sn.vx,Yr=tn.vy-sn.vy,ji=Tt*Qt+Yr*yt,of=Tt*pt+Yr*Ii;if(ji<=0)return!1;const dm=tn.spinX*.15*Math.abs(of)*.3;tn.vx-=ji*Qt,tn.vy-=ji*yt,sn.vx+=ji*Qt*.95,sn.vy+=ji*yt*.95,sn.vx+=dm*pt,sn.vy+=dm*Ii;const vs=Math.sqrt(Tt*Tt+Yr*Yr);if(ys===0&&vs>.1){const L0=Tt/vs,_A=Yr/vs,El=tn.spinY*.4;tn.spinY!==0&&(tn.vx+=L0*El*vs,tn.vy+=_A*El*vs),tn.spinY*=.3}sn.spinX+=tn.spinX*.2,sn.spinY+=tn.spinY*.2;const ki=Le*2-Ni;return tn.x-=ki/2*Qt,tn.y-=ki/2*yt,sn.x+=ki/2*Qt,sn.y+=ki/2*yt,!0};for(let tn=0;tn<$n;tn++){let sn=!1,ys=0;for(let Qt=0;Qt<un.length;Qt++){if(gs[Qt])continue;const yt=un[Qt],pt=Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy);pt>ys&&(ys=pt)}const oo=ys*EU*60,so=Math.max(1,Math.ceil(oo/(Le*.8))),Ni=EU/so;for(let Qt=0;Qt<so;Qt++){for(let yt=0;yt<un.length;yt++){if(gs[yt])continue;const pt=un[yt],Ii=Math.sqrt(pt.vx*pt.vx+pt.vy*pt.vy);if(Ii>TU){sn=!0;const Tt=It*9.8;if(pt.vx-=pt.vx/Ii*Tt*Ni,pt.vy-=pt.vy/Ii*Tt*Ni,pt.x+=pt.vx*Ni*60,pt.y+=pt.vy*Ni*60,gt(pt),R0(pt)){if(yt>0){const Yr=yt-1,ji=((la=o[Yr])==null?void 0:la.number)||1,of=((D0=ko[ji])==null?void 0:D0.color)||"#ffffff";gr[Yr].push({x:pt.x,y:pt.y,ballIndex:Yr,color:of})}gs[yt]=!0,pt.vx=0,pt.vy=0}}else pt.vx=0,pt.vy=0}for(let yt=0;yt<un.length;yt++)if(!gs[yt])for(let pt=yt+1;pt<un.length;pt++){if(gs[pt])continue;if(M0(un[yt],un[pt],yt)&&yt===0&&!io){io={x:un[pt].x,y:un[pt].y},um={x:un[0].x,y:un[0].y};const Tt=un[pt].x-un[0].x,Yr=un[pt].y-un[0].y,ji=Math.sqrt(Tt*Tt+Yr*Yr);ji>0&&(_l={x:un[0].x+Tt/ji*Le,y:un[0].y+Yr/ji*Le}),Sl={x:un[pt].vx,y:un[pt].vy},ms={x:un[0].vx,y:un[0].vy}}}}gs[0]||Wn.push({x:we.x,y:we.y});for(let Qt=0;Qt<nt.length;Qt++){if(gs[Qt+1])continue;const yt=nt[Qt];if(Math.sqrt(yt.vx*yt.vx+yt.vy*yt.vy)>TU*.5||gr[Qt].length>0){const Ii=o[Qt].number||1,Tt=(($0=ko[Ii])==null?void 0:$0.color)||"#ffffff";gr[Qt].push({x:yt.x,y:yt.y,ballIndex:Qt,color:Tt})}}if(!sn)break}return{path:Wn,hitBall:io,contactPoint:_l,objectBallDirection:Sl,cueBallDeflection:ms,cueBallPosAtContact:um,objectPaths:gr.filter(tn=>tn.length>=1)}},[r,o,S,E,C,Et,gt]),Dn=(M,L)=>{const ne=Math.sqrt(M.x*M.x+M.y*M.y),se=Math.sqrt(L.x*L.x+L.y*L.y);if(ne===0||se===0)return{angle:0,fraction:1};const te={x:M.x/ne,y:M.y/ne},le={x:L.x/se,y:L.y/se},pe=te.x*le.x+te.y*le.y,Ee=Math.max(-1,Math.min(1,pe)),Ae=Math.acos(Ee),ye=Ae*(180/Math.PI),et=Math.min(ye,90),we=Math.cos(Ae);return{angle:et,fraction:Math.max(0,we)}},Ro=M=>M>=.95?"Full":M>=.7?"3/4":M>=.45?"1/2":M>=.2?"1/4":"Thin",Pi=x.useCallback(M=>{if(M.fillStyle="#4a2c1a",M.fillRect(0,0,wn,On),M.fillStyle="#1a5f3f",M.fillRect(Fe,Fe,wn-Fe*2,On-Fe*2),M.strokeStyle="#2d4a3a",M.lineWidth=1,M.strokeRect(Fe,Fe,wn-Fe*2,On-Fe*2),f&&(a==="cue"||a==="solid"||a==="stripe"||a==="reposition")){M.strokeStyle="rgba(255, 255, 255, 0.12)",M.lineWidth=.5;const te=Fe,le=wn-Fe,pe=Fe,Ee=On-Fe;for(const Ae of Ne)Ae>te&&Ae<le&&(M.beginPath(),M.moveTo(Ae,pe),M.lineTo(Ae,Ee),M.stroke());for(const Ae of Ie)Ae>pe&&Ae<Ee&&(M.beginPath(),M.moveTo(te,Ae),M.lineTo(le,Ae),M.stroke());M.fillStyle="rgba(255, 255, 255, 0.15)";for(const Ae of Ne)for(const ye of Ie)Ae>te&&Ae<le&&ye>pe&&ye<Ee&&(yn(Ae,ye)||(M.beginPath(),M.arc(Ae,ye,2,0,Math.PI*2),M.fill()))}am.forEach(te=>{const le=M.createRadialGradient(te.x,te.y,0,te.x,te.y,qd);le.addColorStop(0,"#000000"),le.addColorStop(.7,"#1a1a1a"),le.addColorStop(1,"#333333"),M.fillStyle=le,M.beginPath(),M.arc(te.x,te.y,qd,0,Math.PI*2),M.fill(),M.strokeStyle="#2a2a2a",M.lineWidth=2,M.beginPath(),M.arc(te.x,te.y,qd-1,0,Math.PI*2),M.stroke()}),M.fillStyle="#ffffff";const L=3,ne=(wn-Fe*2)/8,se=(On-Fe*2)/4;for(let te=1;te<8;te++){if(te===4)continue;const le=Fe+te*ne;M.beginPath(),M.moveTo(le,Fe-5),M.lineTo(le+L,Fe-2),M.lineTo(le,Fe+1),M.lineTo(le-L,Fe-2),M.closePath(),M.fill(),M.beginPath(),M.moveTo(le,On-Fe+5),M.lineTo(le+L,On-Fe+2),M.lineTo(le,On-Fe-1),M.lineTo(le-L,On-Fe+2),M.closePath(),M.fill()}for(let te=1;te<4;te++){const le=Fe+te*se;M.beginPath(),M.moveTo(Fe-5,le),M.lineTo(Fe-2,le+L),M.lineTo(Fe+1,le),M.lineTo(Fe-2,le-L),M.closePath(),M.fill(),M.beginPath(),M.moveTo(wn-Fe+5,le),M.lineTo(wn-Fe+2,le+L),M.lineTo(wn-Fe-1,le),M.lineTo(wn-Fe+2,le-L),M.closePath(),M.fill()}},[f,a]),ii=(M,L,ne)=>{const se=ko[ne];if(!se||!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Le,Le*.8,0,0,Math.PI*2),M.fill();const te=M.createRadialGradient(L.x-Le*.3,L.y-Le*.3,0,L.x,L.y,Le);if(se.solid?(te.addColorStop(0,"rgba(255, 255, 255, 0.8)"),te.addColorStop(.5,se.color),te.addColorStop(1,"rgba(0, 0, 0, 0.4)")):(te.addColorStop(0,"rgba(255, 255, 255, 0.95)"),te.addColorStop(.5,"#ffffff"),te.addColorStop(1,"rgba(200, 200, 200, 0.8)")),M.fillStyle=te,M.beginPath(),M.arc(L.x,L.y,Le,0,Math.PI*2),M.fill(),!se.solid){M.save(),M.beginPath(),M.arc(L.x,L.y,Le,0,Math.PI*2),M.clip(),M.fillStyle=se.color;const pe=Le*.4;M.fillRect(L.x-pe,L.y-Le,pe*2,Le*2),M.restore()}const le=Le*.5;M.fillStyle="#ffffff",M.beginPath(),M.arc(L.x,L.y,le,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.font="bold 9px Arial",M.textAlign="center",M.textBaseline="middle",M.fillText(String(ne),L.x,L.y),M.fillStyle="rgba(255, 255, 255, 0.4)",M.beginPath(),M.arc(L.x-Le*.35,L.y-Le*.35,Le*.25,0,Math.PI*2),M.fill()},oi=(M,L)=>{if(!isFinite(L.x)||!isFinite(L.y))return;M.fillStyle="rgba(0, 0, 0, 0.3)",M.beginPath(),M.ellipse(L.x+2,L.y+2,Le,Le*.8,0,0,Math.PI*2),M.fill();const ne=M.createRadialGradient(L.x-Le*.3,L.y-Le*.3,0,L.x,L.y,Le);ne.addColorStop(0,"rgba(255, 255, 255, 1)"),ne.addColorStop(.5,"#ffffff"),ne.addColorStop(1,"rgba(220, 220, 220, 0.8)"),M.fillStyle=ne,M.beginPath(),M.arc(L.x,L.y,Le,0,Math.PI*2),M.fill(),M.fillStyle="rgba(255, 255, 255, 0.6)",M.beginPath(),M.arc(L.x-Le*.4,L.y-Le*.4,Le*.3,0,Math.PI*2),M.fill()},yl=(M,L,ne)=>{!isFinite(L)||!isFinite(ne)||(M.strokeStyle="rgba(255, 255, 255, 0.5)",M.setLineDash([4,4]),M.lineWidth=2,M.beginPath(),M.arc(L,ne,Le,0,Math.PI*2),M.stroke(),M.setLineDash([]),M.fillStyle="rgba(255, 255, 255, 0.15)",M.beginPath(),M.arc(L,ne,Le,0,Math.PI*2),M.fill())},ps=(M,L,ne,se)=>{M.strokeStyle=se,M.lineWidth=1,M.setLineDash([6,4]),M.beginPath(),M.moveTo(Fe,ne),M.lineTo(wn-Fe,ne),M.stroke(),M.beginPath(),M.moveTo(L,Fe),M.lineTo(L,On-Fe),M.stroke(),M.setLineDash([]),M.strokeStyle=se,M.lineWidth=2,M.beginPath(),M.arc(L,ne,Le+4,0,Math.PI*2),M.stroke()},nf=(M,L,ne,se,te)=>{const le=se-L,pe=te-ne,Ee=Math.atan2(pe,le),Ae=150,ye=Le+5,et=L-Math.cos(Ee)*ye,we=ne-Math.sin(Ee)*ye,nt=L-Math.cos(Ee)*Ae,It=ne-Math.sin(Ee)*Ae,$n=M.createLinearGradient(et,we,nt,It);$n.addColorStop(0,"#D2691E"),$n.addColorStop(.5,"#8B4513"),$n.addColorStop(1,"#654321"),M.strokeStyle=$n,M.lineWidth=4,M.lineCap="round",M.beginPath(),M.moveTo(et,we),M.lineTo(nt,It),M.stroke();const Wn=L-Math.cos(Ee)*(ye-3),gr=ne-Math.sin(Ee)*(ye-3);M.fillStyle="#d11111",M.beginPath(),M.arc(Wn,gr,3,0,Math.PI*2),M.fill()},rf=(M,L,ne)=>{const se=Math.sqrt(ne.x*ne.x+ne.y*ne.y);if(se===0)return;const te=ne.x/se,le=ne.y/se,pe=100,Ee=L.x+te*pe,Ae=L.y+le*pe;M.strokeStyle="rgba(209, 17, 17, 0.8)",M.lineWidth=2,M.setLineDash([5,5]),M.beginPath(),M.moveTo(L.x,L.y),M.lineTo(Ee,Ae),M.stroke(),M.setLineDash([]);const ye=8,et=Math.atan2(le,te);M.fillStyle="rgba(209, 17, 17, 0.8)",M.beginPath(),M.moveTo(Ee,Ae),M.lineTo(Ee-ye*Math.cos(et-Math.PI/6),Ae-ye*Math.sin(et-Math.PI/6)),M.lineTo(Ee-ye*Math.cos(et+Math.PI/6),Ae-ye*Math.sin(et+Math.PI/6)),M.closePath(),M.fill()},vl=(M,L)=>{if(!(L.length<2)){M.strokeStyle="rgba(255, 255, 255, 0.4)",M.lineWidth=2,M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let ne=1;ne<L.length;ne++)M.lineTo(L[ne].x,L[ne].y);M.stroke()}},zn=x.useCallback(()=>{if(g&&b&&r){const M=He(r,b);return M?{start:g,current:M}:{start:g,current:b}}if(w&&r){const M=w.angle*Math.PI/180,L=r.x+Math.cos(M)*w.distance,ne=r.y+Math.sin(M)*w.distance;return{start:{x:r.x,y:r.y},current:{x:L,y:ne}}}return null},[g,b,w,r,He]),Mo=x.useCallback(()=>{const M=zn();if(!M||!r)return 0;const L=M.current.x-r.x,ne=M.current.y-r.y;let se=Math.atan2(ne,L)*180/Math.PI;return se<0&&(se+=360),se},[zn,r]),Lr=x.useCallback(()=>{const M=zn();if(!M)return 100;const L=M.current.x-M.start.x,ne=M.current.y-M.start.y;return Math.sqrt(L*L+ne*ne)},[zn]),Ai=x.useCallback((M,L)=>{T({angle:M,distance:L})},[]),xl=x.useCallback(()=>{if(g&&b&&r){const M=b.x-r.x,L=b.y-r.y;let ne=Math.atan2(L,M)*180/Math.PI;ne<0&&(ne+=360);const se=Math.sqrt(M*M+L*L);T({angle:ne,distance:se})}},[g,b,r]),bl=x.useCallback(()=>{const M=zn();if(!M||G||!r)return{angle:null,fraction:null};const L=Mn(r.x,r.y,M.current.x,M.current.y);if(!L||!L.hitBall||!L.cueBallPosAtContact)return{angle:null,fraction:null};const ne={x:M.current.x-r.x,y:M.current.y-r.y},se={x:L.hitBall.x-L.cueBallPosAtContact.x,y:L.hitBall.y-L.cueBallPosAtContact.y},te=Dn(ne,se);return{angle:te.angle,fraction:Ro(te.fraction)}},[zn,G,r,Mn]);x.useEffect(()=>{const M=bl();it(M.angle),me(M.fraction)},[bl]);const wl=x.useCallback(()=>{const M=n.current;if(!M)return;const L=M.getContext("2d");if(!L)return;if(L.clearRect(0,0,wn,On),Pi(L),De&&Ft.length>0){const se=Ft[st];if(se.objectBalls.forEach((te,le)=>{if(!te.pocketed){const pe=kt[le];if(pe!==void 0){const Ee={x:te.x,y:te.y,vx:0,vy:0,spinX:0,spinY:0,number:pe};ii(L,Ee,pe)}}}),se.cueBall){const te={x:se.cueBall.x,y:se.cueBall.y,vx:0,vy:0,spinX:0,spinY:0};oi(L,te)}return}if(G&&z.length>0&&!De){const se=z.filter(te=>te.cueBall).map(te=>te.cueBall);se.length>0&&(L.strokeStyle="rgba(255, 255, 255, 0.3)",L.lineWidth=2,L.beginPath(),L.moveTo(se[0].x,se[0].y),se.forEach(te=>L.lineTo(te.x,te.y)),L.stroke()),kt.forEach((te,le)=>{if(te===void 0)return;const pe=z.map(Ee=>Ee.objectBalls[le]).filter(Ee=>Ee&&!Ee.pocketed);if(pe.length>0){const Ee=ko[te];L.strokeStyle=Ee.color+"80",L.lineWidth=2,L.beginPath(),L.moveTo(pe[0].x,pe[0].y),pe.forEach(Ae=>L.lineTo(Ae.x,Ae.y)),L.stroke()}})}const ne=zn();if(ne&&!G&&r){nf(L,r.x,r.y,ne.current.x,ne.current.y);const se=Mn(r.x,r.y,ne.current.x,ne.current.y);se&&(vl(L,se.path),se.objectPaths&&se.objectPaths.length>0&&se.objectPaths.forEach(te=>{if(te.length>=2){const le=te[0].color;L.strokeStyle=le+"99",L.lineWidth=2,L.setLineDash([4,4]),L.beginPath(),L.moveTo(te[0].x,te[0].y);for(let we=1;we<te.length;we++)L.lineTo(te[we].x,te[we].y);L.stroke(),L.setLineDash([]);const pe=te[te.length-1],Ee=te[Math.max(0,te.length-5)],Ae=pe.x-Ee.x,ye=pe.y-Ee.y;if(Math.sqrt(Ae*Ae+ye*ye)>5){const we=Math.atan2(ye,Ae),nt=6;L.fillStyle=le+"99",L.beginPath(),L.moveTo(pe.x,pe.y),L.lineTo(pe.x-nt*Math.cos(we-Math.PI/6),pe.y-nt*Math.sin(we-Math.PI/6)),L.lineTo(pe.x-nt*Math.cos(we+Math.PI/6),pe.y-nt*Math.sin(we+Math.PI/6)),L.closePath(),L.fill()}}}),se.hitBall&&se.cueBallPosAtContact&&se.cueBallDeflection&&(yl(L,se.cueBallPosAtContact.x,se.cueBallPosAtContact.y),rf(L,se.cueBallPosAtContact,se.cueBallDeflection)))}o.forEach((se,te)=>{if(se.number&&ii(L,se,se.number),c&&c.type==="object"&&c.index===te){const le=ko[se.number||1];ps(L,se.x,se.y,le.color)}}),r&&(oi(L,r),c&&c.type==="cue"&&ps(L,r.x,r.y,"rgba(255, 255, 255, 0.8)"))},[r,o,g,b,w,G,z,Mn,Pi,zn,c,De,st,Ft,kt]);x.useEffect(()=>{wl()},[wl]);const Z=M=>{var ye,et;const L=n.current;if(!L)return;const ne=L.getBoundingClientRect(),se=wn/ne.width,te=On/ne.height,le=(M.clientX-ne.left)*se,pe=(M.clientY-ne.top)*te,{x:Ee,y:Ae}=Y(le,pe);if(a==="cue"){if(Pe(Ee,Ae)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:Ee,y:Ae,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Pe(Ee,Ae)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const we=fe(a);if(we!==null){s(It=>[...It,{x:Ee,y:Ae,vx:0,vy:0,spinX:0,spinY:0,number:we}]);const nt=ko[we];e({title:`${nt.name} (${we}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&We({x:le,y:pe},r)<Le*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let we=0;we<o.length;we++)if(We({x:le,y:pe},o[we])<Le*2){d({type:"object",index:we});const It=o[we].number;e({title:`Drag to reposition ${It?(ye=ko[It])==null?void 0:ye.name:"ball"}`});return}e({title:"Click on a ball to reposition it"})}else if(a==="remove"){if(r&&We({x:le,y:pe},r)<Le*2){i(null),e({title:"Cue ball removed"});return}for(let we=0;we<o.length;we++)if(We({x:le,y:pe},o[we])<Le*2){const It=o[we].number,$n=It?(et=ko[It])==null?void 0:et.name:"ball";s(Wn=>Wn.filter((gr,io)=>io!==we)),e({title:`${$n} removed`});return}e({title:"Click on a ball to remove it"})}else r&&!G&&(y({x:r.x,y:r.y}),_({x:le,y:pe}))},Ve=M=>{const L=n.current;if(!L)return;const ne=L.getBoundingClientRect(),se=wn/ne.width,te=On/ne.height,le=(M.clientX-ne.left)*se,pe=(M.clientY-ne.top)*te;if(c){const{x:Ee,y:Ae}=Y(le,pe);Pe(Ee,Ae)||(c.type==="cue"&&r?i(F(D({},r),{x:Ee,y:Ae})):c.type==="object"&&c.index!==void 0&&s(ye=>ye.map((et,we)=>we===c.index?F(D({},et),{x:Ee,y:Ae}):et)))}else g&&!G&&_({x:le,y:pe})},Ze=()=>{c&&(d(null),e({title:"Ball repositioned"})),g&&b&&xl(),y(null),_(null)},Ye=x.useCallback((M,L)=>{const ne=n.current;if(!ne)return null;const se=ne.getBoundingClientRect(),te=wn/se.width,le=On/se.height,pe=(M-se.left)*te,Ee=(L-se.top)*le;return D({rawX:pe,rawY:Ee},Y(pe,Ee))},[Y]),ut=x.useCallback(M=>{var Ee,Ae;if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],ne=Ye(L.clientX,L.clientY);if(!ne)return;const{rawX:se,rawY:te,x:le,y:pe}=ne;if(a==="cue"){if(Pe(le,pe)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}i({x:le,y:pe,vx:0,vy:0,spinX:0,spinY:0}),l(null),e({title:"Cue ball placed"})}else if(a==="solid"||a==="stripe"){if(Pe(le,pe)){e({title:"Cannot place ball in pocket",variant:"destructive"});return}const ye=fe(a);if(ye!==null){s(we=>[...we,{x:le,y:pe,vx:0,vy:0,spinX:0,spinY:0,number:ye}]);const et=ko[ye];e({title:`${et.name} (${ye}) placed`})}else e({title:`No more ${a}s available`,variant:"destructive"})}else if(a==="reposition"){if(r&&We({x:se,y:te},r)<Le*2){d({type:"cue"}),e({title:"Drag to reposition cue ball"});return}for(let ye=0;ye<o.length;ye++)if(We({x:se,y:te},o[ye])<Le*2){d({type:"object",index:ye});const we=o[ye].number;e({title:`Drag to reposition ${we?(Ee=ko[we])==null?void 0:Ee.name:"ball"}`});return}e({title:"Tap on a ball to reposition it"})}else if(a==="remove"){if(r&&We({x:se,y:te},r)<Le*2){i(null),e({title:"Cue ball removed"});return}for(let ye=0;ye<o.length;ye++)if(We({x:se,y:te},o[ye])<Le*2){const we=o[ye].number,nt=we?(Ae=ko[we])==null?void 0:Ae.name:"ball";s(It=>It.filter(($n,Wn)=>Wn!==ye)),e({title:`${nt} removed`});return}e({title:"Tap on a ball to remove it"})}else r&&!G&&(y({x:r.x,y:r.y}),_({x:se,y:te}))},[r,o,a,G,Ye,fe,e]),at=x.useCallback(M=>{if(M.touches.length!==1)return;M.preventDefault();const L=M.touches[0],ne=Ye(L.clientX,L.clientY);if(!ne)return;const{rawX:se,rawY:te,x:le,y:pe}=ne;c?Pe(le,pe)||(c.type==="cue"&&r?i(F(D({},r),{x:le,y:pe})):c.type==="object"&&c.index!==void 0&&s(Ee=>Ee.map((Ae,ye)=>ye===c.index?F(D({},Ae),{x:le,y:pe}):Ae))):g&&!G&&_({x:se,y:te})},[r,c,g,G,Ye]),Ut=x.useCallback(M=>{M.preventDefault(),c&&(d(null),e({title:"Ball repositioned"})),g&&b&&xl(),y(null),_(null)},[c,g,b,xl,e]);x.useEffect(()=>{const M=n.current;if(M)return M.addEventListener("touchstart",ut,{passive:!1}),M.addEventListener("touchmove",at,{passive:!1}),M.addEventListener("touchend",Ut,{passive:!1}),M.addEventListener("touchcancel",Ut,{passive:!1}),()=>{M.removeEventListener("touchstart",ut),M.removeEventListener("touchmove",at),M.removeEventListener("touchend",Ut),M.removeEventListener("touchcancel",Ut)}},[ut,at,Ut]);const on=()=>{if(!J){e({title:"Please select a course first",variant:"destructive"});return}const M=sNe[J];if(!M)return;const ne=(te=>{const le=[...te];for(let pe=le.length-1;pe>0;pe--){const Ee=Math.floor(Math.random()*(pe+1));[le[pe],le[Ee]]=[le[Ee],le[pe]]}return le})(Array.from({length:15},(te,le)=>le+1)),se=M.balls.map((te,le)=>({x:te.x,y:te.y,vx:0,vy:0,spinX:0,spinY:0,number:ne[le]}));s(se),i({x:Ne[2],y:Ie[2],vx:0,vy:0,spinX:0,spinY:0}),T(null),U(!1),Q([]),Me(M.name),e({title:`Loaded: ${M.name}`})},en=()=>{i(null),s([]),U(!1),Q([]),Me(null),oe(""),e({title:"Table cleared"})};x.useCallback(()=>{je.current&&(cancelAnimationFrame(je.current),je.current=null),ot(!1)},[]),x.useEffect(()=>{if(!De||Ft.length===0)return;const M=2,L=16,ne=se=>{Ot.current===0&&(Ot.current=se);const te=se-Ot.current;if(te>=L){const le=Math.floor(te/L)*M,pe=Math.min(st+le,Ft.length-1);if(Lt(pe),Ot.current=se,pe>=Ft.length-1){const Ee=Ft[Ft.length-1];Ee.cueBall?i(Ae=>Ae?F(D({},Ae),{x:Ee.cueBall.x,y:Ee.cueBall.y,vx:0,vy:0}):null):i(null),s(Ae=>Ae.map((ye,et)=>{const we=Ee.objectBalls[et];return!we||we.pocketed?null:F(D({},ye),{x:we.x,y:we.y,vx:0,vy:0})}).filter(ye=>ye!==null)),ot(!1),T(null);return}}je.current=requestAnimationFrame(ne)};return je.current=requestAnimationFrame(ne),()=>{je.current&&cancelAnimationFrame(je.current)}},[De,st,Ft]);const _t=M=>{const L=M.currentTarget.getBoundingClientRect(),ne=M.clientX-L.left,se=M.clientY-L.top,te=ne/100*2-1,le=-(se/100*2-1);A(te),j(le)},Ci=(r?1:0)+o.length,si=ro().toFixed(3),Xt=Et().toFixed(3);return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(aU,{open:xe,onComplete:rn,pages:$r,toolName:"Advanced Cueing Emulator"}),u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Advanced Cueing Emulator"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Physics simulation with spin effects"})]}),u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>ee(!0),"data-testid":"button-tutorial",children:u.jsx(Bg,{className:"w-5 h-5"})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs(Ke,{className:"p-4",children:[u.jsx("canvas",{ref:n,width:wn,height:On,className:"w-full rounded-lg shadow-lg cursor-crosshair",style:{maxWidth:wn,touchAction:"none"},onMouseDown:Z,onMouseMove:Ve,onMouseUp:Ze,onMouseLeave:Ze,"data-testid":"canvas-billiard-table"}),(ze!==null||Xe!==null)&&u.jsx("div",{className:"mt-4 p-3 rounded-md bg-primary/10 border border-primary/30","data-testid":"container-cut-info",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-cut-angle",children:["Cut Angle: ",u.jsxs("span",{className:"font-mono",children:[(zt=ze==null?void 0:ze.toFixed(1))!=null?zt:"--",""]})]}),u.jsxs("span",{className:"text-primary font-semibold","data-testid":"text-ball-hit",children:["Ball Hit: ",u.jsx("span",{className:"font-mono",children:Xe!=null?Xe:"--"})]})]})})]})}),u.jsx("div",{className:"w-full lg:w-80",children:u.jsx(Ke,{className:"p-2",children:u.jsxs(zL,{type:"multiple",className:"w-full",children:[u.jsxs(tl,{value:"practice-courses",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-practice-courses",children:"Practice Courses"}),u.jsx(rl,{className:"px-2 space-y-3",children:u.jsx(pE,{isLocked:!0,featureName:"Practice Courses",variant:"overlay",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs(R$,{value:J,onValueChange:oe,children:[u.jsx(HS,{"data-testid":"select-course",children:u.jsx(M$,{placeholder:"-- Select a Course --"})}),u.jsxs(qS,{children:[u.jsx(dr,{value:"par2_01",children:"Par 2 - Course 1"}),u.jsx(dr,{value:"par2_02",children:"Par 2 - Course 2"}),u.jsx(dr,{value:"par2_03",children:"Par 2 - Course 3"}),u.jsx(dr,{value:"par3_01",children:"Par 3 - Course 1"}),u.jsx(dr,{value:"par3_02",children:"Par 3 - Course 2"}),u.jsx(dr,{value:"par3_03",children:"Par 3 - Course 3"}),u.jsx(dr,{value:"par3_04",children:"Par 3 - Course 4"}),u.jsx(dr,{value:"par4_01",children:"Par 4 - Course 1"}),u.jsx(dr,{value:"par4_02",children:"Par 4 - Course 2"}),u.jsx(dr,{value:"par4_03",children:"Par 4 - Course 3"}),u.jsx(dr,{value:"par4_04",children:"Par 4 - Course 4"}),u.jsx(dr,{value:"par4_05",children:"Par 4 - Course 5"}),u.jsx(dr,{value:"par5_01",children:"Par 5 - Course 1"}),u.jsx(dr,{value:"par5_02",children:"Par 5 - Course 2"}),u.jsx(dr,{value:"par5_03",children:"Par 5 - Course 3"}),u.jsx(dr,{value:"par6_01",children:"Par 6 - Course 1"})]})]}),u.jsx(he,{className:"w-full",onClick:on,"data-testid":"button-load-course",children:"Load Course"}),be&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Current: ",u.jsx("span",{className:"text-primary font-semibold",children:be})]})]})})})]}),u.jsxs(tl,{value:"ball-placement",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-ball-placement",children:"Ball Placement"}),u.jsxs(rl,{className:"px-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(TW,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Snap to Grid"}),u.jsx(Hi,{checked:f,onCheckedChange:h,"data-testid":"switch-snap-grid"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(he,{variant:a==="cue"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="cue"?null:"cue"),"data-testid":"button-place-cue",children:[u.jsx(EW,{className:"w-4 h-4 mr-1"}),"Cue"]}),u.jsxs(he,{variant:a==="solid"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="solid"?null:"solid"),"data-testid":"button-add-solid",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"Solid"]}),u.jsxs(he,{variant:a==="stripe"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="stripe"?null:"stripe"),"data-testid":"button-add-stripe",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-yellow-500 mr-1"}),"Stripe"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(he,{variant:a==="reposition"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="reposition"?null:"reposition"),"data-testid":"button-reposition",children:[u.jsx(OW,{className:"w-4 h-4 mr-1"}),"Move"]}),u.jsxs(he,{variant:a==="remove"?"default":"secondary",className:"flex-1",onClick:()=>l(a==="remove"?null:"remove"),"data-testid":"button-remove",children:[u.jsx(jW,{className:"w-4 h-4 mr-1"}),"Remove"]}),u.jsxs(he,{variant:"secondary",className:"flex-1",onClick:en,"data-testid":"button-clear",children:[u.jsx(Wg,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono","data-testid":"text-ball-count",children:["Balls on table: ",Ci]})]})]}),u.jsxs(tl,{value:"power-aim",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-power-aim",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(ch,{className:"w-4 h-4"}),"Power & Aim"]})}),u.jsxs(rl,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Power"}),u.jsxs("span",{className:"text-base font-mono font-semibold text-primary","data-testid":"text-power-value",children:[Math.round(S*100),"%"]})]}),u.jsx(sm,{value:[S*100],onValueChange:([M])=>N(M/100),max:100,step:1,className:"w-full","data-testid":"slider-speed"})]}),u.jsxs("div",{className:"border-t border-border pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Angle"}),w?u.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>T(null),className:"h-6 px-2 text-xs","data-testid":"button-unlock-aim",children:[u.jsx(AW,{className:"w-3 h-3 mr-1"}),"Clear"]}):u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drag to aim"})]}),w||g&&b?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-aim-angle",children:[((Nn=w==null?void 0:w.angle)!=null?Nn:Mo()).toFixed(2),""]})}),u.jsx(sm,{value:[(In=w==null?void 0:w.angle)!=null?In:Mo()],onValueChange:([M])=>{var L;return Ai(M,(L=w==null?void 0:w.distance)!=null?L:Lr())},min:0,max:360,step:.01,className:"w-full","data-testid":"slider-aim-angle"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"90"}),u.jsx("span",{children:"180"}),u.jsx("span",{children:"270"}),u.jsx("span",{children:"360"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx(he,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>{var M,L;return Ai(((M=w==null?void 0:w.angle)!=null?M:Mo())-.01,(L=w==null?void 0:w.distance)!=null?L:Lr())},"data-testid":"button-aim-left",children:" 0.01"}),u.jsx(he,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>{var M,L;return Ai(((M=w==null?void 0:w.angle)!=null?M:Mo())+.01,(L=w==null?void 0:w.distance)!=null?L:Lr())},"data-testid":"button-aim-right",children:"0.01 "})]})]}):u.jsxs("div",{className:"text-center py-3 text-muted-foreground text-sm",children:[u.jsx(_1,{className:"w-6 h-6 mx-auto mb-1 opacity-30"}),u.jsx("p",{className:"text-xs",children:"Drag on table to set aim direction"})]})]})]})]}),u.jsxs(tl,{value:"english-spin",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-english-spin",children:"English (Spin)"}),u.jsxs(rl,{className:"px-2 space-y-3",children:[u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative w-[100px] h-[100px] bg-gradient-to-br from-background to-muted border-2 border-border rounded-md cursor-crosshair",onClick:_t,"data-testid":"box-spin",children:[u.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-border -translate-x-1/2"}),u.jsx("div",{className:"absolute top-1/2 left-0 h-px w-full bg-border -translate-y-1/2"}),u.jsx("div",{className:"absolute w-3 h-3 bg-primary border-2 border-white rounded-full shadow-lg pointer-events-none",style:{left:`${(E+1)/2*100}%`,top:`${(1-C)/2*100}%`,transform:"translate(-50%, -50%)"}})]}),u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Top/Follow"}),u.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-xs text-muted-foreground",children:"Bottom/Draw"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-10 text-xs text-muted-foreground",children:"Left"}),u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-10 text-xs text-muted-foreground",children:"Right"})]})}),u.jsxs("div",{className:"flex justify-between text-xs font-mono text-muted-foreground mt-6","data-testid":"text-spin-values",children:[u.jsxs("span",{children:["x: ",E.toFixed(2)]}),u.jsxs("span",{children:["y: ",C.toFixed(2)]})]})]})]}),u.jsxs(tl,{value:"environment",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-environment",children:"Environment Settings"}),u.jsxs(rl,{className:"px-2 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Table Size"}),u.jsx("span",{className:"text-sm font-mono text-primary","data-testid":"text-table-size",children:Zt().label})]}),u.jsx("div",{className:"flex gap-1",children:["7ft","8ft","9ft","10ft"].map(M=>u.jsx(he,{variant:B===M?"default":"secondary",size:"sm",className:"flex-1 text-xs",onClick:()=>W(M),"data-testid":`button-table-${M}`,children:M},M))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cloth Speed"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cloth-value",children:[Math.round(I*100),"%"]})]}),u.jsx(sm,{value:[I*100],onValueChange:([M])=>O(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cloth"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Slow"}),u.jsx("span",{children:"Fast"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Cushion Quality"}),u.jsxs("span",{className:"text-sm font-mono text-primary","data-testid":"text-cushion-value",children:[Math.round(R*100),"%"]})]}),u.jsx(sm,{value:[R*100],onValueChange:([M])=>H(M/100),max:100,step:1,className:"w-full","data-testid":"slider-cushion"}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Dead"}),u.jsx("span",{children:"Lively"})]})]}),u.jsxs("div",{className:"pt-2 border-t border-border",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[u.jsx(DW,{className:"w-3 h-3"}),"Table Presets"]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"Tap to load, hold to save"})]}),u.jsx("div",{className:"flex gap-2",children:[0,1,2].map(M=>{const L=re[M];return u.jsx("button",{className:`flex-1 py-2 px-3 rounded-md border text-xs font-mono transition-all select-none ${L?"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20":"bg-muted/30 border-border text-muted-foreground hover:bg-muted/50"}`,onMouseDown:()=>mr(M),onMouseUp:()=>Kr(M),onMouseLeave:()=>{ve.current&&(clearTimeout(ve.current),ve.current=null)},onTouchStart:()=>mr(M),onTouchEnd:()=>Kr(M),"data-testid":`button-preset-${M+1}`,children:L?u.jsxs("span",{children:[Math.round(L.clothSpeed*100),"/",Math.round(L.cushionQuality*100)]}):u.jsx("span",{children:"--"})},M)})})]})]})]}),u.jsxs(tl,{value:"physics",className:"border-b-0",children:[u.jsx(nl,{className:"py-3 px-2 text-sm font-semibold uppercase tracking-wide text-muted-foreground hover:no-underline","data-testid":"accordion-physics",children:"Physics Coefficients"}),u.jsx(rl,{className:"px-2",children:u.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border border-border space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Restitution (e):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-e",children:si})]}),u.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[u.jsx("span",{className:"text-muted-foreground",children:"Friction (c):"}),u.jsx("span",{className:"text-primary font-semibold","data-testid":"text-coeff-mu",children:Xt})]})]})})]})]})})})]})})})]})}function lNe(){const[,t]=Ia(),[e,n]=x.useState(null);x.useEffect(()=>{n(Dt.getAggregatedStats())},[]);const r=s=>{const a=Math.floor(s/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),d=a%60;return l>0?`${l}h ${c}m`:c>0?`${c}m ${d}s`:`${d}s`},i=s=>s?new Date(s).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",o=e&&(e.totalSessions>0||Dt.hasAnyConsent());return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold",children:"Your Insights"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal performance analytics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!Dt.hasAnyConsent()&&u.jsx(Ke,{className:"p-4 bg-primary/5 border-primary/20",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ja,{className:"w-5 h-5 text-primary mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Analytics Disabled"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable analytics in Settings to track your performance and see insights here."}),u.jsx(he,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/"),"data-testid":"button-go-settings",children:"Go to Settings"})]})]})}),e&&u.jsxs(u.Fragment,{children:[u.jsx(Ke,{className:"p-5 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary/20 rounded-xl",children:u.jsx(E1,{className:"w-8 h-8 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Hg,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Total Time Played"})]}),u.jsx("div",{className:"flex items-baseline gap-1","data-testid":"text-total-time-played",children:(()=>{const s=Math.floor(e.totalTimeMs/1e3),a=Math.floor(s/3600),l=Math.floor(s%3600/60),c=s%60;return u.jsxs(u.Fragment,{children:[a>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-3xl font-bold text-foreground",children:a}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"h"})]}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:l}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground mr-2",children:"m"}),u.jsx("span",{className:"text-3xl font-bold text-foreground",children:c}),u.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"s"})]})})()})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(rh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:e.totalSessions})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(oh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Time Per Session"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-avg-session-time",children:e.totalSessions>0?r(e.totalTimeMs/e.totalSessions):"0s"})]})]}),e.lastActive>0&&u.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Last active: ",i(e.lastActive)]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(BW,{className:"w-4 h-4 text-primary"}),"Module Usage"]}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.moduleUsage).length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No module usage recorded yet. Start using the tools!"}):Object.entries(e.moduleUsage).map(([s,a])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-sm font-medium capitalize",children:s})}),u.jsxs("div",{className:"text-right",children:[u.jsxs("span",{className:"text-sm font-mono",children:[a.sessions," sessions"]}),u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",r(a.timeMs),")"]})]})]},s))})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(ch,{className:"w-4 h-4 text-primary"}),"Tempo Stats"]}),e.skillMetrics.tempo.totalShots===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No shot clock data yet. Use Tempo to track your timing!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold","data-testid":"text-avg-shot-time",children:[e.skillMetrics.tempo.avgShotTime.toFixed(1),"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-shots",children:e.skillMetrics.tempo.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tempo-sessions",children:e.skillMetrics.tempo.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(hk,{className:"w-4 h-4 text-primary"}),"Velocity Stats"]}),e.skillMetrics.velocity.breaksRecorded===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No break speed data yet. Use Velocity to measure your breaks!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-break",children:e.skillMetrics.velocity.avgBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-max-break",children:e.skillMetrics.velocity.maxBreakSpeed.toFixed(1)}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-breaks-recorded",children:e.skillMetrics.velocity.breaksRecorded}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(rh,{className:"w-4 h-4 text-primary"}),"Vectors Stats"]}),e.skillMetrics.vectors.shotsSimulated===0&&e.skillMetrics.vectors.sessionsPlayed===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No cueing simulation data yet. Use Vectors to practice shots!"}):u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-shots-simulated",children:e.skillMetrics.vectors.shotsSimulated}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Shots"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-power",children:e.skillMetrics.vectors.avgPower>0?`${(e.skillMetrics.vectors.avgPower*100).toFixed(0)}%`:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Power"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-vectors-sessions",children:e.skillMetrics.vectors.sessionsPlayed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(rh,{className:"w-4 h-4 text-primary"}),"TrueLevel Stats"]}),e.skillMetrics.truelevel.calibrationsPerformed===0&&e.skillMetrics.truelevel.tablesChecked===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No level data yet. Use TrueLevel to calibrate tables!"}):u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-calibrations",children:e.skillMetrics.truelevel.calibrationsPerformed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Calibrations"})]}),u.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold","data-testid":"text-tables-checked",children:e.skillMetrics.truelevel.tablesChecked}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tables Checked"})]})]})]})]}),!o&&Dt.hasAnyConsent()&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ja,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Start using CueMaster tools to see your insights here."})]})]})})]})}function cNe(){const[,t]=Ia(),[e,n]=x.useState(""),[r,i]=x.useState(!1),[o,s]=x.useState(!1),[a,l]=x.useState(null),[c,d]=x.useState(null),f=()=>V(this,null,function*(){if(e){s(!0),l(null);try{const m=yield fetch(`/api/analytics/admin?secret=${encodeURIComponent(e)}`);if(m.status===401){l("Invalid admin secret"),i(!1);return}if(!m.ok)throw new Error("Failed to fetch analytics");const v=yield m.json();d(v),i(!0),localStorage.setItem("admin_secret",e)}catch(m){l(m instanceof Error?m.message:"Unknown error")}finally{s(!1)}}});x.useEffect(()=>{const m=localStorage.getItem("admin_secret");m&&n(m)},[]),x.useEffect(()=>{e&&!r&&!o&&localStorage.getItem("admin_secret")===e&&f()},[e]);const h=m=>{m.preventDefault(),f()};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[u.jsx(Ug,{className:"w-5 h-5 text-primary"}),"Admin Analytics"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Aggregate user statistics"})]}),r&&u.jsx(he,{variant:"outline",size:"icon",onClick:f,disabled:o,"data-testid":"button-refresh",children:u.jsx(RW,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[!r&&u.jsxs(Ke,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ug,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Admin Authentication"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(fr,{type:"password",placeholder:"Enter admin secret",value:e,onChange:m=>n(m.target.value),"data-testid":"input-admin-secret"})}),a&&u.jsx("p",{className:"text-sm text-destructive",children:a}),u.jsx(he,{type:"submit",className:"w-full",disabled:o||!e,"data-testid":"button-authenticate",children:o?"Authenticating...":"Access Dashboard"})]})]}),r&&c&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(pu,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Users"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-unique-users",children:c.uniqueUsers})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(ja,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Submissions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-submissions",children:c.totalSubmissions})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(rh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Sessions"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-sessions",children:c.aggregateStats.totalSessions})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[u.jsx(oh,{className:"w-4 h-4"}),u.jsx("span",{className:"text-xs font-medium uppercase",children:"Hours"})]}),u.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:c.aggregateStats.totalTimeHours})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(ch,{className:"w-4 h-4 text-primary"}),"Tempo Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsxs("p",{className:"text-lg font-bold",children:[c.aggregateStats.avgShotTime,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Shot Time"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalShots}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Shots Timed"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(hk,{className:"w-4 h-4 text-primary"}),"Velocity Aggregates"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.avgBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.maxBreakSpeed}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Max MPH"})]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalBreaks}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Breaks"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold text-sm mb-4 flex items-center gap-2",children:[u.jsx(rh,{className:"w-4 h-4 text-primary"}),"Other Stats"]}),u.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[u.jsx("p",{className:"text-lg font-bold",children:c.aggregateStats.totalCalibrations}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"TrueLevel Calibrations"})]})]}),c.recentSubmissions.length>0&&u.jsxs(Ke,{className:"p-4",children:[u.jsx("h3",{className:"font-semibold text-sm mb-4",children:"Recent Submissions"}),u.jsx("div",{className:"space-y-2",children:c.recentSubmissions.map((m,v)=>u.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[u.jsx("span",{className:"font-mono text-muted-foreground",children:m.anonymousId}),u.jsxs("span",{children:[m.sessions," sessions"]}),u.jsxs("span",{className:"text-muted-foreground",children:[m.timeMin," min"]})]},v))})]}),c.totalSubmissions===0&&u.jsxs(Ke,{className:"p-6 text-center",children:[u.jsx(ja,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),u.jsx("h3",{className:"font-semibold mb-2",children:"No Data Yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics will appear here when users with benchmarking consent submit their data."})]})]})]})})]})}const uNe=.0254,dNe=.02,fNe=.005;function hNe(){var wt,kt,_n;const[,t]=Ia(),[e,n]=x.useState(!1),[r,i]=x.useState("Click Start to begin"),[o,s]=x.useState(0),[a,l]=x.useState(.05),[c,d]=x.useState(.22),[f,h]=x.useState(0),[m,v]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,T]=x.useState(null),[S,N]=x.useState(null),[E,A]=x.useState([]),[C,j]=x.useState(0),[I,O]=x.useState(60),[R,H]=x.useState(.22),[B,W]=x.useState(2.8),[G,U]=x.useState(.06),[z,Q]=x.useState(.01),[J,oe]=x.useState(.25),[be,Me]=x.useState(300),[ze,it]=x.useState(6e3),Xe=x.useRef(null),me=x.useRef(null),re=x.useRef(!1),Se=x.useRef(.05),xe=x.useRef(0),ee=x.useRef(null),ve=x.useCallback(je=>{A(Ot=>[je,...Ot].slice(0,100))},[]),De=()=>V(this,null,function*(){i("Requesting microphone..."),A([]),h(0),v(null),y(null),_(null),N(null),T(null),Se.current=.05,xe.current=0,ee.current=null;try{const je=yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,channelCount:1,sampleRate:48e3}});me.current=je;const Ot=new AudioContext({sampleRate:48e3});Xe.current=Ot,Ot.state==="suspended"&&(yield Ot.resume()),i(`AudioContext: ${Ot.state}`);const $r=Ot.createMediaStreamSource(je),rn=Ot.createBiquadFilter();rn.type="highpass",rn.frequency.value=be;const Gr=Ot.createBiquadFilter();Gr.type="lowpass",Gr.frequency.value=ze;const Ti=Ot.createAnalyser();Ti.fftSize=2048,$r.connect(rn),rn.connect(Gr),Gr.connect(Ti),re.current=!0,n(!0),ve({type:"info",time:0,max:0,thresh:0,floor:0});const mr=new Float32Array(Ti.fftSize);let Kr=0;const ro=()=>{if(!re.current)return;Kr++,Kr%30===0&&(j(Kr),i(`Listening (frame ${Kr})`)),Ti.getFloatTimeDomainData(mr);let Zt=0;for(let Yt=0;Yt<mr.length;Yt++)Zt=Math.max(Zt,Math.abs(mr[Yt]));Kr<=3&&ve({type:"debug",time:Ot.currentTime,max:Zt,thresh:0,floor:Se.current});const Cn=Se.current;Se.current=Zt>Cn?Cn+dNe*(Zt-Cn):Cn-fNe*(Cn-Zt),Se.current=Math.max(.02,Math.min(.6,Se.current));const Et=Ot.currentTime,yn=Math.max(R,Se.current*B);if(s(Zt),l(Se.current),d(yn),Zt>yn&&Et-xe.current>G)if(xe.current=Et,h(Yt=>Yt+1),T(Zt),ee.current===null)ee.current=Et,v(Et),ve({type:"tip",time:Et,max:Zt,thresh:yn,floor:Se.current});else{const Yt=Et-ee.current;if(y(Et),_(Yt),Yt>=z&&Yt<=J){ve({type:"rack",time:Et,max:Zt,thresh:yn,floor:Se.current,deltaT:Yt});const Pe=I*uNe/Yt*2.23693629;N(Pe),ee.current=null}else ve({type:"rejected",time:Et,max:Zt,thresh:yn,floor:Se.current,deltaT:Yt,reason:Yt<z?"too fast":"too slow"}),Yt>J&&(ee.current=Et,v(Et))}requestAnimationFrame(ro)};requestAnimationFrame(ro)}catch(je){console.error(je),i(`ERROR: ${je.message}`),n(!1)}}),ot=()=>{re.current=!1,me.current&&me.current.getTracks().forEach(je=>je.stop()),Xe.current&&Xe.current.close(),n(!1),i("Stopped")},st=()=>{A([]),h(0),v(null),y(null),_(null),N(null),T(null)},Lt=()=>{const je={exportedAt:new Date().toISOString(),config:{distanceIn:I,minThresh:R,floorMult:B,refractTime:G,minDeltaT:z,maxDeltaT:J,hpfFreq:be,lpfFreq:ze},peaks:E},Ot=new Blob([JSON.stringify(je,null,2)],{type:"application/json"}),$r=URL.createObjectURL(Ot),rn=document.createElement("a");rn.href=$r,rn.download=`break-debug-${Date.now()}.json`,rn.click(),URL.revokeObjectURL($r)};x.useEffect(()=>()=>{re.current=!1,me.current&&me.current.getTracks().forEach(je=>je.stop()),Xe.current&&Xe.current.close()},[]);const Ft=je=>{switch(je){case"tip":return"text-yellow-500";case"rack":return"text-primary font-bold";case"rejected":return"text-muted-foreground";case"debug":return"text-blue-400";default:return"text-muted-foreground"}};return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsxs("header",{className:"flex items-center gap-4 p-4 border-b",children:[u.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t("/"),"data-testid":"button-back",children:u.jsx(Bo,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-primary",children:"Audio Debugger"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Break speed detection diagnostics"})]})]}),u.jsx("main",{className:"flex-1 p-4 overflow-auto",children:u.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(he,{onClick:e?ot:De,variant:e?"destructive":"default","data-testid":"button-toggle-listen",children:[e?u.jsx(NW,{className:"w-4 h-4 mr-2"}):u.jsx(IW,{className:"w-4 h-4 mr-2"}),e?"Stop":"Start Listening"]}),u.jsxs(he,{variant:"secondary",onClick:st,"data-testid":"button-clear",children:[u.jsx(Wg,{className:"w-4 h-4 mr-2"}),"Clear"]}),u.jsxs(he,{variant:"secondary",onClick:Lt,"data-testid":"button-export",children:[u.jsx(ak,{className:"w-4 h-4 mr-2"}),"Export"]})]}),u.jsxs(Ke,{className:"p-4 bg-muted/30",children:[u.jsxs("p",{className:"text-sm font-mono","data-testid":"text-mic-status",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",u.jsx("span",{className:e?"text-green-500":"text-muted-foreground",children:r})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Frame: ",C]})]}),S!==null&&u.jsxs(Ke,{className:"p-6 bg-gradient-to-br from-primary/20 to-primary/5 border-primary/30 text-center",children:[u.jsx("p",{className:"text-sm text-primary uppercase tracking-wide",children:"Break Detected"}),u.jsxs("p",{className:"text-4xl font-bold","data-testid":"text-result-mph",children:[S.toFixed(1)," mph"]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Delta: ",b==null?void 0:b.toFixed(4),"s | Distance: ",I,'"']})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Audio Levels"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Current"}),u.jsxs("div",{className:"flex-1 h-6 bg-muted rounded overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 transition-all",style:{width:`${Math.min(o*100,100)}%`}}),u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white",style:{left:`${c*100}%`}})]}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:o.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Floor"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${a*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:a.toFixed(3)})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs w-16",children:"Thresh"}),u.jsx("div",{className:"flex-1 h-4 bg-muted rounded overflow-hidden",children:u.jsx("div",{className:"h-full bg-yellow-500 transition-all",style:{width:`${c*100}%`}})}),u.jsx("span",{className:"text-xs font-mono w-14 text-right",children:c.toFixed(3)})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Detection Stats"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold text-primary",children:f}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Peaks"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(wt=m==null?void 0:m.toFixed(3))!=null?wt:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip Time"})]}),u.jsxs("div",{className:"bg-muted/50 p-2 rounded",children:[u.jsx("p",{className:"text-lg font-bold font-mono",children:(kt=b==null?void 0:b.toFixed(4))!=null?kt:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Delta T"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["Last peak max: ",(_n=w==null?void 0:w.toFixed(4))!=null?_n:"-"]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Configuration"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Distance (in)"}),u.jsx(fr,{type:"number",value:I,onChange:je=>O(+je.target.value),className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Min Threshold"}),u.jsx(fr,{type:"number",value:R,onChange:je=>H(+je.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Floor Multiplier"}),u.jsx(fr,{type:"number",value:B,onChange:je=>W(+je.target.value),step:"0.1",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Refractory (s)"}),u.jsx(fr,{type:"number",value:G,onChange:je=>U(+je.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Min Delta T (s)"}),u.jsx(fr,{type:"number",value:z,onChange:je=>Q(+je.target.value),step:"0.005",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"Max Delta T (s)"}),u.jsx(fr,{type:"number",value:J,onChange:je=>oe(+je.target.value),step:"0.01",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"HPF Freq (Hz)"}),u.jsx(fr,{type:"number",value:be,onChange:je=>Me(+je.target.value),step:"50",className:"h-8"})]}),u.jsxs("div",{children:[u.jsx(xn,{className:"text-xs",children:"LPF Freq (Hz)"}),u.jsx(fr,{type:"number",value:ze,onChange:je=>it(+je.target.value),step:"100",className:"h-8"})]})]})]}),u.jsxs(Ke,{className:"p-4",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase text-muted-foreground mb-3",children:"Peak Log"}),u.jsx("div",{className:"max-h-48 overflow-y-auto bg-background rounded p-2 font-mono text-xs space-y-1",children:E.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No peaks detected yet"}):E.map((je,Ot)=>u.jsxs("div",{className:`flex justify-between ${Ft(je.type)}`,children:[u.jsxs("span",{children:[je.type.toUpperCase()," @ ",je.time.toFixed(4),"s"]}),u.jsxs("span",{children:["max: ",je.max.toFixed(4)," ",je.deltaT?`dt: ${je.deltaT.toFixed(4)}`:""," ",je.reason||""]})]},Ot))})]})]})})]})}function pNe(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Ke,{className:"w-full max-w-md mx-4",children:u.jsxs(iD,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(SW,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const mNe=typeof window!="undefined"&&(window.location.protocol==="file:"||window.location.pathname.endsWith(".html")||window.location.hostname.endsWith(".github.io")),gNe=t=>{window.location.hash=t},yNe=t=>(window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)),vNe=()=>window.location.hash.replace(/^#/,"")||"/";function xNe(){const t=x.useSyncExternalStore(yNe,vNe,()=>"/"),e=x.useCallback(n=>gNe(n),[]);return[t,e]}function bNe(){return u.jsx(cj,{hook:mNe?xNe:void 0,children:u.jsxs(Kz,{children:[u.jsx(Os,{path:"/",component:Kne}),u.jsx(Os,{path:"/break-speed",component:wre}),u.jsx(Os,{path:"/shot-clock",component:DCe}),u.jsx(Os,{path:"/table-level",component:LCe}),u.jsx(Os,{path:"/cue-emulator",component:aNe}),u.jsx(Os,{path:"/insights",component:lNe}),u.jsx(Os,{path:"/admin/analytics",component:cNe}),u.jsx(Os,{path:"/debug/audio",component:hNe}),u.jsx(Os,{component:pNe})]})})}function wNe(){return u.jsx(v7,{client:w7,children:u.jsx(Xq,{children:u.jsx(fee,{children:u.jsxs(Kq,{children:[u.jsx(_H,{}),u.jsx(bNe,{})]})})})})}GI(document.getElementById("root")).render(u.jsx(wNe,{}))})();
